"use strict";(self.webpackChunkjson_nets=self.webpackChunkjson_nets||[]).push([[8401],{78401:(e,t,i)=>{i.r(t),i.d(t,{Adapter:()=>h,CodeActionAdaptor:()=>N,DefinitionAdapter:()=>v,DiagnosticsAdapter:()=>_,FormatAdapter:()=>P,FormatHelper:()=>T,FormatOnTypeAdapter:()=>O,InlayHintsAdapter:()=>M,Kind:()=>D,LibFiles:()=>f,OccurrencesAdapter:()=>x,OutlineAdapter:()=>A,QuickInfoAdapter:()=>k,ReferenceAdapter:()=>C,RenameAdapter:()=>K,SignatureHelpAdapter:()=>S,SuggestAdapter:()=>y,WorkerManager:()=>g,flattenDiagnosticMessageText:()=>m,getJavaScriptWorker:()=>H,getTypeScriptWorker:()=>V,setupJavaScript:()=>E,setupTypeScript:()=>R});var s=i(50158),r=i(39585),n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,l=Object.prototype.hasOwnProperty,c=(e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))l.call(e,r)||r===i||n(e,r,{get:()=>t[r],enumerable:!(s=a(t,r))||s.enumerable});return e},d=(e,t,i)=>(((e,t,i)=>{t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i),u={};c(u,s,"default");var g=class{constructor(e,t){this._modeId=e,this._defaults=t,this._worker=null,this._client=null,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker())),this._updateExtraLibsToken=0,this._extraLibsChangeListener=this._defaults.onDidExtraLibsChange((()=>this._updateExtraLibs()))}_configChangeListener;_updateExtraLibsToken;_extraLibsChangeListener;_worker;_client;dispose(){this._configChangeListener.dispose(),this._extraLibsChangeListener.dispose(),this._stopWorker()}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}async _updateExtraLibs(){if(!this._worker)return;const e=++this._updateExtraLibsToken,t=await this._worker.getProxy();this._updateExtraLibsToken===e&&t.updateExtraLibs(this._defaults.getExtraLibs())}_getClient(){return this._client||(this._client=(async()=>(this._worker=u.editor.createWebWorker({moduleId:"vs/language/typescript/tsWorker",label:this._modeId,keepIdleModels:!0,createData:{compilerOptions:this._defaults.getCompilerOptions(),extraLibs:this._defaults.getExtraLibs(),customWorkerPath:this._defaults.workerOptions.customWorkerPath,inlayHintsOptions:this._defaults.inlayHintsOptions}}),this._defaults.getEagerModelSync()?await this._worker.withSyncedResources(u.editor.getModels().filter((e=>e.getLanguageId()===this._modeId)).map((e=>e.uri))):await this._worker.getProxy()))()),this._client}async getLanguageServiceWorker(...e){const t=await this._getClient();return this._worker&&await this._worker.withSyncedResources(e),t}},p={};function m(e,t,i=0){if("string"==typeof e)return e;if(void 0===e)return"";let s="";if(i){s+=t;for(let e=0;e<i;e++)s+="  "}if(s+=e.messageText,i++,e.next)for(const r of e.next)s+=m(r,t,i);return s}function b(e){return e?e.map((e=>e.text)).join(""):""}p["lib.d.ts"]=!0,p["lib.dom.d.ts"]=!0,p["lib.dom.iterable.d.ts"]=!0,p["lib.es2015.collection.d.ts"]=!0,p["lib.es2015.core.d.ts"]=!0,p["lib.es2015.d.ts"]=!0,p["lib.es2015.generator.d.ts"]=!0,p["lib.es2015.iterable.d.ts"]=!0,p["lib.es2015.promise.d.ts"]=!0,p["lib.es2015.proxy.d.ts"]=!0,p["lib.es2015.reflect.d.ts"]=!0,p["lib.es2015.symbol.d.ts"]=!0,p["lib.es2015.symbol.wellknown.d.ts"]=!0,p["lib.es2016.array.include.d.ts"]=!0,p["lib.es2016.d.ts"]=!0,p["lib.es2016.full.d.ts"]=!0,p["lib.es2017.d.ts"]=!0,p["lib.es2017.full.d.ts"]=!0,p["lib.es2017.intl.d.ts"]=!0,p["lib.es2017.object.d.ts"]=!0,p["lib.es2017.sharedmemory.d.ts"]=!0,p["lib.es2017.string.d.ts"]=!0,p["lib.es2017.typedarrays.d.ts"]=!0,p["lib.es2018.asyncgenerator.d.ts"]=!0,p["lib.es2018.asynciterable.d.ts"]=!0,p["lib.es2018.d.ts"]=!0,p["lib.es2018.full.d.ts"]=!0,p["lib.es2018.intl.d.ts"]=!0,p["lib.es2018.promise.d.ts"]=!0,p["lib.es2018.regexp.d.ts"]=!0,p["lib.es2019.array.d.ts"]=!0,p["lib.es2019.d.ts"]=!0,p["lib.es2019.full.d.ts"]=!0,p["lib.es2019.object.d.ts"]=!0,p["lib.es2019.string.d.ts"]=!0,p["lib.es2019.symbol.d.ts"]=!0,p["lib.es2020.bigint.d.ts"]=!0,p["lib.es2020.d.ts"]=!0,p["lib.es2020.full.d.ts"]=!0,p["lib.es2020.intl.d.ts"]=!0,p["lib.es2020.promise.d.ts"]=!0,p["lib.es2020.sharedmemory.d.ts"]=!0,p["lib.es2020.string.d.ts"]=!0,p["lib.es2020.symbol.wellknown.d.ts"]=!0,p["lib.es2021.d.ts"]=!0,p["lib.es2021.full.d.ts"]=!0,p["lib.es2021.intl.d.ts"]=!0,p["lib.es2021.promise.d.ts"]=!0,p["lib.es2021.string.d.ts"]=!0,p["lib.es2021.weakref.d.ts"]=!0,p["lib.es5.d.ts"]=!0,p["lib.es6.d.ts"]=!0,p["lib.esnext.d.ts"]=!0,p["lib.esnext.full.d.ts"]=!0,p["lib.esnext.intl.d.ts"]=!0,p["lib.esnext.promise.d.ts"]=!0,p["lib.esnext.string.d.ts"]=!0,p["lib.esnext.weakref.d.ts"]=!0,p["lib.scripthost.d.ts"]=!0,p["lib.webworker.d.ts"]=!0,p["lib.webworker.importscripts.d.ts"]=!0,p["lib.webworker.iterable.d.ts"]=!0;var h=class{constructor(e){this._worker=e}_textSpanToRange(e,t){let i=e.getPositionAt(t.start),s=e.getPositionAt(t.start+t.length),{lineNumber:r,column:n}=i,{lineNumber:a,column:o}=s;return{startLineNumber:r,startColumn:n,endLineNumber:a,endColumn:o}}},f=class{constructor(e){this._worker=e,this._libFiles={},this._hasFetchedLibFiles=!1,this._fetchLibFilesPromise=null}_libFiles;_hasFetchedLibFiles;_fetchLibFilesPromise;isLibFile(e){return!!e&&0===e.path.indexOf("/lib.")&&!!p[e.path.slice(1)]}getOrCreateModel(e){const t=u.Uri.parse(e),i=u.editor.getModel(t);if(i)return i;if(this.isLibFile(t)&&this._hasFetchedLibFiles)return u.editor.createModel(this._libFiles[t.path.slice(1)],"typescript",t);const s=r.TG.getExtraLibs()[e];return s?u.editor.createModel(s.content,"typescript",t):null}_containsLibFile(e){for(let t of e)if(this.isLibFile(t))return!0;return!1}async fetchLibFilesIfNecessary(e){this._containsLibFile(e)&&await this._fetchLibFiles()}_fetchLibFiles(){return this._fetchLibFilesPromise||(this._fetchLibFilesPromise=this._worker().then((e=>e.getLibFiles())).then((e=>{this._hasFetchedLibFiles=!0,this._libFiles=e}))),this._fetchLibFilesPromise}},_=class extends h{constructor(e,t,i,s){super(s),this._libFiles=e,this._defaults=t,this._selector=i;const r=e=>{if(e.getLanguageId()!==i)return;const t=()=>{const{onlyVisible:t}=this._defaults.getDiagnosticsOptions();t?e.isAttachedToEditor()&&this._doValidate(e):this._doValidate(e)};let s;const r=e.onDidChangeContent((()=>{clearTimeout(s),s=window.setTimeout(t,500)})),n=e.onDidChangeAttached((()=>{const{onlyVisible:i}=this._defaults.getDiagnosticsOptions();i&&(e.isAttachedToEditor()?t():u.editor.setModelMarkers(e,this._selector,[]))}));this._listener[e.uri.toString()]={dispose(){r.dispose(),n.dispose(),clearTimeout(s)}},t()},n=e=>{u.editor.setModelMarkers(e,this._selector,[]);const t=e.uri.toString();this._listener[t]&&(this._listener[t].dispose(),delete this._listener[t])};this._disposables.push(u.editor.onDidCreateModel((e=>r(e)))),this._disposables.push(u.editor.onWillDisposeModel(n)),this._disposables.push(u.editor.onDidChangeModelLanguage((e=>{n(e.model),r(e.model)}))),this._disposables.push({dispose(){for(const e of u.editor.getModels())n(e)}});const a=()=>{for(const e of u.editor.getModels())n(e),r(e)};this._disposables.push(this._defaults.onDidChange(a)),this._disposables.push(this._defaults.onDidExtraLibsChange(a)),u.editor.getModels().forEach((e=>r(e)))}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((e=>e&&e.dispose())),this._disposables=[]}async _doValidate(e){const t=await this._worker(e.uri);if(e.isDisposed())return;const i=[],{noSyntaxValidation:s,noSemanticValidation:r,noSuggestionDiagnostics:n}=this._defaults.getDiagnosticsOptions();s||i.push(t.getSyntacticDiagnostics(e.uri.toString())),r||i.push(t.getSemanticDiagnostics(e.uri.toString())),n||i.push(t.getSuggestionDiagnostics(e.uri.toString()));const a=await Promise.all(i);if(!a||e.isDisposed())return;const o=a.reduce(((e,t)=>t.concat(e)),[]).filter((e=>-1===(this._defaults.getDiagnosticsOptions().diagnosticCodesToIgnore||[]).indexOf(e.code))),l=o.map((e=>e.relatedInformation||[])).reduce(((e,t)=>t.concat(e)),[]).map((e=>e.file?u.Uri.parse(e.file.fileName):null));await this._libFiles.fetchLibFilesIfNecessary(l),e.isDisposed()||u.editor.setModelMarkers(e,this._selector,o.map((t=>this._convertDiagnostics(e,t))))}_convertDiagnostics(e,t){const i=t.start||0,s=t.length||1,{lineNumber:r,column:n}=e.getPositionAt(i),{lineNumber:a,column:o}=e.getPositionAt(i+s),l=[];return t.reportsUnnecessary&&l.push(u.MarkerTag.Unnecessary),t.reportsDeprecated&&l.push(u.MarkerTag.Deprecated),{severity:this._tsDiagnosticCategoryToMarkerSeverity(t.category),startLineNumber:r,startColumn:n,endLineNumber:a,endColumn:o,message:m(t.messageText,"\n"),code:t.code.toString(),tags:l,relatedInformation:this._convertRelatedInformation(e,t.relatedInformation)}}_convertRelatedInformation(e,t){if(!t)return[];const i=[];return t.forEach((t=>{let s=e;if(t.file&&(s=this._libFiles.getOrCreateModel(t.file.fileName)),!s)return;const r=t.start||0,n=t.length||1,{lineNumber:a,column:o}=s.getPositionAt(r),{lineNumber:l,column:c}=s.getPositionAt(r+n);i.push({resource:s.uri,startLineNumber:a,startColumn:o,endLineNumber:l,endColumn:c,message:m(t.messageText,"\n")})})),i}_tsDiagnosticCategoryToMarkerSeverity(e){switch(e){case 1:return u.MarkerSeverity.Error;case 3:return u.MarkerSeverity.Info;case 0:return u.MarkerSeverity.Warning;case 2:return u.MarkerSeverity.Hint}return u.MarkerSeverity.Info}},y=class extends h{get triggerCharacters(){return["."]}async provideCompletionItems(e,t,i,s){const r=e.getWordUntilPosition(t),n=new u.Range(t.lineNumber,r.startColumn,t.lineNumber,r.endColumn),a=e.uri,o=e.getOffsetAt(t),l=await this._worker(a);if(e.isDisposed())return;const c=await l.getCompletionsAtPosition(a.toString(),o);return c&&!e.isDisposed()?{suggestions:c.entries.map((i=>{let s=n;if(i.replacementSpan){const t=e.getPositionAt(i.replacementSpan.start),r=e.getPositionAt(i.replacementSpan.start+i.replacementSpan.length);s=new u.Range(t.lineNumber,t.column,r.lineNumber,r.column)}const r=[];return-1!==i.kindModifiers?.indexOf("deprecated")&&r.push(u.languages.CompletionItemTag.Deprecated),{uri:a,position:t,offset:o,range:s,label:i.name,insertText:i.name,sortText:i.sortText,kind:y.convertKind(i.kind),tags:r}}))}:void 0}async resolveCompletionItem(e,t){const i=e,s=i.uri,r=i.position,n=i.offset,a=await this._worker(s),o=await a.getCompletionEntryDetails(s.toString(),n,i.label);return o?{uri:s,position:r,label:o.name,kind:y.convertKind(o.kind),detail:b(o.displayParts),documentation:{value:y.createDocumentationString(o)}}:i}static convertKind(e){switch(e){case D.primitiveType:case D.keyword:return u.languages.CompletionItemKind.Keyword;case D.variable:case D.localVariable:return u.languages.CompletionItemKind.Variable;case D.memberVariable:case D.memberGetAccessor:case D.memberSetAccessor:return u.languages.CompletionItemKind.Field;case D.function:case D.memberFunction:case D.constructSignature:case D.callSignature:case D.indexSignature:return u.languages.CompletionItemKind.Function;case D.enum:return u.languages.CompletionItemKind.Enum;case D.module:return u.languages.CompletionItemKind.Module;case D.class:return u.languages.CompletionItemKind.Class;case D.interface:return u.languages.CompletionItemKind.Interface;case D.warning:return u.languages.CompletionItemKind.File}return u.languages.CompletionItemKind.Property}static createDocumentationString(e){let t=b(e.documentation);if(e.tags)for(const i of e.tags)t+=`\n\n${w(i)}`;return t}};function w(e){let t=`*@${e.name}*`;if("param"===e.name&&e.text){const[i,...s]=e.text;t+=`\`${i.text}\``,s.length>0&&(t+=` — ${s.map((e=>e.text)).join(" ")}`)}else Array.isArray(e.text)?t+=` — ${e.text.map((e=>e.text)).join(" ")}`:e.text&&(t+=` — ${e.text}`);return t}var S=class extends h{signatureHelpTriggerCharacters=["(",","];static _toSignatureHelpTriggerReason(e){switch(e.triggerKind){case u.languages.SignatureHelpTriggerKind.TriggerCharacter:return e.triggerCharacter?e.isRetrigger?{kind:"retrigger",triggerCharacter:e.triggerCharacter}:{kind:"characterTyped",triggerCharacter:e.triggerCharacter}:{kind:"invoked"};case u.languages.SignatureHelpTriggerKind.ContentChange:return e.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case u.languages.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}async provideSignatureHelp(e,t,i,s){const r=e.uri,n=e.getOffsetAt(t),a=await this._worker(r);if(e.isDisposed())return;const o=await a.getSignatureHelpItems(r.toString(),n,{triggerReason:S._toSignatureHelpTriggerReason(s)});if(!o||e.isDisposed())return;const l={activeSignature:o.selectedItemIndex,activeParameter:o.argumentIndex,signatures:[]};return o.items.forEach((e=>{const t={label:"",parameters:[]};t.documentation={value:b(e.documentation)},t.label+=b(e.prefixDisplayParts),e.parameters.forEach(((i,s,r)=>{const n=b(i.displayParts),a={label:n,documentation:{value:b(i.documentation)}};t.label+=n,t.parameters.push(a),s<r.length-1&&(t.label+=b(e.separatorDisplayParts))})),t.label+=b(e.suffixDisplayParts),l.signatures.push(t)})),{value:l,dispose(){}}}},k=class extends h{async provideHover(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const a=await n.getQuickInfoAtPosition(s.toString(),r);if(!a||e.isDisposed())return;const o=b(a.documentation),l=a.tags?a.tags.map((e=>w(e))).join("  \n\n"):"",c=b(a.displayParts);return{range:this._textSpanToRange(e,a.textSpan),contents:[{value:"```typescript\n"+c+"\n```\n"},{value:o+(l?"\n\n"+l:"")}]}}},x=class extends h{async provideDocumentHighlights(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const a=await n.getOccurrencesAtPosition(s.toString(),r);return a&&!e.isDisposed()?a.map((t=>({range:this._textSpanToRange(e,t.textSpan),kind:t.isWriteAccess?u.languages.DocumentHighlightKind.Write:u.languages.DocumentHighlightKind.Text}))):void 0}},v=class extends h{constructor(e,t){super(t),this._libFiles=e}async provideDefinition(e,t,i){const s=e.uri,r=e.getOffsetAt(t),n=await this._worker(s);if(e.isDisposed())return;const a=await n.getDefinitionAtPosition(s.toString(),r);if(!a||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(a.map((e=>u.Uri.parse(e.fileName)))),e.isDisposed())return;const o=[];for(let e of a){const t=this._libFiles.getOrCreateModel(e.fileName);t&&o.push({uri:t.uri,range:this._textSpanToRange(t,e.textSpan)})}return o}},C=class extends h{constructor(e,t){super(t),this._libFiles=e}async provideReferences(e,t,i,s){const r=e.uri,n=e.getOffsetAt(t),a=await this._worker(r);if(e.isDisposed())return;const o=await a.getReferencesAtPosition(r.toString(),n);if(!o||e.isDisposed())return;if(await this._libFiles.fetchLibFilesIfNecessary(o.map((e=>u.Uri.parse(e.fileName)))),e.isDisposed())return;const l=[];for(let e of o){const t=this._libFiles.getOrCreateModel(e.fileName);t&&l.push({uri:t.uri,range:this._textSpanToRange(t,e.textSpan)})}return l}},A=class extends h{async provideDocumentSymbols(e,t){const i=e.uri,s=await this._worker(i);if(e.isDisposed())return;const r=await s.getNavigationBarItems(i.toString());if(!r||e.isDisposed())return;const n=(t,i,s)=>{let r={name:i.text,detail:"",kind:F[i.kind]||u.languages.SymbolKind.Variable,range:this._textSpanToRange(e,i.spans[0]),selectionRange:this._textSpanToRange(e,i.spans[0]),tags:[]};if(s&&(r.containerName=s),i.childItems&&i.childItems.length>0)for(let e of i.childItems)n(t,e,r.name);t.push(r)};let a=[];return r.forEach((e=>n(a,e))),a}},D=class{};d(D,"unknown",""),d(D,"keyword","keyword"),d(D,"script","script"),d(D,"module","module"),d(D,"class","class"),d(D,"interface","interface"),d(D,"type","type"),d(D,"enum","enum"),d(D,"variable","var"),d(D,"localVariable","local var"),d(D,"function","function"),d(D,"localFunction","local function"),d(D,"memberFunction","method"),d(D,"memberGetAccessor","getter"),d(D,"memberSetAccessor","setter"),d(D,"memberVariable","property"),d(D,"constructorImplementation","constructor"),d(D,"callSignature","call"),d(D,"indexSignature","index"),d(D,"constructSignature","construct"),d(D,"parameter","parameter"),d(D,"typeParameter","type parameter"),d(D,"primitiveType","primitive type"),d(D,"label","label"),d(D,"alias","alias"),d(D,"const","const"),d(D,"let","let"),d(D,"warning","warning");var F=Object.create(null);F[D.module]=u.languages.SymbolKind.Module,F[D.class]=u.languages.SymbolKind.Class,F[D.enum]=u.languages.SymbolKind.Enum,F[D.interface]=u.languages.SymbolKind.Interface,F[D.memberFunction]=u.languages.SymbolKind.Method,F[D.memberVariable]=u.languages.SymbolKind.Property,F[D.memberGetAccessor]=u.languages.SymbolKind.Property,F[D.memberSetAccessor]=u.languages.SymbolKind.Property,F[D.variable]=u.languages.SymbolKind.Variable,F[D.const]=u.languages.SymbolKind.Variable,F[D.localVariable]=u.languages.SymbolKind.Variable,F[D.variable]=u.languages.SymbolKind.Variable,F[D.function]=u.languages.SymbolKind.Function,F[D.localFunction]=u.languages.SymbolKind.Function;var I,L,T=class extends h{static _convertOptions(e){return{ConvertTabsToSpaces:e.insertSpaces,TabSize:e.tabSize,IndentSize:e.tabSize,IndentStyle:2,NewLineCharacter:"\n",InsertSpaceAfterCommaDelimiter:!0,InsertSpaceAfterSemicolonInForStatements:!0,InsertSpaceBeforeAndAfterBinaryOperators:!0,InsertSpaceAfterKeywordsInControlFlowStatements:!0,InsertSpaceAfterFunctionKeywordForAnonymousFunctions:!0,InsertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:!1,InsertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:!1,InsertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:!1,PlaceOpenBraceOnNewLineForControlBlocks:!1,PlaceOpenBraceOnNewLineForFunctions:!1}}_convertTextChanges(e,t){return{text:t.newText,range:this._textSpanToRange(e,t.span)}}},P=class extends T{async provideDocumentRangeFormattingEdits(e,t,i,s){const r=e.uri,n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),a=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=await this._worker(r);if(e.isDisposed())return;const l=await o.getFormattingEditsForRange(r.toString(),n,a,T._convertOptions(i));return l&&!e.isDisposed()?l.map((t=>this._convertTextChanges(e,t))):void 0}},O=class extends T{get autoFormatTriggerCharacters(){return[";","}","\n"]}async provideOnTypeFormattingEdits(e,t,i,s,r){const n=e.uri,a=e.getOffsetAt(t),o=await this._worker(n);if(e.isDisposed())return;const l=await o.getFormattingEditsAfterKeystroke(n.toString(),a,i,T._convertOptions(s));return l&&!e.isDisposed()?l.map((t=>this._convertTextChanges(e,t))):void 0}},N=class extends T{async provideCodeActions(e,t,i,s){const r=e.uri,n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),a=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=T._convertOptions(e.getOptions()),l=i.markers.filter((e=>e.code)).map((e=>e.code)).map(Number),c=await this._worker(r);if(e.isDisposed())return;const d=await c.getCodeFixesAtPosition(r.toString(),n,a,l,o);return!d||e.isDisposed()?{actions:[],dispose:()=>{}}:{actions:d.filter((e=>0===e.changes.filter((e=>e.isNewFile)).length)).map((t=>this._tsCodeFixActionToMonacoCodeAction(e,i,t))),dispose:()=>{}}}_tsCodeFixActionToMonacoCodeAction(e,t,i){const s=[];for(const t of i.changes)for(const i of t.textChanges)s.push({resource:e.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(e,i.span),text:i.newText}});return{title:i.description,edit:{edits:s},diagnostics:t.markers,kind:"quickfix"}}},K=class extends h{constructor(e,t){super(t),this._libFiles=e}async provideRenameEdits(e,t,i,s){const r=e.uri,n=r.toString(),a=e.getOffsetAt(t),o=await this._worker(r);if(e.isDisposed())return;const l=await o.getRenameInfo(n,a,{allowRenameOfImportPath:!1});if(!1===l.canRename)return{edits:[],rejectReason:l.localizedErrorMessage};if(void 0!==l.fileToRename)throw new Error("Renaming files is not supported.");const c=await o.findRenameLocations(n,a,!1,!1,!1);if(!c||e.isDisposed())return;const d=[];for(const e of c){const t=this._libFiles.getOrCreateModel(e.fileName);if(!t)throw new Error(`Unknown file ${e.fileName}.`);d.push({resource:t.uri,versionId:void 0,textEdit:{range:this._textSpanToRange(t,e.textSpan),text:i}})}return{edits:d}}},M=class extends h{async provideInlayHints(e,t,i){const s=e.uri,r=s.toString(),n=e.getOffsetAt({lineNumber:t.startLineNumber,column:t.startColumn}),a=e.getOffsetAt({lineNumber:t.endLineNumber,column:t.endColumn}),o=await this._worker(s);return e.isDisposed()?null:{hints:(await o.provideInlayHints(r,n,a)).map((t=>({...t,label:t.text,position:e.getPositionAt(t.position),kind:this._convertHintKind(t.kind)}))),dispose:()=>{}}}_convertHintKind(e){return"Parameter"===e?u.languages.InlayHintKind.Parameter:u.languages.InlayHintKind.Type}};function R(e){L=W(e,"typescript")}function E(e){I=W(e,"javascript")}function H(){return new Promise(((e,t)=>{if(!I)return t("JavaScript not registered!");e(I)}))}function V(){return new Promise(((e,t)=>{if(!L)return t("TypeScript not registered!");e(L)}))}function W(e,t){const i=new g(t,e),s=(...e)=>i.getLanguageServiceWorker(...e),r=new f(s);return u.languages.registerCompletionItemProvider(t,new y(s)),u.languages.registerSignatureHelpProvider(t,new S(s)),u.languages.registerHoverProvider(t,new k(s)),u.languages.registerDocumentHighlightProvider(t,new x(s)),u.languages.registerDefinitionProvider(t,new v(r,s)),u.languages.registerReferenceProvider(t,new C(r,s)),u.languages.registerDocumentSymbolProvider(t,new A(s)),u.languages.registerDocumentRangeFormattingEditProvider(t,new P(s)),u.languages.registerOnTypeFormattingEditProvider(t,new O(s)),u.languages.registerCodeActionProvider(t,new N(s)),u.languages.registerRenameProvider(t,new K(r,s)),u.languages.registerInlayHintsProvider(t,new M(s)),new _(r,e,t,s),s}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVHLElBQ2hHbkcsRUFBMkJpTSxVQUFVa04sMkJBQTJCYixFQUFRLElBQUloQixFQUFrQm5SLElBQzlGLElBQUlGLEVBQW1CRCxFQUFVK1IsRUFBVU8sRUFBUW5TLEdBQzVDQSxDQUNULEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qc29uLW5ldHMvLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC90c01vZGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVmVyc2lvbjogMC4zNC4xKDU0Nzg3MGI2ODgxMzAyYzViNGZmMzIxNzNjMTZkMDYwMDllMzU4OGYpXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvbW9uYWNvLWVkaXRvci9ibG9iL21haW4vTElDRU5TRS50eHRcbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZ2V0T3duUHJvcERlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19oYXNPd25Qcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX2NvcHlQcm9wcyA9ICh0bywgZnJvbSwgZXhjZXB0LCBkZXNjKSA9PiB7XG4gIGlmIChmcm9tICYmIHR5cGVvZiBmcm9tID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBmcm9tID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBmb3IgKGxldCBrZXkgb2YgX19nZXRPd25Qcm9wTmFtZXMoZnJvbSkpXG4gICAgICBpZiAoIV9faGFzT3duUHJvcC5jYWxsKHRvLCBrZXkpICYmIGtleSAhPT0gZXhjZXB0KVxuICAgICAgICBfX2RlZlByb3AodG8sIGtleSwgeyBnZXQ6ICgpID0+IGZyb21ba2V5XSwgZW51bWVyYWJsZTogIShkZXNjID0gX19nZXRPd25Qcm9wRGVzYyhmcm9tLCBrZXkpKSB8fCBkZXNjLmVudW1lcmFibGUgfSk7XG4gIH1cbiAgcmV0dXJuIHRvO1xufTtcbnZhciBfX3JlRXhwb3J0ID0gKHRhcmdldCwgbW9kLCBzZWNvbmRUYXJnZXQpID0+IChfX2NvcHlQcm9wcyh0YXJnZXQsIG1vZCwgXCJkZWZhdWx0XCIpLCBzZWNvbmRUYXJnZXQgJiYgX19jb3B5UHJvcHMoc2Vjb25kVGFyZ2V0LCBtb2QsIFwiZGVmYXVsdFwiKSk7XG52YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IHtcbiAgX19kZWZOb3JtYWxQcm9wKG9iaiwgdHlwZW9mIGtleSAhPT0gXCJzeW1ib2xcIiA/IGtleSArIFwiXCIgOiBrZXksIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gc3JjL2ZpbGxlcnMvbW9uYWNvLWVkaXRvci1jb3JlLnRzXG52YXIgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMgPSB7fTtcbl9fcmVFeHBvcnQobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMsIG1vbmFjb19lZGl0b3JfY29yZV9zdGFyKTtcbmltcG9ydCAqIGFzIG1vbmFjb19lZGl0b3JfY29yZV9zdGFyIGZyb20gXCIuLi8uLi9lZGl0b3IvZWRpdG9yLmFwaS5qc1wiO1xuXG4vLyBzcmMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC93b3JrZXJNYW5hZ2VyLnRzXG52YXIgV29ya2VyTWFuYWdlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoX21vZGVJZCwgX2RlZmF1bHRzKSB7XG4gICAgdGhpcy5fbW9kZUlkID0gX21vZGVJZDtcbiAgICB0aGlzLl9kZWZhdWx0cyA9IF9kZWZhdWx0cztcbiAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgIHRoaXMuX2NsaWVudCA9IG51bGw7XG4gICAgdGhpcy5fY29uZmlnQ2hhbmdlTGlzdGVuZXIgPSB0aGlzLl9kZWZhdWx0cy5vbkRpZENoYW5nZSgoKSA9PiB0aGlzLl9zdG9wV29ya2VyKCkpO1xuICAgIHRoaXMuX3VwZGF0ZUV4dHJhTGlic1Rva2VuID0gMDtcbiAgICB0aGlzLl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX2RlZmF1bHRzLm9uRGlkRXh0cmFMaWJzQ2hhbmdlKCgpID0+IHRoaXMuX3VwZGF0ZUV4dHJhTGlicygpKTtcbiAgfVxuICBfY29uZmlnQ2hhbmdlTGlzdGVuZXI7XG4gIF91cGRhdGVFeHRyYUxpYnNUb2tlbjtcbiAgX2V4dHJhTGlic0NoYW5nZUxpc3RlbmVyO1xuICBfd29ya2VyO1xuICBfY2xpZW50O1xuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuX2NvbmZpZ0NoYW5nZUxpc3RlbmVyLmRpc3Bvc2UoKTtcbiAgICB0aGlzLl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgdGhpcy5fc3RvcFdvcmtlcigpO1xuICB9XG4gIF9zdG9wV29ya2VyKCkge1xuICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgIHRoaXMuX3dvcmtlci5kaXNwb3NlKCk7XG4gICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9jbGllbnQgPSBudWxsO1xuICB9XG4gIGFzeW5jIF91cGRhdGVFeHRyYUxpYnMoKSB7XG4gICAgaWYgKCF0aGlzLl93b3JrZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbXlUb2tlbiA9ICsrdGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW47XG4gICAgY29uc3QgcHJveHkgPSBhd2FpdCB0aGlzLl93b3JrZXIuZ2V0UHJveHkoKTtcbiAgICBpZiAodGhpcy5fdXBkYXRlRXh0cmFMaWJzVG9rZW4gIT09IG15VG9rZW4pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJveHkudXBkYXRlRXh0cmFMaWJzKHRoaXMuX2RlZmF1bHRzLmdldEV4dHJhTGlicygpKTtcbiAgfVxuICBfZ2V0Q2xpZW50KCkge1xuICAgIGlmICghdGhpcy5fY2xpZW50KSB7XG4gICAgICB0aGlzLl9jbGllbnQgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLl93b3JrZXIgPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuY3JlYXRlV2ViV29ya2VyKHtcbiAgICAgICAgICBtb2R1bGVJZDogXCJ2cy9sYW5ndWFnZS90eXBlc2NyaXB0L3RzV29ya2VyXCIsXG4gICAgICAgICAgbGFiZWw6IHRoaXMuX21vZGVJZCxcbiAgICAgICAgICBrZWVwSWRsZU1vZGVsczogdHJ1ZSxcbiAgICAgICAgICBjcmVhdGVEYXRhOiB7XG4gICAgICAgICAgICBjb21waWxlck9wdGlvbnM6IHRoaXMuX2RlZmF1bHRzLmdldENvbXBpbGVyT3B0aW9ucygpLFxuICAgICAgICAgICAgZXh0cmFMaWJzOiB0aGlzLl9kZWZhdWx0cy5nZXRFeHRyYUxpYnMoKSxcbiAgICAgICAgICAgIGN1c3RvbVdvcmtlclBhdGg6IHRoaXMuX2RlZmF1bHRzLndvcmtlck9wdGlvbnMuY3VzdG9tV29ya2VyUGF0aCxcbiAgICAgICAgICAgIGlubGF5SGludHNPcHRpb25zOiB0aGlzLl9kZWZhdWx0cy5pbmxheUhpbnRzT3B0aW9uc1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLl9kZWZhdWx0cy5nZXRFYWdlck1vZGVsU3luYygpKSB7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3dvcmtlci53aXRoU3luY2VkUmVzb3VyY2VzKG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbHMoKS5maWx0ZXIoKG1vZGVsKSA9PiBtb2RlbC5nZXRMYW5ndWFnZUlkKCkgPT09IHRoaXMuX21vZGVJZCkubWFwKChtb2RlbCkgPT4gbW9kZWwudXJpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3dvcmtlci5nZXRQcm94eSgpO1xuICAgICAgfSkoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NsaWVudDtcbiAgfVxuICBhc3luYyBnZXRMYW5ndWFnZVNlcnZpY2VXb3JrZXIoLi4ucmVzb3VyY2VzKSB7XG4gICAgY29uc3QgY2xpZW50ID0gYXdhaXQgdGhpcy5fZ2V0Q2xpZW50KCk7XG4gICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgYXdhaXQgdGhpcy5fd29ya2VyLndpdGhTeW5jZWRSZXNvdXJjZXMocmVzb3VyY2VzKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsaWVudDtcbiAgfVxufTtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGFuZ3VhZ2VGZWF0dXJlcy50c1xuaW1wb3J0IHtcbiAgdHlwZXNjcmlwdERlZmF1bHRzXG59IGZyb20gXCIuL21vbmFjby5jb250cmlidXRpb24uanNcIjtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGliL2xpYi5pbmRleC50c1xudmFyIGxpYkZpbGVTZXQgPSB7fTtcbmxpYkZpbGVTZXRbXCJsaWIuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmRvbS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZG9tLml0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUuY29sbGVjdGlvbi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LmNvcmUuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LmdlbmVyYXRvci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1Lml0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnByb3h5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTUucmVmbGVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnN5bWJvbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE1LnN5bWJvbC53ZWxsa25vd24uZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNi5hcnJheS5pbmNsdWRlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNi5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxNy5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTcuaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3Lm9iamVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LnNoYXJlZG1lbW9yeS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE3LnR5cGVkYXJyYXlzLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTguYXN5bmNnZW5lcmF0b3IuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5hc3luY2l0ZXJhYmxlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTguZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5mdWxsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTguaW50bC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE4LnByb21pc2UuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOC5yZWdleHAuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAxOS5hcnJheS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMTkuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5Lm9iamVjdC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDE5LnN5bWJvbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmJpZ2ludC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIwLmludGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMC5wcm9taXNlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuc2hhcmVkbWVtb3J5LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuc3RyaW5nLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjAuc3ltYm9sLndlbGxrbm93bi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEuZnVsbC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXMyMDIxLmludGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzMjAyMS5wcm9taXNlLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEuc3RyaW5nLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczIwMjEud2Vha3JlZi5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXM1LmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lczYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LmZ1bGwuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLmVzbmV4dC5pbnRsLmQudHNcIl0gPSB0cnVlO1xubGliRmlsZVNldFtcImxpYi5lc25leHQucHJvbWlzZS5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LnN0cmluZy5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIuZXNuZXh0LndlYWtyZWYuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLnNjcmlwdGhvc3QuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLndlYndvcmtlci5kLnRzXCJdID0gdHJ1ZTtcbmxpYkZpbGVTZXRbXCJsaWIud2Vid29ya2VyLmltcG9ydHNjcmlwdHMuZC50c1wiXSA9IHRydWU7XG5saWJGaWxlU2V0W1wibGliLndlYndvcmtlci5pdGVyYWJsZS5kLnRzXCJdID0gdHJ1ZTtcblxuLy8gc3JjL2xhbmd1YWdlL3R5cGVzY3JpcHQvbGFuZ3VhZ2VGZWF0dXJlcy50c1xuZnVuY3Rpb24gZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChkaWFnLCBuZXdMaW5lLCBpbmRlbnQgPSAwKSB7XG4gIGlmICh0eXBlb2YgZGlhZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBkaWFnO1xuICB9IGVsc2UgaWYgKGRpYWcgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGxldCByZXN1bHQgPSBcIlwiO1xuICBpZiAoaW5kZW50KSB7XG4gICAgcmVzdWx0ICs9IG5ld0xpbmU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmRlbnQ7IGkrKykge1xuICAgICAgcmVzdWx0ICs9IFwiICBcIjtcbiAgICB9XG4gIH1cbiAgcmVzdWx0ICs9IGRpYWcubWVzc2FnZVRleHQ7XG4gIGluZGVudCsrO1xuICBpZiAoZGlhZy5uZXh0KSB7XG4gICAgZm9yIChjb25zdCBraWQgb2YgZGlhZy5uZXh0KSB7XG4gICAgICByZXN1bHQgKz0gZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dChraWQsIG5ld0xpbmUsIGluZGVudCk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBkaXNwbGF5UGFydHNUb1N0cmluZyhkaXNwbGF5UGFydHMpIHtcbiAgaWYgKGRpc3BsYXlQYXJ0cykge1xuICAgIHJldHVybiBkaXNwbGF5UGFydHMubWFwKChkaXNwbGF5UGFydCkgPT4gZGlzcGxheVBhcnQudGV4dCkuam9pbihcIlwiKTtcbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbnZhciBBZGFwdGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihfd29ya2VyKSB7XG4gICAgdGhpcy5fd29ya2VyID0gX3dvcmtlcjtcbiAgfVxuICBfdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBzcGFuKSB7XG4gICAgbGV0IHAxID0gbW9kZWwuZ2V0UG9zaXRpb25BdChzcGFuLnN0YXJ0KTtcbiAgICBsZXQgcDIgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KHNwYW4uc3RhcnQgKyBzcGFuLmxlbmd0aCk7XG4gICAgbGV0IHsgbGluZU51bWJlcjogc3RhcnRMaW5lTnVtYmVyLCBjb2x1bW46IHN0YXJ0Q29sdW1uIH0gPSBwMTtcbiAgICBsZXQgeyBsaW5lTnVtYmVyOiBlbmRMaW5lTnVtYmVyLCBjb2x1bW46IGVuZENvbHVtbiB9ID0gcDI7XG4gICAgcmV0dXJuIHsgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uIH07XG4gIH1cbn07XG52YXIgTGliRmlsZXMgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKF93b3JrZXIpIHtcbiAgICB0aGlzLl93b3JrZXIgPSBfd29ya2VyO1xuICAgIHRoaXMuX2xpYkZpbGVzID0ge307XG4gICAgdGhpcy5faGFzRmV0Y2hlZExpYkZpbGVzID0gZmFsc2U7XG4gICAgdGhpcy5fZmV0Y2hMaWJGaWxlc1Byb21pc2UgPSBudWxsO1xuICB9XG4gIF9saWJGaWxlcztcbiAgX2hhc0ZldGNoZWRMaWJGaWxlcztcbiAgX2ZldGNoTGliRmlsZXNQcm9taXNlO1xuICBpc0xpYkZpbGUodXJpKSB7XG4gICAgaWYgKCF1cmkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHVyaS5wYXRoLmluZGV4T2YoXCIvbGliLlwiKSA9PT0gMCkge1xuICAgICAgcmV0dXJuICEhbGliRmlsZVNldFt1cmkucGF0aC5zbGljZSgxKV07XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBnZXRPckNyZWF0ZU1vZGVsKGZpbGVOYW1lKSB7XG4gICAgY29uc3QgdXJpID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuVXJpLnBhcnNlKGZpbGVOYW1lKTtcbiAgICBjb25zdCBtb2RlbCA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5nZXRNb2RlbCh1cmkpO1xuICAgIGlmIChtb2RlbCkge1xuICAgICAgcmV0dXJuIG1vZGVsO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0xpYkZpbGUodXJpKSAmJiB0aGlzLl9oYXNGZXRjaGVkTGliRmlsZXMpIHtcbiAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuY3JlYXRlTW9kZWwodGhpcy5fbGliRmlsZXNbdXJpLnBhdGguc2xpY2UoMSldLCBcInR5cGVzY3JpcHRcIiwgdXJpKTtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2hlZExpYkZpbGUgPSB0eXBlc2NyaXB0RGVmYXVsdHMuZ2V0RXh0cmFMaWJzKClbZmlsZU5hbWVdO1xuICAgIGlmIChtYXRjaGVkTGliRmlsZSkge1xuICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5jcmVhdGVNb2RlbChtYXRjaGVkTGliRmlsZS5jb250ZW50LCBcInR5cGVzY3JpcHRcIiwgdXJpKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgX2NvbnRhaW5zTGliRmlsZSh1cmlzKSB7XG4gICAgZm9yIChsZXQgdXJpIG9mIHVyaXMpIHtcbiAgICAgIGlmICh0aGlzLmlzTGliRmlsZSh1cmkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXN5bmMgZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5KHVyaXMpIHtcbiAgICBpZiAoIXRoaXMuX2NvbnRhaW5zTGliRmlsZSh1cmlzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLl9mZXRjaExpYkZpbGVzKCk7XG4gIH1cbiAgX2ZldGNoTGliRmlsZXMoKSB7XG4gICAgaWYgKCF0aGlzLl9mZXRjaExpYkZpbGVzUHJvbWlzZSkge1xuICAgICAgdGhpcy5fZmV0Y2hMaWJGaWxlc1Byb21pc2UgPSB0aGlzLl93b3JrZXIoKS50aGVuKCh3KSA9PiB3LmdldExpYkZpbGVzKCkpLnRoZW4oKGxpYkZpbGVzKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhc0ZldGNoZWRMaWJGaWxlcyA9IHRydWU7XG4gICAgICAgIHRoaXMuX2xpYkZpbGVzID0gbGliRmlsZXM7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2ZldGNoTGliRmlsZXNQcm9taXNlO1xuICB9XG59O1xudmFyIERpYWdub3N0aWNzQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKF9saWJGaWxlcywgX2RlZmF1bHRzLCBfc2VsZWN0b3IsIHdvcmtlcikge1xuICAgIHN1cGVyKHdvcmtlcik7XG4gICAgdGhpcy5fbGliRmlsZXMgPSBfbGliRmlsZXM7XG4gICAgdGhpcy5fZGVmYXVsdHMgPSBfZGVmYXVsdHM7XG4gICAgdGhpcy5fc2VsZWN0b3IgPSBfc2VsZWN0b3I7XG4gICAgY29uc3Qgb25Nb2RlbEFkZCA9IChtb2RlbCkgPT4ge1xuICAgICAgaWYgKG1vZGVsLmdldExhbmd1YWdlSWQoKSAhPT0gX3NlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG1heWJlVmFsaWRhdGUgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgb25seVZpc2libGUgfSA9IHRoaXMuX2RlZmF1bHRzLmdldERpYWdub3N0aWNzT3B0aW9ucygpO1xuICAgICAgICBpZiAob25seVZpc2libGUpIHtcbiAgICAgICAgICBpZiAobW9kZWwuaXNBdHRhY2hlZFRvRWRpdG9yKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvVmFsaWRhdGUobW9kZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9kb1ZhbGlkYXRlKG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGxldCBoYW5kbGU7XG4gICAgICBjb25zdCBjaGFuZ2VTdWJzY3JpcHRpb24gPSBtb2RlbC5vbkRpZENoYW5nZUNvbnRlbnQoKCkgPT4ge1xuICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgaGFuZGxlID0gd2luZG93LnNldFRpbWVvdXQobWF5YmVWYWxpZGF0ZSwgNTAwKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgdmlzaWJsZVN1YnNjcmlwdGlvbiA9IG1vZGVsLm9uRGlkQ2hhbmdlQXR0YWNoZWQoKCkgPT4ge1xuICAgICAgICBjb25zdCB7IG9ubHlWaXNpYmxlIH0gPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKTtcbiAgICAgICAgaWYgKG9ubHlWaXNpYmxlKSB7XG4gICAgICAgICAgaWYgKG1vZGVsLmlzQXR0YWNoZWRUb0VkaXRvcigpKSB7XG4gICAgICAgICAgICBtYXliZVZhbGlkYXRlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIHRoaXMuX3NlbGVjdG9yLCBbXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2xpc3RlbmVyW21vZGVsLnVyaS50b1N0cmluZygpXSA9IHtcbiAgICAgICAgZGlzcG9zZSgpIHtcbiAgICAgICAgICBjaGFuZ2VTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgIHZpc2libGVTdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbWF5YmVWYWxpZGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3Qgb25Nb2RlbFJlbW92ZWQgPSAobW9kZWwpID0+IHtcbiAgICAgIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmVkaXRvci5zZXRNb2RlbE1hcmtlcnMobW9kZWwsIHRoaXMuX3NlbGVjdG9yLCBbXSk7XG4gICAgICBjb25zdCBrZXkgPSBtb2RlbC51cmkudG9TdHJpbmcoKTtcbiAgICAgIGlmICh0aGlzLl9saXN0ZW5lcltrZXldKSB7XG4gICAgICAgIHRoaXMuX2xpc3RlbmVyW2tleV0uZGlzcG9zZSgpO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGlzdGVuZXJba2V5XTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uRGlkQ3JlYXRlTW9kZWwoKG1vZGVsKSA9PiBvbk1vZGVsQWRkKG1vZGVsKSkpO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uV2lsbERpc3Bvc2VNb2RlbChvbk1vZGVsUmVtb3ZlZCkpO1xuICAgIHRoaXMuX2Rpc3Bvc2FibGVzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLm9uRGlkQ2hhbmdlTW9kZWxMYW5ndWFnZSgoZXZlbnQpID0+IHtcbiAgICAgIG9uTW9kZWxSZW1vdmVkKGV2ZW50Lm1vZGVsKTtcbiAgICAgIG9uTW9kZWxBZGQoZXZlbnQubW9kZWwpO1xuICAgIH0pKTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHtcbiAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbW9kZWwgb2YgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLmdldE1vZGVscygpKSB7XG4gICAgICAgICAgb25Nb2RlbFJlbW92ZWQobW9kZWwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgcmVjb21wdXRlRGlhZ29zdGljcyA9ICgpID0+IHtcbiAgICAgIGZvciAoY29uc3QgbW9kZWwgb2YgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLmdldE1vZGVscygpKSB7XG4gICAgICAgIG9uTW9kZWxSZW1vdmVkKG1vZGVsKTtcbiAgICAgICAgb25Nb2RlbEFkZChtb2RlbCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHRoaXMuX2RlZmF1bHRzLm9uRGlkQ2hhbmdlKHJlY29tcHV0ZURpYWdvc3RpY3MpKTtcbiAgICB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHRoaXMuX2RlZmF1bHRzLm9uRGlkRXh0cmFMaWJzQ2hhbmdlKHJlY29tcHV0ZURpYWdvc3RpY3MpKTtcbiAgICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5lZGl0b3IuZ2V0TW9kZWxzKCkuZm9yRWFjaCgobW9kZWwpID0+IG9uTW9kZWxBZGQobW9kZWwpKTtcbiAgfVxuICBfZGlzcG9zYWJsZXMgPSBbXTtcbiAgX2xpc3RlbmVyID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMuZm9yRWFjaCgoZCkgPT4gZCAmJiBkLmRpc3Bvc2UoKSk7XG4gICAgdGhpcy5fZGlzcG9zYWJsZXMgPSBbXTtcbiAgfVxuICBhc3luYyBfZG9WYWxpZGF0ZShtb2RlbCkge1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihtb2RlbC51cmkpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgICBjb25zdCB7IG5vU3ludGF4VmFsaWRhdGlvbiwgbm9TZW1hbnRpY1ZhbGlkYXRpb24sIG5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzIH0gPSB0aGlzLl9kZWZhdWx0cy5nZXREaWFnbm9zdGljc09wdGlvbnMoKTtcbiAgICBpZiAoIW5vU3ludGF4VmFsaWRhdGlvbikge1xuICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U3ludGFjdGljRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgaWYgKCFub1NlbWFudGljVmFsaWRhdGlvbikge1xuICAgICAgcHJvbWlzZXMucHVzaCh3b3JrZXIuZ2V0U2VtYW50aWNEaWFnbm9zdGljcyhtb2RlbC51cmkudG9TdHJpbmcoKSkpO1xuICAgIH1cbiAgICBpZiAoIW5vU3VnZ2VzdGlvbkRpYWdub3N0aWNzKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHdvcmtlci5nZXRTdWdnZXN0aW9uRGlhZ25vc3RpY3MobW9kZWwudXJpLnRvU3RyaW5nKCkpKTtcbiAgICB9XG4gICAgY29uc3QgYWxsRGlhZ25vc3RpY3MgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgaWYgKCFhbGxEaWFnbm9zdGljcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGlhZ25vc3RpY3MgPSBhbGxEaWFnbm9zdGljcy5yZWR1Y2UoKHAsIGMpID0+IGMuY29uY2F0KHApLCBbXSkuZmlsdGVyKChkKSA9PiAodGhpcy5fZGVmYXVsdHMuZ2V0RGlhZ25vc3RpY3NPcHRpb25zKCkuZGlhZ25vc3RpY0NvZGVzVG9JZ25vcmUgfHwgW10pLmluZGV4T2YoZC5jb2RlKSA9PT0gLTEpO1xuICAgIGNvbnN0IHJlbGF0ZWRVcmlzID0gZGlhZ25vc3RpY3MubWFwKChkKSA9PiBkLnJlbGF0ZWRJbmZvcm1hdGlvbiB8fCBbXSkucmVkdWNlKChwLCBjKSA9PiBjLmNvbmNhdChwKSwgW10pLm1hcCgocmVsYXRlZEluZm9ybWF0aW9uKSA9PiByZWxhdGVkSW5mb3JtYXRpb24uZmlsZSA/IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShyZWxhdGVkSW5mb3JtYXRpb24uZmlsZS5maWxlTmFtZSkgOiBudWxsKTtcbiAgICBhd2FpdCB0aGlzLl9saWJGaWxlcy5mZXRjaExpYkZpbGVzSWZOZWNlc3NhcnkocmVsYXRlZFVyaXMpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuZWRpdG9yLnNldE1vZGVsTWFya2Vycyhtb2RlbCwgdGhpcy5fc2VsZWN0b3IsIGRpYWdub3N0aWNzLm1hcCgoZCkgPT4gdGhpcy5fY29udmVydERpYWdub3N0aWNzKG1vZGVsLCBkKSkpO1xuICB9XG4gIF9jb252ZXJ0RGlhZ25vc3RpY3MobW9kZWwsIGRpYWcpIHtcbiAgICBjb25zdCBkaWFnU3RhcnQgPSBkaWFnLnN0YXJ0IHx8IDA7XG4gICAgY29uc3QgZGlhZ0xlbmd0aCA9IGRpYWcubGVuZ3RoIHx8IDE7XG4gICAgY29uc3QgeyBsaW5lTnVtYmVyOiBzdGFydExpbmVOdW1iZXIsIGNvbHVtbjogc3RhcnRDb2x1bW4gfSA9IG1vZGVsLmdldFBvc2l0aW9uQXQoZGlhZ1N0YXJ0KTtcbiAgICBjb25zdCB7IGxpbmVOdW1iZXI6IGVuZExpbmVOdW1iZXIsIGNvbHVtbjogZW5kQ29sdW1uIH0gPSBtb2RlbC5nZXRQb3NpdGlvbkF0KGRpYWdTdGFydCArIGRpYWdMZW5ndGgpO1xuICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICBpZiAoZGlhZy5yZXBvcnRzVW5uZWNlc3NhcnkpIHtcbiAgICAgIHRhZ3MucHVzaChtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJUYWcuVW5uZWNlc3NhcnkpO1xuICAgIH1cbiAgICBpZiAoZGlhZy5yZXBvcnRzRGVwcmVjYXRlZCkge1xuICAgICAgdGFncy5wdXNoKG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLk1hcmtlclRhZy5EZXByZWNhdGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHNldmVyaXR5OiB0aGlzLl90c0RpYWdub3N0aWNDYXRlZ29yeVRvTWFya2VyU2V2ZXJpdHkoZGlhZy5jYXRlZ29yeSksXG4gICAgICBzdGFydExpbmVOdW1iZXIsXG4gICAgICBzdGFydENvbHVtbixcbiAgICAgIGVuZExpbmVOdW1iZXIsXG4gICAgICBlbmRDb2x1bW4sXG4gICAgICBtZXNzYWdlOiBmbGF0dGVuRGlhZ25vc3RpY01lc3NhZ2VUZXh0KGRpYWcubWVzc2FnZVRleHQsIFwiXFxuXCIpLFxuICAgICAgY29kZTogZGlhZy5jb2RlLnRvU3RyaW5nKCksXG4gICAgICB0YWdzLFxuICAgICAgcmVsYXRlZEluZm9ybWF0aW9uOiB0aGlzLl9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uKG1vZGVsLCBkaWFnLnJlbGF0ZWRJbmZvcm1hdGlvbilcbiAgICB9O1xuICB9XG4gIF9jb252ZXJ0UmVsYXRlZEluZm9ybWF0aW9uKG1vZGVsLCByZWxhdGVkSW5mb3JtYXRpb24pIHtcbiAgICBpZiAoIXJlbGF0ZWRJbmZvcm1hdGlvbikge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICByZWxhdGVkSW5mb3JtYXRpb24uZm9yRWFjaCgoaW5mbykgPT4ge1xuICAgICAgbGV0IHJlbGF0ZWRSZXNvdXJjZSA9IG1vZGVsO1xuICAgICAgaWYgKGluZm8uZmlsZSkge1xuICAgICAgICByZWxhdGVkUmVzb3VyY2UgPSB0aGlzLl9saWJGaWxlcy5nZXRPckNyZWF0ZU1vZGVsKGluZm8uZmlsZS5maWxlTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXJlbGF0ZWRSZXNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBpbmZvU3RhcnQgPSBpbmZvLnN0YXJ0IHx8IDA7XG4gICAgICBjb25zdCBpbmZvTGVuZ3RoID0gaW5mby5sZW5ndGggfHwgMTtcbiAgICAgIGNvbnN0IHsgbGluZU51bWJlcjogc3RhcnRMaW5lTnVtYmVyLCBjb2x1bW46IHN0YXJ0Q29sdW1uIH0gPSByZWxhdGVkUmVzb3VyY2UuZ2V0UG9zaXRpb25BdChpbmZvU3RhcnQpO1xuICAgICAgY29uc3QgeyBsaW5lTnVtYmVyOiBlbmRMaW5lTnVtYmVyLCBjb2x1bW46IGVuZENvbHVtbiB9ID0gcmVsYXRlZFJlc291cmNlLmdldFBvc2l0aW9uQXQoaW5mb1N0YXJ0ICsgaW5mb0xlbmd0aCk7XG4gICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgIHJlc291cmNlOiByZWxhdGVkUmVzb3VyY2UudXJpLFxuICAgICAgICBzdGFydExpbmVOdW1iZXIsXG4gICAgICAgIHN0YXJ0Q29sdW1uLFxuICAgICAgICBlbmRMaW5lTnVtYmVyLFxuICAgICAgICBlbmRDb2x1bW4sXG4gICAgICAgIG1lc3NhZ2U6IGZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQoaW5mby5tZXNzYWdlVGV4dCwgXCJcXG5cIilcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgX3RzRGlhZ25vc3RpY0NhdGVnb3J5VG9NYXJrZXJTZXZlcml0eShjYXRlZ29yeSkge1xuICAgIHN3aXRjaCAoY2F0ZWdvcnkpIHtcbiAgICAgIGNhc2UgMSAvKiBFcnJvciAqLzpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLk1hcmtlclNldmVyaXR5LkVycm9yO1xuICAgICAgY2FzZSAzIC8qIE1lc3NhZ2UgKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5JbmZvO1xuICAgICAgY2FzZSAwIC8qIFdhcm5pbmcgKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5XYXJuaW5nO1xuICAgICAgY2FzZSAyIC8qIFN1Z2dlc3Rpb24gKi86XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5NYXJrZXJTZXZlcml0eS5IaW50O1xuICAgIH1cbiAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuTWFya2VyU2V2ZXJpdHkuSW5mbztcbiAgfVxufTtcbnZhciBTdWdnZXN0QWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGdldCB0cmlnZ2VyQ2hhcmFjdGVycygpIHtcbiAgICByZXR1cm4gW1wiLlwiXTtcbiAgfVxuICBhc3luYyBwcm92aWRlQ29tcGxldGlvbkl0ZW1zKG1vZGVsLCBwb3NpdGlvbiwgX2NvbnRleHQsIHRva2VuKSB7XG4gICAgY29uc3Qgd29yZEluZm8gPSBtb2RlbC5nZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgY29uc3Qgd29yZFJhbmdlID0gbmV3IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRJbmZvLnN0YXJ0Q29sdW1uLCBwb3NpdGlvbi5saW5lTnVtYmVyLCB3b3JkSW5mby5lbmRDb2x1bW4pO1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IG9mZnNldCA9IG1vZGVsLmdldE9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGlmIChtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5mbyA9IGF3YWl0IHdvcmtlci5nZXRDb21wbGV0aW9uc0F0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KTtcbiAgICBpZiAoIWluZm8gfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHN1Z2dlc3Rpb25zID0gaW5mby5lbnRyaWVzLm1hcCgoZW50cnkpID0+IHtcbiAgICAgIGxldCByYW5nZSA9IHdvcmRSYW5nZTtcbiAgICAgIGlmIChlbnRyeS5yZXBsYWNlbWVudFNwYW4pIHtcbiAgICAgICAgY29uc3QgcDEgPSBtb2RlbC5nZXRQb3NpdGlvbkF0KGVudHJ5LnJlcGxhY2VtZW50U3Bhbi5zdGFydCk7XG4gICAgICAgIGNvbnN0IHAyID0gbW9kZWwuZ2V0UG9zaXRpb25BdChlbnRyeS5yZXBsYWNlbWVudFNwYW4uc3RhcnQgKyBlbnRyeS5yZXBsYWNlbWVudFNwYW4ubGVuZ3RoKTtcbiAgICAgICAgcmFuZ2UgPSBuZXcgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMuUmFuZ2UocDEubGluZU51bWJlciwgcDEuY29sdW1uLCBwMi5saW5lTnVtYmVyLCBwMi5jb2x1bW4pO1xuICAgICAgfVxuICAgICAgY29uc3QgdGFncyA9IFtdO1xuICAgICAgaWYgKGVudHJ5LmtpbmRNb2RpZmllcnM/LmluZGV4T2YoXCJkZXByZWNhdGVkXCIpICE9PSAtMSkge1xuICAgICAgICB0YWdzLnB1c2gobW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtVGFnLkRlcHJlY2F0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdXJpOiByZXNvdXJjZSxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgcmFuZ2UsXG4gICAgICAgIGxhYmVsOiBlbnRyeS5uYW1lLFxuICAgICAgICBpbnNlcnRUZXh0OiBlbnRyeS5uYW1lLFxuICAgICAgICBzb3J0VGV4dDogZW50cnkuc29ydFRleHQsXG4gICAgICAgIGtpbmQ6IFN1Z2dlc3RBZGFwdGVyLmNvbnZlcnRLaW5kKGVudHJ5LmtpbmQpLFxuICAgICAgICB0YWdzXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBzdWdnZXN0aW9uc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgcmVzb2x2ZUNvbXBsZXRpb25JdGVtKGl0ZW0sIHRva2VuKSB7XG4gICAgY29uc3QgbXlJdGVtID0gaXRlbTtcbiAgICBjb25zdCByZXNvdXJjZSA9IG15SXRlbS51cmk7XG4gICAgY29uc3QgcG9zaXRpb24gPSBteUl0ZW0ucG9zaXRpb247XG4gICAgY29uc3Qgb2Zmc2V0ID0gbXlJdGVtLm9mZnNldDtcbiAgICBjb25zdCB3b3JrZXIgPSBhd2FpdCB0aGlzLl93b3JrZXIocmVzb3VyY2UpO1xuICAgIGNvbnN0IGRldGFpbHMgPSBhd2FpdCB3b3JrZXIuZ2V0Q29tcGxldGlvbkVudHJ5RGV0YWlscyhyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQsIG15SXRlbS5sYWJlbCk7XG4gICAgaWYgKCFkZXRhaWxzKSB7XG4gICAgICByZXR1cm4gbXlJdGVtO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdXJpOiByZXNvdXJjZSxcbiAgICAgIHBvc2l0aW9uLFxuICAgICAgbGFiZWw6IGRldGFpbHMubmFtZSxcbiAgICAgIGtpbmQ6IFN1Z2dlc3RBZGFwdGVyLmNvbnZlcnRLaW5kKGRldGFpbHMua2luZCksXG4gICAgICBkZXRhaWw6IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGRldGFpbHMuZGlzcGxheVBhcnRzKSxcbiAgICAgIGRvY3VtZW50YXRpb246IHtcbiAgICAgICAgdmFsdWU6IFN1Z2dlc3RBZGFwdGVyLmNyZWF0ZURvY3VtZW50YXRpb25TdHJpbmcoZGV0YWlscylcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHN0YXRpYyBjb252ZXJ0S2luZChraW5kKSB7XG4gICAgc3dpdGNoIChraW5kKSB7XG4gICAgICBjYXNlIEtpbmQucHJpbWl0aXZlVHlwZTpcbiAgICAgIGNhc2UgS2luZC5rZXl3b3JkOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5LZXl3b3JkO1xuICAgICAgY2FzZSBLaW5kLnZhcmlhYmxlOlxuICAgICAgY2FzZSBLaW5kLmxvY2FsVmFyaWFibGU6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLlZhcmlhYmxlO1xuICAgICAgY2FzZSBLaW5kLm1lbWJlclZhcmlhYmxlOlxuICAgICAgY2FzZSBLaW5kLm1lbWJlckdldEFjY2Vzc29yOlxuICAgICAgY2FzZSBLaW5kLm1lbWJlclNldEFjY2Vzc29yOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5GaWVsZDtcbiAgICAgIGNhc2UgS2luZC5mdW5jdGlvbjpcbiAgICAgIGNhc2UgS2luZC5tZW1iZXJGdW5jdGlvbjpcbiAgICAgIGNhc2UgS2luZC5jb25zdHJ1Y3RTaWduYXR1cmU6XG4gICAgICBjYXNlIEtpbmQuY2FsbFNpZ25hdHVyZTpcbiAgICAgIGNhc2UgS2luZC5pbmRleFNpZ25hdHVyZTpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb247XG4gICAgICBjYXNlIEtpbmQuZW51bTpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRW51bTtcbiAgICAgIGNhc2UgS2luZC5tb2R1bGU6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZTtcbiAgICAgIGNhc2UgS2luZC5jbGFzczpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuQ2xhc3M7XG4gICAgICBjYXNlIEtpbmQuaW50ZXJmYWNlOlxuICAgICAgICByZXR1cm4gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkNvbXBsZXRpb25JdGVtS2luZC5JbnRlcmZhY2U7XG4gICAgICBjYXNlIEtpbmQud2FybmluZzpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuRmlsZTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5Db21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHk7XG4gIH1cbiAgc3RhdGljIGNyZWF0ZURvY3VtZW50YXRpb25TdHJpbmcoZGV0YWlscykge1xuICAgIGxldCBkb2N1bWVudGF0aW9uU3RyaW5nID0gZGlzcGxheVBhcnRzVG9TdHJpbmcoZGV0YWlscy5kb2N1bWVudGF0aW9uKTtcbiAgICBpZiAoZGV0YWlscy50YWdzKSB7XG4gICAgICBmb3IgKGNvbnN0IHRhZyBvZiBkZXRhaWxzLnRhZ3MpIHtcbiAgICAgICAgZG9jdW1lbnRhdGlvblN0cmluZyArPSBgXG5cbiR7dGFnVG9TdHJpbmcodGFnKX1gO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZG9jdW1lbnRhdGlvblN0cmluZztcbiAgfVxufTtcbmZ1bmN0aW9uIHRhZ1RvU3RyaW5nKHRhZykge1xuICBsZXQgdGFnTGFiZWwgPSBgKkAke3RhZy5uYW1lfSpgO1xuICBpZiAodGFnLm5hbWUgPT09IFwicGFyYW1cIiAmJiB0YWcudGV4dCkge1xuICAgIGNvbnN0IFtwYXJhbU5hbWUsIC4uLnJlc3RdID0gdGFnLnRleHQ7XG4gICAgdGFnTGFiZWwgKz0gYFxcYCR7cGFyYW1OYW1lLnRleHR9XFxgYDtcbiAgICBpZiAocmVzdC5sZW5ndGggPiAwKVxuICAgICAgdGFnTGFiZWwgKz0gYCBcXHUyMDE0ICR7cmVzdC5tYXAoKHIpID0+IHIudGV4dCkuam9pbihcIiBcIil9YDtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRhZy50ZXh0KSkge1xuICAgIHRhZ0xhYmVsICs9IGAgXFx1MjAxNCAke3RhZy50ZXh0Lm1hcCgocikgPT4gci50ZXh0KS5qb2luKFwiIFwiKX1gO1xuICB9IGVsc2UgaWYgKHRhZy50ZXh0KSB7XG4gICAgdGFnTGFiZWwgKz0gYCBcXHUyMDE0ICR7dGFnLnRleHR9YDtcbiAgfVxuICByZXR1cm4gdGFnTGFiZWw7XG59XG52YXIgU2lnbmF0dXJlSGVscEFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBzaWduYXR1cmVIZWxwVHJpZ2dlckNoYXJhY3RlcnMgPSBbXCIoXCIsIFwiLFwiXTtcbiAgc3RhdGljIF90b1NpZ25hdHVyZUhlbHBUcmlnZ2VyUmVhc29uKGNvbnRleHQpIHtcbiAgICBzd2l0Y2ggKGNvbnRleHQudHJpZ2dlcktpbmQpIHtcbiAgICAgIGNhc2UgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZC5UcmlnZ2VyQ2hhcmFjdGVyOlxuICAgICAgICBpZiAoY29udGV4dC50cmlnZ2VyQ2hhcmFjdGVyKSB7XG4gICAgICAgICAgaWYgKGNvbnRleHQuaXNSZXRyaWdnZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGtpbmQ6IFwicmV0cmlnZ2VyXCIsIHRyaWdnZXJDaGFyYWN0ZXI6IGNvbnRleHQudHJpZ2dlckNoYXJhY3RlciB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBraW5kOiBcImNoYXJhY3RlclR5cGVkXCIsIHRyaWdnZXJDaGFyYWN0ZXI6IGNvbnRleHQudHJpZ2dlckNoYXJhY3RlciB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBraW5kOiBcImludm9rZWRcIiB9O1xuICAgICAgICB9XG4gICAgICBjYXNlIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQuQ29udGVudENoYW5nZTpcbiAgICAgICAgcmV0dXJuIGNvbnRleHQuaXNSZXRyaWdnZXIgPyB7IGtpbmQ6IFwicmV0cmlnZ2VyXCIgfSA6IHsga2luZDogXCJpbnZva2VkXCIgfTtcbiAgICAgIGNhc2UgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZC5JbnZva2U6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4geyBraW5kOiBcImludm9rZWRcIiB9O1xuICAgIH1cbiAgfVxuICBhc3luYyBwcm92aWRlU2lnbmF0dXJlSGVscChtb2RlbCwgcG9zaXRpb24sIHRva2VuLCBjb250ZXh0KSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgb2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQocG9zaXRpb24pO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmZvID0gYXdhaXQgd29ya2VyLmdldFNpZ25hdHVyZUhlbHBJdGVtcyhyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQsIHtcbiAgICAgIHRyaWdnZXJSZWFzb246IFNpZ25hdHVyZUhlbHBBZGFwdGVyLl90b1NpZ25hdHVyZUhlbHBUcmlnZ2VyUmVhc29uKGNvbnRleHQpXG4gICAgfSk7XG4gICAgaWYgKCFpbmZvIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCByZXQgPSB7XG4gICAgICBhY3RpdmVTaWduYXR1cmU6IGluZm8uc2VsZWN0ZWRJdGVtSW5kZXgsXG4gICAgICBhY3RpdmVQYXJhbWV0ZXI6IGluZm8uYXJndW1lbnRJbmRleCxcbiAgICAgIHNpZ25hdHVyZXM6IFtdXG4gICAgfTtcbiAgICBpbmZvLml0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHtcbiAgICAgICAgbGFiZWw6IFwiXCIsXG4gICAgICAgIHBhcmFtZXRlcnM6IFtdXG4gICAgICB9O1xuICAgICAgc2lnbmF0dXJlLmRvY3VtZW50YXRpb24gPSB7XG4gICAgICAgIHZhbHVlOiBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLmRvY3VtZW50YXRpb24pXG4gICAgICB9O1xuICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0ucHJlZml4RGlzcGxheVBhcnRzKTtcbiAgICAgIGl0ZW0ucGFyYW1ldGVycy5mb3JFYWNoKChwLCBpLCBhKSA9PiB7XG4gICAgICAgIGNvbnN0IGxhYmVsID0gZGlzcGxheVBhcnRzVG9TdHJpbmcocC5kaXNwbGF5UGFydHMpO1xuICAgICAgICBjb25zdCBwYXJhbWV0ZXIgPSB7XG4gICAgICAgICAgbGFiZWwsXG4gICAgICAgICAgZG9jdW1lbnRhdGlvbjoge1xuICAgICAgICAgICAgdmFsdWU6IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKHAuZG9jdW1lbnRhdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBsYWJlbDtcbiAgICAgICAgc2lnbmF0dXJlLnBhcmFtZXRlcnMucHVzaChwYXJhbWV0ZXIpO1xuICAgICAgICBpZiAoaSA8IGEubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNpZ25hdHVyZS5sYWJlbCArPSBkaXNwbGF5UGFydHNUb1N0cmluZyhpdGVtLnNlcGFyYXRvckRpc3BsYXlQYXJ0cyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2lnbmF0dXJlLmxhYmVsICs9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGl0ZW0uc3VmZml4RGlzcGxheVBhcnRzKTtcbiAgICAgIHJldC5zaWduYXR1cmVzLnB1c2goc2lnbmF0dXJlKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IHJldCxcbiAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBRdWlja0luZm9BZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgYXN5bmMgcHJvdmlkZUhvdmVyKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB3b3JrZXIuZ2V0UXVpY2tJbmZvQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBvZmZzZXQpO1xuICAgIGlmICghaW5mbyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZG9jdW1lbnRhdGlvbiA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGluZm8uZG9jdW1lbnRhdGlvbik7XG4gICAgY29uc3QgdGFncyA9IGluZm8udGFncyA/IGluZm8udGFncy5tYXAoKHRhZykgPT4gdGFnVG9TdHJpbmcodGFnKSkuam9pbihcIiAgXFxuXFxuXCIpIDogXCJcIjtcbiAgICBjb25zdCBjb250ZW50cyA9IGRpc3BsYXlQYXJ0c1RvU3RyaW5nKGluZm8uZGlzcGxheVBhcnRzKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaW5mby50ZXh0U3BhbiksXG4gICAgICBjb250ZW50czogW1xuICAgICAgICB7XG4gICAgICAgICAgdmFsdWU6IFwiYGBgdHlwZXNjcmlwdFxcblwiICsgY29udGVudHMgKyBcIlxcbmBgYFxcblwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB2YWx1ZTogZG9jdW1lbnRhdGlvbiArICh0YWdzID8gXCJcXG5cXG5cIiArIHRhZ3MgOiBcIlwiKVxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufTtcbnZhciBPY2N1cnJlbmNlc0FkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBhc3luYyBwcm92aWRlRG9jdW1lbnRIaWdobGlnaHRzKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0T2NjdXJyZW5jZXNBdFBvc2l0aW9uKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCk7XG4gICAgaWYgKCFlbnRyaWVzIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcy5tYXAoKGVudHJ5KSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBlbnRyeS50ZXh0U3BhbiksXG4gICAgICAgIGtpbmQ6IGVudHJ5LmlzV3JpdGVBY2Nlc3MgPyBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuRG9jdW1lbnRIaWdobGlnaHRLaW5kLldyaXRlIDogbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLkRvY3VtZW50SGlnaGxpZ2h0S2luZC5UZXh0XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59O1xudmFyIERlZmluaXRpb25BZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoX2xpYkZpbGVzLCB3b3JrZXIpIHtcbiAgICBzdXBlcih3b3JrZXIpO1xuICAgIHRoaXMuX2xpYkZpbGVzID0gX2xpYkZpbGVzO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVEZWZpbml0aW9uKG1vZGVsLCBwb3NpdGlvbiwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0RGVmaW5pdGlvbkF0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KTtcbiAgICBpZiAoIWVudHJpZXMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuX2xpYkZpbGVzLmZldGNoTGliRmlsZXNJZk5lY2Vzc2FyeShlbnRyaWVzLm1hcCgoZW50cnkpID0+IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShlbnRyeS5maWxlTmFtZSkpKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJlZk1vZGVsID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChlbnRyeS5maWxlTmFtZSk7XG4gICAgICBpZiAocmVmTW9kZWwpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHVyaTogcmVmTW9kZWwudXJpLFxuICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UocmVmTW9kZWwsIGVudHJ5LnRleHRTcGFuKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbnZhciBSZWZlcmVuY2VBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoX2xpYkZpbGVzLCB3b3JrZXIpIHtcbiAgICBzdXBlcih3b3JrZXIpO1xuICAgIHRoaXMuX2xpYkZpbGVzID0gX2xpYkZpbGVzO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVSZWZlcmVuY2VzKG1vZGVsLCBwb3NpdGlvbiwgY29udGV4dCwgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVudHJpZXMgPSBhd2FpdCB3b3JrZXIuZ2V0UmVmZXJlbmNlc0F0UG9zaXRpb24ocmVzb3VyY2UudG9TdHJpbmcoKSwgb2Zmc2V0KTtcbiAgICBpZiAoIWVudHJpZXMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMuX2xpYkZpbGVzLmZldGNoTGliRmlsZXNJZk5lY2Vzc2FyeShlbnRyaWVzLm1hcCgoZW50cnkpID0+IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLlVyaS5wYXJzZShlbnRyeS5maWxlTmFtZSkpKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgIGNvbnN0IHJlZk1vZGVsID0gdGhpcy5fbGliRmlsZXMuZ2V0T3JDcmVhdGVNb2RlbChlbnRyeS5maWxlTmFtZSk7XG4gICAgICBpZiAocmVmTW9kZWwpIHtcbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIHVyaTogcmVmTW9kZWwudXJpLFxuICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UocmVmTW9kZWwsIGVudHJ5LnRleHRTcGFuKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbnZhciBPdXRsaW5lQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGFzeW5jIHByb3ZpZGVEb2N1bWVudFN5bWJvbHMobW9kZWwsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgd29ya2VyLmdldE5hdmlnYXRpb25CYXJJdGVtcyhyZXNvdXJjZS50b1N0cmluZygpKTtcbiAgICBpZiAoIWl0ZW1zIHx8IG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb252ZXJ0ID0gKGJ1Y2tldCwgaXRlbSwgY29udGFpbmVyTGFiZWwpID0+IHtcbiAgICAgIGxldCByZXN1bHQyID0ge1xuICAgICAgICBuYW1lOiBpdGVtLnRleHQsXG4gICAgICAgIGRldGFpbDogXCJcIixcbiAgICAgICAga2luZDogb3V0bGluZVR5cGVUYWJsZVtpdGVtLmtpbmRdIHx8IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlLFxuICAgICAgICByYW5nZTogdGhpcy5fdGV4dFNwYW5Ub1JhbmdlKG1vZGVsLCBpdGVtLnNwYW5zWzBdKSxcbiAgICAgICAgc2VsZWN0aW9uUmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgaXRlbS5zcGFuc1swXSksXG4gICAgICAgIHRhZ3M6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKGNvbnRhaW5lckxhYmVsKVxuICAgICAgICByZXN1bHQyLmNvbnRhaW5lck5hbWUgPSBjb250YWluZXJMYWJlbDtcbiAgICAgIGlmIChpdGVtLmNoaWxkSXRlbXMgJiYgaXRlbS5jaGlsZEl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgaXRlbS5jaGlsZEl0ZW1zKSB7XG4gICAgICAgICAgY29udmVydChidWNrZXQsIGNoaWxkLCByZXN1bHQyLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBidWNrZXQucHVzaChyZXN1bHQyKTtcbiAgICB9O1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBjb252ZXJ0KHJlc3VsdCwgaXRlbSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn07XG52YXIgS2luZCA9IGNsYXNzIHtcbn07XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwidW5rbm93blwiLCBcIlwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJrZXl3b3JkXCIsIFwia2V5d29yZFwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJzY3JpcHRcIiwgXCJzY3JpcHRcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibW9kdWxlXCIsIFwibW9kdWxlXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImNsYXNzXCIsIFwiY2xhc3NcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiaW50ZXJmYWNlXCIsIFwiaW50ZXJmYWNlXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcInR5cGVcIiwgXCJ0eXBlXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImVudW1cIiwgXCJlbnVtXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcInZhcmlhYmxlXCIsIFwidmFyXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImxvY2FsVmFyaWFibGVcIiwgXCJsb2NhbCB2YXJcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiZnVuY3Rpb25cIiwgXCJmdW5jdGlvblwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJsb2NhbEZ1bmN0aW9uXCIsIFwibG9jYWwgZnVuY3Rpb25cIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyRnVuY3Rpb25cIiwgXCJtZXRob2RcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyR2V0QWNjZXNzb3JcIiwgXCJnZXR0ZXJcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyU2V0QWNjZXNzb3JcIiwgXCJzZXR0ZXJcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibWVtYmVyVmFyaWFibGVcIiwgXCJwcm9wZXJ0eVwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJjb25zdHJ1Y3RvckltcGxlbWVudGF0aW9uXCIsIFwiY29uc3RydWN0b3JcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiY2FsbFNpZ25hdHVyZVwiLCBcImNhbGxcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwiaW5kZXhTaWduYXR1cmVcIiwgXCJpbmRleFwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJjb25zdHJ1Y3RTaWduYXR1cmVcIiwgXCJjb25zdHJ1Y3RcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwicGFyYW1ldGVyXCIsIFwicGFyYW1ldGVyXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcInR5cGVQYXJhbWV0ZXJcIiwgXCJ0eXBlIHBhcmFtZXRlclwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJwcmltaXRpdmVUeXBlXCIsIFwicHJpbWl0aXZlIHR5cGVcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibGFiZWxcIiwgXCJsYWJlbFwiKTtcbl9fcHVibGljRmllbGQoS2luZCwgXCJhbGlhc1wiLCBcImFsaWFzXCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcImNvbnN0XCIsIFwiY29uc3RcIik7XG5fX3B1YmxpY0ZpZWxkKEtpbmQsIFwibGV0XCIsIFwibGV0XCIpO1xuX19wdWJsaWNGaWVsZChLaW5kLCBcIndhcm5pbmdcIiwgXCJ3YXJuaW5nXCIpO1xudmFyIG91dGxpbmVUeXBlVGFibGUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tb2R1bGVdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuTW9kdWxlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmNsYXNzXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkNsYXNzO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmVudW1dID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuRW51bTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5pbnRlcmZhY2VdID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuSW50ZXJmYWNlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLm1lbWJlckZ1bmN0aW9uXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLk1ldGhvZDtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJWYXJpYWJsZV0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJHZXRBY2Nlc3Nvcl0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5tZW1iZXJTZXRBY2Nlc3Nvcl0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5Qcm9wZXJ0eTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC52YXJpYWJsZV0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5jb25zdF0gPSBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuU3ltYm9sS2luZC5WYXJpYWJsZTtcbm91dGxpbmVUeXBlVGFibGVbS2luZC5sb2NhbFZhcmlhYmxlXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLnZhcmlhYmxlXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLlZhcmlhYmxlO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmZ1bmN0aW9uXSA9IG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5TeW1ib2xLaW5kLkZ1bmN0aW9uO1xub3V0bGluZVR5cGVUYWJsZVtLaW5kLmxvY2FsRnVuY3Rpb25dID0gbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLlN5bWJvbEtpbmQuRnVuY3Rpb247XG52YXIgRm9ybWF0SGVscGVyID0gY2xhc3MgZXh0ZW5kcyBBZGFwdGVyIHtcbiAgc3RhdGljIF9jb252ZXJ0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIENvbnZlcnRUYWJzVG9TcGFjZXM6IG9wdGlvbnMuaW5zZXJ0U3BhY2VzLFxuICAgICAgVGFiU2l6ZTogb3B0aW9ucy50YWJTaXplLFxuICAgICAgSW5kZW50U2l6ZTogb3B0aW9ucy50YWJTaXplLFxuICAgICAgSW5kZW50U3R5bGU6IDIgLyogU21hcnQgKi8sXG4gICAgICBOZXdMaW5lQ2hhcmFjdGVyOiBcIlxcblwiLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlckNvbW1hRGVsaW1pdGVyOiB0cnVlLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlclNlbWljb2xvbkluRm9yU3RhdGVtZW50czogdHJ1ZSxcbiAgICAgIEluc2VydFNwYWNlQmVmb3JlQW5kQWZ0ZXJCaW5hcnlPcGVyYXRvcnM6IHRydWUsXG4gICAgICBJbnNlcnRTcGFjZUFmdGVyS2V5d29yZHNJbkNvbnRyb2xGbG93U3RhdGVtZW50czogdHJ1ZSxcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJGdW5jdGlvbktleXdvcmRGb3JBbm9ueW1vdXNGdW5jdGlvbnM6IHRydWUsXG4gICAgICBJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eVBhcmVudGhlc2lzOiBmYWxzZSxcbiAgICAgIEluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5QnJhY2tldHM6IGZhbHNlLFxuICAgICAgSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nVGVtcGxhdGVTdHJpbmdCcmFjZXM6IGZhbHNlLFxuICAgICAgUGxhY2VPcGVuQnJhY2VPbk5ld0xpbmVGb3JDb250cm9sQmxvY2tzOiBmYWxzZSxcbiAgICAgIFBsYWNlT3BlbkJyYWNlT25OZXdMaW5lRm9yRnVuY3Rpb25zOiBmYWxzZVxuICAgIH07XG4gIH1cbiAgX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgY2hhbmdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IGNoYW5nZS5uZXdUZXh0LFxuICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbCwgY2hhbmdlLnNwYW4pXG4gICAgfTtcbiAgfVxufTtcbnZhciBGb3JtYXRBZGFwdGVyID0gY2xhc3MgZXh0ZW5kcyBGb3JtYXRIZWxwZXIge1xuICBhc3luYyBwcm92aWRlRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0cyhtb2RlbCwgcmFuZ2UsIG9wdGlvbnMsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3Qgc3RhcnRPZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdCh7XG4gICAgICBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uXG4gICAgfSk7XG4gICAgY29uc3QgZW5kT2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2UuZW5kTGluZU51bWJlcixcbiAgICAgIGNvbHVtbjogcmFuZ2UuZW5kQ29sdW1uXG4gICAgfSk7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVkaXRzID0gYXdhaXQgd29ya2VyLmdldEZvcm1hdHRpbmdFZGl0c0ZvclJhbmdlKHJlc291cmNlLnRvU3RyaW5nKCksIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMob3B0aW9ucykpO1xuICAgIGlmICghZWRpdHMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBlZGl0cy5tYXAoKGVkaXQpID0+IHRoaXMuX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgZWRpdCkpO1xuICB9XG59O1xudmFyIEZvcm1hdE9uVHlwZUFkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEZvcm1hdEhlbHBlciB7XG4gIGdldCBhdXRvRm9ybWF0VHJpZ2dlckNoYXJhY3RlcnMoKSB7XG4gICAgcmV0dXJuIFtcIjtcIiwgXCJ9XCIsIFwiXFxuXCJdO1xuICB9XG4gIGFzeW5jIHByb3ZpZGVPblR5cGVGb3JtYXR0aW5nRWRpdHMobW9kZWwsIHBvc2l0aW9uLCBjaCwgb3B0aW9ucywgdG9rZW4pIHtcbiAgICBjb25zdCByZXNvdXJjZSA9IG1vZGVsLnVyaTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVkaXRzID0gYXdhaXQgd29ya2VyLmdldEZvcm1hdHRpbmdFZGl0c0FmdGVyS2V5c3Ryb2tlKHJlc291cmNlLnRvU3RyaW5nKCksIG9mZnNldCwgY2gsIEZvcm1hdEhlbHBlci5fY29udmVydE9wdGlvbnMob3B0aW9ucykpO1xuICAgIGlmICghZWRpdHMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBlZGl0cy5tYXAoKGVkaXQpID0+IHRoaXMuX2NvbnZlcnRUZXh0Q2hhbmdlcyhtb2RlbCwgZWRpdCkpO1xuICB9XG59O1xudmFyIENvZGVBY3Rpb25BZGFwdG9yID0gY2xhc3MgZXh0ZW5kcyBGb3JtYXRIZWxwZXIge1xuICBhc3luYyBwcm92aWRlQ29kZUFjdGlvbnMobW9kZWwsIHJhbmdlLCBjb250ZXh0LCB0b2tlbikge1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IHN0YXJ0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgY29sdW1uOiByYW5nZS5zdGFydENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IGVuZCA9IG1vZGVsLmdldE9mZnNldEF0KHtcbiAgICAgIGxpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLmVuZENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IGZvcm1hdE9wdGlvbnMgPSBGb3JtYXRIZWxwZXIuX2NvbnZlcnRPcHRpb25zKG1vZGVsLmdldE9wdGlvbnMoKSk7XG4gICAgY29uc3QgZXJyb3JDb2RlcyA9IGNvbnRleHQubWFya2Vycy5maWx0ZXIoKG0pID0+IG0uY29kZSkubWFwKChtKSA9PiBtLmNvZGUpLm1hcChOdW1iZXIpO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2RlRml4ZXMgPSBhd2FpdCB3b3JrZXIuZ2V0Q29kZUZpeGVzQXRQb3NpdGlvbihyZXNvdXJjZS50b1N0cmluZygpLCBzdGFydCwgZW5kLCBlcnJvckNvZGVzLCBmb3JtYXRPcHRpb25zKTtcbiAgICBpZiAoIWNvZGVGaXhlcyB8fCBtb2RlbC5pc0Rpc3Bvc2VkKCkpIHtcbiAgICAgIHJldHVybiB7IGFjdGlvbnM6IFtdLCBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICB9IH07XG4gICAgfVxuICAgIGNvbnN0IGFjdGlvbnMgPSBjb2RlRml4ZXMuZmlsdGVyKChmaXgpID0+IHtcbiAgICAgIHJldHVybiBmaXguY2hhbmdlcy5maWx0ZXIoKGNoYW5nZSkgPT4gY2hhbmdlLmlzTmV3RmlsZSkubGVuZ3RoID09PSAwO1xuICAgIH0pLm1hcCgoZml4KSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5fdHNDb2RlRml4QWN0aW9uVG9Nb25hY29Db2RlQWN0aW9uKG1vZGVsLCBjb250ZXh0LCBmaXgpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBhY3Rpb25zLFxuICAgICAgZGlzcG9zZTogKCkgPT4ge1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgX3RzQ29kZUZpeEFjdGlvblRvTW9uYWNvQ29kZUFjdGlvbihtb2RlbCwgY29udGV4dCwgY29kZUZpeCkge1xuICAgIGNvbnN0IGVkaXRzID0gW107XG4gICAgZm9yIChjb25zdCBjaGFuZ2Ugb2YgY29kZUZpeC5jaGFuZ2VzKSB7XG4gICAgICBmb3IgKGNvbnN0IHRleHRDaGFuZ2Ugb2YgY2hhbmdlLnRleHRDaGFuZ2VzKSB7XG4gICAgICAgIGVkaXRzLnB1c2goe1xuICAgICAgICAgIHJlc291cmNlOiBtb2RlbC51cmksXG4gICAgICAgICAgdmVyc2lvbklkOiB2b2lkIDAsXG4gICAgICAgICAgdGV4dEVkaXQ6IHtcbiAgICAgICAgICAgIHJhbmdlOiB0aGlzLl90ZXh0U3BhblRvUmFuZ2UobW9kZWwsIHRleHRDaGFuZ2Uuc3BhbiksXG4gICAgICAgICAgICB0ZXh0OiB0ZXh0Q2hhbmdlLm5ld1RleHRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhY3Rpb24gPSB7XG4gICAgICB0aXRsZTogY29kZUZpeC5kZXNjcmlwdGlvbixcbiAgICAgIGVkaXQ6IHsgZWRpdHMgfSxcbiAgICAgIGRpYWdub3N0aWNzOiBjb250ZXh0Lm1hcmtlcnMsXG4gICAgICBraW5kOiBcInF1aWNrZml4XCJcbiAgICB9O1xuICAgIHJldHVybiBhY3Rpb247XG4gIH1cbn07XG52YXIgUmVuYW1lQWRhcHRlciA9IGNsYXNzIGV4dGVuZHMgQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKF9saWJGaWxlcywgd29ya2VyKSB7XG4gICAgc3VwZXIod29ya2VyKTtcbiAgICB0aGlzLl9saWJGaWxlcyA9IF9saWJGaWxlcztcbiAgfVxuICBhc3luYyBwcm92aWRlUmVuYW1lRWRpdHMobW9kZWwsIHBvc2l0aW9uLCBuZXdOYW1lLCB0b2tlbikge1xuICAgIGNvbnN0IHJlc291cmNlID0gbW9kZWwudXJpO1xuICAgIGNvbnN0IGZpbGVOYW1lID0gcmVzb3VyY2UudG9TdHJpbmcoKTtcbiAgICBjb25zdCBvZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChwb3NpdGlvbik7XG4gICAgY29uc3Qgd29ya2VyID0gYXdhaXQgdGhpcy5fd29ya2VyKHJlc291cmNlKTtcbiAgICBpZiAobW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlbmFtZUluZm8gPSBhd2FpdCB3b3JrZXIuZ2V0UmVuYW1lSW5mbyhmaWxlTmFtZSwgb2Zmc2V0LCB7XG4gICAgICBhbGxvd1JlbmFtZU9mSW1wb3J0UGF0aDogZmFsc2VcbiAgICB9KTtcbiAgICBpZiAocmVuYW1lSW5mby5jYW5SZW5hbWUgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlZGl0czogW10sXG4gICAgICAgIHJlamVjdFJlYXNvbjogcmVuYW1lSW5mby5sb2NhbGl6ZWRFcnJvck1lc3NhZ2VcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChyZW5hbWVJbmZvLmZpbGVUb1JlbmFtZSAhPT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZW5hbWluZyBmaWxlcyBpcyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgICB9XG4gICAgY29uc3QgcmVuYW1lTG9jYXRpb25zID0gYXdhaXQgd29ya2VyLmZpbmRSZW5hbWVMb2NhdGlvbnMoZmlsZU5hbWUsIG9mZnNldCwgZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgaWYgKCFyZW5hbWVMb2NhdGlvbnMgfHwgbW9kZWwuaXNEaXNwb3NlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGVkaXRzID0gW107XG4gICAgZm9yIChjb25zdCByZW5hbWVMb2NhdGlvbiBvZiByZW5hbWVMb2NhdGlvbnMpIHtcbiAgICAgIGNvbnN0IG1vZGVsMiA9IHRoaXMuX2xpYkZpbGVzLmdldE9yQ3JlYXRlTW9kZWwocmVuYW1lTG9jYXRpb24uZmlsZU5hbWUpO1xuICAgICAgaWYgKG1vZGVsMikge1xuICAgICAgICBlZGl0cy5wdXNoKHtcbiAgICAgICAgICByZXNvdXJjZTogbW9kZWwyLnVyaSxcbiAgICAgICAgICB2ZXJzaW9uSWQ6IHZvaWQgMCxcbiAgICAgICAgICB0ZXh0RWRpdDoge1xuICAgICAgICAgICAgcmFuZ2U6IHRoaXMuX3RleHRTcGFuVG9SYW5nZShtb2RlbDIsIHJlbmFtZUxvY2F0aW9uLnRleHRTcGFuKSxcbiAgICAgICAgICAgIHRleHQ6IG5ld05hbWVcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpbGUgJHtyZW5hbWVMb2NhdGlvbi5maWxlTmFtZX0uYCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGVkaXRzIH07XG4gIH1cbn07XG52YXIgSW5sYXlIaW50c0FkYXB0ZXIgPSBjbGFzcyBleHRlbmRzIEFkYXB0ZXIge1xuICBhc3luYyBwcm92aWRlSW5sYXlIaW50cyhtb2RlbCwgcmFuZ2UsIHRva2VuKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSBtb2RlbC51cmk7XG4gICAgY29uc3QgZmlsZU5hbWUgPSByZXNvdXJjZS50b1N0cmluZygpO1xuICAgIGNvbnN0IHN0YXJ0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoe1xuICAgICAgbGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgY29sdW1uOiByYW5nZS5zdGFydENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IGVuZCA9IG1vZGVsLmdldE9mZnNldEF0KHtcbiAgICAgIGxpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICBjb2x1bW46IHJhbmdlLmVuZENvbHVtblxuICAgIH0pO1xuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHRoaXMuX3dvcmtlcihyZXNvdXJjZSk7XG4gICAgaWYgKG1vZGVsLmlzRGlzcG9zZWQoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHRzSGludHMgPSBhd2FpdCB3b3JrZXIucHJvdmlkZUlubGF5SGludHMoZmlsZU5hbWUsIHN0YXJ0LCBlbmQpO1xuICAgIGNvbnN0IGhpbnRzID0gdHNIaW50cy5tYXAoKGhpbnQpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmhpbnQsXG4gICAgICAgIGxhYmVsOiBoaW50LnRleHQsXG4gICAgICAgIHBvc2l0aW9uOiBtb2RlbC5nZXRQb3NpdGlvbkF0KGhpbnQucG9zaXRpb24pLFxuICAgICAgICBraW5kOiB0aGlzLl9jb252ZXJ0SGludEtpbmQoaGludC5raW5kKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICByZXR1cm4geyBoaW50cywgZGlzcG9zZTogKCkgPT4ge1xuICAgIH0gfTtcbiAgfVxuICBfY29udmVydEhpbnRLaW5kKGtpbmQpIHtcbiAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgIGNhc2UgXCJQYXJhbWV0ZXJcIjpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5JbmxheUhpbnRLaW5kLlBhcmFtZXRlcjtcbiAgICAgIGNhc2UgXCJUeXBlXCI6XG4gICAgICAgIHJldHVybiBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMuSW5sYXlIaW50S2luZC5UeXBlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5JbmxheUhpbnRLaW5kLlR5cGU7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvbGFuZ3VhZ2UvdHlwZXNjcmlwdC90c01vZGUudHNcbnZhciBqYXZhU2NyaXB0V29ya2VyO1xudmFyIHR5cGVTY3JpcHRXb3JrZXI7XG5mdW5jdGlvbiBzZXR1cFR5cGVTY3JpcHQoZGVmYXVsdHMpIHtcbiAgdHlwZVNjcmlwdFdvcmtlciA9IHNldHVwTW9kZShkZWZhdWx0cywgXCJ0eXBlc2NyaXB0XCIpO1xufVxuZnVuY3Rpb24gc2V0dXBKYXZhU2NyaXB0KGRlZmF1bHRzKSB7XG4gIGphdmFTY3JpcHRXb3JrZXIgPSBzZXR1cE1vZGUoZGVmYXVsdHMsIFwiamF2YXNjcmlwdFwiKTtcbn1cbmZ1bmN0aW9uIGdldEphdmFTY3JpcHRXb3JrZXIoKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKCFqYXZhU2NyaXB0V29ya2VyKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KFwiSmF2YVNjcmlwdCBub3QgcmVnaXN0ZXJlZCFcIik7XG4gICAgfVxuICAgIHJlc29sdmUoamF2YVNjcmlwdFdvcmtlcik7XG4gIH0pO1xufVxuZnVuY3Rpb24gZ2V0VHlwZVNjcmlwdFdvcmtlcigpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIXR5cGVTY3JpcHRXb3JrZXIpIHtcbiAgICAgIHJldHVybiByZWplY3QoXCJUeXBlU2NyaXB0IG5vdCByZWdpc3RlcmVkIVwiKTtcbiAgICB9XG4gICAgcmVzb2x2ZSh0eXBlU2NyaXB0V29ya2VyKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBzZXR1cE1vZGUoZGVmYXVsdHMsIG1vZGVJZCkge1xuICBjb25zdCBjbGllbnQgPSBuZXcgV29ya2VyTWFuYWdlcihtb2RlSWQsIGRlZmF1bHRzKTtcbiAgY29uc3Qgd29ya2VyID0gKC4uLnVyaXMpID0+IHtcbiAgICByZXR1cm4gY2xpZW50LmdldExhbmd1YWdlU2VydmljZVdvcmtlciguLi51cmlzKTtcbiAgfTtcbiAgY29uc3QgbGliRmlsZXMgPSBuZXcgTGliRmlsZXMod29ya2VyKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlcihtb2RlSWQsIG5ldyBTdWdnZXN0QWRhcHRlcih3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyU2lnbmF0dXJlSGVscFByb3ZpZGVyKG1vZGVJZCwgbmV3IFNpZ25hdHVyZUhlbHBBZGFwdGVyKHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJIb3ZlclByb3ZpZGVyKG1vZGVJZCwgbmV3IFF1aWNrSW5mb0FkYXB0ZXIod29ya2VyKSk7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlckRvY3VtZW50SGlnaGxpZ2h0UHJvdmlkZXIobW9kZUlkLCBuZXcgT2NjdXJyZW5jZXNBZGFwdGVyKHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJEZWZpbml0aW9uUHJvdmlkZXIobW9kZUlkLCBuZXcgRGVmaW5pdGlvbkFkYXB0ZXIobGliRmlsZXMsIHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJSZWZlcmVuY2VQcm92aWRlcihtb2RlSWQsIG5ldyBSZWZlcmVuY2VBZGFwdGVyKGxpYkZpbGVzLCB3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRTeW1ib2xQcm92aWRlcihtb2RlSWQsIG5ldyBPdXRsaW5lQWRhcHRlcih3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyRG9jdW1lbnRSYW5nZUZvcm1hdHRpbmdFZGl0UHJvdmlkZXIobW9kZUlkLCBuZXcgRm9ybWF0QWRhcHRlcih3b3JrZXIpKTtcbiAgbW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMubGFuZ3VhZ2VzLnJlZ2lzdGVyT25UeXBlRm9ybWF0dGluZ0VkaXRQcm92aWRlcihtb2RlSWQsIG5ldyBGb3JtYXRPblR5cGVBZGFwdGVyKHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJDb2RlQWN0aW9uUHJvdmlkZXIobW9kZUlkLCBuZXcgQ29kZUFjdGlvbkFkYXB0b3Iod29ya2VyKSk7XG4gIG1vbmFjb19lZGl0b3JfY29yZV9leHBvcnRzLmxhbmd1YWdlcy5yZWdpc3RlclJlbmFtZVByb3ZpZGVyKG1vZGVJZCwgbmV3IFJlbmFtZUFkYXB0ZXIobGliRmlsZXMsIHdvcmtlcikpO1xuICBtb25hY29fZWRpdG9yX2NvcmVfZXhwb3J0cy5sYW5ndWFnZXMucmVnaXN0ZXJJbmxheUhpbnRzUHJvdmlkZXIobW9kZUlkLCBuZXcgSW5sYXlIaW50c0FkYXB0ZXIod29ya2VyKSk7XG4gIG5ldyBEaWFnbm9zdGljc0FkYXB0ZXIobGliRmlsZXMsIGRlZmF1bHRzLCBtb2RlSWQsIHdvcmtlcik7XG4gIHJldHVybiB3b3JrZXI7XG59XG5leHBvcnQge1xuICBBZGFwdGVyLFxuICBDb2RlQWN0aW9uQWRhcHRvcixcbiAgRGVmaW5pdGlvbkFkYXB0ZXIsXG4gIERpYWdub3N0aWNzQWRhcHRlcixcbiAgRm9ybWF0QWRhcHRlcixcbiAgRm9ybWF0SGVscGVyLFxuICBGb3JtYXRPblR5cGVBZGFwdGVyLFxuICBJbmxheUhpbnRzQWRhcHRlcixcbiAgS2luZCxcbiAgTGliRmlsZXMsXG4gIE9jY3VycmVuY2VzQWRhcHRlcixcbiAgT3V0bGluZUFkYXB0ZXIsXG4gIFF1aWNrSW5mb0FkYXB0ZXIsXG4gIFJlZmVyZW5jZUFkYXB0ZXIsXG4gIFJlbmFtZUFkYXB0ZXIsXG4gIFNpZ25hdHVyZUhlbHBBZGFwdGVyLFxuICBTdWdnZXN0QWRhcHRlcixcbiAgV29ya2VyTWFuYWdlcixcbiAgZmxhdHRlbkRpYWdub3N0aWNNZXNzYWdlVGV4dCxcbiAgZ2V0SmF2YVNjcmlwdFdvcmtlcixcbiAgZ2V0VHlwZVNjcmlwdFdvcmtlcixcbiAgc2V0dXBKYXZhU2NyaXB0LFxuICBzZXR1cFR5cGVTY3JpcHRcbn07XG4iXSwibmFtZXMiOlsiX19kZWZQcm9wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJfX2dldE93blByb3BEZXNjIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiX19nZXRPd25Qcm9wTmFtZXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiX19oYXNPd25Qcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJfX2NvcHlQcm9wcyIsInRvIiwiZnJvbSIsImV4Y2VwdCIsImRlc2MiLCJrZXkiLCJjYWxsIiwiZ2V0IiwiZW51bWVyYWJsZSIsIl9fcHVibGljRmllbGQiLCJvYmoiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiX19kZWZOb3JtYWxQcm9wIiwibW9uYWNvX2VkaXRvcl9jb3JlX2V4cG9ydHMiLCJXb3JrZXJNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJfbW9kZUlkIiwiX2RlZmF1bHRzIiwidGhpcyIsIl93b3JrZXIiLCJfY2xpZW50IiwiX2NvbmZpZ0NoYW5nZUxpc3RlbmVyIiwib25EaWRDaGFuZ2UiLCJfc3RvcFdvcmtlciIsIl91cGRhdGVFeHRyYUxpYnNUb2tlbiIsIl9leHRyYUxpYnNDaGFuZ2VMaXN0ZW5lciIsIm9uRGlkRXh0cmFMaWJzQ2hhbmdlIiwiX3VwZGF0ZUV4dHJhTGlicyIsImRpc3Bvc2UiLCJhc3luYyIsIm15VG9rZW4iLCJwcm94eSIsImdldFByb3h5IiwidXBkYXRlRXh0cmFMaWJzIiwiZ2V0RXh0cmFMaWJzIiwiX2dldENsaWVudCIsImVkaXRvciIsImNyZWF0ZVdlYldvcmtlciIsIm1vZHVsZUlkIiwibGFiZWwiLCJrZWVwSWRsZU1vZGVscyIsImNyZWF0ZURhdGEiLCJjb21waWxlck9wdGlvbnMiLCJnZXRDb21waWxlck9wdGlvbnMiLCJleHRyYUxpYnMiLCJjdXN0b21Xb3JrZXJQYXRoIiwid29ya2VyT3B0aW9ucyIsImlubGF5SGludHNPcHRpb25zIiwiZ2V0RWFnZXJNb2RlbFN5bmMiLCJ3aXRoU3luY2VkUmVzb3VyY2VzIiwiZ2V0TW9kZWxzIiwiZmlsdGVyIiwibW9kZWwiLCJnZXRMYW5ndWFnZUlkIiwibWFwIiwidXJpIiwicmVzb3VyY2VzIiwiY2xpZW50IiwibGliRmlsZVNldCIsImZsYXR0ZW5EaWFnbm9zdGljTWVzc2FnZVRleHQiLCJkaWFnIiwibmV3TGluZSIsImluZGVudCIsInJlc3VsdCIsImkiLCJtZXNzYWdlVGV4dCIsIm5leHQiLCJraWQiLCJkaXNwbGF5UGFydHNUb1N0cmluZyIsImRpc3BsYXlQYXJ0cyIsImRpc3BsYXlQYXJ0IiwidGV4dCIsImpvaW4iLCJBZGFwdGVyIiwiX3RleHRTcGFuVG9SYW5nZSIsInNwYW4iLCJwMSIsImdldFBvc2l0aW9uQXQiLCJzdGFydCIsInAyIiwibGVuZ3RoIiwibGluZU51bWJlciIsInN0YXJ0TGluZU51bWJlciIsImNvbHVtbiIsInN0YXJ0Q29sdW1uIiwiZW5kTGluZU51bWJlciIsImVuZENvbHVtbiIsIkxpYkZpbGVzIiwiX2xpYkZpbGVzIiwiX2hhc0ZldGNoZWRMaWJGaWxlcyIsIl9mZXRjaExpYkZpbGVzUHJvbWlzZSIsImlzTGliRmlsZSIsInBhdGgiLCJpbmRleE9mIiwic2xpY2UiLCJnZXRPckNyZWF0ZU1vZGVsIiwiZmlsZU5hbWUiLCJVcmkiLCJwYXJzZSIsImdldE1vZGVsIiwiY3JlYXRlTW9kZWwiLCJtYXRjaGVkTGliRmlsZSIsImNvbnRlbnQiLCJfY29udGFpbnNMaWJGaWxlIiwidXJpcyIsIl9mZXRjaExpYkZpbGVzIiwidGhlbiIsInciLCJnZXRMaWJGaWxlcyIsImxpYkZpbGVzIiwiRGlhZ25vc3RpY3NBZGFwdGVyIiwiX3NlbGVjdG9yIiwid29ya2VyIiwic3VwZXIiLCJvbk1vZGVsQWRkIiwibWF5YmVWYWxpZGF0ZSIsIm9ubHlWaXNpYmxlIiwiZ2V0RGlhZ25vc3RpY3NPcHRpb25zIiwiaXNBdHRhY2hlZFRvRWRpdG9yIiwiX2RvVmFsaWRhdGUiLCJoYW5kbGUiLCJjaGFuZ2VTdWJzY3JpcHRpb24iLCJvbkRpZENoYW5nZUNvbnRlbnQiLCJjbGVhclRpbWVvdXQiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwidmlzaWJsZVN1YnNjcmlwdGlvbiIsIm9uRGlkQ2hhbmdlQXR0YWNoZWQiLCJzZXRNb2RlbE1hcmtlcnMiLCJfbGlzdGVuZXIiLCJ0b1N0cmluZyIsIm9uTW9kZWxSZW1vdmVkIiwiX2Rpc3Bvc2FibGVzIiwicHVzaCIsIm9uRGlkQ3JlYXRlTW9kZWwiLCJvbldpbGxEaXNwb3NlTW9kZWwiLCJvbkRpZENoYW5nZU1vZGVsTGFuZ3VhZ2UiLCJldmVudCIsInJlY29tcHV0ZURpYWdvc3RpY3MiLCJmb3JFYWNoIiwiY3JlYXRlIiwiZCIsImlzRGlzcG9zZWQiLCJwcm9taXNlcyIsIm5vU3ludGF4VmFsaWRhdGlvbiIsIm5vU2VtYW50aWNWYWxpZGF0aW9uIiwibm9TdWdnZXN0aW9uRGlhZ25vc3RpY3MiLCJnZXRTeW50YWN0aWNEaWFnbm9zdGljcyIsImdldFNlbWFudGljRGlhZ25vc3RpY3MiLCJnZXRTdWdnZXN0aW9uRGlhZ25vc3RpY3MiLCJhbGxEaWFnbm9zdGljcyIsIlByb21pc2UiLCJhbGwiLCJkaWFnbm9zdGljcyIsInJlZHVjZSIsInAiLCJjIiwiY29uY2F0IiwiZGlhZ25vc3RpY0NvZGVzVG9JZ25vcmUiLCJjb2RlIiwicmVsYXRlZFVyaXMiLCJyZWxhdGVkSW5mb3JtYXRpb24iLCJmaWxlIiwiZmV0Y2hMaWJGaWxlc0lmTmVjZXNzYXJ5IiwiX2NvbnZlcnREaWFnbm9zdGljcyIsImRpYWdTdGFydCIsImRpYWdMZW5ndGgiLCJ0YWdzIiwicmVwb3J0c1VubmVjZXNzYXJ5IiwiTWFya2VyVGFnIiwiVW5uZWNlc3NhcnkiLCJyZXBvcnRzRGVwcmVjYXRlZCIsIkRlcHJlY2F0ZWQiLCJzZXZlcml0eSIsIl90c0RpYWdub3N0aWNDYXRlZ29yeVRvTWFya2VyU2V2ZXJpdHkiLCJjYXRlZ29yeSIsIm1lc3NhZ2UiLCJfY29udmVydFJlbGF0ZWRJbmZvcm1hdGlvbiIsImluZm8iLCJyZWxhdGVkUmVzb3VyY2UiLCJpbmZvU3RhcnQiLCJpbmZvTGVuZ3RoIiwicmVzb3VyY2UiLCJNYXJrZXJTZXZlcml0eSIsIkVycm9yIiwiSW5mbyIsIldhcm5pbmciLCJIaW50IiwiU3VnZ2VzdEFkYXB0ZXIiLCJ0cmlnZ2VyQ2hhcmFjdGVycyIsInBvc2l0aW9uIiwiX2NvbnRleHQiLCJ0b2tlbiIsIndvcmRJbmZvIiwiZ2V0V29yZFVudGlsUG9zaXRpb24iLCJ3b3JkUmFuZ2UiLCJSYW5nZSIsIm9mZnNldCIsImdldE9mZnNldEF0IiwiZ2V0Q29tcGxldGlvbnNBdFBvc2l0aW9uIiwic3VnZ2VzdGlvbnMiLCJlbnRyaWVzIiwiZW50cnkiLCJyYW5nZSIsInJlcGxhY2VtZW50U3BhbiIsImtpbmRNb2RpZmllcnMiLCJsYW5ndWFnZXMiLCJDb21wbGV0aW9uSXRlbVRhZyIsIm5hbWUiLCJpbnNlcnRUZXh0Iiwic29ydFRleHQiLCJraW5kIiwiY29udmVydEtpbmQiLCJpdGVtIiwibXlJdGVtIiwiZGV0YWlscyIsImdldENvbXBsZXRpb25FbnRyeURldGFpbHMiLCJkZXRhaWwiLCJkb2N1bWVudGF0aW9uIiwiY3JlYXRlRG9jdW1lbnRhdGlvblN0cmluZyIsInN0YXRpYyIsIktpbmQiLCJwcmltaXRpdmVUeXBlIiwia2V5d29yZCIsIkNvbXBsZXRpb25JdGVtS2luZCIsIktleXdvcmQiLCJ2YXJpYWJsZSIsImxvY2FsVmFyaWFibGUiLCJWYXJpYWJsZSIsIm1lbWJlclZhcmlhYmxlIiwibWVtYmVyR2V0QWNjZXNzb3IiLCJtZW1iZXJTZXRBY2Nlc3NvciIsIkZpZWxkIiwiZnVuY3Rpb24iLCJtZW1iZXJGdW5jdGlvbiIsImNvbnN0cnVjdFNpZ25hdHVyZSIsImNhbGxTaWduYXR1cmUiLCJpbmRleFNpZ25hdHVyZSIsIkZ1bmN0aW9uIiwiZW51bSIsIkVudW0iLCJtb2R1bGUiLCJNb2R1bGUiLCJjbGFzcyIsIkNsYXNzIiwiaW50ZXJmYWNlIiwiSW50ZXJmYWNlIiwid2FybmluZyIsIkZpbGUiLCJQcm9wZXJ0eSIsImRvY3VtZW50YXRpb25TdHJpbmciLCJ0YWciLCJ0YWdUb1N0cmluZyIsInRhZ0xhYmVsIiwicGFyYW1OYW1lIiwicmVzdCIsInIiLCJBcnJheSIsImlzQXJyYXkiLCJTaWduYXR1cmVIZWxwQWRhcHRlciIsInNpZ25hdHVyZUhlbHBUcmlnZ2VyQ2hhcmFjdGVycyIsImNvbnRleHQiLCJ0cmlnZ2VyS2luZCIsIlNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZCIsIlRyaWdnZXJDaGFyYWN0ZXIiLCJ0cmlnZ2VyQ2hhcmFjdGVyIiwiaXNSZXRyaWdnZXIiLCJDb250ZW50Q2hhbmdlIiwiSW52b2tlIiwiZ2V0U2lnbmF0dXJlSGVscEl0ZW1zIiwidHJpZ2dlclJlYXNvbiIsIl90b1NpZ25hdHVyZUhlbHBUcmlnZ2VyUmVhc29uIiwicmV0IiwiYWN0aXZlU2lnbmF0dXJlIiwic2VsZWN0ZWRJdGVtSW5kZXgiLCJhY3RpdmVQYXJhbWV0ZXIiLCJhcmd1bWVudEluZGV4Iiwic2lnbmF0dXJlcyIsIml0ZW1zIiwic2lnbmF0dXJlIiwicGFyYW1ldGVycyIsInByZWZpeERpc3BsYXlQYXJ0cyIsImEiLCJwYXJhbWV0ZXIiLCJzZXBhcmF0b3JEaXNwbGF5UGFydHMiLCJzdWZmaXhEaXNwbGF5UGFydHMiLCJRdWlja0luZm9BZGFwdGVyIiwiZ2V0UXVpY2tJbmZvQXRQb3NpdGlvbiIsImNvbnRlbnRzIiwidGV4dFNwYW4iLCJPY2N1cnJlbmNlc0FkYXB0ZXIiLCJnZXRPY2N1cnJlbmNlc0F0UG9zaXRpb24iLCJpc1dyaXRlQWNjZXNzIiwiRG9jdW1lbnRIaWdobGlnaHRLaW5kIiwiV3JpdGUiLCJUZXh0IiwiRGVmaW5pdGlvbkFkYXB0ZXIiLCJnZXREZWZpbml0aW9uQXRQb3NpdGlvbiIsInJlZk1vZGVsIiwiUmVmZXJlbmNlQWRhcHRlciIsImdldFJlZmVyZW5jZXNBdFBvc2l0aW9uIiwiT3V0bGluZUFkYXB0ZXIiLCJnZXROYXZpZ2F0aW9uQmFySXRlbXMiLCJjb252ZXJ0IiwiYnVja2V0IiwiY29udGFpbmVyTGFiZWwiLCJyZXN1bHQyIiwib3V0bGluZVR5cGVUYWJsZSIsIlN5bWJvbEtpbmQiLCJzcGFucyIsInNlbGVjdGlvblJhbmdlIiwiY29udGFpbmVyTmFtZSIsImNoaWxkSXRlbXMiLCJjaGlsZCIsIk1ldGhvZCIsImNvbnN0IiwibG9jYWxGdW5jdGlvbiIsImphdmFTY3JpcHRXb3JrZXIiLCJ0eXBlU2NyaXB0V29ya2VyIiwiRm9ybWF0SGVscGVyIiwib3B0aW9ucyIsIkNvbnZlcnRUYWJzVG9TcGFjZXMiLCJpbnNlcnRTcGFjZXMiLCJUYWJTaXplIiwidGFiU2l6ZSIsIkluZGVudFNpemUiLCJJbmRlbnRTdHlsZSIsIk5ld0xpbmVDaGFyYWN0ZXIiLCJJbnNlcnRTcGFjZUFmdGVyQ29tbWFEZWxpbWl0ZXIiLCJJbnNlcnRTcGFjZUFmdGVyU2VtaWNvbG9uSW5Gb3JTdGF0ZW1lbnRzIiwiSW5zZXJ0U3BhY2VCZWZvcmVBbmRBZnRlckJpbmFyeU9wZXJhdG9ycyIsIkluc2VydFNwYWNlQWZ0ZXJLZXl3b3Jkc0luQ29udHJvbEZsb3dTdGF0ZW1lbnRzIiwiSW5zZXJ0U3BhY2VBZnRlckZ1bmN0aW9uS2V5d29yZEZvckFub255bW91c0Z1bmN0aW9ucyIsIkluc2VydFNwYWNlQWZ0ZXJPcGVuaW5nQW5kQmVmb3JlQ2xvc2luZ05vbmVtcHR5UGFyZW50aGVzaXMiLCJJbnNlcnRTcGFjZUFmdGVyT3BlbmluZ0FuZEJlZm9yZUNsb3NpbmdOb25lbXB0eUJyYWNrZXRzIiwiSW5zZXJ0U3BhY2VBZnRlck9wZW5pbmdBbmRCZWZvcmVDbG9zaW5nVGVtcGxhdGVTdHJpbmdCcmFjZXMiLCJQbGFjZU9wZW5CcmFjZU9uTmV3TGluZUZvckNvbnRyb2xCbG9ja3MiLCJQbGFjZU9wZW5CcmFjZU9uTmV3TGluZUZvckZ1bmN0aW9ucyIsIl9jb252ZXJ0VGV4dENoYW5nZXMiLCJjaGFuZ2UiLCJuZXdUZXh0IiwiRm9ybWF0QWRhcHRlciIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiZWRpdHMiLCJnZXRGb3JtYXR0aW5nRWRpdHNGb3JSYW5nZSIsIl9jb252ZXJ0T3B0aW9ucyIsImVkaXQiLCJGb3JtYXRPblR5cGVBZGFwdGVyIiwiYXV0b0Zvcm1hdFRyaWdnZXJDaGFyYWN0ZXJzIiwiY2giLCJnZXRGb3JtYXR0aW5nRWRpdHNBZnRlcktleXN0cm9rZSIsIkNvZGVBY3Rpb25BZGFwdG9yIiwiZW5kIiwiZm9ybWF0T3B0aW9ucyIsImdldE9wdGlvbnMiLCJlcnJvckNvZGVzIiwibWFya2VycyIsIm0iLCJOdW1iZXIiLCJjb2RlRml4ZXMiLCJnZXRDb2RlRml4ZXNBdFBvc2l0aW9uIiwiYWN0aW9ucyIsImZpeCIsImNoYW5nZXMiLCJpc05ld0ZpbGUiLCJfdHNDb2RlRml4QWN0aW9uVG9Nb25hY29Db2RlQWN0aW9uIiwiY29kZUZpeCIsInRleHRDaGFuZ2UiLCJ0ZXh0Q2hhbmdlcyIsInZlcnNpb25JZCIsInRleHRFZGl0IiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsIlJlbmFtZUFkYXB0ZXIiLCJuZXdOYW1lIiwicmVuYW1lSW5mbyIsImdldFJlbmFtZUluZm8iLCJhbGxvd1JlbmFtZU9mSW1wb3J0UGF0aCIsImNhblJlbmFtZSIsInJlamVjdFJlYXNvbiIsImxvY2FsaXplZEVycm9yTWVzc2FnZSIsImZpbGVUb1JlbmFtZSIsInJlbmFtZUxvY2F0aW9ucyIsImZpbmRSZW5hbWVMb2NhdGlvbnMiLCJyZW5hbWVMb2NhdGlvbiIsIm1vZGVsMiIsIklubGF5SGludHNBZGFwdGVyIiwiaGludHMiLCJwcm92aWRlSW5sYXlIaW50cyIsImhpbnQiLCJfY29udmVydEhpbnRLaW5kIiwiSW5sYXlIaW50S2luZCIsIlBhcmFtZXRlciIsIlR5cGUiLCJzZXR1cFR5cGVTY3JpcHQiLCJkZWZhdWx0cyIsInNldHVwTW9kZSIsInNldHVwSmF2YVNjcmlwdCIsImdldEphdmFTY3JpcHRXb3JrZXIiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2V0VHlwZVNjcmlwdFdvcmtlciIsIm1vZGVJZCIsImdldExhbmd1YWdlU2VydmljZVdvcmtlciIsInJlZ2lzdGVyQ29tcGxldGlvbkl0ZW1Qcm92aWRlciIsInJlZ2lzdGVyU2lnbmF0dXJlSGVscFByb3ZpZGVyIiwicmVnaXN0ZXJIb3ZlclByb3ZpZGVyIiwicmVnaXN0ZXJEb2N1bWVudEhpZ2hsaWdodFByb3ZpZGVyIiwicmVnaXN0ZXJEZWZpbml0aW9uUHJvdmlkZXIiLCJyZWdpc3RlclJlZmVyZW5jZVByb3ZpZGVyIiwicmVnaXN0ZXJEb2N1bWVudFN5bWJvbFByb3ZpZGVyIiwicmVnaXN0ZXJEb2N1bWVudFJhbmdlRm9ybWF0dGluZ0VkaXRQcm92aWRlciIsInJlZ2lzdGVyT25UeXBlRm9ybWF0dGluZ0VkaXRQcm92aWRlciIsInJlZ2lzdGVyQ29kZUFjdGlvblByb3ZpZGVyIiwicmVnaXN0ZXJSZW5hbWVQcm92aWRlciIsInJlZ2lzdGVySW5sYXlIaW50c1Byb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==