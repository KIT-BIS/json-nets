var l1e=Object.defineProperty;var c1e=(t,e,n)=>e in t?l1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Wn=(t,e,n)=>(c1e(t,typeof e!="symbol"?e+"":e,n),n),vS=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var rt=(t,e,n)=>(vS(t,e,"read from private field"),n?n.call(t):e.get(t)),ri=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},il=(t,e,n,r)=>(vS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var E1=(t,e,n,r)=>({set _(i){il(t,e,i,n)},get _(){return rt(t,e,r)}}),Fc=(t,e,n)=>(vS(t,e,"access private method"),n);function rX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function tz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B8(t){"@babel/helpers - typeof";return B8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B8(t)}function u1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nz(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f1e(t,e,n){return e&&nz(t.prototype,e),n&&nz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gE(t,e){return h1e(t)||m1e(t,e)||iX(t,e)||b1e()}function j4(t){return d1e(t)||p1e(t)||iX(t)||g1e()}function d1e(t){if(Array.isArray(t))return ST(t)}function h1e(t){if(Array.isArray(t))return t}function p1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function iX(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var rz=function(){},bE={},oX={},aX=null,sX={mark:rz,measure:rz};try{typeof window<"u"&&(bE=window),typeof document<"u"&&(oX=document),typeof MutationObserver<"u"&&(aX=MutationObserver),typeof performance<"u"&&(sX=performance)}catch{}var v1e=bE.navigator||{},iz=v1e.userAgent,oz=iz===void 0?"":iz,Hd=bE,Jr=oX,az=aX,R7=sX;Hd.document;var Pf=!!Jr.documentElement&&!!Jr.head&&typeof Jr.addEventListener=="function"&&typeof Jr.createElement=="function",lX=~oz.indexOf("MSIE")||~oz.indexOf("Trident/"),j7,V7,B7,H7,W7,yf="___FONT_AWESOME___",xT=16,cX="fa",uX="svg-inline--fa",pm="data-fa-i2svg",CT="data-fa-pseudo-element",y1e="data-fa-pseudo-element-pending",vE="data-prefix",yE="data-icon",sz="fontawesome-i2svg",k1e="async",_1e=["HTML","HEAD","STYLE","SCRIPT"],fX=function(){try{return!0}catch{return!1}}(),Yr="classic",xi="sharp",kE=[Yr,xi];function V4(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Yr]}})}var wy=V4((j7={},Qi(j7,Yr,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Qi(j7,xi,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),j7)),Sy=V4((V7={},Qi(V7,Yr,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Qi(V7,xi,{solid:"fass",regular:"fasr",light:"fasl"}),V7)),xy=V4((B7={},Qi(B7,Yr,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Qi(B7,xi,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),B7)),w1e=V4((H7={},Qi(H7,Yr,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Qi(H7,xi,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),H7)),S1e=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,dX="fa-layers-text",x1e=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,C1e=V4((W7={},Qi(W7,Yr,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Qi(W7,xi,{900:"fass",400:"fasr",300:"fasl"}),W7)),hX=[1,2,3,4,5,6,7,8,9,10],T1e=hX.concat([11,12,13,14,15,16,17,18,19,20]),A1e=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],jp={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Cy=new Set;Object.keys(Sy[Yr]).map(Cy.add.bind(Cy));Object.keys(Sy[xi]).map(Cy.add.bind(Cy));var I1e=[].concat(kE,j4(Cy),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",jp.GROUP,jp.SWAP_OPACITY,jp.PRIMARY,jp.SECONDARY]).concat(hX.map(function(t){return"".concat(t,"x")})).concat(T1e.map(function(t){return"w-".concat(t)})),jv=Hd.FontAwesomeConfig||{};function P1e(t){var e=Jr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function E1e(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Jr&&typeof Jr.querySelector=="function"){var $1e=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];$1e.forEach(function(t){var e=gE(t,2),n=e[0],r=e[1],i=E1e(P1e(n));i!=null&&(jv[r]=i)})}var pX={styleDefault:"solid",familyDefault:"classic",cssPrefix:cX,replacementClass:uX,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};jv.familyPrefix&&(jv.cssPrefix=jv.familyPrefix);var J0=vt(vt({},pX),jv);J0.autoReplaceSvg||(J0.observeMutations=!1);var Pt={};Object.keys(pX).forEach(function(t){Object.defineProperty(Pt,t,{enumerable:!0,set:function(n){J0[t]=n,Vv.forEach(function(r){return r(Pt)})},get:function(){return J0[t]}})});Object.defineProperty(Pt,"familyPrefix",{enumerable:!0,set:function(e){J0.cssPrefix=e,Vv.forEach(function(n){return n(Pt)})},get:function(){return J0.cssPrefix}});Hd.FontAwesomeConfig=Pt;var Vv=[];function O1e(t){return Vv.push(t),function(){Vv.splice(Vv.indexOf(t),1)}}var Yf=xT,nu={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function D1e(t){if(!(!t||!Pf)){var e=Jr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Jr.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return Jr.head.insertBefore(e,r),t}}var L1e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ty(){for(var t=12,e="";t-- >0;)e+=L1e[Math.random()*62|0];return e}function xb(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function _E(t){return t.classList?xb(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function mX(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function F1e(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(mX(t[n]),'" ')},"").trim()}function Jk(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function wE(t){return t.size!==nu.size||t.x!==nu.x||t.y!==nu.y||t.rotate!==nu.rotate||t.flipX||t.flipY}function N1e(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(o," ").concat(a," ").concat(s)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:c}}function M1e(t){var e=t.transform,n=t.width,r=n===void 0?xT:n,i=t.height,o=i===void 0?xT:i,a=t.startCentered,s=a===void 0?!1:a,l="";return s&&lX?l+="translate(".concat(e.x/Yf-r/2,"em, ").concat(e.y/Yf-o/2,"em) "):s?l+="translate(calc(-50% + ".concat(e.x/Yf,"em), calc(-50% + ").concat(e.y/Yf,"em)) "):l+="translate(".concat(e.x/Yf,"em, ").concat(e.y/Yf,"em) "),l+="scale(".concat(e.size/Yf*(e.flipX?-1:1),", ").concat(e.size/Yf*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var z1e=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function gX(){var t=cX,e=uX,n=Pt.cssPrefix,r=Pt.replacementClass,i=z1e;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var lz=!1;function yS(){Pt.autoAddCss&&!lz&&(D1e(gX()),lz=!0)}var R1e={mixout:function(){return{dom:{css:gX,insertCss:yS}}},hooks:function(){return{beforeDOMElementCreation:function(){yS()},beforeI2svg:function(){yS()}}}},kf=Hd||{};kf[yf]||(kf[yf]={});kf[yf].styles||(kf[yf].styles={});kf[yf].hooks||(kf[yf].hooks={});kf[yf].shims||(kf[yf].shims=[]);var lc=kf[yf],bX=[],j1e=function t(){Jr.removeEventListener("DOMContentLoaded",t),H8=1,bX.map(function(e){return e()})},H8=!1;Pf&&(H8=(Jr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Jr.readyState),H8||Jr.addEventListener("DOMContentLoaded",j1e));function V1e(t){Pf&&(H8?setTimeout(t,0):bX.push(t))}function B4(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,o=i===void 0?[]:i;return typeof t=="string"?mX(t):"<".concat(e," ").concat(F1e(r),">").concat(o.map(B4).join(""),"</").concat(e,">")}function cz(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var B1e=function(e,n){return function(r,i,o,a){return e.call(n,r,i,o,a)}},kS=function(e,n,r,i){var o=Object.keys(e),a=o.length,s=i!==void 0?B1e(n,i):n,l,c,u;for(r===void 0?(l=1,u=e[o[0]]):(l=0,u=r);l<a;l++)c=o[l],u=s(u,e[c],c,e);return u};function H1e(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function TT(t){var e=H1e(t);return e.length===1?e[0].toString(16):null}function W1e(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function uz(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function AT(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,o=uz(e);typeof lc.hooks.addPack=="function"&&!i?lc.hooks.addPack(t,uz(e)):lc.styles[t]=vt(vt({},lc.styles[t]||{}),o),t==="fas"&&AT("fa",e)}var U7,G7,q7,i0=lc.styles,U1e=lc.shims,G1e=(U7={},Qi(U7,Yr,Object.values(xy[Yr])),Qi(U7,xi,Object.values(xy[xi])),U7),SE=null,vX={},yX={},kX={},_X={},wX={},q1e=(G7={},Qi(G7,Yr,Object.keys(wy[Yr])),Qi(G7,xi,Object.keys(wy[xi])),G7);function Y1e(t){return~I1e.indexOf(t)}function X1e(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!Y1e(i)?i:null}var SX=function(){var e=function(o){return kS(i0,function(a,s,l){return a[l]=kS(s,o,{}),a},{})};vX=e(function(i,o,a){if(o[3]&&(i[o[3]]=a),o[2]){var s=o[2].filter(function(l){return typeof l=="number"});s.forEach(function(l){i[l.toString(16)]=a})}return i}),yX=e(function(i,o,a){if(i[a]=a,o[2]){var s=o[2].filter(function(l){return typeof l=="string"});s.forEach(function(l){i[l]=a})}return i}),wX=e(function(i,o,a){var s=o[2];return i[a]=a,s.forEach(function(l){i[l]=a}),i});var n="far"in i0||Pt.autoFetchSvg,r=kS(U1e,function(i,o){var a=o[0],s=o[1],l=o[2];return s==="far"&&!n&&(s="fas"),typeof a=="string"&&(i.names[a]={prefix:s,iconName:l}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:s,iconName:l}),i},{names:{},unicodes:{}});kX=r.names,_X=r.unicodes,SE=Zk(Pt.styleDefault,{family:Pt.familyDefault})};O1e(function(t){SE=Zk(t.styleDefault,{family:Pt.familyDefault})});SX();function xE(t,e){return(vX[t]||{})[e]}function K1e(t,e){return(yX[t]||{})[e]}function Vp(t,e){return(wX[t]||{})[e]}function xX(t){return kX[t]||{prefix:null,iconName:null}}function J1e(t){var e=_X[t],n=xE("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Wd(){return SE}var CE=function(){return{prefix:null,iconName:null,rest:[]}};function Zk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Yr:n,i=wy[r][t],o=Sy[r][t]||Sy[r][i],a=t in lc.styles?t:null;return o||a||null}var fz=(q7={},Qi(q7,Yr,Object.keys(xy[Yr])),Qi(q7,xi,Object.keys(xy[xi])),q7);function Qk(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,o=(e={},Qi(e,Yr,"".concat(Pt.cssPrefix,"-").concat(Yr)),Qi(e,xi,"".concat(Pt.cssPrefix,"-").concat(xi)),e),a=null,s=Yr;(t.includes(o[Yr])||t.some(function(c){return fz[Yr].includes(c)}))&&(s=Yr),(t.includes(o[xi])||t.some(function(c){return fz[xi].includes(c)}))&&(s=xi);var l=t.reduce(function(c,u){var f=X1e(Pt.cssPrefix,u);if(i0[u]?(u=G1e[s].includes(u)?w1e[s][u]:u,a=u,c.prefix=u):q1e[s].indexOf(u)>-1?(a=u,c.prefix=Zk(u,{family:s})):f?c.iconName=f:u!==Pt.replacementClass&&u!==o[Yr]&&u!==o[xi]&&c.rest.push(u),!i&&c.prefix&&c.iconName){var d=a==="fa"?xX(c.iconName):{},h=Vp(c.prefix,c.iconName);d.prefix&&(a=null),c.iconName=d.iconName||h||c.iconName,c.prefix=d.prefix||c.prefix,c.prefix==="far"&&!i0.far&&i0.fas&&!Pt.autoFetchSvg&&(c.prefix="fas")}return c},CE());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&s===xi&&(i0.fass||Pt.autoFetchSvg)&&(l.prefix="fass",l.iconName=Vp(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||a==="fa")&&(l.prefix=Wd()||"fas"),l}var Z1e=function(){function t(){u1e(this,t),this.definitions={}}return f1e(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(s){n.definitions[s]=vt(vt({},n.definitions[s]||{}),a[s]),AT(s,a[s]);var l=xy[Yr][s];l&&AT(l,a[s]),SX()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(o){var a=i[o],s=a.prefix,l=a.iconName,c=a.icon,u=c[2];n[s]||(n[s]={}),u.length>0&&u.forEach(function(f){typeof f=="string"&&(n[s][f]=c)}),n[s][l]=c}),n}}]),t}(),dz=[],o0={},_0={},Q1e=Object.keys(_0);function eve(t,e){var n=e.mixoutsTo;return dz=t,o0={},Object.keys(_0).forEach(function(r){Q1e.indexOf(r)===-1&&delete _0[r]}),dz.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(n[a]=i[a]),B8(i[a])==="object"&&Object.keys(i[a]).forEach(function(s){n[a]||(n[a]={}),n[a][s]=i[a][s]})}),r.hooks){var o=r.hooks();Object.keys(o).forEach(function(a){o0[a]||(o0[a]=[]),o0[a].push(o[a])})}r.provides&&r.provides(_0)}),n}function IT(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=o0[t]||[];return o.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function mm(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=o0[t]||[];i.forEach(function(o){o.apply(null,n)})}function _f(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return _0[t]?_0[t].apply(null,e):void 0}function PT(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Wd();if(e)return e=Vp(n,e)||e,cz(CX.definitions,n,e)||cz(lc.styles,n,e)}var CX=new Z1e,tve=function(){Pt.autoReplaceSvg=!1,Pt.observeMutations=!1,mm("noAuto")},nve={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Pf?(mm("beforeI2svg",e),_f("pseudoElements2svg",e),_f("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Pt.autoReplaceSvg===!1&&(Pt.autoReplaceSvg=!0),Pt.observeMutations=!0,V1e(function(){ive({autoReplaceSvgRoot:n}),mm("watch",e)})}},rve={icon:function(e){if(e===null)return null;if(B8(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Vp(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=Zk(e[0]);return{prefix:r,iconName:Vp(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Pt.cssPrefix,"-"))>-1||e.match(S1e))){var i=Qk(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Wd(),iconName:Vp(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var o=Wd();return{prefix:o,iconName:Vp(o,e)||e}}}},Ws={noAuto:tve,config:Pt,dom:nve,parse:rve,library:CX,findIconDefinition:PT,toHtml:B4},ive=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Jr:n;(Object.keys(lc.styles).length>0||Pt.autoFetchSvg)&&Pf&&Pt.autoReplaceSvg&&Ws.dom.i2svg({node:r})};function e6(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return B4(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Pf){var r=Jr.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function ove(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,a=t.transform;if(wE(a)&&n.found&&!r.found){var s=n.width,l=n.height,c={x:s/l/2,y:.5};i.style=Jk(vt(vt({},o),{},{"transform-origin":"".concat(c.x+a.x/16,"em ").concat(c.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function ave(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol,a=o===!0?"".concat(e,"-").concat(Pt.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:vt(vt({},i),{},{id:a}),children:r}]}]}function TE(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,a=t.transform,s=t.symbol,l=t.title,c=t.maskId,u=t.titleId,f=t.extra,d=t.watchable,h=d===void 0?!1:d,m=r.found?r:n,v=m.width,k=m.height,b=i==="fak",_=[Pt.replacementClass,o?"".concat(Pt.cssPrefix,"-").concat(o):""].filter(function($){return f.classes.indexOf($)===-1}).filter(function($){return $!==""||!!$}).concat(f.classes).join(" "),x={children:[],attributes:vt(vt({},f.attributes),{},{"data-prefix":i,"data-icon":o,class:_,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(k)})},C=b&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/k*16*.0625,"em")}:{};h&&(x.attributes[pm]=""),l&&(x.children.push({tag:"title",attributes:{id:x.attributes["aria-labelledby"]||"title-".concat(u||Ty())},children:[l]}),delete x.attributes.title);var S=vt(vt({},x),{},{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:a,symbol:s,styles:vt(vt({},C),f.styles)}),g=r.found&&n.found?_f("generateAbstractMask",S)||{children:[],attributes:{}}:_f("generateAbstractIcon",S)||{children:[],attributes:{}},T=g.children,P=g.attributes;return S.children=T,S.attributes=P,s?ave(S):ove(S)}function hz(t){var e=t.content,n=t.width,r=t.height,i=t.transform,o=t.title,a=t.extra,s=t.watchable,l=s===void 0?!1:s,c=vt(vt(vt({},a.attributes),o?{title:o}:{}),{},{class:a.classes.join(" ")});l&&(c[pm]="");var u=vt({},a.styles);wE(i)&&(u.transform=M1e({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);var f=Jk(u);f.length>0&&(c.style=f);var d=[];return d.push({tag:"span",attributes:c,children:[e]}),o&&d.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),d}function sve(t){var e=t.content,n=t.title,r=t.extra,i=vt(vt(vt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=Jk(r.styles);o.length>0&&(i.style=o);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var _S=lc.styles;function ET(t){var e=t[0],n=t[1],r=t.slice(4),i=gE(r,1),o=i[0],a=null;return Array.isArray(o)?a={tag:"g",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(jp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(jp.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(jp.PRIMARY),fill:"currentColor",d:o[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:a}}var lve={found:!1,width:512,height:512};function cve(t,e){!fX&&!Pt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function $T(t,e){var n=e;return e==="fa"&&Pt.styleDefault!==null&&(e=Wd()),new Promise(function(r,i){if(_f("missingIconAbstract"),n==="fa"){var o=xX(t)||{};t=o.iconName||t,e=o.prefix||e}if(t&&e&&_S[e]&&_S[e][t]){var a=_S[e][t];return r(ET(a))}cve(t,e),r(vt(vt({},lve),{},{icon:Pt.showMissingIcons&&t?_f("missingIconAbstract")||{}:{}}))})}var pz=function(){},OT=Pt.measurePerformance&&R7&&R7.mark&&R7.measure?R7:{mark:pz,measure:pz},yv='FA "6.4.0"',uve=function(e){return OT.mark("".concat(yv," ").concat(e," begins")),function(){return TX(e)}},TX=function(e){OT.mark("".concat(yv," ").concat(e," ends")),OT.measure("".concat(yv," ").concat(e),"".concat(yv," ").concat(e," begins"),"".concat(yv," ").concat(e," ends"))},AE={begin:uve,end:TX},q9=function(){};function mz(t){var e=t.getAttribute?t.getAttribute(pm):null;return typeof e=="string"}function fve(t){var e=t.getAttribute?t.getAttribute(vE):null,n=t.getAttribute?t.getAttribute(yE):null;return e&&n}function dve(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pt.replacementClass)}function hve(){if(Pt.autoReplaceSvg===!0)return Y9.replace;var t=Y9[Pt.autoReplaceSvg];return t||Y9.replace}function pve(t){return Jr.createElementNS("http://www.w3.org/2000/svg",t)}function mve(t){return Jr.createElement(t)}function AX(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?pve:mve:n;if(typeof t=="string")return Jr.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])});var o=t.children||[];return o.forEach(function(a){i.appendChild(AX(a,{ceFn:r}))}),i}function gve(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var Y9={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(AX(i),n)}),n.getAttribute(pm)===null&&Pt.keepOriginalSource){var r=Jr.createComment(gve(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~_E(n).indexOf(Pt.replacementClass))return Y9.replace(e);var i=new RegExp("".concat(Pt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var o=r[0].attributes.class.split(" ").reduce(function(s,l){return l===Pt.replacementClass||l.match(i)?s.toSvg.push(l):s.toNode.push(l),s},{toNode:[],toSvg:[]});r[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",o.toNode.join(" "))}var a=r.map(function(s){return B4(s)}).join(`
`);n.setAttribute(pm,""),n.innerHTML=a}};function gz(t){t()}function IX(t,e){var n=typeof e=="function"?e:q9;if(t.length===0)n();else{var r=gz;Pt.mutateApproach===k1e&&(r=Hd.requestAnimationFrame||gz),r(function(){var i=hve(),o=AE.begin("mutate");t.map(i),o(),n()})}}var IE=!1;function PX(){IE=!0}function DT(){IE=!1}var W8=null;function bz(t){if(az&&Pt.observeMutations){var e=t.treeCallback,n=e===void 0?q9:e,r=t.nodeCallback,i=r===void 0?q9:r,o=t.pseudoElementsCallback,a=o===void 0?q9:o,s=t.observeMutationsRoot,l=s===void 0?Jr:s;W8=new az(function(c){if(!IE){var u=Wd();xb(c).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!mz(f.addedNodes[0])&&(Pt.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&Pt.searchPseudoElements&&a(f.target.parentNode),f.type==="attributes"&&mz(f.target)&&~A1e.indexOf(f.attributeName))if(f.attributeName==="class"&&fve(f.target)){var d=Qk(_E(f.target)),h=d.prefix,m=d.iconName;f.target.setAttribute(vE,h||u),m&&f.target.setAttribute(yE,m)}else dve(f.target)&&i(f.target)})}}),Pf&&W8.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function bve(){W8&&W8.disconnect()}function vve(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var o=i.split(":"),a=o[0],s=o.slice(1);return a&&s.length>0&&(r[a]=s.join(":").trim()),r},{})),n}function yve(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=Qk(_E(t));return i.prefix||(i.prefix=Wd()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=K1e(i.prefix,t.innerText)||xE(i.prefix,TT(t.innerText))),!i.iconName&&Pt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function kve(t){var e=xb(t.attributes).reduce(function(i,o){return i.name!=="class"&&i.name!=="style"&&(i[o.name]=o.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pt.autoA11y&&(n?e["aria-labelledby"]="".concat(Pt.replacementClass,"-title-").concat(r||Ty()):(e["aria-hidden"]="true",e.focusable="false")),e}function _ve(){return{iconName:null,title:null,titleId:null,prefix:null,transform:nu,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function vz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=yve(t),r=n.iconName,i=n.prefix,o=n.rest,a=kve(t),s=IT("parseNodeAttributes",{},t),l=e.styleParser?vve(t):[];return vt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:nu,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:o,styles:l,attributes:a}},s)}var wve=lc.styles;function EX(t){var e=Pt.autoReplaceSvg==="nest"?vz(t,{styleParser:!1}):vz(t);return~e.extra.classes.indexOf(dX)?_f("generateLayersText",t,e):_f("generateSvgReplacementMutation",t,e)}var Ud=new Set;kE.map(function(t){Ud.add("fa-".concat(t))});Object.keys(wy[Yr]).map(Ud.add.bind(Ud));Object.keys(wy[xi]).map(Ud.add.bind(Ud));Ud=j4(Ud);function yz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Pf)return Promise.resolve();var n=Jr.documentElement.classList,r=function(f){return n.add("".concat(sz,"-").concat(f))},i=function(f){return n.remove("".concat(sz,"-").concat(f))},o=Pt.autoFetchSvg?Ud:kE.map(function(u){return"fa-".concat(u)}).concat(Object.keys(wve));o.includes("fa")||o.push("fa");var a=[".".concat(dX,":not([").concat(pm,"])")].concat(o.map(function(u){return".".concat(u,":not([").concat(pm,"])")})).join(", ");if(a.length===0)return Promise.resolve();var s=[];try{s=xb(t.querySelectorAll(a))}catch{}if(s.length>0)r("pending"),i("complete");else return Promise.resolve();var l=AE.begin("onTree"),c=s.reduce(function(u,f){try{var d=EX(f);d&&u.push(d)}catch(h){fX||h.name==="MissingIcon"&&console.error(h)}return u},[]);return new Promise(function(u,f){Promise.all(c).then(function(d){IX(d,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),u()})}).catch(function(d){l(),f(d)})})}function Sve(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;EX(t).then(function(n){n&&IX([n],e)})}function xve(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:PT(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:PT(i||{})),t(r,vt(vt({},n),{},{mask:i}))}}var Cve=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?nu:r,o=n.symbol,a=o===void 0?!1:o,s=n.mask,l=s===void 0?null:s,c=n.maskId,u=c===void 0?null:c,f=n.title,d=f===void 0?null:f,h=n.titleId,m=h===void 0?null:h,v=n.classes,k=v===void 0?[]:v,b=n.attributes,_=b===void 0?{}:b,x=n.styles,C=x===void 0?{}:x;if(e){var S=e.prefix,g=e.iconName,T=e.icon;return e6(vt({type:"icon"},e),function(){return mm("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pt.autoA11y&&(d?_["aria-labelledby"]="".concat(Pt.replacementClass,"-title-").concat(m||Ty()):(_["aria-hidden"]="true",_.focusable="false")),TE({icons:{main:ET(T),mask:l?ET(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:S,iconName:g,transform:vt(vt({},nu),i),symbol:a,title:d,maskId:u,titleId:m,extra:{attributes:_,styles:C,classes:k}})})}},Tve={mixout:function(){return{icon:xve(Cve)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=yz,n.nodeCallback=Sve,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Jr:r,o=n.callback,a=o===void 0?function(){}:o;return yz(i,a)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,o=r.title,a=r.titleId,s=r.prefix,l=r.transform,c=r.symbol,u=r.mask,f=r.maskId,d=r.extra;return new Promise(function(h,m){Promise.all([$T(i,s),u.iconName?$T(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(v){var k=gE(v,2),b=k[0],_=k[1];h([n,TE({icons:{main:b,mask:_},prefix:s,iconName:i,transform:l,symbol:c,maskId:f,title:o,titleId:a,extra:d,watchable:!0})])}).catch(m)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,o=n.main,a=n.transform,s=n.styles,l=Jk(s);l.length>0&&(i.style=l);var c;return wE(a)&&(c=_f("generateAbstractTransformGrouping",{main:o,transform:a,containerWidth:o.width,iconWidth:o.width})),r.push(c||o.icon),{children:r,attributes:i}}}},Ave={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,o=i===void 0?[]:i;return e6({type:"layer"},function(){mm("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(s){Array.isArray(s)?s.map(function(l){a=a.concat(l.abstract)}):a=a.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(Pt.cssPrefix,"-layers")].concat(j4(o)).join(" ")},children:a}]})}}}},Ive={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,o=i===void 0?null:i,a=r.classes,s=a===void 0?[]:a,l=r.attributes,c=l===void 0?{}:l,u=r.styles,f=u===void 0?{}:u;return e6({type:"counter",content:n},function(){return mm("beforeDOMElementCreation",{content:n,params:r}),sve({content:n.toString(),title:o,extra:{attributes:c,styles:f,classes:["".concat(Pt.cssPrefix,"-layers-counter")].concat(j4(s))}})})}}}},Pve={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,o=i===void 0?nu:i,a=r.title,s=a===void 0?null:a,l=r.classes,c=l===void 0?[]:l,u=r.attributes,f=u===void 0?{}:u,d=r.styles,h=d===void 0?{}:d;return e6({type:"text",content:n},function(){return mm("beforeDOMElementCreation",{content:n,params:r}),hz({content:n,transform:vt(vt({},nu),o),title:s,extra:{attributes:f,styles:h,classes:["".concat(Pt.cssPrefix,"-layers-text")].concat(j4(c))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,o=r.transform,a=r.extra,s=null,l=null;if(lX){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();s=u.width/c,l=u.height/c}return Pt.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,hz({content:n.innerHTML,width:s,height:l,transform:o,title:i,extra:a,watchable:!0})])}}},Eve=new RegExp('"',"ug"),kz=[1105920,1112319];function $ve(t){var e=t.replace(Eve,""),n=W1e(e,0),r=n>=kz[0]&&n<=kz[1],i=e.length===2?e[0]===e[1]:!1;return{value:TT(i?e[0]:e),isSecondary:r||i}}function _z(t,e){var n="".concat(y1e).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var o=xb(t.children),a=o.filter(function(T){return T.getAttribute(CT)===e})[0],s=Hd.getComputedStyle(t,e),l=s.getPropertyValue("font-family").match(x1e),c=s.getPropertyValue("font-weight"),u=s.getPropertyValue("content");if(a&&!l)return t.removeChild(a),r();if(l&&u!=="none"&&u!==""){var f=s.getPropertyValue("content"),d=~["Sharp"].indexOf(l[2])?xi:Yr,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Sy[d][l[2].toLowerCase()]:C1e[d][c],m=$ve(f),v=m.value,k=m.isSecondary,b=l[0].startsWith("FontAwesome"),_=xE(h,v),x=_;if(b){var C=J1e(v);C.iconName&&C.prefix&&(_=C.iconName,h=C.prefix)}if(_&&!k&&(!a||a.getAttribute(vE)!==h||a.getAttribute(yE)!==x)){t.setAttribute(n,x),a&&t.removeChild(a);var S=_ve(),g=S.extra;g.attributes[CT]=e,$T(_,h).then(function(T){var P=TE(vt(vt({},S),{},{icons:{main:T,mask:CE()},prefix:h,iconName:x,extra:g,watchable:!0})),$=Jr.createElement("svg");e==="::before"?t.insertBefore($,t.firstChild):t.appendChild($),$.outerHTML=P.map(function(F){return B4(F)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function Ove(t){return Promise.all([_z(t,"::before"),_z(t,"::after")])}function Dve(t){return t.parentNode!==document.head&&!~_1e.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(CT)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function wz(t){if(Pf)return new Promise(function(e,n){var r=xb(t.querySelectorAll("*")).filter(Dve).map(Ove),i=AE.begin("searchPseudoElements");PX(),Promise.all(r).then(function(){i(),DT(),e()}).catch(function(){i(),DT(),n()})})}var Lve={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=wz,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Jr:r;Pt.searchPseudoElements&&wz(i)}}},Sz=!1,Fve={mixout:function(){return{dom:{unwatch:function(){PX(),Sz=!0}}}},hooks:function(){return{bootstrap:function(){bz(IT("mutationObserverCallbacks",{}))},noAuto:function(){bve()},watch:function(n){var r=n.observeMutationsRoot;Sz?DT():bz(IT("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},xz=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var o=i.toLowerCase().split("-"),a=o[0],s=o.slice(1).join("-");if(a&&s==="h")return r.flipX=!0,r;if(a&&s==="v")return r.flipY=!0,r;if(s=parseFloat(s),isNaN(s))return r;switch(a){case"grow":r.size=r.size+s;break;case"shrink":r.size=r.size-s;break;case"left":r.x=r.x-s;break;case"right":r.x=r.x+s;break;case"up":r.y=r.y-s;break;case"down":r.y=r.y+s;break;case"rotate":r.rotate=r.rotate+s;break}return r},n)},Nve={mixout:function(){return{parse:{transform:function(n){return xz(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=xz(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.containerWidth,a=n.iconWidth,s={transform:"translate(".concat(o/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),c="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),u="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(c," ").concat(u)},d={transform:"translate(".concat(a/2*-1," -256)")},h={outer:s,inner:f,path:d};return{tag:"g",attributes:vt({},h.outer),children:[{tag:"g",attributes:vt({},h.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:vt(vt({},r.icon.attributes),h.path)}]}]}}}},wS={x:0,y:0,width:"100%",height:"100%"};function Cz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Mve(t){return t.tag==="g"?t.children:[t]}var zve={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),o=i?Qk(i.split(" ").map(function(a){return a.trim()})):CE();return o.prefix||(o.prefix=Wd()),n.mask=o,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,o=n.main,a=n.mask,s=n.maskId,l=n.transform,c=o.width,u=o.icon,f=a.width,d=a.icon,h=N1e({transform:l,containerWidth:f,iconWidth:c}),m={tag:"rect",attributes:vt(vt({},wS),{},{fill:"white"})},v=u.children?{children:u.children.map(Cz)}:{},k={tag:"g",attributes:vt({},h.inner),children:[Cz(vt({tag:u.tag,attributes:vt(vt({},u.attributes),h.path)},v))]},b={tag:"g",attributes:vt({},h.outer),children:[k]},_="mask-".concat(s||Ty()),x="clip-".concat(s||Ty()),C={tag:"mask",attributes:vt(vt({},wS),{},{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[m,b]},S={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:Mve(d)},C]};return r.push(S,{tag:"rect",attributes:vt({fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(_,")")},wS)}),{children:r,attributes:i}}}},Rve={provides:function(e){var n=!1;Hd.matchMedia&&(n=Hd.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},o={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:vt(vt({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=vt(vt({},o),{},{attributeName:"opacity"}),s={tag:"circle",attributes:vt(vt({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||s.children.push({tag:"animate",attributes:vt(vt({},o),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:vt(vt({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(s),r.push({tag:"path",attributes:vt(vt({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:vt(vt({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:vt(vt({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:vt(vt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},jve={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),o=i===null?!1:i===""?!0:i;return n.symbol=o,n}}}},Vve=[R1e,Tve,Ave,Ive,Pve,Lve,Fve,Nve,zve,Rve,jve];eve(Vve,{mixoutsTo:Ws});Ws.noAuto;Ws.config;var Bve=Ws.library;Ws.dom;var LT=Ws.parse;Ws.findIconDefinition;Ws.toHtml;var Hve=Ws.icon;Ws.layer;Ws.text;Ws.counter;function t6(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const kr={},w0=[],fc=()=>{},Wve=()=>!1,Uve=/^on[^a-z]/,H4=t=>Uve.test(t),PE=t=>t.startsWith("onUpdate:"),Br=Object.assign,EE=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Gve=Object.prototype.hasOwnProperty,Kn=(t,e)=>Gve.call(t,e),kt=Array.isArray,S0=t=>Cb(t)==="[object Map]",Mm=t=>Cb(t)==="[object Set]",Tz=t=>Cb(t)==="[object Date]",qve=t=>Cb(t)==="[object RegExp]",on=t=>typeof t=="function",ai=t=>typeof t=="string",Ay=t=>typeof t=="symbol",Sr=t=>t!==null&&typeof t=="object",$E=t=>Sr(t)&&on(t.then)&&on(t.catch),$X=Object.prototype.toString,Cb=t=>$X.call(t),Yve=t=>Cb(t).slice(8,-1),OX=t=>Cb(t)==="[object Object]",OE=t=>ai(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Bv=t6(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),n6=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Xve=/-(\w)/g,as=n6(t=>t.replace(Xve,(e,n)=>n?n.toUpperCase():"")),Kve=/\B([A-Z])/g,kl=n6(t=>t.replace(Kve,"-$1").toLowerCase()),W4=n6(t=>t.charAt(0).toUpperCase()+t.slice(1)),Hv=n6(t=>t?`on${W4(t)}`:""),Z0=(t,e)=>!Object.is(t,e),x0=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},U8=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},G8=t=>{const e=parseFloat(t);return isNaN(e)?t:e},q8=t=>{const e=ai(t)?Number(t):NaN;return isNaN(e)?t:e};let Az;const FT=()=>Az||(Az=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Jve="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",Zve=t6(Jve);function U4(t){if(kt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ai(r)?nye(r):U4(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(ai(t))return t;if(Sr(t))return t}}const Qve=/;(?![^(]*\))/g,eye=/:([^]+)/,tye=new RegExp("\\/\\*.*?\\*\\/","gs");function nye(t){const e={};return t.replace(tye,"").split(Qve).forEach(n=>{if(n){const r=n.split(eye);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ut(t){let e="";if(ai(t))e=t;else if(kt(t))for(let n=0;n<t.length;n++){const r=Ut(t[n]);r&&(e+=r+" ")}else if(Sr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function DE(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ai(e)&&(t.class=Ut(e)),n&&(t.style=U4(n)),t}const rye="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",iye=t6(rye);function DX(t){return!!t||t===""}function oye(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Gd(t[r],e[r]);return n}function Gd(t,e){if(t===e)return!0;let n=Tz(t),r=Tz(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ay(t),r=Ay(e),n||r)return t===e;if(n=kt(t),r=kt(e),n||r)return n&&r?oye(t,e):!1;if(n=Sr(t),r=Sr(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const a in t){const s=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(s&&!l||!s&&l||!Gd(t[a],e[a]))return!1}}return String(t)===String(e)}function r6(t,e){return t.findIndex(n=>Gd(n,e))}const Qt=t=>ai(t)?t:t==null?"":kt(t)||Sr(t)&&(t.toString===$X||!on(t.toString))?JSON.stringify(t,LX,2):String(t),LX=(t,e)=>e&&e.__v_isRef?LX(t,e.value):S0(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Mm(e)?{[`Set(${e.size})`]:[...e.values()]}:Sr(e)&&!kt(e)&&!OX(e)?String(e):e;let Ps;class LE{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ps,!e&&Ps&&(this.index=(Ps.scopes||(Ps.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ps;try{return Ps=this,e()}finally{Ps=n}}}on(){Ps=this}off(){Ps=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function FE(t){return new LE(t)}function FX(t,e=Ps){e&&e.active&&e.effects.push(t)}function NE(){return Ps}function NX(t){Ps&&Ps.cleanups.push(t)}const ME=t=>{const e=new Set(t);return e.w=0,e.n=0,e},MX=t=>(t.w&qd)>0,zX=t=>(t.n&qd)>0,aye=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qd},sye=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];MX(i)&&!zX(i)?i.delete(t):e[n++]=i,i.w&=~qd,i.n&=~qd}e.length=n}},Y8=new WeakMap;let kv=0,qd=1;const NT=30;let rc;const tm=Symbol(""),MT=Symbol("");class G4{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,FX(this,r)}run(){if(!this.active)return this.fn();let e=rc,n=Ed;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=rc,rc=this,Ed=!0,qd=1<<++kv,kv<=NT?aye(this):Iz(this),this.fn()}finally{kv<=NT&&sye(this),qd=1<<--kv,rc=this.parent,Ed=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){rc===this?this.deferStop=!0:this.active&&(Iz(this),this.onStop&&this.onStop(),this.active=!1)}}function Iz(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}function lye(t,e){t.effect&&(t=t.effect.fn);const n=new G4(t);e&&(Br(n,e),e.scope&&FX(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function cye(t){t.effect.stop()}let Ed=!0;const RX=[];function Tb(){RX.push(Ed),Ed=!1}function Ab(){const t=RX.pop();Ed=t===void 0?!0:t}function us(t,e,n){if(Ed&&rc){let r=Y8.get(t);r||Y8.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=ME()),jX(i)}}function jX(t,e){let n=!1;kv<=NT?zX(t)||(t.n|=qd,n=!MX(t)):n=!t.has(rc),n&&(t.add(rc),rc.deps.push(t))}function wf(t,e,n,r,i,o){const a=Y8.get(t);if(!a)return;let s=[];if(e==="clear")s=[...a.values()];else if(n==="length"&&kt(t)){const l=Number(r);a.forEach((c,u)=>{(u==="length"||u>=l)&&s.push(c)})}else switch(n!==void 0&&s.push(a.get(n)),e){case"add":kt(t)?OE(n)&&s.push(a.get("length")):(s.push(a.get(tm)),S0(t)&&s.push(a.get(MT)));break;case"delete":kt(t)||(s.push(a.get(tm)),S0(t)&&s.push(a.get(MT)));break;case"set":S0(t)&&s.push(a.get(tm));break}if(s.length===1)s[0]&&zT(s[0]);else{const l=[];for(const c of s)c&&l.push(...c);zT(ME(l))}}function zT(t,e){const n=kt(t)?t:[...t];for(const r of n)r.computed&&Pz(r);for(const r of n)r.computed||Pz(r)}function Pz(t,e){(t!==rc||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function uye(t,e){var n;return(n=Y8.get(t))==null?void 0:n.get(e)}const fye=t6("__proto__,__v_isRef,__isVue"),VX=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ay)),dye=i6(),hye=i6(!1,!0),pye=i6(!0),mye=i6(!0,!0),Ez=gye();function gye(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Fn(this);for(let o=0,a=this.length;o<a;o++)us(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Fn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Tb();const r=Fn(this)[e].apply(this,n);return Ab(),r}}),t}function bye(t){const e=Fn(this);return us(e,"has",t),e.hasOwnProperty(t)}function i6(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?YX:qX:e?GX:UX).get(r))return r;const a=kt(r);if(!t){if(a&&Kn(Ez,i))return Reflect.get(Ez,i,o);if(i==="hasOwnProperty")return bye}const s=Reflect.get(r,i,o);return(Ay(i)?VX.has(i):fye(i))||(t||us(r,"get",i),e)?s:fi(s)?a&&OE(i)?s:s.value:Sr(s)?t?RE(s):hh(s):s}}const vye=BX(),yye=BX(!0);function BX(t=!1){return function(n,r,i,o){let a=n[r];if(gm(a)&&fi(a)&&!fi(i))return!1;if(!t&&(!Iy(i)&&!gm(i)&&(a=Fn(a),i=Fn(i)),!kt(n)&&fi(a)&&!fi(i)))return a.value=i,!0;const s=kt(n)&&OE(r)?Number(r)<n.length:Kn(n,r),l=Reflect.set(n,r,i,o);return n===Fn(o)&&(s?Z0(i,a)&&wf(n,"set",r,i):wf(n,"add",r,i)),l}}function kye(t,e){const n=Kn(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&wf(t,"delete",e,void 0),r}function _ye(t,e){const n=Reflect.has(t,e);return(!Ay(e)||!VX.has(e))&&us(t,"has",e),n}function wye(t){return us(t,"iterate",kt(t)?"length":tm),Reflect.ownKeys(t)}const HX={get:dye,set:vye,deleteProperty:kye,has:_ye,ownKeys:wye},WX={get:pye,set(t,e){return!0},deleteProperty(t,e){return!0}},Sye=Br({},HX,{get:hye,set:yye}),xye=Br({},WX,{get:mye}),zE=t=>t,o6=t=>Reflect.getPrototypeOf(t);function Y7(t,e,n=!1,r=!1){t=t.__v_raw;const i=Fn(t),o=Fn(e);n||(e!==o&&us(i,"get",e),us(i,"get",o));const{has:a}=o6(i),s=r?zE:n?VE:Py;if(a.call(i,e))return s(t.get(e));if(a.call(i,o))return s(t.get(o));t!==i&&t.get(e)}function X7(t,e=!1){const n=this.__v_raw,r=Fn(n),i=Fn(t);return e||(t!==i&&us(r,"has",t),us(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function K7(t,e=!1){return t=t.__v_raw,!e&&us(Fn(t),"iterate",tm),Reflect.get(t,"size",t)}function $z(t){t=Fn(t);const e=Fn(this);return o6(e).has.call(e,t)||(e.add(t),wf(e,"add",t,t)),this}function Oz(t,e){e=Fn(e);const n=Fn(this),{has:r,get:i}=o6(n);let o=r.call(n,t);o||(t=Fn(t),o=r.call(n,t));const a=i.call(n,t);return n.set(t,e),o?Z0(e,a)&&wf(n,"set",t,e):wf(n,"add",t,e),this}function Dz(t){const e=Fn(this),{has:n,get:r}=o6(e);let i=n.call(e,t);i||(t=Fn(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&wf(e,"delete",t,void 0),o}function Lz(){const t=Fn(this),e=t.size!==0,n=t.clear();return e&&wf(t,"clear",void 0,void 0),n}function J7(t,e){return function(r,i){const o=this,a=o.__v_raw,s=Fn(a),l=e?zE:t?VE:Py;return!t&&us(s,"iterate",tm),a.forEach((c,u)=>r.call(i,l(c),l(u),o))}}function Z7(t,e,n){return function(...r){const i=this.__v_raw,o=Fn(i),a=S0(o),s=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,c=i[t](...r),u=n?zE:e?VE:Py;return!e&&us(o,"iterate",l?MT:tm),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:s?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Xf(t){return function(...e){return t==="delete"?!1:this}}function Cye(){const t={get(o){return Y7(this,o)},get size(){return K7(this)},has:X7,add:$z,set:Oz,delete:Dz,clear:Lz,forEach:J7(!1,!1)},e={get(o){return Y7(this,o,!1,!0)},get size(){return K7(this)},has:X7,add:$z,set:Oz,delete:Dz,clear:Lz,forEach:J7(!1,!0)},n={get(o){return Y7(this,o,!0)},get size(){return K7(this,!0)},has(o){return X7.call(this,o,!0)},add:Xf("add"),set:Xf("set"),delete:Xf("delete"),clear:Xf("clear"),forEach:J7(!0,!1)},r={get(o){return Y7(this,o,!0,!0)},get size(){return K7(this,!0)},has(o){return X7.call(this,o,!0)},add:Xf("add"),set:Xf("set"),delete:Xf("delete"),clear:Xf("clear"),forEach:J7(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Z7(o,!1,!1),n[o]=Z7(o,!0,!1),e[o]=Z7(o,!1,!0),r[o]=Z7(o,!0,!0)}),[t,n,e,r]}const[Tye,Aye,Iye,Pye]=Cye();function a6(t,e){const n=e?t?Pye:Iye:t?Aye:Tye;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Kn(n,i)&&i in r?n:r,i,o)}const Eye={get:a6(!1,!1)},$ye={get:a6(!1,!0)},Oye={get:a6(!0,!1)},Dye={get:a6(!0,!0)},UX=new WeakMap,GX=new WeakMap,qX=new WeakMap,YX=new WeakMap;function Lye(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Fye(t){return t.__v_skip||!Object.isExtensible(t)?0:Lye(Yve(t))}function hh(t){return gm(t)?t:s6(t,!1,HX,Eye,UX)}function XX(t){return s6(t,!1,Sye,$ye,GX)}function RE(t){return s6(t,!0,WX,Oye,qX)}function Nye(t){return s6(t,!0,xye,Dye,YX)}function s6(t,e,n,r,i){if(!Sr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const a=Fye(t);if(a===0)return t;const s=new Proxy(t,a===2?r:n);return i.set(t,s),s}function hf(t){return gm(t)?hf(t.__v_raw):!!(t&&t.__v_isReactive)}function gm(t){return!!(t&&t.__v_isReadonly)}function Iy(t){return!!(t&&t.__v_isShallow)}function jE(t){return hf(t)||gm(t)}function Fn(t){const e=t&&t.__v_raw;return e?Fn(e):t}function bm(t){return U8(t,"__v_skip",!0),t}const Py=t=>Sr(t)?hh(t):t,VE=t=>Sr(t)?RE(t):t;function BE(t){Ed&&rc&&(t=Fn(t),jX(t.dep||(t.dep=ME())))}function l6(t,e){t=Fn(t);const n=t.dep;n&&zT(n)}function fi(t){return!!(t&&t.__v_isRef===!0)}function Tl(t){return KX(t,!1)}function ru(t){return KX(t,!0)}function KX(t,e){return fi(t)?t:new Mye(t,e)}class Mye{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Fn(e),this._value=n?e:Py(e)}get value(){return BE(this),this._value}set value(e){const n=this.__v_isShallow||Iy(e)||gm(e);e=n?e:Fn(e),Z0(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Py(e),l6(this))}}function zye(t){l6(t)}function ii(t){return fi(t)?t.value:t}function Rye(t){return on(t)?t():ii(t)}const jye={get:(t,e,n)=>ii(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return fi(i)&&!fi(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function HE(t){return hf(t)?t:new Proxy(t,jye)}class Vye{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>BE(this),()=>l6(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Bye(t){return new Vye(t)}function WE(t){const e=kt(t)?new Array(t.length):{};for(const n in t)e[n]=JX(t,n);return e}class Hye{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return uye(Fn(this._object),this._key)}}class Wye{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Uye(t,e,n){return fi(t)?t:on(t)?new Wye(t):Sr(t)&&arguments.length>1?JX(t,e,n):Tl(t)}function JX(t,e,n){const r=t[e];return fi(r)?r:new Hye(t,e,n)}class Gye{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new G4(e,()=>{this._dirty||(this._dirty=!0,l6(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Fn(this);return BE(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function qye(t,e,n=!1){let r,i;const o=on(t);return o?(r=t,i=fc):(r=t.get,i=t.set),new Gye(r,i,o||!i,n)}function Yye(t,...e){}function Xye(t,e){}function pf(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){zm(o,e,n)}return i}function Rs(t,e,n,r){if(on(t)){const o=pf(t,e,n,r);return o&&$E(o)&&o.catch(a=>{zm(a,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Rs(t[o],e,n,r));return i}function zm(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const a=e.proxy,s=n;for(;o;){const c=o.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,a,s)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){pf(l,null,10,[t,a,s]);return}}Kye(t,n,i,r)}function Kye(t,e,n,r=!0){console.error(t)}let Ey=!1,RT=!1;const qo=[];let Kc=0;const C0=[];let Yu=null,Ap=0;const ZX=Promise.resolve();let UE=null;function Ib(t){const e=UE||ZX;return t?e.then(this?t.bind(this):t):e}function Jye(t){let e=Kc+1,n=qo.length;for(;e<n;){const r=e+n>>>1;$y(qo[r])<t?e=r+1:n=r}return e}function c6(t){(!qo.length||!qo.includes(t,Ey&&t.allowRecurse?Kc+1:Kc))&&(t.id==null?qo.push(t):qo.splice(Jye(t.id),0,t),QX())}function QX(){!Ey&&!RT&&(RT=!0,UE=ZX.then(eK))}function Zye(t){const e=qo.indexOf(t);e>Kc&&qo.splice(e,1)}function GE(t){kt(t)?C0.push(...t):(!Yu||!Yu.includes(t,t.allowRecurse?Ap+1:Ap))&&C0.push(t),QX()}function Fz(t,e=Ey?Kc+1:0){for(;e<qo.length;e++){const n=qo[e];n&&n.pre&&(qo.splice(e,1),e--,n())}}function X8(t){if(C0.length){const e=[...new Set(C0)];if(C0.length=0,Yu){Yu.push(...e);return}for(Yu=e,Yu.sort((n,r)=>$y(n)-$y(r)),Ap=0;Ap<Yu.length;Ap++)Yu[Ap]();Yu=null,Ap=0}}const $y=t=>t.id==null?1/0:t.id,Qye=(t,e)=>{const n=$y(t)-$y(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function eK(t){RT=!1,Ey=!0,qo.sort(Qye);const e=fc;try{for(Kc=0;Kc<qo.length;Kc++){const n=qo[Kc];n&&n.active!==!1&&pf(n,null,14)}}finally{Kc=0,qo.length=0,X8(),Ey=!1,UE=null,(qo.length||C0.length)&&eK()}}let Ug,Q7=[];function tK(t,e){var n,r;Ug=t,Ug?(Ug.enabled=!0,Q7.forEach(({event:i,args:o})=>Ug.emit(i,...o)),Q7=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{tK(o,e)}),setTimeout(()=>{Ug||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Q7=[])},3e3)):Q7=[]}function e4e(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||kr;let i=n;const o=e.startsWith("update:"),a=o&&e.slice(7);if(a&&a in r){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:d}=r[u]||kr;d&&(i=n.map(h=>ai(h)?h.trim():h)),f&&(i=n.map(G8))}let s,l=r[s=Hv(e)]||r[s=Hv(as(e))];!l&&o&&(l=r[s=Hv(kl(e))]),l&&Rs(l,t,6,i);const c=r[s+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Rs(c,t,6,i)}}function nK(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let a={},s=!1;if(!on(t)){const l=c=>{const u=nK(c,e,!0);u&&(s=!0,Br(a,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!s?(Sr(t)&&r.set(t,null),null):(kt(o)?o.forEach(l=>a[l]=null):Br(a,o),Sr(t)&&r.set(t,a),a)}function u6(t,e){return!t||!H4(e)?!1:(e=e.slice(2).replace(/Once$/,""),Kn(t,e[0].toLowerCase()+e.slice(1))||Kn(t,kl(e))||Kn(t,e))}let lo=null,f6=null;function Oy(t){const e=lo;return lo=t,f6=t&&t.type.__scopeId||null,e}function Rm(t){f6=t}function jm(){f6=null}const t4e=t=>gs;function gs(t,e=lo,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&qT(-1);const o=Oy(e);let a;try{a=t(...i)}finally{Oy(o),r._d&&qT(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function X9(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[a],slots:s,attrs:l,emit:c,render:u,renderCache:f,data:d,setupState:h,ctx:m,inheritAttrs:v}=t;let k,b;const _=Oy(t);try{if(n.shapeFlag&4){const C=i||r;k=Os(u.call(C,C,f,o,h,d,m)),b=l}else{const C=e;k=Os(C.length>1?C(o,{attrs:l,slots:s,emit:c}):C(o,null)),b=e.props?l:r4e(l)}}catch(C){qv.length=0,zm(C,t,1),k=at(Ko)}let x=k;if(b&&v!==!1){const C=Object.keys(b),{shapeFlag:S}=x;C.length&&S&7&&(a&&C.some(PE)&&(b=i4e(b,a)),x=mu(x,b))}return n.dirs&&(x=mu(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(x.transition=n.transition),k=x,Oy(_),k}function n4e(t){let e;for(let n=0;n<t.length;n++){const r=t[n];if(Yd(r)){if(r.type!==Ko||r.children==="v-if"){if(e)return;e=r}}else return}return e}const r4e=t=>{let e;for(const n in t)(n==="class"||n==="style"||H4(n))&&((e||(e={}))[n]=t[n]);return e},i4e=(t,e)=>{const n={};for(const r in t)(!PE(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function o4e(t,e,n){const{props:r,children:i,component:o}=t,{props:a,children:s,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Nz(r,a,c):!!a;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(a[d]!==r[d]&&!u6(c,d))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?Nz(r,a,c):!0:!!a;return!1}function Nz(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!u6(n,o))return!0}return!1}function qE({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const rK=t=>t.__isSuspense,a4e={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,o,a,s,l,c){t==null?l4e(e,n,r,i,o,a,s,l,c):c4e(t,e,n,r,i,a,s,l,c)},hydrate:u4e,create:YE,normalize:f4e},s4e=a4e;function Dy(t,e){const n=t.props&&t.props[e];on(n)&&n()}function l4e(t,e,n,r,i,o,a,s,l){const{p:c,o:{createElement:u}}=l,f=u("div"),d=t.suspense=YE(t,i,r,e,f,n,o,a,s,l);c(null,d.pendingBranch=t.ssContent,f,null,r,d,o,a),d.deps>0?(Dy(t,"onPending"),Dy(t,"onFallback"),c(null,t.ssFallback,e,n,r,null,o,a),T0(d,t.ssFallback)):d.resolve(!1,!0)}function c4e(t,e,n,r,i,o,a,s,{p:l,um:c,o:{createElement:u}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const d=e.ssContent,h=e.ssFallback,{activeBranch:m,pendingBranch:v,isInFallback:k,isHydrating:b}=f;if(v)f.pendingBranch=d,ic(d,v)?(l(v,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0?f.resolve():k&&(l(m,h,n,r,i,null,o,a,s),T0(f,h))):(f.pendingId++,b?(f.isHydrating=!1,f.activeBranch=v):c(v,i,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),k?(l(null,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0?f.resolve():(l(m,h,n,r,i,null,o,a,s),T0(f,h))):m&&ic(d,m)?(l(m,d,n,r,i,f,o,a,s),f.resolve(!0)):(l(null,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0&&f.resolve()));else if(m&&ic(d,m))l(m,d,n,r,i,f,o,a,s),T0(f,d);else if(Dy(e,"onPending"),f.pendingBranch=d,f.pendingId++,l(null,d,f.hiddenContainer,null,i,f,o,a,s),f.deps<=0)f.resolve();else{const{timeout:_,pendingId:x}=f;_>0?setTimeout(()=>{f.pendingId===x&&f.fallback(h)},_):_===0&&f.fallback(h)}}function YE(t,e,n,r,i,o,a,s,l,c,u=!1){const{p:f,m:d,um:h,n:m,o:{parentNode:v,remove:k}}=c;let b;const _=d4e(t);_&&e!=null&&e.pendingBranch&&(b=e.pendingId,e.deps++);const x=t.props?q8(t.props.timeout):void 0,C={vnode:t,parent:e,parentComponent:n,isSVG:a,container:r,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof x=="number"?x:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:u,isUnmounted:!1,effects:[],resolve(S=!1,g=!1){const{vnode:T,activeBranch:P,pendingBranch:$,pendingId:F,effects:D,parentComponent:z,container:R}=C;if(C.isHydrating)C.isHydrating=!1;else if(!S){const oe=P&&$.transition&&$.transition.mode==="out-in";oe&&(P.transition.afterLeave=()=>{F===C.pendingId&&d($,R,_e,0)});let{anchor:_e}=C;P&&(_e=m(P),h(P,z,C,!0)),oe||d($,R,_e,0)}T0(C,$),C.pendingBranch=null,C.isInFallback=!1;let V=C.parent,ie=!1;for(;V;){if(V.pendingBranch){V.effects.push(...D),ie=!0;break}V=V.parent}ie||GE(D),C.effects=[],_&&e&&e.pendingBranch&&b===e.pendingId&&(e.deps--,e.deps===0&&!g&&e.resolve()),Dy(T,"onResolve")},fallback(S){if(!C.pendingBranch)return;const{vnode:g,activeBranch:T,parentComponent:P,container:$,isSVG:F}=C;Dy(g,"onFallback");const D=m(T),z=()=>{C.isInFallback&&(f(null,S,$,D,P,null,F,s,l),T0(C,S))},R=S.transition&&S.transition.mode==="out-in";R&&(T.transition.afterLeave=z),C.isInFallback=!0,h(T,P,null,!0),R||z()},move(S,g,T){C.activeBranch&&d(C.activeBranch,S,g,T),C.container=S},next(){return C.activeBranch&&m(C.activeBranch)},registerDep(S,g){const T=!!C.pendingBranch;T&&C.deps++;const P=S.vnode.el;S.asyncDep.catch($=>{zm($,S,0)}).then($=>{if(S.isUnmounted||C.isUnmounted||C.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:F}=S;YT(S,$,!1),P&&(F.el=P);const D=!P&&S.subTree.el;g(S,F,v(P||S.subTree.el),P?null:m(S.subTree),C,a,l),D&&k(D),qE(S,F.el),T&&--C.deps===0&&C.resolve()})},unmount(S,g){C.isUnmounted=!0,C.activeBranch&&h(C.activeBranch,n,S,g),C.pendingBranch&&h(C.pendingBranch,n,S,g)}};return C}function u4e(t,e,n,r,i,o,a,s,l){const c=e.suspense=YE(e,r,n,t.parentNode,document.createElement("div"),null,i,o,a,s,!0),u=l(t,c.pendingBranch=e.ssContent,n,c,o,a);return c.deps===0&&c.resolve(!1,!0),u}function f4e(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Mz(r?n.default:n),t.ssFallback=r?Mz(n.fallback):at(Ko)}function Mz(t){let e;if(on(t)){const n=km&&t._c;n&&(t._d=!1,Ee()),t=t(),n&&(t._d=!0,e=rs,$K())}return kt(t)&&(t=n4e(t)),t=Os(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function iK(t,e){e&&e.pendingBranch?kt(t)?e.effects.push(...t):e.effects.push(t):GE(t)}function T0(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t,i=n.el=e.el;r&&r.subTree===n&&(r.vnode.el=i,qE(r,i))}function d4e(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}function jT(t,e){return q4(t,null,e)}function oK(t,e){return q4(t,null,{flush:"post"})}function h4e(t,e){return q4(t,null,{flush:"sync"})}const e3={};function Si(t,e,n){return q4(t,e,n)}function q4(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:a}=kr){var s;const l=NE()===((s=Ri)==null?void 0:s.scope)?Ri:null;let c,u=!1,f=!1;if(fi(t)?(c=()=>t.value,u=Iy(t)):hf(t)?(c=()=>t,r=!0):kt(t)?(f=!0,u=t.some(C=>hf(C)||Iy(C)),c=()=>t.map(C=>{if(fi(C))return C.value;if(hf(C))return Bp(C);if(on(C))return pf(C,l,2)})):on(t)?e?c=()=>pf(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Rs(t,l,3,[h])}:c=fc,e&&r){const C=c;c=()=>Bp(C())}let d,h=C=>{d=_.onStop=()=>{pf(C,l,4)}},m;if(eb)if(h=fc,e?n&&Rs(e,l,3,[c(),f?[]:void 0,h]):c(),i==="sync"){const C=VK();m=C.__watcherHandles||(C.__watcherHandles=[])}else return fc;let v=f?new Array(t.length).fill(e3):e3;const k=()=>{if(_.active)if(e){const C=_.run();(r||u||(f?C.some((S,g)=>Z0(S,v[g])):Z0(C,v)))&&(d&&d(),Rs(e,l,3,[C,v===e3?void 0:f&&v[0]===e3?[]:v,h]),v=C)}else _.run()};k.allowRecurse=!!e;let b;i==="sync"?b=k:i==="post"?b=()=>vo(k,l&&l.suspense):(k.pre=!0,l&&(k.id=l.uid),b=()=>c6(k));const _=new G4(c,b);e?n?k():v=_.run():i==="post"?vo(_.run.bind(_),l&&l.suspense):_.run();const x=()=>{_.stop(),l&&l.scope&&EE(l.scope.effects,_)};return m&&m.push(x),x}function p4e(t,e,n){const r=this.proxy,i=ai(t)?t.includes(".")?aK(r,t):()=>r[t]:t.bind(r,r);let o;on(e)?o=e:(o=e.handler,n=e);const a=Ri;Xd(this);const s=q4(i,o.bind(r),n);return a?Xd(a):$d(),s}function aK(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Bp(t,e){if(!Sr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),fi(t))Bp(t.value,e);else if(kt(t))for(let n=0;n<t.length;n++)Bp(t[n],e);else if(Mm(t)||S0(t))t.forEach(n=>{Bp(n,e)});else if(OX(t))for(const n in t)Bp(t[n],e);return t}function Sf(t,e){const n=lo;if(n===null)return t;const r=b6(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[a,s,l,c=kr]=e[o];a&&(on(a)&&(a={mounted:a,updated:a}),a.deep&&Bp(s),i.push({dir:a,instance:r,value:s,oldValue:void 0,arg:l,modifiers:c}))}return t}function Uc(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[r];l&&(Tb(),Rs(l,n,8,[t.el,s,t,e]),Ab())}}function XE(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vm(()=>{t.isMounted=!0}),Pb(()=>{t.isUnmounting=!0}),t}const ol=[Function,Array],KE={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ol,onEnter:ol,onAfterEnter:ol,onEnterCancelled:ol,onBeforeLeave:ol,onLeave:ol,onAfterLeave:ol,onLeaveCancelled:ol,onBeforeAppear:ol,onAppear:ol,onAfterAppear:ol,onAppearCancelled:ol},m4e={name:"BaseTransition",props:KE,setup(t,{slots:e}){const n=yc(),r=XE();let i;return()=>{const o=e.default&&d6(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){for(const v of o)if(v.type!==Ko){a=v;break}}const s=Fn(t),{mode:l}=s;if(r.isLeaving)return SS(a);const c=zz(a);if(!c)return SS(a);const u=Q0(c,s,r,n);vm(c,u);const f=n.subTree,d=f&&zz(f);let h=!1;const{getTransitionKey:m}=c.type;if(m){const v=m();i===void 0?i=v:v!==i&&(i=v,h=!0)}if(d&&d.type!==Ko&&(!ic(c,d)||h)){const v=Q0(d,s,r,n);if(vm(d,v),l==="out-in")return r.isLeaving=!0,v.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},SS(a);l==="in-out"&&c.type!==Ko&&(v.delayLeave=(k,b,_)=>{const x=lK(r,d);x[String(d.key)]=d,k._leaveCb=()=>{b(),k._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=_})}return a}}},sK=m4e;function lK(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Q0(t,e,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:s,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:f,onLeave:d,onAfterLeave:h,onLeaveCancelled:m,onBeforeAppear:v,onAppear:k,onAfterAppear:b,onAppearCancelled:_}=e,x=String(t.key),C=lK(n,t),S=(P,$)=>{P&&Rs(P,r,9,$)},g=(P,$)=>{const F=$[1];S(P,$),kt(P)?P.every(D=>D.length<=1)&&F():P.length<=1&&F()},T={mode:o,persisted:a,beforeEnter(P){let $=s;if(!n.isMounted)if(i)$=v||s;else return;P._leaveCb&&P._leaveCb(!0);const F=C[x];F&&ic(t,F)&&F.el._leaveCb&&F.el._leaveCb(),S($,[P])},enter(P){let $=l,F=c,D=u;if(!n.isMounted)if(i)$=k||l,F=b||c,D=_||u;else return;let z=!1;const R=P._enterCb=V=>{z||(z=!0,V?S(D,[P]):S(F,[P]),T.delayedLeave&&T.delayedLeave(),P._enterCb=void 0)};$?g($,[P,R]):R()},leave(P,$){const F=String(t.key);if(P._enterCb&&P._enterCb(!0),n.isUnmounting)return $();S(f,[P]);let D=!1;const z=P._leaveCb=R=>{D||(D=!0,$(),R?S(m,[P]):S(h,[P]),P._leaveCb=void 0,C[F]===t&&delete C[F])};C[F]=t,d?g(d,[P,z]):z()},clone(P){return Q0(P,e,n,r)}};return T}function SS(t){if(Y4(t))return t=mu(t),t.children=null,t}function zz(t){return Y4(t)?t.children?t.children[0]:void 0:t}function vm(t,e){t.shapeFlag&6&&t.component?vm(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function d6(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let a=t[o];const s=n==null?a.key:String(n)+String(a.key!=null?a.key:o);a.type===hn?(a.patchFlag&128&&i++,r=r.concat(d6(a.children,e,s))):(e||a.type!==Ko)&&r.push(s!=null?mu(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function zt(t,e){return on(t)?(()=>Br({name:t.name},e,{setup:t}))():t}const nm=t=>!!t.type.__asyncLoader;function g4e(t){on(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:a=!0,onError:s}=t;let l=null,c,u=0;const f=()=>(u++,l=null,d()),d=()=>{let h;return l||(h=l=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),s)return new Promise((v,k)=>{s(m,()=>v(f()),()=>k(m),u+1)});throw m}).then(m=>h!==l&&l?l:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),c=m,m)))};return zt({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const h=Ri;if(c)return()=>xS(c,h);const m=_=>{l=null,zm(_,h,13,!r)};if(a&&h.suspense||eb)return d().then(_=>()=>xS(_,h)).catch(_=>(m(_),()=>r?at(r,{error:_}):null));const v=Tl(!1),k=Tl(),b=Tl(!!i);return i&&setTimeout(()=>{b.value=!1},i),o!=null&&setTimeout(()=>{if(!v.value&&!k.value){const _=new Error(`Async component timed out after ${o}ms.`);m(_),k.value=_}},o),d().then(()=>{v.value=!0,h.parent&&Y4(h.parent.vnode)&&c6(h.parent.update)}).catch(_=>{m(_),k.value=_}),()=>{if(v.value&&c)return xS(c,h);if(k.value&&r)return at(r,{error:k.value});if(n&&!b.value)return at(n)}}})}function xS(t,e){const{ref:n,props:r,children:i,ce:o}=e.vnode,a=at(t,r,i);return a.ref=n,a.ce=o,delete e.vnode.ce,a}const Y4=t=>t.type.__isKeepAlive,b4e={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=yc(),r=n.ctx;if(!r.renderer)return()=>{const _=e.default&&e.default();return _&&_.length===1?_[0]:_};const i=new Map,o=new Set;let a=null;const s=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=r,d=f("div");r.activate=(_,x,C,S,g)=>{const T=_.component;c(_,x,C,0,s),l(T.vnode,_,x,C,T,s,S,_.slotScopeIds,g),vo(()=>{T.isDeactivated=!1,T.a&&x0(T.a);const P=_.props&&_.props.onVnodeMounted;P&&Ga(P,T.parent,_)},s)},r.deactivate=_=>{const x=_.component;c(_,d,null,1,s),vo(()=>{x.da&&x0(x.da);const C=_.props&&_.props.onVnodeUnmounted;C&&Ga(C,x.parent,_),x.isDeactivated=!0},s)};function h(_){CS(_),u(_,n,s,!0)}function m(_){i.forEach((x,C)=>{const S=KT(x.type);S&&(!_||!_(S))&&v(C)})}function v(_){const x=i.get(_);!a||!ic(x,a)?h(x):a&&CS(a),i.delete(_),o.delete(_)}Si(()=>[t.include,t.exclude],([_,x])=>{_&&m(C=>_v(_,C)),x&&m(C=>!_v(x,C))},{flush:"post",deep:!0});let k=null;const b=()=>{k!=null&&i.set(k,TS(n.subTree))};return Vm(b),p6(b),Pb(()=>{i.forEach(_=>{const{subTree:x,suspense:C}=n,S=TS(x);if(_.type===S.type&&_.key===S.key){CS(S);const g=S.component.da;g&&vo(g,C);return}h(_)})}),()=>{if(k=null,!e.default)return null;const _=e.default(),x=_[0];if(_.length>1)return a=null,_;if(!Yd(x)||!(x.shapeFlag&4)&&!(x.shapeFlag&128))return a=null,x;let C=TS(x);const S=C.type,g=KT(nm(C)?C.type.__asyncResolved||{}:S),{include:T,exclude:P,max:$}=t;if(T&&(!g||!_v(T,g))||P&&g&&_v(P,g))return a=C,x;const F=C.key==null?S:C.key,D=i.get(F);return C.el&&(C=mu(C),x.shapeFlag&128&&(x.ssContent=C)),k=F,D?(C.el=D.el,C.component=D.component,C.transition&&vm(C,C.transition),C.shapeFlag|=512,o.delete(F),o.add(F)):(o.add(F),$&&o.size>parseInt($,10)&&v(o.values().next().value)),C.shapeFlag|=256,a=C,rK(x.type)?x:C}}},v4e=b4e;function _v(t,e){return kt(t)?t.some(n=>_v(n,e)):ai(t)?t.split(",").includes(e):qve(t)?t.test(e):!1}function cK(t,e){fK(t,"a",e)}function uK(t,e){fK(t,"da",e)}function fK(t,e,n=Ri){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(h6(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Y4(i.parent.vnode)&&y4e(r,e,n,i),i=i.parent}}function y4e(t,e,n,r){const i=h6(e,t,r,!0);X4(()=>{EE(r[e],i)},n)}function CS(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function TS(t){return t.shapeFlag&128?t.ssContent:t}function h6(t,e,n=Ri,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Tb(),Xd(n);const s=Rs(e,n,t,a);return $d(),Ab(),s});return r?i.unshift(o):i.push(o),o}}const Ef=t=>(e,n=Ri)=>(!eb||t==="sp")&&h6(t,(...r)=>e(...r),n),JE=Ef("bm"),Vm=Ef("m"),dK=Ef("bu"),p6=Ef("u"),Pb=Ef("bum"),X4=Ef("um"),hK=Ef("sp"),pK=Ef("rtg"),mK=Ef("rtc");function gK(t,e=Ri){h6("ec",t,e)}const ZE="components",k4e="directives";function It(t,e){return e$(ZE,t,!0,e)||t}const bK=Symbol.for("v-ndc");function QE(t){return ai(t)?e$(ZE,t,!1)||t:t||bK}function _4e(t){return e$(k4e,t)}function e$(t,e,n=!0,r=!1){const i=lo||Ri;if(i){const o=i.type;if(t===ZE){const s=KT(o,!1);if(s&&(s===e||s===as(e)||s===W4(as(e))))return o}const a=Rz(i[t]||o[t],e)||Rz(i.appContext[t],e);return!a&&r?o:a}}function Rz(t,e){return t&&(t[e]||t[as(e)]||t[W4(as(e))])}function uo(t,e,n,r){let i;const o=n&&n[r];if(kt(t)||ai(t)){i=new Array(t.length);for(let a=0,s=t.length;a<s;a++)i[a]=e(t[a],a,void 0,o&&o[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,o&&o[a])}else if(Sr(t))if(t[Symbol.iterator])i=Array.from(t,(a,s)=>e(a,s,void 0,o&&o[s]));else{const a=Object.keys(t);i=new Array(a.length);for(let s=0,l=a.length;s<l;s++){const c=a[s];i[s]=e(t[c],c,s,o&&o[s])}}else i=[];return n&&(n[r]=i),i}function w4e(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(kt(r))for(let i=0;i<r.length;i++)t[r[i].name]=r[i].fn;else r&&(t[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return t}function t$(t,e,n={},r,i){if(lo.isCE||lo.parent&&nm(lo.parent)&&lo.parent.isCE)return e!=="default"&&(n.name=e),at("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),Ee();const a=o&&vK(o(n)),s=en(hn,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),o&&o._c&&(o._d=!0),s}function vK(t){return t.some(e=>Yd(e)?!(e.type===Ko||e.type===hn&&!vK(e.children)):!0)?t:null}function S4e(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Hv(r)]=t[r];return n}const VT=t=>t?NK(t)?b6(t)||t.proxy:VT(t.parent):null,Wv=Br(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>VT(t.parent),$root:t=>VT(t.root),$emit:t=>t.emit,$options:t=>n$(t),$forceUpdate:t=>t.f||(t.f=()=>c6(t.update)),$nextTick:t=>t.n||(t.n=Ib.bind(t.proxy)),$watch:t=>p4e.bind(t)}),AS=(t,e)=>t!==kr&&!t.__isScriptSetup&&Kn(t,e),BT={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:a,type:s,appContext:l}=t;let c;if(e[0]!=="$"){const h=a[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(AS(r,e))return a[e]=1,r[e];if(i!==kr&&Kn(i,e))return a[e]=2,i[e];if((c=t.propsOptions[0])&&Kn(c,e))return a[e]=3,o[e];if(n!==kr&&Kn(n,e))return a[e]=4,n[e];HT&&(a[e]=0)}}const u=Wv[e];let f,d;if(u)return e==="$attrs"&&us(t,"get",e),u(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(n!==kr&&Kn(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,Kn(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return AS(i,e)?(i[e]=n,!0):r!==kr&&Kn(r,e)?(r[e]=n,!0):Kn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},a){let s;return!!n[a]||t!==kr&&Kn(t,a)||AS(e,a)||(s=o[0])&&Kn(s,a)||Kn(r,a)||Kn(Wv,a)||Kn(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Kn(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},x4e=Br({},BT,{get(t,e){if(e!==Symbol.unscopables)return BT.get(t,e,t)},has(t,e){return e[0]!=="_"&&!Zve(e)}});function C4e(){return null}function T4e(){return null}function A4e(t){}function I4e(t){}function P4e(){return null}function E4e(){}function $4e(t,e){return null}function O4e(){return yK().slots}function D4e(){return yK().attrs}function L4e(t,e,n){const r=yc();if(n&&n.local){const i=Tl(t[e]);return Si(()=>t[e],o=>i.value=o),Si(i,o=>{o!==t[e]&&r.emit(`update:${e}`,o)}),i}else return{__v_isRef:!0,get value(){return t[e]},set value(i){r.emit(`update:${e}`,i)}}}function yK(){const t=yc();return t.setupContext||(t.setupContext=RK(t))}function Ly(t){return kt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function F4e(t,e){const n=Ly(t);for(const r in e){if(r.startsWith("__skip"))continue;let i=n[r];i?kt(i)||on(i)?i=n[r]={type:i,default:e[r]}:i.default=e[r]:i===null&&(i=n[r]={default:e[r]}),i&&e[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function N4e(t,e){return!t||!e?t||e:kt(t)&&kt(e)?t.concat(e):Br({},Ly(t),Ly(e))}function M4e(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function z4e(t){const e=yc();let n=t();return $d(),$E(n)&&(n=n.catch(r=>{throw Xd(e),r})),[n,()=>Xd(e)]}let HT=!0;function R4e(t){const e=n$(t),n=t.proxy,r=t.ctx;HT=!1,e.beforeCreate&&jz(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:a,watch:s,provide:l,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:h,updated:m,activated:v,deactivated:k,beforeDestroy:b,beforeUnmount:_,destroyed:x,unmounted:C,render:S,renderTracked:g,renderTriggered:T,errorCaptured:P,serverPrefetch:$,expose:F,inheritAttrs:D,components:z,directives:R,filters:V}=e;if(c&&j4e(c,r,null),a)for(const _e in a){const Ae=a[_e];on(Ae)&&(r[_e]=Ae.bind(n))}if(i){const _e=i.call(n,n);Sr(_e)&&(t.data=hh(_e))}if(HT=!0,o)for(const _e in o){const Ae=o[_e],Ie=on(Ae)?Ae.bind(n,n):on(Ae.get)?Ae.get.bind(n,n):fc,ke=!on(Ae)&&on(Ae.set)?Ae.set.bind(n):fc,se=Dn({get:Ie,set:ke});Object.defineProperty(r,_e,{enumerable:!0,configurable:!0,get:()=>se.value,set:ne=>se.value=ne})}if(s)for(const _e in s)kK(s[_e],r,n,_e);if(l){const _e=on(l)?l.call(n):l;Reflect.ownKeys(_e).forEach(Ae=>{Uv(Ae,_e[Ae])})}u&&jz(u,t,"c");function oe(_e,Ae){kt(Ae)?Ae.forEach(Ie=>_e(Ie.bind(n))):Ae&&_e(Ae.bind(n))}if(oe(JE,f),oe(Vm,d),oe(dK,h),oe(p6,m),oe(cK,v),oe(uK,k),oe(gK,P),oe(mK,g),oe(pK,T),oe(Pb,_),oe(X4,C),oe(hK,$),kt(F))if(F.length){const _e=t.exposed||(t.exposed={});F.forEach(Ae=>{Object.defineProperty(_e,Ae,{get:()=>n[Ae],set:Ie=>n[Ae]=Ie})})}else t.exposed||(t.exposed={});S&&t.render===fc&&(t.render=S),D!=null&&(t.inheritAttrs=D),z&&(t.components=z),R&&(t.directives=R)}function j4e(t,e,n=fc){kt(t)&&(t=WT(t));for(const r in t){const i=t[r];let o;Sr(i)?"default"in i?o=Ni(i.from||r,i.default,!0):o=Ni(i.from||r):o=Ni(i),fi(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function jz(t,e,n){Rs(kt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function kK(t,e,n,r){const i=r.includes(".")?aK(n,r):()=>n[r];if(ai(t)){const o=e[t];on(o)&&Si(i,o)}else if(on(t))Si(i,t.bind(n));else if(Sr(t))if(kt(t))t.forEach(o=>kK(o,e,n,r));else{const o=on(t.handler)?t.handler.bind(n):e[t.handler];on(o)&&Si(i,o,t)}}function n$(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,s=o.get(e);let l;return s?l=s:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>K8(l,c,a,!0)),K8(l,e,a)),Sr(e)&&o.set(e,l),l}function K8(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&K8(t,o,n,!0),i&&i.forEach(a=>K8(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const s=V4e[a]||n&&n[a];t[a]=s?s(t[a],e[a]):e[a]}return t}const V4e={data:Vz,props:Bz,emits:Bz,methods:wv,computed:wv,beforeCreate:ha,created:ha,beforeMount:ha,mounted:ha,beforeUpdate:ha,updated:ha,beforeDestroy:ha,beforeUnmount:ha,destroyed:ha,unmounted:ha,activated:ha,deactivated:ha,errorCaptured:ha,serverPrefetch:ha,components:wv,directives:wv,watch:H4e,provide:Vz,inject:B4e};function Vz(t,e){return e?t?function(){return Br(on(t)?t.call(this,this):t,on(e)?e.call(this,this):e)}:e:t}function B4e(t,e){return wv(WT(t),WT(e))}function WT(t){if(kt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ha(t,e){return t?[...new Set([].concat(t,e))]:e}function wv(t,e){return t?Br(Object.create(null),t,e):e}function Bz(t,e){return t?kt(t)&&kt(e)?[...new Set([...t,...e])]:Br(Object.create(null),Ly(t),Ly(e??{})):e}function H4e(t,e){if(!t)return e;if(!e)return t;const n=Br(Object.create(null),t);for(const r in e)n[r]=ha(t[r],e[r]);return n}function _K(){return{app:null,config:{isNativeTag:Wve,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let W4e=0;function U4e(t,e){return function(r,i=null){on(r)||(r=Br({},r)),i!=null&&!Sr(i)&&(i=null);const o=_K(),a=new Set;let s=!1;const l=o.app={_uid:W4e++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:HK,get config(){return o.config},set config(c){},use(c,...u){return a.has(c)||(c&&on(c.install)?(a.add(c),c.install(l,...u)):on(c)&&(a.add(c),c(l,...u))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,u){return u?(o.components[c]=u,l):o.components[c]},directive(c,u){return u?(o.directives[c]=u,l):o.directives[c]},mount(c,u,f){if(!s){const d=at(r,i);return d.appContext=o,u&&e?e(d,c):t(d,c,f),s=!0,l._container=c,c.__vue_app__=l,b6(d.component)||d.component.proxy}},unmount(){s&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return o.provides[c]=u,l},runWithContext(c){Fy=l;try{return c()}finally{Fy=null}}};return l}}let Fy=null;function Uv(t,e){if(Ri){let n=Ri.provides;const r=Ri.parent&&Ri.parent.provides;r===n&&(n=Ri.provides=Object.create(r)),n[t]=e}}function Ni(t,e,n=!1){const r=Ri||lo;if(r||Fy){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Fy._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&on(e)?e.call(r&&r.proxy):e}}function G4e(){return!!(Ri||lo||Fy)}function q4e(t,e,n,r=!1){const i={},o={};U8(o,m6,1),t.propsDefaults=Object.create(null),wK(t,e,i,o);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:XX(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function Y4e(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=t,s=Fn(i),[l]=t.propsOptions;let c=!1;if((r||a>0)&&!(a&16)){if(a&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(u6(t.emitsOptions,d))continue;const h=e[d];if(l)if(Kn(o,d))h!==o[d]&&(o[d]=h,c=!0);else{const m=as(d);i[m]=UT(l,s,m,h,t,!1)}else h!==o[d]&&(o[d]=h,c=!0)}}}else{wK(t,e,i,o)&&(c=!0);let u;for(const f in s)(!e||!Kn(e,f)&&((u=kl(f))===f||!Kn(e,u)))&&(l?n&&(n[f]!==void 0||n[u]!==void 0)&&(i[f]=UT(l,s,f,void 0,t,!0)):delete i[f]);if(o!==s)for(const f in o)(!e||!Kn(e,f))&&(delete o[f],c=!0)}c&&wf(t,"set","$attrs")}function wK(t,e,n,r){const[i,o]=t.propsOptions;let a=!1,s;if(e)for(let l in e){if(Bv(l))continue;const c=e[l];let u;i&&Kn(i,u=as(l))?!o||!o.includes(u)?n[u]=c:(s||(s={}))[u]=c:u6(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,a=!0)}if(o){const l=Fn(n),c=s||kr;for(let u=0;u<o.length;u++){const f=o[u];n[f]=UT(i,l,f,c[f],t,!Kn(c,f))}}return a}function UT(t,e,n,r,i,o){const a=t[n];if(a!=null){const s=Kn(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&on(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(Xd(i),r=c[n]=l.call(null,e),$d())}else r=l}a[0]&&(o&&!s?r=!1:a[1]&&(r===""||r===kl(n))&&(r=!0))}return r}function SK(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,a={},s=[];let l=!1;if(!on(t)){const u=f=>{l=!0;const[d,h]=SK(f,e,!0);Br(a,d),h&&s.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!o&&!l)return Sr(t)&&r.set(t,w0),w0;if(kt(o))for(let u=0;u<o.length;u++){const f=as(o[u]);Hz(f)&&(a[f]=kr)}else if(o)for(const u in o){const f=as(u);if(Hz(f)){const d=o[u],h=a[f]=kt(d)||on(d)?{type:d}:Br({},d);if(h){const m=Gz(Boolean,h.type),v=Gz(String,h.type);h[0]=m>-1,h[1]=v<0||m<v,(m>-1||Kn(h,"default"))&&s.push(f)}}}const c=[a,s];return Sr(t)&&r.set(t,c),c}function Hz(t){return t[0]!=="$"}function Wz(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Uz(t,e){return Wz(t)===Wz(e)}function Gz(t,e){return kt(e)?e.findIndex(n=>Uz(n,t)):on(e)&&Uz(e,t)?0:-1}const xK=t=>t[0]==="_"||t==="$stable",r$=t=>kt(t)?t.map(Os):[Os(t)],X4e=(t,e,n)=>{if(e._n)return e;const r=gs((...i)=>r$(e(...i)),n);return r._c=!1,r},CK=(t,e,n)=>{const r=t._ctx;for(const i in t){if(xK(i))continue;const o=t[i];if(on(o))e[i]=X4e(i,o,r);else if(o!=null){const a=r$(o);e[i]=()=>a}}},TK=(t,e)=>{const n=r$(e);t.slots.default=()=>n},K4e=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Fn(e),U8(e,"_",n)):CK(e,t.slots={})}else t.slots={},e&&TK(t,e);U8(t.slots,m6,1)},J4e=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,a=kr;if(r.shapeFlag&32){const s=e._;s?n&&s===1?o=!1:(Br(i,e),!n&&s===1&&delete i._):(o=!e.$stable,CK(e,i)),a=e}else e&&(TK(t,e),a={default:1});if(o)for(const s in i)!xK(s)&&!(s in a)&&delete i[s]};function J8(t,e,n,r,i=!1){if(kt(t)){t.forEach((d,h)=>J8(d,e&&(kt(e)?e[h]:e),n,r,i));return}if(nm(r)&&!i)return;const o=r.shapeFlag&4?b6(r.component)||r.component.proxy:r.el,a=i?null:o,{i:s,r:l}=t,c=e&&e.r,u=s.refs===kr?s.refs={}:s.refs,f=s.setupState;if(c!=null&&c!==l&&(ai(c)?(u[c]=null,Kn(f,c)&&(f[c]=null)):fi(c)&&(c.value=null)),on(l))pf(l,s,12,[a,u]);else{const d=ai(l),h=fi(l);if(d||h){const m=()=>{if(t.f){const v=d?Kn(f,l)?f[l]:u[l]:l.value;i?kt(v)&&EE(v,o):kt(v)?v.includes(o)||v.push(o):d?(u[l]=[o],Kn(f,l)&&(f[l]=u[l])):(l.value=[o],t.k&&(u[t.k]=l.value))}else d?(u[l]=a,Kn(f,l)&&(f[l]=a)):h&&(l.value=a,t.k&&(u[t.k]=a))};a?(m.id=-1,vo(m,n)):m()}}}let Kf=!1;const t3=t=>/svg/.test(t.namespaceURI)&&t.tagName!=="foreignObject",n3=t=>t.nodeType===8;function Z4e(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:a,remove:s,insert:l,createComment:c}}=t,u=(b,_)=>{if(!_.hasChildNodes()){n(null,b,_),X8(),_._vnode=b;return}Kf=!1,f(_.firstChild,b,null,null,null),X8(),_._vnode=b,Kf&&console.error("Hydration completed but contains mismatches.")},f=(b,_,x,C,S,g=!1)=>{const T=n3(b)&&b.data==="[",P=()=>v(b,_,x,C,S,T),{type:$,ref:F,shapeFlag:D,patchFlag:z}=_;let R=b.nodeType;_.el=b,z===-2&&(g=!1,_.dynamicChildren=null);let V=null;switch($){case ym:R!==3?_.children===""?(l(_.el=i(""),a(b),b),V=b):V=P():(b.data!==_.children&&(Kf=!0,b.data=_.children),V=o(b));break;case Ko:R!==8||T?V=P():V=o(b);break;case rm:if(T&&(b=o(b),R=b.nodeType),R===1||R===3){V=b;const ie=!_.children.length;for(let oe=0;oe<_.staticCount;oe++)ie&&(_.children+=V.nodeType===1?V.outerHTML:V.data),oe===_.staticCount-1&&(_.anchor=V),V=o(V);return T?o(V):V}else P();break;case hn:T?V=m(b,_,x,C,S,g):V=P();break;default:if(D&1)R!==1||_.type.toLowerCase()!==b.tagName.toLowerCase()?V=P():V=d(b,_,x,C,S,g);else if(D&6){_.slotScopeIds=S;const ie=a(b);if(e(_,ie,null,x,C,t3(ie),g),V=T?k(b):o(b),V&&n3(V)&&V.data==="teleport end"&&(V=o(V)),nm(_)){let oe;T?(oe=at(hn),oe.anchor=V?V.previousSibling:ie.lastChild):oe=b.nodeType===3?ji(""):at("div"),oe.el=b,_.component.subTree=oe}}else D&64?R!==8?V=P():V=_.type.hydrate(b,_,x,C,S,g,t,h):D&128&&(V=_.type.hydrate(b,_,x,C,t3(a(b)),S,g,t,f))}return F!=null&&J8(F,null,C,_),V},d=(b,_,x,C,S,g)=>{g=g||!!_.dynamicChildren;const{type:T,props:P,patchFlag:$,shapeFlag:F,dirs:D}=_,z=T==="input"&&D||T==="option";if(z||$!==-1){if(D&&Uc(_,null,x,"created"),P)if(z||!g||$&48)for(const V in P)(z&&V.endsWith("value")||H4(V)&&!Bv(V))&&r(b,V,null,P[V],!1,void 0,x);else P.onClick&&r(b,"onClick",null,P.onClick,!1,void 0,x);let R;if((R=P&&P.onVnodeBeforeMount)&&Ga(R,x,_),D&&Uc(_,null,x,"beforeMount"),((R=P&&P.onVnodeMounted)||D)&&iK(()=>{R&&Ga(R,x,_),D&&Uc(_,null,x,"mounted")},C),F&16&&!(P&&(P.innerHTML||P.textContent))){let V=h(b.firstChild,_,b,x,C,S,g);for(;V;){Kf=!0;const ie=V;V=V.nextSibling,s(ie)}}else F&8&&b.textContent!==_.children&&(Kf=!0,b.textContent=_.children)}return b.nextSibling},h=(b,_,x,C,S,g,T)=>{T=T||!!_.dynamicChildren;const P=_.children,$=P.length;for(let F=0;F<$;F++){const D=T?P[F]:P[F]=Os(P[F]);if(b)b=f(b,D,C,S,g,T);else{if(D.type===ym&&!D.children)continue;Kf=!0,n(null,D,x,null,C,S,t3(x),g)}}return b},m=(b,_,x,C,S,g)=>{const{slotScopeIds:T}=_;T&&(S=S?S.concat(T):T);const P=a(b),$=h(o(b),_,P,x,C,S,g);return $&&n3($)&&$.data==="]"?o(_.anchor=$):(Kf=!0,l(_.anchor=c("]"),P,$),$)},v=(b,_,x,C,S,g)=>{if(Kf=!0,_.el=null,g){const $=k(b);for(;;){const F=o(b);if(F&&F!==$)s(F);else break}}const T=o(b),P=a(b);return s(b),n(null,_,P,T,x,C,t3(P),S),T},k=b=>{let _=0;for(;b;)if(b=o(b),b&&n3(b)&&(b.data==="["&&_++,b.data==="]")){if(_===0)return o(b);_--}return b};return[u,f]}const vo=iK;function AK(t){return PK(t)}function IK(t){return PK(t,Z4e)}function PK(t,e){const n=FT();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:a,createText:s,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:h=fc,insertStaticContent:m}=t,v=(B,Y,E,M=null,H=null,Q=null,be=!1,me=null,Fe=!!Y.dynamicChildren)=>{if(B===Y)return;B&&!ic(B,Y)&&(M=te(B),ne(B,H,Q,!0),B=null),Y.patchFlag===-2&&(Fe=!1,Y.dynamicChildren=null);const{type:Le,ref:tt,shapeFlag:Ke}=Y;switch(Le){case ym:k(B,Y,E,M);break;case Ko:b(B,Y,E,M);break;case rm:B==null&&_(Y,E,M,be);break;case hn:z(B,Y,E,M,H,Q,be,me,Fe);break;default:Ke&1?S(B,Y,E,M,H,Q,be,me,Fe):Ke&6?R(B,Y,E,M,H,Q,be,me,Fe):(Ke&64||Ke&128)&&Le.process(B,Y,E,M,H,Q,be,me,Fe,ce)}tt!=null&&H&&J8(tt,B&&B.ref,Q,Y||B,!Y)},k=(B,Y,E,M)=>{if(B==null)r(Y.el=s(Y.children),E,M);else{const H=Y.el=B.el;Y.children!==B.children&&c(H,Y.children)}},b=(B,Y,E,M)=>{B==null?r(Y.el=l(Y.children||""),E,M):Y.el=B.el},_=(B,Y,E,M)=>{[B.el,B.anchor]=m(B.children,Y,E,M,B.el,B.anchor)},x=({el:B,anchor:Y},E,M)=>{let H;for(;B&&B!==Y;)H=d(B),r(B,E,M),B=H;r(Y,E,M)},C=({el:B,anchor:Y})=>{let E;for(;B&&B!==Y;)E=d(B),i(B),B=E;i(Y)},S=(B,Y,E,M,H,Q,be,me,Fe)=>{be=be||Y.type==="svg",B==null?g(Y,E,M,H,Q,be,me,Fe):$(B,Y,H,Q,be,me,Fe)},g=(B,Y,E,M,H,Q,be,me)=>{let Fe,Le;const{type:tt,props:Ke,shapeFlag:et,transition:Qe,dirs:pt}=B;if(Fe=B.el=a(B.type,Q,Ke&&Ke.is,Ke),et&8?u(Fe,B.children):et&16&&P(B.children,Fe,null,M,H,Q&&tt!=="foreignObject",be,me),pt&&Uc(B,null,M,"created"),T(Fe,B,B.scopeId,be,M),Ke){for(const Xt in Ke)Xt!=="value"&&!Bv(Xt)&&o(Fe,Xt,null,Ke[Xt],Q,B.children,M,H,ae);"value"in Ke&&o(Fe,"value",null,Ke.value),(Le=Ke.onVnodeBeforeMount)&&Ga(Le,M,B)}pt&&Uc(B,null,M,"beforeMount");const Rt=(!H||H&&!H.pendingBranch)&&Qe&&!Qe.persisted;Rt&&Qe.beforeEnter(Fe),r(Fe,Y,E),((Le=Ke&&Ke.onVnodeMounted)||Rt||pt)&&vo(()=>{Le&&Ga(Le,M,B),Rt&&Qe.enter(Fe),pt&&Uc(B,null,M,"mounted")},H)},T=(B,Y,E,M,H)=>{if(E&&h(B,E),M)for(let Q=0;Q<M.length;Q++)h(B,M[Q]);if(H){let Q=H.subTree;if(Y===Q){const be=H.vnode;T(B,be,be.scopeId,be.slotScopeIds,H.parent)}}},P=(B,Y,E,M,H,Q,be,me,Fe=0)=>{for(let Le=Fe;Le<B.length;Le++){const tt=B[Le]=me?pd(B[Le]):Os(B[Le]);v(null,tt,Y,E,M,H,Q,be,me)}},$=(B,Y,E,M,H,Q,be)=>{const me=Y.el=B.el;let{patchFlag:Fe,dynamicChildren:Le,dirs:tt}=Y;Fe|=B.patchFlag&16;const Ke=B.props||kr,et=Y.props||kr;let Qe;E&&Gh(E,!1),(Qe=et.onVnodeBeforeUpdate)&&Ga(Qe,E,Y,B),tt&&Uc(Y,B,E,"beforeUpdate"),E&&Gh(E,!0);const pt=H&&Y.type!=="foreignObject";if(Le?F(B.dynamicChildren,Le,me,E,M,pt,Q):be||Ae(B,Y,me,null,E,M,pt,Q,!1),Fe>0){if(Fe&16)D(me,Y,Ke,et,E,M,H);else if(Fe&2&&Ke.class!==et.class&&o(me,"class",null,et.class,H),Fe&4&&o(me,"style",Ke.style,et.style,H),Fe&8){const Rt=Y.dynamicProps;for(let Xt=0;Xt<Rt.length;Xt++){const wt=Rt[Xt],sn=Ke[wt],mr=et[wt];(mr!==sn||wt==="value")&&o(me,wt,sn,mr,H,B.children,E,M,ae)}}Fe&1&&B.children!==Y.children&&u(me,Y.children)}else!be&&Le==null&&D(me,Y,Ke,et,E,M,H);((Qe=et.onVnodeUpdated)||tt)&&vo(()=>{Qe&&Ga(Qe,E,Y,B),tt&&Uc(Y,B,E,"updated")},M)},F=(B,Y,E,M,H,Q,be)=>{for(let me=0;me<Y.length;me++){const Fe=B[me],Le=Y[me],tt=Fe.el&&(Fe.type===hn||!ic(Fe,Le)||Fe.shapeFlag&70)?f(Fe.el):E;v(Fe,Le,tt,null,M,H,Q,be,!0)}},D=(B,Y,E,M,H,Q,be)=>{if(E!==M){if(E!==kr)for(const me in E)!Bv(me)&&!(me in M)&&o(B,me,E[me],null,be,Y.children,H,Q,ae);for(const me in M){if(Bv(me))continue;const Fe=M[me],Le=E[me];Fe!==Le&&me!=="value"&&o(B,me,Le,Fe,be,Y.children,H,Q,ae)}"value"in M&&o(B,"value",E.value,M.value)}},z=(B,Y,E,M,H,Q,be,me,Fe)=>{const Le=Y.el=B?B.el:s(""),tt=Y.anchor=B?B.anchor:s("");let{patchFlag:Ke,dynamicChildren:et,slotScopeIds:Qe}=Y;Qe&&(me=me?me.concat(Qe):Qe),B==null?(r(Le,E,M),r(tt,E,M),P(Y.children,E,tt,H,Q,be,me,Fe)):Ke>0&&Ke&64&&et&&B.dynamicChildren?(F(B.dynamicChildren,et,E,H,Q,be,me),(Y.key!=null||H&&Y===H.subTree)&&i$(B,Y,!0)):Ae(B,Y,E,tt,H,Q,be,me,Fe)},R=(B,Y,E,M,H,Q,be,me,Fe)=>{Y.slotScopeIds=me,B==null?Y.shapeFlag&512?H.ctx.activate(Y,E,M,be,Fe):V(Y,E,M,H,Q,be,Fe):ie(B,Y,Fe)},V=(B,Y,E,M,H,Q,be)=>{const me=B.component=FK(B,M,H);if(Y4(B)&&(me.ctx.renderer=ce),MK(me),me.asyncDep){if(H&&H.registerDep(me,oe),!B.el){const Fe=me.subTree=at(Ko);b(null,Fe,Y,E)}return}oe(me,B,Y,E,H,Q,be)},ie=(B,Y,E)=>{const M=Y.component=B.component;if(o4e(B,Y,E))if(M.asyncDep&&!M.asyncResolved){_e(M,Y,E);return}else M.next=Y,Zye(M.update),M.update();else Y.el=B.el,M.vnode=Y},oe=(B,Y,E,M,H,Q,be)=>{const me=()=>{if(B.isMounted){let{next:tt,bu:Ke,u:et,parent:Qe,vnode:pt}=B,Rt=tt,Xt;Gh(B,!1),tt?(tt.el=pt.el,_e(B,tt,be)):tt=pt,Ke&&x0(Ke),(Xt=tt.props&&tt.props.onVnodeBeforeUpdate)&&Ga(Xt,Qe,tt,pt),Gh(B,!0);const wt=X9(B),sn=B.subTree;B.subTree=wt,v(sn,wt,f(sn.el),te(sn),B,H,Q),tt.el=wt.el,Rt===null&&qE(B,wt.el),et&&vo(et,H),(Xt=tt.props&&tt.props.onVnodeUpdated)&&vo(()=>Ga(Xt,Qe,tt,pt),H)}else{let tt;const{el:Ke,props:et}=Y,{bm:Qe,m:pt,parent:Rt}=B,Xt=nm(Y);if(Gh(B,!1),Qe&&x0(Qe),!Xt&&(tt=et&&et.onVnodeBeforeMount)&&Ga(tt,Rt,Y),Gh(B,!0),Ke&&ve){const wt=()=>{B.subTree=X9(B),ve(Ke,B.subTree,B,H,null)};Xt?Y.type.__asyncLoader().then(()=>!B.isUnmounted&&wt()):wt()}else{const wt=B.subTree=X9(B);v(null,wt,E,M,B,H,Q),Y.el=wt.el}if(pt&&vo(pt,H),!Xt&&(tt=et&&et.onVnodeMounted)){const wt=Y;vo(()=>Ga(tt,Rt,wt),H)}(Y.shapeFlag&256||Rt&&nm(Rt.vnode)&&Rt.vnode.shapeFlag&256)&&B.a&&vo(B.a,H),B.isMounted=!0,Y=E=M=null}},Fe=B.effect=new G4(me,()=>c6(Le),B.scope),Le=B.update=()=>Fe.run();Le.id=B.uid,Gh(B,!0),Le()},_e=(B,Y,E)=>{Y.component=B;const M=B.vnode.props;B.vnode=Y,B.next=null,Y4e(B,Y.props,M,E),J4e(B,Y.children,E),Tb(),Fz(),Ab()},Ae=(B,Y,E,M,H,Q,be,me,Fe=!1)=>{const Le=B&&B.children,tt=B?B.shapeFlag:0,Ke=Y.children,{patchFlag:et,shapeFlag:Qe}=Y;if(et>0){if(et&128){ke(Le,Ke,E,M,H,Q,be,me,Fe);return}else if(et&256){Ie(Le,Ke,E,M,H,Q,be,me,Fe);return}}Qe&8?(tt&16&&ae(Le,H,Q),Ke!==Le&&u(E,Ke)):tt&16?Qe&16?ke(Le,Ke,E,M,H,Q,be,me,Fe):ae(Le,H,Q,!0):(tt&8&&u(E,""),Qe&16&&P(Ke,E,M,H,Q,be,me,Fe))},Ie=(B,Y,E,M,H,Q,be,me,Fe)=>{B=B||w0,Y=Y||w0;const Le=B.length,tt=Y.length,Ke=Math.min(Le,tt);let et;for(et=0;et<Ke;et++){const Qe=Y[et]=Fe?pd(Y[et]):Os(Y[et]);v(B[et],Qe,E,null,H,Q,be,me,Fe)}Le>tt?ae(B,H,Q,!0,!1,Ke):P(Y,E,M,H,Q,be,me,Fe,Ke)},ke=(B,Y,E,M,H,Q,be,me,Fe)=>{let Le=0;const tt=Y.length;let Ke=B.length-1,et=tt-1;for(;Le<=Ke&&Le<=et;){const Qe=B[Le],pt=Y[Le]=Fe?pd(Y[Le]):Os(Y[Le]);if(ic(Qe,pt))v(Qe,pt,E,null,H,Q,be,me,Fe);else break;Le++}for(;Le<=Ke&&Le<=et;){const Qe=B[Ke],pt=Y[et]=Fe?pd(Y[et]):Os(Y[et]);if(ic(Qe,pt))v(Qe,pt,E,null,H,Q,be,me,Fe);else break;Ke--,et--}if(Le>Ke){if(Le<=et){const Qe=et+1,pt=Qe<tt?Y[Qe].el:M;for(;Le<=et;)v(null,Y[Le]=Fe?pd(Y[Le]):Os(Y[Le]),E,pt,H,Q,be,me,Fe),Le++}}else if(Le>et)for(;Le<=Ke;)ne(B[Le],H,Q,!0),Le++;else{const Qe=Le,pt=Le,Rt=new Map;for(Le=pt;Le<=et;Le++){const Tr=Y[Le]=Fe?pd(Y[Le]):Os(Y[Le]);Tr.key!=null&&Rt.set(Tr.key,Le)}let Xt,wt=0;const sn=et-pt+1;let mr=!1,gi=0;const Lr=new Array(sn);for(Le=0;Le<sn;Le++)Lr[Le]=0;for(Le=Qe;Le<=Ke;Le++){const Tr=B[Le];if(wt>=sn){ne(Tr,H,Q,!0);continue}let jn;if(Tr.key!=null)jn=Rt.get(Tr.key);else for(Xt=pt;Xt<=et;Xt++)if(Lr[Xt-pt]===0&&ic(Tr,Y[Xt])){jn=Xt;break}jn===void 0?ne(Tr,H,Q,!0):(Lr[jn-pt]=Le+1,jn>=gi?gi=jn:mr=!0,v(Tr,Y[jn],E,null,H,Q,be,me,Fe),wt++)}const ho=mr?Q4e(Lr):w0;for(Xt=ho.length-1,Le=sn-1;Le>=0;Le--){const Tr=pt+Le,jn=Y[Tr],Vn=Tr+1<tt?Y[Tr+1].el:M;Lr[Le]===0?v(null,jn,E,Vn,H,Q,be,me,Fe):mr&&(Xt<0||Le!==ho[Xt]?se(jn,E,Vn,2):Xt--)}}},se=(B,Y,E,M,H=null)=>{const{el:Q,type:be,transition:me,children:Fe,shapeFlag:Le}=B;if(Le&6){se(B.component.subTree,Y,E,M);return}if(Le&128){B.suspense.move(Y,E,M);return}if(Le&64){be.move(B,Y,E,ce);return}if(be===hn){r(Q,Y,E);for(let Ke=0;Ke<Fe.length;Ke++)se(Fe[Ke],Y,E,M);r(B.anchor,Y,E);return}if(be===rm){x(B,Y,E);return}if(M!==2&&Le&1&&me)if(M===0)me.beforeEnter(Q),r(Q,Y,E),vo(()=>me.enter(Q),H);else{const{leave:Ke,delayLeave:et,afterLeave:Qe}=me,pt=()=>r(Q,Y,E),Rt=()=>{Ke(Q,()=>{pt(),Qe&&Qe()})};et?et(Q,pt,Rt):Rt()}else r(Q,Y,E)},ne=(B,Y,E,M=!1,H=!1)=>{const{type:Q,props:be,ref:me,children:Fe,dynamicChildren:Le,shapeFlag:tt,patchFlag:Ke,dirs:et}=B;if(me!=null&&J8(me,null,E,B,!0),tt&256){Y.ctx.deactivate(B);return}const Qe=tt&1&&et,pt=!nm(B);let Rt;if(pt&&(Rt=be&&be.onVnodeBeforeUnmount)&&Ga(Rt,Y,B),tt&6)U(B.component,E,M);else{if(tt&128){B.suspense.unmount(E,M);return}Qe&&Uc(B,null,Y,"beforeUnmount"),tt&64?B.type.remove(B,Y,E,H,ce,M):Le&&(Q!==hn||Ke>0&&Ke&64)?ae(Le,Y,E,!1,!0):(Q===hn&&Ke&384||!H&&tt&16)&&ae(Fe,Y,E),M&&J(B)}(pt&&(Rt=be&&be.onVnodeUnmounted)||Qe)&&vo(()=>{Rt&&Ga(Rt,Y,B),Qe&&Uc(B,null,Y,"unmounted")},E)},J=B=>{const{type:Y,el:E,anchor:M,transition:H}=B;if(Y===hn){j(E,M);return}if(Y===rm){C(B);return}const Q=()=>{i(E),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(B.shapeFlag&1&&H&&!H.persisted){const{leave:be,delayLeave:me}=H,Fe=()=>be(E,Q);me?me(B.el,Q,Fe):Fe()}else Q()},j=(B,Y)=>{let E;for(;B!==Y;)E=d(B),i(B),B=E;i(Y)},U=(B,Y,E)=>{const{bum:M,scope:H,update:Q,subTree:be,um:me}=B;M&&x0(M),H.stop(),Q&&(Q.active=!1,ne(be,B,Y,E)),me&&vo(me,Y),vo(()=>{B.isUnmounted=!0},Y),Y&&Y.pendingBranch&&!Y.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===Y.pendingId&&(Y.deps--,Y.deps===0&&Y.resolve())},ae=(B,Y,E,M=!1,H=!1,Q=0)=>{for(let be=Q;be<B.length;be++)ne(B[be],Y,E,M,H)},te=B=>B.shapeFlag&6?te(B.component.subTree):B.shapeFlag&128?B.suspense.next():d(B.anchor||B.el),ue=(B,Y,E)=>{B==null?Y._vnode&&ne(Y._vnode,null,null,!0):v(Y._vnode||null,B,Y,null,null,null,E),Fz(),X8(),Y._vnode=B},ce={p:v,um:ne,m:se,r:J,mt:V,mc:P,pc:Ae,pbc:F,n:te,o:t};let fe,ve;return e&&([fe,ve]=e(ce)),{render:ue,hydrate:fe,createApp:U4e(ue,fe)}}function Gh({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function i$(t,e,n=!1){const r=t.children,i=e.children;if(kt(r)&&kt(i))for(let o=0;o<r.length;o++){const a=r[o];let s=i[o];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=i[o]=pd(i[o]),s.el=a.el),n||i$(a,s)),s.type===ym&&(s.el=a.el)}}function Q4e(t){const e=t.slice(),n=[0];let r,i,o,a,s;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,t[n[s]]<c?o=s+1:a=s;c<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,a=n[o-1];o-- >0;)n[o]=a,a=e[a];return n}const e2e=t=>t.__isTeleport,Gv=t=>t&&(t.disabled||t.disabled===""),qz=t=>typeof SVGElement<"u"&&t instanceof SVGElement,GT=(t,e)=>{const n=t&&t.to;return ai(n)?e?e(n):null:n},t2e={__isTeleport:!0,process(t,e,n,r,i,o,a,s,l,c){const{mc:u,pc:f,pbc:d,o:{insert:h,querySelector:m,createText:v,createComment:k}}=c,b=Gv(e.props);let{shapeFlag:_,children:x,dynamicChildren:C}=e;if(t==null){const S=e.el=v(""),g=e.anchor=v("");h(S,n,r),h(g,n,r);const T=e.target=GT(e.props,m),P=e.targetAnchor=v("");T&&(h(P,T),a=a||qz(T));const $=(F,D)=>{_&16&&u(x,F,D,i,o,a,s,l)};b?$(n,g):T&&$(T,P)}else{e.el=t.el;const S=e.anchor=t.anchor,g=e.target=t.target,T=e.targetAnchor=t.targetAnchor,P=Gv(t.props),$=P?n:g,F=P?S:T;if(a=a||qz(g),C?(d(t.dynamicChildren,C,$,i,o,a,s),i$(t,e,!0)):l||f(t,e,$,F,i,o,a,s,!1),b)P||r3(e,n,S,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=GT(e.props,m);D&&r3(e,D,null,c,0)}else P&&r3(e,g,T,c,1)}EK(e)},remove(t,e,n,r,{um:i,o:{remove:o}},a){const{shapeFlag:s,children:l,anchor:c,targetAnchor:u,target:f,props:d}=t;if(f&&o(u),(a||!Gv(d))&&(o(c),s&16))for(let h=0;h<l.length;h++){const m=l[h];i(m,e,n,!0,!!m.dynamicChildren)}},move:r3,hydrate:n2e};function r3(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=t,f=o===2;if(f&&r(a,e,n),(!f||Gv(u))&&l&16)for(let d=0;d<c.length;d++)i(c[d],e,n,2);f&&r(s,e,n)}function n2e(t,e,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l}},c){const u=e.target=GT(e.props,l);if(u){const f=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Gv(e.props))e.anchor=c(a(t),e,s(t),n,r,i,o),e.targetAnchor=f;else{e.anchor=a(t);let d=f;for(;d;)if(d=a(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,u._lpa=e.targetAnchor&&a(e.targetAnchor);break}c(f,e,u,n,r,i,o)}EK(e)}return e.anchor&&a(e.anchor)}const r2e=t2e;function EK(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const hn=Symbol.for("v-fgt"),ym=Symbol.for("v-txt"),Ko=Symbol.for("v-cmt"),rm=Symbol.for("v-stc"),qv=[];let rs=null;function Ee(t=!1){qv.push(rs=t?null:[])}function $K(){qv.pop(),rs=qv[qv.length-1]||null}let km=1;function qT(t){km+=t}function OK(t){return t.dynamicChildren=km>0?rs||w0:null,$K(),km>0&&rs&&rs.push(t),t}function Be(t,e,n,r,i,o){return OK(X(t,e,n,r,i,o,!0))}function en(t,e,n,r,i){return OK(at(t,e,n,r,i,!0))}function Yd(t){return t?t.__v_isVNode===!0:!1}function ic(t,e){return t.type===e.type&&t.key===e.key}function i2e(t){}const m6="__vInternal",DK=({key:t})=>t??null,K9=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ai(t)||fi(t)||on(t)?{i:lo,r:t,k:e,f:!!n}:t:null);function X(t,e=null,n=null,r=0,i=null,o=t===hn?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&DK(e),ref:e&&K9(e),scopeId:f6,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:lo};return s?(o$(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=ai(n)?8:16),km>0&&!a&&rs&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&rs.push(l),l}const at=o2e;function o2e(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===bK)&&(t=Ko),Yd(t)){const s=mu(t,e,!0);return n&&o$(s,n),km>0&&!o&&rs&&(s.shapeFlag&6?rs[rs.indexOf(t)]=s:rs.push(s)),s.patchFlag|=-2,s}if(d2e(t)&&(t=t.__vccOpts),e){e=g6(e);let{class:s,style:l}=e;s&&!ai(s)&&(e.class=Ut(s)),Sr(l)&&(jE(l)&&!kt(l)&&(l=Br({},l)),e.style=U4(l))}const a=ai(t)?1:rK(t)?128:e2e(t)?64:Sr(t)?4:on(t)?2:0;return X(t,e,n,r,i,a,o,!0)}function g6(t){return t?jE(t)||m6 in t?Br({},t):t:null}function mu(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:a}=t,s=e?Ll(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:s,key:s&&DK(s),ref:e&&e.ref?n&&i?kt(i)?i.concat(K9(e)):[i,K9(e)]:K9(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==hn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&mu(t.ssContent),ssFallback:t.ssFallback&&mu(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ji(t=" ",e=0){return at(ym,null,t,e)}function LK(t,e){const n=at(rm,null,t);return n.staticCount=e,n}function ct(t="",e=!1){return e?(Ee(),en(Ko,null,t)):at(Ko,null,t)}function Os(t){return t==null||typeof t=="boolean"?at(Ko):kt(t)?at(hn,null,t.slice()):typeof t=="object"?pd(t):at(ym,null,String(t))}function pd(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:mu(t)}function o$(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(kt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),o$(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(m6 in e)?e._ctx=lo:i===3&&lo&&(lo.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else on(e)?(e={default:e,_ctx:lo},n=32):(e=String(e),r&64?(n=16,e=[ji(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ll(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ut([e.class,r.class]));else if(i==="style")e.style=U4([e.style,r.style]);else if(H4(i)){const o=e[i],a=r[i];a&&o!==a&&!(kt(o)&&o.includes(a))&&(e[i]=o?[].concat(o,a):a)}else i!==""&&(e[i]=r[i])}return e}function Ga(t,e,n,r=null){Rs(t,e,7,[n,r])}const a2e=_K();let s2e=0;function FK(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||a2e,o={uid:s2e++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new LE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:SK(r,i),emitsOptions:nK(r,i),emit:null,emitted:null,propsDefaults:kr,inheritAttrs:r.inheritAttrs,ctx:kr,data:kr,props:kr,attrs:kr,slots:kr,refs:kr,setupState:kr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=e4e.bind(null,o),t.ce&&t.ce(o),o}let Ri=null;const yc=()=>Ri||lo;let a$,kg,Yz="__VUE_INSTANCE_SETTERS__";(kg=FT()[Yz])||(kg=FT()[Yz]=[]),kg.push(t=>Ri=t),a$=t=>{kg.length>1?kg.forEach(e=>e(t)):kg[0](t)};const Xd=t=>{a$(t),t.scope.on()},$d=()=>{Ri&&Ri.scope.off(),a$(null)};function NK(t){return t.vnode.shapeFlag&4}let eb=!1;function MK(t,e=!1){eb=e;const{props:n,children:r}=t.vnode,i=NK(t);q4e(t,n,i,e),K4e(t,r);const o=i?l2e(t,e):void 0;return eb=!1,o}function l2e(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=bm(new Proxy(t.ctx,BT));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?RK(t):null;Xd(t),Tb();const o=pf(r,t,0,[t.props,i]);if(Ab(),$d(),$E(o)){if(o.then($d,$d),e)return o.then(a=>{YT(t,a,e)}).catch(a=>{zm(a,t,0)});t.asyncDep=o}else YT(t,o,e)}else zK(t,e)}function YT(t,e,n){on(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Sr(e)&&(t.setupState=HE(e)),zK(t,n)}let Z8,XT;function c2e(t){Z8=t,XT=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,x4e))}}const u2e=()=>!Z8;function zK(t,e,n){const r=t.type;if(!t.render){if(!e&&Z8&&!r.render){const i=r.template||n$(t).template;if(i){const{isCustomElement:o,compilerOptions:a}=t.appContext.config,{delimiters:s,compilerOptions:l}=r,c=Br(Br({isCustomElement:o,delimiters:s},a),l);r.render=Z8(i,c)}}t.render=r.render||fc,XT&&XT(t)}Xd(t),Tb(),R4e(t),Ab(),$d()}function f2e(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return us(t,"get","$attrs"),e[n]}}))}function RK(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return f2e(t)},slots:t.slots,emit:t.emit,expose:e}}function b6(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(HE(bm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Wv)return Wv[n](t)},has(e,n){return n in e||n in Wv}}))}function KT(t,e=!0){return on(t)?t.displayName||t.name:t.name||e&&t.__name}function d2e(t){return on(t)&&"__vccOpts"in t}const Dn=(t,e)=>qye(t,e,eb);function Kd(t,e,n){const r=arguments.length;return r===2?Sr(e)&&!kt(e)?Yd(e)?at(t,null,[e]):at(t,e):at(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Yd(n)&&(n=[n]),at(t,e,n))}const jK=Symbol.for("v-scx"),VK=()=>Ni(jK);function h2e(){}function p2e(t,e,n,r){const i=n[r];if(i&&BK(i,t))return i;const o=e();return o.memo=t.slice(),n[r]=o}function BK(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(Z0(n[r],e[r]))return!1;return km>0&&rs&&rs.push(t),!0}const HK="3.3.2",m2e={createComponentInstance:FK,setupComponent:MK,renderComponentRoot:X9,setCurrentRenderingInstance:Oy,isVNode:Yd,normalizeVNode:Os},g2e=m2e,b2e=null,v2e=null,y2e="http://www.w3.org/2000/svg",Ip=typeof document<"u"?document:null,Xz=Ip&&Ip.createElement("template"),k2e={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Ip.createElementNS(y2e,t):Ip.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Ip.createTextNode(t),createComment:t=>Ip.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ip.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const a=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Xz.innerHTML=r?`<svg>${t}</svg>`:t;const s=Xz.content;if(r){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}e.insertBefore(s,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function _2e(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function w2e(t,e,n){const r=t.style,i=ai(n);if(n&&!i){if(e&&!ai(e))for(const o in e)n[o]==null&&JT(r,o,"");for(const o in n)JT(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const Kz=/\s*!important$/;function JT(t,e,n){if(kt(n))n.forEach(r=>JT(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=S2e(t,e);Kz.test(n)?t.setProperty(kl(r),n.replace(Kz,""),"important"):t[r]=n}}const Jz=["Webkit","Moz","ms"],IS={};function S2e(t,e){const n=IS[e];if(n)return n;let r=as(e);if(r!=="filter"&&r in t)return IS[e]=r;r=W4(r);for(let i=0;i<Jz.length;i++){const o=Jz[i]+r;if(o in t)return IS[e]=o}return e}const Zz="http://www.w3.org/1999/xlink";function x2e(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Zz,e.slice(6,e.length)):t.setAttributeNS(Zz,e,n);else{const o=iye(e);n==null||o&&!DX(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function C2e(t,e,n,r,i,o,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,o),t[e]=n??"";return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){t._value=n;const c=s==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=DX(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function of(t,e,n,r){t.addEventListener(e,n,r)}function T2e(t,e,n,r){t.removeEventListener(e,n,r)}function A2e(t,e,n,r,i=null){const o=t._vei||(t._vei={}),a=o[e];if(r&&a)a.value=r;else{const[s,l]=I2e(e);if(r){const c=o[e]=$2e(r,i);of(t,s,c,l)}else a&&(T2e(t,s,a,l),o[e]=void 0)}}const Qz=/(?:Once|Passive|Capture)$/;function I2e(t){let e;if(Qz.test(t)){e={};let r;for(;r=t.match(Qz);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):kl(t.slice(2)),e]}let PS=0;const P2e=Promise.resolve(),E2e=()=>PS||(P2e.then(()=>PS=0),PS=Date.now());function $2e(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Rs(O2e(r,n.value),e,5,[r])};return n.value=t,n.attached=E2e(),n}function O2e(t,e){if(kt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const eR=/^on[a-z]/,D2e=(t,e,n,r,i=!1,o,a,s,l)=>{e==="class"?_2e(t,r,i):e==="style"?w2e(t,n,r):H4(e)?PE(e)||A2e(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):L2e(t,e,r,i))?C2e(t,e,r,o,a,s,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),x2e(t,e,r,i))};function L2e(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&eR.test(e)&&on(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||eR.test(e)&&ai(n)?!1:e in t}function WK(t,e){const n=zt(t);class r extends v6{constructor(o){super(n,o,e)}}return r.def=n,r}const F2e=t=>WK(t,iJ),N2e=typeof HTMLElement<"u"?HTMLElement:class{};class v6 extends N2e{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Ib(()=>{this._connected||(eA(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const e=(r,i=!1)=>{const{props:o,styles:a}=r;let s;if(o&&!kt(o))for(const l in o){const c=o[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=q8(this._props[l])),(s||(s=Object.create(null)))[as(l)]=!0)}this._numberProps=s,i&&this._resolveProps(r),this._applyStyles(a),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=kt(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(as))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(e){let n=this.getAttribute(e);const r=as(e);this._numberProps&&this._numberProps[r]&&(n=q8(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,i=!0){n!==this._props[e]&&(this._props[e]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(kl(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(kl(e),n+""):n||this.removeAttribute(kl(e))))}_update(){eA(this._createVNode(),this.shadowRoot)}_createVNode(){const e=at(this._def,Br({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(o,a)=>{this.dispatchEvent(new CustomEvent(o,{detail:a}))};n.emit=(o,...a)=>{r(o,a),kl(o)!==o&&r(kl(o),a)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof v6){n.parent=i._instance,n.provides=i._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function M2e(t="$style"){{const e=yc();if(!e)return kr;const n=e.type.__cssModules;if(!n)return kr;const r=n[t];return r||kr}}function z2e(t){const e=yc();if(!e)return;const n=e.ut=(i=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(o=>QT(o,i))},r=()=>{const i=t(e.proxy);ZT(e.subTree,i),n(i)};oK(r),Vm(()=>{const i=new MutationObserver(r);i.observe(e.subTree.el.parentNode,{childList:!0}),X4(()=>i.disconnect())})}function ZT(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ZT(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)QT(t.el,e);else if(t.type===hn)t.children.forEach(n=>ZT(n,e));else if(t.type===rm){let{el:n,anchor:r}=t;for(;n&&(QT(n,e),n!==r);)n=n.nextSibling}}function QT(t,e){if(t.nodeType===1){const n=t.style;for(const r in e)n.setProperty(`--${r}`,e[r])}}const Jf="transition",$1="animation",s$=(t,{slots:e})=>Kd(sK,GK(t),e);s$.displayName="Transition";const UK={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},R2e=s$.props=Br({},KE,UK),qh=(t,e=[])=>{kt(t)?t.forEach(n=>n(...e)):t&&t(...e)},tR=t=>t?kt(t)?t.some(e=>e.length>1):t.length>1:!1;function GK(t){const e={};for(const z in t)z in UK||(e[z]=t[z]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=a,appearToClass:u=s,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,m=j2e(i),v=m&&m[0],k=m&&m[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:x,onLeave:C,onLeaveCancelled:S,onBeforeAppear:g=b,onAppear:T=_,onAppearCancelled:P=x}=e,$=(z,R,V)=>{ud(z,R?u:s),ud(z,R?c:a),V&&V()},F=(z,R)=>{z._isLeaving=!1,ud(z,f),ud(z,h),ud(z,d),R&&R()},D=z=>(R,V)=>{const ie=z?T:_,oe=()=>$(R,z,V);qh(ie,[R,oe]),nR(()=>{ud(R,z?l:o),Uu(R,z?u:s),tR(ie)||rR(R,r,v,oe)})};return Br(e,{onBeforeEnter(z){qh(b,[z]),Uu(z,o),Uu(z,a)},onBeforeAppear(z){qh(g,[z]),Uu(z,l),Uu(z,c)},onEnter:D(!1),onAppear:D(!0),onLeave(z,R){z._isLeaving=!0;const V=()=>F(z,R);Uu(z,f),YK(),Uu(z,d),nR(()=>{z._isLeaving&&(ud(z,f),Uu(z,h),tR(C)||rR(z,r,k,V))}),qh(C,[z,V])},onEnterCancelled(z){$(z,!1),qh(x,[z])},onAppearCancelled(z){$(z,!0),qh(P,[z])},onLeaveCancelled(z){F(z),qh(S,[z])}})}function j2e(t){if(t==null)return null;if(Sr(t))return[ES(t.enter),ES(t.leave)];{const e=ES(t);return[e,e]}}function ES(t){return q8(t)}function Uu(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function ud(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function nR(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let V2e=0;function rR(t,e,n,r){const i=t._endId=++V2e,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=qK(t,e);if(!a)return r();const c=a+"end";let u=0;const f=()=>{t.removeEventListener(c,d),o()},d=h=>{h.target===t&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},s+1),t.addEventListener(c,d)}function qK(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),i=r(`${Jf}Delay`),o=r(`${Jf}Duration`),a=iR(i,o),s=r(`${$1}Delay`),l=r(`${$1}Duration`),c=iR(s,l);let u=null,f=0,d=0;e===Jf?a>0&&(u=Jf,f=a,d=o.length):e===$1?c>0&&(u=$1,f=c,d=l.length):(f=Math.max(a,c),u=f>0?a>c?Jf:$1:null,d=u?u===Jf?o.length:l.length:0);const h=u===Jf&&/\b(transform|all)(,|$)/.test(r(`${Jf}Property`).toString());return{type:u,timeout:f,propCount:d,hasTransform:h}}function iR(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>oR(n)+oR(t[r])))}function oR(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function YK(){return document.body.offsetHeight}const XK=new WeakMap,KK=new WeakMap,JK={name:"TransitionGroup",props:Br({},R2e,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=yc(),r=XE();let i,o;return p6(()=>{if(!i.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!q2e(i[0].el,n.vnode.el,a))return;i.forEach(W2e),i.forEach(U2e);const s=i.filter(G2e);YK(),s.forEach(l=>{const c=l.el,u=c.style;Uu(c,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=c._moveCb=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",f),c._moveCb=null,ud(c,a))};c.addEventListener("transitionend",f)})}),()=>{const a=Fn(t),s=GK(a);let l=a.tag||hn;i=o,o=e.default?d6(e.default()):[];for(let c=0;c<o.length;c++){const u=o[c];u.key!=null&&vm(u,Q0(u,s,r,n))}if(i)for(let c=0;c<i.length;c++){const u=i[c];vm(u,Q0(u,s,r,n)),XK.set(u,u.el.getBoundingClientRect())}return at(l,null,o)}}},B2e=t=>delete t.mode;JK.props;const H2e=JK;function W2e(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function U2e(t){KK.set(t,t.el.getBoundingClientRect())}function G2e(t){const e=XK.get(t),n=KK.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function q2e(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(s=>s&&r.classList.remove(s))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=qK(r);return i.removeChild(r),o}const Jd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return kt(e)?n=>x0(e,n):e};function Y2e(t){t.target.composing=!0}function aR(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Zd={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=Jd(i);const o=r||i.props&&i.props.type==="number";of(t,e?"change":"input",a=>{if(a.target.composing)return;let s=t.value;n&&(s=s.trim()),o&&(s=G8(s)),t._assign(s)}),n&&of(t,"change",()=>{t.value=t.value.trim()}),e||(of(t,"compositionstart",Y2e),of(t,"compositionend",aR),of(t,"change",aR))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t._assign=Jd(o),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&G8(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},l$={deep:!0,created(t,e,n){t._assign=Jd(n),of(t,"change",()=>{const r=t._modelValue,i=tb(t),o=t.checked,a=t._assign;if(kt(r)){const s=r6(r,i),l=s!==-1;if(o&&!l)a(r.concat(i));else if(!o&&l){const c=[...r];c.splice(s,1),a(c)}}else if(Mm(r)){const s=new Set(r);o?s.add(i):s.delete(i),a(s)}else a(ZK(t,o))})},mounted:sR,beforeUpdate(t,e,n){t._assign=Jd(n),sR(t,e,n)}};function sR(t,{value:e,oldValue:n},r){t._modelValue=e,kt(e)?t.checked=r6(e,r.props.value)>-1:Mm(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Gd(e,ZK(t,!0)))}const c$={created(t,{value:e},n){t.checked=Gd(e,n.props.value),t._assign=Jd(n),of(t,"change",()=>{t._assign(tb(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t._assign=Jd(r),e!==n&&(t.checked=Gd(e,r.props.value))}},K4={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Mm(e);of(t,"change",()=>{const o=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?G8(tb(a)):tb(a));t._assign(t.multiple?i?new Set(o):o:o[0])}),t._assign=Jd(r)},mounted(t,{value:e}){lR(t,e)},beforeUpdate(t,e,n){t._assign=Jd(n)},updated(t,{value:e}){lR(t,e)}};function lR(t,e){const n=t.multiple;if(!(n&&!kt(e)&&!Mm(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],a=tb(o);if(n)kt(e)?o.selected=r6(e,a)>-1:o.selected=e.has(a);else if(Gd(tb(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function tb(t){return"_value"in t?t._value:t.value}function ZK(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const QK={created(t,e,n){i3(t,e,n,null,"created")},mounted(t,e,n){i3(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){i3(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){i3(t,e,n,r,"updated")}};function eJ(t,e){switch(t){case"SELECT":return K4;case"TEXTAREA":return Zd;default:switch(e){case"checkbox":return l$;case"radio":return c$;default:return Zd}}}function i3(t,e,n,r,i){const a=eJ(t.tagName,n.props&&n.props.type)[i];a&&a(t,e,n,r)}function X2e(){Zd.getSSRProps=({value:t})=>({value:t}),c$.getSSRProps=({value:t},e)=>{if(e.props&&Gd(e.props.value,t))return{checked:!0}},l$.getSSRProps=({value:t},e)=>{if(kt(t)){if(e.props&&r6(t,e.props.value)>-1)return{checked:!0}}else if(Mm(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},QK.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=eJ(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const K2e=["ctrl","shift","alt","meta"],J2e={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>K2e.some(n=>t[`${n}Key`]&&!e.includes(n))},u$=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const o=J2e[e[i]];if(o&&o(n,e))return}return t(n,...r)},Z2e={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Q2e=(t,e)=>n=>{if(!("key"in n))return;const r=kl(n.key);if(e.some(i=>i===r||Z2e[i]===r))return t(n)},f$={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):O1(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),O1(t,!0),r.enter(t)):r.leave(t,()=>{O1(t,!1)}):O1(t,e))},beforeUnmount(t,{value:e}){O1(t,e)}};function O1(t,e){t.style.display=e?t._vod:"none"}function e7e(){f$.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const tJ=Br({patchProp:D2e},k2e);let Yv,cR=!1;function nJ(){return Yv||(Yv=AK(tJ))}function rJ(){return Yv=cR?Yv:IK(tJ),cR=!0,Yv}const eA=(...t)=>{nJ().render(...t)},iJ=(...t)=>{rJ().hydrate(...t)},oJ=(...t)=>{const e=nJ().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=aJ(r);if(!i)return;const o=e._component;!on(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e},t7e=(...t)=>{const e=rJ().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=aJ(r);if(i)return n(i,!0,i instanceof SVGElement)},e};function aJ(t){return ai(t)?document.querySelector(t):t}let uR=!1;const n7e=()=>{uR||(uR=!0,X2e(),e7e())},r7e=()=>{},i7e=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:sK,BaseTransitionPropsValidators:KE,Comment:Ko,EffectScope:LE,Fragment:hn,KeepAlive:v4e,ReactiveEffect:G4,Static:rm,Suspense:s4e,Teleport:r2e,Text:ym,Transition:s$,TransitionGroup:H2e,VueElement:v6,assertNumber:Xye,callWithAsyncErrorHandling:Rs,callWithErrorHandling:pf,camelize:as,capitalize:W4,cloneVNode:mu,compatUtils:v2e,compile:r7e,computed:Dn,createApp:oJ,createBlock:en,createCommentVNode:ct,createElementBlock:Be,createElementVNode:X,createHydrationRenderer:IK,createPropsRestProxy:M4e,createRenderer:AK,createSSRApp:t7e,createSlots:w4e,createStaticVNode:LK,createTextVNode:ji,createVNode:at,customRef:Bye,defineAsyncComponent:g4e,defineComponent:zt,defineCustomElement:WK,defineEmits:T4e,defineExpose:A4e,defineModel:E4e,defineOptions:I4e,defineProps:C4e,defineSSRCustomElement:F2e,defineSlots:P4e,get devtools(){return Ug},effect:lye,effectScope:FE,getCurrentInstance:yc,getCurrentScope:NE,getTransitionRawChildren:d6,guardReactiveProps:g6,h:Kd,handleError:zm,hasInjectionContext:G4e,hydrate:iJ,initCustomFormatter:h2e,initDirectivesForSSR:n7e,inject:Ni,isMemoSame:BK,isProxy:jE,isReactive:hf,isReadonly:gm,isRef:fi,isRuntimeOnly:u2e,isShallow:Iy,isVNode:Yd,markRaw:bm,mergeDefaults:F4e,mergeModels:N4e,mergeProps:Ll,nextTick:Ib,normalizeClass:Ut,normalizeProps:DE,normalizeStyle:U4,onActivated:cK,onBeforeMount:JE,onBeforeUnmount:Pb,onBeforeUpdate:dK,onDeactivated:uK,onErrorCaptured:gK,onMounted:Vm,onRenderTracked:mK,onRenderTriggered:pK,onScopeDispose:NX,onServerPrefetch:hK,onUnmounted:X4,onUpdated:p6,openBlock:Ee,popScopeId:jm,provide:Uv,proxyRefs:HE,pushScopeId:Rm,queuePostFlushCb:GE,reactive:hh,readonly:RE,ref:Tl,registerRuntimeCompiler:c2e,render:eA,renderList:uo,renderSlot:t$,resolveComponent:It,resolveDirective:_4e,resolveDynamicComponent:QE,resolveFilter:b2e,resolveTransitionHooks:Q0,setBlockTracking:qT,setDevtoolsHook:tK,setTransitionHooks:vm,shallowReactive:XX,shallowReadonly:Nye,shallowRef:ru,ssrContextKey:jK,ssrUtils:g2e,stop:cye,toDisplayString:Qt,toHandlerKey:Hv,toHandlers:S4e,toRaw:Fn,toRef:Uye,toRefs:WE,toValue:Rye,transformVNodeArgs:i2e,triggerRef:zye,unref:ii,useAttrs:D4e,useCssModule:M2e,useCssVars:z2e,useModel:L4e,useSSRContext:VK,useSlots:O4e,useTransitionState:XE,vModelCheckbox:l$,vModelDynamic:QK,vModelRadio:c$,vModelSelect:K4,vModelText:Zd,vShow:f$,version:HK,warn:Yye,watch:Si,watchEffect:jT,watchPostEffect:oK,watchSyncEffect:h4e,withAsyncContext:z4e,withCtx:gs,withDefaults:$4e,withDirectives:Sf,withKeys:Q2e,withMemo:p2e,withModifiers:u$,withScopeId:t4e},Symbol.toStringTag,{value:"Module"}));function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function af(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q8(t){"@babel/helpers - typeof";return Q8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q8(t)}function Wa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o7e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function a7e(t,e){if(t==null)return{};var n=o7e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var s7e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sJ={exports:{}};(function(t){(function(e){var n=function(b,_,x){if(!c(_)||f(_)||d(_)||h(_)||l(_))return _;var C,S=0,g=0;if(u(_))for(C=[],g=_.length;S<g;S++)C.push(n(b,_[S],x));else{C={};for(var T in _)Object.prototype.hasOwnProperty.call(_,T)&&(C[b(T,x)]=n(b,_[T],x))}return C},r=function(b,_){_=_||{};var x=_.separator||"_",C=_.split||/(?=[A-Z])/;return b.split(C).join(x)},i=function(b){return m(b)?b:(b=b.replace(/[\-_\s]+(.)?/g,function(_,x){return x?x.toUpperCase():""}),b.substr(0,1).toLowerCase()+b.substr(1))},o=function(b){var _=i(b);return _.substr(0,1).toUpperCase()+_.substr(1)},a=function(b,_){return r(b,_).toLowerCase()},s=Object.prototype.toString,l=function(b){return typeof b=="function"},c=function(b){return b===Object(b)},u=function(b){return s.call(b)=="[object Array]"},f=function(b){return s.call(b)=="[object Date]"},d=function(b){return s.call(b)=="[object RegExp]"},h=function(b){return s.call(b)=="[object Boolean]"},m=function(b){return b=b-0,b===b},v=function(b,_){var x=_&&"process"in _?_.process:_;return typeof x!="function"?b:function(C,S){return x(C,b,S)}},k={camelize:i,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(b,_){return n(v(i,_),b)},decamelizeKeys:function(b,_){return n(v(a,_),b,_)},pascalizeKeys:function(b,_){return n(v(o,_),b)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=k:e.humps=k})(s7e)})(sJ);var l7e=sJ.exports,c7e=["class","style"];function u7e(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=l7e.camelize(n.slice(0,r)),o=n.slice(r+1).trim();return e[i]=o,e},{})}function f7e(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function lJ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return lJ(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,c){var u=t.attributes[c];switch(c){case"class":l.class=f7e(u);break;case"style":l.style=u7e(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var o=n.style,a=o===void 0?{}:o,s=a7e(n,c7e);return Kd(t.tag,af(af(af({},e),{},{class:i.class,style:af(af({},i.style),a)},i.attrs),s),r)}var cJ=!1;try{cJ=!0}catch{}function d7e(){if(!cJ&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function $S(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Wa({},t,e):{}}function h7e(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Wa(e,"fa-".concat(t.size),t.size!==null),Wa(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Wa(e,"fa-pull-".concat(t.pull),t.pull!==null),Wa(e,"fa-swap-opacity",t.swapOpacity),Wa(e,"fa-bounce",t.bounce),Wa(e,"fa-shake",t.shake),Wa(e,"fa-beat",t.beat),Wa(e,"fa-fade",t.fade),Wa(e,"fa-beat-fade",t.beatFade),Wa(e,"fa-flash",t.flash),Wa(e,"fa-spin-pulse",t.spinPulse),Wa(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function dR(t){if(t&&Q8(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(LT.icon)return LT.icon(t);if(t===null)return null;if(Q8(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var p7e=zt({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=Dn(function(){return dR(e.icon)}),o=Dn(function(){return $S("classes",h7e(e))}),a=Dn(function(){return $S("transform",typeof e.transform=="string"?LT.transform(e.transform):e.transform)}),s=Dn(function(){return $S("mask",dR(e.mask))}),l=Dn(function(){return Hve(i.value,af(af(af(af({},o.value),a.value),s.value),{},{symbol:e.symbol,title:e.title}))});Si(l,function(u){if(!u)return d7e("Could not find one or more icon(s)",i.value,s.value)},{immediate:!0});var c=Dn(function(){return l.value?lJ(l.value.abstract[0],{},r):null});return function(){return c.value}}});class rr{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Jc.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),Jc.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Xv(this),o=new Xv(e);for(let a=n,s=n;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new Xv(this,e)}iterRange(e,n=this.length){return new uJ(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new fJ(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?rr.empty:e.length<=32?new Di(e):Jc.from(Di.split(e,[]))}}class Di extends rr{constructor(e,n=m7e(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.text[o],s=i+a.length;if((n?r:s)>=e)return new g7e(i,s,r,a);i=s+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Di(hR(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),s=J9(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new Di(s,a.length+o.length));else{let l=s.length>>1;r.push(new Di(s.slice(0,l)),new Di(s.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Di))return super.replace(e,n,r);let i=J9(this.text,J9(r.text,hR(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Di(i,o):Jc.from(Di.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,a=0;o<=n&&a<this.text.length;a++){let s=this.text[a],l=o+s.length;o>e&&a&&(i+=r),e<l&&n>o&&(i+=s.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Di(r,i)),r=[],i=-1);return i>-1&&n.push(new Di(r,i)),n}}class Jc extends rr{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.children[o],s=i+a.length,l=r+a.lines-1;if((n?l:s)>=e)return a.lineInner(e,n,r,i);i=s+1,r=l+1}}decompose(e,n,r,i){for(let o=0,a=0;a<=n&&o<this.children.length;o++){let s=this.children[o],l=a+s.length;if(e<=l&&n>=a){let c=i&((a<=e?1:0)|(l>=n?2:0));a>=e&&l<=n&&!c?r.push(s):s.decompose(e-a,n-a,r,c)}a=l+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.length;if(e>=o&&n<=s){let l=a.replace(e-o,n-o,r),c=this.lines-a.lines+l.lines;if(l.lines<c>>5-1&&l.lines>c>>5+1){let u=this.children.slice();return u[i]=l,new Jc(u,this.length-(n-e)+r.length)}return super.replace(o,s,l)}o=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let o=0,a=0;o<this.children.length&&a<=n;o++){let s=this.children[o],l=a+s.length;a>e&&o&&(i+=r),e<l&&n>a&&(i+=s.sliceString(e-a,n-a,r)),a=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Jc))return 0;let r=0,[i,o,a,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==a||o==s)return r;let l=this.children[i],c=e.children[o];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let m of e)m.flatten(h);return new Di(h,n)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,s=[],l=0,c=-1,u=[];function f(h){let m;if(h.lines>o&&h instanceof Jc)for(let v of h.children)f(v);else h.lines>a&&(l>a||!l)?(d(),s.push(h)):h instanceof Di&&l&&(m=u[u.length-1])instanceof Di&&h.lines+m.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new Di(m.text.concat(h.text),m.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,c+=h.length+1,u.push(h))}function d(){l!=0&&(s.push(u.length==1?u[0]:Jc.from(u,c)),c=-1,l=u.length=0)}for(let h of e)f(h);return d(),s.length==1?s[0]:new Jc(s,n)}}rr.empty=new Di([""],0);function m7e(t){let e=-1;for(let n of t)e+=n.length+1;return e}function J9(t,e,n=0,r=1e9){for(let i=0,o=0,a=!0;o<t.length&&i<=r;o++){let s=t[o],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=l+1}return e}function hR(t,e,n){return J9(t,[""],e,n)}class Xv{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Di?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof Di?i.text.length:i.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Di){let l=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Di?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class uJ{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Xv(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class fJ{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(rr.prototype[Symbol.iterator]=function(){return this.iter()},Xv.prototype[Symbol.iterator]=uJ.prototype[Symbol.iterator]=fJ.prototype[Symbol.iterator]=function(){return this});let g7e=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}},A0="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<A0.length;t++)A0[t]+=A0[t-1];function b7e(t){for(let e=1;e<A0.length;e+=2)if(A0[e]>t)return A0[e-1]<=t;return!1}function pR(t){return t>=127462&&t<=127487}const mR=8205;function Yo(t,e,n=!0,r=!0){return(n?dJ:v7e)(t,e,r)}function dJ(t,e,n){if(e==t.length)return e;e&&hJ(t.charCodeAt(e))&&pJ(t.charCodeAt(e-1))&&e--;let r=So(t,e);for(e+=_l(r);e<t.length;){let i=So(t,e);if(r==mR||i==mR||n&&b7e(i))e+=_l(i),r=i;else if(pR(i)){let o=0,a=e-2;for(;a>=0&&pR(So(t,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function v7e(t,e,n){for(;e>0;){let r=dJ(t,e-2,n);if(r<e)return r;e--}return 0}function hJ(t){return t>=56320&&t<57344}function pJ(t){return t>=55296&&t<56320}function So(t,e){let n=t.charCodeAt(e);if(!pJ(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return hJ(r)?(n-55296<<10)+(r-56320)+65536:n}function d$(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function _l(t){return t<65536?1:2}const tA=/\r\n?|\n/;var To=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(To||(To={}));class uu{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,n=!1){nA(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new uu(e)}composeDesc(e){return this.empty?e:e.empty?this:mJ(this,e)}mapDesc(e,n=!1){return e.empty?this:rA(this,e,n)}mapPos(e,n=-1,r=To.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],l=this.sections[a++],c=i+s;if(l<0){if(c>e)return o+(e-i);o+=s}else{if(r!=To.Simple&&c>=e&&(r==To.TrackDel&&i<e&&c>e||r==To.TrackBefore&&i<e||r==To.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!s)return e==i||n<0?o:o+l;o+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new uu(e)}static create(e){return new uu(e)}}class Ki extends uu{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return nA(this,(n,r,i,o,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return rA(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let a=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(rr.empty);r.push(a?e.slice(o,o+a):rr.empty)}o+=a}return new Ki(n,r)}compose(e){return this.empty?e:e.empty?this:mJ(this,e,!0)}map(e,n=!1){return e.empty?this:rA(this,e,n,!0)}iterChanges(e,n=!1){nA(this,e,n)}get desc(){return uu.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new Ny(this);e:for(let a=0,s=0;;){let l=a==e.length?1e9:e[a++];for(;s<l||s==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-s);Uo(i,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;Uo(n,u,f),f>0&&_d(r,n,o.text),o.forward(u),s+=u}let c=e[a++];for(;s<c;){if(o.done)break e;let u=Math.min(o.len,c-s);Uo(n,u,-1),Uo(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),s+=u}}return{changes:new Ki(n,r),filtered:uu.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],a=0,s=null;function l(u=!1){if(!u&&!i.length)return;a<n&&Uo(i,n-a,-1);let f=new Ki(i,o);s=s?s.compose(f.map(s)):f,i=[],o=[],a=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof Ki){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),s=s?s.compose(u.map(s)):u}else{let{from:f,to:d=f,insert:h}=u;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let m=h?typeof h=="string"?rr.of(h.split(r||tA)):h:rr.empty,v=m.length;if(f==d&&v==0)return;f<a&&l(),f>a&&Uo(i,f-a,-1),Uo(i,d-f,v),_d(o,i,m),a=d}}return c(e),l(!s),s}static empty(e){return new Ki(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,s)=>s&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(rr.empty);r[i]=rr.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Ki(n,r)}static createSet(e,n){return new Ki(e,n)}}function Uo(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function _d(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(rr.empty);t.push(n)}}function nA(t,e,n){let r=t.inserted;for(let i=0,o=0,a=0;a<t.sections.length;){let s=t.sections[a++],l=t.sections[a++];if(l<0)i+=s,o+=s;else{let c=i,u=o,f=rr.empty;for(;c+=s,u+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],l=t.sections[a++];e(i,c,o,u,f),i=c,o=u}}}function rA(t,e,n,r=!1){let i=[],o=r?[]:null,a=new Ny(t),s=new Ny(e);for(let l=-1;;)if(a.ins==-1&&s.ins==-1){let c=Math.min(a.len,s.len);Uo(i,c,-1),a.forward(c),s.forward(c)}else if(s.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!n))){let c=s.len;for(Uo(i,s.ins,-1);c;){let u=Math.min(a.len,c);a.ins>=0&&l<a.i&&a.len<=u&&(Uo(i,0,a.ins),o&&_d(o,i,a.text),l=a.i),a.forward(u),c-=u}s.next()}else if(a.ins>=0){let c=0,u=a.len;for(;u;)if(s.ins==-1){let f=Math.min(u,s.len);c+=f,u-=f,s.forward(f)}else if(s.ins==0&&s.len<u)u-=s.len,s.next();else break;Uo(i,c,l<a.i?a.ins:0),o&&l<a.i&&_d(o,i,a.text),l=a.i,a.forward(a.len-u)}else{if(a.done&&s.done)return o?Ki.createSet(i,o):uu.create(i);throw new Error("Mismatched change set lengths")}}function mJ(t,e,n=!1){let r=[],i=n?[]:null,o=new Ny(t),a=new Ny(e);for(let s=!1;;){if(o.done&&a.done)return i?Ki.createSet(r,i):uu.create(r);if(o.ins==0)Uo(r,o.len,0,s),o.next();else if(a.len==0&&!a.done)Uo(r,0,a.ins,s),i&&_d(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,a.len),c=r.length;if(o.ins==-1){let u=a.ins==-1?-1:a.off?0:a.ins;Uo(r,l,u,s),i&&u&&_d(i,r,a.text)}else a.ins==-1?(Uo(r,o.off?0:o.len,l,s),i&&_d(i,r,o.textBit(l))):(Uo(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&_d(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>c),o.forward2(l),a.forward(l)}}}}class Ny{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?rr.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?rr.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Hp{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Hp(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Ze.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Ze.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ze.range(e.anchor,e.head)}static create(e,n,r){return new Hp(e,n,r)}}class Ze{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Ze.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ze([this.main],0)}addRange(e,n=!0){return Ze.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Ze.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ze(e.ranges.map(n=>Hp.fromJSON(n)),e.main)}static single(e,n=e){return new Ze([Ze.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Ze.normalized(e.slice(),n);r=o.to}return new Ze(e,n)}static cursor(e,n=0,r,i){return Hp.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let o=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?Hp.create(n,e,24|o):Hp.create(e,n,(n>e?4:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let s=a.from,l=Math.max(o.to,a.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?Ze.range(l,s):Ze.range(s,l))}}return new Ze(e,n)}}function gJ(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let h$=0;class _t{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=h$++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}static define(e={}){return new _t(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:p$),!!e.static,e.enables)}of(e){return new Z9([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Z9(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Z9(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function p$(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Z9{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=h$++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,s=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||u.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||iA(f,u)){let h=r(f);if(s?!gR(h,f.values[a],i):!i(h,f.values[a]))return f.values[a]=h,1}return 0},reconfigure:(f,d)=>{let h,m=d.config.address[o];if(m!=null){let v=t5(d,m);if(this.dependencies.every(k=>k instanceof _t?d.facet(k)===f.facet(k):k instanceof Hi?d.field(k,!1)==f.field(k,!1):!0)||(s?gR(h=r(f),v,i):i(h=r(f),v)))return f.values[a]=v,0}else h=r(f);return f.values[a]=h,1}}}}function gR(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function iA(t,e){let n=!1;for(let r of e)Kv(t,r)&1&&(n=!0);return n}function y7e(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),a=t[e.id]>>1;function s(l){let c=[];for(let u=0;u<r.length;u++){let f=t5(l,r[u]);if(i[u]==2)for(let d of f)c.push(d);else c.push(f)}return e.combine(c)}return{create(l){for(let c of r)Kv(l,c);return l.values[a]=s(l),1},update(l,c){if(!iA(l,o))return 0;let u=s(l);return e.compare(u,l.values[a])?0:(l.values[a]=u,1)},reconfigure(l,c){let u=iA(l,r),f=c.config.facets[e.id],d=c.facet(e);if(f&&!u&&p$(n,f))return l.values[a]=d,0;let h=s(l);return e.compare(h,d)?(l.values[a]=d,0):(l.values[a]=h,1)}}}const bR=_t.define({static:!0});class Hi{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new Hi(h$++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(bR).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,bR.of({field:this,create:e})]}get extension(){return this}}const Pp={lowest:4,low:3,default:2,high:1,highest:0};function D1(t){return e=>new bJ(e,t)}const Bm={highest:D1(Pp.highest),high:D1(Pp.high),default:D1(Pp.default),low:D1(Pp.low),lowest:D1(Pp.lowest)};class bJ{constructor(e,n){this.inner=e,this.prec=n}}class J4{of(e){return new oA(this,e)}reconfigure(e){return J4.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class oA{constructor(e,n){this.compartment=e,this.inner=n}}class e5{constructor(e,n,r,i,o,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),a=new Map;for(let d of k7e(e,n,a))d instanceof Hi?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let s=Object.create(null),l=[],c=[];for(let d of i)s[d.id]=c.length<<1,c.push(h=>d.slot(h));let u=r==null?void 0:r.config.facets;for(let d in o){let h=o[d],m=h[0].facet,v=u&&u[d]||[];if(h.every(k=>k.type==0))if(s[m.id]=l.length<<1|1,p$(v,h))l.push(r.facet(m));else{let k=m.combine(h.map(b=>b.value));l.push(r&&m.compare(k,r.facet(m))?r.facet(m):k)}else{for(let k of h)k.type==0?(s[k.id]=l.length<<1|1,l.push(k.value)):(s[k.id]=c.length<<1,c.push(b=>k.dynamicSlot(b)));s[m.id]=c.length<<1,c.push(k=>y7e(k,m,h))}}let f=c.map(d=>d(s));return new e5(e,a,f,s,l,o)}}function k7e(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(a,s){let l=i.get(a);if(l!=null){if(l<=s)return;let c=r[l].indexOf(a);c>-1&&r[l].splice(c,1),a instanceof oA&&n.delete(a.compartment)}if(i.set(a,s),Array.isArray(a))for(let c of a)o(c,s);else if(a instanceof oA){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(a.compartment)||a.inner;n.set(a.compartment,c),o(c,s)}else if(a instanceof bJ)o(a.inner,a.prec);else if(a instanceof Hi)r[s].push(a),a.provides&&o(a.provides,s);else if(a instanceof Z9)r[s].push(a),a.facet.extensions&&o(a.facet.extensions,Pp.default);else{let c=a.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,s)}}return o(t,Pp.default),r.reduce((a,s)=>a.concat(s))}function Kv(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function t5(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const vJ=_t.define(),yJ=_t.define({combine:t=>t.some(e=>e),static:!0}),kJ=_t.define({combine:t=>t.length?t[0]:void 0,static:!0}),_J=_t.define(),wJ=_t.define(),SJ=_t.define(),xJ=_t.define({combine:t=>t.length?t[0]:!1});class $f{constructor(e,n){this.type=e,this.value=n}static define(){return new _7e}}class _7e{of(e){return new $f(this,e)}}class w7e{constructor(e){this.map=e}of(e){return new cn(this,e)}}class cn{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new cn(this.type,n)}is(e){return this.type==e}static define(e={}){return new w7e(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}cn.reconfigure=cn.define();cn.appendConfig=cn.define();class Ji{constructor(e,n,r,i,o,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&gJ(r,n.newLength),o.some(s=>s.type==Ji.time)||(this.annotations=o.concat(Ji.time.of(Date.now())))}static create(e,n,r,i,o,a){return new Ji(e,n,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Ji.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Ji.time=$f.define();Ji.userEvent=$f.define();Ji.addToHistory=$f.define();Ji.remote=$f.define();function S7e(t,e){let n=[];for(let r=0,i=0;;){let o,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],a=t[r++];else if(i<e.length)o=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function CJ(t,e,n){var r;let i,o,a;return n?(i=e.changes,o=Ki.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:cn.mapEffects(t.effects,i).concat(cn.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function aA(t,e,n){let r=e.selection,i=I0(e.annotations);return e.userEvent&&(i=i.concat(Ji.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ki?e.changes:Ki.of(e.changes||[],n,t.facet(kJ)),selection:r&&(r instanceof Ze?r:Ze.single(r.anchor,r.head)),effects:I0(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function TJ(t,e,n){let r=aA(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let a=!!e[o].sequential;r=CJ(r,aA(t,e[o],a?r.changes.newLength:t.doc.length),a)}let i=Ji.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return C7e(n?x7e(i):i)}function x7e(t){let e=t.startState,n=!0;for(let i of e.facet(_J)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:S7e(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Ki.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}t=Ji.create(e,i,t.selection&&t.selection.map(o),cn.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(wJ);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Ji?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Ji?t=o[0]:t=TJ(e,I0(o),!1)}return t}function C7e(t){let e=t.startState,n=e.facet(SJ),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=CJ(r,aA(e,o,t.changes.newLength),!0))}return r==t?t:Ji.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const T7e=[];function I0(t){return t==null?T7e:Array.isArray(t)?t:[t]}var oi=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(oi||(oi={}));const A7e=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let sA;try{sA=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function I7e(t){if(sA)return sA.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||A7e.test(n)))return!0}return!1}function P7e(t){return e=>{if(!/\S/.test(e))return oi.Space;if(I7e(e))return oi.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return oi.Word;return oi.Other}}class An{constructor(e,n,r,i,o,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)Kv(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Kv(this,r),t5(this,r)}update(...e){return TJ(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(J4.reconfigure)?(n&&(i=new Map,n.compartments.forEach((s,l)=>i.set(l,s)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(cn.reconfigure)?(n=null,r=a.value):a.is(cn.appendConfig)&&(n=null,r=I0(r).concat(a.value));let o;n?o=e.startState.values.slice():(n=e5.resolve(r,i,this),o=new An(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(s,l)=>l.reconfigure(s,this),null).values),new An(n,e.newDoc,e.newSelection,o,(a,s)=>s.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Ze.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],a=I0(r.effects);for(let s=1;s<n.ranges.length;s++){let l=e(n.ranges[s]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<s;d++)o[d]=o[d].map(u);let f=i.mapDesc(c,!0);o.push(l.range.map(f)),i=i.compose(u),a=cn.mapEffects(a,u).concat(cn.mapEffects(I0(l.effects),f))}return{changes:i,selection:Ze.create(o,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Ki?e:Ki.of(e,this.doc.length,this.facet(An.lineSeparator))}toText(e){return rr.of(e.split(this.facet(An.lineSeparator)||tA))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Kv(this,n),t5(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Hi&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],s=e[o];i.push(a.init(l=>a.spec.fromJSON(s,l)))}}return An.create({doc:e.doc,selection:Ze.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=e5.resolve(e.extensions||[],new Map),r=e.doc instanceof rr?e.doc:rr.of((e.doc||"").split(n.staticFacet(An.lineSeparator)||tA)),i=e.selection?e.selection instanceof Ze?e.selection:Ze.single(e.selection.anchor,e.selection.head):Ze.single(0);return gJ(i,r.length),n.staticFacet(yJ)||(i=i.asSingle()),new An(n,r,i,n.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(An.tabSize)}get lineBreak(){return this.facet(An.lineSeparator)||`
`}get readOnly(){return this.facet(xJ)}phrase(e,...n){for(let r of this.facet(An.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(vJ))for(let a of o(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return P7e(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let l=Yo(n,a,!1);if(o(n.slice(l,a))!=oi.Word)break;a=l}for(;s<i;){let l=Yo(n,s);if(o(n.slice(s,l))!=oi.Word)break;s=l}return a==s?null:Ze.range(a+r,s+r)}}An.allowMultipleSelections=yJ;An.tabSize=_t.define({combine:t=>t.length?t[0]:4});An.lineSeparator=kJ;An.readOnly=xJ;An.phrases=_t.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});An.languageData=vJ;An.changeFilter=_J;An.transactionFilter=wJ;An.transactionExtender=SJ;J4.reconfigure=cn.define();function kc(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let a=i[o],s=r[o];if(s===void 0)r[o]=a;else if(!(s===a||a===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](s,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class _m{eq(e){return this==e}range(e,n=e){return lA.create(e,n,this)}}_m.prototype.startSide=_m.prototype.endSide=0;_m.prototype.point=!1;_m.prototype.mapMode=To.TrackDel;let lA=class AJ{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new AJ(e,n,r)}};function cA(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class m${constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let a=i,s=o.length;;){if(a==s)return a;let l=a+s>>1,c=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return c>=0?a:s;c>=0?s=l:a=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],a=-1,s=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,f=this.to[l]+e,d,h;if(u==f){let m=n.mapPos(u,c.startSide,c.mapMode);if(m==null||(d=h=m,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<d)))continue}else if(d=n.mapPos(u,c.startSide),h=n.mapPos(f,c.endSide),d>h||d==h&&c.startSide>0&&c.endSide<=0)continue;(h-d||c.endSide-c.startSide)<0||(a<0&&(a=d),c.point&&(s=Math.max(s,h-d)),r.push(c),i.push(d-a),o.push(h-a))}return{mapped:r.length?new m$(i,o,r,s):null,pos:a}}}class ar{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new ar(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(cA)),this.isEmpty)return n.length?ar.of(n):this;let s=new IJ(this,null,-1).goto(0),l=0,c=[],u=new Qd;for(;s.value||l<n.length;)if(l<n.length&&(s.from-n[l].from||s.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(s.chunkIndex)<n[l].from)&&(!a||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&u.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!a||i>s.to||o<s.from||a(s.from,s.to,s.value))&&(u.addInner(s.from,s.to,s.value)||c.push(lA.create(s.from,s.to,s.value))),s.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?ar.empty:this.nextLayer.update({add:c,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],l=this.chunk[a],c=e.touchesRange(s,s+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(s));else if(c===!0){let{mapped:u,pos:f}=l.map(s,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new ar(r,n,o||ar.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(n>=o&&e<=o+a.length&&a.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return My.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return My.from(e).goto(n)}static compare(e,n,r,i,o=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),s=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=vR(a,s,r),c=new L1(a,l,o),u=new L1(s,l,o);r.iterGaps((f,d,h)=>yR(c,f,u,d,h,i)),r.empty&&r.length==0&&yR(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),a=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let s=vR(o,a),l=new L1(o,s,0).goto(r),c=new L1(a,s,0).goto(r);for(;;){if(l.to!=c.to||!uA(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,o=-1){let a=new L1(e,null,o).goto(n),s=n,l=a.openStart;for(;;){let c=Math.min(a.to,r);if(a.point){let u=a.activeForPoint(a.to),f=a.pointFrom<n?u.length+1:Math.min(u.length,l);i.point(s,c,a.point,u,f,a.pointRank),l=Math.min(a.openEnd(c),u.length)}else c>s&&(i.span(s,c,a.active,l),l=a.openEnd(c));if(a.to>r)return l+(a.point&&a.to>r?1:0);s=a.to,a.next()}}static of(e,n=!1){let r=new Qd;for(let i of e instanceof lA?[e]:n?E7e(e):e)r.add(i.from,i.to,i.value);return r.finish()}}ar.empty=new ar([],[],null,-1);function E7e(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(cA(e,r)>0)return t.slice().sort(cA);e=r}return t}ar.empty.nextLayer=ar.empty;class Qd{finishChunk(e){this.chunks.push(new m$(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Qd)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(ar.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=ar.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function vR(t,e,n){let r=new Map;for(let o of t)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let s=r.get(o.chunk[a]);s!=null&&(n?n.mapPos(s):s)==o.chunkPos[a]&&!(n!=null&&n.touchesRange(s,s+o.chunk[a].length))&&i.add(o.chunk[a])}return i}class IJ{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class My{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new IJ(a,n,r,o));return i.length==1?i[0]:new My(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)OS(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)OS(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),OS(this.heap,0)}}}function OS(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class L1{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=My.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){o3(this.active,e),o3(this.activeTo,e),o3(this.activeRank,e),this.minActive=kR(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=o;)n++;a3(this.active,n,r),a3(this.activeTo,n,i),a3(this.activeRank,n,o),e&&a3(e,n,this.cursor.from),this.minActive=kR(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&o3(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function yR(t,e,n,r,i,o){t.goto(e),n.goto(r);let a=r+i,s=r,l=r-e;for(;;){let c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,f=Math.min(u,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&uA(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(s,f,t.point,n.point):f>s&&!uA(t.active,n.active)&&o.compareRange(s,f,t.active,n.active),u>a)break;s=u,c<=0&&t.next(),c>=0&&n.next()}}function uA(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function o3(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function a3(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function kR(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Z4(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Yo(t,i));return r}function fA(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Yo(t,i)}return r===!0?-1:t.length}const dA="ͼ",_R=typeof Symbol>"u"?"__"+dA:Symbol.for(dA),hA=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),wR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class eh{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,s,l,c){let u=[],f=/^@(\w+)\b/.exec(a[0]),d=f&&f[1]=="keyframes";if(f&&s==null)return l.push(a[0]+";");for(let h in s){let m=s[h];if(/&/.test(h))o(h.split(/,\s*/).map(v=>a.map(k=>v.replace(/&/,k))).reduce((v,k)=>v.concat(k)),m,l);else if(m&&typeof m=="object"){if(!f)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),m,u,d)}else m!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,v=>"-"+v.toLowerCase())+": "+m+";")}(u.length||d)&&l.push((r&&!f&&!c?a.map(r):a).join(", ")+" {"+u.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=wR[_R]||1;return wR[_R]=e+1,dA+e.toString(36)}static mount(e,n){(e[hA]||new $7e(e)).mount(Array.isArray(n)?n:[n])}}let SR=new Map;class $7e{constructor(e){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let i=SR.get(n);if(i)return e.adoptedStyleSheets=[i.sheet,...e.adoptedStyleSheets],e[hA]=i;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],SR.set(n,this)}else{this.styleTag=n.createElement("style");let i=e.head||e;i.insertBefore(this.styleTag,i.firstChild)}this.modules=[],e[hA]=this}mount(e){let n=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let a=e[o],s=this.modules.indexOf(a);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),s==-1){if(this.modules.splice(i++,0,a),n)for(let l=0;l<a.rules.length;l++)n.insertRule(a.rules[l],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!n){let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o}}}var th={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},xR=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),O7e=typeof navigator<"u"&&/Mac/.test(navigator.platform),D7e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),L7e=O7e||xR&&+xR[1]<57;for(var xo=0;xo<10;xo++)th[48+xo]=th[96+xo]=String(xo);for(var xo=1;xo<=24;xo++)th[xo+111]="F"+xo;for(var xo=65;xo<=90;xo++)th[xo]=String.fromCharCode(xo+32),zy[xo]=String.fromCharCode(xo);for(var DS in th)zy.hasOwnProperty(DS)||(zy[DS]=th[DS]);function F7e(t){var e=L7e&&(t.ctrlKey||t.altKey||t.metaKey)||D7e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?zy:th)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function n5(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function pA(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function N7e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Q9(t,e){if(!e.anchorNode)return!1;try{return pA(t,e.anchorNode)}catch{return!1}}function nb(t){return t.nodeType==3?wm(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function r5(t,e,n,r){return n?CR(t,e,n,r,-1)||CR(t,e,n,r,1):!1}function i5(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function CR(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:nh(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=i5(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?nh(t):0}else return!1}}function nh(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function y6(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function M7e(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function z7e(t,e,n,r,i,o,a,s){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,f=!1;u&&!f;)if(u.nodeType==1){let d,h=u==l.body;if(h)d=M7e(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let k=u.getBoundingClientRect();d={left:k.left,right:k.left+u.clientWidth,top:k.top,bottom:k.top+u.clientHeight}}let m=0,v=0;if(i=="nearest")e.top<d.top?(v=-(d.top-e.top+a),n>0&&e.bottom>d.bottom+v&&(v=e.bottom-d.bottom+v+a)):e.bottom>d.bottom&&(v=e.bottom-d.bottom+a,n<0&&e.top-v<d.top&&(v=-(d.top+v-e.top+a)));else{let k=e.bottom-e.top,b=d.bottom-d.top;v=(i=="center"&&k<=b?e.top+k/2-b/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-b+a)-d.top}if(r=="nearest"?e.left<d.left?(m=-(d.left-e.left+o),n>0&&e.right>d.right+m&&(m=e.right-d.right+m+o)):e.right>d.right&&(m=e.right-d.right+o,n<0&&e.left<d.left+m&&(m=-(d.left+m-e.left+o))):m=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==s?e.left-o:e.right-(d.right-d.left)+o)-d.left,m||v)if(h)c.scrollBy(m,v);else{let k=0,b=0;if(v){let _=u.scrollTop;u.scrollTop+=v,b=u.scrollTop-_}if(m){let _=u.scrollLeft;u.scrollLeft+=m,k=u.scrollLeft-_}e={left:e.left-k,top:e.top-b,right:e.right-k,bottom:e.bottom-b},k&&Math.abs(k-m)<1&&(r="nearest"),b&&Math.abs(b-v)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function R7e(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class j7e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?nh(n):0),r,Math.min(e.focusOffset,r?nh(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let _g=null;function PJ(t){if(t.setActive)return t.setActive();if(_g)return t.focus(_g);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(_g==null?{get preventScroll(){return _g={preventScroll:!0},!0}}:void 0),!_g){_g=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let TR;function wm(t,e,n=e){let r=TR||(TR=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function P0(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function V7e(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function EJ(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function B7e(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,nh(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=nh(n))}else{if(n==t)return!0;r=i5(n),n=n.parentNode}}function $J(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class xa{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new xa(e.parentNode,i5(e),n)}static after(e,n){return new xa(e.parentNode,i5(e)+1,n)}}const g$=[];class Vr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let s=Vr.get(o);(!s||!s.parent&&s.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,n),a.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=a.dom&&(n.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=AR(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=AR(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=nh(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Vr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,a=-1,s=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let f=this.children[l],d=c+f.length;if(c<e&&d>n)return f.domBoundsAround(e,n,c);if(d>=e&&i==-1&&(i=l,o=c),c>n&&f.dom.parentNode==this.dom){a=l,s=u;break}u=d,c=d+f.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=g$){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new OJ(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){this.parent=null}}Vr.prototype.breakAfter=0;function AR(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class OJ{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function DJ(t,e,n,r,i,o,a,s,l){let{children:c}=t,u=c.length?c[e]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&u&&!a&&!d&&o.length<2&&u.merge(n,i,o.length?f:null,n==0,s,l))){if(r<c.length){let h=c[r];h&&i<h.length?(e==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:(i&&h.merge(0,i,null,!1,0,l),o.push(h))):h!=null&&h.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(u&&(u.breakAfter=a,n>0&&(!a&&o.length&&u.merge(n,u.length,o[0],!1,s,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,s,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:s;else if(c[e].become(o[0]))e++,o.shift(),s=o.length?0:l;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,s,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function LJ(t,e,n,r,i,o){let a=t.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:c,off:u}=a.findPos(e,-1),f=e-n;for(let d of r)f+=d.length;t.length+=f,DJ(t,c,u,s,l,r,0,i,o)}const a0="￿";class FJ{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(An.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=a0}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==n)break;let s=Vr.get(i),l=Vr.get(a);(s&&l?s.breakAfter:(s?s.breakAfter:IR(i))||IR(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,s;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(s=i.exec(n))&&(o=s.index,a=s[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let n=Vr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function IR(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class PR{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}let Fs=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},mA=typeof document<"u"?document:{documentElement:{style:{}}};const gA=/Edge\/(\d+)/.exec(Fs.userAgent),NJ=/MSIE \d/.test(Fs.userAgent),bA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fs.userAgent),k6=!!(NJ||bA||gA),ER=!k6&&/gecko\/(\d+)/i.test(Fs.userAgent),LS=!k6&&/Chrome\/(\d+)/.exec(Fs.userAgent),$R="webkitFontSmoothing"in mA.documentElement.style,MJ=!k6&&/Apple Computer/.test(Fs.vendor),OR=MJ&&(/Mobile\/\w+/.test(Fs.userAgent)||Fs.maxTouchPoints>2);var Tt={mac:OR||/Mac/.test(Fs.platform),windows:/Win/.test(Fs.platform),linux:/Linux|X11/.test(Fs.platform),ie:k6,ie_version:NJ?mA.documentMode||6:bA?+bA[1]:gA?+gA[1]:0,gecko:ER,gecko_version:ER?+(/Firefox\/(\d+)/.exec(Fs.userAgent)||[0,0])[1]:0,chrome:!!LS,chrome_version:LS?+LS[1]:0,ios:OR,android:/Android\b/.test(Fs.userAgent),webkit:$R,safari:MJ,webkit_version:$R?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:mA.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const H7e=256;class gu extends Vr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof gu)||this.length-(n-e)+r.length>H7e||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new gu(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new xa(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return W7e(this.dom,e,n)}}class xf extends Vr{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(EJ(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,a){return r&&(!(r instanceof xf&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&a<=0)?!1:(LJ(this,e,n,r?r.children:[],o-1,a-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let s of this.children){let l=r+s.length;l>e&&n.push(r<e?s.split(e-r):s),i<0&&r>=e&&(i=o),r=l,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new xf(this.mark,n,a)}domAtPos(e){return zJ(this,e)}coordsAt(e,n){return jJ(this,e,n)}}function W7e(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&n<0||e==r&&n>=0?Tt.chrome||Tt.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):n<0?i--:o<r&&o++;let s=wm(t,i,o).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return Tt.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(s,c=>c.width)||l),a?y6(l,a<0):l||null}class Wp extends Vr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}static create(e,n,r){return new Wp(e,n,r)}split(e){let n=Wp.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,o,a){return r&&(!(r instanceof Wp)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Wp&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return rr.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):rr.empty}domAtPos(e){return(this.length?e==0:this.side>0)?xa.before(this.dom):xa.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let s=a?i.length-1:0;o=i[s],!(e>0?s==0:s==i.length-1||o.top<o.bottom);s+=a?-1:1);return y6(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class rb extends Vr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof rb&&e.side==this.side}split(){return new rb(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?xa.before(this.dom):xa.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return rr.empty}get isHidden(){return!0}}gu.prototype.children=Wp.prototype.children=rb.prototype.children=g$;function zJ(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let a=r[i],s=o+a.length;if(!(s==o&&a.getSide()<=0)){if(e>o&&e<s&&a.dom.parentNode==n)return a.domAtPos(e-o);if(e<=o)break;o=s}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==n)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==n)return a.domAtPos(0)}return new xa(n,0)}function RJ(t,e,n){let r,{children:i}=t;n>0&&e instanceof xf&&i.length&&(r=i[i.length-1])instanceof xf&&r.mark.eq(e.mark)?RJ(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function jJ(t,e,n){let r=null,i=-1,o=null,a=-1;function s(c,u){for(let f=0,d=0;f<c.children.length&&d<=u;f++){let h=c.children[f],m=d+h.length;m>=u&&(h.children.length?s(h,u-d):(!o||o.isHidden&&n>0)&&(m>u||d==m&&h.getSide()>0)?(o=h,a=u-d):(d<u||d==m&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-d)),d=m}}s(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:a),n):U7e(t)}function U7e(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=nb(e);return n[n.length-1]||null}function vA(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const DR=Object.create(null);function b$(t,e,n){if(t==e)return!0;t||(t=DR),e||(e=DR);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function yA(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}function G7e(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Of{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}destroy(e){}}var pi=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(pi||(pi={}));class Wt extends _m{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Q4(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new rh(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=VJ(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new rh(e,r,i,n,e.widget||null,!0)}static line(e){return new e2(e)}static set(e,n=!1){return ar.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Wt.none=ar.empty;class Q4 extends Wt{constructor(e){let{start:n,end:r}=VJ(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Q4&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&b$(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Q4.prototype.point=!1;class e2 extends Wt{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof e2&&this.spec.class==e.spec.class&&b$(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}e2.prototype.mapMode=To.TrackBefore;e2.prototype.point=!0;class rh extends Wt{constructor(e,n,r,i,o,a){super(n,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?To.TrackBefore:To.TrackAfter:To.TrackDel}get type(){return this.startSide<this.endSide?pi.WidgetRange:this.startSide<=0?pi.WidgetBefore:pi.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof rh&&q7e(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}rh.prototype.point=!0;function VJ(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function q7e(t,e){return t==e||!!(t&&e&&t.compare(e))}function kA(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class _a extends Vr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,a){if(r){if(!(r instanceof _a))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),LJ(this,e,n,r?r.children:[],o,a),!0}split(e){let n=new _a;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){b$(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){RJ(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=vA(n,this.attrs||{})),r&&(this.attrs=vA({class:r},this.attrs||{}))}domAtPos(e){return zJ(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(EJ(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(yA(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Vr.get(i)instanceof xf;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Vr.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Tt.ios||!this.children.some(o=>o instanceof gu))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof gu)||/[^ -~]/.test(r.text))return null;let i=nb(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=jJ(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return pi.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=n){if(o instanceof _a)return o;if(a>n)break}i=a+o.breakAfter}return null}}class im extends Vr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,a){return r&&(!(r instanceof im)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?xa.before(this.dom):xa.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new im(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return g$}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):rr.empty}domBoundsAround(){return null}become(e){return e instanceof im&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Jv{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof im&&e.type==pi.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new _a),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(s3(new rb(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:s}=this.cursor.next(this.skip);if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(s3(new gu(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof rh){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=n-e;if(r instanceof rh)if(r.block){let{type:l}=r;l==pi.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new im(r.widget||new LR("div"),s,l))}else{let l=Wp.create(r.widget||new LR("span"),s,s?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(s3(new rb(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(s3(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let a=new Jv(e,n,r,o);return a.openEnd=ar.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function s3(t,e){for(let n of e)t=new xf(n,[t],t.length);return t}class LR extends Of{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const BJ=_t.define(),HJ=_t.define(),WJ=_t.define(),UJ=_t.define(),_A=_t.define(),GJ=_t.define(),qJ=_t.define(),YJ=_t.define({combine:t=>t.some(e=>e)}),XJ=_t.define({combine:t=>t.some(e=>e)});class o5{constructor(e,n="nearest",r="nearest",i=5,o=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}map(e){return e.empty?this:new o5(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const FR=cn.define({map:(t,e)=>t.map(e)});function js(t,e,n){let r=t.facet(UJ);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const _6=_t.define({combine:t=>t.length?t[0]:!0});let Y7e=0;const Sv=_t.define();class Mi{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:o}=n||{};return new Mi(Y7e++,e,r,a=>{let s=[Sv.of(a)];return o&&s.push(Ry.of(l=>{let c=l.plugin(a);return c?o(c):Wt.none})),i&&s.push(i(a)),s})}static fromClass(e,n){return Mi.define(r=>new e(r),n)}}class FS{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(js(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){js(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){js(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const KJ=_t.define(),v$=_t.define(),Ry=_t.define(),y$=_t.define(),JJ=_t.define();function ZJ(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(JJ)){let a=o(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const xv=_t.define();class Al{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Al(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,a=0,s=0;;i++){let l=i==e.length?null:e[i],c=a-s,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let f=n[o],d=n[o+1],h=Math.max(s,f),m=Math.min(u,d);if(h<=m&&new Al(h+c,m+c,h,m).addToSet(r),d>u)break;o+=2}if(!l)return r;new Al(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}class a5{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ki.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,s,l)=>i.push(new Al(o,a,s,l))),this.changedRanges=i}static create(e,n,r){return new a5(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var di=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(di||(di={}));const wA=di.LTR,X7e=di.RTL;function QJ(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const K7e=QJ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),J7e=QJ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),SA=Object.create(null),Nc=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);SA[e]=n,SA[n]=-e}function Z7e(t){return t<=247?K7e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?J7e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const Q7e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class E0{constructor(e,n,r){this.from=e,this.to=n,this.level=r}get dir(){return this.level%2?X7e:wA}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let o=-1;for(let a=0;a<e.length;a++){let s=e[a];if(s.from<=n&&s.to>=n){if(s.level==r)return a;(o<0||(i!=0?i<0?s.from<n:s.to>n:e[o].level>s.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}const li=[];function e3e(t,e){let n=t.length,r=e==wA?1:2,i=e==wA?2:1;if(!t||r==1&&!Q7e.test(t))return eZ(n);for(let a=0,s=r,l=r;a<n;a++){let c=Z7e(t.charCodeAt(a));c==512?c=s:c==8&&l==4&&(c=16),li[a]=c==4?2:c,c&7&&(l=c),s=c}for(let a=0,s=r,l=r;a<n;a++){let c=li[a];if(c==128)a<n-1&&s==li[a+1]&&s&24?c=li[a]=s:li[a]=256;else if(c==64){let u=a+1;for(;u<n&&li[u]==64;)u++;let f=a&&s==8||u<n&&li[u]==8?l==1?1:8:256;for(let d=a;d<u;d++)li[d]=f;a=u-1}else c==8&&l==1&&(li[a]=1);s=c,c&7&&(l=c)}for(let a=0,s=0,l=0,c,u,f;a<n;a++)if(u=SA[c=t.charCodeAt(a)])if(u<0){for(let d=s-3;d>=0;d-=3)if(Nc[d+1]==-u){let h=Nc[d+2],m=h&2?r:h&4?h&1?i:r:0;m&&(li[a]=li[Nc[d]]=m),s=d;break}}else{if(Nc.length==189)break;Nc[s++]=a,Nc[s++]=c,Nc[s++]=l}else if((f=li[a])==2||f==1){let d=f==r;l=d?0:1;for(let h=s-3;h>=0;h-=3){let m=Nc[h+2];if(m&2)break;if(d)Nc[h+2]|=2;else{if(m&4)break;Nc[h+2]|=4}}}for(let a=0;a<n;a++)if(li[a]==256){let s=a+1;for(;s<n&&li[s]==256;)s++;let l=(a?li[a-1]:r)==1,c=(s<n?li[s]:r)==1,u=l==c?l?1:2:r;for(let f=a;f<s;f++)li[f]=u;a=s-1}let o=[];if(r==1)for(let a=0;a<n;){let s=a,l=li[a++]!=1;for(;a<n&&l==(li[a]!=1);)a++;if(l)for(let c=a;c>s;){let u=c,f=li[--c]!=2;for(;c>s&&f==(li[c-1]!=2);)c--;o.push(new E0(c,u,f?2:1))}else o.push(new E0(s,a,0))}else for(let a=0;a<n;){let s=a,l=li[a++]==2;for(;a<n&&l==(li[a]==2);)a++;o.push(new E0(s,a,l?1:2))}return o}function eZ(t){return[new E0(0,t,0)]}let tZ="";function t3e(t,e,n,r,i){var o;let a=r.head-t.from,s=-1;if(a==0){if(!i||!t.length)return null;e[0].level!=n&&(a=e[0].side(!1,n),s=0)}else if(a==t.length){if(i)return null;let d=e[e.length-1];d.level!=n&&(a=d.side(!0,n),s=e.length-1)}s<0&&(s=E0.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc));let l=e[s];a==l.side(i,n)&&(l=e[s+=i?1:-1],a=l.side(!i,n));let c=i==(l.dir==n),u=Yo(t.text,a,c);if(tZ=t.text.slice(Math.min(a,u),Math.max(a,u)),u!=l.side(i,n))return Ze.cursor(u+t.from,c?-1:1,l.level);let f=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return!f&&l.level!=n?Ze.cursor(i?t.to:t.from,i?-1:1,n):f&&f.level<l.level?Ze.cursor(f.side(!i,n)+t.from,i?1:-1,f.level):Ze.cursor(u+t.from,i?-1:1,l.level)}class NR extends Vr{constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new _a],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Al(0,0,0,e.state.doc.length)],0,null)}get length(){return this.view.state.doc.length}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:s,toA:l})=>l<this.minWidthFrom||s>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let r=this.view.inputState.composing<0?null:r3e(this.view,e.changes);if(this.hasComposition){this.markedForComposition.clear();let{from:s,to:l}=this.hasComposition;n=new Al(s,l,e.changes.mapPos(s,-1),e.changes.mapPos(l,1)).addToSet(n.slice())}this.hasComposition=r?{from:r.range.fromB,to:r.range.toB}:null,(Tt.ie||Tt.chrome)&&!r&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,o=this.updateDeco(),a=a3e(i,o,e.changes);return n=Al.extendWithRanges(n,a),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,r),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=Tt.chrome||Tt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof im&&a.widget instanceof MR&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let a=i.length-1;;a--){let s=a>=0?i[a]:null;if(!s)break;let{fromA:l,toA:c,fromB:u,toB:f}=s,d,h,m,v;if(r&&r.range.fromB<f&&r.range.toB>u){let C=Jv.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=Jv.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);h=C.breakAtStart,m=C.openStart,v=S.openEnd;let g=this.compositionView(r);S.breakAtStart?g.breakAfter=1:S.content.length&&g.merge(g.length,g.length,S.content[0],!1,S.openStart,0)&&(g.breakAfter=S.content[0].breakAfter,S.content.shift()),C.content.length&&g.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),d=C.content.concat(g).concat(S.content)}else({content:d,breakAtStart:h,openStart:m,openEnd:v}=Jv.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:k,off:b}=o.findPos(c,1),{i:_,off:x}=o.findPos(l,-1);DJ(this,_,x,k,b,d,h,m,v)}r&&this.fixCompositionDOM(r)}compositionView(e){let n=new gu(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new xf(i,[n],n.length);let r=new _a;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,a)=>{a.flags|=8,this.markedForComposition.add(a);let s=Vr.get(o);s!=a&&(s&&(s.dom=null),a.setDOM(o))},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&Q9(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let a=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.domAtPos(s.anchor),c=s.empty?l:this.domAtPos(s.head);if(Tt.gecko&&s.empty&&!this.hasComposition&&n3e(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new xa(f,0),a=!0}let u=this.view.observer.selectionRange;(a||!u.focusNode||!r5(l.node,l.offset,u.anchorNode,u.anchorOffset)||!r5(c.node,c.offset,u.focusNode,u.focusOffset))&&(this.view.observer.ignore(()=>{Tt.android&&Tt.chrome&&this.dom.contains(u.focusNode)&&s3e(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=n5(this.view.root);if(f)if(s.empty){if(Tt.gecko){let d=i3e(l.node,l.offset);if(d&&d!=3){let h=rZ(l.node,l.offset,d==1?1:-1);h&&(l=new xa(h,d==1?0:h.nodeValue.length))}}f.collapse(l.node,l.offset),s.bidiLevel!=null&&u.cursorBidiLevel!=null&&(u.cursorBidiLevel=s.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();s.anchor>s.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new xa(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new xa(u.focusNode,u.focusOffset)}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=n5(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=_a.find(this,n.head);if(!a)return;let s=a.posAtStart;if(n.head==s||n.head==s+a.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}nearest(e){for(let n=e;n;){let r=Vr.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof _a)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let o=this.children[i],a=r-o.breakAfter-o.length;if(e>a||e==a&&o.type!=pi.WidgetBefore&&o.type!=pi.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==pi.WidgetBefore&&n>-2))return o.coordsAt(e-a,n);r=a}}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof _a))return null;for(;i.children.length;){let{i:s,off:l}=i.childPos(r,1);for(;;s++){if(s==i.children.length)return null;if((i=i.children[s]).length)break}r=l}if(!(i instanceof gu))return null;let o=Yo(i.text,r);if(o==r)return null;let a=wm(i.dom,r,o).getClientRects();return!a.length||a[0].top>=a[0].bottom?null:a[0]}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==di.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],d=c+f.length;if(d>i)break;if(c>=r){let h=f.dom.getBoundingClientRect();if(n.push(h.height),a){let m=f.dom.lastChild,v=m?nb(m):[];if(v.length){let k=v[v.length-1],b=l?k.right-h.left:h.right-k.left;b>s&&(s=b,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?di.RTL:di.LTR}measureTextSize(){for(let o of this.children)if(o instanceof _a){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=nb(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new OJ(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],a=o?o.from-1:this.length;if(a>r){let s=n.lineBlockAt(a).bottom-n.lineBlockAt(r).top;e.push(Wt.replace({widget:new MR(s),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return Wt.set(e)}updateDeco(){let e=this.view.state.facet(Ry).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=ZJ(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom};z7e(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==di.LTR)}}function n3e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class MR extends Of{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function nZ(t){let e=t.observer.selectionRange,n=e.focusNode&&rZ(e.focusNode,e.focusOffset,0);if(!n)return null;let r=Vr.get(n),i,o;if(r instanceof gu)i=r.posAtStart,o=i+r.length;else e:for(let a=0,s=n;;){for(let c=s.previousSibling,u;c;c=c.previousSibling){if(u=Vr.get(c)){i=o=u.posAtEnd+a;break e}let f=new FJ([],t.state);if(f.readNode(c),f.text.indexOf(a0)>-1)return null;a+=f.text.length}if(s=s.parentNode,!s)return null;let l=Vr.get(s);if(l){i=o=l.posAtStart+a;break}}return{from:i,to:o,node:n}}function r3e(t,e){let n=nZ(t);if(!n)return null;let{from:r,to:i,node:o}=n,a=e.mapPos(r,-1),s=e.mapPos(i,1),l=o.nodeValue;if(/[\n\r]/.test(l))return null;if(s-a!=l.length){let d=e.mapPos(r,1),h=e.mapPos(i,-1);if(h-d==l.length)a=d,s=h;else if(t.state.doc.sliceString(s-l.length,s)==l)a=s-l.length;else if(t.state.doc.sliceString(a,a+l.length)==l)s=a+l.length;else return null}let{main:c}=t.state.selection;if(t.state.doc.sliceString(a,s)!=l||a>c.head||s<c.head)return null;let u=[],f=new Al(r,i,a,s);for(let d=o.parentNode;;d=d.parentNode){let h=Vr.get(d);if(h instanceof xf)u.push({node:d,deco:h.mark});else{if(h instanceof _a||d.nodeName=="DIV"&&d.parentNode==t.contentDOM)return{range:f,text:o,marks:u,line:d};if(d!=t.contentDOM)u.push({node:d,deco:new Q4({inclusive:!0,attributes:G7e(d),tagName:d.tagName.toLowerCase()})});else return null}}}function rZ(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=nh(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function i3e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class o3e{constructor(){this.changes=[]}compareRange(e,n){kA(e,n,this.changes)}comparePoint(e,n){kA(e,n,this.changes)}}function a3e(t,e,n){let r=new o3e;return ar.compare(t,e,n,r),r.changes}function s3e(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function l3e(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return Ze.cursor(e);o==0?n=1:o==i.length&&(n=-1);let a=o,s=o;n<0?a=Yo(i.text,o,!1):s=Yo(i.text,o);let l=r(i.text.slice(a,s));for(;a>0;){let c=Yo(i.text,a,!1);if(r(i.text.slice(c,a))!=l)break;a=c}for(;s<i.length;){let c=Yo(i.text,s);if(r(i.text.slice(s,c))!=l)break;s=c}return Ze.range(a+i.from,s+i.from)}function c3e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function u3e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function NS(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function zR(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function RR(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function xA(t,e,n){let r,i,o,a,s=!1,l,c,u,f;for(let m=t.firstChild;m;m=m.nextSibling){let v=nb(m);for(let k=0;k<v.length;k++){let b=v[k];i&&NS(i,b)&&(b=zR(RR(b,i.bottom),i.top));let _=c3e(e,b),x=u3e(n,b);if(_==0&&x==0)return m.nodeType==3?jR(m,e,n):xA(m,e,n);if(!r||a>x||a==x&&o>_){r=m,i=b,o=_,a=x;let C=x?n<b.top?-1:1:_?e<b.left?-1:1:0;s=!C||(C>0?k<v.length-1:k>0)}_==0?n>b.bottom&&(!u||u.bottom<b.bottom)?(l=m,u=b):n<b.top&&(!f||f.top>b.top)&&(c=m,f=b):u&&NS(u,b)?u=RR(u,b.bottom):f&&NS(f,b)&&(f=zR(f,b.top))}}if(u&&u.bottom>=n?(r=l,i=u):f&&f.top<=n&&(r=c,i=f),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return jR(r,d,n);if(s&&r.contentEditable!="false")return xA(r,d,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function jR(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,a=0;for(let s=0;s<r;s++){let l=wm(t,s,s+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;a||(a=e-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&f<o){let d=e>=(u.left+u.right)/2,h=d;if((Tt.chrome||Tt.gecko)&&wm(t,s).getBoundingClientRect().left==u.right&&(h=!d),f<=0)return{node:t,offset:s+(h?1:0)};i=s+(h?1:0),o=f}}}return{node:t,offset:i>-1?i:a>0?t.nodeValue.length:0}}function iZ(t,e,n,r=-1){var i,o;let a=t.contentDOM.getBoundingClientRect(),s=a.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:f}=e,d=f-s;if(d<0)return 0;if(d>c)return t.state.doc.length;for(let C=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(d),l.type!=pi.Text;)for(;d=r>0?l.bottom+C:l.top-C,!(d>=0&&d<=c);){if(S)return n?null:0;S=!0,r=-r}f=s+d;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:VR(t,a,l,u,f);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:VR(t,a,l,u,f);let m=t.dom.ownerDocument,v=t.root.elementFromPoint?t.root:m,k=v.elementFromPoint(u,f);k&&!t.contentDOM.contains(k)&&(k=null),k||(u=Math.max(a.left+1,Math.min(a.right-1,u)),k=v.elementFromPoint(u,f),k&&!t.contentDOM.contains(k)&&(k=null));let b,_=-1;if(k&&((i=t.docView.nearest(k))===null||i===void 0?void 0:i.isEditable)!=!1){if(m.caretPositionFromPoint){let C=m.caretPositionFromPoint(u,f);C&&({offsetNode:b,offset:_}=C)}else if(m.caretRangeFromPoint){let C=m.caretRangeFromPoint(u,f);C&&({startContainer:b,startOffset:_}=C,(!t.contentDOM.contains(b)||Tt.safari&&f3e(b,_,u)||Tt.chrome&&d3e(b,_,u))&&(b=void 0))}}if(!b||!t.docView.dom.contains(b)){let C=_a.find(t.docView,h);if(!C)return d>l.top+l.height/2?l.to:l.from;({node:b,offset:_}=xA(C.dom,u,f))}let x=t.docView.nearest(b);if(!x)return null;if(x.isWidget&&((o=x.dom)===null||o===void 0?void 0:o.nodeType)==1){let C=x.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?x.posAtStart:x.posAtEnd}else return x.localPosFromDOM(b,_)+x.posAtStart}function VR(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-s)*.5)/s);o+=l*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+fA(a,o,t.state.tabSize)}function f3e(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return wm(t,r-1,r).getBoundingClientRect().left>n}function d3e(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():wm(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function CA(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==pi.Text))return r}return n}function h3e(t,e,n,r){let i=CA(t,e.head),o=!r||i.type!=pi.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(s==di.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Ze.cursor(l,n?-1:1)}return Ze.cursor(n?i.to:i.from,n?-1:1)}function BR(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let s=e,l=null;;){let c=t3e(i,o,a,s,n),u=tZ;if(!c){if(i.number==(n?t.state.doc.lines:1))return s;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=Ze.cursor(n?i.from:i.to)}if(l){if(!l(u))return s}else{if(!r)return c;l=r(u)}s=c}}function p3e(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let a=r(o);return i==oi.Space&&(i=a),i==a}}function m3e(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return Ze.cursor(i,e.assoc);let a=e.goalColumn,s,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i),u=t.documentTop;if(c)a==null&&(a=c.left-l.left),s=o<0?c.top:c.bottom;else{let h=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),s=(o<0?h.top:h.bottom)+u}let f=l.left+a,d=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let m=s+(d+h)*o,v=iZ(t,{x:f,y:m},!1,o);if(m<l.top||m>l.bottom||(o<0?v<i:v>i))return Ze.cursor(v,e.assoc,void 0,a)}}function e8(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,a,s)=>{if(e>o&&e<a){let l=r||n||(e-o<a-e?-1:1);e=l<0?o:a,r=l}});if(!r)return e}}function MS(t,e,n){let r=e8(t.state.facet(y$).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Ze.cursor(r,r<n.from?1:-1)}class g3e{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in Vi){let i=Vi[r];e.contentDOM.addEventListener(r,o=>{HR(e,o)&&n(i,o)},TA[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(Vi.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&n(Vi.drop,r)}),Tt.chrome&&Tt.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Tt.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let o of n)if(i=(r=o.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:o.value,handlers:i});for(let a in i)this.registeredEvents.indexOf(a)<0&&a!="scroll"&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,s=>{HR(e,s)&&this.runCustomHandlers(a,e,s)&&s.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let o=i.handlers[e];if(o)try{if(o.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(a){js(n.state,a)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(o){js(e.state,o)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(n.keyCode!=27&&aZ.indexOf(n.keyCode)<0&&(e.inputState.lastEscPress=0),Tt.android&&Tt.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return Tt.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=oZ.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||b3e.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,P0(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Tt.safari&&!Tt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const oZ=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],b3e="dthko",aZ=[16,17,18,20,91,92,224,225],l3=6;function c3(t){return Math.max(0,t)*.7+8}function v3e(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class y3e{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=R7e(e.contentDOM),this.atoms=e.state.facet(y$).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(An.allowMultipleSelections)&&k3e(e,n),this.dragging=w3e(e,n)&&uZ(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&v3e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=ZJ(this.view);e.clientX-a.left<=o.left+l3?r=-c3(o.left-e.clientX):e.clientX+a.right>=o.right-l3&&(r=c3(e.clientX-o.right)),e.clientY-a.top<=o.top+l3?i=-c3(o.top-e.clientY):e.clientY+a.bottom>=o.bottom-l3&&(i=c3(e.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=e8(this.atoms,i.from,0);a!=i.from&&(o=Ze.cursor(a,-1))}else{let a=e8(this.atoms,i.from,-1),s=e8(this.atoms,i.to,1);(a!=i.from||s!=i.to)&&(o=Ze.range(i.from==i.anchor?a:s,i.from==i.head?a:s))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?Ze.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection)||r.main.assoc!=n.state.selection.main.assoc&&this.dragging===!1)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function k3e(t,e){let n=t.state.facet(BJ);return n.length?n[0](e):Tt.mac?e.metaKey:e.ctrlKey}function _3e(t,e){let n=t.state.facet(HJ);return n.length?n[0](e):Tt.mac?!e.altKey:!e.ctrlKey}function w3e(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=n5(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function HR(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Vr.get(n))&&r.ignoreEvent(e))return!1;return!0}const Vi=Object.create(null),TA=Object.create(null),sZ=Tt.ie&&Tt.ie_version<15||Tt.ios&&Tt.webkit_version<604;function S3e(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),lZ(t,n.value)},50)}function lZ(t,e){let{state:n}=t,r,i=1,o=n.toText(e),a=o.lines==n.selection.ranges.length;if(AA!=null&&n.selection.ranges.every(l=>l.empty)&&AA==o.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((a?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:f},range:Ze.cursor(c.from+f.length)}})}else a?r=n.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Ze.cursor(l.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Vi.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now())};Vi.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Vi.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};TA.touchstart=TA.touchmove={passive:!0};Vi.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(WJ))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=T3e(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new y3e(t,e,n,r)),r&&t.observer.ignore(()=>PJ(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function WR(t,e,n,r){if(r==1)return Ze.cursor(e,n);if(r==2)return l3e(t.state,e,n);{let i=_a.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<t.state.doc.length&&s==o.to&&s++,Ze.range(a,s)}}let cZ=(t,e)=>t>=e.top&&t<=e.bottom,UR=(t,e,n)=>cZ(e,n)&&t>=n.left&&t<=n.right;function x3e(t,e,n,r){let i=_a.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&UR(n,r,a))return-1;let s=i.coordsAt(o,1);return s&&UR(n,r,s)?1:a&&cZ(r,a)?-1:1}function GR(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:x3e(t,n,e.clientX,e.clientY)}}const C3e=Tt.ie&&Tt.ie_version<=11;let qR=null,YR=0,XR=0;function uZ(t){if(!C3e)return t.detail;let e=qR,n=XR;return qR=t,XR=Date.now(),YR=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(YR+1)%3:1}function T3e(t,e){let n=GR(t,e),r=uZ(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,a,s){let l=GR(t,o),c,u=WR(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!a){let f=WR(t,n.pos,n.bias,r),d=Math.min(f.from,u.from),h=Math.max(f.to,u.to);u=d<u.from?Ze.range(d,h):Ze.range(h,d)}return a?i.replaceRange(i.main.extend(u.from,u.to)):s&&r==1&&i.ranges.length>1&&(c=A3e(i,l.pos))?c:s?i.addRange(u):Ze.create([u])}}}function A3e(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Ze.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}Vi.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function KR(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:o}=t.inputState,a=r&&o&&o.dragging&&_3e(t,e)?{from:o.dragging.from,to:o.dragging.to}:null,s={from:i,insert:n},l=t.state.changes(a?[a,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}Vi.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,o=()=>{++i==n.length&&KR(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let s=new FileReader;s.onerror=o,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(r[a]=s.result),o()},s.readAsText(n[a])}}else KR(t,e,e.dataTransfer.getData("Text"),!0)};Vi.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=sZ?null:e.clipboardData;n?(lZ(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):S3e(t)};function I3e(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function P3e(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let a=t.doc.lineAt(o);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let AA=null;Vi.copy=Vi.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=P3e(t.state);if(!n&&!i)return;AA=i?n:null;let o=sZ?null:e.clipboardData;o?(e.preventDefault(),o.clearData(),o.setData("text/plain",n)):I3e(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const fZ=$f.define();function dZ(t,e){let n=[];for(let r of t.facet(qJ)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:fZ.of(!0)}):null}function hZ(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=dZ(t.state,e);n?t.dispatch(n):t.update([])}},10)}Vi.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),hZ(t)};Vi.blur=t=>{t.observer.clearSelectionRange(),hZ(t)};Vi.compositionstart=Vi.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Vi.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Tt.chrome&&Tt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};Vi.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};Vi.beforeinput=(t,e)=>{var n;let r;if(Tt.chrome&&Tt.android&&(r=oZ.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const JR=["pre-wrap","normal","pre-line","break-spaces"];class E3e{constructor(e){this.lineWrapping=e,this.doc=rr.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return JR.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,a){let s=JR.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<a.length;c++){let u=a[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class $3e{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Zc{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?pi.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof rh?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Zc(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var qr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(qr||(qr={}));const t8=.001;class Aa{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>t8&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return Aa.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,a=r.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:c,fromB:u,toB:f}=i[s],d=o.lineAt(l,qr.ByPosNoHeight,r.setDoc(n),0,0),h=d.to>=c?d:o.lineAt(c,qr.ByPosNoHeight,r,0,0);for(f+=h.to-c,c=h.to;s>0&&d.from<=i[s-1].toA;)l=i[s-1].fromA,u=i[s-1].fromB,s--,l<d.from&&(d=o.lineAt(l,qr.ByPosNoHeight,r,0,0));u+=d.from-l,l=d.from;let m=k$.build(r.setDoc(a),e,u,f);o=o.replace(l,c,m)}return o.updateHeight(r,0)}static empty(){return new Es(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else if(o>i*2){let s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else break;else if(i<o){let s=e[n++];s&&(i+=s.size)}else{let s=e[--r];s&&(o+=s.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new O3e(Aa.of(e.slice(0,n)),a,Aa.of(e.slice(r)))}}Aa.prototype.size=1;class pZ extends Aa{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Zc(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,a){e<=o+this.length&&n>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Es extends pZ{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Zc(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Es||i instanceof ko&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof ko?i=new Es(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Aa.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class ko extends Aa{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,a,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);a=l/o,this.length>o+1&&(s=(this.height-l)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:s}}blockAt(e,n,r,i){let{firstLine:o,lastLine:a,perLine:s,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),u=n.doc.lineAt(c),f=s+u.length*l,d=Math.max(r,e-f/2);return new Zc(u.from,u.length,d,f,0)}else{let c=Math.max(0,Math.min(a-o,Math.floor((e-r)/s))),{from:u,length:f}=n.doc.line(o+c);return new Zc(u,f,r+s*c,s,0)}}lineAt(e,n,r,i,o){if(n==qr.ByHeight)return this.blockAt(e,r,i,o);if(n==qr.ByPosNoHeight){let{from:h,to:m}=r.doc.lineAt(e);return new Zc(h,m-h,0,0,0)}let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=s+c.length*l,f=c.number-a,d=i+s*f+l*(c.from-o-f);return new Zc(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(e,n,r,i,o,a){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:s,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=e,f=i;u<=n;){let d=r.doc.lineAt(u);if(u==e){let m=d.number-s;f+=l*m+c*(e-o-m)}let h=l+c*d.length;a(new Zc(d.from,d.length,f,h,0)),f+=h,u=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof ko?r[r.length-1]=new ko(o.length+i):r.push(null,new ko(i-1))}if(e>0){let o=r[0];o instanceof ko?r[0]=new ko(e+o.length):r.unshift(new ko(e-1),null)}return Aa.of(r)}decomposeLeft(e,n){n.push(new ko(e-1),null)}decomposeRight(e,n){n.push(null,new ko(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],s=Math.max(n,i.from),l=-1;for(i.from>n&&a.push(new ko(i.from-n-1).updateHeight(e,n));s<=o&&i.more;){let u=e.doc.lineAt(s).length;a.length&&a.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=t8&&(l=-2);let d=new Es(u,f);d.outdated=!1,a.push(d),s+=u+1}s<=o&&a.push(null,new ko(o-s).updateHeight(e,s));let c=Aa.of(a);return(l<0||Math.abs(c.height-this.height)>=t8||Math.abs(l-this.heightMetrics(e,n).perLine)>=t8)&&(e.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class O3e extends Aa{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let a=i+this.left.height,s=o+this.left.length+this.break,l=n==qr.ByHeight?e<a:e<s,c=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,a,s);if(this.break||(l?c.to<s:c.from>s))return c;let u=n==qr.ByPosNoHeight?qr.ByPosNoHeight:qr.ByPos;return l?c.join(this.right.lineAt(s,u,r,a,s)):this.left.lineAt(s,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,a){let s=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,a),n>=l&&this.right.forEachLine(e,n,r,s,l,a);else{let c=this.lineAt(l,qr.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,a),c.to>=e&&c.from<=n&&a(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,s,l,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let s of r)o.push(s);if(e>0&&ZR(o,a-1),n<this.length){let s=o.length;this.decomposeRight(n,o),ZR(o,s)}return Aa.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Aa.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:a}=this,s=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=s+a.length&&i.more?l=a=a.updateHeight(e,s,r,i):a.updateHeight(e,s,r),l?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ZR(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof ko&&(r=t[e+1])instanceof ko&&t.splice(e-1,3,new ko(n.length+1+r.length))}const D3e=5;class k${constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Es?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Es(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new pZ(a,i,r)):(a||o||i>=D3e)&&this.addLineDeco(i,o,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Es(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new ko(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Es)return e;let n=new Es(0,-1);return this.nodes.push(n),n}addBlock(e){var n;this.enterLine();let r=(n=e.deco)===null||n===void 0?void 0:n.type;r==pi.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=pi.WidgetBefore&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Es)&&!this.isCovered?this.nodes.push(new Es(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Es&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new k$(r,e);return ar.spans(n,r,i,o,0),o.finish(r)}}function L3e(t,e,n){let r=new F3e;return ar.compare(t,e,n,r,0),r.changes}class F3e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&kA(e,n,this.changes,5)}}function N3e(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let d=u.getBoundingClientRect();o=Math.max(o,d.left),a=Math.min(a,d.right),s=Math.max(s,d.top),l=c==t.parentNode?d.bottom:Math.min(l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,a)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function M3e(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class zS{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e){return Wt.replace({widget:new z3e(this.size,e)}).range(this.from,this.to)}}class z3e extends Of{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class QR{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=ej,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=di.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(v$).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new E3e(n),this.stateDeco=e.facet(Ry).filter(r=>typeof r!="function"),this.heightMap=Aa.empty().applyChanges(this.stateDeco,rr.empty,this.heightOracle.setDoc(e.doc),[new Al(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Wt.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new u3(o,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?ej:new V3e(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:Cv(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Ry).filter(u=>typeof u!="function");let i=e.changedRanges,o=Al.extendWithRanges(i,L3e(r,this.stateDeco,e?e.changes:Ki.empty(this.state.doc.length))),a=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=a&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(XJ)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?di.RTL:di.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),s=n.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let c=0,u=0,f=parseInt(r.paddingTop)||0,d=parseInt(r.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8),this.scrollTop!=e.scrollDOM.scrollTop&&(this.scrollAnchorHeight=-1,this.scrollTop=e.scrollDOM.scrollTop),this.scrolledToBottom=$J(e.scrollDOM);let h=(this.printing?M3e:N3e)(n,this.paddingTop),m=h.top-this.pixelViewport.top,v=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;let k=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(k!=this.inView&&(this.inView=k,k&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let b=s.width;if((this.contentDOMWidth!=b||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(a=!0),a||i.lineWrapping&&Math.abs(b-this.contentDOMWidth)>i.charWidth){let{lineHeight:C,charWidth:S,textHeight:g}=e.docView.measureTextSize();a=C>0&&i.refresh(o,C,S,g,b/S,x),a&&(e.docView.minWidth=0,c|=8)}m>0&&v>0?u=Math.max(m,v):m<0&&v<0&&(u=Math.min(m,v)),i.heightChanged=!1;for(let C of this.viewports){let S=C.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(C);this.heightMap=(a?Aa.empty().applyChanges(this.stateDeco,rr.empty,this.heightOracle,[new Al(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new $3e(C.from,S))}i.heightChanged&&(c|=2)}let _=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:s}=this,l=new u3(i.lineAt(a-r*1e3,qr.ByHeight,o,0,0).from,i.lineAt(s+(1-r)*1e3,qr.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,qr.ByPos,o,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?d=f.top:d=f.bottom-u,l=new u3(i.lineAt(d-1e3/2,qr.ByHeight,o,0,0).from,i.lineAt(d+u+1e3/2,qr.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new u3(this.heightMap.lineAt(r,qr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,qr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,qr.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,qr.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:s}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<s+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new zS(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=di.LTR&&!r)return[];let s=[],l=(c,u,f,d)=>{if(u-c<o)return;let h=this.state.selection.main,m=[h.from];h.empty||m.push(h.to);for(let k of m)if(k>c&&k<u){l(c,k-10,f,d),l(k+10,u,f,d);return}let v=j3e(e,k=>k.from>=f.from&&k.to<=f.to&&Math.abs(k.from-c)<o&&Math.abs(k.to-u)<o&&!m.some(b=>k.from<b&&k.to>b));if(!v){if(u<f.to&&n&&r&&n.visibleRanges.some(k=>k.from<=u&&k.to>=u)){let k=n.moveToLineBoundary(Ze.cursor(u),!1,!0).head;k>c&&(u=k)}v=new zS(c,u,this.gapSize(f,c,u,d))}s.push(v)};for(let c of this.viewportLines){if(c.length<a)continue;let u=R3e(c.from,c.to,this.stateDeco);if(u.total<a)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,h;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,k;if(f!=null){let b=d3(u,f),_=((this.visibleBottom-this.visibleTop)/2+m)/c.height;v=b-_,k=b+_}else v=(this.visibleTop-c.top-m)/c.height,k=(this.visibleBottom-c.top+m)/c.height;d=f3(u,v),h=f3(u,k)}else{let m=u.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,k,b;if(f!=null){let _=d3(u,f),x=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/m;k=_-x,b=_+x}else k=(this.pixelViewport.left-v)/m,b=(this.pixelViewport.right+v)/m;d=f3(u,k),h=f3(u,b)}d>c.from&&l(c.from,d,c,u),h<c.to&&l(h,c.to,c,u)}return s}gapSize(e,n,r,i){let o=d3(i,r)-d3(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){zS.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Wt.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];ar.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Cv(this.heightMap.lineAt(e,qr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return Cv(this.heightMap.lineAt(this.scaler.fromDOM(e),qr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Cv(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class u3{constructor(e,n){this.from=e,this.to=n}}function R3e(t,e,n){let r=[],i=t,o=0;return ar.spans(n,t,e,{span(){},point(a,s){a>i&&(r.push({from:i,to:a}),o+=a-i),i=s}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function f3({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:a}=e[i],s=a-o;if(r<=s)return o+r;r-=s}}function d3(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function j3e(t,e){for(let n of t)if(e(n))return n}const ej={toDOM(t){return t},fromDOM(t){return t},scale:1};class V3e{constructor(e,n,r){let i=0,o=0,a=0;this.viewports=r.map(({from:s,to:l})=>{let c=n.lineAt(s,qr.ByPos,e,0,0).top,u=n.lineAt(l,qr.ByPos,e,0,0).bottom;return i+=u-c,{from:s,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let s of this.viewports)s.domTop=a+(s.top-o)*this.scale,a=s.domBottom=s.domTop+(s.bottom-s.top),o=s.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function Cv(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Zc(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Cv(i,e)):t._content)}const h3=_t.define({combine:t=>t.join(" ")}),IA=_t.define({combine:t=>t.indexOf(!0)>-1}),PA=eh.newName(),mZ=eh.newName(),gZ=eh.newName(),bZ={"&light":"."+mZ,"&dark":"."+gZ};function EA(t,e,n){return new eh(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const B3e=EA("."+PA,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},bZ);class H3e{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let s=o||a?[]:U3e(e),l=new FJ(s,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=G3e(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=o&&o.node==s.focusNode&&o.offset==s.focusOffset||!pA(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),c=a&&a.node==s.anchorNode&&a.offset==s.anchorOffset||!pA(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset);this.newSel=Ze.single(c,l)}}}function vZ(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:s}=e.bounds,l=i.from,c=null;(o===8||Tt.android&&e.text.length<s-a)&&(l=i.to,c="end");let u=W3e(t.state.doc.sliceString(a,s,a0),e.text,l-a,c);u&&(Tt.chrome&&o==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==a0+a0&&u.toB--,n={from:a+u.from,to:a+u.toA,insert:rr.of(e.text.slice(u.from,u.toB).split(a0))})}else r&&(!t.hasFocus&&t.state.facet(_6)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(Tt.mac||Tt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ze.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:rr.of([" "])}):Tt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Ze.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:rr.of([" "])}),n){let a=t.state;if(Tt.ios&&t.inputState.flushIOSKey(t)||Tt.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&P0(t.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||o==8&&n.insert.length<n.to-n.from)&&P0(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&P0(t.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();if(t.state.facet(GJ).some(u=>u(t,n.from,n.to,s)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let u=i.from<n.from?a.sliceDoc(i.from,n.from):"",f=i.to>n.to?a.sliceDoc(n.to,i.to):"";l=a.replaceSelection(t.state.toText(u+n.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let u=a.changes(n),f=r&&r.main.to<=u.newLength?r.main:void 0;if(a.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let d=t.state.sliceDoc(n.from,n.to),h=nZ(t)||t.state.doc.lineAt(i.head),m=i.to-n.to,v=i.to-i.from;l=a.changeByRange(k=>{if(k.from==i.from&&k.to==i.to)return{changes:u,range:f||k.map(u)};let b=k.to-m,_=b-d.length;if(k.to-k.from!=v||t.state.sliceDoc(_,b)!=d||h&&k.to>=h.from&&k.from<=h.to)return{range:k};let x=a.changes({from:_,to:b,insert:n.insert}),C=k.to-i.to;return{changes:x,range:f?Ze.range(Math.max(0,f.anchor+C),Math.max(0,f.head+C)):k.map(x)}})}else l={changes:u,selection:f&&a.selection.replaceRange(f)}}let c="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,c+=".compose",t.inputState.compositionFirstChange&&(c+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:c}),!0}else if(r&&!r.main.eq(i)){let a=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:a,userEvent:s}),!0}else return!1}function W3e(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let a=t.length,s=e.length;for(;a>0&&s>0&&t.charCodeAt(a-1)==e.charCodeAt(s-1);)a--,s--;if(r=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&t.length<e.length){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}return{from:o,toA:a,toB:s}}function U3e(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new PR(n,r)),(i!=n||o!=r)&&e.push(new PR(i,o))),e}function G3e(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Ze.single(n+e,r+e):null}const q3e={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},RS=Tt.ie&&Tt.ie_version<=11;class Y3e{constructor(e){this.view=e,this.active=!1,this.selectionRange=new j7e,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Tt.ie&&Tt.ie_version<=11||Tt.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),RS&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(_6)?r.root.activeElement!=this.dom:!Q9(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Tt.ie&&Tt.ie_version<=11||Tt.android&&Tt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&r5(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Tt.safari&&e.root.nodeType==11&&N7e(this.dom.ownerDocument)==this.dom&&X3e(this.view)||n5(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=Q9(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&B7e(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,q3e),RS&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),RS&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&P0(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Q9(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new H3e(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=vZ(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=tj(n,e.previousSibling||e.target.previousSibling,-1),i=tj(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function tj(t,e,n){for(;e;){let r=Vr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function X3e(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return r5(s.node,s.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}class yt{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||V7e(e.parent)||document,this.viewState=new QR(e.state||An.create(e)),this.plugins=this.state.facet(Sv).map(n=>new FS(n));for(let n of this.plugins)n.update(this);this.observer=new Y3e(this),this.inputState=new g3e(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new NR(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}dispatch(...e){let n=e.length==1&&e[0]instanceof Ji?e[0]:this.state.update(...e);this._dispatch(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of e){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,s=0,l=null;e.some(d=>d.annotation(fZ))?(this.inputState.notifiedFocused=a,s=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=dZ(o,a),l||(s=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(An.phrases)!=this.state.facet(An.phrases))return this.setState(o);i=a5.create(this,o,e),i.flags|=s;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:h}=d.state.selection;f=new o5(h.empty?h:Ze.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of d.effects)h.is(FR)&&(f=h.value)}this.viewState.update(i,f),this.bidiCache=s5.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(xv)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(h3)!=i.state.facet(h3)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let d of this.state.facet(_A))d(i);(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!vZ(this,u)&&c.force&&P0(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new QR(e),this.plugins=e.facet(Sv).map(r=>new FS(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new NR(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Sv),r=e.state.facet(Sv);if(n!=r){let i=[];for(let o of r){let a=n.indexOf(o);if(a<0)i.push(new FS(o));else{let s=this.plugins[a];s.mustUpdate=e,i.push(s)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,{scrollTop:i}=r,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;i!=this.viewState.scrollTop&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(a<0)if($J(r))o=-1,a=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,a=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(m){return js(this.state,m),nj}}),f=a5.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f));for(let h=0;h<c.length;h++)if(u[h]!=nj)try{let m=c[h];m.write&&m.write(u[h],this)}catch(m){js(this.state,m)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null;continue}else{let m=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(m>1||m<-1){i=r.scrollTop=i+m,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let s of this.state.facet(_A))s(n)}get themeClasses(){return PA+" "+(this.state.facet(IA)?gZ:mZ)+" "+this.state.facet(h3)}updateAttrs(){let e=rj(this,KJ,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(_6)?"true":"false",class:"cm-content",style:`${Tt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),rj(this,v$,n);let r=this.observer.ignore(()=>{let i=yA(this.contentDOM,this.contentAttrs,n),o=yA(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(yt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(xv),eh.mount(this.root,this.styleModules.concat(B3e).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return MS(this,e,BR(this,e,n,r))}moveByGroup(e,n){return MS(this,e,BR(this,e,n,r=>p3e(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return h3e(this,e,n,r)}moveVertically(e,n,r){return MS(this,e,m3e(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),iZ(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[E0.find(o,e-i.from,-1,n)];return y6(r,a.dir==di.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(YJ)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>K3e)return eZ(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=e3e(e.text,n);return this.bidiCache.push(new s5(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Tt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{PJ(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return FR.of(new o5(typeof e=="number"?Ze.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return Mi.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=eh.newName(),i=[h3.of(r),xv.of(EA(`.${r}`,e))];return n&&n.dark&&i.push(IA.of(!0)),i}static baseTheme(e){return Bm.lowest(xv.of(EA("."+PA,e,bZ)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Vr.get(r)||Vr.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}yt.styleModule=xv;yt.inputHandler=GJ;yt.focusChangeEffect=qJ;yt.perLineTextDirection=YJ;yt.exceptionSink=UJ;yt.updateListener=_A;yt.editable=_6;yt.mouseSelectionStyle=WJ;yt.dragMovesSelection=HJ;yt.clickAddsSelectionRange=BJ;yt.decorations=Ry;yt.atomicRanges=y$;yt.scrollMargins=JJ;yt.darkTheme=IA;yt.contentAttributes=v$;yt.editorAttributes=KJ;yt.lineWrapping=yt.contentAttributes.of({class:"cm-lineWrapping"});yt.announce=cn.define();const K3e=4096,nj={};class s5{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:di.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new s5(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.order))}return r}}function rj(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(t):o;a&&vA(a,n)}return n}const J3e=Tt.mac?"mac":Tt.windows?"win":Tt.linux?"linux":"key";function Z3e(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,a,s;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))s=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))a=!0;else if(/^mod$/i.test(c))e=="mac"?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function p3(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Q3e=Bm.default(yt.domEventHandlers({keydown(t,e){return kZ(yZ(e.state),t,e,"editor")}})),t2=_t.define({enables:Q3e}),ij=new WeakMap;function yZ(t){let e=t.facet(t2),n=ij.get(e);return n||ij.set(e,n=n9e(e.reduce((r,i)=>r.concat(i),[]))),n}function e9e(t,e,n){return kZ(yZ(t.state),e,t,n)}let vd=null;const t9e=4e3;function n9e(t,e=J3e){let n=Object.create(null),r=Object.create(null),i=(a,s)=>{let l=r[a];if(l==null)r[a]=s;else if(l!=s)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,s,l,c,u)=>{var f,d;let h=n[a]||(n[a]=Object.create(null)),m=s.split(/ (?!$)/).map(b=>Z3e(b,e));for(let b=1;b<m.length;b++){let _=m.slice(0,b).join(" ");i(_,!0),h[_]||(h[_]={preventDefault:!0,stopPropagation:!1,run:[x=>{let C=vd={view:x,prefix:_,scope:a};return setTimeout(()=>{vd==C&&(vd=null)},t9e),!0}]})}let v=m.join(" ");i(v,!1);let k=h[v]||(h[v]={preventDefault:!1,stopPropagation:!1,run:((d=(f=h._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&k.run.push(l),c&&(k.preventDefault=!0),u&&(k.stopPropagation=!0)};for(let a of t){let s=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let c of s){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in u)u[f].run.push(a.any)}let l=a[e]||a.key;if(l)for(let c of s)o(c,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(c,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return n}function kZ(t,e,n,r){let i=F7e(e),o=So(i,0),a=_l(o)==i.length&&i!=" ",s="",l=!1,c=!1,u=!1;vd&&vd.view==n&&vd.scope==r&&(s=vd.prefix+" ",aZ.indexOf(e.keyCode)<0&&(c=!0,vd=null));let f=new Set,d=k=>{if(k){for(let b of k.run)if(!f.has(b)&&(f.add(b),b(n,e)))return k.stopPropagation&&(u=!0),!0;k.preventDefault&&(k.stopPropagation&&(u=!0),c=!0)}return!1},h=t[r],m,v;return h&&(d(h[s+p3(i,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Tt.windows&&e.ctrlKey&&e.altKey)&&(m=th[e.keyCode])&&m!=i?(d(h[s+p3(m,e,!0)])||e.shiftKey&&(v=zy[e.keyCode])!=i&&v!=m&&d(h[s+p3(v,e,!1)]))&&(l=!0):a&&e.shiftKey&&d(h[s+p3(i,e,!0)])&&(l=!0),!l&&d(h._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),l}class n2{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=_Z(e);return[new n2(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return r9e(e,n,r)}}function _Z(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==di.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function oj(t,e,n){let r=Ze.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:pi.Text}}function r9e(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==di.LTR,a=t.contentDOM,s=a.getBoundingClientRect(),l=_Z(t),c=a.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=s.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=s.right-(u?parseInt(u.paddingRight):0),h=CA(t,r),m=CA(t,i),v=h.type==pi.Text?h:null,k=m.type==pi.Text?m:null;if(v&&(t.lineWrapping||h.widgetLineBreaks)&&(v=oj(t,r,v)),k&&(t.lineWrapping||m.widgetLineBreaks)&&(k=oj(t,i,k)),v&&k&&v.from==k.from)return _(x(n.from,n.to,v));{let S=v?x(n.from,null,v):C(h,!1),g=k?x(null,n.to,k):C(m,!0),T=[];return(v||h).to<(k||m).from-(v&&k?1:0)||h.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<g.top?T.push(b(f,S.bottom,d,g.top)):S.bottom<g.top&&t.elementAtHeight((S.bottom+g.top)/2).type==pi.Text&&(S.bottom=g.top=(S.bottom+g.top)/2),_(S).concat(T).concat(_(g))}function b(S,g,T,P){return new n2(e,S-l.left,g-l.top-.01,T-S,P-g+.01)}function _({top:S,bottom:g,horizontal:T}){let P=[];for(let $=0;$<T.length;$+=2)P.push(b(T[$],S,T[$+1],g));return P}function x(S,g,T){let P=1e9,$=-1e9,F=[];function D(V,ie,oe,_e,Ae){let Ie=t.coordsAtPos(V,V==T.to?-2:2),ke=t.coordsAtPos(oe,oe==T.from?2:-2);!Ie||!ke||(P=Math.min(Ie.top,ke.top,P),$=Math.max(Ie.bottom,ke.bottom,$),Ae==di.LTR?F.push(o&&ie?f:Ie.left,o&&_e?d:ke.right):F.push(!o&&_e?f:ke.left,!o&&ie?d:Ie.right))}let z=S??T.from,R=g??T.to;for(let V of t.visibleRanges)if(V.to>z&&V.from<R)for(let ie=Math.max(V.from,z),oe=Math.min(V.to,R);;){let _e=t.state.doc.lineAt(ie);for(let Ae of t.bidiSpans(_e)){let Ie=Ae.from+_e.from,ke=Ae.to+_e.from;if(Ie>=oe)break;ke>ie&&D(Math.max(Ie,ie),S==null&&Ie<=z,Math.min(ke,oe),g==null&&ke>=R,Ae.dir)}if(ie=_e.to+1,ie>=oe)break}return F.length==0&&D(z,S==null,R,g==null,t.textDirection),{top:P,bottom:$,horizontal:F}}function C(S,g){let T=s.top+(g?S.top:S.bottom);return{top:T,bottom:T,horizontal:[]}}}function i9e(t,e){return t.constructor==e.constructor&&t.eq(e)}class o9e{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(n8)!=e.state.facet(n8)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(n8);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!i9e(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const n8=_t.define();function wZ(t){return[Mi.define(e=>new o9e(e,t)),n8.of(t)]}const SZ=!Tt.ios,jy=_t.define({combine(t){return kc(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function a9e(t={}){return[jy.of(t),s9e,l9e,c9e,XJ.of(!0)]}function xZ(t){return t.startState.facet(jy)!=t.state.facet(jy)}const s9e=wZ({above:!0,markers(t){let{state:e}=t,n=e.facet(jy),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||SZ:n.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:Ze.cursor(i.head,i.head>i.anchor?-1:1);for(let l of n2.forRange(t,a,s))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=xZ(t);return n&&aj(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){aj(e.state,t)},class:"cm-cursorLayer"});function aj(t,e){e.style.animationDuration=t.facet(jy).cursorBlinkRate+"ms"}const l9e=wZ({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:n2.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||xZ(t)},class:"cm-selectionLayer"}),CZ={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};SZ&&(CZ[".cm-line"].caretColor="transparent !important");const c9e=Bm.highest(yt.theme(CZ)),TZ=cn.define({map(t,e){return t==null?null:e.mapPos(t)}}),Tv=Hi.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(TZ)?r.value:n,t)}}),u9e=Mi.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Tv);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Tv)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(Tv),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Tv)!=t&&this.view.dispatch({effects:TZ.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function f9e(){return[Tv,u9e]}function sj(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),a=n,s;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(a+s.index,s)}function d9e(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class h9e{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:a=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(s,l,c,u)=>i(u,c,c+s[0].length,s,l);else if(typeof r=="function")this.addMatch=(s,l,c,u)=>{let f=r(s,l,c);f&&u(c,c+s[0].length,f)};else if(r)this.addMatch=(s,l,c,u)=>u(c,c+s[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=a}createDeco(e){let n=new Qd,r=n.add.bind(n);for(let{from:i,to:o}of d9e(e,this.maxLength))sj(e.state.doc,this.regexp,i,o,(a,s)=>this.addMatch(s,e,a,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,a,s,l)=>{l>e.view.viewport.from&&s<e.view.viewport.to&&(r=Math.min(s,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let a=Math.max(o.from,r),s=Math.min(o.to,i);if(s>a){let l=e.state.doc.lineAt(a),c=l.to<s?e.state.doc.lineAt(s):l,u=Math.max(o.from,l.from),f=Math.min(o.to,c.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){u=a;break}for(;s<c.to;s++)if(this.boundary.test(c.text[s-c.from])){f=s;break}}let d=[],h,m=(v,k,b)=>d.push(b.range(v,k));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<f-l.from;)this.addMatch(h,e,h.index+l.from,m);else sj(e.state.doc,this.regexp,u,f,(v,k)=>this.addMatch(k,e,v,m));n=n.update({filterFrom:u,filterTo:f,filter:(v,k)=>v<u||k>f,add:d})}}return n}}const $A=/x/.unicode!=null?"gu":"g",p9e=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,$A),m9e={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let jS=null;function g9e(){var t;if(jS==null&&typeof document<"u"&&document.body){let e=document.body.style;jS=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return jS||!1}const r8=_t.define({combine(t){let e=kc(t,{render:null,specialChars:p9e,addSpecialChars:null});return(e.replaceTabs=!g9e())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,$A)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,$A)),e}});function b9e(t={}){return[r8.of(t),v9e()]}let lj=null;function v9e(){return lj||(lj=Mi.fromClass(class{constructor(t){this.view=t,this.decorations=Wt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(r8)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new h9e({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=So(e[0],0);if(o==9){let a=i.lineAt(r),s=n.state.tabSize,l=Z4(a.text,s,r-a.from);return Wt.replace({widget:new w9e((s-l%s)*this.view.defaultCharacterWidth)})}return this.decorationCache[o]||(this.decorationCache[o]=Wt.replace({widget:new _9e(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(r8);t.startState.facet(r8)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const y9e="•";function k9e(t){return t>=32?y9e:t==10?"␤":String.fromCharCode(9216+t)}class _9e extends Of{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=k9e(this.code),r=e.state.phrase("Control character")+" "+(m9e[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class w9e extends Of{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function S9e(){return C9e}const x9e=Wt.line({class:"cm-activeLine"}),C9e=Mi.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(x9e.range(i.from)),e=i.from)}return Wt.set(n)}},{decorations:t=>t.decorations});class T9e extends Of{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?nb(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=y6(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function A9e(t){return Mi.fromClass(class{constructor(e){this.view=e,this.placeholder=t?Wt.set([Wt.widget({widget:new T9e(t),side:1}).range(0)]):Wt.none}get decorations(){return this.view.state.doc.length?Wt.none:this.placeholder}},{decorations:e=>e.decorations})}const OA=2e3;function I9e(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>OA||n.off>OA||e.col<0||n.col<0){let a=Math.min(e.off,n.off),s=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=s&&o.push(Ze.range(c.from+a,c.to+s))}}else{let a=Math.min(e.col,n.col),s=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=fA(c.text,a,t.tabSize,!0);if(u<0)o.push(Ze.cursor(c.to));else{let f=fA(c.text,s,t.tabSize);o.push(Ze.range(c.from+u,c.from+f))}}}return o}function P9e(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function cj(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>OA?-1:i==r.length?P9e(t,e.clientX):Z4(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function E9e(t,e){let n=cj(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(o);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,o,a){let s=cj(t,i);if(!s)return r;let l=I9e(t.state,n,s);return l.length?a?Ze.create(l.concat(r.ranges)):Ze.create(l):r}}:null}function $9e(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return yt.mouseSelectionStyle.of((n,r)=>e(r)?E9e(n,r):null)}const O9e={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},D9e={style:"cursor: crosshair"};function L9e(t={}){let[e,n]=O9e[t.key||"Alt"],r=Mi.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,yt.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?D9e:null})]}const m3="-10000px";class AZ{constructor(e,n,r){this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var n;let r=e.state.facet(this.facet),i=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[];for(let a=0;a<i.length;a++){let s=i[a],l=-1;if(s){for(let c=0;c<this.tooltips.length;c++){let u=this.tooltips[c];u&&u.create==s.create&&(l=c)}if(l<0)o[a]=this.createTooltipView(s);else{let c=o[a]=this.tooltipViews[l];c.update&&c.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(a.dom.remove(),(n=a.destroy)===null||n===void 0||n.call(a));return this.input=r,this.tooltips=i,this.tooltipViews=o,!0}}function F9e(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const VS=_t.define({combine:t=>{var e,n,r;return{position:Tt.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||F9e}}}),uj=new WeakMap,IZ=Mi.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(VS);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new AZ(t,w6,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(VS);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=m3,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,n)=>{let r=this.manager.tooltipViews[n];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(VS).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:n,space:r}=t,i=[];for(let o=0;o<this.manager.tooltips.length;o++){let a=this.manager.tooltips[o],s=this.manager.tooltipViews[o],{dom:l}=s,c=t.pos[o],u=t.size[o];if(!c||c.bottom<=Math.max(n.top,r.top)||c.top>=Math.min(n.bottom,r.bottom)||c.right<Math.max(n.left,r.left)-.1||c.left>Math.min(n.right,r.right)+.1){l.style.top=m3;continue}let f=a.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,d=f?7:0,h=u.right-u.left,m=(e=uj.get(s))!==null&&e!==void 0?e:u.bottom-u.top,v=s.offset||M9e,k=this.view.textDirection==di.LTR,b=u.width>r.right-r.left?k?r.left:r.right-u.width:k?Math.min(c.left-(f?14:0)+v.x,r.right-h):Math.max(r.left,c.left-h+(f?14:0)-v.x),_=!!a.above;!a.strictSide&&(_?c.top-(u.bottom-u.top)-v.y<r.top:c.bottom+(u.bottom-u.top)+v.y>r.bottom)&&_==r.bottom-c.bottom>c.top-r.top&&(_=!_);let x=(_?c.top-r.top:r.bottom-c.bottom)-d;if(x<m&&s.resize!==!1){if(x<this.view.defaultLineHeight){l.style.top=m3;continue}uj.set(s,m),l.style.height=(m=x)+"px"}else l.style.height&&(l.style.height="");let C=_?c.top-m-d-v.y:c.bottom+d+v.y,S=b+h;if(s.overlap!==!0)for(let g of i)g.left<S&&g.right>b&&g.top<C+m&&g.bottom>C&&(C=_?g.top-m-2-d:g.bottom+d+2);this.position=="absolute"?(l.style.top=C-t.parent.top+"px",l.style.left=b-t.parent.left+"px"):(l.style.top=C+"px",l.style.left=b+"px"),f&&(f.style.left=`${c.left+(k?v.x:-v.x)-(b+14-7)}px`),s.overlap!==!0&&i.push({left:b,top:C,right:S,bottom:C+m}),l.classList.toggle("cm-tooltip-above",_),l.classList.toggle("cm-tooltip-below",!_),s.positioned&&s.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=m3}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),N9e=yt.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),M9e={x:0,y:0},w6=_t.define({enables:[IZ,N9e]}),l5=_t.define();class _${constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new AZ(e,l5,n=>this.createHostedView(n))}static create(e){return new _$(e)}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}}const z9e=w6.compute([l5],t=>{let e=t.facet(l5).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:_$.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class R9e{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let r=this.view.coordsAtPos(n);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(s=>s.from<=n&&s.to>=n),o=i&&i.dir==di.RTL?-1:1,a=this.source(this.view,n,e.x<r.left?-o:o);if(a!=null&&a.then){let s=this.pending={pos:n};a.then(l=>{this.pending==s&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>js(this.view.state,l,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!fj(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,o=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:i;(i==o?this.view.posAtCoords(this.lastMove)!=i:!j9e(this.view,i,o,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!fj(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function fj(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function j9e(t,e,n,r,i,o){let a=document.createRange(),s=t.domAtPos(e),l=t.domAtPos(n);a.setEnd(l.node,l.offset),a.setStart(s.node,s.offset);let c=a.getClientRects();a.detach();for(let u=0;u<c.length;u++){let f=c[u];if(Math.max(f.top-i,i-f.bottom,f.left-r,r-f.right)<=o)return!0}return!1}function PZ(t,e={}){let n=cn.define(),r=Hi.define({create(){return null},update(i,o){if(i&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,i)))return null;if(i&&o.docChanged){let a=o.changes.mapPos(i.pos,-1,To.TrackDel);if(a==null)return null;let s=Object.assign(Object.create(null),i);s.pos=a,i.end!=null&&(s.end=o.changes.mapPos(i.end)),i=s}for(let a of o.effects)a.is(n)&&(i=a.value),a.is(V9e)&&(i=null);return i},provide:i=>l5.from(i)});return[r,Mi.define(i=>new R9e(i,t,r,n,e.hoverTime||300)),z9e]}function EZ(t,e){let n=t.plugin(IZ);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const V9e=cn.define(),dj=_t.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Vy(t,e){let n=t.plugin($Z),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const $Z=Mi.fromClass(class{constructor(t){this.input=t.state.facet(By),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(dj);this.top=new g3(t,!0,e.topContainer),this.bottom=new g3(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(dj);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new g3(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new g3(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(By);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],a=[],s=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),s.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?o:a).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let l of s)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>yt.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class g3{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=hj(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=hj(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function hj(t){let e=t.nextSibling;return t.remove(),e}const By=_t.define({enables:$Z});class bu extends _m{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bu.prototype.elementClass="";bu.prototype.toDOM=void 0;bu.prototype.mapMode=To.TrackBefore;bu.prototype.startSide=bu.prototype.endSide=-1;bu.prototype.point=!0;const i8=_t.define(),B9e={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ar.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Zv=_t.define();function S6(t){return[OZ(),Zv.of(Object.assign(Object.assign({},B9e),t))]}const DA=_t.define({combine:t=>t.some(e=>e)});function OZ(t){let e=[H9e];return t&&t.fixed===!1&&e.push(DA.of(!0)),e}const H9e=Mi.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Zv).map(e=>new mj(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(DA),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(DA)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=ar.iter(this.view.state.facet(i8),this.view.viewport.from),r=[],i=this.gutters.map(o=>new W9e(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let s of o.type)if(s.type==pi.Text&&a){LA(n,r,s.from);for(let l of i)l.line(this.view,s,r);a=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(o.type==pi.Text){LA(n,r,o.from);for(let a of i)a.line(this.view,o,r)}for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Zv),n=t.state.facet(Zv),r=t.docChanged||t.heightChanged||t.viewportChanged||!ar.eq(t.startState.facet(i8),t.state.facet(i8),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let a=e.indexOf(o);a<0?i.push(new mj(this.view,o)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>yt.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==di.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function pj(t){return Array.isArray(t)?t:[t]}function LA(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class W9e{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ar.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=n.top-this.height;if(this.i==i.elements.length){let a=new DZ(e,n.height,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,n.height,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];LA(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class mj{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=i.clientY;let s=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=pj(n.markers(e)),n.initialSpacer&&(this.spacer=new DZ(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=pj(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ar.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class DZ{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),U9e(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let s=a,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,c=!0;break}}else s=this.markers.length;for(;a<s;){let u=this.markers[a++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function U9e(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const G9e=_t.define(),s0=_t.define({combine(t){return kc(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],a=n[i];r[i]=o?(s,l,c)=>o(s,l,c)||a(s,l,c):a}return r}})}});class BS extends bu{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function HS(t,e){return t.state.facet(s0).formatNumber(e,t.state)}const q9e=Zv.compute([s0],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(G9e)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new BS(HS(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(s0)!=e.state.facet(s0),initialSpacer(e){return new BS(HS(e,gj(e.state.doc.lines)))},updateSpacer(e,n){let r=HS(n.view,gj(n.view.state.doc.lines));return r==e.number?e:new BS(r)},domEventHandlers:t.facet(s0).domEventHandlers}));function w$(t={}){return[s0.of(t),OZ(),q9e]}function gj(t){let e=9;for(;e<t;)e=e*10+9;return e}const Y9e=new class extends bu{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},X9e=i8.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Y9e.range(i)))}return ar.of(e)});function K9e(){return X9e}const LZ=1024;let J9e=0;class WS{constructor(e,n){this.from=e,this.to=n}}class Pn{constructor(e={}){this.id=J9e++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=fs.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Pn.closedBy=new Pn({deserialize:t=>t.split(" ")});Pn.openedBy=new Pn({deserialize:t=>t.split(" ")});Pn.group=new Pn({deserialize:t=>t.split(" ")});Pn.contextHash=new Pn({perNode:!0});Pn.lookAhead=new Pn({perNode:!0});Pn.mounted=new Pn({perNode:!0});const Z9e=Object.create(null);class fs{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Z9e,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new fs(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Pn.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Pn.group),o=-1;o<(i?i.length:0);o++){let a=n[o<0?r.name:i[o]];if(a)return a}}}}fs.none=new fs("",Object.create(null),0,8);class S${constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}n.push(i?new fs(r.name,i,r.id,r.flags):r)}return new S$(n)}}const b3=new WeakMap,bj=new WeakMap;var so;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(so||(so={}));let Io=class FA{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,s]of o)this.props[typeof a=="number"?a:a.id]=s}}toString(){let e=this.prop(Pn.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new f5(this.topNode,e)}cursorAt(e,n=0,r=0){let i=b3.get(this)||this.topNode,o=new f5(i);return o.moveTo(e,n),b3.set(this,o._tree),o}get topNode(){return new Hy(this,0,0,null)}resolve(e,n=0){let r=ib(b3.get(this)||this.topNode,e,n,!1);return b3.set(this,r),r}resolveInner(e,n=0){let r=ib(bj.get(this)||this.topNode,e,n,!0);return bj.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,s=(a&so.IncludeAnonymous)>0;for(let l=this.cursor(a|so.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!s&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(s||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:T$(fs.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new FA(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new FA(fs.none,n,r,i)))}static build(e){return e8e(e)}};Io.empty=new Io(fs.none,[],[],0);class x${constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new x$(this.buffer,this.index)}}class Hm{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return fs.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,n,r,i,o){let{buffer:a}=this,s=-1;for(let l=e;l!=n&&!(FZ(o,i,a[l+1],a[l+2])&&(s=l,r>0));l=a[l+3]);return s}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),a=0;for(let s=e,l=0;s<n;){o[l++]=i[s++],o[l++]=i[s++]-r;let c=o[l++]=i[s++]-r;o[l++]=i[s++]-e,a=Math.max(a,c)}return new Hm(o,a,this.set)}}function FZ(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function NZ(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function ib(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof Hy&&t.index<0?null:t.parent;if(!a)return t;t=a}let o=r?0:so.IgnoreOverlays;if(r)for(let a=t,s=a.parent;s;a=s,s=a.parent)a instanceof Hy&&a.index<0&&((i=s.enter(e,n,o))===null||i===void 0?void 0:i.from)!=a.from&&(t=s);for(;;){let a=t.enter(e,n,o);if(!a)return t;t=a}}let Hy=class o8{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let a=this;;){for(let{children:s,positions:l}=a._tree,c=n>0?s.length:-1;e!=c;e+=n){let u=s[e],f=l[e]+a.from;if(FZ(i,r,f,f+u.length)){if(u instanceof Hm){if(o&so.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,r-f,i);if(d>-1)return new wd(new Q9e(a,u,e,f),null,d)}else if(o&so.IncludeAnonymous||!u.type.isAnonymous||C$(u)){let d;if(!(o&so.IgnoreMounts)&&u.props&&(d=u.prop(Pn.mounted))&&!d.overlay)return new o8(d.tree,f,e,a);let h=new o8(u,f,e,a);return o&so.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&so.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&so.IgnoreOverlays)&&(i=this._tree.prop(Pn.mounted))&&i.overlay){let o=e-this.from;for(let{from:a,to:s}of i.overlay)if((n>0?a<=o:a<o)&&(n<0?s>=o:s>o))return new o8(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new f5(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return ib(this,e,n,!1)}resolveInner(e,n=0){return ib(this,e,n,!0)}enterUnfinishedNodesBefore(e){return NZ(this,e)}getChild(e,n=null,r=null){let i=c5(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return c5(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return u5(this,e)}};function c5(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function u5(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Q9e{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class wd{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new wd(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&so.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new wd(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new wd(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new wd(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new f5(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),n.push(0)}return new Io(this.type,e,n,this.to-this.from)}resolve(e,n=0){return ib(this,e,n,!1)}resolveInner(e,n=0){return ib(this,e,n,!0)}enterUnfinishedNodesBefore(e){return NZ(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=c5(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return c5(this,e,n,r)}get node(){return this}matchContext(e){return u5(this,e)}}class f5{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Hy)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Hy?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&so.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&so.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&so.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let s=r._tree.children[o];if(this.mode&so.IncludeAnonymous||s instanceof Hm||!s.type.isAnonymous||C$(s))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new wd(this.buffer,n,this.stack[i]);return this.bufferNode=new wd(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return u5(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return u5(this.node,e,i);let a=r[n.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function C$(t){return t.children.some(e=>e instanceof Hm||!e.type.isAnonymous||C$(e))}function e8e(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=LZ,reused:o=[],minRepeatType:a=r.types.length}=t,s=Array.isArray(n)?new x$(n,n.length):n,l=r.types,c=0,u=0;function f(C,S,g,T,P){let{id:$,start:F,end:D,size:z}=s,R=u;for(;z<0;)if(s.next(),z==-1){let Ae=o[$];g.push(Ae),T.push(F-C);return}else if(z==-3){c=$;return}else if(z==-4){u=$;return}else throw new RangeError(`Unrecognized record size: ${z}`);let V=l[$],ie,oe,_e=F-C;if(D-F<=i&&(oe=v(s.pos-S,P))){let Ae=new Uint16Array(oe.size-oe.skip),Ie=s.pos-oe.size,ke=Ae.length;for(;s.pos>Ie;)ke=k(oe.start,Ae,ke);ie=new Hm(Ae,D-oe.start,r),_e=oe.start-C}else{let Ae=s.pos-z;s.next();let Ie=[],ke=[],se=$>=a?$:-1,ne=0,J=D;for(;s.pos>Ae;)se>=0&&s.id==se&&s.size>=0?(s.end<=J-i&&(h(Ie,ke,F,ne,s.end,J,se,R),ne=Ie.length,J=s.end),s.next()):f(F,Ae,Ie,ke,se);if(se>=0&&ne>0&&ne<Ie.length&&h(Ie,ke,F,ne,F,J,se,R),Ie.reverse(),ke.reverse(),se>-1&&ne>0){let j=d(V);ie=T$(V,Ie,ke,0,Ie.length,0,D-F,j,j)}else ie=m(V,Ie,ke,D-F,R-D)}g.push(ie),T.push(_e)}function d(C){return(S,g,T)=>{let P=0,$=S.length-1,F,D;if($>=0&&(F=S[$])instanceof Io){if(!$&&F.type==C&&F.length==T)return F;(D=F.prop(Pn.lookAhead))&&(P=g[$]+F.length+D)}return m(C,S,g,T,P)}}function h(C,S,g,T,P,$,F,D){let z=[],R=[];for(;C.length>T;)z.push(C.pop()),R.push(S.pop()+g-P);C.push(m(r.types[F],z,R,$-P,D-$)),S.push(P-g)}function m(C,S,g,T,P=0,$){if(c){let F=[Pn.contextHash,c];$=$?[F].concat($):[F]}if(P>25){let F=[Pn.lookAhead,P];$=$?[F].concat($):[F]}return new Io(C,S,g,T,$)}function v(C,S){let g=s.fork(),T=0,P=0,$=0,F=g.end-i,D={size:0,start:0,skip:0};e:for(let z=g.pos-C;g.pos>z;){let R=g.size;if(g.id==S&&R>=0){D.size=T,D.start=P,D.skip=$,$+=4,T+=4,g.next();continue}let V=g.pos-R;if(R<0||V<z||g.start<F)break;let ie=g.id>=a?4:0,oe=g.start;for(g.next();g.pos>V;){if(g.size<0)if(g.size==-3)ie+=4;else break e;else g.id>=a&&(ie+=4);g.next()}P=oe,T+=R,$+=ie}return(S<0||T==C)&&(D.size=T,D.start=P,D.skip=$),D.size>4?D:void 0}function k(C,S,g){let{id:T,start:P,end:$,size:F}=s;if(s.next(),F>=0&&T<a){let D=g;if(F>4){let z=s.pos-(F-4);for(;s.pos>z;)g=k(C,S,g)}S[--g]=D,S[--g]=$-C,S[--g]=P-C,S[--g]=T}else F==-3?c=T:F==-4&&(u=T);return g}let b=[],_=[];for(;s.pos>0;)f(t.start||0,t.bufferStart||0,b,_,-1);let x=(e=t.length)!==null&&e!==void 0?e:b.length?_[0]+b[0].length:0;return new Io(l[t.topID],b.reverse(),_.reverse(),x)}const vj=new WeakMap;function a8(t,e){if(!t.isAnonymous||e instanceof Hm||e.type!=t)return 1;let n=vj.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Io)){n=1;break}n+=a8(t,r)}vj.set(e,n)}return n}function T$(t,e,n,r,i,o,a,s,l){let c=0;for(let m=r;m<i;m++)c+=a8(t,e[m]);let u=Math.ceil(c*1.5/8),f=[],d=[];function h(m,v,k,b,_){for(let x=k;x<b;){let C=x,S=v[x],g=a8(t,m[x]);for(x++;x<b;x++){let T=a8(t,m[x]);if(g+T>=u)break;g+=T}if(x==C+1){if(g>u){let T=m[C];h(T.children,T.positions,0,T.children.length,v[C]+_);continue}f.push(m[C])}else{let T=v[x-1]+m[x-1].length-S;f.push(T$(t,m,v,C,x,S,T,null,l))}d.push(S+_-o)}}return h(e,n,r,i,0),(s||l)(f,d,a)}class om{constructor(e,n,r,i,o=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new om(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let s=0,l=0,c=0;;s++){let u=s<n.length?n[s]:null,f=u?u.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){let d=a;if(l>=d.from||f<=d.to||c){let h=Math.max(d.from,l)-c,m=Math.min(d.to,f)-c;d=h>=m?null:new om(h,m,d.tree,d.offset+c,s>0,!!u)}if(d&&i.push(d),a.to>f)break;a=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}let MZ=class{startParse(e,n,r){return typeof e=="string"&&(e=new t8e(e)),r=r?r.length?r.map(i=>new WS(i.from,i.to)):[new WS(0,0)]:[new WS(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}};class t8e{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Pn({perNode:!0});let n8e=0;class Xc{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=n8e++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Xc([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new d5;return n=>n.modified.indexOf(e)>-1?n:d5.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let r8e=0;class d5{constructor(){this.instances=[],this.id=r8e++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(s=>s.base==e&&i8e(n,s.modified));if(r)return r;let i=[],o=new Xc(i,e,n);for(let s of n)s.instances.push(o);let a=o8e(n);for(let s of e.set)if(!s.modified.length)for(let l of a)i.push(d5.get(s,l));return o}}function i8e(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function o8e(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function zZ(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],a=2,s=i;for(let f=0;;){if(s=="..."&&f>0&&f+3==i.length){a=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let h=i[f++];if(f==i.length&&h=="!"){a=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);s=i.slice(f)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new h5(r,a,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return RZ.add(e)}const RZ=new Pn;class h5{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}h5.empty=new h5([],2,null);function jZ(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let a of o.tag)n[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let s of o)for(let l of s.set){let c=n[l.id];if(c){a=a?a+" "+c:c;break}}return a},scope:r}}function a8e(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function s8e(t,e,n,r=0,i=t.length){let o=new l8e(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class l8e{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:a,from:s,to:l}=e;if(s>=r||l<=n)return;a.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(a)));let c=i,u=c8e(e)||h5.empty,f=a8e(o,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(e.from,c),u.opaque)return;let d=e.tree&&e.tree.prop(Pn.mounted);if(d&&d.overlay){let h=e.node.enter(d.overlay[0].from+s,1),m=this.highlighters.filter(k=>!k.scope||k.scope(d.tree.type)),v=e.firstChild();for(let k=0,b=s;;k++){let _=k<d.overlay.length?d.overlay[k]:null,x=_?_.from+s:l,C=Math.max(n,b),S=Math.min(r,x);if(C<S&&v)for(;e.from<S&&(this.highlightRange(e,C,S,i,o),this.startSpan(Math.min(S,e.to),c),!(e.to>=x||!e.nextSibling())););if(!_||x>r)break;b=_.to+s,b>n&&(this.highlightRange(h.cursor(),Math.max(n,_.from+s),Math.min(r,b),i,m),this.startSpan(b,c))}v&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function c8e(t){let e=t.type.prop(RZ);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ft=Xc.define,v3=ft(),md=ft(),yj=ft(md),kj=ft(md),gd=ft(),y3=ft(gd),US=ft(gd),Hc=ft(),Yh=ft(Hc),Mc=ft(),zc=ft(),NA=ft(),F1=ft(NA),k3=ft(),Ge={comment:v3,lineComment:ft(v3),blockComment:ft(v3),docComment:ft(v3),name:md,variableName:ft(md),typeName:yj,tagName:ft(yj),propertyName:kj,attributeName:ft(kj),className:ft(md),labelName:ft(md),namespace:ft(md),macroName:ft(md),literal:gd,string:y3,docString:ft(y3),character:ft(y3),attributeValue:ft(y3),number:US,integer:ft(US),float:ft(US),bool:ft(gd),regexp:ft(gd),escape:ft(gd),color:ft(gd),url:ft(gd),keyword:Mc,self:ft(Mc),null:ft(Mc),atom:ft(Mc),unit:ft(Mc),modifier:ft(Mc),operatorKeyword:ft(Mc),controlKeyword:ft(Mc),definitionKeyword:ft(Mc),moduleKeyword:ft(Mc),operator:zc,derefOperator:ft(zc),arithmeticOperator:ft(zc),logicOperator:ft(zc),bitwiseOperator:ft(zc),compareOperator:ft(zc),updateOperator:ft(zc),definitionOperator:ft(zc),typeOperator:ft(zc),controlOperator:ft(zc),punctuation:NA,separator:ft(NA),bracket:F1,angleBracket:ft(F1),squareBracket:ft(F1),paren:ft(F1),brace:ft(F1),content:Hc,heading:Yh,heading1:ft(Yh),heading2:ft(Yh),heading3:ft(Yh),heading4:ft(Yh),heading5:ft(Yh),heading6:ft(Yh),contentSeparator:ft(Hc),list:ft(Hc),quote:ft(Hc),emphasis:ft(Hc),strong:ft(Hc),link:ft(Hc),monospace:ft(Hc),strikethrough:ft(Hc),inserted:ft(),deleted:ft(),changed:ft(),invalid:ft(),meta:k3,documentMeta:ft(k3),annotation:ft(k3),processingInstruction:ft(k3),definition:Xc.defineModifier(),constant:Xc.defineModifier(),function:Xc.defineModifier(),standard:Xc.defineModifier(),local:Xc.defineModifier(),special:Xc.defineModifier()};jZ([{tag:Ge.link,class:"tok-link"},{tag:Ge.heading,class:"tok-heading"},{tag:Ge.emphasis,class:"tok-emphasis"},{tag:Ge.strong,class:"tok-strong"},{tag:Ge.keyword,class:"tok-keyword"},{tag:Ge.atom,class:"tok-atom"},{tag:Ge.bool,class:"tok-bool"},{tag:Ge.url,class:"tok-url"},{tag:Ge.labelName,class:"tok-labelName"},{tag:Ge.inserted,class:"tok-inserted"},{tag:Ge.deleted,class:"tok-deleted"},{tag:Ge.literal,class:"tok-literal"},{tag:Ge.string,class:"tok-string"},{tag:Ge.number,class:"tok-number"},{tag:[Ge.regexp,Ge.escape,Ge.special(Ge.string)],class:"tok-string2"},{tag:Ge.variableName,class:"tok-variableName"},{tag:Ge.local(Ge.variableName),class:"tok-variableName tok-local"},{tag:Ge.definition(Ge.variableName),class:"tok-variableName tok-definition"},{tag:Ge.special(Ge.variableName),class:"tok-variableName2"},{tag:Ge.definition(Ge.propertyName),class:"tok-propertyName tok-definition"},{tag:Ge.typeName,class:"tok-typeName"},{tag:Ge.namespace,class:"tok-namespace"},{tag:Ge.className,class:"tok-className"},{tag:Ge.macroName,class:"tok-macroName"},{tag:Ge.propertyName,class:"tok-propertyName"},{tag:Ge.operator,class:"tok-operator"},{tag:Ge.comment,class:"tok-comment"},{tag:Ge.meta,class:"tok-meta"},{tag:Ge.invalid,class:"tok-invalid"},{tag:Ge.punctuation,class:"tok-punctuation"}]);var GS;const l0=new Pn;function u8e(t){return _t.define({combine:t?e=>e.concat(t):void 0})}const f8e=new Pn;class cc{constructor(e,n,r=[],i=""){this.data=e,this.name=i,An.prototype.hasOwnProperty("tree")||Object.defineProperty(An.prototype,"tree",{get(){return Bi(this)}}),this.parser=n,this.extension=[ih.of(this),An.languageData.of((o,a,s)=>{let l=_j(o,a,s),c=l.type.prop(l0);if(!c)return[];let u=o.facet(c),f=l.type.prop(f8e);if(f){let d=l.resolve(a-l.from,s);for(let h of f)if(h.test(d,o)){let m=o.facet(h.facet);return h.type=="replace"?m:m.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return _j(e,n,r).type.prop(l0)==this.data}findRegions(e){let n=e.facet(ih);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(l0)==this.data){r.push({from:a,to:a+o.length});return}let s=o.prop(Pn.mounted);if(s){if(s.tree.prop(l0)==this.data){if(s.overlay)for(let l of s.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+o.length});return}else if(s.overlay){let l=r.length;if(i(s.tree,s.overlay[0].from+a),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Io&&i(c,o.positions[l]+a)}};return i(Bi(e),0),r}get allowsNesting(){return!0}}cc.setState=cn.define();function _j(t,e,n){let r=t.facet(ih),i=Bi(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,so.ExcludeBuffers))o.type.isTop&&(i=o);return i}class p5 extends cc{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=u8e(e.languageData);return new p5(n,e.parser.configure({props:[l0.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new p5(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Bi(t){let e=t.field(cc.state,!1);return e?e.tree:Io.empty}class d8e{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let N1=null;class m5{constructor(e,n,r=[],i,o,a,s,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new m5(e,n,[],Io.empty,0,r,[],null)}startParse(){return this.parser.startParse(new d8e(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Io.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(om.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(om.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=N1;N1=this;try{return e()}finally{N1=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=wj(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,f,d)=>l.push({fromA:c,toA:u,fromB:f,toB:d})),r=om.applyChanges(r,l),i=Io.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),f=e.mapPos(c.to,-1);u<f&&s.push({from:u,to:f})}}}return new m5(this.parser,n,r,i,o,a,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=wj(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends MZ{createParse(n,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let l=N1;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new Io(fs.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return N1}}function wj(t,e,n){return om.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class ob{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new ob(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=m5.create(e.facet(ih).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new ob(r)}}cc.state=Hi.define({create:ob.init,update(t,e){for(let n of e.effects)if(n.is(cc.setState))return n.value;return e.startState.facet(ih)!=e.state.facet(ih)?ob.init(e.state):t.apply(e)}});let VZ=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(VZ=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const qS=typeof navigator<"u"&&(!((GS=navigator.scheduling)===null||GS===void 0)&&GS.isInputPending)?()=>navigator.scheduling.isInputPending():null,h8e=Mi.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(cc.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(cc.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=VZ(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(cc.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!qS?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>qS&&qS()||Date.now()>a,i+(s?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:cc.setState.of(new ob(o.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>js(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),ih=_t.define({combine(t){return t.length?t[0]:null},enables:t=>[cc.state,h8e,yt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class p8e{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const m8e=_t.define(),r2=_t.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function g5(t){let e=t.facet(r2);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Wy(t,e){let n="",r=t.tabSize,i=t.facet(r2)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function A$(t,e){t instanceof An&&(t=new x6(t));for(let r of t.state.facet(m8e)){let i=r(t,e);if(i!==void 0)return i}let n=Bi(t.state);return n?g8e(t,n,e):null}class x6{constructor(e,n={}){this.state=e,this.options=n,this.unit=g5(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return Z4(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const BZ=new Pn;function g8e(t,e,n){return HZ(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function b8e(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function v8e(t){let e=t.type.prop(BZ);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Pn.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>w8e(a,!0,1,void 0,o&&!b8e(a)?i.from:void 0)}return t.parent==null?y8e:null}function HZ(t,e,n){for(;t;t=t.parent){let r=v8e(t);if(r)return r(I$.create(n,e,t))}return null}function y8e(){return 0}class I$ extends x6{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new I$(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(k8e(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){let e=this.node.parent;return e?HZ(e,this.pos,this.base):0}}function k8e(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function _8e(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),a=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let s=n.to;;){let l=e.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<a?n:null;s=l.to}}function w8e(t,e,n,r,i){let o=t.textAfter,a=o.match(/^\s*/)[0].length,s=r&&o.slice(a,a+r.length)==r||i==t.pos+a,l=e?_8e(t):null;return l?s?t.column(l.from):t.column(l.to):t.baseIndent+(s?0:t.unit*n)}function Sj({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const S8e=200;function x8e(){return An.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+S8e)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:a}=t,s=-1,l=[];for(let{head:c}of a.selection.ranges){let u=a.doc.lineAt(c);if(u.from==s)continue;s=u.from;let f=A$(a,u.from);if(f==null)continue;let d=/^\s*/.exec(u.text)[0],h=Wy(a,f);d!=h&&l.push({from:u.from,to:u.from+d.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const C8e=_t.define(),WZ=new Pn;function T8e(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function A8e(t,e,n){let r=Bi(t);if(r.length<n)return null;let i=r.resolveInner(n,1),o=null;for(let a=i;a;a=a.parent){if(a.to<=n||a.from>n)continue;if(o&&a.from<e)break;let s=a.type.prop(WZ);if(s&&(a.to<r.length-50||r.length==t.doc.length||!I8e(a))){let l=s(a,t);l&&l.from<=n&&l.from>=e&&l.to>n&&(o=l)}}return o}function I8e(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function b5(t,e,n){for(let r of t.facet(C8e)){let i=r(t,e,n);if(i)return i}return A8e(t,e,n)}function UZ(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const C6=cn.define({map:UZ}),i2=cn.define({map:UZ});function GZ(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Sm=Hi.define({create(){return Wt.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(C6)&&!P8e(t,n.value.from,n.value.to)?t=t.update({add:[xj.range(n.value.from,n.value.to)]}):n.is(i2)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return t},provide:t=>yt.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(xj.range(r,i))}return Wt.set(e,!0)}});function v5(t,e,n){var r;let i=null;return(r=t.field(Sm,!1))===null||r===void 0||r.between(e,n,(o,a)=>{(!i||i.from>o)&&(i={from:o,to:a})}),i}function P8e(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function qZ(t,e){return t.field(Sm,!1)?e:e.concat(cn.appendConfig.of(KZ()))}const E8e=t=>{for(let e of GZ(t)){let n=b5(t.state,e.from,e.to);if(n)return t.dispatch({effects:qZ(t.state,[C6.of(n),YZ(t,n)])}),!0}return!1},$8e=t=>{if(!t.state.field(Sm,!1))return!1;let e=[];for(let n of GZ(t)){let r=v5(t.state,n.from,n.to);r&&e.push(i2.of(r),YZ(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function YZ(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return yt.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const O8e=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=b5(e,i.from,i.to);o&&n.push(C6.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:qZ(t.state,n)}),!!n.length},D8e=t=>{let e=t.state.field(Sm,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(i2.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},L8e=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:E8e},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:$8e},{key:"Ctrl-Alt-[",run:O8e},{key:"Ctrl-Alt-]",run:D8e}],F8e={placeholderDOM:null,placeholderText:"…"},XZ=_t.define({combine(t){return kc(t,F8e)}});function KZ(t){let e=[Sm,z8e];return t&&e.push(XZ.of(t)),e}const xj=Wt.replace({widget:new class extends Of{toDOM(t){let{state:e}=t,n=e.facet(XZ),r=o=>{let a=t.lineBlockAt(t.posAtDOM(o.target)),s=v5(t.state,a.from,a.to);s&&t.dispatch({effects:i2.of(s)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),N8e={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class YS extends bu{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function M8e(t={}){let e=Object.assign(Object.assign({},N8e),t),n=new YS(e,!0),r=new YS(e,!1),i=Mi.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(ih)!=a.state.facet(ih)||a.startState.field(Sm,!1)!=a.state.field(Sm,!1)||Bi(a.startState)!=Bi(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let s=new Qd;for(let l of a.viewportLineBlocks){let c=v5(a.state,l.from,l.to)?r:b5(a.state,l.from,l.to)?n:null;c&&s.add(l.from,l.from,c)}return s.finish()}}),{domEventHandlers:o}=e;return[i,S6({class:"cm-foldGutter",markers(a){var s;return((s=a.plugin(i))===null||s===void 0?void 0:s.markers)||ar.empty},initialSpacer(){return new YS(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(a,s,l)=>{if(o.click&&o.click(a,s,l))return!0;let c=v5(a.state,s.from,s.to);if(c)return a.dispatch({effects:i2.of(c)}),!0;let u=b5(a.state,s.from,s.to);return u?(a.dispatch({effects:C6.of(u)}),!0):!1}})}),KZ()]}const z8e=yt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class o2{constructor(e,n){this.specs=e;let r;function i(s){let l=eh.newName();return(r||(r=Object.create(null)))["."+l]=s,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof cc?s=>s.prop(l0)==a.data:a?s=>s==a:void 0,this.style=jZ(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:o}).style,this.module=r?new eh(r):null,this.themeType=n.themeType}static define(e,n){return new o2(e,n||{})}}const MA=_t.define(),JZ=_t.define({combine(t){return t.length?[t[0]]:null}});function XS(t){let e=t.facet(MA);return e.length?e:t.facet(JZ)}function P$(t,e){let n=[j8e],r;return t instanceof o2&&(t.module&&n.push(yt.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(JZ.of(t)):r?n.push(MA.computeN([yt.darkTheme],i=>i.facet(yt.darkTheme)==(r=="dark")?[t]:[])):n.push(MA.of(t)),n}class R8e{constructor(e){this.markCache=Object.create(null),this.tree=Bi(e.state),this.decorations=this.buildDeco(e,XS(e.state))}update(e){let n=Bi(e.state),r=XS(e.state),i=r!=XS(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return Wt.none;let r=new Qd;for(let{from:i,to:o}of e.visibleRanges)s8e(this.tree,n,(a,s,l)=>{r.add(a,s,this.markCache[l]||(this.markCache[l]=Wt.mark({class:l})))},i,o);return r.finish()}}const j8e=Bm.high(Mi.fromClass(R8e,{decorations:t=>t.decorations})),V8e=o2.define([{tag:Ge.meta,color:"#404740"},{tag:Ge.link,textDecoration:"underline"},{tag:Ge.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ge.emphasis,fontStyle:"italic"},{tag:Ge.strong,fontWeight:"bold"},{tag:Ge.strikethrough,textDecoration:"line-through"},{tag:Ge.keyword,color:"#708"},{tag:[Ge.atom,Ge.bool,Ge.url,Ge.contentSeparator,Ge.labelName],color:"#219"},{tag:[Ge.literal,Ge.inserted],color:"#164"},{tag:[Ge.string,Ge.deleted],color:"#a11"},{tag:[Ge.regexp,Ge.escape,Ge.special(Ge.string)],color:"#e40"},{tag:Ge.definition(Ge.variableName),color:"#00f"},{tag:Ge.local(Ge.variableName),color:"#30a"},{tag:[Ge.typeName,Ge.namespace],color:"#085"},{tag:Ge.className,color:"#167"},{tag:[Ge.special(Ge.variableName),Ge.macroName],color:"#256"},{tag:Ge.definition(Ge.propertyName),color:"#00c"},{tag:Ge.comment,color:"#940"},{tag:Ge.invalid,color:"#f00"}]),B8e=yt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),ZZ=1e4,QZ="()[]{}",eQ=_t.define({combine(t){return kc(t,{afterCursor:!0,brackets:QZ,maxScanDistance:ZZ,renderMatch:U8e})}}),H8e=Wt.mark({class:"cm-matchingBracket"}),W8e=Wt.mark({class:"cm-nonmatchingBracket"});function U8e(t){let e=[],n=t.matched?H8e:W8e;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const G8e=Hi.define({create(){return Wt.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(eQ);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=iu(e.state,i.head,-1,r)||i.head>0&&iu(e.state,i.head-1,1,r)||r.afterCursor&&(iu(e.state,i.head,1,r)||i.head<e.state.doc.length&&iu(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return Wt.set(n,!0)},provide:t=>yt.decorations.from(t)}),q8e=[G8e,B8e];function E$(t={}){return[eQ.of(t),q8e]}const Y8e=new Pn;function zA(t,e,n){let r=t.prop(e<0?Pn.openedBy:Pn.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function RA(t){let e=t.type.prop(Y8e);return e?e(t.node):t}function iu(t,e,n,r={}){let i=r.maxScanDistance||ZZ,o=r.brackets||QZ,a=Bi(t),s=a.resolveInner(e,n);for(let l=s;l;l=l.parent){let c=zA(l.type,n,o);if(c&&l.from<l.to){let u=RA(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return X8e(t,e,n,l,u,c,o)}}return K8e(t,e,n,a,s.type,i,o)}function X8e(t,e,n,r,i,o,a){let s=r.parent,l={from:i.from,to:i.to},c=0,u=s==null?void 0:s.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=RA(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(zA(u.type,n,a))c++;else if(zA(u.type,-n,a)){if(c==0){let f=RA(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function K8e(t,e,n,r,i,o,a){let s=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!u.next().done&&d<=o;){let h=u.value;n<0&&(d+=h.length);let m=e+d*n;for(let v=n>0?0:h.length-1,k=n>0?h.length:-1;v!=k;v+=n){let b=a.indexOf(h[v]);if(!(b<0||r.resolveInner(m+v,1).type!=i))if(b%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:m+v,to:m+v+1},matched:b>>1==l>>1};f--}}n>0&&(d+=h.length)}return u.done?{start:c,matched:!1}:null}const J8e=Object.create(null),Cj=[fs.none],Tj=[],Z8e=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Z8e[t]=Q8e(J8e,e);function KS(t,e){Tj.indexOf(t)>-1||(Tj.push(t),console.warn(e))}function Q8e(t,e){let n=null;for(let o of e.split(".")){let a=t[o]||Ge[o];a?typeof a=="function"?n?n=a(n):KS(o,`Modifier ${o} used at start of tag`):n?KS(o,`Tag ${o} used as modifier`):n=a:KS(o,`Unknown highlighting tag ${o}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=fs.define({id:Cj.length,name:r,props:[zZ({[r]:n})]});return Cj.push(i),i.id}const e5e=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=O$(t.state,n.from);return r.line?t5e(t):r.block?r5e(t):!1};function $$(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const t5e=$$(a5e,0),n5e=$$(tQ,0),r5e=$$((t,e)=>tQ(t,e,o5e(e)),0);function O$(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const M1=50;function i5e(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-M1,r),a=t.sliceDoc(i,i+M1),s=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(a)[0].length,c=o.length-s;if(o.slice(c-e.length,c)==e&&a.slice(l,l+n.length)==n)return{open:{pos:r-s,margin:s&&1},close:{pos:i+l,margin:l&&1}};let u,f;i-r<=2*M1?u=f=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+M1),f=t.sliceDoc(i-M1,i));let d=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(f)[0].length,m=f.length-h-n.length;return u.slice(d,d+e.length)==e&&f.slice(m,m+n.length)==n?{open:{pos:r+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(f.charAt(m-1))?1:0}}:null}function o5e(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function tQ(t,e,n=e.selection.ranges){let r=n.map(o=>O$(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,a)=>i5e(e,r[a],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let a=0,s;a<i.length;a++)if(s=i[a]){let l=r[a],{open:c,close:u}=s;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function a5e(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of n){let s=r.length,l=1e9,c=O$(e,o).line;if(c){for(let u=o;u<=a;){let f=e.doc.lineAt(u);if(f.from>i&&(o==a||a>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,h=d==f.length,m=f.text.slice(d,d+c.length)==c?d:-1;d<f.text.length&&d<l&&(l=d),r.push({line:f,comment:m,token:c,indent:d,empty:h,single:!1})}u=f.to+1}if(l<1e9)for(let u=s;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==s+1&&(r[s].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:s,token:l,indent:c,empty:u,single:f}of r)(f||!u)&&o.push({from:s.from+c,insert:l+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:s,token:l}of r)if(s>=0){let c=a.from+s,u=c+l.length;a.text[u-a.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const jA=$f.define(),s5e=$f.define(),l5e=_t.define(),nQ=_t.define({combine(t){return kc(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function c5e(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const rQ=Hi.define({create(){return ou.empty},update(t,e){let n=e.state.facet(nQ),r=e.annotation(jA);if(r){let l=e.docChanged?Ze.single(c5e(e.changes)):void 0,c=is.fromTransaction(e,l),u=r.side,f=u==0?t.undone:t.done;return c?f=y5(f,f.length,n.minDepth,c):f=aQ(f,e.startState.selection),new ou(u==0?r.rest:f,u==0?f:r.rest)}let i=e.annotation(s5e);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Ji.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=is.fromTransaction(e),a=e.annotation(Ji.time),s=e.annotation(Ji.userEvent);return o?t=t.addChanges(o,a,s,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,s,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ou(t.done.map(is.fromJSON),t.undone.map(is.fromJSON))}});function D$(t={}){return[rQ,nQ.of(t),yt.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?iQ:e.inputType=="historyRedo"?VA:null;return r?(e.preventDefault(),r(n)):!1}})]}function T6(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(rQ,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const iQ=T6(0,!1),VA=T6(1,!1),u5e=T6(0,!0),f5e=T6(1,!0);class is{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new is(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new is(e.changes&&Ki.fromJSON(e.changes),[],e.mapped&&uu.fromJSON(e.mapped),e.startSelection&&Ze.fromJSON(e.startSelection),e.selectionsAfter.map(Ze.fromJSON))}static fromTransaction(e,n){let r=Cl;for(let i of e.startState.facet(l5e)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new is(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Cl)}static selection(e){return new is(void 0,Cl,void 0,void 0,e)}}function y5(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function d5e(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,a,s)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];s>=c&&a<=u&&(r=!0)}}),r}function h5e(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function oQ(t,e){return t.length?e.length?t.concat(e):t:e}const Cl=[],p5e=200;function aQ(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-p5e));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),y5(t,t.length-1,1e9,n.setSelAfter(r)))}else return[is.selection([e])]}function m5e(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function JS(t,e){if(!t.length)return t;let n=t.length,r=Cl;for(;n;){let i=g5e(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[is.selection(r)]:Cl}function g5e(t,e,n){let r=oQ(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):Cl,n);if(!t.changes)return is.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new is(i,cn.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const b5e=/^(input\.type|delete)($|\.)/;class ou{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ou(this.done,this.undone):this}addChanges(e,n,r,i,o){let a=this.done,s=a[a.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!r||b5e.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,d5e(s.changes,e.changes))||r=="input.type.compose")?a=y5(a,a.length-1,i.minDepth,new is(e.changes.compose(s.changes),oQ(e.effects,s.effects),s.mapped,s.startSelection,Cl)):a=y5(a,a.length,i.minDepth,e),new ou(a,Cl,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Cl;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&h5e(o[o.length-1],e)?this:new ou(aQ(this.done,e),this.undone,n,r)}addMapping(e){return new ou(JS(this.done,e),JS(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1];if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:jA.of({side:e,rest:m5e(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?Cl:i.slice(0,i.length-1);return o.mapped&&(a=JS(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:jA.of({side:e,rest:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ou.empty=new ou(Cl,Cl);const v5e=[{key:"Mod-z",run:iQ,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:VA,preventDefault:!0},{linux:"Ctrl-Shift-z",run:VA,preventDefault:!0},{key:"Mod-u",run:u5e,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:f5e,preventDefault:!0}];function Eb(t,e){return Ze.create(t.ranges.map(e),t.mainIndex)}function _u(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function _c({state:t,dispatch:e},n){let r=Eb(t.selection,n);return r.eq(t.selection)?!1:(e(_u(t,r)),!0)}function A6(t,e){return Ze.cursor(e?t.to:t.from)}function sQ(t,e){return _c(t,n=>n.empty?t.moveByChar(n,e):A6(n,e))}function ia(t){return t.textDirectionAt(t.state.selection.main.head)==di.LTR}const lQ=t=>sQ(t,!ia(t)),cQ=t=>sQ(t,ia(t));function uQ(t,e){return _c(t,n=>n.empty?t.moveByGroup(n,e):A6(n,e))}const y5e=t=>uQ(t,!ia(t)),k5e=t=>uQ(t,ia(t));function _5e(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function I6(t,e,n){let r=Bi(t).resolveInner(e.head),i=n?Pn.closedBy:Pn.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;_5e(t,c,i)?r=c:l=n?c.to:c.from}let o=r.type.prop(i),a,s;return o&&(a=n?iu(t,r.from,1):iu(t,r.to,-1))&&a.matched?s=n?a.end.to:a.end.from:s=n?r.to:r.from,Ze.cursor(s,n?-1:1)}const w5e=t=>_c(t,e=>I6(t.state,e,!ia(t))),S5e=t=>_c(t,e=>I6(t.state,e,ia(t)));function fQ(t,e){return _c(t,n=>{if(!n.empty)return A6(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const dQ=t=>fQ(t,!1),hQ=t=>fQ(t,!0);function pQ(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(yt.scrollMargins)){let a=o(t);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function mQ(t,e){let n=pQ(t),{state:r}=t,i=Eb(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):A6(a,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l=s.top+n.marginTop,c=s.bottom-n.marginBottom;a&&a.top>l&&a.bottom<c&&(o=yt.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-l}))}return t.dispatch(_u(r,i),{effects:o}),!0}const Aj=t=>mQ(t,!1),BA=t=>mQ(t,!0);function ph(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Ze.cursor(r.from+o))}return i}const x5e=t=>_c(t,e=>ph(t,e,!0)),C5e=t=>_c(t,e=>ph(t,e,!1)),T5e=t=>_c(t,e=>ph(t,e,!ia(t))),A5e=t=>_c(t,e=>ph(t,e,ia(t))),I5e=t=>_c(t,e=>Ze.cursor(t.lineBlockAt(e.head).from,1)),P5e=t=>_c(t,e=>Ze.cursor(t.lineBlockAt(e.head).to,-1));function E5e(t,e,n){let r=!1,i=Eb(t.selection,o=>{let a=iu(t,o.head,-1)||iu(t,o.head,1)||o.head>0&&iu(t,o.head-1,1)||o.head<t.doc.length&&iu(t,o.head+1,-1);if(!a||!a.end)return o;r=!0;let s=a.start.from==o.head?a.end.to:a.end.from;return n?Ze.range(o.anchor,s):Ze.cursor(s)});return r?(e(_u(t,i)),!0):!1}const $5e=({state:t,dispatch:e})=>E5e(t,e,!1);function Fl(t,e){let n=Eb(t.state.selection,r=>{let i=e(r);return Ze.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(_u(t.state,n)),!0)}function gQ(t,e){return Fl(t,n=>t.moveByChar(n,e))}const bQ=t=>gQ(t,!ia(t)),vQ=t=>gQ(t,ia(t));function yQ(t,e){return Fl(t,n=>t.moveByGroup(n,e))}const O5e=t=>yQ(t,!ia(t)),D5e=t=>yQ(t,ia(t)),L5e=t=>Fl(t,e=>I6(t.state,e,!ia(t))),F5e=t=>Fl(t,e=>I6(t.state,e,ia(t)));function kQ(t,e){return Fl(t,n=>t.moveVertically(n,e))}const _Q=t=>kQ(t,!1),wQ=t=>kQ(t,!0);function SQ(t,e){return Fl(t,n=>t.moveVertically(n,e,pQ(t).height))}const Ij=t=>SQ(t,!1),Pj=t=>SQ(t,!0),N5e=t=>Fl(t,e=>ph(t,e,!0)),M5e=t=>Fl(t,e=>ph(t,e,!1)),z5e=t=>Fl(t,e=>ph(t,e,!ia(t))),R5e=t=>Fl(t,e=>ph(t,e,ia(t))),j5e=t=>Fl(t,e=>Ze.cursor(t.lineBlockAt(e.head).from)),V5e=t=>Fl(t,e=>Ze.cursor(t.lineBlockAt(e.head).to)),Ej=({state:t,dispatch:e})=>(e(_u(t,{anchor:0})),!0),$j=({state:t,dispatch:e})=>(e(_u(t,{anchor:t.doc.length})),!0),Oj=({state:t,dispatch:e})=>(e(_u(t,{anchor:t.selection.main.anchor,head:0})),!0),Dj=({state:t,dispatch:e})=>(e(_u(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),B5e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),H5e=({state:t,dispatch:e})=>{let n=E6(t).map(({from:r,to:i})=>Ze.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Ze.create(n),userEvent:"select"})),!0},W5e=({state:t,dispatch:e})=>{let n=Eb(t.selection,r=>{var i;let o=Bi(t).resolveInner(r.head,1);for(;!(o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from||!(!((i=o.parent)===null||i===void 0)&&i.parent));)o=o.parent;return Ze.range(o.to,o.from)});return e(_u(t,n)),!0},U5e=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Ze.create([n.main]):n.main.empty||(r=Ze.create([Ze.cursor(n.main.head)])),r?(e(_u(t,r)),!0):!1};function P6(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:a,to:s}=o;if(a==s){let l=e(a);l<a?(n="delete.backward",l=_3(t,l,!1)):l>a&&(n="delete.forward",l=_3(t,l,!0)),a=Math.min(a,l),s=Math.max(s,l)}else a=_3(t,a,!1),s=_3(t,s,!0);return a==s?{range:o}:{changes:{from:a,to:s},range:Ze.cursor(a)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?yt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _3(t,e,n){if(t instanceof yt)for(let r of t.state.facet(yt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const xQ=(t,e)=>P6(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),o,a;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(o=i.text.slice(0,n-i.from))){if(o[o.length-1]=="	")return n-1;let s=Z4(o,r.tabSize),l=s%g5(r)||g5(r);for(let c=0;c<l&&o[o.length-1-c]==" ";c++)n--;a=n}else a=Yo(i.text,n-i.from,e,e)+i.from,a==n&&i.number!=(e?r.doc.lines:1)&&(a+=e?1:-1);return a}),HA=t=>xQ(t,!1),CQ=t=>xQ(t,!0),TQ=(t,e)=>P6(t,n=>{let r=n,{state:i}=t,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let s=null;;){if(r==(e?o.to:o.from)){r==n&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Yo(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=a(c);if(s!=null&&u!=s)break;(c!=" "||r!=n)&&(s=u),r=l}return r}),AQ=t=>TQ(t,!1),G5e=t=>TQ(t,!0),IQ=t=>P6(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),q5e=t=>P6(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),Y5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:rr.of(["",""])},range:Ze.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},X5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),a=i==o.from?i-1:Yo(o.text,i-o.from,!1)+o.from,s=i==o.to?i+1:Yo(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(a,i))},range:Ze.cursor(s)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function E6(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function PQ(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of E6(t)){if(n?o.to==t.doc.length:o.from==0)continue;let a=t.doc.lineAt(n?o.to+1:o.from-1),s=a.length+1;if(n){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+t.lineBreak});for(let l of o.ranges)i.push(Ze.range(Math.min(t.doc.length,l.anchor+s),Math.min(t.doc.length,l.head+s)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:t.lineBreak+a.text});for(let l of o.ranges)i.push(Ze.range(l.anchor-s,l.head-s))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Ze.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const K5e=({state:t,dispatch:e})=>PQ(t,e,!1),J5e=({state:t,dispatch:e})=>PQ(t,e,!0);function EQ(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of E6(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Z5e=({state:t,dispatch:e})=>EQ(t,e,!1),Q5e=({state:t,dispatch:e})=>EQ(t,e,!0),eke=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(E6(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Eb(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function tke(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Bi(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Pn.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const nke=$Q(!1),rke=$Q(!0);function $Q(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,s=e.doc.lineAt(o),l=!t&&o==a&&tke(e,o);t&&(o=a=(a<=s.to?s:e.doc.lineAt(a)).to);let c=new x6(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=A$(c,o);for(u==null&&(u=/^\s*/.exec(e.doc.lineAt(o).text)[0].length);a<s.to&&/\s/.test(s.text[a-s.from]);)a++;l?{from:o,to:a}=l:o>s.from&&o<s.from+100&&!/\S/.test(s.text.slice(0,o))&&(o=s.from);let f=["",Wy(e,u)];return l&&f.push(Wy(e,c.lineIndent(s.from,-1))),{changes:{from:o,to:a,insert:rr.of(f)},range:Ze.cursor(o+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function L$(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let s=t.doc.lineAt(a);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),a=s.to+1}let o=t.changes(i);return{changes:i,range:Ze.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const ike=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new x6(t,{overrideIndentation:o=>{let a=n[o];return a??-1}}),i=L$(t,(o,a,s)=>{let l=A$(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=Wy(t,l);(c!=u||s.from<o.from+c.length)&&(n[o.from]=l,a.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},OQ=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(L$(t,(n,r)=>{r.push({from:n.from,insert:t.facet(r2)})}),{userEvent:"input.indent"})),!0),DQ=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(L$(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Z4(i,t.tabSize),a=0,s=Wy(t,Math.max(0,o-g5(t)));for(;a<i.length&&a<s.length&&i.charCodeAt(a)==s.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:s.slice(a)})}),{userEvent:"delete.dedent"})),!0),oke=[{key:"Ctrl-b",run:lQ,shift:bQ,preventDefault:!0},{key:"Ctrl-f",run:cQ,shift:vQ},{key:"Ctrl-p",run:dQ,shift:_Q},{key:"Ctrl-n",run:hQ,shift:wQ},{key:"Ctrl-a",run:I5e,shift:j5e},{key:"Ctrl-e",run:P5e,shift:V5e},{key:"Ctrl-d",run:CQ},{key:"Ctrl-h",run:HA},{key:"Ctrl-k",run:IQ},{key:"Ctrl-Alt-h",run:AQ},{key:"Ctrl-o",run:Y5e},{key:"Ctrl-t",run:X5e},{key:"Ctrl-v",run:BA}],ake=[{key:"ArrowLeft",run:lQ,shift:bQ,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:y5e,shift:O5e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:T5e,shift:z5e,preventDefault:!0},{key:"ArrowRight",run:cQ,shift:vQ,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:k5e,shift:D5e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:A5e,shift:R5e,preventDefault:!0},{key:"ArrowUp",run:dQ,shift:_Q,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Ej,shift:Oj},{mac:"Ctrl-ArrowUp",run:Aj,shift:Ij},{key:"ArrowDown",run:hQ,shift:wQ,preventDefault:!0},{mac:"Cmd-ArrowDown",run:$j,shift:Dj},{mac:"Ctrl-ArrowDown",run:BA,shift:Pj},{key:"PageUp",run:Aj,shift:Ij},{key:"PageDown",run:BA,shift:Pj},{key:"Home",run:C5e,shift:M5e,preventDefault:!0},{key:"Mod-Home",run:Ej,shift:Oj},{key:"End",run:x5e,shift:N5e,preventDefault:!0},{key:"Mod-End",run:$j,shift:Dj},{key:"Enter",run:nke},{key:"Mod-a",run:B5e},{key:"Backspace",run:HA,shift:HA},{key:"Delete",run:CQ},{key:"Mod-Backspace",mac:"Alt-Backspace",run:AQ},{key:"Mod-Delete",mac:"Alt-Delete",run:G5e},{mac:"Mod-Backspace",run:q5e},{mac:"Mod-Delete",run:IQ}].concat(oke.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),ske=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:w5e,shift:L5e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:S5e,shift:F5e},{key:"Alt-ArrowUp",run:K5e},{key:"Shift-Alt-ArrowUp",run:Z5e},{key:"Alt-ArrowDown",run:J5e},{key:"Shift-Alt-ArrowDown",run:Q5e},{key:"Escape",run:U5e},{key:"Mod-Enter",run:rke},{key:"Alt-l",mac:"Ctrl-l",run:H5e},{key:"Mod-i",run:W5e,preventDefault:!0},{key:"Mod-[",run:DQ},{key:"Mod-]",run:OQ},{key:"Mod-Alt-\\",run:ike},{key:"Shift-Mod-k",run:eke},{key:"Shift-Mod-\\",run:$5e},{key:"Mod-/",run:e5e},{key:"Alt-A",run:n5e}].concat(ake),lke={key:"Tab",run:OQ,shift:DQ};function zr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)LQ(t,arguments[e]);return t}function LQ(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)LQ(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const Lj=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class ab{constructor(e,n,r=0,i=e.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?s=>o(Lj(s)):Lj,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return So(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=d$(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=_l(e);let i=this.normalize(n);for(let o=0,a=r;;o++){let s=i.charCodeAt(o),l=this.match(s,a);if(l)return this.value=l,this;if(o==i.length-1)break;a==r&&o<n.length&&n.charCodeAt(o)==s&&a++}}}match(e,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(ab.prototype[Symbol.iterator]=function(){return this});const FQ={from:-1,to:-1,match:/.*/.exec("")},F$="gm"+(/x/.unicode==null?"":"u");class NQ{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=FQ,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new MQ(e,n,r,i,o);this.re=new RegExp(n,F$+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=k5(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=k5(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const ZS=new WeakMap;class $0{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=ZS.get(e);if(!i||i.from>=r||i.to<=n){let s=new $0(n,e.sliceString(n,r));return ZS.set(e,s),s}if(i.from==n&&i.to==r)return i;let{text:o,from:a}=i;return a>n&&(o=e.sliceString(n,a)+o,a=n),i.to<r&&(o+=e.sliceString(i.to,r)),ZS.set(e,new $0(a,o)),new $0(n,o.slice(n-a,r-a))}}class MQ{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=FQ,this.matchPos=k5(e,i),this.re=new RegExp(n,F$+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=$0.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=k5(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=$0.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(NQ.prototype[Symbol.iterator]=MQ.prototype[Symbol.iterator]=function(){return this});function cke(t){try{return new RegExp(t,F$),!0}catch{return!1}}function k5(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function WA(t){let e=zr("input",{class:"cm-textfield",name:"line"}),n=zr("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:_5.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},zr("label",t.state.phrase("Go to line"),": ",e)," ",zr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:o}=t,a=o.doc.lineAt(o.selection.main.head),[,s,l,c,u]=i,f=c?+c.slice(1):0,d=l?+l:a.number;if(l&&u){let m=d/100;s&&(m=m*(s=="-"?-1:1)+a.number/o.doc.lines),d=Math.round(o.doc.lines*m)}else l&&s&&(d=d*(s=="-"?-1:1)+a.number);let h=o.doc.line(Math.max(1,Math.min(o.doc.lines,d)));t.dispatch({effects:_5.of(!1),selection:Ze.cursor(h.from+Math.max(0,Math.min(f,h.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}const _5=cn.define(),Fj=Hi.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(_5)&&(t=n.value);return t},provide:t=>By.from(t,e=>e?WA:null)}),uke=t=>{let e=Vy(t,WA);if(!e){let n=[_5.of(!0)];t.state.field(Fj,!1)==null&&n.push(cn.appendConfig.of([Fj,fke])),t.dispatch({effects:n}),e=Vy(t,WA)}return e&&e.dom.querySelector("input").focus(),!0},fke=yt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),dke={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},zQ=_t.define({combine(t){return kc(t,dke,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function hke(t){let e=[vke,bke];return t&&e.push(zQ.of(t)),e}const pke=Wt.mark({class:"cm-selectionMatch"}),mke=Wt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Nj(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=oi.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=oi.Word)}function gke(t,e,n,r){return t(e.sliceDoc(n,n+1))==oi.Word&&t(e.sliceDoc(r-1,r))==oi.Word}const bke=Mi.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(zQ),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Wt.none;let i=r.main,o,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return Wt.none;let l=n.wordAt(i.head);if(!l)return Wt.none;a=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Wt.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(Nj(a,n,i.from,i.to)&&gke(a,n,i.from,i.to)))return Wt.none}else if(o=n.sliceDoc(i.from,i.to).trim(),!o)return Wt.none}let s=[];for(let l of t.visibleRanges){let c=new ab(n.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!a||Nj(a,n,u,f))&&(i.empty&&u<=i.from&&f>=i.to?s.push(mke.range(u,f)):(u>=i.to||f<=i.from)&&s.push(pke.range(u,f)),s.length>e.maxMatches))return Wt.none}}return Wt.set(s)}},{decorations:t=>t.decorations}),vke=yt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),yke=({state:t,dispatch:e})=>{let{selection:n}=t,r=Ze.create(n.ranges.map(i=>t.wordAt(i.head)||Ze.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function kke(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let a=!1,s=new ab(t.doc,e,r[r.length-1].to);;)if(s.next(),s.done){if(a)return null;s=new ab(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(l=>l.from==s.value.from))continue;if(o){let l=t.wordAt(s.value.from);if(!l||l.from!=s.value.from||l.to!=s.value.to)continue}return s.value}}const _ke=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return yke({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=kke(t,r);return i?(e(t.update({selection:t.selection.addRange(Ze.range(i.from,i.to),!1),effects:yt.scrollIntoView(i.to)})),!0):!1},$b=_t.define({combine(t){return kc(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new Dke(e),scrollToMatch:e=>yt.scrollIntoView(e)})}});class RQ{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||cke(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Cke(this):new Ske(this)}getCursor(e,n=0,r){let i=e.doc?e:An.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?qg(this,i,n,r):Gg(this,i,n,r)}}class jQ{constructor(e){this.spec=e}}function Gg(t,e,n,r){return new ab(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?wke(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function wke(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(w5(i,n-o))!=oi.Word||e(S5(i,n-o))!=oi.Word)&&(e(S5(i,r-o))!=oi.Word||e(w5(i,r-o))!=oi.Word))}class Ske extends jQ{constructor(e){super(e)}nextMatch(e,n,r){let i=Gg(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Gg(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),a=Gg(this.spec,e,o,i),s=null;for(;!a.nextOverlapping().done;)s=a.value;if(s)return s;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Gg(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Gg(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function qg(t,e,n,r){return new NQ(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?xke(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function w5(t,e){return t.slice(Yo(t,e,!1),e)}function S5(t,e){return t.slice(e,Yo(t,e))}function xke(t){return(e,n,r)=>!r[0].length||(t(w5(r.input,r.index))!=oi.Word||t(S5(r.input,r.index))!=oi.Word)&&(t(S5(r.input,r.index+r[0].length))!=oi.Word||t(w5(r.input,r.index+r[0].length))!=oi.Word)}class Cke extends jQ{nextMatch(e,n,r){let i=qg(this.spec,e,r,e.doc.length).next();return i.done&&(i=qg(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),a=qg(this.spec,e,o,r),s=null;for(;!a.next().done;)s=a.value;if(s&&(o==n||s.from>o+10))return s;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n))}matchAll(e,n){let r=qg(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=qg(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const Uy=cn.define(),N$=cn.define(),Od=Hi.define({create(t){return new QS(UA(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Uy)?t=new QS(n.value.create(),t.panel):n.is(N$)&&(t=new QS(t.query,n.value?M$:null));return t},provide:t=>By.from(t,e=>e.panel)});class QS{constructor(e,n){this.query=e,this.panel=n}}const Tke=Wt.mark({class:"cm-searchMatch"}),Ake=Wt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Ike=Mi.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Od))}update(t){let e=t.state.field(Od);(e!=t.startState.field(Od)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Wt.none;let{view:n}=this,r=new Qd;for(let i=0,o=n.visibleRanges,a=o.length;i<a;i++){let{from:s,to:l}=o[i];for(;i<a-1&&l>o[i+1].from-2*250;)l=o[++i].to;t.highlight(n.state,s,l,(c,u)=>{let f=n.state.selection.ranges.some(d=>d.from==c&&d.to==u);r.add(c,u,f?Ake:Tke)})}return r.finish()}},{decorations:t=>t.decorations});function a2(t){return e=>{let n=e.state.field(Od,!1);return n&&n.query.spec.valid?t(e,n):HQ(e)}}const x5=a2((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Ze.single(r.from,r.to),o=t.state.facet($b);return t.dispatch({selection:i,effects:[z$(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),BQ(t),!0}),C5=a2((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=Ze.single(i.from,i.to),a=t.state.facet($b);return t.dispatch({selection:o,effects:[z$(t,i),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),BQ(t),!0}),Pke=a2((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Ze.create(n.map(r=>Ze.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Eke=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],a=0;for(let s=new ab(t.doc,t.sliceDoc(r,i));!s.next().done;){if(o.length>1e3)return!1;s.value.from==r&&(a=o.length),o.push(Ze.range(s.value.from,s.value.to))}return e(t.update({selection:Ze.create(o,a),userEvent:"select.search.matches"})),!0},Mj=a2((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let a=[],s,l,c=[];if(o.from==r&&o.to==i&&(l=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(n,o.from,o.to),c.push(yt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let u=a.length==0||a[0].from>=o.to?0:o.to-o.from-l.length;s=Ze.single(o.from-u,o.to-u),c.push(z$(t,o)),c.push(n.facet($b).scrollToMatch(s.main,t))}return t.dispatch({changes:a,selection:s,effects:c,userEvent:"input.replace"}),!0}),$ke=a2((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:a}=i;return{from:o,to:a,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:yt.announce.of(r),userEvent:"input.replace.all"}),!0});function M$(t){return t.state.facet($b).createPanel(t)}function UA(t,e){var n,r,i,o;let a=t.selection.main,s=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!s)return e;let l=t.facet($b);return new RQ({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal)?s:s.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(o=e==null?void 0:e.wholeWord)!==null&&o!==void 0?o:l.wholeWord})}function VQ(t){let e=Vy(t,M$);return e&&e.dom.querySelector("[main-field]")}function BQ(t){let e=VQ(t);e&&e==t.root.activeElement&&e.select()}const HQ=t=>{let e=t.state.field(Od,!1);if(e&&e.panel){let n=VQ(t);if(n&&n!=t.root.activeElement){let r=UA(t.state,e.query.spec);r.valid&&t.dispatch({effects:Uy.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[N$.of(!0),e?Uy.of(UA(t.state,e.query.spec)):cn.appendConfig.of(Fke)]});return!0},WQ=t=>{let e=t.state.field(Od,!1);if(!e||!e.panel)return!1;let n=Vy(t,M$);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:N$.of(!1)}),!0},Oke=[{key:"Mod-f",run:HQ,scope:"editor search-panel"},{key:"F3",run:x5,shift:C5,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:x5,shift:C5,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:WQ,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Eke},{key:"Alt-g",run:uke},{key:"Mod-d",run:_ke,preventDefault:!0}];class Dke{constructor(e){this.view=e;let n=this.query=e.state.field(Od).query.spec;this.commit=this.commit.bind(this),this.searchField=zr("input",{value:n.search,placeholder:As(e,"Find"),"aria-label":As(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=zr("input",{value:n.replace,placeholder:As(e,"Replace"),"aria-label":As(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=zr("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=zr("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=zr("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,a){return zr("button",{class:"cm-button",name:i,onclick:o,type:"button"},a)}this.dom=zr("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>x5(e),[As(e,"next")]),r("prev",()=>C5(e),[As(e,"previous")]),r("select",()=>Pke(e),[As(e,"all")]),zr("label",null,[this.caseField,As(e,"match case")]),zr("label",null,[this.reField,As(e,"regexp")]),zr("label",null,[this.wordField,As(e,"by word")]),...e.state.readOnly?[]:[zr("br"),this.replaceField,r("replace",()=>Mj(e),[As(e,"replace")]),r("replaceAll",()=>$ke(e),[As(e,"replace all")])],zr("button",{name:"close",onclick:()=>WQ(e),"aria-label":As(e,"close"),type:"button"},["×"])])}commit(){let e=new RQ({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Uy.of(e)}))}keydown(e){e9e(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?C5:x5)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Mj(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Uy)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet($b).top}}function As(t,e){return t.state.phrase(e)}const w3=30,S3=/[\s\.,:;?!]/;function z$(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-w3),a=Math.min(i,n+w3),s=t.state.sliceDoc(o,a);if(o!=r.from){for(let l=0;l<w3;l++)if(!S3.test(s[l+1])&&S3.test(s[l])){s=s.slice(l);break}}if(a!=i){for(let l=s.length-1;l>s.length-w3;l--)if(!S3.test(s[l-1])&&S3.test(s[l])){s=s.slice(0,l);break}}return yt.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${r.number}.`)}const Lke=yt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Fke=[Od,Bm.lowest(Ike),Lke];class UQ{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=Bi(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(GQ(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function zj(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Nke(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=zj(e)+zj(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Mke(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Nke(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}class Rj{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Dd(t){return t.selection.main.from}function GQ(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const qQ=$f.define();function zke(t,e,n,r){let{main:i}=t.selection,o=n-i.from,a=r-i.from;return Object.assign(Object.assign({},t.changeByRange(s=>s!=i&&n!=r&&t.sliceDoc(s.from+o,s.from+a)!=t.sliceDoc(n,r)?{range:s}:{changes:{from:s.from+o,to:r==i.from?s.to:s.from+a,insert:e},range:Ze.cursor(s.from+o+e.length)})),{userEvent:"input.complete"})}const jj=new WeakMap;function Rke(t){if(!Array.isArray(t))return t;let e=jj.get(t);return e||jj.set(t,e=Mke(t)),e}const R$=cn.define(),Gy=cn.define();class jke{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let r=So(e,n),i=_l(r);this.chars.push(r);let o=e.slice(n,n+i),a=o.toUpperCase();this.folded.push(So(a==o?o.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:a}=this;if(n.length==1){let _=So(e,0),x=_l(_),C=x==e.length?0:-100;if(_!=n[0])if(_==r[0])C+=-200;else return null;return[C,0,x]}let s=e.indexOf(this.pattern);if(s==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=n.length,c=0;if(s<0){for(let _=0,x=Math.min(e.length,200);_<x&&c<l;){let C=So(e,_);(C==n[c]||C==r[c])&&(i[c++]=_),_+=_l(C)}if(c<l)return null}let u=0,f=0,d=!1,h=0,m=-1,v=-1,k=/[a-z]/.test(e),b=!0;for(let _=0,x=Math.min(e.length,200),C=0;_<x&&f<l;){let S=So(e,_);s<0&&(u<l&&S==n[u]&&(o[u++]=_),h<l&&(S==n[h]||S==r[h]?(h==0&&(m=_),v=_+1,h++):h=0));let g,T=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(g=d$(S))!=g.toLowerCase()?1:g!=g.toUpperCase()?2:0;(!_||T==1&&k||C==0&&T!=0)&&(n[f]==S||r[f]==S&&(d=!0)?a[f++]=_:a.length&&(b=!1)),C=T,_+=_l(S)}return f==l&&a[0]==0&&b?this.result(-100+(d?-200:0),a,e):h==l&&m==0?[-200-e.length+(v==e.length?0:-100),0,v]:s>-1?[-700-e.length,s,s+this.pattern.length]:h==l?[-200+-700-e.length,m,v]:f==l?this.result(-100+(d?-200:0)+-700+(b?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[e-r.length],o=1;for(let a of n){let s=a+(this.astral?_l(So(r,a)):1);o>1&&i[o-1]==a?i[o-1]=s:(i[o++]=a,i[o++]=s)}return i}}const os=_t.define({combine(t){return kc(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Vke,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>Vj(e(r),n(r)),optionClass:(e,n)=>r=>Vj(e(r),n(r)),addToOptions:(e,n)=>e.concat(n)})}});function Vj(t,e){return t?e?t+" "+e:t:e}function Vke(t,e,n,r,i){let o=t.textDirection==di.RTL,a=o,s=!1,l="top",c,u,f=e.left-i.left,d=i.right-e.right,h=r.right-r.left,m=r.bottom-r.top;if(a&&f<Math.min(h,d)?a=!1:!a&&d<Math.min(h,f)&&(a=!0),h<=(a?f:d))c=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,u=Math.min(400,a?f:d);else{s=!0,u=Math.min(400,(o?e.right:i.right-e.left)-30);let v=i.bottom-e.bottom;v>=m||v>e.top?c=n.bottom-e.top:(l="bottom",c=e.bottom-n.top)}return{style:`${l}: ${c}px; max-width: ${u}px`,class:"cm-completionInfo-"+(s?o?"left-narrow":"right-narrow":a?"left":"right")}}function x3(t,e="option"){return n=>{let r=n.state.field(Ds,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(os).interactionDelay)return!1;let i=1,o;e=="page"&&(o=EZ(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:KQ.of(s)}),!0}}const Bke=t=>{let e=t.state.field(Ds,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(os).interactionDelay?!1:e.open.disabled?!0:YQ(t,e.open.options[e.open.selected])},Hke=t=>t.state.field(Ds,!1)?(t.dispatch({effects:R$.of(!0)}),!0):!1,Wke=t=>{let e=t.state.field(Ds,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Gy.of(null)}),!0)};class Uke{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const Bj=50,Gke=50,qke=1e3,Yke=Mi.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Ds).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Ds);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Ds)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!GA(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(n||i.updates.length+t.transactions.length>Gke&&Date.now()-i.time>qke){for(let o of i.context.abortListeners)try{o()}catch(a){js(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),Bj):-1,this.composing!=0)for(let r of t.transactions)GA(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Ds);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Dd(e),r=new UQ(e,n,t.explicitPos==n),i=new Uke(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Gy.of(null)}),js(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),Bj))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(os);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let a=new O0(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Dd(i.updates.length?i.updates[0].startState:this.view.state));for(let s of i.updates)a=a.update(s,n);if(a.hasResult()){e.push(a);continue}}let o=this.view.state.field(Ds).active.find(a=>a.source==i.active.source);if(o&&o.state==1)if(i.done==null){let a=new Ja(i.active.source,0);for(let s of i.updates)a=a.update(s,n);a.state!=1&&e.push(a)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:XQ.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Ds,!1);if(e&&e.tooltip&&this.view.state.facet(os).closeOnBlur){let n=e.open&&EZ(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:Gy.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:R$.of(!1)}),20),this.composing=0}}});function YQ(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Ds).active.find(i=>i.source==e.source);return r instanceof O0?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},zke(t.state,n,r.from,r.to)),{annotations:qQ.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}function Xke(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i){let o=document.createElement("span");o.className="cm-completionLabel";let{label:a}=n,s=0;for(let l=1;l<i.length;){let c=i[l++],u=i[l++];c>s&&o.appendChild(document.createTextNode(a.slice(s,c)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(c,u))),f.className="cm-completionMatchedText",s=u}return s<a.length&&o.appendChild(document.createTextNode(a.slice(s))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Hj(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Kke{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:s=>this.placeInfo(s),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:i,selected:o}=r.open,a=e.state.facet(os);this.optionContent=Xke(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=Hj(i.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",s=>{for(let l=s.target,c;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(c=/-(\d+)$/.exec(l.id))&&+c[1]<i.length){YQ(e,i[+c[1]]),s.preventDefault();return}}),this.dom.addEventListener("focusout",s=>{let l=e.state.field(this.stateField,!1);l&&l.tooltip&&e.state.facet(os).closeOnBlur&&s.relatedTarget!=e.contentDOM&&e.dispatch({effects:Gy.of(null)})}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var n,r,i;let o=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),o!=a&&(this.updateSel(),((n=o.open)===null||n===void 0?void 0:n.disabled)!=((r=a.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=o.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Hj(n.options.length,n.selected,this.view.state.facet(os).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a)}).catch(a=>js(this.view.state,a,"completion info")):this.addInfoPane(o)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Zke(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(os).positionInfo(this.view,n,i,r,o)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let a=r.from;a<r.to;a++){let{completion:s,match:l}=e[a],{section:c}=s;if(c){let d=typeof c=="string"?c:c.name;if(d!=o&&(a>r.from||r.from==0))if(o=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+a,u.setAttribute("role","option");let f=this.optionClass(s);f&&(u.className=f);for(let d of this.optionContent){let h=d(s,this.view.state,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function Jke(t){return e=>new Kke(e,t)}function Zke(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}function Wj(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Qke(t,e){let n=[],r=null,i=l=>{n.push(l);let{section:c}=l.completion;if(c){r||(r=[]);let u=typeof c=="string"?c:c.name;r.some(f=>f.name==u)||r.push(typeof c=="string"?{name:u}:c)}};for(let l of t)if(l.hasResult())if(l.result.filter===!1){let c=l.result.getMatch;for(let u of l.result.options){let f=[1e9-n.length];if(c)for(let d of c(u))f.push(d);i(new Rj(u,l.source,f,f[0]))}}else{let c=new jke(e.sliceDoc(l.from,l.to)),u;for(let f of l.result.options)(u=c.match(f.label))&&i(new Rj(f,l.source,u,u[0]+(f.boost||0)))}if(r){let l=Object.create(null),c=0,u=(f,d)=>{var h,m;return((h=f.rank)!==null&&h!==void 0?h:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(u))c-=1e5,l[f.name]=c;for(let f of n){let{section:d}=f.completion;d&&(f.score+=l[typeof d=="string"?d:d.name])}}let o=[],a=null,s=e.facet(os).compareCompletions;for(let l of n.sort((c,u)=>u.score-c.score||s(c.completion,u.completion)))!a||a.label!=l.completion.label||a.detail!=l.completion.detail||a.type!=null&&l.completion.type!=null&&a.type!=l.completion.type||a.apply!=l.completion.apply?o.push(l):Wj(l.completion)>Wj(a)&&(o[o.length-1]=l),a=l.completion;return o}class c0{constructor(e,n,r,i,o,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new c0(this.options,Uj(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o){let a=Qke(e,n);if(!a.length)return i&&e.some(l=>l.state==1)?new c0(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let s=n.facet(os).selectOnOpen?0:-1;if(i&&i.selected!=s&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<a.length;c++)if(a[c].completion==l){s=c;break}}return new c0(a,Uj(r,s),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:Jke(Ds),above:o.aboveCursor},i?i.timestamp:Date.now(),s,!1)}map(e){return new c0(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class T5{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new T5(n6e,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(os),o=(r.override||n.languageDataAt("autocomplete",Dd(n)).map(Rke)).map(s=>(this.active.find(c=>c.source==s)||new Ja(s,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((s,l)=>s==this.active[l])&&(o=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(s=>s.hasResult()&&e.changes.touchesRange(s.from,s.to))||!e6e(o,this.active)?a=c0.build(o,n,this.id,a,r):a&&a.disabled&&!o.some(s=>s.state==1)&&(a=null),!a&&o.every(s=>s.state!=1)&&o.some(s=>s.hasResult())&&(o=o.map(s=>s.hasResult()?new Ja(s.source,0):s));for(let s of e.effects)s.is(KQ)&&(a=a&&a.setSelected(s.value,this.id));return o==this.active&&a==this.open?this:new T5(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:t6e}}function e6e(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const t6e={"aria-autocomplete":"list"};function Uj(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const n6e=[];function GA(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Ja{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=GA(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new Ja(i.source,0));for(let o of e.effects)if(o.is(R$))i=new Ja(i.source,1,o.value?Dd(e.state):-1);else if(o.is(Gy))i=new Ja(i.source,0);else if(o.is(XQ))for(let a of o.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new Ja(this.source,1)}handleChange(e){return e.changes.touchesRange(Dd(e.startState))?new Ja(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Ja(this.source,this.state,e.mapPos(this.explicitPos))}}class O0 extends Ja{constructor(e,n,r,i,o){super(e,2,n),this.result=r,this.from=i,this.to=o}hasResult(){return!0}handleUserEvent(e,n,r){var i;let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=Dd(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>a||n=="delete"&&Dd(e.startState)==this.from)return new Ja(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),c;return r6e(this.result.validFor,e.state,o,a)?new O0(this.source,l,this.result,o,a):this.result.update&&(c=this.result.update(this.result,o,a,new UQ(e.state,s,l>=0)))?new O0(this.source,l,c,c.from,(i=c.to)!==null&&i!==void 0?i:Dd(e.state)):new Ja(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Ja(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new O0(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function r6e(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):GQ(t,!0).test(i)}const XQ=cn.define({map(t,e){return t.map(n=>n.map(e))}}),KQ=cn.define(),Ds=Hi.define({create(){return T5.start()},update(t,e){return t.update(e)},provide:t=>[w6.from(t,e=>e.tooltip),yt.contentAttributes.from(t,e=>e.attrs)]}),JQ=yt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class i6e{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class j${constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,To.TrackDel),r=e.mapPos(this.to,1,To.TrackDel);return n==null||r==null?null:new j$(this.field,n,r)}}class V${constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),a=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let c=a,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=e.facet(r2);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let s=this.fieldPositions.map(l=>new j$(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:s}}static parse(e){let n=[],r=[],i=[],o;for(let a of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(a);){let s=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1;for(let u=0;u<n.length;u++)(s!=null?n[u].seq==s:l&&n[u].name==l)&&(c=u);if(c<0){let u=0;for(;u<n.length&&(s==null||n[u].seq!=null&&n[u].seq<s);)u++;n.splice(u,0,{seq:s,name:l}),c=u;for(let f of i)f.field>=c&&f.field++}i.push(new i6e(c,r.length,o.index,o.index+l.length)),a=a.slice(0,o.index)+l+a.slice(o.index+o[0].length)}for(let s;s=/\\([{}])/.exec(a);){a=a.slice(0,s.index)+s[1]+a.slice(s.index+s[0].length);for(let l of i)l.line==r.length&&l.from>s.index&&(l.from--,l.to--)}r.push(a)}return new V$(r,i)}}let o6e=Wt.widget({widget:new class extends Of{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),a6e=Wt.mark({class:"cm-snippetField"});class Ob{constructor(e,n){this.ranges=e,this.active=n,this.deco=Wt.set(e.map(r=>(r.from==r.to?o6e:a6e).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Ob(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const s2=cn.define({map(t,e){return t&&t.map(e)}}),s6e=cn.define(),qy=Hi.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(s2))return n.value;if(n.is(s6e)&&t)return new Ob(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>yt.decorations.from(t,e=>e?e.deco:Wt.none)});function B$(t,e){return Ze.create(t.filter(n=>n.field==e).map(n=>Ze.range(n.from,n.to)))}function l6e(t){let e=V$.parse(t);return(n,r,i,o)=>{let{text:a,ranges:s}=e.instantiate(n.state,i),l={changes:{from:i,to:o,insert:rr.of(a)},scrollIntoView:!0,annotations:r?qQ.of(r):void 0};if(s.length&&(l.selection=B$(s,0)),s.length>1){let c=new Ob(s,0),u=l.effects=[s2.of(c)];n.state.field(qy,!1)===void 0&&u.push(cn.appendConfig.of([qy,h6e,m6e,JQ]))}n.dispatch(n.state.update(l))}}function ZQ(t){return({state:e,dispatch:n})=>{let r=e.field(qy,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(a=>a.field==i+t);return n(e.update({selection:B$(r.ranges,i),effects:s2.of(o?null:new Ob(r.ranges,i))})),!0}}const c6e=({state:t,dispatch:e})=>t.field(qy,!1)?(e(t.update({effects:s2.of(null)})),!0):!1,u6e=ZQ(1),f6e=ZQ(-1),d6e=[{key:"Tab",run:u6e,shift:f6e},{key:"Escape",run:c6e}],Gj=_t.define({combine(t){return t.length?t[0]:d6e}}),h6e=Bm.highest(t2.compute([Gj],t=>t.facet(Gj)));function p6e(t,e){return Object.assign(Object.assign({},e),{apply:l6e(t)})}const m6e=yt.domEventHandlers({mousedown(t,e){let n=e.state.field(qy,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:B$(n.ranges,i.field),effects:s2.of(n.ranges.some(o=>o.field>i.field)?new Ob(n.ranges,i.field):null)}),!0)}}),Yy={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Up=cn.define({map(t,e){let n=e.mapPos(t,-1,To.TrackAfter);return n??void 0}}),H$=new class extends _m{};H$.startSide=1;H$.endSide=-1;const QQ=Hi.define({create(){return ar.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=ar.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Up)&&(t=t.update({add:[H$.range(n.value,n.value+1)]}));return t}});function W$(){return[b6e,QQ]}const ex="()[]{}<>";function eee(t){for(let e=0;e<ex.length;e+=2)if(ex.charCodeAt(e)==t)return ex.charAt(e+1);return d$(t<128?t:t+1)}function tee(t,e){return t.languageDataAt("closeBrackets",e)[0]||Yy}const g6e=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),b6e=yt.inputHandler.of((t,e,n,r)=>{if((g6e?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&_l(So(r,0))==1||e!=i.from||n!=i.to)return!1;let o=k6e(t.state,r);return o?(t.dispatch(o),!0):!1}),v6e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=tee(t,t.selection.main.head).brackets||Yy.brackets,i=null,o=t.changeByRange(a=>{if(a.empty){let s=_6e(t.doc,a.head);for(let l of r)if(l==s&&$6(t.doc,a.head)==eee(So(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:Ze.cursor(a.head-l.length)}}return{range:i=a}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},y6e=[{key:"Backspace",run:v6e}];function k6e(t,e){let n=tee(t,t.selection.main.head),r=n.brackets||Yy.brackets;for(let i of r){let o=eee(So(i,0));if(e==i)return o==i?x6e(t,i,r.indexOf(i+i+i)>-1,n):w6e(t,i,o,n.before||Yy.before);if(e==o&&nee(t,t.selection.main.from))return S6e(t,i,o)}return null}function nee(t,e){let n=!1;return t.field(QQ).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function $6(t,e){let n=t.sliceString(e,e+2);return n.slice(0,_l(So(n,0)))}function _6e(t,e){let n=t.sliceString(e-2,e);return _l(So(n,0))==n.length?n:n.slice(1)}function w6e(t,e,n,r){let i=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:Up.of(a.to+e.length),range:Ze.range(a.anchor+e.length,a.head+e.length)};let s=$6(t.doc,a.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:a.head},effects:Up.of(a.head+e.length),range:Ze.cursor(a.head+e.length)}:{range:i=a}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function S6e(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&$6(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Ze.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function x6e(t,e,n,r){let i=r.stringPrefixes||Yy.stringPrefixes,o=null,a=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:Up.of(s.to+e.length),range:Ze.range(s.anchor+e.length,s.head+e.length)};let l=s.head,c=$6(t.doc,l),u;if(c==e){if(qj(t,l))return{changes:{insert:e+e,from:l},effects:Up.of(l+e.length),range:Ze.cursor(l+e.length)};if(nee(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:Ze.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=Yj(t,l-2*e.length,i))>-1&&qj(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Up.of(l+e.length),range:Ze.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=oi.Word&&Yj(t,l,i)>-1&&!C6e(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Up.of(l+e.length),range:Ze.cursor(l+e.length)}}return{range:o=s}});return o?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function qj(t,e){let n=Bi(t).resolveInner(e+1);return n.parent&&n.from==e}function C6e(t,e,n,r){let i=Bi(t).resolveInner(e,-1),o=r.reduce((a,s)=>Math.max(a,s.length),0);for(let a=0;a<5;a++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function Yj(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=oi.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=oi.Word)return o}return-1}function ree(t={}){return[Ds,os.of(t),Yke,T6e,JQ]}const iee=[{key:"Ctrl-Space",run:Hke},{key:"Escape",run:Wke},{key:"ArrowDown",run:x3(!0)},{key:"ArrowUp",run:x3(!1)},{key:"PageDown",run:x3(!0,"page")},{key:"PageUp",run:x3(!1,"page")},{key:"Enter",run:Bke}],T6e=Bm.highest(t2.computeN([os],t=>t.facet(os).defaultKeymap?[iee]:[]));class A6e{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Ep{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,o=r.facet(Gp).markerFilter;o&&(i=o(i));let a=Wt.set(i.map(s=>s.from==s.to||s.from==s.to-1&&r.doc.lineAt(s.from).to==s.from?Wt.widget({widget:new F6e(s),diagnostic:s}).range(s.from):Wt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+s.severity+(s.markClass?" "+s.markClass:"")},diagnostic:s}).range(s.from,s.to)),!0);return new Ep(a,n,sb(a))}}function sb(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:a})=>{if(!(e&&a.diagnostic!=e))return r=new A6e(i,o,a.diagnostic),!1}),r}function oee(t,e){let n=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(r=>r.is(O6))||t.changes.touchesRange(n.from,n.to))}function aee(t,e){return t.field(zs,!1)?e:e.concat(cn.appendConfig.of(hee))}function I6e(t,e){return{effects:aee(t,[O6.of(e)])}}const O6=cn.define(),U$=cn.define(),see=cn.define(),zs=Hi.define({create(){return new Ep(Wt.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=sb(n,t.selected.diagnostic,i)||sb(n,null,i)}t=new Ep(n,t.panel,r)}for(let n of e.effects)n.is(O6)?t=Ep.init(n.value,t.panel,e.state):n.is(U$)?t=new Ep(t.diagnostics,n.value?D6.open:null,t.selected):n.is(see)&&(t=new Ep(t.diagnostics,t.panel,n.value));return t},provide:t=>[By.from(t,e=>e.panel),yt.decorations.from(t,e=>e.diagnostics)]}),P6e=Wt.mark({class:"cm-lintRange cm-lintRange-active"});function E6e(t,e,n){let{diagnostics:r}=t.state.field(zs),i=[],o=2e8,a=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(i.push(u.diagnostic),o=Math.min(l,o),a=Math.max(c,a))});let s=t.state.facet(Gp).tooltipFilter;return s&&(i=s(i)),i.length?{pos:o,end:a,above:t.state.doc.lineAt(o).to<a,create(){return{dom:lee(t,i)}}}:null}function lee(t,e){return zr("ul",{class:"cm-tooltip-lint"},e.map(n=>uee(t,n,!1)))}const $6e=t=>{let e=t.state.field(zs,!1);(!e||!e.panel)&&t.dispatch({effects:aee(t.state,[U$.of(!0)])});let n=Vy(t,D6.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},Xj=t=>{let e=t.state.field(zs,!1);return!e||!e.panel?!1:(t.dispatch({effects:U$.of(!1)}),!0)},O6e=t=>{let e=t.state.field(zs,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},D6e=[{key:"Mod-Shift-m",run:$6e,preventDefault:!0},{key:"F8",run:O6e}],L6e=Mi.fromClass(class{constructor(t){this.view=t,this.timeout=-1,this.set=!0;let{delay:e}=t.state.facet(Gp);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;let{state:e}=this.view,{sources:n}=e.facet(Gp);Promise.all(n.map(r=>Promise.resolve(r(this.view)))).then(r=>{let i=r.reduce((o,a)=>o.concat(a));this.view.state.doc==e.doc&&this.view.dispatch(I6e(this.view.state,i))},r=>{js(this.view.state,r)})}}update(t){let e=t.state.facet(Gp);(t.docChanged||e!=t.startState.facet(Gp)||e.needsRefresh&&e.needsRefresh(t))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),Gp=_t.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},kc(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function Kj(t,e={}){return[Gp.of({source:t,config:e}),L6e,hee]}function cee(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function uee(t,e,n){var r;let i=n?cee(e.actions):[];return zr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},zr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,a)=>{let s=!1,l=d=>{if(d.preventDefault(),s)return;s=!0;let h=sb(t.state.field(zs).diagnostics,e);h&&o.apply(t,h.from,h.to)},{name:c}=o,u=i[a]?c.indexOf(i[a]):-1,f=u<0?c:[c.slice(0,u),zr("u",c.slice(u,u+1)),c.slice(u+1)];return zr("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[a]})"`}.`},f)}),e.source&&zr("div",{class:"cm-diagnosticSource"},e.source))}class F6e extends Of{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return zr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Jj{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=uee(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class D6{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)Xj(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=cee(o.actions);for(let s=0;s<a.length;s++)if(a[s].toUpperCase().charCodeAt(0)==i.keyCode){let l=sb(this.view.state.field(zs).diagnostics,o);l&&o.actions[s].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=zr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=zr("div",{class:"cm-panel-lint"},this.list,zr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Xj(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(zs).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(zs),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(a,s,{spec:l})=>{let c=-1,u;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new Jj(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Jj(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:s})=>{a.top<s.top?this.list.scrollTop-=s.top-a.top:a.bottom>s.bottom&&(this.list.scrollTop+=a.bottom-s.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(zs),r=sb(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:see.of(r)})}static open(e){return new D6(e)}}function s8(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function C3(t){return s8(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const N6e=yt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:C3("#d11")},".cm-lintRange-warning":{backgroundImage:C3("orange")},".cm-lintRange-info":{backgroundImage:C3("#999")},".cm-lintRange-hint":{backgroundImage:C3("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Zj(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}class M6e extends bu{constructor(e){super(),this.diagnostics=e,this.severity=e.reduce((n,r)=>Zj(n)<Zj(r.severity)?r.severity:n,"hint")}toDOM(e){let n=document.createElement("div");n.className="cm-lint-marker cm-lint-marker-"+this.severity;let r=this.diagnostics,i=e.state.facet(L6).tooltipFilter;return i&&(r=i(r)),r.length&&(n.onmouseover=()=>R6e(e,n,r)),n}}function z6e(t,e){let n=r=>{let i=e.getBoundingClientRect();if(!(r.clientX>i.left-10&&r.clientX<i.right+10&&r.clientY>i.top-10&&r.clientY<i.bottom+10)){for(let o=r.target;o;o=o.parentNode)if(o.nodeType==1&&o.classList.contains("cm-tooltip-lint"))return;window.removeEventListener("mousemove",n),t.state.field(dee)&&t.dispatch({effects:G$.of(null)})}};window.addEventListener("mousemove",n)}function R6e(t,e,n){function r(){let a=t.elementAtHeight(e.getBoundingClientRect().top+5-t.documentTop);t.coordsAtPos(a.from)&&t.dispatch({effects:G$.of({pos:a.from,above:!1,create(){return{dom:lee(t,n),getCoords:()=>e.getBoundingClientRect()}}})}),e.onmouseout=e.onmousemove=null,z6e(t,e)}let{hoverTime:i}=t.state.facet(L6),o=setTimeout(r,i);e.onmouseout=()=>{clearTimeout(o),e.onmouseout=e.onmousemove=null},e.onmousemove=()=>{clearTimeout(o),o=setTimeout(r,i)}}function j6e(t,e){let n=Object.create(null);for(let i of e){let o=t.lineAt(i.from);(n[o.from]||(n[o.from]=[])).push(i)}let r=[];for(let i in n)r.push(new M6e(n[i]).range(+i));return ar.of(r,!0)}const V6e=S6({class:"cm-gutter-lint",markers:t=>t.state.field(fee)}),fee=Hi.define({create(){return ar.empty},update(t,e){t=t.map(e.changes);let n=e.state.facet(L6).markerFilter;for(let r of e.effects)if(r.is(O6)){let i=r.value;n&&(i=n(i||[])),t=j6e(e.state.doc,i.slice(0))}return t}}),G$=cn.define(),dee=Hi.define({create(){return null},update(t,e){return t&&e.docChanged&&(t=oee(e,t)?null:Object.assign(Object.assign({},t),{pos:e.changes.mapPos(t.pos)})),e.effects.reduce((n,r)=>r.is(G$)?r.value:n,t)},provide:t=>w6.from(t)}),B6e=yt.baseTheme({".cm-gutter-lint":{width:"1.4em","& .cm-gutterElement":{padding:".2em"}},".cm-lint-marker":{width:"1em",height:"1em"},".cm-lint-marker-info":{content:s8('<path fill="#aaf" stroke="#77e" stroke-width="6" stroke-linejoin="round" d="M5 5L35 5L35 35L5 35Z"/>')},".cm-lint-marker-warning":{content:s8('<path fill="#fe8" stroke="#fd7" stroke-width="6" stroke-linejoin="round" d="M20 6L37 35L3 35Z"/>')},".cm-lint-marker-error":{content:s8('<circle cx="20" cy="20" r="15" fill="#f87" stroke="#f43" stroke-width="6"/>')}}),hee=[zs,yt.decorations.compute([zs],t=>{let{selected:e,panel:n}=t.field(zs);return!e||!n||e.from==e.to?Wt.none:Wt.set([P6e.range(e.from,e.to)])}),PZ(E6e,{hideOn:oee}),N6e],L6=_t.define({combine(t){return kc(t,{hoverTime:300,markerFilter:null,tooltipFilter:null})}});function pee(t={}){return[L6.of(t),fee,V6e,B6e,dee]}const Wm=(()=>[w$(),K9e(),b9e(),D$(),M8e(),a9e(),f9e(),An.allowMultipleSelections.of(!0),x8e(),P$(V8e,{fallback:!0}),E$(),W$(),ree(),$9e(),L9e(),S9e(),hke(),t2.of([...y6e,...ske,...Oke,...v5e,...L8e,...iee,...D6e])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var H6e=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[Wm]}),mee=Symbol("vue-codemirror-global-config"),wa,W6e=function(t){var e=t.onUpdate,n=t.onChange,r=t.onFocus,i=t.onBlur,o=function(a,s){var l={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&s.indexOf(c)<0&&(l[c]=a[c]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var u=0;for(c=Object.getOwnPropertySymbols(a);u<c.length;u++)s.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(a,c[u])&&(l[c[u]]=a[c[u]])}return l}(t,["onUpdate","onChange","onFocus","onBlur"]);return An.create({doc:o.doc,selection:o.selection,extensions:(Array.isArray(o.extensions)?o.extensions:[o.extensions]).concat([yt.updateListener.of(function(a){e(a),a.docChanged&&n(a.state.doc.toString(),a),a.focusChanged&&(a.view.hasFocus?r(a):i(a))})])})},Yg=function(t){var e=new J4;return{compartment:e,run:function(n){e.get(t.state)?t.dispatch({effects:e.reconfigure(n)}):t.dispatch({effects:cn.appendConfig.of(e.of(n))})}}},Qj=function(t,e){var n=Yg(t),r=n.compartment,i=n.run;return function(o){var a=r.get(t.state);i(o??a!==e?e:[])}},T3={type:Boolean,default:void 0},U6e={autofocus:T3,disabled:T3,indentWithTab:T3,tabSize:Number,placeholder:String,style:Object,autoDestroy:T3,phrases:Object,root:Object,extensions:Array,selection:Object},G6e={modelValue:{type:String,default:""}},q6e=Object.assign(Object.assign({},U6e),G6e);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(wa||(wa={}));var $p={};$p[wa.Change]=function(t,e){return!0},$p[wa.Update]=function(t){return!0},$p[wa.Focus]=function(t){return!0},$p[wa.Blur]=function(t){return!0},$p[wa.Ready]=function(t){return!0};var gee={};gee[wa.ModelUpdate]=$p[wa.Change];var Y6e=Object.assign(Object.assign({},$p),gee),l8=zt({name:"VueCodemirror",props:Object.assign({},q6e),emits:Object.assign({},Y6e),setup:function(t,e){var n=ru(),r=ru(),i=ru(),o=Object.assign(Object.assign({},H6e),Ni(mee,{})),a=Dn(function(){var s={};return Object.keys(Fn(t)).forEach(function(l){var c;l!=="modelValue"&&(s[l]=(c=t[l])!==null&&c!==void 0?c:o[l])}),s});return Vm(function(){var s;r.value=W6e({doc:t.modelValue,selection:a.value.selection,extensions:(s=o.extensions)!==null&&s!==void 0?s:[],onFocus:function(c){return e.emit(wa.Focus,c)},onBlur:function(c){return e.emit(wa.Blur,c)},onUpdate:function(c){return e.emit(wa.Update,c)},onChange:function(c,u){c!==t.modelValue&&(e.emit(wa.Change,c,u),e.emit(wa.ModelUpdate,c,u))}}),i.value=function(c){return new yt(Object.assign({},c))}({state:r.value,parent:n.value,root:a.value.root});var l=function(c){var u=function(){return c.state.doc.toString()},f=Yg(c).run,d=Qj(c,[yt.editable.of(!1),An.readOnly.of(!0)]),h=Qj(c,t2.of([lke])),m=Yg(c).run,v=Yg(c).run,k=Yg(c).run,b=Yg(c).run;return{focus:function(){return c.focus()},getDoc:u,setDoc:function(_){_!==u()&&c.dispatch({changes:{from:0,to:c.state.doc.length,insert:_}})},reExtensions:f,toggleDisabled:d,toggleIndentWithTab:h,setTabSize:function(_){m([An.tabSize.of(_),r2.of(" ".repeat(_))])},setPhrases:function(_){v([An.phrases.of(_)])},setPlaceholder:function(_){k(A9e(_))},setStyle:function(_){_===void 0&&(_={}),b(yt.theme({"&":Object.assign({},_)}))}}}(i.value);Si(function(){return t.modelValue},function(c){c!==l.getDoc()&&l.setDoc(c)}),Si(function(){return t.extensions},function(c){return l.reExtensions(c||[])},{immediate:!0}),Si(function(){return a.value.disabled},function(c){return l.toggleDisabled(c)},{immediate:!0}),Si(function(){return a.value.indentWithTab},function(c){return l.toggleIndentWithTab(c)},{immediate:!0}),Si(function(){return a.value.tabSize},function(c){return l.setTabSize(c)},{immediate:!0}),Si(function(){return a.value.phrases},function(c){return l.setPhrases(c||{})},{immediate:!0}),Si(function(){return a.value.placeholder},function(c){return l.setPlaceholder(c)},{immediate:!0}),Si(function(){return a.value.style},function(c){return l.setStyle(c)},{immediate:!0}),a.value.autofocus&&l.focus(),e.emit(wa.Ready,{state:r.value,view:i.value,container:n.value})}),Pb(function(){a.value.autoDestroy&&i.value&&function(s){s.destroy()}(i.value)}),function(){return Kd("div",{class:"v-codemirror",style:{display:"contents"},ref:n})}}}),Um=l8,X6e=function(t,e){t.component(l8.name,l8),t.component("Codemirror",l8),function(n,r){n.provide(mee,r)}(t,e)},K6e={Codemirror:Um,install:X6e},J6e={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232H328c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},Z6e=J6e,Q6e={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},e_e=Q6e,t_e={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},n_e={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M234.7 42.7L197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1L248.8 123c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2L277.3 42.7 263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5L234.7 42.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0L529.9 116.5c18.7-18.7 18.7-49.1 0-67.9L495.3 14.1c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96 106.8 39.5C105.1 35 100.8 32 96 32s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"]},r_e={prefix:"fas",iconName:"arrow-pointer",icon:[320,512,["mouse-pointer"],"f245","M0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z"]},i_e=r_e,o_e={prefix:"fas",iconName:"maximize",icon:[512,512,["expand-arrows-alt"],"f31e","M200 32H56C42.7 32 32 42.7 32 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79-79 79L73 295c-6.9-6.9-17.2-8.9-26.2-5.2S32 302.3 32 312V456c0 13.3 10.7 24 24 24H200c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H456c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H312c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S209.7 32 200 32z"]},a_e=o_e,s_e={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},l_e=s_e,c_e={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},u_e={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},f_e={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64h32c35.3 0 64 28.7 64 64v3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74V320c0 17.7 14.3 32 32 32s32-14.3 32-32v-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7V160c0-70.7-57.3-128-128-128H144C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},d_e={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},h_e={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},p_e={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},m_e={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},g_e={prefix:"fas",iconName:"up-right-from-square",icon:[512,512,["external-link-alt"],"f35d","M352 0c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9L370.7 96 201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L416 141.3l41.4 41.4c9.2 9.2 22.9 11.9 34.9 6.9s19.8-16.6 19.8-29.6V32c0-17.7-14.3-32-32-32H352zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z"]},b_e={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},v_e=b_e,y_e={prefix:"fas",iconName:"crosshairs",icon:[512,512,[],"f05b","M256 0c17.7 0 32 14.3 32 32V42.4c93.7 13.9 167.7 88 181.6 181.6H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H469.6c-13.9 93.7-88 167.7-181.6 181.6V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V469.6C130.3 455.7 56.3 381.7 42.4 288H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H42.4C56.3 130.3 130.3 56.3 224 42.4V32c0-17.7 14.3-32 32-32zM107.4 288c12.5 58.3 58.4 104.1 116.6 116.6V384c0-17.7 14.3-32 32-32s32 14.3 32 32v20.6c58.3-12.5 104.1-58.4 116.6-116.6H384c-17.7 0-32-14.3-32-32s14.3-32 32-32h20.6C392.1 165.7 346.3 119.9 288 107.4V128c0 17.7-14.3 32-32 32s-32-14.3-32-32V107.4C165.7 119.9 119.9 165.7 107.4 224H128c17.7 0 32 14.3 32 32s-14.3 32-32 32H107.4zM256 224a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},k_e={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},__e={prefix:"fas",iconName:"file-arrow-down",icon:[384,512,["file-download"],"f56d","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 232V334.1l31-31c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-72 72c-9.4 9.4-24.6 9.4-33.9 0l-72-72c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l31 31V232c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},w_e={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},S_e={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},x_e={prefix:"fas",iconName:"percent",icon:[384,512,[62101,62785,"percentage"],"25","M374.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-320 320c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l320-320zM128 128A64 64 0 1 0 0 128a64 64 0 1 0 128 0zM384 384a64 64 0 1 0 -128 0 64 64 0 1 0 128 0z"]},C_e={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},T_e=C_e,A_e={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},I_e={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},P_e=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let bee;const F6=t=>bee=t,vee=Symbol();function qA(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Qv;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Qv||(Qv={}));function E_e(){const t=FE(!0),e=t.run(()=>Tl({}));let n=[],r=[];const i=bm({install(o){F6(i),i._a=o,o.provide(vee,i),o.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(o){return!this._a&&!P_e?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const yee=()=>{};function eV(t,e,n,r=yee){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&NE()&&NX(i),i}function wg(t,...e){t.slice().forEach(n=>{n(...e)})}function YA(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];qA(i)&&qA(r)&&t.hasOwnProperty(n)&&!fi(r)&&!hf(r)?t[n]=YA(i,r):t[n]=r}return t}const $_e=Symbol();function O_e(t){return!qA(t)||!t.hasOwnProperty($_e)}const{assign:fd}=Object;function D_e(t){return!!(fi(t)&&t.effect)}function L_e(t,e,n,r){const{state:i,actions:o,getters:a}=e,s=n.state.value[t];let l;function c(){s||(n.state.value[t]=i?i():{});const u=WE(n.state.value[t]);return fd(u,o,Object.keys(a||{}).reduce((f,d)=>(f[d]=bm(Dn(()=>{F6(n);const h=n._s.get(t);return a[d].call(h,h)})),f),{}))}return l=kee(t,c,e,n,r,!0),l}function kee(t,e,n={},r,i,o){let a;const s=fd({actions:{}},n),l={deep:!0};let c,u,f=bm([]),d=bm([]),h;const m=r.state.value[t];!o&&!m&&(r.state.value[t]={}),Tl({});let v;function k(T){let P;c=u=!1,typeof T=="function"?(T(r.state.value[t]),P={type:Qv.patchFunction,storeId:t,events:h}):(YA(r.state.value[t],T),P={type:Qv.patchObject,payload:T,storeId:t,events:h});const $=v=Symbol();Ib().then(()=>{v===$&&(c=!0)}),u=!0,wg(f,P,r.state.value[t])}const b=o?function(){const{state:P}=n,$=P?P():{};this.$patch(F=>{fd(F,$)})}:yee;function _(){a.stop(),f=[],d=[],r._s.delete(t)}function x(T,P){return function(){F6(r);const $=Array.from(arguments),F=[],D=[];function z(ie){F.push(ie)}function R(ie){D.push(ie)}wg(d,{args:$,name:T,store:S,after:z,onError:R});let V;try{V=P.apply(this&&this.$id===t?this:S,$)}catch(ie){throw wg(D,ie),ie}return V instanceof Promise?V.then(ie=>(wg(F,ie),ie)).catch(ie=>(wg(D,ie),Promise.reject(ie))):(wg(F,V),V)}}const C={_p:r,$id:t,$onAction:eV.bind(null,d),$patch:k,$reset:b,$subscribe(T,P={}){const $=eV(f,T,P.detached,()=>F()),F=a.run(()=>Si(()=>r.state.value[t],D=>{(P.flush==="sync"?u:c)&&T({storeId:t,type:Qv.direct,events:h},D)},fd({},l,P)));return $},$dispose:_},S=hh(C);r._s.set(t,S);const g=r._e.run(()=>(a=FE(),a.run(()=>e())));for(const T in g){const P=g[T];if(fi(P)&&!D_e(P)||hf(P))o||(m&&O_e(P)&&(fi(P)?P.value=m[T]:YA(P,m[T])),r.state.value[t][T]=P);else if(typeof P=="function"){const $=x(T,P);g[T]=$,s.actions[T]=P}}return fd(S,g),fd(Fn(S),g),Object.defineProperty(S,"$state",{get:()=>r.state.value[t],set:T=>{k(P=>{fd(P,T)})}}),r._p.forEach(T=>{fd(S,a.run(()=>T({store:S,app:r._a,pinia:r,options:s})))}),m&&o&&n.hydrate&&n.hydrate(S.$state,m),c=!0,u=!0,S}function Db(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function a(s,l){const c=yc();return s=s||c&&Ni(vee,null),s&&F6(s),s=bee,s._s.has(r)||(o?kee(r,e,i,s):L_e(r,i,s)),s._s.get(r)}return a.$id=r,a}let F_e="Store";function Mt(...t){return t.reduce((e,n)=>(e[n.$id+F_e]=function(){return n(this.$pinia)},e),{})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var XA=function(t,e){return XA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},XA(t,e)};function xr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");XA(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var N_e=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),M_e=function(){function t(){this.browser=new N_e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),_p=new M_e;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(_p.wxa=!0,_p.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?_p.worker=!0:typeof navigator>"u"?(_p.node=!0,_p.svgSupported=!0):z_e(navigator.userAgent,_p);function z_e(t,e){var n=e.browser,r=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);r&&(n.firefox=!0,n.version=r[1]),i&&(n.ie=!0,n.version=i[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),a&&(n.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported=typeof document<"u";var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}const In=_p;var q$=12,_ee="sans-serif",oh=q$+"px "+_ee,R_e=20,j_e=100,V_e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function B_e(t){var e={};if(typeof JSON>"u")return e;for(var n=0;n<t.length;n++){var r=String.fromCharCode(n+32),i=(t.charCodeAt(n)-R_e)/j_e;e[r]=i}return e}var H_e=B_e(V_e),Lb={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(n,r){if(!t){var i=Lb.createCanvas();t=i&&i.getContext("2d")}if(t)return e!==r&&(e=t.font=r||oh),t.measureText(n);n=n||"",r=r||oh;var o=/(\d+)px/.exec(r),a=o&&+o[1]||q$,s=0;if(r.indexOf("mono")>=0)s=a*n.length;else for(var l=0;l<n.length;l++){var c=H_e[n[l]];s+=c==null?a:c*a}return{width:s}}}(),loadImage:function(t,e,n){var r=new Image;return r.onload=e,r.onerror=n,r.src=t,r}},wee=ah(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),See=ah(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),l2=Object.prototype.toString,N6=Array.prototype,W_e=N6.forEach,U_e=N6.filter,Y$=N6.slice,G_e=N6.map,tV=(function(){}).constructor,A3=tV?tV.prototype:null,X$="__proto__",q_e=2311;function xee(){return q_e++}function K$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function Gn(t){if(t==null||typeof t!="object")return t;var e=t,n=l2.call(t);if(n==="[object Array]"){if(!ey(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=Gn(t[r])}}else if(See[n]){if(!ey(t)){var o=t.constructor;if(o.from)e=o.from(t);else{e=new o(t.length);for(var r=0,i=t.length;r<i;r++)e[r]=t[r]}}}else if(!wee[n]&&!ey(t)&&!A5(t)){e={};for(var a in t)t.hasOwnProperty(a)&&a!==X$&&(e[a]=Gn(t[a]))}return e}function hi(t,e,n){if(!Bt(e)||!Bt(t))return n?Gn(e):t;for(var r in e)if(e.hasOwnProperty(r)&&r!==X$){var i=t[r],o=e[r];Bt(o)&&Bt(i)&&!gt(o)&&!gt(i)&&!A5(o)&&!A5(i)&&!nV(o)&&!nV(i)&&!ey(o)&&!ey(i)?hi(i,o,n):(n||!(r in t))&&(t[r]=Gn(e[r]))}return t}function ot(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==X$&&(t[n]=e[n]);return t}function mi(t,e,n){for(var r=ir(e),i=0;i<r.length;i++){var o=r[i];(n?e[o]!=null:t[o]==null)&&(t[o]=e[o])}return t}function wr(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function Y_e(t,e){var n=t.prototype;function r(){}r.prototype=e.prototype,t.prototype=new r;for(var i in n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);t.prototype.constructor=t,t.superClass=e}function wc(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var o=r[i];o!=="constructor"&&(n?e[o]!=null:t[o]==null)&&(t[o]=e[o])}else mi(t,e,n)}function ds(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function ye(t,e,n){if(t&&e)if(t.forEach&&t.forEach===W_e)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function tn(t,e,n){if(!t)return[];if(!e)return J$(t);if(t.map&&t.map===G_e)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}function ah(t,e,n,r){if(t&&e){for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}}function Za(t,e,n){if(!t)return[];if(!e)return J$(t);if(t.filter&&t.filter===U_e)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}function ir(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function X_e(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return function(){return t.apply(e,n.concat(Y$.call(arguments)))}}var Er=A3&&Qn(A3.bind)?A3.call.bind(A3.bind):X_e;function Rr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(Y$.call(arguments)))}}function gt(t){return Array.isArray?Array.isArray(t):l2.call(t)==="[object Array]"}function Qn(t){return typeof t=="function"}function Et(t){return typeof t=="string"}function KA(t){return l2.call(t)==="[object String]"}function Zr(t){return typeof t=="number"}function Bt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function nV(t){return!!wee[l2.call(t)]}function Bs(t){return!!See[l2.call(t)]}function A5(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function M6(t){return t.colorStops!=null}function K_e(t){return t.image!=null}function J_e(t){return t!==t}function xm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t.length;n<r;n++)if(t[n]!=null)return t[n]}function gn(t,e){return t??e}function D0(t,e,n){return t??e??n}function J$(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Y$.apply(t,e)}function Cee(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function Hs(t,e){if(!t)throw new Error(e)}function au(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var Tee="__ec_primitive__";function JA(t){t[Tee]=!0}function ey(t){return t[Tee]}var Z_e=function(){function t(){this.data={}}return t.prototype.delete=function(e){var n=this.has(e);return n&&delete this.data[e],n},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,n){return this.data[e]=n,this},t.prototype.keys=function(){return ir(this.data)},t.prototype.forEach=function(e){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&e(n[r],r)},t}(),Aee=typeof Map=="function";function Q_e(){return Aee?new Map:new Z_e}var ewe=function(){function t(e){var n=gt(e);this.data=Q_e();var r=this;e instanceof t?e.each(i):e&&ye(e,i);function i(o,a){n?r.set(o,a):r.set(a,o)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,n){return this.data.set(e,n),n},t.prototype.each=function(e,n){this.data.forEach(function(r,i){e.call(n,r,i)})},t.prototype.keys=function(){var e=this.data.keys();return Aee?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function bn(t){return new ewe(t)}function twe(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];for(var i=t.length,r=0;r<e.length;r++)n[r+i]=e[r];return n}function z6(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&ot(n,e),n}function Iee(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function lb(t,e){return t.hasOwnProperty(e)}function Jo(){}var c8=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ZA=function(t,e){return ZA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ZA(t,e)};function Cr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ZA(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Fb(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function nwe(t){return[t[0],t[1]]}function rV(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function rwe(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function iwe(t){return Math.sqrt(owe(t))}function owe(t){return t[0]*t[0]+t[1]*t[1]}function tx(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function awe(t,e){var n=iwe(e);return n===0?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function QA(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var eI=QA;function swe(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var L0=swe;function nx(t,e,n,r){return t[0]=e[0]+r*(n[0]-e[0]),t[1]=e[1]+r*(n[1]-e[1]),t}function fu(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function u0(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function f0(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}var Sg=function(){function t(e,n){this.target=e,this.topTarget=n&&n.topTarget}return t}(),lwe=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var n=e.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Sg(n,e),"dragstart",e.event))},t.prototype._drag=function(e){var n=this._draggingTarget;if(n){var r=e.offsetX,i=e.offsetY,o=r-this._x,a=i-this._y;this._x=r,this._y=i,n.drift(o,a,e),this.handler.dispatchToElement(new Sg(n,e),"drag",e.event);var s=this.handler.findHover(r,i,n).target,l=this._dropTarget;this._dropTarget=s,n!==s&&(l&&s!==l&&this.handler.dispatchToElement(new Sg(l,e),"dragleave",e.event),s&&s!==l&&this.handler.dispatchToElement(new Sg(s,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Sg(n,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Sg(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}();const cwe=lwe;var uwe=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,n,r,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if(typeof n=="function"&&(i=r,r=n,n=null),!r||!e)return this;var a=this._$eventProcessor;n!=null&&a&&a.normalizeQuery&&(n=a.normalizeQuery(n)),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===r)return this;var l={h:r,query:n,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=o[e].length-1,u=o[e][c];return u&&u.callAtLast?o[e].splice(c,0,l):o[e].push(l),this},t.prototype.isSilent=function(e){var n=this._$handlers;return!n||!n[e]||!n[e].length},t.prototype.off=function(e,n){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(n){if(r[e]){for(var i=[],o=0,a=r[e].length;o<a;o++)r[e][o].h!==n&&i.push(r[e][o]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},t.prototype.trigger=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var a=n.length,s=i.length,l=0;l<s;l++){var c=i[l];if(!(o&&o.filter&&c.query!=null&&!o.filter(e,c.query)))switch(a){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,n[0]);break;case 2:c.h.call(c.ctx,n[0],n[1]);break;default:c.h.apply(c.ctx,n);break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],o=this._$eventProcessor;if(i)for(var a=n.length,s=n[a-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(o&&o.filter&&u.query!=null&&!o.filter(e,u.query)))switch(a){case 0:u.h.call(s);break;case 1:u.h.call(s,n[0]);break;case 2:u.h.call(s,n[0],n[1]);break;default:u.h.apply(s,n.slice(1,a-1));break}}return o&&o.afterTrigger&&o.afterTrigger(e),this},t}();const wu=uwe;var fwe=Math.log(2);function tI(t,e,n,r,i,o){var a=r+"-"+i,s=t.length;if(o.hasOwnProperty(a))return o[a];if(e===1){var l=Math.round(Math.log((1<<s)-1&~i)/fwe);return t[n][l]}for(var c=r|1<<n,u=n+1;r&1<<u;)u++;for(var f=0,d=0,h=0;d<s;d++){var m=1<<d;m&i||(f+=(h%2?-1:1)*t[n][d]*tI(t,e-1,u,c,i|m,o),h++)}return o[a]=f,f}function iV(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],r={},i=tI(n,8,0,0,0,r);if(i!==0){for(var o=[],a=0;a<8;a++)for(var s=0;s<8;s++)o[s]==null&&(o[s]=0),o[s]+=((a+s)%2?-1:1)*tI(n,7,a===0?1:0,1<<a,1<<s,r)/i*e[a];return function(l,c,u){var f=c*o[6]+u*o[7]+1;l[0]=(c*o[0]+u*o[1]+o[2])/f,l[1]=(c*o[3]+u*o[4]+o[5])/f}}}var oV="___zrEVENTSAVED",rx=[];function dwe(t,e,n,r,i){return nI(rx,e,r,i,!0)&&nI(t,n,rx[0],rx[1])}function nI(t,e,n,r,i){if(e.getBoundingClientRect&&In.domSupported&&!Pee(e)){var o=e[oV]||(e[oV]={}),a=hwe(e,o),s=pwe(a,o,i);if(s)return s(t,n,r),!0}return!1}function hwe(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=a.style,l=o%2,c=(o>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}function pwe(t,e,n){for(var r=n?"invTrans":"trans",i=e[r],o=e.srcCoords,a=[],s=[],l=!0,c=0;c<4;c++){var u=t[c].getBoundingClientRect(),f=2*c,d=u.left,h=u.top;a.push(d,h),l=l&&o&&d===o[f]&&h===o[f+1],s.push(t[c].offsetLeft,t[c].offsetTop)}return l&&i?i:(e.srcCoords=a,e[r]=n?iV(s,a):iV(a,s))}function Pee(t){return t.nodeName.toUpperCase()==="CANVAS"}var mwe=/([&<>"'])/g,gwe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ls(t){return t==null?"":(t+"").replace(mwe,function(e,n){return gwe[n]})}var bwe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ix=[],vwe=In.browser.firefox&&+In.browser.version.split(".")[0]<39;function rI(t,e,n,r){return n=n||{},r?aV(t,e,n):vwe&&e.layerX!=null&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):e.offsetX!=null?(n.zrX=e.offsetX,n.zrY=e.offsetY):aV(t,e,n),n}function aV(t,e,n){if(In.domSupported&&t.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(Pee(t)){var o=t.getBoundingClientRect();n.zrX=r-o.left,n.zrY=i-o.top;return}else if(nI(ix,t,r,i)){n.zrX=ix[0],n.zrY=ix[1];return}}n.zrX=n.zrY=0}function Z$(t){return t||window.event}function cl(t,e,n){if(e=Z$(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var a=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];a&&rI(t,a,e,n)}else{rI(t,e,e,n);var o=ywe(e);e.zrDelta=o?o/120:-(e.detail||0)/3}var s=e.button;return e.which==null&&s!==void 0&&bwe.test(e.type)&&(e.which=s&1?1:s&2?3:s&4?2:0),e}function ywe(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,r=t.deltaY;if(n==null||r==null)return e;var i=Math.abs(r!==0?r:n),o=r>0?-1:r<0?1:n>0?-1:1;return 3*i*o}function kwe(t,e,n,r){t.addEventListener(e,n,r)}function _we(t,e,n,r){t.removeEventListener(e,n,r)}var Eee=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0},wwe=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,n,r){return this._doTrack(e,n,r),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,n,r){var i=e.touches;if(i){for(var o={points:[],touches:[],target:n,event:e},a=0,s=i.length;a<s;a++){var l=i[a],c=rI(r,l,{});o.points.push([c.zrX,c.zrY]),o.touches.push(l)}this._track.push(o)}},t.prototype._recognize=function(e){for(var n in ox)if(ox.hasOwnProperty(n)){var r=ox[n](this._track,e);if(r)return r}},t}();function sV(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function Swe(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var ox={pinch:function(t,e){var n=t.length;if(n){var r=(t[n-1]||{}).points,i=(t[n-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=sV(r)/sV(i);!isFinite(o)&&(o=1),e.pinchScale=o;var a=Swe(r);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}};function Xy(){return[1,0,0,1,0,0]}function Q$(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function xwe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function F0(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function iI(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function eO(t,e,n){var r=e[0],i=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=r*u+a*c,t[1]=-r*c+a*u,t[2]=i*u+s*c,t[3]=-i*c+u*s,t[4]=u*o+c*l,t[5]=u*l-c*o,t}function Cwe(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}function $ee(t,e){var n=e[0],r=e[2],i=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*r;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-r*l,t[3]=n*l,t[4]=(r*s-a*i)*l,t[5]=(o*i-n*s)*l,t):null}var Twe=function(){function t(e,n){this.x=e||0,this.y=n||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,n){return this.x=e,this.y=n,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,n){this.x+=e.x*n,this.y+=e.y*n},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var n=this.x-e.x,r=this.y-e.y;return Math.sqrt(n*n+r*r)},t.prototype.distanceSquare=function(e){var n=this.x-e.x,r=this.y-e.y;return n*n+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var n=this.x,r=this.y;return this.x=e[0]*n+e[2]*r+e[4],this.y=e[1]*n+e[3]*r+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,n,r){e.x=n,e.y=r},t.copy=function(e,n){e.x=n.x,e.y=n.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,n){return e.x*n.x+e.y*n.y},t.add=function(e,n,r){e.x=n.x+r.x,e.y=n.y+r.y},t.sub=function(e,n,r){e.x=n.x-r.x,e.y=n.y-r.y},t.scale=function(e,n,r){e.x=n.x*r,e.y=n.y*r},t.scaleAndAdd=function(e,n,r,i){e.x=n.x+r.x*i,e.y=n.y+r.y*i},t.lerp=function(e,n,r,i){var o=1-i;e.x=o*n.x+i*r.x,e.y=o*n.y+i*r.y},t}();const ln=Twe;var I3=Math.min,P3=Math.max,Xh=new ln,Kh=new ln,Jh=new ln,Zh=new ln,z1=new ln,R1=new ln,Awe=function(){function t(e,n,r,i){r<0&&(e=e+r,r=-r),i<0&&(n=n+i,i=-i),this.x=e,this.y=n,this.width=r,this.height=i}return t.prototype.union=function(e){var n=I3(e.x,this.x),r=I3(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=P3(e.x+e.width,this.x+this.width)-n:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=P3(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=n,this.y=r},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var n=this,r=e.width/n.width,i=e.height/n.height,o=Xy();return iI(o,o,[-n.x,-n.y]),Cwe(o,o,[r,i]),iI(o,o,[e.x,e.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var r=this,i=r.x,o=r.x+r.width,a=r.y,s=r.y+r.height,l=e.x,c=e.x+e.width,u=e.y,f=e.y+e.height,d=!(o<l||c<i||s<u||f<a);if(n){var h=1/0,m=0,v=Math.abs(o-l),k=Math.abs(c-i),b=Math.abs(s-u),_=Math.abs(f-a),x=Math.min(v,k),C=Math.min(b,_);o<l||c<i?x>m&&(m=x,v<k?ln.set(R1,-v,0):ln.set(R1,k,0)):x<h&&(h=x,v<k?ln.set(z1,v,0):ln.set(z1,-k,0)),s<u||f<a?C>m&&(m=C,b<_?ln.set(R1,0,-b):ln.set(R1,0,_)):x<h&&(h=x,b<_?ln.set(z1,0,b):ln.set(z1,0,-_))}return n&&ln.copy(n,d?z1:R1),d},t.prototype.contain=function(e,n){var r=this;return e>=r.x&&e<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,n){e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height},t.applyTransform=function(e,n,r){if(!r){e!==n&&t.copy(e,n);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],a=r[4],s=r[5];e.x=n.x*i+a,e.y=n.y*o+s,e.width=n.width*i,e.height=n.height*o,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Xh.x=Jh.x=n.x,Xh.y=Zh.y=n.y,Kh.x=Zh.x=n.x+n.width,Kh.y=Jh.y=n.y+n.height,Xh.transform(r),Zh.transform(r),Kh.transform(r),Jh.transform(r),e.x=I3(Xh.x,Kh.x,Jh.x,Zh.x),e.y=I3(Xh.y,Kh.y,Jh.y,Zh.y);var l=P3(Xh.x,Kh.x,Jh.x,Zh.x),c=P3(Xh.y,Kh.y,Jh.y,Zh.y);e.width=l-e.x,e.height=c-e.y},t}();const $r=Awe;var Oee="silent";function Iwe(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Pwe}}function Pwe(){Eee(this.event)}var Ewe=function(t){Cr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(wu),j1=function(){function t(e,n){this.x=e,this.y=n}return t}(),$we=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ax=new $r(0,0,0,0),Dee=function(t){Cr(e,t);function e(n,r,i,o,a){var s=t.call(this)||this;return s._hovered=new j1(0,0),s.storage=n,s.painter=r,s.painterRoot=o,s._pointerSize=a,i=i||new Ewe,s.proxy=null,s.setHandlerProxy(i),s._draggingMgr=new cwe(s),s}return e.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(ye($we,function(r){n.on&&n.on(r,this[r],this)},this),n.handler=this),this.proxy=n},e.prototype.mousemove=function(n){var r=n.zrX,i=n.zrY,o=Lee(this,r,i),a=this._hovered,s=a.target;s&&!s.__zr&&(a=this.findHover(a.x,a.y),s=a.target);var l=this._hovered=o?new j1(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(a,"mouseout",n),this.dispatchToElement(l,"mousemove",n),c&&c!==s&&this.dispatchToElement(l,"mouseover",n)},e.prototype.mouseout=function(n){var r=n.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},e.prototype.resize=function(){this._hovered=new j1(0,0)},e.prototype.dispatch=function(n,r){var i=this[n];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(n){var r=this.proxy;r.setCursor&&r.setCursor(n)},e.prototype.dispatchToElement=function(n,r,i){n=n||{};var o=n.target;if(!(o&&o.silent)){for(var a="on"+r,s=Iwe(r,n,i);o&&(o[a]&&(s.cancelBubble=!!o[a].call(o,s)),o.trigger(r,s),o=o.__hostTarget?o.__hostTarget:o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(r,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[a]=="function"&&l[a].call(l,s),l.trigger&&l.trigger(r,s)}))}},e.prototype.findHover=function(n,r,i){var o=this.storage.getDisplayList(),a=new j1(n,r);if(lV(o,a,n,r,i),this._pointerSize&&!a.target){for(var s=[],l=this._pointerSize,c=l/2,u=new $r(n-c,r-c,l,l),f=o.length-1;f>=0;f--){var d=o[f];d!==i&&!d.ignore&&!d.ignoreCoarsePointer&&(!d.parent||!d.parent.ignoreCoarsePointer)&&(ax.copy(d.getBoundingRect()),d.transform&&ax.applyTransform(d.transform),ax.intersect(u)&&s.push(d))}if(s.length)for(var h=4,m=Math.PI/12,v=Math.PI*2,k=0;k<c;k+=h)for(var b=0;b<v;b+=m){var _=n+k*Math.cos(b),x=r+k*Math.sin(b);if(lV(s,a,_,x,i),a.target)return a}}return a},e.prototype.processGesture=function(n,r){this._gestureMgr||(this._gestureMgr=new wwe);var i=this._gestureMgr;r==="start"&&i.clear();var o=i.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),o){var a=o.type;n.gestureEvent=a;var s=new j1;s.target=o.target,this.dispatchToElement(s,a,o.event)}},e}(wu);ye(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Dee.prototype[t]=function(e){var n=e.zrX,r=e.zrY,i=Lee(this,n,r),o,a;if((t!=="mouseup"||!i)&&(o=this.findHover(n,r),a=o.target),t==="mousedown")this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if(t==="mouseup")this._upEl=a;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||eI(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,t,e)}});function Owe(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r=t,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var a=r.getClipPath();if(a&&!a.contain(e,n))return!1;r.silent&&(i=!0)}var s=r.__hostTarget;r=s||r.parent}return i?Oee:!0}return!1}function lV(t,e,n,r,i){for(var o=t.length-1;o>=0;o--){var a=t[o],s=void 0;if(a!==i&&!a.ignore&&(s=Owe(a,n,r))&&(!e.topTarget&&(e.topTarget=a),s!==Oee)){e.target=a;break}}}function Lee(t,e,n){var r=t.painter;return e<0||e>r.getWidth()||n<0||n>r.getHeight()}const Dwe=Dee;var Fee=32,V1=7;function Lwe(t){for(var e=0;t>=Fee;)e|=t&1,t>>=1;return t+e}function cV(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;Fwe(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function Fwe(t,e,n){for(n--;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}function uV(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o=t[r],a=e,s=r,l;a<s;)l=a+s>>>1,i(o,t[l])<0?s=l:a=l+1;var c=r-a;switch(c){case 3:t[a+3]=t[a+2];case 2:t[a+2]=t[a+1];case 1:t[a+1]=t[a];break;default:for(;c>0;)t[a+c]=t[a+c-1],c--}t[a]=o}}function sx(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])>0){for(s=r-i;l<s&&o(t,e[n+i+l])>0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(t,e[n+i-l])<=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=i-l,l=i-c}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])>0?a=u+1:l=u}return l}function lx(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])<0){for(s=i+1;l<s&&o(t,e[n+i-l])<0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s);var c=a;a=i-l,l=i-c}else{for(s=r-i;l<s&&o(t,e[n+i+l])>=0;)a=l,l=(l<<1)+1,l<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])<0?l=u:a=u+1}return l}function Nwe(t,e){var n=V1,r,i,o=0;t.length;var a=[];r=[],i=[];function s(h,m){r[o]=h,i[o]=m,o+=1}function l(){for(;o>1;){var h=o-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;u(h)}}function c(){for(;o>1;){var h=o-2;h>0&&i[h-1]<i[h+1]&&h--,u(h)}}function u(h){var m=r[h],v=i[h],k=r[h+1],b=i[h+1];i[h]=v+b,h===o-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),o--;var _=lx(t[k],t,m,v,0,e);m+=_,v-=_,v!==0&&(b=sx(t[m+v-1],t,k,b,b-1,e),b!==0&&(v<=b?f(m,v,k,b):d(m,v,k,b)))}function f(h,m,v,k){var b=0;for(b=0;b<m;b++)a[b]=t[h+b];var _=0,x=v,C=h;if(t[C++]=t[x++],--k===0){for(b=0;b<m;b++)t[C+b]=a[_+b];return}if(m===1){for(b=0;b<k;b++)t[C+b]=t[x+b];t[C+k]=a[_];return}for(var S=n,g,T,P;;){g=0,T=0,P=!1;do if(e(t[x],a[_])<0){if(t[C++]=t[x++],T++,g=0,--k===0){P=!0;break}}else if(t[C++]=a[_++],g++,T=0,--m===1){P=!0;break}while((g|T)<S);if(P)break;do{if(g=lx(t[x],a,_,m,0,e),g!==0){for(b=0;b<g;b++)t[C+b]=a[_+b];if(C+=g,_+=g,m-=g,m<=1){P=!0;break}}if(t[C++]=t[x++],--k===0){P=!0;break}if(T=sx(a[_],t,x,k,0,e),T!==0){for(b=0;b<T;b++)t[C+b]=t[x+b];if(C+=T,x+=T,k-=T,k===0){P=!0;break}}if(t[C++]=a[_++],--m===1){P=!0;break}S--}while(g>=V1||T>=V1);if(P)break;S<0&&(S=0),S+=2}if(n=S,n<1&&(n=1),m===1){for(b=0;b<k;b++)t[C+b]=t[x+b];t[C+k]=a[_]}else{if(m===0)throw new Error;for(b=0;b<m;b++)t[C+b]=a[_+b]}}function d(h,m,v,k){var b=0;for(b=0;b<k;b++)a[b]=t[v+b];var _=h+m-1,x=k-1,C=v+k-1,S=0,g=0;if(t[C--]=t[_--],--m===0){for(S=C-(k-1),b=0;b<k;b++)t[S+b]=a[b];return}if(k===1){for(C-=m,_-=m,g=C+1,S=_+1,b=m-1;b>=0;b--)t[g+b]=t[S+b];t[C]=a[x];return}for(var T=n;;){var P=0,$=0,F=!1;do if(e(a[x],t[_])<0){if(t[C--]=t[_--],P++,$=0,--m===0){F=!0;break}}else if(t[C--]=a[x--],$++,P=0,--k===1){F=!0;break}while((P|$)<T);if(F)break;do{if(P=m-lx(a[x],t,h,m,m-1,e),P!==0){for(C-=P,_-=P,m-=P,g=C+1,S=_+1,b=P-1;b>=0;b--)t[g+b]=t[S+b];if(m===0){F=!0;break}}if(t[C--]=a[x--],--k===1){F=!0;break}if($=k-sx(t[_],a,0,k,k-1,e),$!==0){for(C-=$,x-=$,k-=$,g=C+1,S=x+1,b=0;b<$;b++)t[g+b]=a[S+b];if(k<=1){F=!0;break}}if(t[C--]=t[_--],--m===0){F=!0;break}T--}while(P>=V1||$>=V1);if(F)break;T<0&&(T=0),T+=2}if(n=T,n<1&&(n=1),k===1){for(C-=m,_-=m,g=C+1,S=_+1,b=m-1;b>=0;b--)t[g+b]=t[S+b];t[C]=a[x]}else{if(k===0)throw new Error;for(S=C-(k-1),b=0;b<k;b++)t[S+b]=a[b]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:s}}function u8(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<Fee){o=cV(t,n,r,e),uV(t,n,r,n+o,e);return}var a=Nwe(t,e),s=Lwe(i);do{if(o=cV(t,n,r,e),o<s){var l=i;l>s&&(l=s),uV(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(i!==0);a.forceMergeRuns()}}var Ns=1,Av=2,Xg=4,fV=!1;function cx(){fV||(fV=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function dV(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Mwe=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=dV}return t.prototype.traverse=function(e,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,n)},t.prototype.getDisplayList=function(e,n){n=n||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(n),r},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var n=this._roots,r=this._displayList,i=0,o=n.length;i<o;i++)this._updateAndAddDisplayable(n[i],null,e);r.length=this._displayListLen,u8(r,dV)},t.prototype._updateAndAddDisplayable=function(e,n,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)n=null;else if(i){n?n=n.slice():n=[];for(var o=i,a=e;o;)o.parent=a,o.updateTransform(),n.push(o),a=o,o=o.getClipPath()}if(e.childrenRef){for(var s=e.childrenRef(),l=0;l<s.length;l++){var c=s[l];e.__dirty&&(c.__dirty|=Ns),this._updateAndAddDisplayable(c,n,r)}e.__dirty=0}else{var u=e;n&&n.length?u.__clipPaths=n:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(cx(),u.z=0),isNaN(u.z2)&&(cx(),u.z2=0),isNaN(u.zlevel)&&(cx(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var f=e.getDecalElement&&e.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var d=e.getTextGuideLine();d&&this._updateAndAddDisplayable(d,n,r);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,n,r)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var n=0,r=e.length;n<r;n++)this.delRoot(e[n]);return}var i=wr(this._roots,e);i>=0&&this._roots.splice(i,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();const zwe=Mwe;var Nee;Nee=In.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};const oI=Nee;var f8={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)))},elasticOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/r)+1)},elasticInOut:function(t){var e,n=.1,r=.4;return t===0?0:t===1?1:(!n||n<1?(n=1,e=r/4):e=r*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*(n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)):n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-f8.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?f8.bounceIn(t*2)*.5:f8.bounceOut(t*2-1)*.5+.5}};const Mee=f8;var E3=Math.pow,Ld=Math.sqrt,I5=1e-8,zee=1e-4,hV=Ld(3),$3=1/3,Qc=Fb(),pl=Fb(),N0=Fb();function Sd(t){return t>-I5&&t<I5}function Ree(t){return t>I5||t<-I5}function wo(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function pV(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function jee(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-e*2+t),l=3*(e-t),c=t-i,u=s*s-3*a*l,f=s*l-9*a*c,d=l*l-3*s*c,h=0;if(Sd(u)&&Sd(f))if(Sd(s))o[0]=0;else{var m=-l/s;m>=0&&m<=1&&(o[h++]=m)}else{var v=f*f-4*u*d;if(Sd(v)){var k=f/u,m=-s/a+k,b=-k/2;m>=0&&m<=1&&(o[h++]=m),b>=0&&b<=1&&(o[h++]=b)}else if(v>0){var _=Ld(v),x=u*s+1.5*a*(-f+_),C=u*s+1.5*a*(-f-_);x<0?x=-E3(-x,$3):x=E3(x,$3),C<0?C=-E3(-C,$3):C=E3(C,$3);var m=(-s-(x+C))/(3*a);m>=0&&m<=1&&(o[h++]=m)}else{var S=(2*u*s-3*a*f)/(2*Ld(u*u*u)),g=Math.acos(S)/3,T=Ld(u),P=Math.cos(g),m=(-s-2*T*P)/(3*a),b=(-s+T*(P+hV*Math.sin(g)))/(3*a),$=(-s+T*(P-hV*Math.sin(g)))/(3*a);m>=0&&m<=1&&(o[h++]=m),b>=0&&b<=1&&(o[h++]=b),$>=0&&$<=1&&(o[h++]=$)}}return h}function Vee(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,l=0;if(Sd(a)){if(Ree(o)){var c=-s/o;c>=0&&c<=1&&(i[l++]=c)}}else{var u=o*o-4*a*s;if(Sd(u))i[0]=-o/(2*a);else if(u>0){var f=Ld(u),c=(-o+f)/(2*a),d=(-o-f)/(2*a);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function P5(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,c=(s-a)*i+a,u=(l-s)*i+s,f=(u-c)*i+c;o[0]=t,o[1]=a,o[2]=c,o[3]=f,o[4]=f,o[5]=u,o[6]=l,o[7]=r}function Rwe(t,e,n,r,i,o,a,s,l,c,u){var f,d=.005,h=1/0,m,v,k,b;Qc[0]=l,Qc[1]=c;for(var _=0;_<1;_+=.05)pl[0]=wo(t,n,i,a,_),pl[1]=wo(e,r,o,s,_),k=L0(Qc,pl),k<h&&(f=_,h=k);h=1/0;for(var x=0;x<32&&!(d<zee);x++)m=f-d,v=f+d,pl[0]=wo(t,n,i,a,m),pl[1]=wo(e,r,o,s,m),k=L0(pl,Qc),m>=0&&k<h?(f=m,h=k):(N0[0]=wo(t,n,i,a,v),N0[1]=wo(e,r,o,s,v),b=L0(N0,Qc),v<=1&&b<h?(f=v,h=b):d*=.5);return u&&(u[0]=wo(t,n,i,a,f),u[1]=wo(e,r,o,s,f)),Ld(h)}function jwe(t,e,n,r,i,o,a,s,l){for(var c=t,u=e,f=0,d=1/l,h=1;h<=l;h++){var m=h*d,v=wo(t,n,i,a,m),k=wo(e,r,o,s,m),b=v-c,_=k-u;f+=Math.sqrt(b*b+_*_),c=v,u=k}return f}function Ho(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function mV(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function Vwe(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,l=0;if(Sd(o)){if(Ree(a)){var c=-s/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*o*s;if(Sd(u)){var c=-a/(2*o);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var f=Ld(u),c=(-a+f)/(2*o),d=(-a-f)/(2*o);c>=0&&c<=1&&(i[l++]=c),d>=0&&d<=1&&(i[l++]=d)}}return l}function Bee(t,e,n){var r=t+n-2*e;return r===0?.5:(t-e)/r}function E5(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}function Bwe(t,e,n,r,i,o,a,s,l){var c,u=.005,f=1/0;Qc[0]=a,Qc[1]=s;for(var d=0;d<1;d+=.05){pl[0]=Ho(t,n,i,d),pl[1]=Ho(e,r,o,d);var h=L0(Qc,pl);h<f&&(c=d,f=h)}f=1/0;for(var m=0;m<32&&!(u<zee);m++){var v=c-u,k=c+u;pl[0]=Ho(t,n,i,v),pl[1]=Ho(e,r,o,v);var h=L0(pl,Qc);if(v>=0&&h<f)c=v,f=h;else{N0[0]=Ho(t,n,i,k),N0[1]=Ho(e,r,o,k);var b=L0(N0,Qc);k<=1&&b<f?(c=k,f=b):u*=.5}}return l&&(l[0]=Ho(t,n,i,c),l[1]=Ho(e,r,o,c)),Ld(f)}function Hwe(t,e,n,r,i,o,a){for(var s=t,l=e,c=0,u=1/a,f=1;f<=a;f++){var d=f*u,h=Ho(t,n,i,d),m=Ho(e,r,o,d),v=h-s,k=m-l;c+=Math.sqrt(v*v+k*k),s=h,l=m}return c}var Wwe=/cubic-bezier\(([0-9,\.e ]+)\)/;function tO(t){var e=t&&Wwe.exec(t);if(e){var n=e[1].split(","),r=+au(n[0]),i=+au(n[1]),o=+au(n[2]),a=+au(n[3]);if(isNaN(r+i+o+a))return;var s=[];return function(l){return l<=0?0:l>=1?1:jee(0,r,o,1,l,s)&&wo(0,i,a,1,s[0])}}}var Uwe=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Jo,this.ondestroy=e.ondestroy||Jo,this.onrestart=e.onrestart||Jo,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,n){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var r=this._life,i=e-this._startTime-this._pausedTime,o=i/r;o<0&&(o=0),o=Math.min(o,1);var a=this.easingFunc,s=a?a(o):o;if(this.onframe(s),o===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Qn(e)?e:Mee[e]||tO(e)},t}();const Gwe=Uwe;var Hee=function(){function t(e){this.value=e}return t}(),qwe=function(){function t(){this._len=0}return t.prototype.insert=function(e){var n=new Hee(e);return this.insertEntry(n),n},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var n=e.prev,r=e.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),Ywe=function(){function t(e){this._list=new qwe,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,n){var r=this._list,i=this._map,o=null;if(i[e]==null){var a=r.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=r.head;r.remove(l),delete i[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=n:s=new Hee(n),s.key=e,r.insertEntry(s),i[e]=s}return o},t.prototype.get=function(e){var n=this._map[e],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}();const c2=Ywe;var gV={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Fd(t){return t=Math.round(t),t<0?0:t>255?255:t}function Xwe(t){return t=Math.round(t),t<0?0:t>360?360:t}function $5(t){return t<0?0:t>1?1:t}function ux(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?Fd(parseFloat(e)/100*255):Fd(parseInt(e,10))}function am(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?$5(parseFloat(e)/100):$5(parseFloat(e))}function fx(t,e,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?t+(e-t)*n*6:n*2<1?e:n*3<2?t+(e-t)*(2/3-n)*6:t}function O3(t,e,n){return t+(e-t)*n}function ll(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function aI(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Wee=new c2(20),D3=null;function xg(t,e){D3&&aI(D3,e),D3=Wee.put(t,D3||e.slice())}function dc(t,e){if(t){e=e||[];var n=Wee.get(t);if(n)return aI(e,n);t=t+"";var r=t.replace(/ /g,"").toLowerCase();if(r in gV)return aI(e,gV[r]),xg(t,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var o=parseInt(r.slice(1,4),16);if(!(o>=0&&o<=4095)){ll(e,0,0,0,1);return}return ll(e,(o&3840)>>4|(o&3840)>>8,o&240|(o&240)>>4,o&15|(o&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),xg(t,e),e}else if(i===7||i===9){var o=parseInt(r.slice(1,7),16);if(!(o>=0&&o<=16777215)){ll(e,0,0,0,1);return}return ll(e,(o&16711680)>>16,(o&65280)>>8,o&255,i===9?parseInt(r.slice(7),16)/255:1),xg(t,e),e}return}var a=r.indexOf("("),s=r.indexOf(")");if(a!==-1&&s+1===i){var l=r.substr(0,a),c=r.substr(a+1,s-(a+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?ll(e,+c[0],+c[1],+c[2],1):ll(e,0,0,0,1);u=am(c.pop());case"rgb":if(c.length>=3)return ll(e,ux(c[0]),ux(c[1]),ux(c[2]),c.length===3?u:am(c[3])),xg(t,e),e;ll(e,0,0,0,1);return;case"hsla":if(c.length!==4){ll(e,0,0,0,1);return}return c[3]=am(c[3]),sI(c,e),xg(t,e),e;case"hsl":if(c.length!==3){ll(e,0,0,0,1);return}return sI(c,e),xg(t,e),e;default:return}}ll(e,0,0,0,1)}}function sI(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=am(t[1]),i=am(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=i*2-o;return e=e||[],ll(e,Fd(fx(a,o,n+1/3)*255),Fd(fx(a,o,n)*255),Fd(fx(a,o,n-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function Kwe(t){if(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=o-i,s=(o+i)/2,l,c;if(a===0)l=0,c=0;else{s<.5?c=a/(o+i):c=a/(2-o-i);var u=((o-e)/6+a/2)/a,f=((o-n)/6+a/2)/a,d=((o-r)/6+a/2)/a;e===o?l=d-f:n===o?l=1/3+u-d:r===o&&(l=2/3+f-u),l<0&&(l+=1),l>1&&(l-=1)}var h=[l*360,c,s];return t[3]!=null&&h.push(t[3]),h}}function lI(t,e){var n=dc(t);if(n){for(var r=0;r<3;r++)e<0?n[r]=n[r]*(1-e)|0:n[r]=(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:n[r]<0&&(n[r]=0);return Nd(n,n.length===4?"rgba":"rgb")}}function dx(t,e,n){if(!(!(e&&e.length)||!(t>=0&&t<=1))){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],l=r-i;return n[0]=Fd(O3(a[0],s[0],l)),n[1]=Fd(O3(a[1],s[1],l)),n[2]=Fd(O3(a[2],s[2],l)),n[3]=$5(O3(a[3],s[3],l)),n}}function hx(t,e,n,r){var i=dc(t);if(t)return i=Kwe(i),e!=null&&(i[0]=Xwe(e)),n!=null&&(i[1]=am(n)),r!=null&&(i[2]=am(r)),Nd(sI(i),"rgba")}function Jwe(t,e){var n=dc(t);if(n&&e!=null)return n[3]=$5(e),Nd(n,"rgba")}function Nd(t,e){if(!(!t||!t.length)){var n=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(n+=","+t[3]),e+"("+n+")"}}function O5(t,e){var n=dc(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}var D5=Math.round;function Ky(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var n=dc(t);n&&(t="rgb("+n[0]+","+n[1]+","+n[2]+")",e=n[3])}return{color:t,opacity:e??1}}var bV=1e-4;function xd(t){return t<bV&&t>-bV}function L3(t){return D5(t*1e3)/1e3}function cI(t){return D5(t*1e4)/1e4}function Zwe(t){return"matrix("+L3(t[0])+","+L3(t[1])+","+L3(t[2])+","+L3(t[3])+","+cI(t[4])+","+cI(t[5])+")"}var Qwe={left:"start",right:"end",center:"middle",middle:"middle"};function eSe(t,e,n){return n==="top"?t+=e/2:n==="bottom"&&(t-=e/2),t}function tSe(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function nSe(t){var e=t.style,n=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function Uee(t){return t&&!!t.image}function rSe(t){return t&&!!t.svgElement}function nO(t){return Uee(t)||rSe(t)}function Gee(t){return t.type==="linear"}function qee(t){return t.type==="radial"}function Yee(t){return t&&(t.type==="linear"||t.type==="radial")}function R6(t){return"url(#"+t+")"}function Xee(t){var e=t.getGlobalScale(),n=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function Kee(t){var e=t.x||0,n=t.y||0,r=(t.rotation||0)*c8,i=gn(t.scaleX,1),o=gn(t.scaleY,1),a=t.skewX||0,s=t.skewY||0,l=[];return(e||n)&&l.push("translate("+e+"px,"+n+"px)"),r&&l.push("rotate("+r+")"),(i!==1||o!==1)&&l.push("scale("+i+","+o+")"),(a||s)&&l.push("skew("+D5(a*c8)+"deg, "+D5(s*c8)+"deg)"),l.join(" ")}var iSe=function(){return In.hasGlobalWindow&&Qn(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),uI=Array.prototype.slice;function Xu(t,e,n){return(e-t)*n+t}function px(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=Xu(e[o],n[o],r);return t}function oSe(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=Xu(e[a][s],n[a][s],r)}return t}function F3(t,e,n,r){for(var i=e.length,o=0;o<i;o++)t[o]=e[o]+n[o]*r;return t}function vV(t,e,n,r){for(var i=e.length,o=i&&e[0].length,a=0;a<i;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*r}return t}function aSe(t,e){for(var n=t.length,r=e.length,i=n>r?e:t,o=Math.min(n,r),a=i[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,r);s++)i.push({offset:a.offset,color:a.color.slice()})}function sSe(t,e,n){var r=t,i=e;if(!(!r.push||!i.push)){var o=r.length,a=i.length;if(o!==a){var s=o>a;if(s)r.length=a;else for(var l=o;l<a;l++)r.push(n===1?i[l]:uI.call(i[l]))}for(var c=r[0]&&r[0].length,l=0;l<r.length;l++)if(n===1)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function d8(t){if(ds(t)){var e=t.length;if(ds(t[0])){for(var n=[],r=0;r<e;r++)n.push(uI.call(t[r]));return n}return uI.call(t)}return t}function h8(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function lSe(t){return ds(t&&t[0])?2:1}var N3=0,p8=1,Jee=2,Iv=3,fI=4,dI=5,yV=6;function kV(t){return t===fI||t===dI}function M3(t){return t===p8||t===Jee}var B1=[0,0,0,0],cSe=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,n,r){this._needsSort=!0;var i=this.keyframes,o=i.length,a=!1,s=yV,l=n;if(ds(n)){var c=lSe(n);s=c,(c===1&&!Zr(n[0])||c===2&&!Zr(n[0][0]))&&(a=!0)}else if(Zr(n)&&!J_e(n))s=N3;else if(Et(n))if(!isNaN(+n))s=N3;else{var u=dc(n);u&&(l=u,s=Iv)}else if(M6(n)){var f=ot({},l);f.colorStops=tn(n.colorStops,function(h){return{offset:h.offset,color:dc(h.color)}}),Gee(n)?s=fI:qee(n)&&(s=dI),l=f}o===0?this.valType=s:(s!==this.valType||s===yV)&&(a=!0),this.discrete=this.discrete||a;var d={time:e,value:l,rawValue:n,percent:0};return r&&(d.easing=r,d.easingFunc=Qn(r)?r:Mee[r]||tO(r)),i.push(d),d},t.prototype.prepare=function(e,n){var r=this.keyframes;this._needsSort&&r.sort(function(v,k){return v.time-k.time});for(var i=this.valType,o=r.length,a=r[o-1],s=this.discrete,l=M3(i),c=kV(i),u=0;u<o;u++){var f=r[u],d=f.value,h=a.value;f.percent=f.time/e,s||(l&&u!==o-1?sSe(d,h,i):c&&aSe(d.colorStops,h.colorStops))}if(!s&&i!==dI&&n&&this.needsAnimate()&&n.needsAnimate()&&i===n.valType&&!n._finished){this._additiveTrack=n;for(var m=r[0].value,u=0;u<o;u++)i===N3?r[u].additiveValue=r[u].value-m:i===Iv?r[u].additiveValue=F3([],r[u].value,m,-1):M3(i)&&(r[u].additiveValue=i===p8?F3([],r[u].value,m,-1):vV([],r[u].value,m,-1))}},t.prototype.step=function(e,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",o=this.valType,a=this.keyframes,s=a.length,l=this.propName,c=o===Iv,u,f=this._lastFr,d=Math.min,h,m;if(s===1)h=m=a[0];else{if(n<0)u=0;else if(n<this._lastFrP){var v=d(f+1,s-1);for(u=v;u>=0&&!(a[u].percent<=n);u--);u=d(u,s-2)}else{for(u=f;u<s&&!(a[u].percent>n);u++);u=d(u-1,s-2)}m=a[u+1],h=a[u]}if(h&&m){this._lastFr=u,this._lastFrP=n;var k=m.percent-h.percent,b=k===0?1:d((n-h.percent)/k,1);m.easingFunc&&(b=m.easingFunc(b));var _=r?this._additiveValue:c?B1:e[l];if((M3(o)||c)&&!_&&(_=this._additiveValue=[]),this.discrete)e[l]=b<1?h.rawValue:m.rawValue;else if(M3(o))o===p8?px(_,h[i],m[i],b):oSe(_,h[i],m[i],b);else if(kV(o)){var x=h[i],C=m[i],S=o===fI;e[l]={type:S?"linear":"radial",x:Xu(x.x,C.x,b),y:Xu(x.y,C.y,b),colorStops:tn(x.colorStops,function(T,P){var $=C.colorStops[P];return{offset:Xu(T.offset,$.offset,b),color:h8(px([],T.color,$.color,b))}}),global:C.global},S?(e[l].x2=Xu(x.x2,C.x2,b),e[l].y2=Xu(x.y2,C.y2,b)):e[l].r=Xu(x.r,C.r,b)}else if(c)px(_,h[i],m[i],b),r||(e[l]=h8(_));else{var g=Xu(h[i],m[i],b);r?this._additiveValue=g:e[l]=g}r&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var n=this.valType,r=this.propName,i=this._additiveValue;n===N3?e[r]=e[r]+i:n===Iv?(dc(e[r],B1),F3(B1,B1,i,1),e[r]=h8(B1)):n===p8?F3(e[r],e[r],i,1):n===Jee&&vV(e[r],e[r],i,1)},t}(),uSe=function(){function t(e,n,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=n,n&&i){K$("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,n,r){return this.whenWithKeys(e,n,ir(n),r)},t.prototype.whenWithKeys=function(e,n,r,i){for(var o=this._tracks,a=0;a<r.length;a++){var s=r[a],l=o[s];if(!l){l=o[s]=new cSe(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var f=u.keyframes,d=f[f.length-1];c=d&&d.value,u.valType===Iv&&c&&(c=h8(c))}else c=this._target[s];if(c==null)continue;e>0&&l.addKeyframe(0,d8(c),i),this._trackKeys.push(s)}l.addKeyframe(e,d8(n[s]),i)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var n=e.length,r=0;r<n;r++)e[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,n=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)e[n[r]].setFinished()},t.prototype._getAdditiveTrack=function(e){var n,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var o=r[i].getTrack(e);o&&(n=o)}return n},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var n=this,r=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var a=this._trackKeys[o],s=this._tracks[a],l=this._getAdditiveTrack(a),c=s.keyframes,u=c.length;if(s.prepare(i,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var f=c[u-1];f&&(n._target[s.propName]=f.rawValue),s.setFinished()}else r.push(s)}if(r.length||this._force){var d=new Gwe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){n._started=2;var m=n._additiveAnimators;if(m){for(var v=!1,k=0;k<m.length;k++)if(m[k]._clip){v=!0;break}v||(n._additiveAnimators=null)}for(var k=0;k<r.length;k++)r[k].step(n._target,h);var b=n._onframeCbs;if(b)for(var k=0;k<b.length;k++)b[k](n._target,h)},ondestroy:function(){n._doneCallback()}});this._clip=d,this.animation&&this.animation.addClip(d),e&&d.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var n=this._clip;e&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return tn(this._trackKeys,function(n){return e._tracks[n]})},t.prototype.stopTracks=function(e,n){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,o=0;o<e.length;o++){var a=r[e[o]];a&&!a.isFinished()&&(n?a.step(this._target,1):this._started===1&&a.step(this._target,0),a.setFinished())}for(var s=!0,o=0;o<i.length;o++)if(!r[i[o]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},t.prototype.saveTo=function(e,n,r){if(e){n=n||this._trackKeys;for(var i=0;i<n.length;i++){var o=n[i],a=this._tracks[o];if(!(!a||a.isFinished())){var s=a.keyframes,l=s[r?0:s.length-1];l&&(e[o]=d8(l.rawValue))}}}},t.prototype.__changeFinalValue=function(e,n){n=n||ir(e);for(var r=0;r<n.length;r++){var i=n[r],o=this._tracks[i];if(o){var a=o.keyframes;if(a.length>1){var s=a.pop();o.addKeyframe(s.time,e[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},t}();const rO=uSe;function d0(){return new Date().getTime()}var fSe=function(t){Cr(e,t);function e(n){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n=n||{},r.stage=n.stage||{},r}return e.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},e.prototype.addAnimator=function(n){n.animation=this;var r=n.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(n){if(n.animation){var r=n.prev,i=n.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,n.next=n.prev=n.animation=null}},e.prototype.removeAnimator=function(n){var r=n.getClip();r&&this.removeClip(r),n.animation=null},e.prototype.update=function(n){for(var r=d0()-this._pausedTime,i=r-this._time,o=this._head;o;){var a=o.next,s=o.step(r,i);s&&(o.ondestroy(),this.removeClip(o)),o=a}this._time=r,n||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var n=this;this._running=!0;function r(){n._running&&(oI(r),!n._paused&&n.update())}oI(r)},e.prototype.start=function(){this._running||(this._time=d0(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=d0(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=d0()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var n=this._head;n;){var r=n.next;n.prev=n.next=n.animation=null,n=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(n,r){r=r||{},this.start();var i=new rO(n,r.loop);return this.addAnimator(i),i},e}(wu);const dSe=fSe;var hSe=300,mx=In.domSupported,gx=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=tn(t,function(i){var o=i.replace("mouse","pointer");return n.hasOwnProperty(o)?o:i});return{mouse:t,touch:e,pointer:r}}(),_V={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wV=!1;function hI(t){var e=t.pointerType;return e==="pen"||e==="touch"}function pSe(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function bx(t){t&&(t.zrByTouch=!0)}function mSe(t,e){return cl(t.dom,new gSe(t,e),!0)}function Zee(t,e){for(var n=e,r=!1;n&&n.nodeType!==9&&!(r=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return r}var gSe=function(){function t(e,n){this.stopPropagation=Jo,this.stopImmediatePropagation=Jo,this.preventDefault=Jo,this.type=n.type,this.target=this.currentTarget=e.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t}(),Ql={mousedown:function(t){t=cl(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=cl(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=cl(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=cl(this.dom,t);var e=t.toElement||t.relatedTarget;Zee(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){wV=!0,t=cl(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){wV||(t=cl(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=cl(this.dom,t),bx(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Ql.mousemove.call(this,t),Ql.mousedown.call(this,t)},touchmove:function(t){t=cl(this.dom,t),bx(t),this.handler.processGesture(t,"change"),Ql.mousemove.call(this,t)},touchend:function(t){t=cl(this.dom,t),bx(t),this.handler.processGesture(t,"end"),Ql.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<hSe&&Ql.click.call(this,t)},pointerdown:function(t){Ql.mousedown.call(this,t)},pointermove:function(t){hI(t)||Ql.mousemove.call(this,t)},pointerup:function(t){Ql.mouseup.call(this,t)},pointerout:function(t){hI(t)||Ql.mouseout.call(this,t)}};ye(["click","dblclick","contextmenu"],function(t){Ql[t]=function(e){e=cl(this.dom,e),this.trigger(t,e)}});var pI={pointermove:function(t){hI(t)||pI.mousemove.call(this,t)},pointerup:function(t){pI.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function bSe(t,e){var n=e.domHandlers;In.pointerEventsSupported?ye(gx.pointer,function(r){m8(e,r,function(i){n[r].call(t,i)})}):(In.touchEventsSupported&&ye(gx.touch,function(r){m8(e,r,function(i){n[r].call(t,i),pSe(e)})}),ye(gx.mouse,function(r){m8(e,r,function(i){i=Z$(i),e.touching||n[r].call(t,i)})}))}function vSe(t,e){In.pointerEventsSupported?ye(_V.pointer,n):In.touchEventsSupported||ye(_V.mouse,n);function n(r){function i(o){o=Z$(o),Zee(t,o.target)||(o=mSe(t,o),e.domHandlers[r].call(t,o))}m8(e,r,i,{capture:!0})}}function m8(t,e,n,r){t.mounted[e]=n,t.listenerOpts[e]=r,kwe(t.domTarget,e,n,r)}function vx(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&_we(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var SV=function(){function t(e,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=n}return t}(),ySe=function(t){Cr(e,t);function e(n,r){var i=t.call(this)||this;return i.__pointerCapturing=!1,i.dom=n,i.painterRoot=r,i._localHandlerScope=new SV(n,Ql),mx&&(i._globalHandlerScope=new SV(document,pI)),bSe(i,i._localHandlerScope),i}return e.prototype.dispose=function(){vx(this._localHandlerScope),mx&&vx(this._globalHandlerScope)},e.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},e.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,mx&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var r=this._globalHandlerScope;n?vSe(this,r):vx(r)}},e}(wu);const kSe=ySe;var Qee=1;In.hasGlobalWindow&&(Qee=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var L5=Qee,mI=.4,gI="#333",bI="#ccc",_Se="#eee",xV=Q$,CV=5e-5;function Qh(t){return t>CV||t<-CV}var ep=[],Cg=[],yx=Xy(),kx=Math.abs,iO=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return Qh(this.rotation)||Qh(this.x)||Qh(this.y)||Qh(this.scaleX-1)||Qh(this.scaleY-1)||Qh(this.skewX)||Qh(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||e)){r&&(xV(r),this.invTransform=null);return}r=r||Xy(),n?this.getLocalTransform(r):xV(r),e&&(n?F0(r,e,r):xwe(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},t.prototype._resolveGlobalScaleRatio=function(e){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(ep);var r=ep[0]<0?-1:1,i=ep[1]<0?-1:1,o=((ep[0]-r)*n+r)/ep[0]||0,a=((ep[1]-i)*n+i)/ep[1]||0;e[0]*=o,e[1]*=o,e[2]*=a,e[3]*=a}this.invTransform=this.invTransform||Xy(),$ee(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,n=[];e;)n.push(e),e=e.parent;for(;e=n.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var n=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),o=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,n=this.transform;e&&e.transform&&(F0(Cg,e.invTransform,n),n=Cg);var r=this.originX,i=this.originY;(r||i)&&(yx[4]=r,yx[5]=i,F0(Cg,n,yx),Cg[4]-=r,Cg[5]-=i,n=Cg),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(e){var n=this.transform;return e=e||[],n?(e[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),e[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(e[0]=-e[0]),n[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,n){var r=[e,n],i=this.invTransform;return i&&fu(r,r,i),r},t.prototype.transformCoordToGlobal=function(e,n){var r=[e,n],i=this.transform;return i&&fu(r,r,i),r},t.prototype.getLineScale=function(){var e=this.transform;return e&&kx(e[0]-1)>1e-10&&kx(e[3]-1)>1e-10?Math.sqrt(kx(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){ete(this,e)},t.getLocalTransform=function(e,n){n=n||[];var r=e.originX||0,i=e.originY||0,o=e.scaleX,a=e.scaleY,s=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,f=e.y,d=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(r||i||s||l){var m=r+s,v=i+l;n[4]=-m*o-d*v*a,n[5]=-v*a-h*m*o}else n[4]=n[5]=0;return n[0]=o,n[3]=a,n[1]=h*o,n[2]=d*a,c&&eO(n,n,c),n[4]+=r+u,n[5]+=i+f,n},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),Jy=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function ete(t,e){for(var n=0;n<Jy.length;n++){var r=Jy[n];t[r]=e[r]}}var TV={};function Vs(t,e){e=e||oh;var n=TV[e];n||(n=TV[e]=new c2(500));var r=n.get(t);return r==null&&(r=Lb.measureText(t,e).width,n.put(t,r)),r}function AV(t,e,n,r){var i=Vs(t,e),o=j6(e),a=Pv(0,i,n),s=Kg(0,o,r),l=new $r(a,s,i,o);return l}function tte(t,e,n,r){var i=((t||"")+"").split(`
`),o=i.length;if(o===1)return AV(i[0],e,n,r);for(var a=new $r(0,0,0,0),s=0;s<i.length;s++){var l=AV(i[s],e,n,r);s===0?a.copy(l):a.union(l)}return a}function Pv(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Kg(t,e,n){return n==="middle"?t-=e/2:n==="bottom"&&(t-=e),t}function j6(t){return Vs("国",t)}function cb(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function nte(t,e,n){var r=e.position||"inside",i=e.distance!=null?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,c=n.y,u="left",f="top";if(r instanceof Array)l+=cb(r[0],n.width),c+=cb(r[1],n.height),u=null,f=null;else switch(r){case"left":l-=i,c+=s,u="right",f="middle";break;case"right":l+=i+a,c+=s,f="middle";break;case"top":l+=a/2,c-=i,u="center",f="bottom";break;case"bottom":l+=a/2,c+=o+i,u="center";break;case"inside":l+=a/2,c+=s,u="center",f="middle";break;case"insideLeft":l+=i,c+=s,f="middle";break;case"insideRight":l+=a-i,c+=s,u="right",f="middle";break;case"insideTop":l+=a/2,c+=i,u="center";break;case"insideBottom":l+=a/2,c+=o-i,u="center",f="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=a-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=o-i,f="bottom";break;case"insideBottomRight":l+=a-i,c+=o-i,u="right",f="bottom";break}return t=t||{},t.x=l,t.y=c,t.align=u,t.verticalAlign=f,t}var _x="__zr_normal__",Sx=Jy.concat(["ignore"]),wSe=ah(Jy,function(t,e){return t[e]=!0,t},{ignore:!1}),Tg={},SSe=new $r(0,0,0,0),oO=function(){function t(e){this.id=xee(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,n,r){switch(this.draggable){case"horizontal":n=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var n=this._textContent;if(n&&(!n.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,o=n.innerTransformable,a=void 0,s=void 0,l=!1;o.parent=i?this:null;var c=!1;if(o.copyTransform(n),r.position!=null){var u=SSe;r.layoutRect?u.copy(r.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Tg,r,u):nte(Tg,r,u),o.x=Tg.x,o.y=Tg.y,a=Tg.align,s=Tg.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var d=void 0,h=void 0;f==="center"?(d=u.width*.5,h=u.height*.5):(d=cb(f[0],u.width),h=cb(f[1],u.height)),c=!0,o.originX=-o.x+d+(i?0:u.x),o.originY=-o.y+h+(i?0:u.y)}}r.rotation!=null&&(o.rotation=r.rotation);var m=r.offset;m&&(o.x+=m[0],o.y+=m[1],c||(o.originX=-m[0],o.originY=-m[1]));var v=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,k=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,_=void 0,x=void 0;v&&this.canBeInsideText()?(b=r.insideFill,_=r.insideStroke,(b==null||b==="auto")&&(b=this.getInsideTextFill()),(_==null||_==="auto")&&(_=this.getInsideTextStroke(b),x=!0)):(b=r.outsideFill,_=r.outsideStroke,(b==null||b==="auto")&&(b=this.getOutsideFill()),(_==null||_==="auto")&&(_=this.getOutsideStroke(b),x=!0)),b=b||"#000",(b!==k.fill||_!==k.stroke||x!==k.autoStroke||a!==k.align||s!==k.verticalAlign)&&(l=!0,k.fill=b,k.stroke=_,k.autoStroke=x,k.align=a,k.verticalAlign=s,n.setDefaultTextStyle(k)),n.__dirty|=Ns,l&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?bI:gI},t.prototype.getOutsideStroke=function(e){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n=="string"&&dc(n);r||(r=[255,255,255,1]);for(var i=r[3],o=this.__zr.isDarkMode(),a=0;a<3;a++)r[a]=r[a]*i+(o?0:255)*(1-i);return r[3]=1,Nd(r,"rgba")},t.prototype.traverse=function(e,n){},t.prototype.attrKV=function(e,n){e==="textConfig"?this.setTextConfig(n):e==="textContent"?this.setTextContent(n):e==="clipPath"?this.setClipPath(n):e==="extra"?(this.extra=this.extra||{},ot(this.extra,n)):this[e]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,n){if(typeof e=="string")this.attrKV(e,n);else if(Bt(e))for(var r=e,i=ir(r),o=0;o<i.length;o++){var a=i[o];this.attrKV(a,e[a])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var n=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==_x)){var a=i.targetName,s=a?n[a]:n;i.saveTo(s)}}},t.prototype._innerSaveToNormal=function(e){var n=this._normalState;n||(n=this._normalState={}),e.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(e,n,Sx)},t.prototype._savePrimaryToNormal=function(e,n,r){for(var i=0;i<r.length;i++){var o=r[i];e[o]!=null&&!(o in n)&&(n[o]=this[o])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var n=this.states;return n[e]||(n[e]={}),n[e]},t.prototype.clearStates=function(e){this.useState(_x,!1,e)},t.prototype.useState=function(e,n,r,i){var o=e===_x,a=this.hasState();if(!(!a&&o)){var s=this.currentStates,l=this.stateTransition;if(!(wr(s,e)>=0&&(n||s.length===1))){var c;if(this.stateProxy&&!o&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!o){K$("State "+e+" not exists.");return}o||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,n,!r&&!this.__inHover&&l&&l.duration>0,l);var f=this._textContent,d=this._textGuide;return f&&f.useState(e,n,r,u),d&&d.useState(e,n,r,u),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ns),c}}},t.prototype.useStates=function(e,n,r){if(!e.length)this.clearStates();else{var i=[],o=this.currentStates,a=e.length,s=a===o.length;if(s){for(var l=0;l<a;l++)if(e[l]!==o[l]){s=!1;break}}if(s)return;for(var l=0;l<a;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var f=i[a-1],d=!!(f&&f.hoverLayer||r);d&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),m=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!n&&!this.__inHover&&m&&m.duration>0,m);var v=this._textContent,k=this._textGuide;v&&v.useStates(e,n,d),k&&k.useStates(e,n,d),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!d&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ns)}},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var n=this.animators[e];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(e){var n=wr(this.currentStates,e);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},t.prototype.replaceState=function(e,n,r){var i=this.currentStates.slice(),o=wr(i,e),a=wr(i,n)>=0;o>=0?a?i.splice(o,1):i[o]=n:r&&!a&&i.push(n),this.useStates(i)},t.prototype.toggleState=function(e,n){n?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var n={},r,i=0;i<e.length;i++){var o=e[i];ot(n,o),o.textConfig&&(r=r||{},ot(r,o.textConfig))}return r&&(n.textConfig=r),n},t.prototype._applyStateObj=function(e,n,r,i,o,a){var s=!(n&&i);n&&n.textConfig?(this.textConfig=ot({},i?this.textConfig:r.textConfig),ot(this.textConfig,n.textConfig)):s&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<Sx.length;u++){var f=Sx[u],d=o&&wSe[f];n&&n[f]!=null?d?(c=!0,l[f]=n[f]):this[f]=n[f]:s&&r[f]!=null&&(d?(c=!0,l[f]=r[f]):this[f]=r[f])}if(!o)for(var u=0;u<this.animators.length;u++){var h=this.animators[u],m=h.targetName;h.getLoop()||h.__changeFinalValue(m?(n||r)[m]:n||r)}c&&this._transitionState(e,l,a)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var n=this.__zr;n&&e.addSelfToZr(n),e.__zr=n,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var n=this._textContent;n!==e&&(n&&n!==e&&this.removeTextContent(),e.innerTransformable=new iO,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),ot(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=Ns;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=e),r&&(r.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)e.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,n,r){var i=e?this[e]:this,o=new rO(i,n,r);return e&&(o.targetName=e),this.addAnimator(o,e),o},t.prototype.addAnimator=function(e,n){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(n)}).done(function(){var o=i.animators,a=wr(o,e);a>=0&&o.splice(a,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,n){for(var r=this.animators,i=r.length,o=[],a=0;a<i;a++){var s=r[a];!e||e===s.scope?s.stop(n):o.push(s)}return this.animators=o,this},t.prototype.animateTo=function(e,n,r){xx(this,e,n,r)},t.prototype.animateFrom=function(e,n,r){xx(this,e,n,r,!0)},t.prototype._transitionState=function(e,n,r,i){for(var o=xx(this,n,r,i),a=0;a<o.length;a++)o[a].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Ns;function n(r,i,o,a){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];s(this,l)}return this[i]},set:function(l){this[o]=l[0],this[a]=l[1],this[i]=l,s(this,l)}});function s(l,c){Object.defineProperty(c,0,{get:function(){return l[o]},set:function(u){l[o]=u}}),Object.defineProperty(c,1,{get:function(){return l[a]},set:function(u){l[a]=u}})}}Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();wc(oO,wu);wc(oO,iO);function xx(t,e,n,r,i){n=n||{};var o=[];rte(t,"",t,e,n,r,o,i);var a=o.length,s=!1,l=n.done,c=n.aborted,u=function(){s=!0,a--,a<=0&&(s?l&&l():c&&c())},f=function(){a--,a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&n.during&&o[0].during(function(m,v){n.during(v)});for(var d=0;d<o.length;d++){var h=o[d];u&&h.done(u),f&&h.aborted(f),n.force&&h.duration(n.duration),h.start(n.easing)}return o}function Cx(t,e,n){for(var r=0;r<n;r++)t[r]=e[r]}function xSe(t){return ds(t[0])}function CSe(t,e,n){if(ds(e[n]))if(ds(t[n])||(t[n]=[]),Bs(e[n])){var r=e[n].length;t[n].length!==r&&(t[n]=new e[n].constructor(r),Cx(t[n],e[n],r))}else{var i=e[n],o=t[n],a=i.length;if(xSe(i))for(var s=i[0].length,l=0;l<a;l++)o[l]?Cx(o[l],i[l],s):o[l]=Array.prototype.slice.call(i[l]);else Cx(o,i,a);o.length=i.length}else t[n]=e[n]}function TSe(t,e){return t===e||ds(t)&&ds(e)&&ASe(t,e)}function ASe(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function rte(t,e,n,r,i,o,a,s){for(var l=ir(r),c=i.duration,u=i.delay,f=i.additive,d=i.setToFinal,h=!Bt(o),m=t.animators,v=[],k=0;k<l.length;k++){var b=l[k],_=r[b];if(_!=null&&n[b]!=null&&(h||o[b]))if(Bt(_)&&!ds(_)&&!M6(_)){if(e){s||(n[b]=_,t.updateDuringAnimation(e));continue}rte(t,b,n[b],_,i,o&&o[b],a,s)}else v.push(b);else s||(n[b]=_,t.updateDuringAnimation(e),v.push(b))}var x=v.length;if(!f&&x)for(var C=0;C<m.length;C++){var S=m[C];if(S.targetName===e){var g=S.stopTracks(v);if(g){var T=wr(m,S);m.splice(T,1)}}}if(i.force||(v=Za(v,function(D){return!TSe(r[D],n[D])}),x=v.length),x>0||i.force&&!a.length){var P=void 0,$=void 0,F=void 0;if(s){$={},d&&(P={});for(var C=0;C<x;C++){var b=v[C];$[b]=n[b],d?P[b]=r[b]:n[b]=r[b]}}else if(d){F={};for(var C=0;C<x;C++){var b=v[C];F[b]=d8(n[b]),CSe(n,r,b)}}var S=new rO(n,!1,!1,f?Za(m,function(z){return z.targetName===e}):null);S.targetName=e,i.scope&&(S.scope=i.scope),d&&P&&S.whenWithKeys(0,P,v),F&&S.whenWithKeys(0,F,v),S.whenWithKeys(c??500,s?$:r,v).delay(u||0),t.addAnimator(S,e),a.push(S)}}const ite=oO;var ote=function(t){Cr(e,t);function e(n){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(n){return this._children[n]},e.prototype.childOfName=function(n){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===n)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},e.prototype.addBefore=function(n,r){if(n&&n!==this&&n.parent!==this&&r&&r.parent===this){var i=this._children,o=i.indexOf(r);o>=0&&(i.splice(o,0,n),this._doAdd(n))}return this},e.prototype.replace=function(n,r){var i=wr(this._children,n);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(n,r){var i=this._children,o=i[r];if(n&&n!==this&&n.parent!==this&&n!==o){i[r]=n,o.parent=null;var a=this.__zr;a&&o.removeSelfFromZr(a),this._doAdd(n)}return this},e.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var r=this.__zr;r&&r!==n.__zr&&n.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(n){var r=this.__zr,i=this._children,o=wr(i,n);return o<0?this:(i.splice(o,1),n.parent=null,r&&n.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var n=this._children,r=this.__zr,i=0;i<n.length;i++){var o=n[i];r&&o.removeSelfFromZr(r),o.parent=null}return n.length=0,this},e.prototype.eachChild=function(n,r){for(var i=this._children,o=0;o<i.length;o++){var a=i[o];n.call(r,a,o)}return this},e.prototype.traverse=function(n,r){for(var i=0;i<this._children.length;i++){var o=this._children[i],a=n.call(r,o);o.isGroup&&!a&&o.traverse(n,r)}return this},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(n)}},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(n)}},e.prototype.getBoundingRect=function(n){for(var r=new $r(0,0,0,0),i=n||this._children,o=[],a=null,s=0;s<i.length;s++){var l=i[s];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(o);u?($r.applyTransform(r,c,u),a=a||r.clone(),a.union(r)):(a=a||c.clone(),a.union(c))}}return a||r},e}(ite);ote.prototype.type="group";const vu=ote;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var g8={},ate={};function ISe(t){delete ate[t]}function PSe(t){if(!t)return!1;if(typeof t=="string")return O5(t,1)<mI;if(t.colorStops){for(var e=t.colorStops,n=0,r=e.length,i=0;i<r;i++)n+=O5(e[i].color,1);return n/=r,n<mI}return!1}var ESe=function(){function t(e,n,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=n,this.id=e;var o=new zwe,a=r.renderer||"canvas";g8[a]||(a=ir(g8)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var s=new g8[a](n,o,r,e),l=r.ssr||s.ssrOnly;this.storage=o,this.painter=s;var c=!In.node&&!In.worker&&!l?new kSe(s.getViewportRoot(),s.root):null,u=r.useCoarsePointer,f=u==null||u==="auto"?In.touchEventsSupported:!!u,d=44,h;f&&(h=gn(r.pointerSize,d)),this.handler=new Dwe(o,s,c,s.root,h),this.animation=new dSe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,n){this.painter.configLayer&&this.painter.configLayer(e,n),this.refresh()},t.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=PSe(e)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(e){var n,r=d0();this._needsRefresh&&(n=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var i=d0();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},t.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,n){return this.handler.findHover(e,n)},t.prototype.on=function(e,n,r){return this.handler.on(e,n,r),this},t.prototype.off=function(e,n){this.handler.off(e,n)},t.prototype.trigger=function(e,n){this.handler.trigger(e,n)},t.prototype.clear=function(){for(var e=this.storage.getRoots(),n=0;n<e.length;n++)e[n]instanceof vu&&e[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,ISe(this.id)},t}();function IV(t,e){var n=new ESe(xee(),t,e);return ate[n.id]=n,n}function $Se(t,e){g8[t]=e}var PV=1e-4,ste=20;function OSe(t){return t.replace(/^\s+|\s+$/g,"")}function ub(t,e,n,r){var i=e[0],o=e[1],a=n[0],s=n[1],l=o-i,c=s-a;if(l===0)return c===0?a:(a+s)/2;if(r)if(l>0){if(t<=i)return a;if(t>=o)return s}else{if(t>=i)return a;if(t<=o)return s}else{if(t===i)return a;if(t===o)return s}return(t-i)/l*c+a}function Xr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return Et(t)?OSe(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function DSe(t,e,n){return e==null&&(e=10),e=Math.min(Math.max(0,e),ste),t=(+t).toFixed(e),n?t:+t}function EV(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n}return LSe(t)}function LSe(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),r=n>0?+e.slice(n+1):0,i=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:i-1-o;return Math.max(0,a-r)}function FSe(t,e){var n=ah(t,function(h,m){return h+(isNaN(m)?0:m)},0);if(n===0)return[];for(var r=Math.pow(10,e),i=tn(t,function(h){return(isNaN(h)?0:h)/n*r*100}),o=r*100,a=tn(i,function(h){return Math.floor(h)}),s=ah(a,function(h,m){return h+m},0),l=tn(i,function(h,m){return h-a[m]});s<o;){for(var c=Number.NEGATIVE_INFINITY,u=null,f=0,d=l.length;f<d;++f)l[f]>c&&(c=l[f],u=f);++a[u],l[u]=0,++s}return tn(a,function(h){return h/r})}function NSe(t,e){var n=Math.max(EV(t),EV(e)),r=t+e;return n>ste?r:DSe(r,n)}function lte(t){var e=Math.PI*2;return(t%e+e)%e}function F5(t){return t>-PV&&t<PV}var MSe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function V6(t){if(t instanceof Date)return t;if(Et(t)){var e=MSe.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function N5(t){var e=parseFloat(t);return e==t&&(e!==0||!Et(t)||t.indexOf("x")<=0)?e:NaN}function zSe(t){return!isNaN(N5(t))}function cte(){return Math.round(Math.random()*9)}function ute(t,e){return e===0?t:ute(e,t%e)}function $V(t,e){return t==null?e:e==null?t:t*e/ute(t,e)}function Qa(t){throw new Error(t)}var fte="series\0",RSe="\0_ec_\0";function Zo(t){return t instanceof Array?t:t==null?[]:[t]}function vI(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var r=0,i=n.length;r<i;r++){var o=n[r];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var OV=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function u2(t){return Bt(t)&&!gt(t)&&!(t instanceof Date)?t.value:t}function jSe(t){return Bt(t)&&!(t instanceof Array)}function VSe(t,e,n){var r=n==="normalMerge",i=n==="replaceMerge",o=n==="replaceAll";t=t||[],e=(e||[]).slice();var a=bn();ye(e,function(l,c){if(!Bt(l)){e[c]=null;return}});var s=BSe(t,a,n);return(r||i)&&HSe(s,t,a,e),r&&WSe(s,e),r||i?USe(s,e,i):o&&GSe(s,e),qSe(s),s}function BSe(t,e,n){var r=[];if(n==="replaceAll")return r;for(var i=0;i<t.length;i++){var o=t[i];o&&o.id!=null&&e.set(o.id,i),r.push({existing:n==="replaceMerge"||Zy(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}function HSe(t,e,n,r){ye(r,function(i,o){if(!(!i||i.id==null)){var a=ty(i.id),s=n.get(a);if(s!=null){var l=t[s];Hs(!l.newOption,'Duplicated option on id "'+a+'".'),l.newOption=i,l.existing=e[s],r[o]=null}}})}function WSe(t,e){ye(e,function(n,r){if(!(!n||n.name==null))for(var i=0;i<t.length;i++){var o=t[i].existing;if(!t[i].newOption&&o&&(o.id==null||n.id==null)&&!Zy(n)&&!Zy(o)&&dte("name",o,n)){t[i].newOption=n,e[r]=null;return}}})}function USe(t,e,n){ye(e,function(r){if(r){for(var i,o=0;(i=t[o])&&(i.newOption||Zy(i.existing)||i.existing&&r.id!=null&&!dte("id",r,i.existing));)o++;i?(i.newOption=r,i.brandNew=n):t.push({newOption:r,brandNew:n,existing:null,keyInfo:null}),o++}})}function GSe(t,e){ye(e,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function qSe(t){var e=bn();ye(t,function(n){var r=n.existing;r&&e.set(r.id,n)}),ye(t,function(n){var r=n.newOption;Hs(!r||r.id==null||!e.get(r.id)||e.get(r.id)===n,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,n),!n.keyInfo&&(n.keyInfo={})}),ye(t,function(n,r){var i=n.existing,o=n.newOption,a=n.keyInfo;if(Bt(o)){if(a.name=o.name!=null?ty(o.name):i?i.name:fte+r,i)a.id=ty(i.id);else if(o.id!=null)a.id=ty(o.id);else{var s=0;do a.id="\0"+a.name+"\0"+s++;while(e.get(a.id))}e.set(a.id,n)}})}function dte(t,e,n){var r=Il(e[t],null),i=Il(n[t],null);return r!=null&&i!=null&&r===i}function ty(t){return Il(t,"")}function Il(t,e){return t==null?e:Et(t)?t:Zr(t)||KA(t)?t+"":e}function aO(t){var e=t.name;return!!(e&&e.indexOf(fte))}function Zy(t){return t&&t.id!=null&&ty(t.id).indexOf(RSe)===0}function YSe(t,e,n){ye(t,function(r){var i=r.newOption;Bt(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=XSe(e,i,r.existing,n))})}function XSe(t,e,n,r){var i=e.type?e.type:n?n.subType:r.determineSubType(t,e);return i}function f2(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return gt(e.dataIndex)?tn(e.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return gt(e.name)?tn(e.name,function(n){return t.indexOfName(n)}):t.indexOfName(e.name)}function no(){var t="__ec_inner_"+KSe++;return function(e){return e[t]||(e[t]={})}}var KSe=cte();function Tx(t,e,n){var r=sO(e,n),i=r.mainTypeSpecified,o=r.queryOptionMap,a=r.others,s=a,l=n?n.defaultMainType:null;return!i&&l&&o.set(l,{}),o.each(function(c,u){var f=d2(t,u,c,{useDefault:l===u,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});s[u+"Models"]=f.models,s[u+"Model"]=f.models[0]}),s}function sO(t,e){var n;if(Et(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var i=bn(),o={},a=!1;return ye(n,function(s,l){if(l==="dataIndex"||l==="dataIndexInside"){o[l]=s;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],f=(c[2]||"").toLowerCase();if(!(!u||!f||e&&e.includeMainTypes&&wr(e.includeMainTypes,u)<0)){a=a||!!u;var d=i.get(u)||i.set(u,{});d[f]=s}}),{mainTypeSpecified:a,queryOptionMap:i,others:o}}var qp={useDefault:!0,enableAll:!1,enableNone:!1};function d2(t,e,n,r){r=r||qp;var i=n.index,o=n.id,a=n.name,s={models:null,specified:i!=null||o!=null||a!=null};if(!s.specified){var l=void 0;return s.models=r.useDefault&&(l=t.getComponent(e))?[l]:[],s}return i==="none"||i===!1?(Hs(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):(i==="all"&&(Hs(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=a=null),s.models=t.queryComponents({mainType:e,index:i,id:o,name:a}),s)}function hte(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function JSe(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function ZSe(t){return t==="auto"?In.domSupported?"html":"richText":t||"html"}function QSe(t,e){var n=bn(),r=[];return ye(t,function(i){var o=e(i);(n.get(o)||(r.push(o),n.set(o,[]))).push(i)}),{keys:r,buckets:n}}var exe=".",tp="___EC__COMPONENT__CONTAINER___",pte="___EC__EXTENDED_CLASS___";function su(t){var e={main:"",sub:""};if(t){var n=t.split(exe);e.main=n[0]||"",e.sub=n[1]||""}return e}function txe(t){Hs(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function nxe(t){return!!(t&&t[pte])}function lO(t,e){t.$constructor=t,t.extend=function(n){var r=this,i;return rxe(r)?i=function(o){xr(a,o);function a(){return o.apply(this,arguments)||this}return a}(r):(i=function(){(n.$constructor||r).apply(this,arguments)},Y_e(i,this)),ot(i.prototype,n),i[pte]=!0,i.extend=this.extend,i.superCall=axe,i.superApply=sxe,i.superClass=r,i}}function rxe(t){return Qn(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function mte(t,e){t.extend=e.extend}var ixe=Math.round(Math.random()*10);function oxe(t){var e=["__\0is_clz",ixe++].join("_");t.prototype[e]=!0,t.isInstance=function(n){return!!(n&&n[e])}}function axe(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return this.superClass.prototype[e].apply(t,n)}function sxe(t,e,n){return this.superClass.prototype[e].apply(t,n)}function cO(t){var e={};t.registerClass=function(r){var i=r.type||r.prototype.type;if(i){txe(i),r.prototype.type=i;var o=su(i);if(!o.sub)e[o.main]=r;else if(o.sub!==tp){var a=n(o);a[o.sub]=r}}return r},t.getClass=function(r,i,o){var a=e[r];if(a&&a[tp]&&(a=i?a[i]:null),o&&!a)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return a},t.getClassesByMainType=function(r){var i=su(r),o=[],a=e[i.main];return a&&a[tp]?ye(a,function(s,l){l!==tp&&o.push(s)}):o.push(a),o},t.hasClass=function(r){var i=su(r);return!!e[i.main]},t.getAllClassMainTypes=function(){var r=[];return ye(e,function(i,o){r.push(o)}),r},t.hasSubTypes=function(r){var i=su(r),o=e[i.main];return o&&o[tp]};function n(r){var i=e[r.main];return(!i||!i[tp])&&(i=e[r.main]={},i[tp]=!0),i}}function Qy(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(r,i,o){for(var a={},s=0;s<t.length;s++){var l=t[s][1];if(!(i&&wr(i,l)>=0||o&&wr(o,l)<0)){var c=r.getShallow(l,e);c!=null&&(a[t[s][0]]=c)}}return a}}var lxe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],cxe=Qy(lxe),uxe=function(){function t(){}return t.prototype.getAreaStyle=function(e,n){return cxe(this,e,n)},t}(),yI=new c2(50);function fxe(t){if(typeof t=="string"){var e=yI.get(t);return e&&e.image}else return t}function uO(t,e,n,r,i){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!n)return e;var o=yI.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?(e=o.image,!B6(e)&&o.pending.push(a)):(e=Lb.loadImage(t,DV,DV),e.__zrImageSrc=t,yI.put(t,e.__cachedImgObj={image:e,pending:[a]})),e}else return t;else return e}function DV(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function B6(t){return t&&t.width&&t.height}var Ax=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function dxe(t,e,n,r,i){if(!e)return"";var o=(t+"").split(`
`);i=gte(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=bte(o[a],i);return o.join(`
`)}function gte(t,e,n,r){r=r||{};var i=ot({},r);i.font=e,n=gn(n,"..."),i.maxIterations=gn(r.maxIterations,2);var o=i.minChar=gn(r.minChar,0);i.cnCharWidth=Vs("国",e);var a=i.ascCharWidth=Vs("a",e);i.placeholder=gn(r.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var c=Vs(n,e);return c>s&&(n="",c=0),s=t-c,i.ellipsis=n,i.ellipsisWidth=c,i.contentWidth=s,i.containerWidth=t,i}function bte(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=Vs(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=a===0?hxe(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;t=t.substr(0,s),o=Vs(t,r)}return t===""&&(t=e.placeholder),t}function hxe(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function pxe(t,e){t!=null&&(t+="");var n=e.overflow,r=e.padding,i=e.font,o=n==="truncate",a=j6(i),s=gn(e.lineHeight,a),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=e.width,f;u!=null&&(n==="break"||n==="breakAll")?f=t?vte(t,e.font,u,n==="breakAll",0).lines:[]:f=t?t.split(`
`):[];var d=f.length*s,h=gn(e.height,d);if(d>h&&c){var m=Math.floor(h/s);f=f.slice(0,m)}if(t&&o&&u!=null)for(var v=gte(u,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),k=0;k<f.length;k++)f[k]=bte(f[k],v);for(var b=h,_=0,k=0;k<f.length;k++)_=Math.max(Vs(f[k],i),_);u==null&&(u=_);var x=_;return r&&(b+=r[0]+r[2],x+=r[1]+r[3],u+=r[1]+r[3]),l&&(x=u),{lines:f,height:h,outerWidth:x,outerHeight:b,lineHeight:s,calculatedLineHeight:a,contentWidth:_,contentHeight:d,width:u}}var mxe=function(){function t(){}return t}(),LV=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),gxe=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return t}();function bxe(t,e){var n=new gxe;if(t!=null&&(t+=""),!t)return n;for(var r=e.width,i=e.height,o=e.overflow,a=(o==="break"||o==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:o==="breakAll"}:null,s=Ax.lastIndex=0,l;(l=Ax.exec(t))!=null;){var c=l.index;c>s&&Ix(n,t.substring(s,c),e,a),Ix(n,l[2],e,a,l[1]),s=Ax.lastIndex}s<t.length&&Ix(n,t.substring(s,t.length),e,a);var u=[],f=0,d=0,h=e.padding,m=o==="truncate",v=e.lineOverflow==="truncate";function k(Ae,Ie,ke){Ae.width=Ie,Ae.lineHeight=ke,f+=ke,d=Math.max(d,Ie)}e:for(var b=0;b<n.lines.length;b++){for(var _=n.lines[b],x=0,C=0,S=0;S<_.tokens.length;S++){var g=_.tokens[S],T=g.styleName&&e.rich[g.styleName]||{},P=g.textPadding=T.padding,$=P?P[1]+P[3]:0,F=g.font=T.font||e.font;g.contentHeight=j6(F);var D=gn(T.height,g.contentHeight);if(g.innerHeight=D,P&&(D+=P[0]+P[2]),g.height=D,g.lineHeight=D0(T.lineHeight,e.lineHeight,D),g.align=T&&T.align||e.align,g.verticalAlign=T&&T.verticalAlign||"middle",v&&i!=null&&f+g.lineHeight>i){S>0?(_.tokens=_.tokens.slice(0,S),k(_,C,x),n.lines=n.lines.slice(0,b+1)):n.lines=n.lines.slice(0,b);break e}var z=T.width,R=z==null||z==="auto";if(typeof z=="string"&&z.charAt(z.length-1)==="%")g.percentWidth=z,u.push(g),g.contentWidth=Vs(g.text,F);else{if(R){var V=T.backgroundColor,ie=V&&V.image;ie&&(ie=fxe(ie),B6(ie)&&(g.width=Math.max(g.width,ie.width*D/ie.height)))}var oe=m&&r!=null?r-C:null;oe!=null&&oe<g.width?!R||oe<$?(g.text="",g.width=g.contentWidth=0):(g.text=dxe(g.text,oe-$,F,e.ellipsis,{minChar:e.truncateMinChar}),g.width=g.contentWidth=Vs(g.text,F)):g.contentWidth=Vs(g.text,F)}g.width+=$,C+=g.width,T&&(x=Math.max(x,g.lineHeight))}k(_,C,x)}n.outerWidth=n.width=gn(r,d),n.outerHeight=n.height=gn(i,f),n.contentHeight=f,n.contentWidth=d,h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(var b=0;b<u.length;b++){var g=u[b],_e=g.percentWidth;g.width=parseInt(_e,10)/100*n.width}return n}function Ix(t,e,n,r,i){var o=e==="",a=i&&n.rich[i]||{},s=t.lines,l=a.font||n.font,c=!1,u,f;if(r){var d=a.padding,h=d?d[1]+d[3]:0;if(a.width!=null&&a.width!=="auto"){var m=cb(a.width,r.width)+h;s.length>0&&m+r.accumWidth>r.width&&(u=e.split(`
`),c=!0),r.accumWidth=m}else{var v=vte(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=v.accumWidth+h,f=v.linesWidths,u=v.lines}}else u=e.split(`
`);for(var k=0;k<u.length;k++){var b=u[k],_=new mxe;if(_.styleName=i,_.text=b,_.isLineHolder=!b&&!o,typeof a.width=="number"?_.width=a.width:_.width=f?f[k]:Vs(b,l),!k&&!c){var x=(s[s.length-1]||(s[0]=new LV)).tokens,C=x.length;C===1&&x[0].isLineHolder?x[0]=_:(b||!C||o)&&x.push(_)}else s.push(new LV([_]))}}function vxe(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var yxe=ah(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function kxe(t){return vxe(t)?!!yxe[t]:!0}function vte(t,e,n,r,i){for(var o=[],a=[],s="",l="",c=0,u=0,f=0;f<t.length;f++){var d=t.charAt(f);if(d===`
`){l&&(s+=l,u+=c),o.push(s),a.push(u),s="",l="",c=0,u=0;continue}var h=Vs(d,e),m=r?!1:!kxe(d);if(o.length?u+h>n:i+u+h>n){u?(s||l)&&(m?(s||(s=l,l="",c=0,u=c),o.push(s),a.push(u-c),l+=d,c+=h,s="",u=c):(l&&(s+=l,l="",c=0),o.push(s),a.push(u),s=d,u=h)):m?(o.push(l),a.push(c),l=d,c=h):(o.push(d),a.push(h));continue}u+=h,m?(l+=d,c+=h):(l&&(s+=l,l="",c=0),s+=d)}return!o.length&&!s&&(s=t,l="",c=0),l&&(s+=l),s&&(o.push(s),a.push(u)),o.length===1&&(u+=i),{accumWidth:u,lines:o,linesWidths:a}}var kI="__zr_style_"+Math.round(Math.random()*10),sm={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},H6={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};sm[kI]=!0;var FV=["z","z2","invisible"],_xe=["invisible"],wxe=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype._init=function(n){for(var r=ir(n),i=0;i<r.length;i++){var o=r[i];o==="style"?this.useStyle(n[o]):t.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(n,r,i,o){var a=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&Sxe(this,n,r)||a&&!a[0]&&!a[3])return!1;if(i&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(o&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(n,r){return this.rectContain(n,r)},e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.rectContain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();return o.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),o=this.style,a=o.shadowBlur||0,s=o.shadowOffsetX||0,l=o.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new $r(0,0,0,0)),r?$r.applyTransform(n,i,r):n.copy(i),(a||s||l)&&(n.width+=a*2+Math.abs(s),n.height+=a*2+Math.abs(l),n.x=Math.min(n.x,n.x+s-a),n.y=Math.min(n.y,n.y+l-a));var c=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-c),n.y=Math.floor(n.y-c),n.width=Math.ceil(n.width+1+c*2),n.height=Math.ceil(n.height+1+c*2))}return n},e.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new $r(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(n){return this.animate("style",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(n,r){n!=="style"?t.prototype.attrKV.call(this,n,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(n,r){return typeof n=="string"?this.style[n]=r:ot(this.style,n),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=Av,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&Av)},e.prototype.styleUpdated=function(){this.__dirty&=~Av},e.prototype.createStyle=function(n){return z6(sm,n)},e.prototype.useStyle=function(n){n[kI]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},e.prototype.isStyleObject=function(n){return n[kI]},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,FV)},e.prototype._applyStateObj=function(n,r,i,o,a,s){t.prototype._applyStateObj.call(this,n,r,i,o,a,s);var l=!(r&&o),c;if(r&&r.style?a?o?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(a){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var f=ir(u),d=0;d<f.length;d++){var h=f[d];h in c&&(c[h]=c[h],this.style[h]=u[h])}for(var m=ir(c),d=0;d<m.length;d++){var h=m[d];this.style[h]=this.style[h]}this._transitionState(n,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);for(var v=this.__inHover?_xe:FV,d=0;d<v.length;d++){var h=v[d];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var a=n[o];a.style&&(i=i||{},this._mergeStyle(i,a.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(n,r){return ot(n,r),n},e.prototype.getAnimationStyleProps=function(){return H6},e.initDefaultProps=function(){var n=e.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=Ns|Av}(),e}(ite),Px=new $r(0,0,0,0),Ex=new $r(0,0,0,0);function Sxe(t,e,n){return Px.copy(t.getBoundingRect()),t.transform&&Px.applyTransform(t.transform),Ex.width=e,Ex.height=n,!Px.intersect(Ex)}const h2=wxe;var ml=Math.min,gl=Math.max,$x=Math.sin,Ox=Math.cos,np=Math.PI*2,z3=Fb(),R3=Fb(),j3=Fb();function NV(t,e,n,r,i,o){i[0]=ml(t,n),i[1]=ml(e,r),o[0]=gl(t,n),o[1]=gl(e,r)}var MV=[],zV=[];function xxe(t,e,n,r,i,o,a,s,l,c){var u=Vee,f=wo,d=u(t,n,i,a,MV);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var h=0;h<d;h++){var m=f(t,n,i,a,MV[h]);l[0]=ml(m,l[0]),c[0]=gl(m,c[0])}d=u(e,r,o,s,zV);for(var h=0;h<d;h++){var v=f(e,r,o,s,zV[h]);l[1]=ml(v,l[1]),c[1]=gl(v,c[1])}l[0]=ml(t,l[0]),c[0]=gl(t,c[0]),l[0]=ml(a,l[0]),c[0]=gl(a,c[0]),l[1]=ml(e,l[1]),c[1]=gl(e,c[1]),l[1]=ml(s,l[1]),c[1]=gl(s,c[1])}function Cxe(t,e,n,r,i,o,a,s){var l=Bee,c=Ho,u=gl(ml(l(t,n,i),1),0),f=gl(ml(l(e,r,o),1),0),d=c(t,n,i,u),h=c(e,r,o,f);a[0]=ml(t,i,d),a[1]=ml(e,o,h),s[0]=gl(t,i,d),s[1]=gl(e,o,h)}function Txe(t,e,n,r,i,o,a,s,l){var c=u0,u=f0,f=Math.abs(i-o);if(f%np<1e-4&&f>1e-4){s[0]=t-n,s[1]=e-r,l[0]=t+n,l[1]=e+r;return}if(z3[0]=Ox(i)*n+t,z3[1]=$x(i)*r+e,R3[0]=Ox(o)*n+t,R3[1]=$x(o)*r+e,c(s,z3,R3),u(l,z3,R3),i=i%np,i<0&&(i=i+np),o=o%np,o<0&&(o=o+np),i>o&&!a?o+=np:i<o&&a&&(i+=np),a){var d=o;o=i,i=d}for(var h=0;h<o;h+=Math.PI/2)h>i&&(j3[0]=Ox(h)*n+t,j3[1]=$x(h)*r+e,c(s,j3,s),u(l,j3,l))}var ur={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},rp=[],ip=[],Rc=[],Zf=[],jc=[],Vc=[],Dx=Math.min,Lx=Math.max,op=Math.cos,ap=Math.sin,Vu=Math.abs,_I=Math.PI,dd=_I*2,Fx=typeof Float32Array<"u",H1=[];function Nx(t){var e=Math.round(t/_I*1e8)/1e8;return e%2*_I}function Axe(t,e){var n=Nx(t[0]);n<0&&(n+=dd);var r=n-t[0],i=t[1];i+=r,!e&&i-n>=dd?i=n+dd:e&&n-i>=dd?i=n-dd:!e&&n>i?i=n+(dd-Nx(n-i)):e&&n<i&&(i=n-(dd-Nx(i-n))),t[0]=n,t[1]=i}var Ixe=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,n,r){r=r||0,r>0&&(this._ux=Vu(r/L5/e)||0,this._uy=Vu(r/L5/n)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,n){return this._drawPendingPt(),this.addData(ur.M,e,n),this._ctx&&this._ctx.moveTo(e,n),this._x0=e,this._y0=n,this._xi=e,this._yi=n,this},t.prototype.lineTo=function(e,n){var r=Vu(e-this._xi),i=Vu(n-this._yi),o=r>this._ux||i>this._uy;if(this.addData(ur.L,e,n),this._ctx&&o&&this._ctx.lineTo(e,n),o)this._xi=e,this._yi=n,this._pendingPtDist=0;else{var a=r*r+i*i;a>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=n,this._pendingPtDist=a)}return this},t.prototype.bezierCurveTo=function(e,n,r,i,o,a){return this._drawPendingPt(),this.addData(ur.C,e,n,r,i,o,a),this._ctx&&this._ctx.bezierCurveTo(e,n,r,i,o,a),this._xi=o,this._yi=a,this},t.prototype.quadraticCurveTo=function(e,n,r,i){return this._drawPendingPt(),this.addData(ur.Q,e,n,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,n,r,i),this._xi=r,this._yi=i,this},t.prototype.arc=function(e,n,r,i,o,a){this._drawPendingPt(),H1[0]=i,H1[1]=o,Axe(H1,a),i=H1[0],o=H1[1];var s=o-i;return this.addData(ur.A,e,n,r,r,i,s,0,a?0:1),this._ctx&&this._ctx.arc(e,n,r,i,o,a),this._xi=op(o)*r+e,this._yi=ap(o)*r+n,this},t.prototype.arcTo=function(e,n,r,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,n,r,i,o),this},t.prototype.rect=function(e,n,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,n,r,i),this.addData(ur.R,e,n,r,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(ur.Z);var e=this._ctx,n=this._x0,r=this._y0;return e&&e.closePath(),this._xi=n,this._yi=r,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var n=e.length;!(this.data&&this.data.length===n)&&Fx&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=e[r];this._len=n},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var n=e.length,r=0,i=this._len,o=0;o<n;o++)r+=e[o].len();Fx&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var o=0;o<n;o++)for(var a=e[o].data,s=0;s<a.length;s++)this.data[i++]=a[s];this._len=i},t.prototype.addData=function(e,n,r,i,o,a,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var f=0;f<arguments.length;f++)u[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],n=0;n<this._len;n++)e[n]=this.data[n];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,Fx&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Rc[0]=Rc[1]=jc[0]=jc[1]=Number.MAX_VALUE,Zf[0]=Zf[1]=Vc[0]=Vc[1]=-Number.MAX_VALUE;var e=this.data,n=0,r=0,i=0,o=0,a;for(a=0;a<this._len;){var s=e[a++],l=a===1;switch(l&&(n=e[a],r=e[a+1],i=n,o=r),s){case ur.M:n=i=e[a++],r=o=e[a++],jc[0]=i,jc[1]=o,Vc[0]=i,Vc[1]=o;break;case ur.L:NV(n,r,e[a],e[a+1],jc,Vc),n=e[a++],r=e[a++];break;case ur.C:xxe(n,r,e[a++],e[a++],e[a++],e[a++],e[a],e[a+1],jc,Vc),n=e[a++],r=e[a++];break;case ur.Q:Cxe(n,r,e[a++],e[a++],e[a],e[a+1],jc,Vc),n=e[a++],r=e[a++];break;case ur.A:var c=e[a++],u=e[a++],f=e[a++],d=e[a++],h=e[a++],m=e[a++]+h;a+=1;var v=!e[a++];l&&(i=op(h)*f+c,o=ap(h)*d+u),Txe(c,u,f,d,h,m,v,jc,Vc),n=op(m)*f+c,r=ap(m)*d+u;break;case ur.R:i=n=e[a++],o=r=e[a++];var k=e[a++],b=e[a++];NV(i,o,i+k,o+b,jc,Vc);break;case ur.Z:n=i,r=o;break}u0(Rc,Rc,jc),f0(Zf,Zf,Vc)}return a===0&&(Rc[0]=Rc[1]=Zf[0]=Zf[1]=0),new $r(Rc[0],Rc[1],Zf[0]-Rc[0],Zf[1]-Rc[1])},t.prototype._calculateLength=function(){var e=this.data,n=this._len,r=this._ux,i=this._uy,o=0,a=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,f=0,d=0;d<n;){var h=e[d++],m=d===1;m&&(o=e[d],a=e[d+1],s=o,l=a);var v=-1;switch(h){case ur.M:o=s=e[d++],a=l=e[d++];break;case ur.L:{var k=e[d++],b=e[d++],_=k-o,x=b-a;(Vu(_)>r||Vu(x)>i||d===n-1)&&(v=Math.sqrt(_*_+x*x),o=k,a=b);break}case ur.C:{var C=e[d++],S=e[d++],k=e[d++],b=e[d++],g=e[d++],T=e[d++];v=jwe(o,a,C,S,k,b,g,T,10),o=g,a=T;break}case ur.Q:{var C=e[d++],S=e[d++],k=e[d++],b=e[d++];v=Hwe(o,a,C,S,k,b,10),o=k,a=b;break}case ur.A:var P=e[d++],$=e[d++],F=e[d++],D=e[d++],z=e[d++],R=e[d++],V=R+z;d+=1,e[d++],m&&(s=op(z)*F+P,l=ap(z)*D+$),v=Lx(F,D)*Dx(dd,Math.abs(R)),o=op(V)*F+P,a=ap(V)*D+$;break;case ur.R:{s=o=e[d++],l=a=e[d++];var ie=e[d++],oe=e[d++];v=ie*2+oe*2;break}case ur.Z:{var _=s-o,x=l-a;v=Math.sqrt(_*_+x*x),o=s,a=l;break}}v>=0&&(c[f++]=v,u+=v)}return this._pathLen=u,u},t.prototype.rebuildPath=function(e,n){var r=this.data,i=this._ux,o=this._uy,a=this._len,s,l,c,u,f,d,h=n<1,m,v,k=0,b=0,_,x=0,C,S;if(!(h&&(this._pathSegLen||this._calculateLength(),m=this._pathSegLen,v=this._pathLen,_=n*v,!_)))e:for(var g=0;g<a;){var T=r[g++],P=g===1;switch(P&&(c=r[g],u=r[g+1],s=c,l=u),T!==ur.L&&x>0&&(e.lineTo(C,S),x=0),T){case ur.M:s=c=r[g++],l=u=r[g++],e.moveTo(c,u);break;case ur.L:{f=r[g++],d=r[g++];var $=Vu(f-c),F=Vu(d-u);if($>i||F>o){if(h){var D=m[b++];if(k+D>_){var z=(_-k)/D;e.lineTo(c*(1-z)+f*z,u*(1-z)+d*z);break e}k+=D}e.lineTo(f,d),c=f,u=d,x=0}else{var R=$*$+F*F;R>x&&(C=f,S=d,x=R)}break}case ur.C:{var V=r[g++],ie=r[g++],oe=r[g++],_e=r[g++],Ae=r[g++],Ie=r[g++];if(h){var D=m[b++];if(k+D>_){var z=(_-k)/D;P5(c,V,oe,Ae,z,rp),P5(u,ie,_e,Ie,z,ip),e.bezierCurveTo(rp[1],ip[1],rp[2],ip[2],rp[3],ip[3]);break e}k+=D}e.bezierCurveTo(V,ie,oe,_e,Ae,Ie),c=Ae,u=Ie;break}case ur.Q:{var V=r[g++],ie=r[g++],oe=r[g++],_e=r[g++];if(h){var D=m[b++];if(k+D>_){var z=(_-k)/D;E5(c,V,oe,z,rp),E5(u,ie,_e,z,ip),e.quadraticCurveTo(rp[1],ip[1],rp[2],ip[2]);break e}k+=D}e.quadraticCurveTo(V,ie,oe,_e),c=oe,u=_e;break}case ur.A:var ke=r[g++],se=r[g++],ne=r[g++],J=r[g++],j=r[g++],U=r[g++],ae=r[g++],te=!r[g++],ue=ne>J?ne:J,ce=Vu(ne-J)>.001,fe=j+U,ve=!1;if(h){var D=m[b++];k+D>_&&(fe=j+U*(_-k)/D,ve=!0),k+=D}if(ce&&e.ellipse?e.ellipse(ke,se,ne,J,ae,j,fe,te):e.arc(ke,se,ue,j,fe,te),ve)break e;P&&(s=op(j)*ne+ke,l=ap(j)*J+se),c=op(fe)*ne+ke,u=ap(fe)*J+se;break;case ur.R:s=c=r[g],l=u=r[g+1],f=r[g++],d=r[g++];var B=r[g++],Y=r[g++];if(h){var D=m[b++];if(k+D>_){var E=_-k;e.moveTo(f,d),e.lineTo(f+Dx(E,B),d),E-=B,E>0&&e.lineTo(f+B,d+Dx(E,Y)),E-=Y,E>0&&e.lineTo(f+Lx(B-E,0),d+Y),E-=B,E>0&&e.lineTo(f,d+Lx(Y-E,0));break e}k+=D}e.rect(f,d,B,Y);break;case ur.Z:if(h){var D=m[b++];if(k+D>_){var z=(_-k)/D;e.lineTo(c*(1-z)+s*z,u*(1-z)+l*z);break e}k+=D}e.closePath(),c=s,u=l}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=ur,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();const sh=Ixe;function Ag(t,e,n,r,i,o,a){if(i===0)return!1;var s=i,l=0,c=t;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t!==n)l=(e-r)/(t-n),c=(t*r-n*e)/(t-n);else return Math.abs(o-t)<=s/2;var u=l*o-a+c,f=u*u/(l*l+1);return f<=s/2*s/2}function Pxe(t,e,n,r,i,o,a,s,l,c,u){if(l===0)return!1;var f=l;if(u>e+f&&u>r+f&&u>o+f&&u>s+f||u<e-f&&u<r-f&&u<o-f&&u<s-f||c>t+f&&c>n+f&&c>i+f&&c>a+f||c<t-f&&c<n-f&&c<i-f&&c<a-f)return!1;var d=Rwe(t,e,n,r,i,o,a,s,c,u,null);return d<=f/2}function Exe(t,e,n,r,i,o,a,s,l){if(a===0)return!1;var c=a;if(l>e+c&&l>r+c&&l>o+c||l<e-c&&l<r-c&&l<o-c||s>t+c&&s>n+c&&s>i+c||s<t-c&&s<n-c&&s<i-c)return!1;var u=Bwe(t,e,n,r,i,o,s,l,null);return u<=c/2}var RV=Math.PI*2;function h0(t){return t%=RV,t<0&&(t+=RV),t}var W1=Math.PI*2;function $xe(t,e,n,r,i,o,a,s,l){if(a===0)return!1;var c=a;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(u-c>n||u+c<n)return!1;if(Math.abs(r-i)%W1<1e-4)return!0;if(o){var f=r;r=h0(i),i=h0(f)}else r=h0(r),i=h0(i);r>i&&(i+=W1);var d=Math.atan2(l,s);return d<0&&(d+=W1),d>=r&&d<=i||d+W1>=r&&d+W1<=i}function sp(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r||r===e)return 0;var a=(o-e)/(r-e),s=r<e?1:-1;(a===1||a===0)&&(s=r<e?.5:-.5);var l=a*(n-t)+t;return l===i?1/0:l>i?s:0}var Qf=sh.CMD,lp=Math.PI*2,Oxe=1e-4;function Dxe(t,e){return Math.abs(t-e)<Oxe}var va=[-1,-1,-1],dl=[-1,-1];function Lxe(){var t=dl[0];dl[0]=dl[1],dl[1]=t}function Fxe(t,e,n,r,i,o,a,s,l,c){if(c>e&&c>r&&c>o&&c>s||c<e&&c<r&&c<o&&c<s)return 0;var u=jee(e,r,o,s,c,va);if(u===0)return 0;for(var f=0,d=-1,h=void 0,m=void 0,v=0;v<u;v++){var k=va[v],b=k===0||k===1?.5:1,_=wo(t,n,i,a,k);_<l||(d<0&&(d=Vee(e,r,o,s,dl),dl[1]<dl[0]&&d>1&&Lxe(),h=wo(e,r,o,s,dl[0]),d>1&&(m=wo(e,r,o,s,dl[1]))),d===2?k<dl[0]?f+=h<e?b:-b:k<dl[1]?f+=m<h?b:-b:f+=s<m?b:-b:k<dl[0]?f+=h<e?b:-b:f+=s<h?b:-b)}return f}function Nxe(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var l=Vwe(e,r,o,s,va);if(l===0)return 0;var c=Bee(e,r,o);if(c>=0&&c<=1){for(var u=0,f=Ho(e,r,o,c),d=0;d<l;d++){var h=va[d]===0||va[d]===1?.5:1,m=Ho(t,n,i,va[d]);m<a||(va[d]<c?u+=f<e?h:-h:u+=o<f?h:-h)}return u}else{var h=va[0]===0||va[0]===1?.5:1,m=Ho(t,n,i,va[0]);return m<a?0:o<e?h:-h}}function Mxe(t,e,n,r,i,o,a,s){if(s-=e,s>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);va[0]=-l,va[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=lp-1e-4){r=0,i=lp;var u=o?1:-1;return a>=va[0]+t&&a<=va[1]+t?u:0}if(r>i){var f=r;r=i,i=f}r<0&&(r+=lp,i+=lp);for(var d=0,h=0;h<2;h++){var m=va[h];if(m+t>a){var v=Math.atan2(s,m),u=o?1:-1;v<0&&(v=lp+v),(v>=r&&v<=i||v+lp>=r&&v+lp<=i)&&(v>Math.PI/2&&v<Math.PI*1.5&&(u=-u),d+=u)}}return d}function yte(t,e,n,r,i){for(var o=t.data,a=t.len(),s=0,l=0,c=0,u=0,f=0,d,h,m=0;m<a;){var v=o[m++],k=m===1;switch(v===Qf.M&&m>1&&(n||(s+=sp(l,c,u,f,r,i))),k&&(l=o[m],c=o[m+1],u=l,f=c),v){case Qf.M:u=o[m++],f=o[m++],l=u,c=f;break;case Qf.L:if(n){if(Ag(l,c,o[m],o[m+1],e,r,i))return!0}else s+=sp(l,c,o[m],o[m+1],r,i)||0;l=o[m++],c=o[m++];break;case Qf.C:if(n){if(Pxe(l,c,o[m++],o[m++],o[m++],o[m++],o[m],o[m+1],e,r,i))return!0}else s+=Fxe(l,c,o[m++],o[m++],o[m++],o[m++],o[m],o[m+1],r,i)||0;l=o[m++],c=o[m++];break;case Qf.Q:if(n){if(Exe(l,c,o[m++],o[m++],o[m],o[m+1],e,r,i))return!0}else s+=Nxe(l,c,o[m++],o[m++],o[m],o[m+1],r,i)||0;l=o[m++],c=o[m++];break;case Qf.A:var b=o[m++],_=o[m++],x=o[m++],C=o[m++],S=o[m++],g=o[m++];m+=1;var T=!!(1-o[m++]);d=Math.cos(S)*x+b,h=Math.sin(S)*C+_,k?(u=d,f=h):s+=sp(l,c,d,h,r,i);var P=(r-b)*C/x+b;if(n){if($xe(b,_,C,S,S+g,T,e,P,i))return!0}else s+=Mxe(b,_,C,S,S+g,T,P,i);l=Math.cos(S+g)*x+b,c=Math.sin(S+g)*C+_;break;case Qf.R:u=l=o[m++],f=c=o[m++];var $=o[m++],F=o[m++];if(d=u+$,h=f+F,n){if(Ag(u,f,d,f,e,r,i)||Ag(d,f,d,h,e,r,i)||Ag(d,h,u,h,e,r,i)||Ag(u,h,u,f,e,r,i))return!0}else s+=sp(d,f,d,h,r,i),s+=sp(u,h,u,f,r,i);break;case Qf.Z:if(n){if(Ag(l,c,u,f,e,r,i))return!0}else s+=sp(l,c,u,f,r,i);l=u,c=f;break}}return!n&&!Dxe(c,f)&&(s+=sp(l,c,u,f,r,i)||0),s!==0}function zxe(t,e,n){return yte(t,0,!1,e,n)}function Rxe(t,e,n,r){return yte(t,e,!0,n,r)}var M5=mi({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},sm),jxe={style:mi({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},H6.style)},Mx=Jy.concat(["invisible","culling","z","z2","zlevel","parent"]),Vxe=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.update=function(){var n=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){n.buildPath(l,n.shape)}),i.silent=!0;var o=i.style;for(var a in r)o[a]!==r[a]&&(o[a]=r[a]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var s=0;s<Mx.length;++s)i[Mx[s]]=this[Mx[s]];i.__dirty|=Ns}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(n){var r=ir(n);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<r.length;o++){var a=r[o],s=n[a];a==="style"?this.style?ot(this.style,s):this.useStyle(s):a==="shape"?ot(this.shape,s):t.prototype.attrKV.call(this,a,s)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(Et(n)){var r=O5(n,0);return r>.5?gI:r>.2?_Se:bI}else if(n)return bI}return gI},e.prototype.getInsideTextStroke=function(n){var r=this.style.fill;if(Et(r)){var i=this.__zr,o=!!(i&&i.isDarkMode()),a=O5(n,0)<mI;if(o===a)return r}},e.prototype.buildPath=function(n,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~Xg},e.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},e.prototype.createPathProxy=function(){this.path=new sh(!1)},e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return!(r==null||r==="none"||!(n.lineWidth>0))},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var n=this._rect,r=this.style,i=!n;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var a=this.path;(o||this.__dirty&Xg)&&(a.beginPath(),this.buildPath(a,this.shape,!1),this.pathUpdated()),n=a.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||i){s.copy(n);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return n},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect(),a=this.style;if(n=i[0],r=i[1],o.contain(n,r)){var s=this.path;if(this.hasStroke()){var l=a.lineWidth,c=a.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),Rxe(s,l/c,n,r)))return!0}if(this.hasFill())return zxe(s,n,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=Xg,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(n){return this.animate("shape",n)},e.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(n,r){n==="shape"?this.setShape(r):t.prototype.attrKV.call(this,n,r)},e.prototype.setShape=function(n,r){var i=this.shape;return i||(i=this.shape={}),typeof n=="string"?i[n]=r:ot(i,n),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&Xg)},e.prototype.createStyle=function(n){return z6(M5,n)},e.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=ot({},this.shape))},e.prototype._applyStateObj=function(n,r,i,o,a,s){t.prototype._applyStateObj.call(this,n,r,i,o,a,s);var l=!(r&&o),c;if(r&&r.shape?a?o?c=r.shape:(c=ot({},i.shape),ot(c,r.shape)):(c=ot({},o?this.shape:i.shape),ot(c,r.shape)):l&&(c=i.shape),c)if(a){this.shape=ot({},this.shape);for(var u={},f=ir(c),d=0;d<f.length;d++){var h=f[d];typeof c[h]=="object"?this.shape[h]=c[h]:u[h]=c[h]}this._transitionState(n,{shape:u},s)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),i,o=0;o<n.length;o++){var a=n[o];a.shape&&(i=i||{},this._mergeStyle(i,a.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return jxe},e.prototype.isZeroArea=function(){return!1},e.extend=function(n){var r=function(o){Cr(a,o);function a(s){var l=o.call(this,s)||this;return n.init&&n.init.call(l,s),l}return a.prototype.getDefaultStyle=function(){return Gn(n.style)},a.prototype.getDefaultShape=function(){return Gn(n.shape)},a}(e);for(var i in n)typeof n[i]=="function"&&(r.prototype[i]=n[i]);return r},e.initDefaultProps=function(){var n=e.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=Ns|Av|Xg}(),e}(h2);const Dr=Vxe;var Bxe=mi({strokeFirst:!0,font:oh,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},M5),kte=function(t){Cr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var n=this.style,r=n.stroke;return r!=null&&r!=="none"&&n.lineWidth>0},e.prototype.hasFill=function(){var n=this.style,r=n.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(n){return z6(Bxe,n)},e.prototype.setBoundingRect=function(n){this._rect=n},e.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var r=n.text;r!=null?r+="":r="";var i=tte(r,n.font,n.textAlign,n.textBaseline);if(i.x+=n.x||0,i.y+=n.y||0,this.hasStroke()){var o=n.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},e.initDefaultProps=function(){var n=e.prototype;n.dirtyRectTolerance=10}(),e}(h2);kte.prototype.type="tspan";const z5=kte;var Hxe=mi({x:0,y:0},sm),Wxe={style:mi({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},H6.style)};function Uxe(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var _te=function(t){Cr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(n){return z6(Hxe,n)},e.prototype._getSize=function(n){var r=this.style,i=r[n];if(i!=null)return i;var o=Uxe(r.image)?r.image:this.__image;if(!o)return 0;var a=n==="width"?"height":"width",s=r[a];return s==null?o[n]:o[n]/o[a]*s},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return Wxe},e.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new $r(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},e}(h2);_te.prototype.type="image";const mh=_te;function Gxe(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.r,s,l,c,u;i<0&&(n=n+i,i=-i),o<0&&(r=r+o,o=-o),typeof a=="number"?s=l=c=u=a:a instanceof Array?a.length===1?s=l=c=u=a[0]:a.length===2?(s=c=a[0],l=u=a[1]):a.length===3?(s=a[0],l=u=a[1],c=a[2]):(s=a[0],l=a[1],c=a[2],u=a[3]):s=l=c=u=0;var f;s+l>i&&(f=s+l,s*=i/f,l*=i/f),c+u>i&&(f=c+u,c*=i/f,u*=i/f),l+c>o&&(f=l+c,l*=o/f,c*=o/f),s+u>o&&(f=s+u,s*=o/f,u*=o/f),t.moveTo(n+s,r),t.lineTo(n+i-l,r),l!==0&&t.arc(n+i-l,r+l,l,-Math.PI/2,0),t.lineTo(n+i,r+o-c),c!==0&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2),t.lineTo(n+u,r+o),u!==0&&t.arc(n+u,r+o-u,u,Math.PI/2,Math.PI),t.lineTo(n,r+s),s!==0&&t.arc(n+s,r+s,s,Math.PI,Math.PI*1.5)}var p0=Math.round;function wte(t,e,n){if(e){var r=e.x1,i=e.x2,o=e.y1,a=e.y2;t.x1=r,t.x2=i,t.y1=o,t.y2=a;var s=n&&n.lineWidth;return s&&(p0(r*2)===p0(i*2)&&(t.x1=t.x2=Yp(r,s,!0)),p0(o*2)===p0(a*2)&&(t.y1=t.y2=Yp(o,s,!0))),t}}function Ste(t,e,n){if(e){var r=e.x,i=e.y,o=e.width,a=e.height;t.x=r,t.y=i,t.width=o,t.height=a;var s=n&&n.lineWidth;return s&&(t.x=Yp(r,s,!0),t.y=Yp(i,s,!0),t.width=Math.max(Yp(r+o,s,!1)-t.x,o===0?0:1),t.height=Math.max(Yp(i+a,s,!1)-t.y,a===0?0:1)),t}}function Yp(t,e,n){if(!e)return t;var r=p0(t*2);return(r+p0(e))%2===0?r/2:(r+(n?1:-1))/2}var qxe=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),Yxe={},xte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new qxe},e.prototype.buildPath=function(n,r){var i,o,a,s;if(this.subPixelOptimize){var l=Ste(Yxe,r,this.style);i=l.x,o=l.y,a=l.width,s=l.height,l.r=r.r,r=l}else i=r.x,o=r.y,a=r.width,s=r.height;r.r?Gxe(n,r):n.rect(i,o,a,s)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Dr);xte.prototype.type="rect";const Qo=xte;var jV={fill:"#000"},VV=2,Xxe={style:mi({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},H6.style)},Cte=function(t){Cr(e,t);function e(n){var r=t.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=jV,r.attr(n),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,Zxe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},e.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new $r(0,0,0,0),r=this._children,i=[],o=null,a=0;a<r.length;a++){var s=r[a],l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(n.copy(l),n.applyTransform(c),o=o||n.clone(),o.union(n)):(o=o||l.clone(),o.union(l))}this._rect=o||n}return this._rect},e.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||jV},e.prototype.setTextContent=function(n){},e.prototype._mergeStyle=function(n,r){if(!r)return n;var i=r.rich,o=n.rich||i&&{};return ot(n,r),i&&o?(this._mergeRich(o,i),n.rich=o):o&&(n.rich=o),n},e.prototype._mergeRich=function(n,r){for(var i=ir(r),o=0;o<i.length;o++){var a=i[o];n[a]=n[a]||{},ot(n[a],r[a])}},e.prototype.getAnimationStyleProps=function(){return Xxe},e.prototype._getOrCreateChild=function(n){var r=this._children[this._childCursor];return(!r||!(r instanceof n))&&(r=new n),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var n=this.style,r=n.font||oh,i=n.padding,o=YV(n),a=pxe(o,n),s=zx(n),l=!!n.backgroundColor,c=a.outerHeight,u=a.outerWidth,f=a.contentWidth,d=a.lines,h=a.lineHeight,m=this._defaultStyle,v=n.x||0,k=n.y||0,b=n.align||m.align||"left",_=n.verticalAlign||m.verticalAlign||"top",x=v,C=Kg(k,a.contentHeight,_);if(s||i){var S=Pv(v,u,b),g=Kg(k,c,_);s&&this._renderBackground(n,n,S,g,u,c)}C+=h/2,i&&(x=qV(v,b,i),_==="top"?C+=i[0]:_==="bottom"&&(C-=i[2]));for(var T=0,P=!1,$=GV("fill"in n?n.fill:(P=!0,m.fill)),F=UV("stroke"in n?n.stroke:!l&&(!m.autoStroke||P)?(T=VV,m.stroke):null),D=n.textShadowBlur>0,z=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),R=a.calculatedLineHeight,V=0;V<d.length;V++){var ie=this._getOrCreateChild(z5),oe=ie.createStyle();ie.useStyle(oe),oe.text=d[V],oe.x=x,oe.y=C,b&&(oe.textAlign=b),oe.textBaseline="middle",oe.opacity=n.opacity,oe.strokeFirst=!0,D&&(oe.shadowBlur=n.textShadowBlur||0,oe.shadowColor=n.textShadowColor||"transparent",oe.shadowOffsetX=n.textShadowOffsetX||0,oe.shadowOffsetY=n.textShadowOffsetY||0),oe.stroke=F,oe.fill=$,F&&(oe.lineWidth=n.lineWidth||T,oe.lineDash=n.lineDash,oe.lineDashOffset=n.lineDashOffset||0),oe.font=r,HV(oe,n),C+=h,z&&ie.setBoundingRect(new $r(Pv(oe.x,n.width,oe.textAlign),Kg(oe.y,R,oe.textBaseline),f,R))}},e.prototype._updateRichTexts=function(){var n=this.style,r=YV(n),i=bxe(r,n),o=i.width,a=i.outerWidth,s=i.outerHeight,l=n.padding,c=n.x||0,u=n.y||0,f=this._defaultStyle,d=n.align||f.align,h=n.verticalAlign||f.verticalAlign,m=Pv(c,a,d),v=Kg(u,s,h),k=m,b=v;l&&(k+=l[3],b+=l[0]);var _=k+o;zx(n)&&this._renderBackground(n,n,m,v,a,s);for(var x=!!n.backgroundColor,C=0;C<i.lines.length;C++){for(var S=i.lines[C],g=S.tokens,T=g.length,P=S.lineHeight,$=S.width,F=0,D=k,z=_,R=T-1,V=void 0;F<T&&(V=g[F],!V.align||V.align==="left");)this._placeToken(V,n,P,b,D,"left",x),$-=V.width,D+=V.width,F++;for(;R>=0&&(V=g[R],V.align==="right");)this._placeToken(V,n,P,b,z,"right",x),$-=V.width,z-=V.width,R--;for(D+=(o-(D-k)-(_-z)-$)/2;F<=R;)V=g[F],this._placeToken(V,n,P,b,D+V.width/2,"center",x),D+=V.width,F++;b+=P}},e.prototype._placeToken=function(n,r,i,o,a,s,l){var c=r.rich[n.styleName]||{};c.text=n.text;var u=n.verticalAlign,f=o+i/2;u==="top"?f=o+n.height/2:u==="bottom"&&(f=o+i-n.height/2);var d=!n.isLineHolder&&zx(c);d&&this._renderBackground(c,r,s==="right"?a-n.width:s==="center"?a-n.width/2:a,f-n.height/2,n.width,n.height);var h=!!c.backgroundColor,m=n.textPadding;m&&(a=qV(a,s,m),f-=n.height/2-m[0]-n.innerHeight/2);var v=this._getOrCreateChild(z5),k=v.createStyle();v.useStyle(k);var b=this._defaultStyle,_=!1,x=0,C=GV("fill"in c?c.fill:"fill"in r?r.fill:(_=!0,b.fill)),S=UV("stroke"in c?c.stroke:"stroke"in r?r.stroke:!h&&!l&&(!b.autoStroke||_)?(x=VV,b.stroke):null),g=c.textShadowBlur>0||r.textShadowBlur>0;k.text=n.text,k.x=a,k.y=f,g&&(k.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,k.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",k.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,k.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),k.textAlign=s,k.textBaseline="middle",k.font=n.font||oh,k.opacity=D0(c.opacity,r.opacity,1),HV(k,c),S&&(k.lineWidth=D0(c.lineWidth,r.lineWidth,x),k.lineDash=gn(c.lineDash,r.lineDash),k.lineDashOffset=r.lineDashOffset||0,k.stroke=S),C&&(k.fill=C);var T=n.contentWidth,P=n.contentHeight;v.setBoundingRect(new $r(Pv(k.x,T,k.textAlign),Kg(k.y,P,k.textBaseline),T,P))},e.prototype._renderBackground=function(n,r,i,o,a,s){var l=n.backgroundColor,c=n.borderWidth,u=n.borderColor,f=l&&l.image,d=l&&!f,h=n.borderRadius,m=this,v,k;if(d||n.lineHeight||c&&u){v=this._getOrCreateChild(Qo),v.useStyle(v.createStyle()),v.style.fill=null;var b=v.shape;b.x=i,b.y=o,b.width=a,b.height=s,b.r=h,v.dirtyShape()}if(d){var _=v.style;_.fill=l||null,_.fillOpacity=gn(n.fillOpacity,1)}else if(f){k=this._getOrCreateChild(mh),k.onload=function(){m.dirtyStyle()};var x=k.style;x.image=l.image,x.x=i,x.y=o,x.width=a,x.height=s}if(c&&u){var _=v.style;_.lineWidth=c,_.stroke=u,_.strokeOpacity=gn(n.strokeOpacity,1),_.lineDash=n.borderDash,_.lineDashOffset=n.borderDashOffset||0,v.strokeContainThreshold=0,v.hasFill()&&v.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var C=(v||k).style;C.shadowBlur=n.shadowBlur||0,C.shadowColor=n.shadowColor||"transparent",C.shadowOffsetX=n.shadowOffsetX||0,C.shadowOffsetY=n.shadowOffsetY||0,C.opacity=D0(n.opacity,r.opacity,1)},e.makeFont=function(n){var r="";return Ate(n)&&(r=[n.fontStyle,n.fontWeight,Tte(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),r&&au(r)||n.textFont||n.font},e}(h2),Kxe={left:!0,right:1,center:1},Jxe={top:1,bottom:1,middle:1},BV=["fontStyle","fontWeight","fontSize","fontFamily"];function Tte(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?q$+"px":t+"px"}function HV(t,e){for(var n=0;n<BV.length;n++){var r=BV[n],i=e[r];i!=null&&(t[r]=i)}}function Ate(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function Zxe(t){return WV(t),ye(t.rich,WV),t}function WV(t){if(t){t.font=Cte.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||Kxe[e]?e:"left";var n=t.verticalAlign;n==="center"&&(n="middle"),t.verticalAlign=n==null||Jxe[n]?n:"top";var r=t.padding;r&&(t.padding=Cee(t.padding))}}function UV(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function GV(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function qV(t,e,n){return e==="right"?t-n[1]:e==="center"?t+n[3]/2-n[1]/2:t+n[3]}function YV(t){var e=t.text;return e!=null&&(e+=""),e}function zx(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const ea=Cte;var jr=no(),Qxe=function(t,e,n,r){if(r){var i=jr(r);i.dataIndex=n,i.dataType=e,i.seriesIndex=t,r.type==="group"&&r.traverse(function(o){var a=jr(o);a.seriesIndex=t,a.dataIndex=n,a.dataType=e})}},XV=1,KV={},Ite=no(),fO=no(),Pte=0,dO=1,hO=2,pc=["emphasis","blur","select"],e4=["normal","emphasis","blur","select"],eCe=10,tCe=9,lm="highlight",b8="downplay",ny="select",v8="unselect",ry="toggleSelect";function Ig(t){return t!=null&&t!=="none"}var JV=new c2(100);function ZV(t){if(Et(t)){var e=JV.get(t);return e||(e=lI(t,-.1),JV.put(t,e)),e}else if(M6(t)){var n=ot({},t);return n.colorStops=tn(t.colorStops,function(r){return{offset:r.offset,color:lI(r.color,-.1)}}),n}return t}function W6(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function Ete(t){W6(t,"emphasis",hO)}function $te(t){t.hoverState===hO&&W6(t,"normal",Pte)}function pO(t){W6(t,"blur",dO)}function Ote(t){t.hoverState===dO&&W6(t,"normal",Pte)}function nCe(t){t.selected=!0}function rCe(t){t.selected=!1}function QV(t,e,n){e(t,n)}function Df(t,e,n){QV(t,e,n),t.isGroup&&t.traverse(function(r){QV(r,e,n)})}function iCe(t,e,n,r){for(var i=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=i[s];o[s]=l??(r&&r[s])}for(var a=0;a<t.animators.length;a++){var c=t.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&c.targetName==="style"&&c.saveTo(o,e)}return o}function oCe(t,e,n,r){var i=n&&wr(n,"select")>=0,o=!1;if(t instanceof Dr){var a=Ite(t),s=i&&a.selectFill||a.normalFill,l=i&&a.selectStroke||a.normalStroke;if(Ig(s)||Ig(l)){r=r||{};var c=r.style||{};c.fill==="inherit"?(o=!0,r=ot({},r),c=ot({},c),c.fill=s):!Ig(c.fill)&&Ig(s)?(o=!0,r=ot({},r),c=ot({},c),c.fill=ZV(s)):!Ig(c.stroke)&&Ig(l)&&(o||(r=ot({},r),c=ot({},c)),c.stroke=ZV(l)),r.style=c}}if(r&&r.z2==null){o||(r=ot({},r));var u=t.z2EmphasisLift;r.z2=t.z2+(u??eCe)}return r}function aCe(t,e,n){if(n&&n.z2==null){n=ot({},n);var r=t.z2SelectLift;n.z2=t.z2+(r??tCe)}return n}function sCe(t,e,n){var r=wr(t.currentStates,e)>=0,i=t.style.opacity,o=r?null:iCe(t,["opacity"],e,{opacity:1});n=n||{};var a=n.style||{};return a.opacity==null&&(n=ot({},n),a=ot({opacity:r?i:o.opacity*.1},a),n.style=a),n}function Rx(t,e){var n=this.states[t];if(this.style){if(t==="emphasis")return oCe(this,t,e,n);if(t==="blur")return sCe(this,t,n);if(t==="select")return aCe(this,t,n)}return n}function lCe(t){t.stateProxy=Rx;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=Rx),n&&(n.stateProxy=Rx)}function eB(t,e){!Nte(t,e)&&!t.__highByOuter&&Df(t,Ete)}function tB(t,e){!Nte(t,e)&&!t.__highByOuter&&Df(t,$te)}function R5(t,e){t.__highByOuter|=1<<(e||0),Df(t,Ete)}function j5(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&Df(t,$te)}function cCe(t){Df(t,pO)}function Dte(t){Df(t,Ote)}function Lte(t){Df(t,nCe)}function Fte(t){Df(t,rCe)}function Nte(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Mte(t){var e=t.getModel(),n=[],r=[];e.eachComponent(function(i,o){var a=fO(o),s=i==="series",l=s?t.getViewOfSeriesModel(o):t.getViewOfComponentModel(o);!s&&r.push(l),a.isBlured&&(l.group.traverse(function(c){Ote(c)}),s&&n.push(o)),a.isBlured=!1}),ye(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(n,!1,e)})}function wI(t,e,n,r){var i=r.getModel();n=n||"coordinateSystem";function o(c,u){for(var f=0;f<u.length;f++){var d=c.getItemGraphicEl(u[f]);d&&Dte(d)}}if(t!=null&&!(!e||e==="none")){var a=i.getSeriesByIndex(t),s=a.coordinateSystem;s&&s.master&&(s=s.master);var l=[];i.eachSeries(function(c){var u=a===c,f=c.coordinateSystem;f&&f.master&&(f=f.master);var d=f&&s?f===s:u;if(!(n==="series"&&!u||n==="coordinateSystem"&&!d||e==="series"&&u)){var h=r.getViewOfSeriesModel(c);if(h.group.traverse(function(k){k.__highByOuter&&u&&e==="self"||pO(k)}),ds(e))o(c.getData(),e);else if(Bt(e))for(var m=ir(e),v=0;v<m.length;v++)o(c.getData(m[v]),e[m[v]]);l.push(c),fO(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var f=r.getViewOfComponentModel(u);f&&f.toggleBlurSeries&&f.toggleBlurSeries(l,!0,i)}})}}function SI(t,e,n){if(!(t==null||e==null)){var r=n.getModel().getComponent(t,e);if(r){fO(r).isBlured=!0;var i=n.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(o){pO(o)})}}}function uCe(t,e,n){var r=t.seriesIndex,i=t.getData(e.dataType);if(i){var o=f2(i,e);o=(gt(o)?o[0]:o)||0;var a=i.getItemGraphicEl(o);if(!a)for(var s=i.count(),l=0;!a&&l<s;)a=i.getItemGraphicEl(l++);if(a){var c=jr(a);wI(r,c.focus,c.blurScope,n)}else{var u=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);u!=null&&wI(r,u,f,n)}}}function mO(t,e,n,r){var i={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||n==null)return i;var o=r.getModel().getComponent(t,e);if(!o)return i;var a=r.getViewOfComponentModel(o);if(!a||!a.findHighDownDispatchers)return i;for(var s=a.findHighDownDispatchers(n),l,c=0;c<s.length;c++)if(jr(s[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:s}}function fCe(t,e,n){var r=jr(t),i=mO(r.componentMainType,r.componentIndex,r.componentHighDownName,n),o=i.dispatchers,a=i.focusSelf;o?(a&&SI(r.componentMainType,r.componentIndex,n),ye(o,function(s){return eB(s,e)})):(wI(r.seriesIndex,r.focus,r.blurScope,n),r.focus==="self"&&SI(r.componentMainType,r.componentIndex,n),eB(t,e))}function dCe(t,e,n){Mte(n);var r=jr(t),i=mO(r.componentMainType,r.componentIndex,r.componentHighDownName,n).dispatchers;i?ye(i,function(o){return tB(o,e)}):tB(t,e)}function hCe(t,e,n){if(AI(e)){var r=e.dataType,i=t.getData(r),o=f2(i,e);gt(o)||(o=[o]),t[e.type===ry?"toggleSelect":e.type===ny?"select":"unselect"](o,r)}}function nB(t){var e=t.getAllData();ye(e,function(n){var r=n.data,i=n.type;r.eachItemGraphicEl(function(o,a){t.isSelected(a,i)?Lte(o):Fte(o)})})}function pCe(t){var e=[];return t.eachSeries(function(n){var r=n.getAllData();ye(r,function(i){i.data;var o=i.type,a=n.getSelectedDataIndices();if(a.length>0){var s={dataIndex:a,seriesIndex:n.seriesIndex};o!=null&&(s.dataType=o),e.push(s)}})}),e}function xI(t,e,n){zte(t,!0),Df(t,lCe),gCe(t,e,n)}function mCe(t){zte(t,!1)}function V5(t,e,n,r){r?mCe(t):xI(t,e,n)}function gCe(t,e,n){var r=jr(t);e!=null?(r.focus=e,r.blurScope=n):r.focus&&(r.focus=null)}var rB=["emphasis","blur","select"],bCe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function CI(t,e,n,r){n=n||"itemStyle";for(var i=0;i<rB.length;i++){var o=rB[i],a=e.getModel([o,n]),s=t.ensureState(o);s.style=r?r(a):a[bCe[n]]()}}function zte(t,e){var n=e===!1,r=t;t.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!n||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!n)}function TI(t){return!!(t&&t.__highDownDispatcher)}function vCe(t){var e=KV[t];return e==null&&XV<=32&&(e=KV[t]=XV++),e}function AI(t){var e=t.type;return e===ny||e===v8||e===ry}function iB(t){var e=t.type;return e===lm||e===b8}function yCe(t){var e=Ite(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}var Pg=sh.CMD,kCe=[[],[],[]],oB=Math.sqrt,_Ce=Math.atan2;function wCe(t,e){if(e){var n=t.data,r=t.len(),i,o,a,s,l,c,u=Pg.M,f=Pg.C,d=Pg.L,h=Pg.R,m=Pg.A,v=Pg.Q;for(a=0,s=0;a<r;){switch(i=n[a++],s=a,o=0,i){case u:o=1;break;case d:o=1;break;case f:o=3;break;case v:o=2;break;case m:var k=e[4],b=e[5],_=oB(e[0]*e[0]+e[1]*e[1]),x=oB(e[2]*e[2]+e[3]*e[3]),C=_Ce(-e[1]/x,e[0]/_);n[a]*=_,n[a++]+=k,n[a]*=x,n[a++]+=b,n[a++]*=_,n[a++]*=x,n[a++]+=C,n[a++]+=C,a+=2,s=a;break;case h:c[0]=n[a++],c[1]=n[a++],fu(c,c,e),n[s++]=c[0],n[s++]=c[1],c[0]+=n[a++],c[1]+=n[a++],fu(c,c,e),n[s++]=c[0],n[s++]=c[1]}for(l=0;l<o;l++){var S=kCe[l];S[0]=n[a++],S[1]=n[a++],fu(S,S,e),n[s++]=S[0],n[s++]=S[1]}}t.increaseVersion()}}var jx=Math.sqrt,V3=Math.sin,B3=Math.cos,U1=Math.PI;function aB(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function II(t,e){return(t[0]*e[0]+t[1]*e[1])/(aB(t)*aB(e))}function sB(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(II(t,e))}function lB(t,e,n,r,i,o,a,s,l,c,u){var f=l*(U1/180),d=B3(f)*(t-n)/2+V3(f)*(e-r)/2,h=-1*V3(f)*(t-n)/2+B3(f)*(e-r)/2,m=d*d/(a*a)+h*h/(s*s);m>1&&(a*=jx(m),s*=jx(m));var v=(i===o?-1:1)*jx((a*a*(s*s)-a*a*(h*h)-s*s*(d*d))/(a*a*(h*h)+s*s*(d*d)))||0,k=v*a*h/s,b=v*-s*d/a,_=(t+n)/2+B3(f)*k-V3(f)*b,x=(e+r)/2+V3(f)*k+B3(f)*b,C=sB([1,0],[(d-k)/a,(h-b)/s]),S=[(d-k)/a,(h-b)/s],g=[(-1*d-k)/a,(-1*h-b)/s],T=sB(S,g);if(II(S,g)<=-1&&(T=U1),II(S,g)>=1&&(T=0),T<0){var P=Math.round(T/U1*1e6)/1e6;T=U1*2+P%2*U1}u.addData(c,_,x,a,s,C,T,f,o)}var SCe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,xCe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function CCe(t){var e=new sh;if(!t)return e;var n=0,r=0,i=n,o=r,a,s=sh.CMD,l=t.match(SCe);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],f=u.charAt(0),d=void 0,h=u.match(xCe)||[],m=h.length,v=0;v<m;v++)h[v]=parseFloat(h[v]);for(var k=0;k<m;){var b=void 0,_=void 0,x=void 0,C=void 0,S=void 0,g=void 0,T=void 0,P=n,$=r,F=void 0,D=void 0;switch(f){case"l":n+=h[k++],r+=h[k++],d=s.L,e.addData(d,n,r);break;case"L":n=h[k++],r=h[k++],d=s.L,e.addData(d,n,r);break;case"m":n+=h[k++],r+=h[k++],d=s.M,e.addData(d,n,r),i=n,o=r,f="l";break;case"M":n=h[k++],r=h[k++],d=s.M,e.addData(d,n,r),i=n,o=r,f="L";break;case"h":n+=h[k++],d=s.L,e.addData(d,n,r);break;case"H":n=h[k++],d=s.L,e.addData(d,n,r);break;case"v":r+=h[k++],d=s.L,e.addData(d,n,r);break;case"V":r=h[k++],d=s.L,e.addData(d,n,r);break;case"C":d=s.C,e.addData(d,h[k++],h[k++],h[k++],h[k++],h[k++],h[k++]),n=h[k-2],r=h[k-1];break;case"c":d=s.C,e.addData(d,h[k++]+n,h[k++]+r,h[k++]+n,h[k++]+r,h[k++]+n,h[k++]+r),n+=h[k-2],r+=h[k-1];break;case"S":b=n,_=r,F=e.len(),D=e.data,a===s.C&&(b+=n-D[F-4],_+=r-D[F-3]),d=s.C,P=h[k++],$=h[k++],n=h[k++],r=h[k++],e.addData(d,b,_,P,$,n,r);break;case"s":b=n,_=r,F=e.len(),D=e.data,a===s.C&&(b+=n-D[F-4],_+=r-D[F-3]),d=s.C,P=n+h[k++],$=r+h[k++],n+=h[k++],r+=h[k++],e.addData(d,b,_,P,$,n,r);break;case"Q":P=h[k++],$=h[k++],n=h[k++],r=h[k++],d=s.Q,e.addData(d,P,$,n,r);break;case"q":P=h[k++]+n,$=h[k++]+r,n+=h[k++],r+=h[k++],d=s.Q,e.addData(d,P,$,n,r);break;case"T":b=n,_=r,F=e.len(),D=e.data,a===s.Q&&(b+=n-D[F-4],_+=r-D[F-3]),n=h[k++],r=h[k++],d=s.Q,e.addData(d,b,_,n,r);break;case"t":b=n,_=r,F=e.len(),D=e.data,a===s.Q&&(b+=n-D[F-4],_+=r-D[F-3]),n+=h[k++],r+=h[k++],d=s.Q,e.addData(d,b,_,n,r);break;case"A":x=h[k++],C=h[k++],S=h[k++],g=h[k++],T=h[k++],P=n,$=r,n=h[k++],r=h[k++],d=s.A,lB(P,$,n,r,g,T,x,C,S,d,e);break;case"a":x=h[k++],C=h[k++],S=h[k++],g=h[k++],T=h[k++],P=n,$=r,n+=h[k++],r+=h[k++],d=s.A,lB(P,$,n,r,g,T,x,C,S,d,e);break}}(f==="z"||f==="Z")&&(d=s.Z,e.addData(d),n=i,r=o),a=d}return e.toStatic(),e}var Rte=function(t){Cr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(n){},e}(Dr);function jte(t){return t.setData!=null}function Vte(t,e){var n=CCe(t),r=ot({},e);return r.buildPath=function(i){if(jte(i)){i.setData(n.data);var o=i.getContext();o&&i.rebuildPath(o,1)}else{var o=i;n.rebuildPath(o,1)}},r.applyTransform=function(i){wCe(n,i),this.dirtyShape()},r}function TCe(t,e){return new Rte(Vte(t,e))}function ACe(t,e){var n=Vte(t,e),r=function(i){Cr(o,i);function o(a){var s=i.call(this,a)||this;return s.applyTransform=n.applyTransform,s.buildPath=n.buildPath,s}return o}(Rte);return r}function ICe(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];n.push(o.getUpdatedPathProxy(!0))}var a=new Dr(e);return a.createPathProxy(),a.buildPath=function(s){if(jte(s)){s.appendPath(n);var l=s.getContext();l&&s.rebuildPath(l,1)}},a}var PCe=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Bte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new PCe},e.prototype.buildPath=function(n,r){n.moveTo(r.cx+r.r,r.cy),n.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(Dr);Bte.prototype.type="circle";const gO=Bte;var ECe=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),Hte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new ECe},e.prototype.buildPath=function(n,r){var i=.5522848,o=r.cx,a=r.cy,s=r.rx,l=r.ry,c=s*i,u=l*i;n.moveTo(o-s,a),n.bezierCurveTo(o-s,a-u,o-c,a-l,o,a-l),n.bezierCurveTo(o+c,a-l,o+s,a-u,o+s,a),n.bezierCurveTo(o+s,a+u,o+c,a+l,o,a+l),n.bezierCurveTo(o-c,a+l,o-s,a+u,o-s,a),n.closePath()},e}(Dr);Hte.prototype.type="ellipse";const Wte=Hte;var Ute=Math.PI,Vx=Ute*2,cp=Math.sin,Eg=Math.cos,$Ce=Math.acos,zo=Math.atan2,cB=Math.abs,iy=Math.sqrt,Ev=Math.max,Bc=Math.min,Jl=1e-4;function OCe(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,f=s-o,d=f*l-u*c;if(!(d*d<Jl))return d=(u*(e-o)-f*(t-i))/d,[t+d*l,e+d*c]}function H3(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/iy(s*s+l*l),u=c*l,f=-c*s,d=t+u,h=e+f,m=n+u,v=r+f,k=(d+m)/2,b=(h+v)/2,_=m-d,x=v-h,C=_*_+x*x,S=i-o,g=d*v-m*h,T=(x<0?-1:1)*iy(Ev(0,S*S*C-g*g)),P=(g*x-_*T)/C,$=(-g*_-x*T)/C,F=(g*x+_*T)/C,D=(-g*_+x*T)/C,z=P-k,R=$-b,V=F-k,ie=D-b;return z*z+R*R>V*V+ie*ie&&(P=F,$=D),{cx:P,cy:$,x0:-u,y0:-f,x1:P*(i/S-1),y1:$*(i/S-1)}}function DCe(t){var e;if(gt(t)){var n=t.length;if(!n)return t;n===1?e=[t[0],t[0],0,0]:n===2?e=[t[0],t[0],t[1],t[1]]:n===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function LCe(t,e){var n,r=Ev(e.r,0),i=Ev(e.r0||0,0),o=r>0,a=i>0;if(!(!o&&!a)){if(o||(r=i,i=0),i>r){var s=r;r=i,i=s}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,f=e.cy,d=!!e.clockwise,h=cB(c-l),m=h>Vx&&h%Vx;if(m>Jl&&(h=m),!(r>Jl))t.moveTo(u,f);else if(h>Vx-Jl)t.moveTo(u+r*Eg(l),f+r*cp(l)),t.arc(u,f,r,l,c,!d),i>Jl&&(t.moveTo(u+i*Eg(c),f+i*cp(c)),t.arc(u,f,i,c,l,d));else{var v=void 0,k=void 0,b=void 0,_=void 0,x=void 0,C=void 0,S=void 0,g=void 0,T=void 0,P=void 0,$=void 0,F=void 0,D=void 0,z=void 0,R=void 0,V=void 0,ie=r*Eg(l),oe=r*cp(l),_e=i*Eg(c),Ae=i*cp(c),Ie=h>Jl;if(Ie){var ke=e.cornerRadius;ke&&(n=DCe(ke),v=n[0],k=n[1],b=n[2],_=n[3]);var se=cB(r-i)/2;if(x=Bc(se,b),C=Bc(se,_),S=Bc(se,v),g=Bc(se,k),$=T=Ev(x,C),F=P=Ev(S,g),(T>Jl||P>Jl)&&(D=r*Eg(c),z=r*cp(c),R=i*Eg(l),V=i*cp(l),h<Ute)){var ne=OCe(ie,oe,R,V,D,z,_e,Ae);if(ne){var J=ie-ne[0],j=oe-ne[1],U=D-ne[0],ae=z-ne[1],te=1/cp($Ce((J*U+j*ae)/(iy(J*J+j*j)*iy(U*U+ae*ae)))/2),ue=iy(ne[0]*ne[0]+ne[1]*ne[1]);$=Bc(T,(r-ue)/(te+1)),F=Bc(P,(i-ue)/(te-1))}}}if(!Ie)t.moveTo(u+ie,f+oe);else if($>Jl){var ce=Bc(b,$),fe=Bc(_,$),ve=H3(R,V,ie,oe,r,ce,d),B=H3(D,z,_e,Ae,r,fe,d);t.moveTo(u+ve.cx+ve.x0,f+ve.cy+ve.y0),$<T&&ce===fe?t.arc(u+ve.cx,f+ve.cy,$,zo(ve.y0,ve.x0),zo(B.y0,B.x0),!d):(ce>0&&t.arc(u+ve.cx,f+ve.cy,ce,zo(ve.y0,ve.x0),zo(ve.y1,ve.x1),!d),t.arc(u,f,r,zo(ve.cy+ve.y1,ve.cx+ve.x1),zo(B.cy+B.y1,B.cx+B.x1),!d),fe>0&&t.arc(u+B.cx,f+B.cy,fe,zo(B.y1,B.x1),zo(B.y0,B.x0),!d))}else t.moveTo(u+ie,f+oe),t.arc(u,f,r,l,c,!d);if(!(i>Jl)||!Ie)t.lineTo(u+_e,f+Ae);else if(F>Jl){var ce=Bc(v,F),fe=Bc(k,F),ve=H3(_e,Ae,D,z,i,-fe,d),B=H3(ie,oe,R,V,i,-ce,d);t.lineTo(u+ve.cx+ve.x0,f+ve.cy+ve.y0),F<P&&ce===fe?t.arc(u+ve.cx,f+ve.cy,F,zo(ve.y0,ve.x0),zo(B.y0,B.x0),!d):(fe>0&&t.arc(u+ve.cx,f+ve.cy,fe,zo(ve.y0,ve.x0),zo(ve.y1,ve.x1),!d),t.arc(u,f,i,zo(ve.cy+ve.y1,ve.cx+ve.x1),zo(B.cy+B.y1,B.cx+B.x1),d),ce>0&&t.arc(u+B.cx,f+B.cy,ce,zo(B.y1,B.x1),zo(B.y0,B.x0),!d))}else t.lineTo(u+_e,f+Ae),t.arc(u,f,i,c,l,d)}t.closePath()}}}var FCe=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Gte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new FCe},e.prototype.buildPath=function(n,r){LCe(n,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Dr);Gte.prototype.type="sector";const p2=Gte;var NCe=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),qte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new NCe},e.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,a=Math.PI*2;n.moveTo(i+r.r,o),n.arc(i,o,r.r,0,a,!1),n.moveTo(i+r.r0,o),n.arc(i,o,r.r0,0,a,!0)},e}(Dr);qte.prototype.type="ring";const Yte=qte;function MCe(t,e,n,r){var i=[],o=[],a=[],s=[],l,c,u,f;if(r){u=[1/0,1/0],f=[-1/0,-1/0];for(var d=0,h=t.length;d<h;d++)u0(u,u,t[d]),f0(f,f,t[d]);u0(u,u,r[0]),f0(f,f,r[1])}for(var d=0,h=t.length;d<h;d++){var m=t[d];if(n)l=t[d?d-1:h-1],c=t[(d+1)%h];else if(d===0||d===h-1){i.push(nwe(t[d]));continue}else l=t[d-1],c=t[d+1];rwe(o,c,l),tx(o,o,e);var v=QA(m,l),k=QA(m,c),b=v+k;b!==0&&(v/=b,k/=b),tx(a,o,-v),tx(s,o,k);var _=rV([],m,a),x=rV([],m,s);r&&(f0(_,_,u),u0(_,_,f),f0(x,x,u),u0(x,x,f)),i.push(_),i.push(x)}return n&&i.push(i.shift()),i}function Xte(t,e,n){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var o=MCe(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[s*2],c=o[s*2+1],u=i[(s+1)%a];t.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{t.moveTo(i[0][0],i[0][1]);for(var s=1,f=i.length;s<f;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}var zCe=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Kte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new zCe},e.prototype.buildPath=function(n,r){Xte(n,r,!0)},e}(Dr);Kte.prototype.type="polygon";const Jte=Kte;var RCe=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Zte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new RCe},e.prototype.buildPath=function(n,r){Xte(n,r,!1)},e}(Dr);Zte.prototype.type="polyline";const U6=Zte;var jCe={},VCe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Qte=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new VCe},e.prototype.buildPath=function(n,r){var i,o,a,s;if(this.subPixelOptimize){var l=wte(jCe,r,this.style);i=l.x1,o=l.y1,a=l.x2,s=l.y2}else i=r.x1,o=r.y1,a=r.x2,s=r.y2;var c=r.percent;c!==0&&(n.moveTo(i,o),c<1&&(a=i*(1-c)+a*c,s=o*(1-c)+s*c),n.lineTo(a,s))},e.prototype.pointAt=function(n){var r=this.shape;return[r.x1*(1-n)+r.x2*n,r.y1*(1-n)+r.y2*n]},e}(Dr);Qte.prototype.type="line";const m2=Qte;var Ba=[],BCe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function uB(t,e,n){var r=t.cpx2,i=t.cpy2;return r!=null||i!=null?[(n?pV:wo)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?pV:wo)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?mV:Ho)(t.x1,t.cpx1,t.x2,e),(n?mV:Ho)(t.y1,t.cpy1,t.y2,e)]}var ene=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new BCe},e.prototype.buildPath=function(n,r){var i=r.x1,o=r.y1,a=r.x2,s=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,f=r.cpy2,d=r.percent;d!==0&&(n.moveTo(i,o),u==null||f==null?(d<1&&(E5(i,l,a,d,Ba),l=Ba[1],a=Ba[2],E5(o,c,s,d,Ba),c=Ba[1],s=Ba[2]),n.quadraticCurveTo(l,c,a,s)):(d<1&&(P5(i,l,u,a,d,Ba),l=Ba[1],u=Ba[2],a=Ba[3],P5(o,c,f,s,d,Ba),c=Ba[1],f=Ba[2],s=Ba[3]),n.bezierCurveTo(l,c,u,f,a,s)))},e.prototype.pointAt=function(n){return uB(this.shape,n,!1)},e.prototype.tangentAt=function(n){var r=uB(this.shape,n,!0);return awe(r,r)},e}(Dr);ene.prototype.type="bezier-curve";const tne=ene;var HCe=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),nne=function(t){Cr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new HCe},e.prototype.buildPath=function(n,r){var i=r.cx,o=r.cy,a=Math.max(r.r,0),s=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(s),f=Math.sin(s);n.moveTo(u*a+i,f*a+o),n.arc(i,o,a,s,l,!c)},e}(Dr);nne.prototype.type="arc";const bO=nne;var WCe=function(t){Cr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type="compound",n}return e.prototype._updatePathDirty=function(){for(var n=this.shape.paths,r=this.shapeChanged(),i=0;i<n.length;i++)r=r||n[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<n.length;i++)n[i].path||n[i].createPathProxy(),n[i].path.setScale(r[0],r[1],n[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(n,r){for(var i=r.paths||[],o=0;o<i.length;o++)i[o].buildPath(n,i[o].shape,!0)},e.prototype.afterBrush=function(){for(var n=this.shape.paths||[],r=0;r<n.length;r++)n[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Dr.prototype.getBoundingRect.call(this)},e}(Dr);const rne=WCe;var UCe=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,n){this.colorStops.push({offset:e,color:n})},t}();const ine=UCe;var GCe=function(t){Cr(e,t);function e(n,r,i,o,a,s){var l=t.call(this,a)||this;return l.x=n??0,l.y=r??0,l.x2=i??1,l.y2=o??0,l.type="linear",l.global=s||!1,l}return e}(ine);const one=GCe;var qCe=function(t){Cr(e,t);function e(n,r,i,o,a){var s=t.call(this,o)||this;return s.x=n??.5,s.y=r??.5,s.r=i??.5,s.type="radial",s.global=a||!1,s}return e}(ine);const YCe=qCe;var up=[0,0],fp=[0,0],W3=new ln,U3=new ln,XCe=function(){function t(e,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new ln;for(var r=0;r<2;r++)this._axes[r]=new ln;e&&this.fromBoundingRect(e,n)}return t.prototype.fromBoundingRect=function(e,n){var r=this._corners,i=this._axes,o=e.x,a=e.y,s=o+e.width,l=a+e.height;if(r[0].set(o,a),r[1].set(s,a),r[2].set(s,l),r[3].set(o,l),n)for(var c=0;c<4;c++)r[c].transform(n);ln.sub(i[0],r[1],r[0]),ln.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},t.prototype.intersect=function(e,n){var r=!0,i=!n;return W3.set(1/0,1/0),U3.set(0,0),!this._intersectCheckOneSide(this,e,W3,U3,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,W3,U3,i,-1)&&(r=!1,i)||i||ln.copy(n,r?W3:U3),r},t.prototype._intersectCheckOneSide=function(e,n,r,i,o,a){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,up),this._getProjMinMaxOnAxis(l,n._corners,fp),up[1]<fp[0]||up[0]>fp[1]){if(s=!1,o)return s;var u=Math.abs(fp[0]-up[1]),f=Math.abs(up[0]-fp[1]);Math.min(u,f)>i.len()&&(u<f?ln.scale(i,c,-u*a):ln.scale(i,c,f*a))}else if(r){var u=Math.abs(fp[0]-up[1]),f=Math.abs(up[0]-fp[1]);Math.min(u,f)<r.len()&&(u<f?ln.scale(r,c,u*a):ln.scale(r,c,-f*a))}}return s},t.prototype._getProjMinMaxOnAxis=function(e,n,r){for(var i=this._axes[e],o=this._origin,a=n[0].dot(i)+o[e],s=a,l=a,c=1;c<n.length;c++){var u=n[c].dot(i)+o[e];s=Math.min(u,s),l=Math.max(u,l)}r[0]=s,r[1]=l},t}();const B5=XCe;var KCe=[],JCe=function(t){Cr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return e.prototype.traverse=function(n,r){n.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(n,r){r?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},e.prototype.addDisplayables=function(n,r){r=r||!1;for(var i=0;i<n.length;i++)this.addDisplayable(n[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(n){for(var r=this._cursor;r<this._displayables.length;r++)n&&n(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)n&&n(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var r=this._displayables[n];r.parent=this,r.update(),r.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var r=this._temporaryDisplayables[n];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new $r(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(KCe)),n.union(o)}this._rect=n}return this._rect},e.prototype.contain=function(n,r){var i=this.transformCoordToLocal(n,r),o=this.getBoundingRect();if(o.contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++){var s=this._displayables[a];if(s.contain(n,r))return!0}return!1},e}(h2);const ZCe=JCe;var QCe=no();function eTe(t,e,n,r,i){var o;if(e&&e.ecModel){var a=e.ecModel.getUpdatePayload();o=a&&a.animation}var s=e&&e.isAnimationEnabled(),l=t==="update";if(s){var c=void 0,u=void 0,f=void 0;r?(c=gn(r.duration,200),u=gn(r.easing,"cubicOut"),f=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),f=e.getShallow(l?"animationDelayUpdate":"animationDelay")),o&&(o.duration!=null&&(c=o.duration),o.easing!=null&&(u=o.easing),o.delay!=null&&(f=o.delay)),Qn(f)&&(f=f(n,i)),Qn(c)&&(c=c(n));var d={duration:c||0,delay:f,easing:u};return d}else return null}function vO(t,e,n,r,i,o,a){var s=!1,l;Qn(i)?(a=o,o=i,i=null):Bt(i)&&(o=i.cb,a=i.during,s=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=t==="leave";c||e.stopAnimation("leave");var u=eTe(t,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var f=u.duration,d=u.delay,h=u.easing,m={duration:f,delay:d||0,easing:h,done:o,force:!!o||!!a,setToFinal:!c,scope:t,during:a};s?e.animateFrom(n,m):e.animateTo(n,m)}else e.stopAnimation(),!s&&e.attr(n),a&&a(1),o&&o()}function Cm(t,e,n,r,i,o){vO("update",t,e,n,r,i,o)}function M0(t,e,n,r,i,o){vO("enter",t,e,n,r,i,o)}function oy(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var n=t.animators[e];if(n.scope==="leave")return!0}return!1}function ane(t,e,n,r,i,o){oy(t)||vO("leave",t,e,n,r,i,o)}function fB(t,e,n,r){t.removeTextContent(),t.removeTextGuideLine(),ane(t,{style:{opacity:0}},e,n,r)}function sne(t,e,n){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(i){i.isGroup||fB(i,e,n,r)}):fB(t,e,n,r)}function lne(t){QCe(t).oldStyle=t.style}var H5=Math.max,W5=Math.min,PI={};function tTe(t){return Dr.extend(t)}var nTe=ACe;function rTe(t,e){return nTe(t,e)}function Sc(t,e){PI[t]=e}function iTe(t){if(PI.hasOwnProperty(t))return PI[t]}function yO(t,e,n,r){var i=TCe(t,e);return n&&(r==="center"&&(n=une(n,i.getBoundingRect())),fne(i,n)),i}function cne(t,e,n){var r=new mh({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(n==="center"){var o={width:i.width,height:i.height};r.setStyle(une(e,o))}}});return r}function une(t,e){var n=e.width/e.height,r=t.height*n,i;r<=t.width?i=t.height:(r=t.width,i=r/n);var o=t.x+t.width/2,a=t.y+t.height/2;return{x:o-r/2,y:a-i/2,width:r,height:i}}var oTe=ICe;function fne(t,e){if(t.applyTransform){var n=t.getBoundingRect(),r=n.calculateTransform(e);t.applyTransform(r)}}function kO(t,e){return wte(t,t,{lineWidth:e}),t}function aTe(t){return Ste(t.shape,t.shape,t.style),t}var sTe=Yp;function lTe(t,e){for(var n=Q$([]);t&&t!==e;)F0(n,t.getLocalTransform(),n),t=t.parent;return n}function _O(t,e,n){return e&&!ds(e)&&(e=iO.getLocalTransform(e)),n&&(e=$ee([],e)),fu([],t,e)}function cTe(t,e,n){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),o=[t==="left"?-r:t==="right"?r:0,t==="top"?-i:t==="bottom"?i:0];return o=_O(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function dB(t){return!t.isGroup}function uTe(t){return t.shape!=null}function fTe(t,e,n){if(!t||!e)return;function r(a){var s={};return a.traverse(function(l){dB(l)&&l.anid&&(s[l.anid]=l)}),s}function i(a){var s={x:a.x,y:a.y,rotation:a.rotation};return uTe(a)&&(s.shape=ot({},a.shape)),s}var o=r(t);e.traverse(function(a){if(dB(a)&&a.anid){var s=o[a.anid];if(s){var l=i(a);a.attr(i(s)),Cm(a,l,n,jr(a).dataIndex)}}})}function dTe(t,e){return tn(t,function(n){var r=n[0];r=H5(r,e.x),r=W5(r,e.x+e.width);var i=n[1];return i=H5(i,e.y),i=W5(i,e.y+e.height),[r,i]})}function hTe(t,e){var n=H5(t.x,e.x),r=W5(t.x+t.width,e.x+e.width),i=H5(t.y,e.y),o=W5(t.y+t.height,e.y+e.height);if(r>=n&&o>=i)return{x:n,y:i,width:r-n,height:o-i}}function wO(t,e,n){var r=ot({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(i.image=t.slice(8),mi(i,n),new mh(r)):yO(t.replace("path://",""),r,n,"center")}function pTe(t,e,n,r,i){for(var o=0,a=i[i.length-1];o<i.length;o++){var s=i[o];if(dne(t,e,n,r,s[0],s[1],a[0],a[1]))return!0;a=s}}function dne(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,f=s-o,d=Bx(u,f,l,c);if(mTe(d))return!1;var h=t-i,m=e-o,v=Bx(h,m,l,c)/d;if(v<0||v>1)return!1;var k=Bx(h,m,u,f)/d;return!(k<0||k>1)}function Bx(t,e,n,r){return t*r-n*e}function mTe(t){return t<=1e-6&&t>=-1e-6}function SO(t){var e=t.itemTooltipOption,n=t.componentModel,r=t.itemName,i=Et(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:r,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&ye(ir(l),function(u){lb(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=jr(t.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:r,option:mi({content:r,formatterParams:s},i)}}function hB(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function hne(t,e){if(t)if(gt(t))for(var n=0;n<t.length;n++)hB(t[n],e);else hB(t,e)}Sc("circle",gO);Sc("ellipse",Wte);Sc("sector",p2);Sc("ring",Yte);Sc("polygon",Jte);Sc("polyline",U6);Sc("rect",Qo);Sc("line",m2);Sc("bezierCurve",tne);Sc("arc",bO);const gTe=Object.freeze(Object.defineProperty({__proto__:null,Arc:bO,BezierCurve:tne,BoundingRect:$r,Circle:gO,CompoundPath:rne,Ellipse:Wte,Group:vu,Image:mh,IncrementalDisplayable:ZCe,Line:m2,LinearGradient:one,OrientedBoundingRect:B5,Path:Dr,Point:ln,Polygon:Jte,Polyline:U6,RadialGradient:YCe,Rect:Qo,Ring:Yte,Sector:p2,Text:ea,applyTransform:_O,clipPointsByRect:dTe,clipRectByRect:hTe,createIcon:wO,extendPath:rTe,extendShape:tTe,getShapeClass:iTe,getTransform:lTe,groupTransition:fTe,initProps:M0,isElementRemoved:oy,lineLineIntersect:dne,linePolygonIntersect:pTe,makeImage:cne,makePath:yO,mergePath:oTe,registerShape:Sc,removeElement:ane,removeElementWithFadeOut:sne,resizePath:fne,setTooltipConfig:SO,subPixelOptimize:sTe,subPixelOptimizeLine:kO,subPixelOptimizeRect:aTe,transformDirection:cTe,traverseElements:hne,updateProps:Cm},Symbol.toStringTag,{value:"Module"}));var G6={};function bTe(t,e){for(var n=0;n<pc.length;n++){var r=pc[n],i=e[r],o=t.ensureState(r);o.style=o.style||{},o.style.text=i}var a=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(a,!0)}function pB(t,e,n){var r=t.labelFetcher,i=t.labelDataIndex,o=t.labelDimIndex,a=e.normal,s;r&&(s=r.getFormattedLabel(i,"normal",null,o,a&&a.get("formatter"),n!=null?{interpolatedValue:n}:null)),s==null&&(s=Qn(t.defaultText)?t.defaultText(i,t,n):t.defaultText);for(var l={normal:s},c=0;c<pc.length;c++){var u=pc[c],f=e[u];l[u]=gn(r?r.getFormattedLabel(i,u,null,o,f&&f.get("formatter")):null,s)}return l}function U5(t,e,n,r){n=n||G6;for(var i=t instanceof ea,o=!1,a=0;a<e4.length;a++){var s=e[e4[a]];if(s&&s.getShallow("show")){o=!0;break}}var l=i?t:t.getTextContent();if(o){i||(l||(l=new ea,t.setTextContent(l)),t.stateProxy&&(l.stateProxy=t.stateProxy));var c=pB(n,e),u=e.normal,f=!!u.getShallow("show"),d=Cf(u,r&&r.normal,n,!1,!i);d.text=c.normal,i||t.setTextConfig(mB(u,n,!1));for(var a=0;a<pc.length;a++){var h=pc[a],s=e[h];if(s){var m=l.ensureState(h),v=!!gn(s.getShallow("show"),f);if(v!==f&&(m.ignore=!v),m.style=Cf(s,r&&r[h],n,!0,!i),m.style.text=c[h],!i){var k=t.ensureState(h);k.textConfig=mB(s,n,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(d.x=l.style.x),l.style.y!=null&&(d.y=l.style.y),l.ignore=!f,l.useStyle(d),l.dirty(),n.enableTextSetter&&(_Te(l).setLabelText=function(b){var _=pB(n,e,b);bTe(l,_)})}else l&&(l.ignore=!0);t.dirty()}function EI(t,e){e=e||"label";for(var n={normal:t.getModel(e)},r=0;r<pc.length;r++){var i=pc[r];n[i]=t.getModel([i,e])}return n}function Cf(t,e,n,r,i){var o={};return vTe(o,t,n,r,i),e&&ot(o,e),o}function mB(t,e,n){e=e||{};var r={},i,o=t.getShallow("rotate"),a=gn(t.getShallow("distance"),n?null:5),s=t.getShallow("offset");return i=t.getShallow("position")||(n?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),s!=null&&(r.offset=s),o!=null&&(o*=Math.PI/180,r.rotation=o),a!=null&&(r.distance=a),r.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",r}function vTe(t,e,n,r,i){n=n||G6;var o=e.ecModel,a=o&&o.option.textStyle,s=yTe(e),l;if(s){l={};for(var c in s)if(s.hasOwnProperty(c)){var u=e.getModel(["rich",c]);yB(l[c]={},u,a,n,r,i,!1,!0)}}l&&(t.rich=l);var f=e.get("overflow");f&&(t.overflow=f);var d=e.get("minMargin");d!=null&&(t.margin=d),yB(t,e,a,n,r,i,!0,!1)}function yTe(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||G6).rich;if(n){e=e||{};for(var r=ir(n),i=0;i<r.length;i++){var o=r[i];e[o]=1}}t=t.parentModel}return e}var gB=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],bB=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],vB=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function yB(t,e,n,r,i,o,a,s){n=!i&&n||G6;var l=r&&r.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),f=gn(e.getShallow("opacity"),n.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),o||(c=c||n.color,u=u||n.textBorderColor),c!=null&&(t.fill=c),u!=null&&(t.stroke=u);var d=gn(e.getShallow("textBorderWidth"),n.textBorderWidth);d!=null&&(t.lineWidth=d);var h=gn(e.getShallow("textBorderType"),n.textBorderType);h!=null&&(t.lineDash=h);var m=gn(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);m!=null&&(t.lineDashOffset=m),!i&&f==null&&!s&&(f=r&&r.defaultOpacity),f!=null&&(t.opacity=f),!i&&!o&&t.fill==null&&r.inheritColor&&(t.fill=r.inheritColor);for(var v=0;v<gB.length;v++){var k=gB[v],b=gn(e.getShallow(k),n[k]);b!=null&&(t[k]=b)}for(var v=0;v<bB.length;v++){var k=bB[v],b=e.getShallow(k);b!=null&&(t[k]=b)}if(t.verticalAlign==null){var _=e.getShallow("baseline");_!=null&&(t.verticalAlign=_)}if(!a||!r.disableBox){for(var v=0;v<vB.length;v++){var k=vB[v],b=e.getShallow(k);b!=null&&(t[k]=b)}var x=e.getShallow("borderType");x!=null&&(t.borderDash=x),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&l&&(t.backgroundColor=l),(t.borderColor==="auto"||t.borderColor==="inherit")&&l&&(t.borderColor=l)}}function kTe(t,e){var n=e&&e.getModel("textStyle");return au([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var _Te=no(),wTe=["textStyle","color"],Hx=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Wx=new ea,STe=function(){function t(){}return t.prototype.getTextColor=function(e){var n=this.ecModel;return this.getShallow("color")||(!e&&n?n.get(wTe):null)},t.prototype.getFont=function(){return kTe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var n={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<Hx.length;r++)n[Hx[r]]=this.getShallow(Hx[r]);return Wx.useStyle(n),Wx.update(),Wx.getBoundingRect()},t}();const xTe=STe;var pne=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],CTe=Qy(pne),TTe=function(){function t(){}return t.prototype.getLineStyle=function(e){return CTe(this,e)},t}(),mne=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],ATe=Qy(mne),ITe=function(){function t(){}return t.prototype.getItemStyle=function(e,n){return ATe(this,e,n)},t}(),Gm=function(){function t(e,n,r){this.parentModel=n,this.ecModel=r,this.option=e}return t.prototype.init=function(e,n,r){},t.prototype.mergeOption=function(e,n){hi(this.option,e,!0)},t.prototype.get=function(e,n){return e==null?this.option:this._doGet(this.parsePath(e),!n&&this.parentModel)},t.prototype.getShallow=function(e,n){var r=this.option,i=r==null?r:r[e];if(i==null&&!n){var o=this.parentModel;o&&(i=o.getShallow(e))}return i},t.prototype.getModel=function(e,n){var r=e!=null,i=r?this.parsePath(e):null,o=r?this._doGet(i):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new t(o,n,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(Gn(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!In.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,n){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(e),n.parentModel)),r},t}();lO(Gm);oxe(Gm);wc(Gm,TTe);wc(Gm,ITe);wc(Gm,uxe);wc(Gm,xTe);const co=Gm;var PTe=Math.round(Math.random()*10);function q6(t){return[t||"",PTe++].join("_")}function ETe(t){var e={};t.registerSubTypeDefaulter=function(n,r){var i=su(n);e[i.main]=r},t.determineSubType=function(n,r){var i=r.type;if(!i){var o=su(n).main;t.hasSubTypes(n)&&e[o]&&(i=e[o](r))}return i}}function $Te(t,e){t.topologicalTravel=function(o,a,s,l){if(!o.length)return;var c=n(a),u=c.graph,f=c.noEntryList,d={};for(ye(o,function(_){d[_]=!0});f.length;){var h=f.pop(),m=u[h],v=!!d[h];v&&(s.call(l,h,m.originalDeps.slice()),delete d[h]),ye(m.successor,v?b:k)}ye(d,function(){var _="";throw new Error(_)});function k(_){u[_].entryCount--,u[_].entryCount===0&&f.push(_)}function b(_){d[_]=!0,k(_)}};function n(o){var a={},s=[];return ye(o,function(l){var c=r(a,l),u=c.originalDeps=e(l),f=i(u,o);c.entryCount=f.length,c.entryCount===0&&s.push(l),ye(f,function(d){wr(c.predecessor,d)<0&&c.predecessor.push(d);var h=r(a,d);wr(h.successor,d)<0&&h.successor.push(l)})}),{graph:a,noEntryList:s}}function r(o,a){return o[a]||(o[a]={predecessor:[],successor:[]}),o[a]}function i(o,a){var s=[];return ye(o,function(l){wr(a,l)>=0&&s.push(l)}),s}}function OTe(t,e){return hi(hi({},t,!0),e,!0)}const DTe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},LTe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var G5="ZH",xO="EN",t4=xO,y8={},CO={},gne=In.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return t.indexOf(G5)>-1?G5:t4}():t4;function bne(t,e){t=t.toUpperCase(),CO[t]=new co(e),y8[t]=e}function FTe(t){if(Et(t)){var e=y8[t.toUpperCase()]||{};return t===G5||t===xO?Gn(e):hi(Gn(e),Gn(y8[t4]),!1)}else return hi(Gn(t),Gn(y8[t4]),!1)}function NTe(t){return CO[t]}function MTe(){return CO[t4]}bne(xO,DTe);bne(G5,LTe);function ed(t,e){return t+="","0000".substr(0,e-t.length)+t}function vne(t,e,n,r){var i=V6(t),o=i[zTe(n)](),a=i[RTe(n)]()+1,s=Math.floor((a-1)/3)+1,l=i[jTe(n)](),c=i["get"+(n?"UTC":"")+"Day"](),u=i[VTe(n)](),f=(u-1)%12+1,d=i[BTe(n)](),h=i[HTe(n)](),m=i[WTe(n)](),v=r instanceof co?r:NTe(r||gne)||MTe(),k=v.getModel("time"),b=k.get("month"),_=k.get("monthAbbr"),x=k.get("dayOfWeek"),C=k.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,ed(o%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,b[a-1]).replace(/{MMM}/g,_[a-1]).replace(/{MM}/g,ed(a,2)).replace(/{M}/g,a+"").replace(/{dd}/g,ed(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,x[c]).replace(/{ee}/g,C[c]).replace(/{e}/g,c+"").replace(/{HH}/g,ed(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,ed(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,ed(d,2)).replace(/{m}/g,d+"").replace(/{ss}/g,ed(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,ed(m,3)).replace(/{S}/g,m+"")}function zTe(t){return t?"getUTCFullYear":"getFullYear"}function RTe(t){return t?"getUTCMonth":"getMonth"}function jTe(t){return t?"getUTCDate":"getDate"}function VTe(t){return t?"getUTCHours":"getHours"}function BTe(t){return t?"getUTCMinutes":"getMinutes"}function HTe(t){return t?"getUTCSeconds":"getSeconds"}function WTe(t){return t?"getUTCMilliseconds":"getMilliseconds"}function UTe(t){if(!zSe(t))return Et(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function yne(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(n,r){return r.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var Y6=Cee;function $I(t,e,n){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&au(u)?u:"-"}function o(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var a=e==="time",s=t instanceof Date;if(a||s){var l=a?V6(t):t;if(isNaN(+l)){if(s)return"-"}else return vne(l,r,n)}if(e==="ordinal")return KA(t)?i(t):Zr(t)&&o(t)?t+"":"-";var c=N5(t);return o(c)?UTe(c):KA(t)?i(t):typeof t=="boolean"?t+"":"-"}var kB=["a","b","c","d","e","f","g"],Ux=function(t,e){return"{"+t+(e??"")+"}"};function kne(t,e,n){gt(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],o=0;o<i.length;o++){var a=kB[o];t=t.replace(Ux(a),Ux(a,0))}for(var s=0;s<r;s++)for(var l=0;l<i.length;l++){var c=e[s][i[l]];t=t.replace(Ux(kB[l],s),n?Ls(c):c)}return t}function GTe(t,e){var n=Et(t)?{color:t,extraCssText:e}:t||{},r=n.color,i=n.type;e=n.extraCssText;var o=n.renderMode||"html";if(!r)return"";if(o==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ls(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ls(r)+";"+(e||"")+'"></span>';var a=n.markerId||"markerX";return{renderMode:o,content:"{"+a+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function n4(t,e){return e=e||"transparent",Et(t)?t:Bt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function OI(t,e){if(e==="_blank"||e==="blank"){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}var k8=ye,qTe=["left","right","top","bottom","width","height"],G3=[["width","left","right"],["height","top","bottom"]];function TO(t,e,n,r,i){var o=0,a=0;r==null&&(r=1/0),i==null&&(i=1/0);var s=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),f=e.childAt(c+1),d=f&&f.getBoundingRect(),h,m;if(t==="horizontal"){var v=u.width+(d?-d.x+u.x:0);h=o+v,h>r||l.newline?(o=0,h=v,a+=s+n,s=u.height):s=Math.max(s,u.height)}else{var k=u.height+(d?-d.y+u.y:0);m=a+k,m>i||l.newline?(o+=s+n,a=0,m=k,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),t==="horizontal"?o=h+n:a=m+n)})}var ay=TO;Rr(TO,"vertical");Rr(TO,"horizontal");function fb(t,e,n){n=Y6(n||0);var r=e.width,i=e.height,o=Xr(t.left,r),a=Xr(t.top,i),s=Xr(t.right,r),l=Xr(t.bottom,i),c=Xr(t.width,r),u=Xr(t.height,i),f=n[2]+n[0],d=n[1]+n[3],h=t.aspect;switch(isNaN(c)&&(c=r-s-d-o),isNaN(u)&&(u=i-l-f-a),h!=null&&(isNaN(c)&&isNaN(u)&&(h>r/i?c=r*.8:u=i*.8),isNaN(c)&&(c=h*u),isNaN(u)&&(u=c/h)),isNaN(o)&&(o=r-s-c-d),isNaN(a)&&(a=i-l-u-f),t.left||t.right){case"center":o=r/2-c/2-n[3];break;case"right":o=r-c-d;break}switch(t.top||t.bottom){case"middle":case"center":a=i/2-u/2-n[0];break;case"bottom":a=i-u-f;break}o=o||0,a=a||0,isNaN(c)&&(c=r-d-o-(s||0)),isNaN(u)&&(u=i-f-a-(l||0));var m=new $r(o+n[3],a+n[0],c,u);return m.margin=n,m}function q5(t){var e=t.layoutMode||t.constructor.layoutMode;return Bt(e)?e:e?{type:e}:null}function r4(t,e,n){var r=n&&n.ignoreSize;!gt(r)&&(r=[r,r]);var i=a(G3[0],0),o=a(G3[1],1);c(G3[0],t,i),c(G3[1],t,o);function a(u,f){var d={},h=0,m={},v=0,k=2;if(k8(u,function(x){m[x]=t[x]}),k8(u,function(x){s(e,x)&&(d[x]=m[x]=e[x]),l(d,x)&&h++,l(m,x)&&v++}),r[f])return l(e,u[1])?m[u[2]]=null:l(e,u[2])&&(m[u[1]]=null),m;if(v===k||!h)return m;if(h>=k)return d;for(var b=0;b<u.length;b++){var _=u[b];if(!s(d,_)&&s(t,_)){d[_]=t[_];break}}return d}function s(u,f){return u.hasOwnProperty(f)}function l(u,f){return u[f]!=null&&u[f]!=="auto"}function c(u,f,d){k8(u,function(h){f[h]=d[h]})}}function AO(t){return YTe({},t)}function YTe(t,e){return e&&t&&k8(qTe,function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}var XTe=no(),Nb=function(t){xr(e,t);function e(n,r,i){var o=t.call(this,n,r,i)||this;return o.uid=q6("ec_cpt_model"),o}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=q5(this),o=i?AO(n):{},a=r.getTheme();hi(n,a.get(this.mainType)),hi(n,this.getDefaultOption()),i&&r4(n,o,i)},e.prototype.mergeOption=function(n,r){hi(this.option,n,!0);var i=q5(this);i&&r4(this.option,n,i)},e.prototype.optionUpdated=function(n,r){},e.prototype.getDefaultOption=function(){var n=this.constructor;if(!nxe(n))return n.defaultOption;var r=XTe(this);if(!r.defaultOption){for(var i=[],o=n;o;){var a=o.prototype.defaultOption;a&&i.push(a),o=o.superClass}for(var s={},l=i.length-1;l>=0;l--)s=hi(s,i[l],!0);r.defaultOption=s}return r.defaultOption},e.prototype.getReferringComponents=function(n,r){var i=n+"Index",o=n+"Id";return d2(this.ecModel,n,{index:this.get(i,!0),id:this.get(o,!0)},r)},e.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(n){this.option.zlevel=n},e.protoInitialize=function(){var n=e.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),e}(co);mte(Nb,co);cO(Nb);ETe(Nb);$Te(Nb,KTe);function KTe(t){var e=[];return ye(Nb.getClassesByMainType(t),function(n){e=e.concat(n.dependencies||n.prototype.dependencies||[])}),e=tn(e,function(n){return su(n).main}),t!=="dataset"&&wr(e,"dataset")<=0&&e.unshift("dataset"),e}const wi=Nb;var _ne="";typeof navigator<"u"&&(_ne=navigator.platform||"");var $g="rgba(0, 0, 0, 0.2)";const JTe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:$g,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:$g,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:$g,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:$g,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:$g,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:$g,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:_ne.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var wne=bn(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Nl="original",hs="arrayRows",xc="objectRows",Su="keyedColumns",Md="typedArray",Sne="unknown",mf="column",Mb="row",yo={Must:1,Might:2,Not:3},xne=no();function ZTe(t){xne(t).datasetMap=bn()}function QTe(t,e,n){var r={},i=IO(e);if(!i||!t)return r;var o=[],a=[],s=e.ecModel,l=xne(s).datasetMap,c=i.uid+"_"+n.seriesLayoutBy,u,f;t=t.slice(),ye(t,function(v,k){var b=Bt(v)?v:t[k]={name:v};b.type==="ordinal"&&u==null&&(u=k,f=m(b)),r[b.name]=[]});var d=l.get(c)||l.set(c,{categoryWayDim:f,valueWayDim:0});ye(t,function(v,k){var b=v.name,_=m(v);if(u==null){var x=d.valueWayDim;h(r[b],x,_),h(a,x,_),d.valueWayDim+=_}else if(u===k)h(r[b],0,_),h(o,0,_);else{var x=d.categoryWayDim;h(r[b],x,_),h(a,x,_),d.categoryWayDim+=_}});function h(v,k,b){for(var _=0;_<b;_++)v.push(k+_)}function m(v){var k=v.dimsDef;return k?k.length:1}return o.length&&(r.itemName=o),a.length&&(r.seriesName=a),r}function eAe(t,e,n){var r={},i=IO(t);if(!i)return r;var o=e.sourceFormat,a=e.dimensionsDefine,s;(o===xc||o===Su)&&ye(a,function(u,f){(Bt(u)?u.name:u)==="name"&&(s=f)});var l=function(){for(var u={},f={},d=[],h=0,m=Math.min(5,n);h<m;h++){var v=Tne(e.data,o,e.seriesLayoutBy,a,e.startIndex,h);d.push(v);var k=v===yo.Not;if(k&&u.v==null&&h!==s&&(u.v=h),(u.n==null||u.n===u.v||!k&&d[u.n]===yo.Not)&&(u.n=h),b(u)&&d[u.n]!==yo.Not)return u;k||(v===yo.Might&&f.v==null&&h!==s&&(f.v=h),(f.n==null||f.n===f.v)&&(f.n=h))}function b(_){return _.v!=null&&_.n!=null}return b(u)?u:b(f)?f:null}();if(l){r.value=[l.v];var c=s??l.n;r.itemName=[c],r.seriesName=[c]}return r}function IO(t){var e=t.get("data",!0);if(!e)return d2(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},qp).models[0]}function tAe(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:d2(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},qp).models}function Cne(t,e){return Tne(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Tne(t,e,n,r,i,o){var a,s=5;if(Bs(t))return yo.Not;var l,c;if(r){var u=r[o];Bt(u)?(l=u.name,c=u.type):Et(u)&&(l=u)}if(c!=null)return c==="ordinal"?yo.Must:yo.Not;if(e===hs){var f=t;if(n===Mb){for(var d=f[o],h=0;h<(d||[]).length&&h<s;h++)if((a=C(d[i+h]))!=null)return a}else for(var h=0;h<f.length&&h<s;h++){var m=f[i+h];if(m&&(a=C(m[o]))!=null)return a}}else if(e===xc){var v=t;if(!l)return yo.Not;for(var h=0;h<v.length&&h<s;h++){var k=v[h];if(k&&(a=C(k[l]))!=null)return a}}else if(e===Su){var b=t;if(!l)return yo.Not;var d=b[l];if(!d||Bs(d))return yo.Not;for(var h=0;h<d.length&&h<s;h++)if((a=C(d[h]))!=null)return a}else if(e===Nl)for(var _=t,h=0;h<_.length&&h<s;h++){var k=_[h],x=u2(k);if(!gt(x))return yo.Not;if((a=C(x[o]))!=null)return a}function C(S){var g=Et(S);if(S!=null&&isFinite(S)&&S!=="")return g?yo.Might:yo.Not;if(g&&S!=="-")return yo.Must}return yo.Not}var nAe=bn();function rAe(t,e,n){var r=nAe.get(e);if(!r)return n;var i=r(t);return i?n.concat(i):n}var _B=no(),iAe=no(),PO=function(){function t(){}return t.prototype.getColorFromPalette=function(e,n,r){var i=Zo(this.get("color",!0)),o=this.get("colorLayer",!0);return Ane(this,_B,i,o,e,n,r)},t.prototype.clearColorPalette=function(){sAe(this,_B)},t}();function oAe(t,e,n,r){var i=Zo(t.get(["aria","decal","decals"]));return Ane(t,iAe,i,null,e,n,r)}function aAe(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].length>e)return t[r];return t[n-1]}function Ane(t,e,n,r,i,o,a){o=o||t;var s=e(o),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=a==null||!r?n:aAe(r,a);if(u=u||n,!(!u||!u.length)){var f=u[l];return i&&(c[i]=f),s.paletteIdx=(l+1)%u.length,f}}function sAe(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var q3,G1,wB,SB="\0_ec_inner",lAe=1,Ine=function(t){xr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i,o,a,s){o=o||{},this.option=null,this._theme=new co(o),this._locale=new co(a),this._optionManager=s},e.prototype.setOption=function(n,r,i){var o=TB(r);this._optionManager.setOption(n,i,o),this._resetOption(null,o)},e.prototype.resetOption=function(n,r){return this._resetOption(n,TB(r))},e.prototype._resetOption=function(n,r){var i=!1,o=this._optionManager;if(!n||n==="recreate"){var a=o.mountOption(n==="recreate");!this.option||n==="recreate"?wB(this,a):(this.restoreData(),this._mergeOption(a,r)),i=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var s=o.getTimelineOption(this);s&&(i=!0,this._mergeOption(s,r))}if(!n||n==="recreate"||n==="media"){var l=o.getMediaOption(this);l.length&&ye(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},e.prototype.mergeOption=function(n){this._mergeOption(n,null)},e.prototype._mergeOption=function(n,r){var i=this.option,o=this._componentsMap,a=this._componentsCount,s=[],l=bn(),c=r&&r.replaceMergeMainTypeMap;ZTe(this),ye(n,function(f,d){f!=null&&(wi.hasClass(d)?d&&(s.push(d),l.set(d,!0)):i[d]=i[d]==null?Gn(f):hi(i[d],f,!0))}),c&&c.each(function(f,d){wi.hasClass(d)&&!l.get(d)&&(s.push(d),l.set(d,!0))}),wi.topologicalTravel(s,wi.getAllClassMainTypes(),u,this);function u(f){var d=rAe(this,f,Zo(n[f])),h=o.get(f),m=h?c&&c.get(f)?"replaceMerge":"normalMerge":"replaceAll",v=VSe(h,d,m);YSe(v,f,wi),i[f]=null,o.set(f,null),a.set(f,0);var k=[],b=[],_=0,x;ye(v,function(C,S){var g=C.existing,T=C.newOption;if(!T)g&&(g.mergeOption({},this),g.optionUpdated({},!1));else{var P=f==="series",$=wi.getClass(f,C.keyInfo.subType,!P);if(!$)return;if(f==="tooltip"){if(x)return;x=!0}if(g&&g.constructor===$)g.name=C.keyInfo.name,g.mergeOption(T,this),g.optionUpdated(T,!1);else{var F=ot({componentIndex:S},C.keyInfo);g=new $(T,this,this,F),ot(g,F),C.brandNew&&(g.__requireNewView=!0),g.init(T,this,this),g.optionUpdated(null,!0)}}g?(k.push(g.option),b.push(g),_++):(k.push(void 0),b.push(void 0))},this),i[f]=k,o.set(f,b),a.set(f,_),f==="series"&&q3(this)}this._seriesIndices||q3(this)},e.prototype.getOption=function(){var n=Gn(this.option);return ye(n,function(r,i){if(wi.hasClass(i)){for(var o=Zo(r),a=o.length,s=!1,l=a-1;l>=0;l--)o[l]&&!Zy(o[l])?s=!0:(o[l]=null,!s&&a--);o.length=a,n[i]=o}}),delete n[SB],n},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(n){this._payload=n},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(n,r){var i=this._componentsMap.get(n);if(i){var o=i[r||0];if(o)return o;if(r==null){for(var a=0;a<i.length;a++)if(i[a])return i[a]}}},e.prototype.queryComponents=function(n){var r=n.mainType;if(!r)return[];var i=n.index,o=n.id,a=n.name,s=this._componentsMap.get(r);if(!s||!s.length)return[];var l;return i!=null?(l=[],ye(Zo(i),function(c){s[c]&&l.push(s[c])})):o!=null?l=xB("id",o,s):a!=null?l=xB("name",a,s):l=Za(s,function(c){return!!c}),CB(l,n)},e.prototype.findComponents=function(n){var r=n.query,i=n.mainType,o=s(r),a=o?this.queryComponents(o):Za(this._componentsMap.get(i),function(c){return!!c});return l(CB(a,n));function s(c){var u=i+"Index",f=i+"Id",d=i+"Name";return c&&(c[u]!=null||c[f]!=null||c[d]!=null)?{mainType:i,index:c[u],id:c[f],name:c[d]}:null}function l(c){return n.filter?Za(c,n.filter):c}},e.prototype.eachComponent=function(n,r,i){var o=this._componentsMap;if(Qn(n)){var a=r,s=n;o.each(function(f,d){for(var h=0;f&&h<f.length;h++){var m=f[h];m&&s.call(a,d,m,m.componentIndex)}})}else for(var l=Et(n)?o.get(n):Bt(n)?this.findComponents(n):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(n){var r=Il(n,null);return Za(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},e.prototype.getSeriesByType=function(n){return Za(this._componentsMap.get("series"),function(r){return!!r&&r.subType===n})},e.prototype.getSeries=function(){return Za(this._componentsMap.get("series"),function(n){return!!n})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(n,r){G1(this),ye(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];n.call(r,o,i)},this)},e.prototype.eachRawSeries=function(n,r){ye(this._componentsMap.get("series"),function(i){i&&n.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(n,r,i){G1(this),ye(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];a.subType===n&&r.call(i,a,o)},this)},e.prototype.eachRawSeriesByType=function(n,r,i){return ye(this.getSeriesByType(n),r,i)},e.prototype.isSeriesFiltered=function(n){return G1(this),this._seriesIndicesMap.get(n.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(n,r){G1(this);var i=[];ye(this._seriesIndices,function(o){var a=this._componentsMap.get("series")[o];n.call(r,a,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=bn(i)},e.prototype.restoreData=function(n){q3(this);var r=this._componentsMap,i=[];r.each(function(o,a){wi.hasClass(a)&&i.push(a)}),wi.topologicalTravel(i,wi.getAllClassMainTypes(),function(o){ye(r.get(o),function(a){a&&(o!=="series"||!cAe(a,n))&&a.restoreData()})})},e.internalField=function(){q3=function(n){var r=n._seriesIndices=[];ye(n._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),n._seriesIndicesMap=bn(r)},G1=function(n){},wB=function(n,r){n.option={},n.option[SB]=lAe,n._componentsMap=bn({series:[]}),n._componentsCount=bn();var i=r.aria;Bt(i)&&i.enabled==null&&(i.enabled=!0),uAe(r,n._theme.option),hi(r,JTe,!1),n._mergeOption(r,null)}}(),e}(co);function cAe(t,e){if(e){var n=e.seriesIndex,r=e.seriesId,i=e.seriesName;return n!=null&&t.componentIndex!==n||r!=null&&t.id!==r||i!=null&&t.name!==i}}function uAe(t,e){var n=t.color&&!t.colorLayer;ye(e,function(r,i){i==="colorLayer"&&n||wi.hasClass(i)||(typeof r=="object"?t[i]=t[i]?hi(t[i],r,!1):Gn(r):t[i]==null&&(t[i]=r))})}function xB(t,e,n){if(gt(e)){var r=bn();return ye(e,function(o){if(o!=null){var a=Il(o,null);a!=null&&r.set(o,!0)}}),Za(n,function(o){return o&&r.get(o[t])})}else{var i=Il(e,null);return Za(n,function(o){return o&&i!=null&&o[t]===i})}}function CB(t,e){return e.hasOwnProperty("subType")?Za(t,function(n){return n&&n.subType===e.subType}):t}function TB(t){var e=bn();return t&&ye(Zo(t.replaceMerge),function(n){e.set(n,!0)}),{replaceMergeMainTypeMap:e}}wc(Ine,PO);const Pne=Ine;var fAe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],dAe=function(){function t(e){ye(fAe,function(n){this[n]=Er(e[n],e)},this)}return t}();const Ene=dAe;var Gx={},hAe=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,n){var r=[];ye(Gx,function(i,o){var a=i.create(e,n);r=r.concat(a||[])}),this._coordinateSystems=r},t.prototype.update=function(e,n){ye(this._coordinateSystems,function(r){r.update&&r.update(e,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,n){Gx[e]=n},t.get=function(e){return Gx[e]},t}();const X6=hAe;var pAe=/^(min|max)?(.+)$/,mAe=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,n,r){e&&(ye(Zo(e.series),function(a){a&&a.data&&Bs(a.data)&&JA(a.data)}),ye(Zo(e.dataset),function(a){a&&a.source&&Bs(a.source)&&JA(a.source)})),e=Gn(e);var i=this._optionBackup,o=gAe(e,n,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},t.prototype.mountOption=function(e){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],Gn(e?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var n,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(n=Gn(r[i.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(e){var n=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,a=[],s=[];if(!i.length&&!o)return s;for(var l=0,c=i.length;l<c;l++)bAe(i[l].query,n,r)&&a.push(l);return!a.length&&o&&(a=[-1]),a.length&&!yAe(a,this._currentMediaIndices)&&(s=tn(a,function(u){return Gn(u===-1?o.option:i[u].option)})),this._currentMediaIndices=a,s},t}();function gAe(t,e,n){var r=[],i,o,a=t.baseOption,s=t.timeline,l=t.options,c=t.media,u=!!t.media,f=!!(l||s||a&&a.timeline);a?(o=a,o.timeline||(o.timeline=s)):((f||u)&&(t.options=t.media=null),o=t),u&&gt(c)&&ye(c,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),d(o),ye(l,function(h){return d(h)}),ye(r,function(h){return d(h.option)});function d(h){ye(e,function(m){m(h,n)})}return{baseOption:o,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function bAe(t,e,n){var r={width:e,height:n,aspectratio:e/n},i=!0;return ye(t,function(o,a){var s=a.match(pAe);if(!(!s||!s[1]||!s[2])){var l=s[1],c=s[2].toLowerCase();vAe(r[c],o,l)||(i=!1)}}),i}function vAe(t,e,n){return n==="min"?t>=e:n==="max"?t<=e:t===e}function yAe(t,e){return t.join(",")===e.join(",")}const kAe=mAe;var Yl=ye,i4=Bt,AB=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function qx(t){var e=t&&t.itemStyle;if(e)for(var n=0,r=AB.length;n<r;n++){var i=AB[n],o=e.normal,a=e.emphasis;o&&o[i]&&(t[i]=t[i]||{},t[i].normal?hi(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),a&&a[i]&&(t[i]=t[i]||{},t[i].emphasis?hi(t[i].emphasis,a[i]):t[i].emphasis=a[i],a[i]=null)}}function Wo(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(n?(t[e].normal=t[e].emphasis=null,mi(t[e],r)):t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i,i.focus&&(t.emphasis.focus=i.focus),i.blurScope&&(t.emphasis.blurScope=i.blurScope))}}function $v(t){Wo(t,"itemStyle"),Wo(t,"lineStyle"),Wo(t,"areaStyle"),Wo(t,"label"),Wo(t,"labelLine"),Wo(t,"upperLabel"),Wo(t,"edgeLabel")}function Oi(t,e){var n=i4(t)&&t[e],r=i4(n)&&n.textStyle;if(r)for(var i=0,o=OV.length;i<o;i++){var a=OV[i];r.hasOwnProperty(a)&&(n[a]=r[a])}}function ul(t){t&&($v(t),Oi(t,"label"),t.emphasis&&Oi(t.emphasis,"label"))}function _Ae(t){if(i4(t)){qx(t),$v(t),Oi(t,"label"),Oi(t,"upperLabel"),Oi(t,"edgeLabel"),t.emphasis&&(Oi(t.emphasis,"label"),Oi(t.emphasis,"upperLabel"),Oi(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(qx(e),ul(e));var n=t.markLine;n&&(qx(n),ul(n));var r=t.markArea;r&&ul(r);var i=t.data;if(t.type==="graph"){i=i||t.nodes;var o=t.links||t.edges;if(o&&!Bs(o))for(var a=0;a<o.length;a++)ul(o[a]);ye(t.categories,function(c){$v(c)})}if(i&&!Bs(i))for(var a=0;a<i.length;a++)ul(i[a]);if(e=t.markPoint,e&&e.data)for(var s=e.data,a=0;a<s.length;a++)ul(s[a]);if(n=t.markLine,n&&n.data)for(var l=n.data,a=0;a<l.length;a++)gt(l[a])?(ul(l[a][0]),ul(l[a][1])):ul(l[a]);t.type==="gauge"?(Oi(t,"axisLabel"),Oi(t,"title"),Oi(t,"detail")):t.type==="treemap"?(Wo(t.breadcrumb,"itemStyle"),ye(t.levels,function(c){$v(c)})):t.type==="tree"&&$v(t.leaves)}}function Bu(t){return gt(t)?t:t?[t]:[]}function IB(t){return(gt(t)?t[0]:t)||{}}function wAe(t,e){Yl(Bu(t.series),function(r){i4(r)&&_Ae(r)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),Yl(n,function(r){Yl(Bu(t[r]),function(i){i&&(Oi(i,"axisLabel"),Oi(i.axisPointer,"label"))})}),Yl(Bu(t.parallel),function(r){var i=r&&r.parallelAxisDefault;Oi(i,"axisLabel"),Oi(i&&i.axisPointer,"label")}),Yl(Bu(t.calendar),function(r){Wo(r,"itemStyle"),Oi(r,"dayLabel"),Oi(r,"monthLabel"),Oi(r,"yearLabel")}),Yl(Bu(t.radar),function(r){Oi(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Yl(Bu(t.geo),function(r){i4(r)&&(ul(r),Yl(Bu(r.regions),function(i){ul(i)}))}),Yl(Bu(t.timeline),function(r){ul(r),Wo(r,"label"),Wo(r,"itemStyle"),Wo(r,"controlStyle",!0);var i=r.data;gt(i)&&ye(i,function(o){Bt(o)&&(Wo(o,"label"),Wo(o,"itemStyle"))})}),Yl(Bu(t.toolbox),function(r){Wo(r,"iconStyle"),Yl(r.feature,function(i){Wo(i,"iconStyle")})}),Oi(IB(t.axisPointer),"label"),Oi(IB(t.tooltip).axisPointer,"label")}function SAe(t,e){for(var n=e.split(","),r=t,i=0;i<n.length&&(r=r&&r[n[i]],r!=null);i++);return r}function xAe(t,e,n,r){for(var i=e.split(","),o=t,a,s=0;s<i.length-1;s++)a=i[s],o[a]==null&&(o[a]={}),o=o[a];(r||o[i[s]]==null)&&(o[i[s]]=n)}function PB(t){t&&ye(CAe,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var CAe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],TAe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Yx=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function q1(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Yx.length;n++){var r=Yx[n][1],i=Yx[n][0];e[r]!=null&&(e[i]=e[r])}}function EB(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function $B(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function AAe(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function $ne(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&$ne(t[n].children,e)}function One(t,e){wAe(t,e),t.series=Zo(t.series),ye(t.series,function(n){if(Bt(n)){var r=n.type;if(r==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow);else if(r==="pie"||r==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise),EB(n.label);var i=n.data;if(i&&!Bs(i))for(var o=0;o<i.length;o++)EB(i[o]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(n.emphasis.scaleSize=n.hoverOffset))}else if(r==="gauge"){var a=SAe(n,"pointer.color");a!=null&&xAe(n,"itemStyle.color",a)}else if(r==="bar"){q1(n),q1(n.backgroundStyle),q1(n.emphasis);var i=n.data;if(i&&!Bs(i))for(var o=0;o<i.length;o++)typeof i[o]=="object"&&(q1(i[o]),q1(i[o]&&i[o].emphasis))}else if(r==="sunburst"){var s=n.highlightPolicy;s&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=s)),$B(n),$ne(n.data,$B)}else r==="graph"||r==="sankey"?AAe(n):r==="map"&&(n.mapType&&!n.map&&(n.map=n.mapType),n.mapLocation&&mi(n,n.mapLocation));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(n.emphasis.scale=n.hoverAnimation)),PB(n)}}),t.dataRange&&(t.visualMap=t.dataRange),ye(TAe,function(n){var r=t[n];r&&(gt(r)||(r=[r]),ye(r,function(i){PB(i)}))})}function IAe(t){var e=bn();t.eachSeries(function(n){var r=n.get("stack");if(r){var i=e.get(r)||e.set(r,[]),o=n.getData(),a={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:n};if(!a.stackedDimension||!(a.isStackedByIndex||a.stackedByDimension))return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(a)}}),e.each(PAe)}function PAe(t){ye(t,function(e,n){var r=[],i=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";a.modify(o,function(c,u,f){var d=a.get(e.stackedDimension,f);if(isNaN(d))return i;var h,m;s?m=a.getRawIndex(f):h=a.get(e.stackedByDimension,f);for(var v=NaN,k=n-1;k>=0;k--){var b=t[k];if(s||(m=b.data.rawIndexOf(b.stackedByDimension,h)),m>=0){var _=b.data.getByRawIndex(b.stackResultDimension,m);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&d>=0&&_>0||l==="samesign"&&d<=0&&_<0){d=NSe(d,_),v=_;break}}}return r[0]=d,r[1]=v,r})})}var K6=function(){function t(e){this.data=e.data||(e.sourceFormat===Su?{}:[]),this.sourceFormat=e.sourceFormat||Sne,this.seriesLayoutBy=e.seriesLayoutBy||mf,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var n=this.dimensionsDefine=e.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var i=n[r];i.type==null&&Cne(this,r)===yo.Must&&(i.type="ordinal")}}return t}();function EO(t){return t instanceof K6}function DI(t,e,n){n=n||Dne(t);var r=e.seriesLayoutBy,i=$Ae(t,n,r,e.sourceHeader,e.dimensions),o=new K6({data:t,sourceFormat:n,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Gn(e)});return o}function $O(t){return new K6({data:t,sourceFormat:Bs(t)?Md:Nl})}function EAe(t){return new K6({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:Gn(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function Dne(t){var e=Sne;if(Bs(t))e=Md;else if(gt(t)){t.length===0&&(e=hs);for(var n=0,r=t.length;n<r;n++){var i=t[n];if(i!=null){if(gt(i)){e=hs;break}else if(Bt(i)){e=xc;break}}}}else if(Bt(t)){for(var o in t)if(lb(t,o)&&ds(t[o])){e=Su;break}}return e}function $Ae(t,e,n,r,i){var o,a;if(!t)return{dimensionsDefine:OB(i),startIndex:a,dimensionsDetectedCount:o};if(e===hs){var s=t;r==="auto"||r==null?DB(function(c){c!=null&&c!=="-"&&(Et(c)?a==null&&(a=1):a=0)},n,s,10):a=Zr(r)?r:r?1:0,!i&&a===1&&(i=[],DB(function(c,u){i[u]=c!=null?c+"":""},n,s,1/0)),o=i?i.length:n===Mb?s.length:s[0]?s[0].length:null}else if(e===xc)i||(i=OAe(t));else if(e===Su)i||(i=[],ye(t,function(c,u){i.push(u)}));else if(e===Nl){var l=u2(t[0]);o=gt(l)&&l.length||1}return{startIndex:a,dimensionsDefine:OB(i),dimensionsDetectedCount:o}}function OAe(t){for(var e=0,n;e<t.length&&!(n=t[e++]););if(n)return ir(n)}function OB(t){if(t){var e=bn();return tn(t,function(n,r){n=Bt(n)?n:{name:n};var i={name:n.name,displayName:n.displayName,type:n.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var o=e.get(i.name);return o?i.name+="-"+o.count++:e.set(i.name,{count:1}),i})}}function DB(t,e,n,r){if(e===Mb)for(var i=0;i<n.length&&i<r;i++)t(n[i]?n[i][0]:null,i);else for(var o=n[0]||[],i=0;i<o.length&&i<r;i++)t(o[i],i)}function Lne(t){var e=t.sourceFormat;return e===xc||e===Su}var dp,hp,pp,LB,FB,Fne=function(){function t(e,n){var r=EO(e)?e:$O(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Md&&(this._offset=0,this._dimSize=n,this._data=i),FB(this,i,r)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,n){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;FB=function(a,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,f=l.startIndex,d=l.dimensionsDefine,h=LB[OO(c,u)];if(ot(a,h),c===Md)a.getItem=n,a.count=i,a.fillStorage=r;else{var m=Nne(c,u);a.getItem=Er(m,null,s,f,d);var v=Mne(c,u);a.count=Er(v,null,s,f,d)}};var n=function(a,s){a=a-this._offset,s=s||[];for(var l=this._data,c=this._dimSize,u=c*a,f=0;f<c;f++)s[f]=l[u+f];return s},r=function(a,s,l,c){for(var u=this._data,f=this._dimSize,d=0;d<f;d++){for(var h=c[d],m=h[0]==null?1/0:h[0],v=h[1]==null?-1/0:h[1],k=s-a,b=l[d],_=0;_<k;_++){var x=u[_*f+d];b[a+_]=x,x<m&&(m=x),x>v&&(v=x)}h[0]=m,h[1]=v}},i=function(){return this._data?this._data.length/this._dimSize:0};LB=(e={},e[hs+"_"+mf]={pure:!0,appendData:o},e[hs+"_"+Mb]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[xc]={pure:!0,appendData:o},e[Su]={pure:!0,appendData:function(a){var s=this._data;ye(a,function(l,c){for(var u=s[c]||(s[c]=[]),f=0;f<(l||[]).length;f++)u.push(l[f])})}},e[Nl]={appendData:o},e[Md]={persistent:!1,pure:!0,appendData:function(a){this._data=a},clean:function(){this._offset+=this.count(),this._data=null}},e);function o(a){for(var s=0;s<a.length;s++)this._data.push(a[s])}}(),t}(),NB=function(t,e,n,r){return t[r]},DAe=(dp={},dp[hs+"_"+mf]=function(t,e,n,r){return t[r+e]},dp[hs+"_"+Mb]=function(t,e,n,r,i){r+=e;for(var o=i||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[r]:null}return o},dp[xc]=NB,dp[Su]=function(t,e,n,r,i){for(var o=i||[],a=0;a<n.length;a++){var s=n[a].name,l=t[s];o[a]=l?l[r]:null}return o},dp[Nl]=NB,dp);function Nne(t,e){var n=DAe[OO(t,e)];return n}var MB=function(t,e,n){return t.length},LAe=(hp={},hp[hs+"_"+mf]=function(t,e,n){return Math.max(0,t.length-e)},hp[hs+"_"+Mb]=function(t,e,n){var r=t[0];return r?Math.max(0,r.length-e):0},hp[xc]=MB,hp[Su]=function(t,e,n){var r=n[0].name,i=t[r];return i?i.length:0},hp[Nl]=MB,hp);function Mne(t,e){var n=LAe[OO(t,e)];return n}var Xx=function(t,e,n){return t[e]},FAe=(pp={},pp[hs]=Xx,pp[xc]=function(t,e,n){return t[n]},pp[Su]=Xx,pp[Nl]=function(t,e,n){var r=u2(t);return r instanceof Array?r[e]:r},pp[Md]=Xx,pp);function zne(t){var e=FAe[t];return e}function OO(t,e){return t===hs?t+"_"+e:t}function Y5(t,e,n){if(t){var r=t.getRawDataItem(e);if(r!=null){var i=t.getStore(),o=i.getSource().sourceFormat;if(n!=null){var a=t.getDimensionIndex(n),s=i.getDimensionProperty(a);return zne(o)(r,a,s)}else{var l=r;return o===Nl&&(l=u2(r)),l}}}}var NAe=/\{@(.+?)\}/g,MAe=function(){function t(){}return t.prototype.getDataParams=function(e,n){var r=this.getData(n),i=this.getRawValue(e,n),o=r.getRawIndex(e),a=r.getName(e),s=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),c=l&&l[r.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,f=this.mainType,d=f==="series",h=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:d?this.subType:null,seriesIndex:this.seriesIndex,seriesId:d?this.id:null,seriesName:d?this.name:null,name:a,dataIndex:o,data:s,dataType:n,value:i,color:c,borderColor:u,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,n,r,i,o,a){n=n||"normal";var s=this.getData(r),l=this.getDataParams(e,r);if(a&&(l.value=a.interpolatedValue),i!=null&&gt(l.value)&&(l.value=l.value[i]),!o){var c=s.getItemModel(e);o=c.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(Qn(o))return l.status=n,l.dimensionIndex=i,o(l);if(Et(o)){var u=kne(o,l);return u.replace(NAe,function(f,d){var h=d.length,m=d;m.charAt(0)==="["&&m.charAt(h-1)==="]"&&(m=+m.slice(1,h-1));var v=Y5(s,e,m);if(a&&gt(a.interpolatedValue)){var k=s.getDimensionIndex(m);k>=0&&(v=a.interpolatedValue[k])}return v!=null?v+"":""})}},t.prototype.getRawValue=function(e,n){return Y5(this.getData(n),e)},t.prototype.formatTooltip=function(e,n,r){},t}();function zB(t){var e,n;return Bt(t)?t.type&&(n=t):e=t,{text:e,frag:n}}function sy(t){return new zAe(t)}var zAe=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var n=this._upstream,r=e&&e.skip;if(this._dirty&&n){var i=this.context;i.data=i.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!r&&(o=this._plan(this.context));var a=u(this._modBy),s=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(a!==l||s!==c)&&(o="reset");function u(_){return!(_>=1)&&(_=1),_}var f;(this._dirty||o==="reset")&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=c;var d=e&&e.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,m=Math.min(d!=null?this._dueIndex+d:1/0,this._dueEnd);if(!r&&(f||h<m)){var v=this._progress;if(gt(v))for(var k=0;k<v.length;k++)this._doProgress(v[k],h,m,l,c);else this._doProgress(v,h,m,l,c)}this._dueIndex=m;var b=this._settedOutputEnd!=null?this._settedOutputEnd:m;this._outputDueEnd=b}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,n,r,i,o){RB.reset(n,r,i,o),this._callingProgress=e,this._callingProgress({start:n,end:r,count:r-n,next:RB.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!e&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),gt(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),RB=function(){var t,e,n,r,i,o={reset:function(l,c,u,f){e=l,t=c,n=u,r=f,i=Math.ceil(r/n),o.next=n>1&&r>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var l=e%i*n+Math.ceil(e/i),c=e>=t?null:l<r?l:e;return e++,c}}();function _8(t,e){var n=e&&e.type;return n==="ordinal"?t:(n==="time"&&!Zr(t)&&t!=null&&t!=="-"&&(t=+V6(t)),t==null||t===""?NaN:+t)}bn({number:function(t){return parseFloat(t)},time:function(t){return+V6(t)},trim:function(t){return Et(t)?au(t):t}});var RAe=function(){function t(e,n){var r=e==="desc";this._resultLT=r?1:-1,n==null&&(n=r?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,n){var r=Zr(e)?e:N5(e),i=Zr(n)?n:N5(n),o=isNaN(r),a=isNaN(i);if(o&&(r=this._incomparable),a&&(i=this._incomparable),o&&a){var s=Et(e),l=Et(n);s&&(r=l?e:0),l&&(i=s?n:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},t}(),jAe=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,n){},t.prototype.retrieveValueFromItem=function(e,n){},t.prototype.convertValue=function(e,n){return _8(e,n)},t}();function VAe(t,e){var n=new jAe,r=t.data,i=n.sourceFormat=t.sourceFormat,o=t.startIndex,a="";t.seriesLayoutBy!==mf&&Qa(a);var s=[],l={},c=t.dimensionsDefine;if(c)ye(c,function(v,k){var b=v.name,_={index:k,name:b,displayName:v.displayName};if(s.push(_),b!=null){var x="";lb(l,b)&&Qa(x),l[b]=_}});else for(var u=0;u<t.dimensionsDetectedCount;u++)s.push({index:u});var f=Nne(i,mf);e.__isBuiltIn&&(n.getRawDataItem=function(v){return f(r,o,s,v)},n.getRawData=Er(BAe,null,t)),n.cloneRawData=Er(HAe,null,t);var d=Mne(i,mf);n.count=Er(d,null,r,o,s);var h=zne(i);n.retrieveValue=function(v,k){var b=f(r,o,s,v);return m(b,k)};var m=n.retrieveValueFromItem=function(v,k){if(v!=null){var b=s[k];if(b)return h(v,k,b.name)}};return n.getDimensionInfo=Er(WAe,null,s,l),n.cloneAllDimensionInfo=Er(UAe,null,s),n}function BAe(t){var e=t.sourceFormat;if(!DO(e)){var n="";Qa(n)}return t.data}function HAe(t){var e=t.sourceFormat,n=t.data;if(!DO(e)){var r="";Qa(r)}if(e===hs){for(var i=[],o=0,a=n.length;o<a;o++)i.push(n[o].slice());return i}else if(e===xc){for(var i=[],o=0,a=n.length;o<a;o++)i.push(ot({},n[o]));return i}}function WAe(t,e,n){if(n!=null){if(Zr(n)||!isNaN(n)&&!lb(e,n))return t[n];if(lb(e,n))return e[n]}}function UAe(t){return Gn(t)}var Rne=bn();function GAe(t){t=Gn(t);var e=t.type,n="";e||Qa(n);var r=e.split(":");r.length!==2&&Qa(n);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),t.__isBuiltIn=i,Rne.set(e,t)}function qAe(t,e,n){var r=Zo(t),i=r.length,o="";i||Qa(o);for(var a=0,s=i;a<s;a++){var l=r[a];e=YAe(l,e),a!==s-1&&(e.length=Math.max(e.length,1))}return e}function YAe(t,e,n,r){var i="";e.length||Qa(i),Bt(t)||Qa(i);var o=t.type,a=Rne.get(o);a||Qa(i);var s=tn(e,function(c){return VAe(c,a)}),l=Zo(a.transform({upstream:s[0],upstreamList:s,config:Gn(t.config)}));return tn(l,function(c,u){var f="";Bt(c)||Qa(f),c.data||Qa(f);var d=Dne(c.data);DO(d)||Qa(f);var h,m=e[0];if(m&&u===0&&!c.dimensions){var v=m.startIndex;v&&(c.data=m.data.slice(0,v).concat(c.data)),h={seriesLayoutBy:mf,sourceHeader:v,dimensions:m.metaRawOption.dimensions}}else h={seriesLayoutBy:mf,sourceHeader:0,dimensions:c.dimensions};return DI(c.data,h,null)})}function DO(t){return t===hs||t===xc}var J6="undefined",XAe=typeof Uint32Array===J6?Array:Uint32Array,KAe=typeof Uint16Array===J6?Array:Uint16Array,jne=typeof Int32Array===J6?Array:Int32Array,jB=typeof Float64Array===J6?Array:Float64Array,Vne={float:jB,int:jne,ordinal:Array,number:Array,time:jB},Kx;function Y1(t){return t>65535?XAe:KAe}function Og(){return[1/0,-1/0]}function JAe(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function VB(t,e,n,r,i){var o=Vne[n||"float"];if(i){var a=t[e],s=a&&a.length;if(s!==r){for(var l=new o(r),c=0;c<s;c++)l[c]=a[c];t[e]=l}}else t[e]=new o(r)}var LI=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=bn()}return t.prototype.initData=function(e,n,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),o=this.defaultDimValueGetter=Kx[i.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],Lne(i),this._dimensions=tn(n,function(a){return{type:a.type,property:a.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,n){var r=this._calcDimNameToIdx,i=this._dimensions,o=r.get(e);if(o!=null){if(i[o].type===n)return o}else o=i.length;return i[o]={type:n},r.set(e,o),this._chunks[o]=new Vne[n||"float"](this._rawCount),this._rawExtent[o]=Og(),o},t.prototype.collectOrdinalMeta=function(e,n){var r=this._chunks[e],i=this._dimensions[e],o=this._rawExtent,a=i.ordinalOffset||0,s=r.length;a===0&&(o[e]=Og());for(var l=o[e],c=a;c<s;c++){var u=r[c]=n.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=n,i.ordinalOffset=s,i.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var n=this._dimensions[e],r=n.ordinalMeta;return r},t.prototype.getDimensionProperty=function(e){var n=this._dimensions[e];return n&&n.property},t.prototype.appendData=function(e){var n=this._provider,r=this.count();n.appendData(e);var i=n.count();return n.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},t.prototype.appendValues=function(e,n){for(var r=this._chunks,i=this._dimensions,o=i.length,a=this._rawExtent,s=this.count(),l=s+Math.max(e.length,n||0),c=0;c<o;c++){var u=i[c];VB(r,c,u.type,l,!0)}for(var f=[],d=s;d<l;d++)for(var h=d-s,m=0;m<o;m++){var u=i[m],v=Kx.arrayRows.call(this,e[h]||f,u.property,h,m);r[m][d]=v;var k=a[m];v<k[0]&&(k[0]=v),v>k[1]&&(k[1]=v)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(e,n,r){for(var i=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=tn(a,function(_){return _.property}),u=0;u<s;u++){var f=a[u];l[u]||(l[u]=Og()),VB(o,u,f.type,n,r)}if(i.fillStorage)i.fillStorage(e,n,o,l);else for(var d=[],h=e;h<n;h++){d=i.getItem(h,d);for(var m=0;m<s;m++){var v=o[m],k=this._dimValueGetter(d,c[m],h,m);v[h]=k;var b=l[m];k<b[0]&&(b[0]=k),k>b[1]&&(b[1]=k)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(e,n){var r=[],i=[];if(n==null){n=e,e=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=e;for(var o=0,a=i.length;o<a;o++)r.push(this.get(i[o],n));return r},t.prototype.getByRawIndex=function(e,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[e];return r?r[n]:NaN},t.prototype.getSum=function(e){var n=this._chunks[e],r=0;if(n)for(var i=0,o=this.count();i<o;i++){var a=this.get(e,i);isNaN(a)||(r+=a)}return r},t.prototype.getMedian=function(e){var n=[];this.each([e],function(o){isNaN(o)||n.push(o)});var r=n.sort(function(o,a){return o-a}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var n=this._indices,r=n[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,o=this._count-1;i<=o;){var a=(i+o)/2|0;if(n[a]<e)i=a+1;else if(n[a]>e)o=a-1;else return a}return-1},t.prototype.indicesOfNearest=function(e,n,r){var i=this._chunks,o=i[e],a=[];if(!o)return a;r==null&&(r=1/0);for(var s=1/0,l=-1,c=0,u=0,f=this.count();u<f;u++){var d=this.getRawIndex(u),h=n-o[d],m=Math.abs(h);m<=r&&((m<s||m===s&&h>=0&&l<0)&&(s=m,l=h,c=0),h===l&&(a[c++]=u))}return a.length=c,a},t.prototype.getIndices=function(){var e,n=this._indices;if(n){var r=n.constructor,i=this._count;if(r===Array){e=new r(i);for(var o=0;o<i;o++)e[o]=n[o]}else e=new r(n.buffer,0,i)}else{var r=Y1(this._rawCount);e=new r(this.count());for(var o=0;o<e.length;o++)e[o]=o}return e},t.prototype.filter=function(e,n){if(!this._count)return this;for(var r=this.clone(),i=r.count(),o=Y1(r._rawCount),a=new o(i),s=[],l=e.length,c=0,u=e[0],f=r._chunks,d=0;d<i;d++){var h=void 0,m=r.getRawIndex(d);if(l===0)h=n(d);else if(l===1){var v=f[u][m];h=n(v,d)}else{for(var k=0;k<l;k++)s[k]=f[e[k]][m];s[k]=d,h=n.apply(null,s)}h&&(a[c++]=m)}return c<i&&(r._indices=a),r._count=c,r._extent=[],r._updateGetRawIdx(),r},t.prototype.selectRange=function(e){var n=this.clone(),r=n._count;if(!r)return this;var i=ir(e),o=i.length;if(!o)return this;var a=n.count(),s=Y1(n._rawCount),l=new s(a),c=0,u=i[0],f=e[u][0],d=e[u][1],h=n._chunks,m=!1;if(!n._indices){var v=0;if(o===1){for(var k=h[i[0]],b=0;b<r;b++){var _=k[b];(_>=f&&_<=d||isNaN(_))&&(l[c++]=v),v++}m=!0}else if(o===2){for(var k=h[i[0]],x=h[i[1]],C=e[i[1]][0],S=e[i[1]][1],b=0;b<r;b++){var _=k[b],g=x[b];(_>=f&&_<=d||isNaN(_))&&(g>=C&&g<=S||isNaN(g))&&(l[c++]=v),v++}m=!0}}if(!m)if(o===1)for(var b=0;b<a;b++){var T=n.getRawIndex(b),_=h[i[0]][T];(_>=f&&_<=d||isNaN(_))&&(l[c++]=T)}else for(var b=0;b<a;b++){for(var P=!0,T=n.getRawIndex(b),$=0;$<o;$++){var F=i[$],_=h[F][T];(_<e[F][0]||_>e[F][1])&&(P=!1)}P&&(l[c++]=n.getRawIndex(b))}return c<a&&(n._indices=l),n._count=c,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(e,n){var r=this.clone(e);return this._updateDims(r,e,n),r},t.prototype.modify=function(e,n){this._updateDims(this,e,n)},t.prototype._updateDims=function(e,n,r){for(var i=e._chunks,o=[],a=n.length,s=e.count(),l=[],c=e._rawExtent,u=0;u<n.length;u++)c[n[u]]=Og();for(var f=0;f<s;f++){for(var d=e.getRawIndex(f),h=0;h<a;h++)l[h]=i[n[h]][d];l[a]=f;var m=r&&r.apply(null,l);if(m!=null){typeof m!="object"&&(o[0]=m,m=o);for(var u=0;u<m.length;u++){var v=n[u],k=m[u],b=c[v],_=i[v];_&&(_[d]=k),k<b[0]&&(b[0]=k),k>b[1]&&(b[1]=k)}}}},t.prototype.lttbDownSample=function(e,n){var r=this.clone([e],!0),i=r._chunks,o=i[e],a=this.count(),s=0,l=Math.floor(1/n),c=this.getRawIndex(0),u,f,d,h=new(Y1(this._rawCount))(Math.min((Math.ceil(a/l)+2)*2,a));h[s++]=c;for(var m=1;m<a-1;m+=l){for(var v=Math.min(m+l,a-1),k=Math.min(m+l*2,a),b=(k+v)/2,_=0,x=v;x<k;x++){var C=this.getRawIndex(x),S=o[C];isNaN(S)||(_+=S)}_/=k-v;var g=m,T=Math.min(m+l,a),P=m-1,$=o[c];u=-1,d=g;for(var F=-1,D=0,x=g;x<T;x++){var C=this.getRawIndex(x),S=o[C];if(isNaN(S)){D++,F<0&&(F=C);continue}f=Math.abs((P-b)*(S-$)-(P-x)*(_-$)),f>u&&(u=f,d=C)}D>0&&D<T-g&&(h[s++]=Math.min(F,d),d=Math.max(F,d)),h[s++]=d,c=d}return h[s++]=this.getRawIndex(a-1),r._count=s,r._indices=h,r.getRawIndex=this._getRawIdx,r},t.prototype.downSample=function(e,n,r,i){for(var o=this.clone([e],!0),a=o._chunks,s=[],l=Math.floor(1/n),c=a[e],u=this.count(),f=o._rawExtent[e]=Og(),d=new(Y1(this._rawCount))(Math.ceil(u/l)),h=0,m=0;m<u;m+=l){l>u-m&&(l=u-m,s.length=l);for(var v=0;v<l;v++){var k=this.getRawIndex(m+v);s[v]=c[k]}var b=r(s),_=this.getRawIndex(Math.min(m+i(s,b)||0,u-1));c[_]=b,b<f[0]&&(f[0]=b),b>f[1]&&(f[1]=b),d[h++]=_}return o._count=h,o._indices=d,o._updateGetRawIdx(),o},t.prototype.each=function(e,n){if(this._count)for(var r=e.length,i=this._chunks,o=0,a=this.count();o<a;o++){var s=this.getRawIndex(o);switch(r){case 0:n(o);break;case 1:n(i[e[0]][s],o);break;case 2:n(i[e[0]][s],i[e[1]][s],o);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[e[l]][s];c[l]=o,n.apply(null,c)}}},t.prototype.getDataExtent=function(e){var n=this._chunks[e],r=Og();if(!n)return r;var i=this.count(),o=!this._indices,a;if(o)return this._rawExtent[e].slice();if(a=this._extent[e],a)return a.slice();a=r;for(var s=a[0],l=a[1],c=0;c<i;c++){var u=this.getRawIndex(c),f=n[u];f<s&&(s=f),f>l&&(l=f)}return a=[s,l],this._extent[e]=a,a},t.prototype.getRawDataItem=function(e){var n=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],i=this._chunks,o=0;o<i.length;o++)r.push(i[o][n]);return r},t.prototype.clone=function(e,n){var r=new t,i=this._chunks,o=e&&ah(e,function(s,l){return s[l]=!0,s},{});if(o)for(var a=0;a<i.length;a++)r._chunks[a]=o[a]?JAe(i[a]):i[a];else r._chunks=i;return this._copyCommonProps(r),n||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Gn(this._extent),e._rawExtent=Gn(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,n=void 0;if(e===Array){var r=this._indices.length;n=new e(r);for(var i=0;i<r;i++)n[i]=this._indices[i]}else n=new e(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(n,r,i,o){return _8(n[o],this._dimensions[o])}Kx={arrayRows:e,objectRows:function(n,r,i,o){return _8(n[r],this._dimensions[o])},keyedColumns:e,original:function(n,r,i,o){var a=n&&(n.value==null?n:n.value);return _8(a instanceof Array?a[o]:a,this._dimensions[o])},typedArray:function(n,r,i,o){return n[o]}}}(),t}(),ZAe=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,n){this._sourceList=e,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,i,o;if(Y3(e)){var a=e,s=void 0,l=void 0,c=void 0;if(r){var u=n[0];u.prepareSource(),c=u.getSource(),s=c.data,l=c.sourceFormat,o=[u._getVersionSign()]}else s=a.get("data",!0),l=Bs(s)?Md:Nl,o=[];var f=this._getSourceMetaRawOption()||{},d=c&&c.metaRawOption||{},h=gn(f.seriesLayoutBy,d.seriesLayoutBy)||null,m=gn(f.sourceHeader,d.sourceHeader),v=gn(f.dimensions,d.dimensions),k=h!==d.seriesLayoutBy||!!m!=!!d.sourceHeader||v;i=k?[DI(s,{seriesLayoutBy:h,sourceHeader:m,dimensions:v},l)]:[]}else{var b=e;if(r){var _=this._applyTransform(n);i=_.sourceList,o=_.upstreamSignList}else{var x=b.get("source",!0);i=[DI(x,this._getSourceMetaRawOption(),null)],o=[]}}this._setLocalSource(i,o)},t.prototype._applyTransform=function(e){var n=this._sourceHost,r=n.get("transform",!0),i=n.get("fromTransformResult",!0);if(i!=null){var o="";e.length!==1&&BB(o)}var a,s=[],l=[];return ye(e,function(c){c.prepareSource();var u=c.getSource(i||0),f="";i!=null&&!u&&BB(f),s.push(u),l.push(c._getVersionSign())}),r?a=qAe(r,s,{datasetIndex:n.componentIndex}):i!=null&&(a=[EAe(s[0])]),{sourceList:a,upstreamSignList:l}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),n=0;n<e.length;n++){var r=e[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var n=this._sourceList[e];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return n},t.prototype.getSharedDataStore=function(e){var n=e.makeStoreSchema();return this._innerGetDataStore(n.dimensions,e.source,n.hash)},t.prototype._innerGetDataStore=function(e,n,r){var i=0,o=this._storeList,a=o[i];a||(a=o[i]={});var s=a[r];if(!s){var l=this._getUpstreamSourceManagers()[0];Y3(this._sourceHost)&&l?s=l._innerGetDataStore(e,n,r):(s=new LI,s.initData(new Fne(n,e.length),e)),a[r]=s}return s},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Y3(e)){var n=IO(e);return n?[n.getSourceManager()]:[]}else return tn(tAe(e),function(r){return r.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,n,r,i;if(Y3(e))n=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=e;n=o.get("seriesLayoutBy",!0),r=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:i}},t}();function Y3(t){return t.mainType==="series"}function BB(t){throw new Error(t)}var Bne="line-height:1";function Hne(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,i=t.fontWeight||"400",o=t.color||"#464646",a=t.fontSize||14,s=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Ls(r+"")+"px;color:"+Ls(n)+";font-weight:"+Ls(i+""),valueStyle:"font-size:"+Ls(a+"")+"px;color:"+Ls(o)+";font-weight:"+Ls(s+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:i},valueStyle:{fontSize:a,fill:o,fontWeight:s}}}var QAe=[0,10,20,30],eIe=["",`
`,`

`,`


`];function Tm(t,e){return e.type=t,e}function FI(t){return t.type==="section"}function Wne(t){return FI(t)?tIe:nIe}function Une(t){if(FI(t)){var e=0,n=t.blocks.length,r=n>1||n>0&&!t.noHeader;return ye(t.blocks,function(i){var o=Une(i);o>=e&&(e=o+ +(r&&(!o||FI(i)&&!i.noHeader)))}),e}return 0}function tIe(t,e,n,r){var i=e.noHeader,o=rIe(Une(e)),a=[],s=e.blocks||[];Hs(!s||gt(s)),s=s||[];var l=t.orderMode;if(e.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(lb(c,l)){var u=new RAe(c[l],null);s.sort(function(m,v){return u.evaluate(m.sortParam,v.sortParam)})}else l==="seriesDesc"&&s.reverse()}ye(s,function(m,v){var k=e.valueFormatter,b=Wne(m)(k?ot(ot({},t),{valueFormatter:k}):t,m,v>0?o.html:0,r);b!=null&&a.push(b)});var f=t.renderMode==="richText"?a.join(o.richText):NI(a.join(""),i?n:o.html);if(i)return f;var d=$I(e.header,"ordinal",t.useUTC),h=Hne(r,t.renderMode).nameStyle;return t.renderMode==="richText"?Gne(t,d,h)+o.richText+f:NI('<div style="'+h+";"+Bne+';">'+Ls(d)+"</div>"+f,n)}function nIe(t,e,n,r){var i=t.renderMode,o=e.noName,a=e.noValue,s=!e.markerType,l=e.name,c=t.useUTC,u=e.valueFormatter||t.valueFormatter||function(C){return C=gt(C)?C:[C],tn(C,function(S,g){return $I(S,gt(h)?h[g]:h,c)})};if(!(o&&a)){var f=s?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),d=o?"":$I(l,"ordinal",c),h=e.valueType,m=a?[]:u(e.value),v=!s||!o,k=!s&&o,b=Hne(r,i),_=b.nameStyle,x=b.valueStyle;return i==="richText"?(s?"":f)+(o?"":Gne(t,d,_))+(a?"":aIe(t,m,v,k,x)):NI((s?"":f)+(o?"":iIe(d,!s,_))+(a?"":oIe(m,v,k,x)),n)}}function HB(t,e,n,r,i,o){if(t){var a=Wne(t),s={useUTC:i,renderMode:n,orderMode:r,markupStyleCreator:e,valueFormatter:t.valueFormatter};return a(s,t,0,o)}}function rIe(t){return{html:QAe[t],richText:eIe[t]}}function NI(t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+Bne+';">'+t+n+"</div>"}function iIe(t,e,n){var r=e?"margin-left:2px":"";return'<span style="'+n+";"+r+'">'+Ls(t)+"</span>"}function oIe(t,e,n,r){var i=n?"10px":"20px",o=e?"float:right;margin-left:"+i:"";return t=gt(t)?t:[t],'<span style="'+o+";"+r+'">'+tn(t,function(a){return Ls(a)}).join("&nbsp;&nbsp;")+"</span>"}function Gne(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function aIe(t,e,n,r,i){var o=[i],a=r?10:20;return n&&o.push({padding:[0,0,0,a],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(gt(e)?e.join("  "):e,o)}function sIe(t,e){var n=t.getData().getItemVisual(e,"style"),r=n[t.visualDrawType];return n4(r)}function qne(t,e){var n=t.get("padding");return n??(e==="richText"?[8,10]:10)}var Jx=function(){function t(){this.richTextStyles={},this._nextStyleNameId=cte()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,n,r){var i=r==="richText"?this._generateStyleName():null,o=GTe({color:n,type:e,renderMode:r,markerId:i});return Et(o)?o:(this.richTextStyles[i]=o.style,o.content)},t.prototype.wrapRichTextStyle=function(e,n){var r={};gt(n)?ye(n,function(o){return ot(r,o)}):ot(r,n);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},t}();function lIe(t){var e=t.series,n=t.dataIndex,r=t.multipleSeries,i=e.getData(),o=i.mapDimensionsAll("defaultedTooltip"),a=o.length,s=e.getRawValue(n),l=gt(s),c=sIe(e,n),u,f,d,h;if(a>1||l&&!a){var m=cIe(s,e,n,o,c);u=m.inlineValues,f=m.inlineValueTypes,d=m.blocks,h=m.inlineValues[0]}else if(a){var v=i.getDimensionInfo(o[0]);h=u=Y5(i,n,o[0]),f=v.type}else h=u=l?s[0]:s;var k=aO(e),b=k&&e.name||"",_=i.getName(n),x=r?b:_;return Tm("section",{header:b,noHeader:r||!k,sortParam:h,blocks:[Tm("nameValue",{markerType:"item",markerColor:c,name:x,noName:!au(x),value:u,valueType:f})].concat(d||[])})}function cIe(t,e,n,r,i){var o=e.getData(),a=ah(t,function(f,d,h){var m=o.getDimensionInfo(h);return f=f||m&&m.tooltip!==!1&&m.displayName!=null},!1),s=[],l=[],c=[];r.length?ye(r,function(f){u(Y5(o,n,f),f)}):ye(t,u);function u(f,d){var h=o.getDimensionInfo(d);!h||h.otherDims.tooltip===!1||(a?c.push(Tm("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:f,valueType:h.type})):(s.push(f),l.push(h.type)))}return{inlineValues:s,inlineValueTypes:l,blocks:c}}var td=no();function X3(t,e){return t.getName(e)||t.getId(e)}var uIe="__universalTransitionEnabled",Z6=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return e.prototype.init=function(n,r,i){this.seriesIndex=this.componentIndex,this.dataTask=sy({count:dIe,reset:hIe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,i);var o=td(this).sourceManager=new ZAe(this);o.prepareSource();var a=this.getInitialData(n,i);UB(a,this),this.dataTask.context.data=a,td(this).dataBeforeProcessed=a,WB(this),this._initSelectedMapFromData(a)},e.prototype.mergeDefaultAndTheme=function(n,r){var i=q5(this),o=i?AO(n):{},a=this.subType;wi.hasClass(a)&&(a+="Series"),hi(n,r.getTheme().get(this.subType)),hi(n,this.getDefaultOption()),vI(n,"label",["show"]),this.fillDataTextStyle(n.data),i&&r4(n,o,i)},e.prototype.mergeOption=function(n,r){n=hi(this.option,n,!0),this.fillDataTextStyle(n.data);var i=q5(this);i&&r4(this.option,n,i);var o=td(this).sourceManager;o.dirty(),o.prepareSource();var a=this.getInitialData(n,r);UB(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,td(this).dataBeforeProcessed=a,WB(this),this._initSelectedMapFromData(a)},e.prototype.fillDataTextStyle=function(n){if(n&&!Bs(n))for(var r=["show"],i=0;i<n.length;i++)n[i]&&n[i].label&&vI(n[i],"label",r)},e.prototype.getInitialData=function(n,r){},e.prototype.appendData=function(n){var r=this.getRawData();r.appendData(n.data)},e.prototype.getData=function(n){var r=MI(this);if(r){var i=r.context.data;return n==null?i:i.getLinkedData(n)}else return td(this).data},e.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},e.prototype.setData=function(n){var r=MI(this);if(r){var i=r.context;i.outputData=n,r!==this.dataTask&&(i.data=n)}td(this).data=n},e.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return bn(n)},e.prototype.getSourceManager=function(){return td(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return td(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},e.prototype.formatTooltip=function(n,r,i){return lIe({series:this,dataIndex:n,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(In.node&&!(n&&n.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(n,r,i){var o=this.ecModel,a=PO.prototype.getColorFromPalette.call(this,n,r,i);return a||(a=o.getColorFromPalette(n,r,i)),a},e.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(n,r){this._innerSelect(this.getData(r),n)},e.prototype.unselect=function(n,r){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,a=this.getData(r);if(o==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<n.length;s++){var l=n[s],c=X3(a,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(n,r){for(var i=[],o=0;o<n.length;o++)i[0]=n[o],this.isSelected(n[o],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,r=ir(n),i=[],o=0;o<r.length;o++){var a=n[r[o]];a>=0&&i.push(a)}return i},e.prototype.isSelected=function(n,r){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(r);return(i==="all"||i[X3(o,n)])&&!o.getItemModel(n).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[uIe])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},e.prototype._innerSelect=function(n,r){var i,o,a=this.option,s=a.selectedMode,l=r.length;if(!(!s||!l)){if(s==="series")a.selectedMap="all";else if(s==="multiple"){Bt(a.selectedMap)||(a.selectedMap={});for(var c=a.selectedMap,u=0;u<l;u++){var f=r[u],d=X3(n,f);c[d]=!0,this._selectedDataIndicesMap[d]=n.getRawIndex(f)}}else if(s==="single"||s===!0){var h=r[l-1],d=X3(n,h);a.selectedMap=(i={},i[d]=!0,i),this._selectedDataIndicesMap=(o={},o[d]=n.getRawIndex(h),o)}}},e.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var r=[];n.hasItemOption&&n.each(function(i){var o=n.getRawDataItem(i);o&&o.selected&&r.push(i)}),r.length>0&&this._innerSelect(n,r)}},e.registerClass=function(n){return wi.registerClass(n)},e.protoInitialize=function(){var n=e.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),e}(wi);wc(Z6,MAe);wc(Z6,PO);mte(Z6,wi);function WB(t){var e=t.name;aO(t)||(t.name=fIe(t)||e)}function fIe(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),r=[];return ye(n,function(i){var o=e.getDimensionInfo(i);o.displayName&&r.push(o.displayName)}),r.join(" ")}function dIe(t){return t.model.getRawData().count()}function hIe(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),pIe}function pIe(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function UB(t,e){ye(twe(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(n){t.wrapMethod(n,Rr(mIe,e))})}function mIe(t,e){var n=MI(t);return n&&n.setOutputEnd((e||this).count()),e}function MI(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var r=n.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(t.uid))}return r}}const Am=Z6;var LO=function(){function t(){this.group=new vu,this.uid=q6("viewComponent")}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){},t.prototype.updateLayout=function(e,n,r,i){},t.prototype.updateVisual=function(e,n,r,i){},t.prototype.toggleBlurSeries=function(e,n,r){},t.prototype.eachRendered=function(e){var n=this.group;n&&n.traverse(e)},t}();lO(LO);cO(LO);const lh=LO;function gIe(){var t=no();return function(e){var n=t(e),r=e.pipelineContext,i=!!n.large,o=!!n.progressiveRender,a=n.large=!!(r&&r.large),s=n.progressiveRender=!!(r&&r.progressiveRender);return(i!==a||o!==s)&&"reset"}}var Yne=no(),bIe=gIe(),FO=function(){function t(){this.group=new vu,this.uid=q6("viewChart"),this.renderTask=sy({plan:vIe,reset:yIe}),this.renderTask.context={view:this}}return t.prototype.init=function(e,n){},t.prototype.render=function(e,n,r,i){},t.prototype.highlight=function(e,n,r,i){var o=e.getData(i&&i.dataType);o&&qB(o,i,"emphasis")},t.prototype.downplay=function(e,n,r,i){var o=e.getData(i&&i.dataType);o&&qB(o,i,"normal")},t.prototype.remove=function(e,n){this.group.removeAll()},t.prototype.dispose=function(e,n){},t.prototype.updateView=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateLayout=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.updateVisual=function(e,n,r,i){this.render(e,n,r,i)},t.prototype.eachRendered=function(e){hne(this.group,e)},t.markUpdateMethod=function(e,n){Yne(e).updateMethod=n},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function GB(t,e,n){t&&TI(t)&&(e==="emphasis"?R5:j5)(t,n)}function qB(t,e,n){var r=f2(t,e),i=e&&e.highlightKey!=null?vCe(e.highlightKey):null;r!=null?ye(Zo(r),function(o){GB(t.getItemGraphicEl(o),n,i)}):t.eachItemGraphicEl(function(o){GB(o,n,i)})}lO(FO);cO(FO);function vIe(t){return bIe(t.model)}function yIe(t){var e=t.model,n=t.ecModel,r=t.api,i=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=i&&Yne(i).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return l!=="render"&&a[l](e,n,r,i),kIe[l]}var kIe={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const zd=FO;var X5="\0__throttleOriginMethod",YB="\0__throttleRate",XB="\0__throttleType";function NO(t,e,n){var r,i=0,o=0,a=null,s,l,c,u;e=e||0;function f(){o=new Date().getTime(),a=null,t.apply(l,c||[])}var d=function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];r=new Date().getTime(),l=this,c=h;var v=u||e,k=u||n;u=null,s=r-(k?i:o)-v,clearTimeout(a),k?a=setTimeout(f,v):s>=0?f():a=setTimeout(f,-s),i=r};return d.clear=function(){a&&(clearTimeout(a),a=null)},d.debounceNextCall=function(h){u=h},d}function Xne(t,e,n,r){var i=t[e];if(i){var o=i[X5]||i,a=i[XB],s=i[YB];if(s!==n||a!==r){if(n==null||!r)return t[e]=o;i=t[e]=NO(o,n,r==="debounce"),i[X5]=o,i[XB]=r,i[YB]=n}return i}}function zI(t,e){var n=t[e];n&&n[X5]&&(n.clear&&n.clear(),t[e]=n[X5])}var KB=no(),JB={itemStyle:Qy(mne,!0),lineStyle:Qy(pne,!0)},_Ie={lineStyle:"stroke",itemStyle:"fill"};function Kne(t,e){var n=t.visualStyleMapper||JB[e];return n||(console.warn("Unknown style type '"+e+"'."),JB.itemStyle)}function Jne(t,e){var n=t.visualDrawType||_Ie[e];return n||(console.warn("Unknown style type '"+e+"'."),"fill")}var wIe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=t.getModel(r),o=Kne(t,r),a=o(i),s=i.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=Jne(t,r),c=a[l],u=Qn(c)?c:null,f=a.fill==="auto"||a.stroke==="auto";if(!a[l]||u||f){var d=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[l]||(a[l]=d,n.setVisual("colorFromPalette",!0)),a.fill=a.fill==="auto"||Qn(a.fill)?d:a.fill,a.stroke=a.stroke==="auto"||Qn(a.stroke)?d:a.stroke}if(n.setVisual("style",a),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(h,m){var v=t.getDataParams(m),k=ot({},a);k[l]=u(v),h.setItemVisual(m,"style",k)}}}},X1=new co,SIe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var n=t.getData(),r=t.visualStyleAccessPath||"itemStyle",i=Kne(t,r),o=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(a,s){var l=a.getRawDataItem(s);if(l&&l[r]){X1.option=l[r];var c=i(X1),u=a.ensureUniqueItemVisual(s,"style");ot(u,c),X1.option.decal&&(a.setItemVisual(s,"decal",X1.option.decal),X1.option.decal.dirty=!0),o in c&&a.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},xIe={performRawSeries:!0,overallReset:function(t){var e=bn();t.eachSeries(function(n){var r=n.getColorBy();if(!n.isColorBySeries()){var i=n.type+"-"+r,o=e.get(i);o||(o={},e.set(i,o)),KB(n).scope=o}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var r=n.getRawData(),i={},o=n.getData(),a=KB(n).scope,s=n.visualStyleAccessPath||"itemStyle",l=Jne(n,s);o.each(function(c){var u=o.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c],f=o.getItemVisual(u,"colorFromPalette");if(f){var d=o.ensureUniqueItemVisual(u,"style"),h=r.getName(c)||c+"",m=r.count();d[l]=n.getColorFromPalette(h,a,m)}})}})}},K3=Math.PI;function CIe(t,e){e=e||{},mi(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new vu,r=new Qo({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(r);var i=new ea({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),o=new Qo({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});n.add(o);var a;return e.showSpinner&&(a=new bO({shape:{startAngle:-K3/2,endAngle:-K3/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),a.animateShape(!0).when(1e3,{endAngle:K3*3/2}).start("circularInOut"),a.animateShape(!0).when(1e3,{startAngle:K3*3/2}).delay(300).start("circularInOut"),n.add(a)),n.resize=function(){var s=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(t.getWidth()-l*2-(e.showSpinner&&s?10:0)-s)/2-(e.showSpinner&&s?0:5+s/2)+(e.showSpinner?0:s/2)+(s?0:l),u=t.getHeight()/2;e.showSpinner&&a.setShape({cx:c,cy:u}),o.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n}var TIe=function(){function t(e,n,r,i){this._stageTaskMap=bn(),this.ecInstance=e,this.api=n,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return t.prototype.restoreData=function(e,n){e.restoreData(n),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},t.prototype.getPerformArgs=function(e,n){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,o=!n&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,a=o?r.step:null,s=i&&i.modDataCount,l=s!=null?Math.ceil(s/a):null;return{step:a,modBy:l,modDataCount:s}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,n){var r=this._pipelineMap.get(e.uid),i=e.getData(),o=i.count(),a=r.progressiveEnabled&&n.incrementalPrepareRender&&o>=r.threshold,s=e.get("large")&&o>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?o:null;e.pipelineContext=r.context={progressiveRender:a,modDataCount:l,large:s}},t.prototype.restorePipelines=function(e){var n=this,r=n._pipelineMap=bn();e.eachSeries(function(i){var o=i.getProgressive(),a=i.uid;r.set(a,{id:a,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),n._pipe(i,i.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,n=this.api.getModel(),r=this.api;ye(this._allHandlers,function(i){var o=e.get(i.uid)||e.set(i.uid,{}),a="";Hs(!(i.reset&&i.overallReset),a),i.reset&&this._createSeriesStageTask(i,o,n,r),i.overallReset&&this._createOverallStageTask(i,o,n,r)},this)},t.prototype.prepareView=function(e,n,r,i){var o=e.renderTask,a=o.context;a.model=n,a.ecModel=r,a.api=i,o.__block=!e.incrementalPrepareRender,this._pipe(n,o)},t.prototype.performDataProcessorTasks=function(e,n){this._performStageTasks(this._dataProcessorHandlers,e,n,{block:!0})},t.prototype.performVisualTasks=function(e,n,r){this._performStageTasks(this._visualHandlers,e,n,r)},t.prototype._performStageTasks=function(e,n,r,i){i=i||{};var o=!1,a=this;ye(e,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=a._stageTaskMap.get(l.uid),f=u.seriesTaskMap,d=u.overallTask;if(d){var h,m=d.agentStubMap;m.each(function(k){s(i,k)&&(k.dirty(),h=!0)}),h&&d.dirty(),a.updatePayload(d,r);var v=a.getPerformArgs(d,i.block);m.each(function(k){k.perform(v)}),d.perform(v)&&(o=!0)}else f&&f.each(function(k,b){s(i,k)&&k.dirty();var _=a.getPerformArgs(k,i.block);_.skip=!l.performRawSeries&&n.isSeriesFiltered(k.context.model),a.updatePayload(k,r),k.perform(_)&&(o=!0)})}});function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=o||this.unfinished},t.prototype.performSeriesTasks=function(e){var n;e.eachSeries(function(r){n=r.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var n=e.tail;do{if(n.__block){e.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(e,n){n!=="remain"&&(e.context.payload=n)},t.prototype._createSeriesStageTask=function(e,n,r,i){var o=this,a=n.seriesTaskMap,s=n.seriesTaskMap=bn(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u);function u(f){var d=f.uid,h=s.set(d,a&&a.get(d)||sy({plan:$Ie,reset:OIe,count:LIe}));h.context={model:f,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:o},o._pipe(f,h)}},t.prototype._createOverallStageTask=function(e,n,r,i){var o=this,a=n.overallTask=n.overallTask||sy({reset:AIe});a.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:o};var s=a.agentStubMap,l=a.agentStubMap=bn(),c=e.seriesType,u=e.getTargetSeries,f=!0,d=!1,h="";Hs(!e.createOnAllSeries,h),c?r.eachRawSeriesByType(c,m):u?u(r,i).each(m):(f=!1,ye(r.getSeries(),m));function m(v){var k=v.uid,b=l.set(k,s&&s.get(k)||(d=!0,sy({reset:IIe,onDirty:EIe})));b.context={model:v,overallProgress:f},b.agent=a,b.__block=f,o._pipe(v,b)}d&&a.dirty()},t.prototype._pipe=function(e,n){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i},t.wrapStageHandler=function(e,n){return Qn(e)&&(e={overallReset:e,seriesType:FIe(e)}),e.uid=q6("stageHandler"),n&&(e.visualType=n),e},t}();function AIe(t){t.overallReset(t.ecModel,t.api,t.payload)}function IIe(t){return t.overallProgress&&PIe}function PIe(){this.agent.dirty(),this.getDownstream().dirty()}function EIe(){this.agent&&this.agent.dirty()}function $Ie(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function OIe(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Zo(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?tn(e,function(n,r){return Zne(r)}):DIe}var DIe=Zne(0);function Zne(t){return function(e,n){var r=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var o=e.start;o<e.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(e,r)}}function LIe(t){return t.data.count()}function FIe(t){K5=null;try{t(o4,Qne)}catch{}return K5}var o4={},Qne={},K5;ere(o4,Pne);ere(Qne,Ene);o4.eachSeriesByType=o4.eachRawSeriesByType=function(t){K5=t};o4.eachComponent=function(t){t.mainType==="series"&&t.subType&&(K5=t.subType)};function ere(t,e){for(var n in e.prototype)t[n]=Jo}const tre=TIe;var ZB=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const NIe={color:ZB,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],ZB]};var pa="#B9B8CE",QB="#100C2A",J3=function(){return{axisLine:{lineStyle:{color:pa}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},eH=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],nre={darkMode:!0,color:eH,backgroundColor:QB,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:pa}},textStyle:{color:pa},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:pa}},dataZoom:{borderColor:"#71708A",textStyle:{color:pa},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:pa}},timeline:{lineStyle:{color:pa},label:{color:pa},controlStyle:{color:pa,borderColor:pa}},calendar:{itemStyle:{color:QB},dayLabel:{color:pa},monthLabel:{color:pa},yearLabel:{color:pa}},timeAxis:J3(),logAxis:J3(),valueAxis:J3(),categoryAxis:J3(),line:{symbol:"circle"},graph:{color:eH},gauge:{title:{color:pa},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:pa},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};nre.categoryAxis.splitLine.show=!1;const MIe=nre;var zIe=function(){function t(){}return t.prototype.normalizeQuery=function(e){var n={},r={},i={};if(Et(e)){var o=su(e);n.mainType=o.main||null,n.subType=o.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};ye(e,function(l,c){for(var u=!1,f=0;f<a.length;f++){var d=a[f],h=c.lastIndexOf(d);if(h>0&&h===c.length-d.length){var m=c.slice(0,h);m!=="data"&&(n.mainType=m,n[d.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:n,dataQuery:r,otherQuery:i}},t.prototype.filter=function(e,n){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,o=r.packedEvent,a=r.model,s=r.view;if(!a||!s)return!0;var l=n.cptQuery,c=n.dataQuery;return u(l,a,"mainType")&&u(l,a,"subType")&&u(l,a,"index","componentIndex")&&u(l,a,"name")&&u(l,a,"id")&&u(c,o,"name")&&u(c,o,"dataIndex")&&u(c,o,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(e,n.otherQuery,i,o));function u(f,d,h,m){return f[h]==null||d[m||h]===f[h]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),RI=["symbol","symbolSize","symbolRotate","symbolOffset"],tH=RI.concat(["symbolKeepAspect"]),RIe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var r={},i={},o=!1,a=0;a<RI.length;a++){var s=RI[a],l=t.get(s);Qn(l)?(o=!0,i[s]=l):r[s]=l}if(r.symbol=r.symbol||t.defaultSymbol,n.setVisual(ot({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),e.isSeriesFiltered(t))return;var c=ir(i);function u(f,d){for(var h=t.getRawValue(d),m=t.getDataParams(d),v=0;v<c.length;v++){var k=c[v];f.setItemVisual(d,k,i[k](h,m))}}return{dataEach:o?u:null}}},jIe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var n=t.getData();function r(i,o){for(var a=i.getItemModel(o),s=0;s<tH.length;s++){var l=tH[s],c=a.getShallow(l,!0);c!=null&&i.setItemVisual(o,l,c)}}return{dataEach:n.hasItemOption?r:null}}};function VIe(t,e,n){switch(n){case"color":var r=t.getItemVisual(e,"style");return r[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function BIe(t,e){switch(e){case"color":var n=t.getVisual("style");return n[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function HIe(t,e){function n(r,i){var o=[];return r.eachComponent({mainType:"series",subType:t,query:i},function(a){o.push(a.seriesIndex)}),o}ye([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(r){e(r[0],function(i,o,a){i=ot({},i),a.dispatchAction(ot(i,{type:r[1],seriesIndex:n(o,i)}))})})}function Dg(t,e,n,r,i){var o=t+e;n.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(a){for(var s=a.seriesIndex,l=a.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var f=a.getData(),d=f2(f,i.fromActionPayload);n.trigger(o,{type:o,seriesId:a.id,name:gt(d)?f.getName(d[0]):f.getName(d),selected:Et(l)?l:ot({},l)})}})}function WIe(t,e,n){t.on("selectchanged",function(r){var i=n.getModel();r.isFromClick?(Dg("map","selectchanged",e,i,r),Dg("pie","selectchanged",e,i,r)):r.fromAction==="select"?(Dg("map","selected",e,i,r),Dg("pie","selected",e,i,r)):r.fromAction==="unselect"&&(Dg("map","unselected",e,i,r),Dg("pie","unselected",e,i,r))})}function Ov(t,e,n){for(var r;t&&!(e(t)&&(r=t,n));)t=t.__hostTarget||t.parent;return r}var UIe=Math.round(Math.random()*9),GIe=typeof Object.defineProperty=="function",qIe=function(){function t(){this._id="__ec_inner_"+UIe++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,n){var r=this._guard(e);return GIe?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}();const YIe=qIe;var XIe=Dr.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),KIe=Dr.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),JIe=Dr.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,f=Math.sin(c),d=Math.cos(c),h=a*.6,m=a*.7;t.moveTo(n-u,l+s),t.arc(n,l,a,Math.PI-c,Math.PI*2+c),t.bezierCurveTo(n+u-f*h,l+s+d*h,n,r-m,n,r),t.bezierCurveTo(n,r-m,n-u+f*h,l+s+d*h,n-u,l+s),t.closePath()}}),ZIe=Dr.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),QIe={line:m2,rect:Qo,roundRect:Qo,square:Qo,circle:gO,diamond:KIe,pin:JIe,arrow:ZIe,triangle:XIe},ePe={line:function(t,e,n,r,i){i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r}},jI={};ye(QIe,function(t,e){jI[e]=new t});var tPe=Dr.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var r=nte(t,e,n),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=n.y+n.height*.4),r},buildPath:function(t,e,n){var r=e.symbolType;if(r!=="none"){var i=jI[r];i||(r="rect",i=jI[r]),ePe[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}});function nPe(t,e){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=t:n.fill=t,this.markRedraw()}}function MO(t,e,n,r,i,o,a){var s=t.indexOf("empty")===0;s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return t.indexOf("image://")===0?l=cne(t.slice(8),new $r(e,n,r,i),a?"center":"cover"):t.indexOf("path://")===0?l=yO(t.slice(7),{},new $r(e,n,r,i),a?"center":"cover"):l=new tPe({shape:{symbolType:t,x:e,y:n,width:r,height:i}}),l.__isEmptyBrush=s,l.setColor=nPe,o&&l.setColor(o),l}function rPe(t,e){if(t!=null)return gt(t)||(t=[t,t]),[Xr(t[0],e[0])||0,Xr(gn(t[1],t[0]),e[1])||0]}function Xp(t){return isFinite(t)}function iPe(t,e,n){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,o=e.y==null?0:e.y,a=e.y2==null?0:e.y2;e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=Xp(r)?r:0,i=Xp(i)?i:1,o=Xp(o)?o:0,a=Xp(a)?a:0;var s=t.createLinearGradient(r,o,i,a);return s}function oPe(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=e.x==null?.5:e.x,s=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(a=a*r+n.x,s=s*i+n.y,l=l*o),a=Xp(a)?a:.5,s=Xp(s)?s:.5,l=l>=0&&Xp(l)?l:.5;var c=t.createRadialGradient(a,s,0,a,s,l);return c}function VI(t,e,n){for(var r=e.type==="radial"?oPe(t,e,n):iPe(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function aPe(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function Z3(t){return parseInt(t,10)}function m0(t,e,n){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],o=["paddingLeft","paddingTop"][e],a=["paddingRight","paddingBottom"][e];if(n[r]!=null&&n[r]!=="auto")return parseFloat(n[r]);var s=document.defaultView.getComputedStyle(t);return(t[i]||Z3(s[r])||Z3(t.style[r]))-(Z3(s[o])||0)-(Z3(s[a])||0)|0}function sPe(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Zr(t)?[t]:gt(t)?t:null}function zO(t){var e=t.style,n=e.lineDash&&e.lineWidth>0&&sPe(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(n){var i=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;i&&i!==1&&(n=tn(n,function(o){return o/i}),r/=i)}return[n,r]}var lPe=new sh(!0);function J5(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function nH(t){return typeof t=="string"&&t!=="none"}function Z5(t){var e=t.fill;return e!=null&&e!=="none"}function rH(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function iH(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function BI(t,e,n){var r=uO(e.image,e.__image,n);if(B6(r)){var i=t.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(e.x||0,e.y||0),o.rotateSelf(0,0,(e.rotation||0)*c8),o.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(o)}return i}}function cPe(t,e,n,r){var i,o=J5(n),a=Z5(n),s=n.strokePercent,l=s<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||lPe,f=e.__dirty;if(!r){var d=n.fill,h=n.stroke,m=a&&!!d.colorStops,v=o&&!!h.colorStops,k=a&&!!d.image,b=o&&!!h.image,_=void 0,x=void 0,C=void 0,S=void 0,g=void 0;(m||v)&&(g=e.getBoundingRect()),m&&(_=f?VI(t,d,g):e.__canvasFillGradient,e.__canvasFillGradient=_),v&&(x=f?VI(t,h,g):e.__canvasStrokeGradient,e.__canvasStrokeGradient=x),k&&(C=f||!e.__canvasFillPattern?BI(t,d,e):e.__canvasFillPattern,e.__canvasFillPattern=C),b&&(S=f||!e.__canvasStrokePattern?BI(t,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=C),m?t.fillStyle=_:k&&(C?t.fillStyle=C:a=!1),v?t.strokeStyle=x:b&&(S?t.strokeStyle=S:o=!1)}var T=e.getGlobalScale();u.setScale(T[0],T[1],e.segmentIgnoreThreshold);var P,$;t.setLineDash&&n.lineDash&&(i=zO(e),P=i[0],$=i[1]);var F=!0;(c||f&Xg)&&(u.setDPR(t.dpr),l?u.setContext(null):(u.setContext(t),F=!1),u.reset(),e.buildPath(u,e.shape,r),u.toStatic(),e.pathUpdated()),F&&u.rebuildPath(t,l?s:1),P&&(t.setLineDash(P),t.lineDashOffset=$),r||(n.strokeFirst?(o&&iH(t,n),a&&rH(t,n)):(a&&rH(t,n),o&&iH(t,n))),P&&t.setLineDash([])}function uPe(t,e,n){var r=e.__image=uO(n.image,e.__image,e,e.onload);if(!(!r||!B6(r))){var i=n.x||0,o=n.y||0,a=e.getWidth(),s=e.getHeight(),l=r.width/r.height;if(a==null&&s!=null?a=s*l:s==null&&a!=null?s=a/l:a==null&&s==null&&(a=r.width,s=r.height),n.sWidth&&n.sHeight){var c=n.sx||0,u=n.sy||0;t.drawImage(r,c,u,n.sWidth,n.sHeight,i,o,a,s)}else if(n.sx&&n.sy){var c=n.sx,u=n.sy,f=a-c,d=s-u;t.drawImage(r,c,u,f,d,i,o,a,s)}else t.drawImage(r,i,o,a,s)}}function fPe(t,e,n){var r,i=n.text;if(i!=null&&(i+=""),i){t.font=n.font||oh,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(r=zO(e),o=r[0],a=r[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(J5(n)&&t.strokeText(i,n.x,n.y),Z5(n)&&t.fillText(i,n.x,n.y)):(Z5(n)&&t.fillText(i,n.x,n.y),J5(n)&&t.strokeText(i,n.x,n.y)),o&&t.setLineDash([])}}var oH=["shadowBlur","shadowOffsetX","shadowOffsetY"],aH=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function rre(t,e,n,r,i){var o=!1;if(!r&&(n=n||{},e===n))return!1;if(r||e.opacity!==n.opacity){ts(t,i),o=!0;var a=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(a)?sm.opacity:a}(r||e.blend!==n.blend)&&(o||(ts(t,i),o=!0),t.globalCompositeOperation=e.blend||sm.blend);for(var s=0;s<oH.length;s++){var l=oH[s];(r||e[l]!==n[l])&&(o||(ts(t,i),o=!0),t[l]=t.dpr*(e[l]||0))}return(r||e.shadowColor!==n.shadowColor)&&(o||(ts(t,i),o=!0),t.shadowColor=e.shadowColor||sm.shadowColor),o}function sH(t,e,n,r,i){var o=a4(e,i.inHover),a=r?null:n&&a4(n,i.inHover)||{};if(o===a)return!1;var s=rre(t,o,a,r,i);if((r||o.fill!==a.fill)&&(s||(ts(t,i),s=!0),nH(o.fill)&&(t.fillStyle=o.fill)),(r||o.stroke!==a.stroke)&&(s||(ts(t,i),s=!0),nH(o.stroke)&&(t.strokeStyle=o.stroke)),(r||o.opacity!==a.opacity)&&(s||(ts(t,i),s=!0),t.globalAlpha=o.opacity==null?1:o.opacity),e.hasStroke()){var l=o.lineWidth,c=l/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==c&&(s||(ts(t,i),s=!0),t.lineWidth=c)}for(var u=0;u<aH.length;u++){var f=aH[u],d=f[0];(r||o[d]!==a[d])&&(s||(ts(t,i),s=!0),t[d]=o[d]||f[1])}return s}function dPe(t,e,n,r,i){return rre(t,a4(e,i.inHover),n&&a4(n,i.inHover),r,i)}function ire(t,e){var n=e.transform,r=t.dpr||1;n?t.setTransform(r*n[0],r*n[1],r*n[2],r*n[3],r*n[4],r*n[5]):t.setTransform(r,0,0,r,0,0)}function hPe(t,e,n){for(var r=!1,i=0;i<t.length;i++){var o=t[i];r=r||o.isZeroArea(),ire(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=r}function pPe(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var lH=1,cH=2,uH=3,fH=4;function mPe(t){var e=Z5(t),n=J5(t);return!(t.lineDash||!(+e^+n)||e&&typeof t.fill!="string"||n&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function ts(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function a4(t,e){return e&&t.__hoverStyle||t.style}function ore(t,e){Kp(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Kp(t,e,n,r){var i=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){e.__dirty&=~Ns,e.__isRendered=!1;return}var o=e.__clipPaths,a=n.prevElClipPaths,s=!1,l=!1;if((!a||aPe(o,a))&&(a&&a.length&&(ts(t,n),t.restore(),l=s=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),o&&o.length&&(ts(t,n),t.save(),hPe(o,t,n),s=!0),n.prevElClipPaths=o),n.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=n.prevEl;c||(l=s=!0);var u=e instanceof Dr&&e.autoBatch&&mPe(e.style);s||pPe(i,c.transform)?(ts(t,n),ire(t,e)):u||ts(t,n);var f=a4(e,n.inHover);e instanceof Dr?(n.lastDrawType!==lH&&(l=!0,n.lastDrawType=lH),sH(t,e,c,l,n),(!u||!n.batchFill&&!n.batchStroke)&&t.beginPath(),cPe(t,e,f,u),u&&(n.batchFill=f.fill||"",n.batchStroke=f.stroke||"")):e instanceof z5?(n.lastDrawType!==uH&&(l=!0,n.lastDrawType=uH),sH(t,e,c,l,n),fPe(t,e,f)):e instanceof mh?(n.lastDrawType!==cH&&(l=!0,n.lastDrawType=cH),dPe(t,e,c,l,n),uPe(t,e,f)):e.getTemporalDisplayables&&(n.lastDrawType!==fH&&(l=!0,n.lastDrawType=fH),gPe(t,e,n)),u&&r&&ts(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}function gPe(t,e,n){var r=e.getDisplayables(),i=e.getTemporalDisplayables();t.save();var o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},a,s;for(a=e.getCursor(),s=r.length;a<s;a++){var l=r[a];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Kp(t,l,o,a===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Kp(t,l,o,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),o.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var Zx=new YIe,dH=new c2(100),hH=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Q5(t,e){if(t==="none")return null;var n=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";t.dirty&&Zx.delete(t);var o=Zx.get(t);if(o)return o;var a=mi(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});a.backgroundColor==="none"&&(a.backgroundColor=null);var s={repeat:"repeat"};return l(s),s.rotation=a.rotation,s.scaleX=s.scaleY=i?1:1/n,Zx.set(t,s),t.dirty=!1,s;function l(c){for(var u=[n],f=!0,d=0;d<hH.length;++d){var h=a[hH[d]];if(h!=null&&!gt(h)&&!Et(h)&&!Zr(h)&&typeof h!="boolean"){f=!1;break}u.push(h)}var m;if(f){m=u.join(",")+(i?"-svg":"");var v=dH.get(m);v&&(i?c.svgElement=v:c.image=v)}var k=sre(a.dashArrayX),b=bPe(a.dashArrayY),_=are(a.symbol),x=vPe(k),C=lre(b),S=!i&&Lb.createCanvas(),g=i&&{tag:"g",attrs:{},key:"dcl",children:[]},T=$(),P;S&&(S.width=T.width*n,S.height=T.height*n,P=S.getContext("2d")),F(),f&&dH.put(m,S||g),c.image=S,c.svgElement=g,c.svgWidth=T.width,c.svgHeight=T.height;function $(){for(var D=1,z=0,R=x.length;z<R;++z)D=$V(D,x[z]);for(var V=1,z=0,R=_.length;z<R;++z)V=$V(V,_[z].length);D*=V;var ie=C*x.length*_.length;return{width:Math.max(1,Math.min(D,a.maxTileWidth)),height:Math.max(1,Math.min(ie,a.maxTileHeight))}}function F(){P&&(P.clearRect(0,0,S.width,S.height),a.backgroundColor&&(P.fillStyle=a.backgroundColor,P.fillRect(0,0,S.width,S.height)));for(var D=0,z=0;z<b.length;++z)D+=b[z];if(D<=0)return;for(var R=-C,V=0,ie=0,oe=0;R<T.height;){if(V%2===0){for(var _e=ie/2%_.length,Ae=0,Ie=0,ke=0;Ae<T.width*2;){for(var se=0,z=0;z<k[oe].length;++z)se+=k[oe][z];if(se<=0)break;if(Ie%2===0){var ne=(1-a.symbolSize)*.5,J=Ae+k[oe][Ie]*ne,j=R+b[V]*ne,U=k[oe][Ie]*a.symbolSize,ae=b[V]*a.symbolSize,te=ke/2%_[_e].length;ue(J,j,U,ae,_[_e][te])}Ae+=k[oe][Ie],++ke,++Ie,Ie===k[oe].length&&(Ie=0)}++oe,oe===k.length&&(oe=0)}R+=b[V],++ie,++V,V===b.length&&(V=0)}function ue(ce,fe,ve,B,Y){var E=i?1:n,M=MO(Y,ce*E,fe*E,ve*E,B*E,a.color,a.symbolKeepAspect);if(i){var H=r.painter.renderOneToVNode(M);H&&g.children.push(H)}else ore(P,M)}}}}function are(t){if(!t||t.length===0)return[["rect"]];if(Et(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!Et(t[n])){e=!1;break}if(e)return are([t]);for(var r=[],n=0;n<t.length;++n)Et(t[n])?r.push([t[n]]):r.push(t[n]);return r}function sre(t){if(!t||t.length===0)return[[0,0]];if(Zr(t)){var e=Math.ceil(t);return[[e,e]]}for(var n=!0,r=0;r<t.length;++r)if(!Zr(t[r])){n=!1;break}if(n)return sre([t]);for(var i=[],r=0;r<t.length;++r)if(Zr(t[r])){var e=Math.ceil(t[r]);i.push([e,e])}else{var e=tn(t[r],function(s){return Math.ceil(s)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function bPe(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Zr(t)){var e=Math.ceil(t);return[e,e]}var n=tn(t,function(r){return Math.ceil(r)});return t.length%2?n.concat(n):n}function vPe(t){return tn(t,function(e){return lre(e)})}function lre(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2===1?e*2:e}function yPe(t,e){t.eachRawSeries(function(n){if(!t.isSeriesFiltered(n)){var r=n.getData();r.hasItemVisual()&&r.each(function(a){var s=r.getItemVisual(a,"decal");if(s){var l=r.ensureUniqueItemVisual(a,"style");l.decal=Q5(s,e)}});var i=r.getVisual("decal");if(i){var o=r.getVisual("style");o.decal=Q5(i,e)}}})}var kPe=new wu;const ec=kPe;var cre={};function _Pe(t,e){cre[t]=e}function wPe(t){return cre[t]}var SPe=1,xPe=800,CPe=900,TPe=1e3,APe=2e3,IPe=5e3,ure=1e3,PPe=1100,RO=2e3,fre=3e3,EPe=4e3,Q6=4500,$Pe=4600,OPe=5e3,DPe=6e3,dre=7e3,LPe={PROCESSOR:{FILTER:TPe,SERIES_FILTER:xPe,STATISTIC:IPe},VISUAL:{LAYOUT:ure,PROGRESSIVE_LAYOUT:PPe,GLOBAL:RO,CHART:fre,POST_CHART_LAYOUT:$Pe,COMPONENT:EPe,BRUSH:OPe,CHART_ITEM:Q6,ARIA:DPe,DECAL:dre}},Ro="__flagInMainProcess",Ha="__pendingUpdate",Qx="__needsUpdateStatus",pH=/^[a-zA-Z0-9_]+$/,eC="__connectUpdateStatus",mH=0,FPe=1,NPe=2;function hre(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.isDisposed()){this.id;return}return mre(this,t,e)}}function pre(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return mre(this,t,e)}}function mre(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),wu.prototype[e].apply(t,n)}var gre=function(t){xr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(wu),bre=gre.prototype;bre.on=pre("on");bre.off=pre("off");var Lg,tC,Q3,nd,nC,rC,iC,K1,J1,gH,bH,oC,vH,e9,yH,vre,al,kH,yre=function(t){xr(e,t);function e(n,r,i){var o=t.call(this,new zIe)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},Et(r)&&(r=kre[r]),o._dom=n;var a="canvas",s="auto",l=!1,c=o._zr=IV(n,{renderer:i.renderer||a,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:gn(i.useDirtyRect,l),useCoarsePointer:gn(i.useCoarsePointer,s),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=NO(Er(c.flush,c),17),r=Gn(r),r&&One(r,!0),o._theme=r,o._locale=FTe(i.locale||gne),o._coordSysMgr=new X6;var u=o._api=yH(o);function f(d,h){return d.__prio-h.__prio}return u8(tk,f),u8(HI,f),o._scheduler=new tre(o,u,HI,tk),o._messageCenter=new gre,o._initEvents(),o.resize=Er(o.resize,o),c.animation.on("frame",o._onframe,o),gH(c,o),bH(c,o),JA(o),o}return e.prototype._onframe=function(){if(!this._disposed){kH(this);var n=this._scheduler;if(this[Ha]){var r=this[Ha].silent;this[Ro]=!0;try{Lg(this),nd.update.call(this,null,this[Ha].updateParams)}catch(l){throw this[Ro]=!1,this[Ha]=null,l}this._zr.flush(),this[Ro]=!1,this[Ha]=null,K1.call(this,r),J1.call(this,r)}else if(n.unfinished){var i=SPe,o=this._model,a=this._api;n.unfinished=!1;do{var s=+new Date;n.performSeriesTasks(o),n.performDataProcessorTasks(o),rC(this,o),n.performVisualTasks(o),e9(this,this._model,a,"remain",{}),i-=+new Date-s}while(i>0&&n.unfinished);n.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(n,r,i){if(!this[Ro]){if(this._disposed){this.id;return}var o,a,s;if(Bt(r)&&(i=r.lazyUpdate,o=r.silent,a=r.replaceMerge,s=r.transition,r=r.notMerge),this[Ro]=!0,!this._model||r){var l=new kAe(this._api),c=this._theme,u=this._model=new Pne;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(n,{replaceMerge:a},WI);var f={seriesTransition:s,optionChanged:!0};if(i)this[Ha]={silent:o,updateParams:f},this[Ro]=!1,this.getZr().wakeUp();else{try{Lg(this),nd.update.call(this,null,f)}catch(d){throw this[Ha]=null,this[Ro]=!1,d}this._ssr||this._zr.flush(),this[Ha]=null,this[Ro]=!1,K1.call(this,o),J1.call(this,o)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||In.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(n){return this.renderToCanvas(n)},e.prototype.renderToCanvas=function(n){n=n||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(n){n=n||{};var r=this._zr.painter;return r.renderToString({useViewBox:n.useViewBox})},e.prototype.getSvgDataURL=function(){if(In.svgSupported){var n=this._zr,r=n.storage.getDisplayList();return ye(r,function(i){i.stopAnimation(null,!0)}),n.painter.toDataURL()}},e.prototype.getDataURL=function(n){if(this._disposed){this.id;return}n=n||{};var r=n.excludeComponents,i=this._model,o=[],a=this;ye(r,function(l){i.eachComponent({mainType:l},function(c){var u=a._componentsMap[c.__viewId];u.group.ignore||(o.push(u),u.group.ignore=!0)})});var s=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return ye(o,function(l){l.group.ignore=!1}),s},e.prototype.getConnectedDataURL=function(n){if(this._disposed){this.id;return}var r=n.type==="svg",i=this.group,o=Math.min,a=Math.max,s=1/0;if(_H[i]){var l=s,c=s,u=-s,f=-s,d=[],h=n&&n.pixelRatio||this.getDevicePixelRatio();ye(cy,function(x,C){if(x.group===i){var S=r?x.getZr().painter.getSvgDom().innerHTML:x.renderToCanvas(Gn(n)),g=x.getDom().getBoundingClientRect();l=o(g.left,l),c=o(g.top,c),u=a(g.right,u),f=a(g.bottom,f),d.push({dom:S,left:g.left,top:g.top})}}),l*=h,c*=h,u*=h,f*=h;var m=u-l,v=f-c,k=Lb.createCanvas(),b=IV(k,{renderer:r?"svg":"canvas"});if(b.resize({width:m,height:v}),r){var _="";return ye(d,function(x){var C=x.left-l,S=x.top-c;_+='<g transform="translate('+C+","+S+')">'+x.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=_,n.connectedBackgroundColor&&b.painter.setBackgroundColor(n.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}else return n.connectedBackgroundColor&&b.add(new Qo({shape:{x:0,y:0,width:m,height:v},style:{fill:n.connectedBackgroundColor}})),ye(d,function(x){var C=new mh({style:{x:x.left*h-l,y:x.top*h-c,image:x.dom}});b.add(C)}),b.refreshImmediately(),k.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},e.prototype.convertToPixel=function(n,r){return nC(this,"convertToPixel",n,r)},e.prototype.convertFromPixel=function(n,r){return nC(this,"convertFromPixel",n,r)},e.prototype.containPixel=function(n,r){if(this._disposed){this.id;return}var i=this._model,o,a=Tx(i,n);return ye(a,function(s,l){l.indexOf("Models")>=0&&ye(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)o=o||!!u.containPoint(r);else if(l==="seriesModels"){var f=this._chartsMap[c.__viewId];f&&f.containPoint&&(o=o||f.containPoint(r,c))}},this)},this),!!o},e.prototype.getVisual=function(n,r){var i=this._model,o=Tx(i,n,{defaultMainType:"series"}),a=o.seriesModel,s=a.getData(),l=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?s.indexOfRawIndex(o.dataIndex):null;return l!=null?VIe(s,l,r):BIe(s,r)},e.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},e.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},e.prototype._initEvents=function(){var n=this;ye(MPe,function(r){var i=function(o){var a=n.getModel(),s=o.target,l,c=r==="globalout";if(c?l={}:s&&Ov(s,function(m){var v=jr(m);if(v&&v.dataIndex!=null){var k=v.dataModel||a.getSeriesByIndex(v.seriesIndex);return l=k&&k.getDataParams(v.dataIndex,v.dataType,s)||{},!0}else if(v.eventData)return l=ot({},v.eventData),!0},!0),l){var u=l.componentType,f=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",f=l.seriesIndex);var d=u&&f!=null&&a.getComponent(u,f),h=d&&n[d.mainType==="series"?"_chartsMap":"_componentsMap"][d.__viewId];l.event=o,l.type=r,n._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:d,view:h},n.trigger(r,l)}};i.zrEventfulCallAtLast=!0,n._zr.on(r,i,n)}),ye(ly,function(r,i){n._messageCenter.on(i,function(o){this.trigger(i,o)},n)}),ye(["selectchanged"],function(r){n._messageCenter.on(r,function(i){this.trigger(r,i)},n)}),WIe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var n=this.getDom();n&&hte(this.getDom(),VO,"");var r=this,i=r._api,o=r._model;ye(r._componentsViews,function(a){a.dispose(o,i)}),ye(r._chartsViews,function(a){a.dispose(o,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete cy[r.id]},e.prototype.resize=function(n){if(!this[Ro]){if(this._disposed){this.id;return}this._zr.resize(n);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),o=n&&n.silent;this[Ha]&&(o==null&&(o=this[Ha].silent),i=!0,this[Ha]=null),this[Ro]=!0;try{i&&Lg(this),nd.update.call(this,{type:"resize",animation:ot({duration:0},n&&n.animation)})}catch(a){throw this[Ro]=!1,a}this[Ro]=!1,K1.call(this,o),J1.call(this,o)}}},e.prototype.showLoading=function(n,r){if(this._disposed){this.id;return}if(Bt(n)&&(r=n,n=""),n=n||"default",this.hideLoading(),!!UI[n]){var i=UI[n](this._api,r),o=this._zr;this._loadingFX=i,o.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(n){var r=ot({},n);return r.type=ly[n.type],r},e.prototype.dispatchAction=function(n,r){if(this._disposed){this.id;return}if(Bt(r)||(r={silent:!!r}),!!ek[n.type]&&this._model){if(this[Ro]){this._pendingActions.push(n);return}var i=r.silent;iC.call(this,n,i);var o=r.flush;o?this._zr.flush():o!==!1&&In.browser.weChat&&this._throttledZrFlush(),K1.call(this,i),J1.call(this,i)}},e.prototype.updateLabelLayout=function(){ec.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(n){if(this._disposed){this.id;return}var r=n.seriesIndex,i=this.getModel(),o=i.getSeriesByIndex(r);o.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){Lg=function(f){var d=f._scheduler;d.restorePipelines(f._model),d.prepareStageTasks(),tC(f,!0),tC(f,!1),d.plan()},tC=function(f,d){for(var h=f._model,m=f._scheduler,v=d?f._componentsViews:f._chartsViews,k=d?f._componentsMap:f._chartsMap,b=f._zr,_=f._api,x=0;x<v.length;x++)v[x].__alive=!1;d?h.eachComponent(function(g,T){g!=="series"&&C(T)}):h.eachSeries(C);function C(g){var T=g.__requireNewView;g.__requireNewView=!1;var P="_ec_"+g.id+"_"+g.type,$=!T&&k[P];if(!$){var F=su(g.type),D=d?lh.getClass(F.main,F.sub):zd.getClass(F.sub);$=new D,$.init(h,_),k[P]=$,v.push($),b.add($.group)}g.__viewId=$.__id=P,$.__alive=!0,$.__model=g,$.group.__ecComponentInfo={mainType:g.mainType,index:g.componentIndex},!d&&m.prepareView($,g,h,_)}for(var x=0;x<v.length;){var S=v[x];S.__alive?x++:(!d&&S.renderTask.dispose(),b.remove(S.group),S.dispose(h,_),v.splice(x,1),k[S.__id]===S&&delete k[S.__id],S.__id=S.group.__ecComponentInfo=null)}},Q3=function(f,d,h,m,v){var k=f._model;if(k.setUpdatePayload(h),!m){ye([].concat(f._componentsViews).concat(f._chartsViews),S);return}var b={};b[m+"Id"]=h[m+"Id"],b[m+"Index"]=h[m+"Index"],b[m+"Name"]=h[m+"Name"];var _={mainType:m,query:b};v&&(_.subType=v);var x=h.excludeSeriesId,C;x!=null&&(C=bn(),ye(Zo(x),function(g){var T=Il(g,null);T!=null&&C.set(T,!0)})),k&&k.eachComponent(_,function(g){var T=C&&C.get(g.id)!=null;if(!T)if(iB(h))if(g instanceof Am)h.type===lm&&!h.notBlur&&!g.get(["emphasis","disabled"])&&uCe(g,h,f._api);else{var P=mO(g.mainType,g.componentIndex,h.name,f._api),$=P.focusSelf,F=P.dispatchers;h.type===lm&&$&&!h.notBlur&&SI(g.mainType,g.componentIndex,f._api),F&&ye(F,function(D){h.type===lm?R5(D):j5(D)})}else AI(h)&&g instanceof Am&&(hCe(g,h,f._api),nB(g),al(f))},f),k&&k.eachComponent(_,function(g){var T=C&&C.get(g.id)!=null;T||S(f[m==="series"?"_chartsMap":"_componentsMap"][g.__viewId])},f);function S(g){g&&g.__alive&&g[d]&&g[d](g.__model,k,f._api,h)}},nd={prepareAndUpdate:function(f){Lg(this),nd.update.call(this,f,{optionChanged:f.newOption!=null})},update:function(f,d){var h=this._model,m=this._api,v=this._zr,k=this._coordSysMgr,b=this._scheduler;if(h){h.setUpdatePayload(f),b.restoreData(h,f),b.performSeriesTasks(h),k.create(h,m),b.performDataProcessorTasks(h,f),rC(this,h),k.update(h,m),n(h),b.performVisualTasks(h,f),oC(this,h,m,f,d);var _=h.get("backgroundColor")||"transparent",x=h.get("darkMode");v.setBackgroundColor(_),x!=null&&x!=="auto"&&v.setDarkMode(x),ec.trigger("afterupdate",h,m)}},updateTransform:function(f){var d=this,h=this._model,m=this._api;if(h){h.setUpdatePayload(f);var v=[];h.eachComponent(function(b,_){if(b!=="series"){var x=d.getViewOfComponentModel(_);if(x&&x.__alive)if(x.updateTransform){var C=x.updateTransform(_,h,m,f);C&&C.update&&v.push(x)}else v.push(x)}});var k=bn();h.eachSeries(function(b){var _=d._chartsMap[b.__viewId];if(_.updateTransform){var x=_.updateTransform(b,h,m,f);x&&x.update&&k.set(b.uid,1)}else k.set(b.uid,1)}),n(h),this._scheduler.performVisualTasks(h,f,{setDirty:!0,dirtyMap:k}),e9(this,h,m,f,{},k),ec.trigger("afterupdate",h,m)}},updateView:function(f){var d=this._model;d&&(d.setUpdatePayload(f),zd.markUpdateMethod(f,"updateView"),n(d),this._scheduler.performVisualTasks(d,f,{setDirty:!0}),oC(this,d,this._api,f,{}),ec.trigger("afterupdate",d,this._api))},updateVisual:function(f){var d=this,h=this._model;h&&(h.setUpdatePayload(f),h.eachSeries(function(m){m.getData().clearAllVisual()}),zd.markUpdateMethod(f,"updateVisual"),n(h),this._scheduler.performVisualTasks(h,f,{visualType:"visual",setDirty:!0}),h.eachComponent(function(m,v){if(m!=="series"){var k=d.getViewOfComponentModel(v);k&&k.__alive&&k.updateVisual(v,h,d._api,f)}}),h.eachSeries(function(m){var v=d._chartsMap[m.__viewId];v.updateVisual(m,h,d._api,f)}),ec.trigger("afterupdate",h,this._api))},updateLayout:function(f){nd.update.call(this,f)}},nC=function(f,d,h,m){if(f._disposed){f.id;return}for(var v=f._model,k=f._coordSysMgr.getCoordinateSystems(),b,_=Tx(v,h),x=0;x<k.length;x++){var C=k[x];if(C[d]&&(b=C[d](v,_,m))!=null)return b}},rC=function(f,d){var h=f._chartsMap,m=f._scheduler;d.eachSeries(function(v){m.updateStreamModes(v,h[v.__viewId])})},iC=function(f,d){var h=this,m=this.getModel(),v=f.type,k=f.escapeConnect,b=ek[v],_=b.actionInfo,x=(_.update||"update").split(":"),C=x.pop(),S=x[0]!=null&&su(x[0]);this[Ro]=!0;var g=[f],T=!1;f.batch&&(T=!0,g=tn(f.batch,function(V){return V=mi(ot({},V),f),V.batch=null,V}));var P=[],$,F=AI(f),D=iB(f);if(D&&Mte(this._api),ye(g,function(V){if($=b.action(V,h._model,h._api),$=$||ot({},V),$.type=_.event||$.type,P.push($),D){var ie=sO(f),oe=ie.queryOptionMap,_e=ie.mainTypeSpecified,Ae=_e?oe.keys()[0]:"series";Q3(h,C,V,Ae),al(h)}else F?(Q3(h,C,V,"series"),al(h)):S&&Q3(h,C,V,S.main,S.sub)}),C!=="none"&&!D&&!F&&!S)try{this[Ha]?(Lg(this),nd.update.call(this,f),this[Ha]=null):nd[C].call(this,f)}catch(V){throw this[Ro]=!1,V}if(T?$={type:_.event||v,escapeConnect:k,batch:P}:$=P[0],this[Ro]=!1,!d){var z=this._messageCenter;if(z.trigger($.type,$),F){var R={type:"selectchanged",escapeConnect:k,selected:pCe(m),isFromClick:f.isFromClick||!1,fromAction:f.type,fromActionPayload:f};z.trigger(R.type,R)}}},K1=function(f){for(var d=this._pendingActions;d.length;){var h=d.shift();iC.call(this,h,f)}},J1=function(f){!f&&this.trigger("updated")},gH=function(f,d){f.on("rendered",function(h){d.trigger("rendered",h),f.animation.isFinished()&&!d[Ha]&&!d._scheduler.unfinished&&!d._pendingActions.length&&d.trigger("finished")})},bH=function(f,d){f.on("mouseover",function(h){var m=h.target,v=Ov(m,TI);v&&(fCe(v,h,d._api),al(d))}).on("mouseout",function(h){var m=h.target,v=Ov(m,TI);v&&(dCe(v,h,d._api),al(d))}).on("click",function(h){var m=h.target,v=Ov(m,function(_){return jr(_).dataIndex!=null},!0);if(v){var k=v.selected?"unselect":"select",b=jr(v);d._api.dispatchAction({type:k,dataType:b.dataType,dataIndexInside:b.dataIndex,seriesIndex:b.seriesIndex,isFromClick:!0})}})};function n(f){f.clearColorPalette(),f.eachSeries(function(d){d.clearColorPalette()})}function r(f){var d=[],h=[],m=!1;if(f.eachComponent(function(_,x){var C=x.get("zlevel")||0,S=x.get("z")||0,g=x.getZLevelKey();m=m||!!g,(_==="series"?h:d).push({zlevel:C,z:S,idx:x.componentIndex,type:_,key:g})}),m){var v=d.concat(h),k,b;u8(v,function(_,x){return _.zlevel===x.zlevel?_.z-x.z:_.zlevel-x.zlevel}),ye(v,function(_){var x=f.getComponent(_.type,_.idx),C=_.zlevel,S=_.key;k!=null&&(C=Math.max(k,C)),S?(C===k&&S!==b&&C++,b=S):b&&(C===k&&C++,b=""),k=C,x.setZLevel(C)})}}oC=function(f,d,h,m,v){r(d),vH(f,d,h,m,v),ye(f._chartsViews,function(k){k.__alive=!1}),e9(f,d,h,m,v),ye(f._chartsViews,function(k){k.__alive||k.remove(d,h)})},vH=function(f,d,h,m,v,k){ye(k||f._componentsViews,function(b){var _=b.__model;c(_,b),b.render(_,d,h,m),s(_,b),u(_,b)})},e9=function(f,d,h,m,v,k){var b=f._scheduler;v=ot(v||{},{updatedSeries:d.getSeries()}),ec.trigger("series:beforeupdate",d,h,v);var _=!1;d.eachSeries(function(x){var C=f._chartsMap[x.__viewId];C.__alive=!0;var S=C.renderTask;b.updatePayload(S,m),c(x,C),k&&k.get(x.uid)&&S.dirty(),S.perform(b.getPerformArgs(S))&&(_=!0),C.group.silent=!!x.get("silent"),a(x,C),nB(x)}),b.unfinished=_||b.unfinished,ec.trigger("series:layoutlabels",d,h,v),ec.trigger("series:transition",d,h,v),d.eachSeries(function(x){var C=f._chartsMap[x.__viewId];s(x,C),u(x,C)}),o(f,d),ec.trigger("series:afterupdate",d,h,v)},al=function(f){f[Qx]=!0,f.getZr().wakeUp()},kH=function(f){f[Qx]&&(f.getZr().storage.traverse(function(d){oy(d)||i(d)}),f[Qx]=!1)};function i(f){for(var d=[],h=f.currentStates,m=0;m<h.length;m++){var v=h[m];v==="emphasis"||v==="blur"||v==="select"||d.push(v)}f.selected&&f.states.select&&d.push("select"),f.hoverState===hO&&f.states.emphasis?d.push("emphasis"):f.hoverState===dO&&f.states.blur&&d.push("blur"),f.useStates(d)}function o(f,d){var h=f._zr,m=h.storage,v=0;m.traverse(function(k){k.isGroup||v++}),v>d.get("hoverLayerThreshold")&&!In.node&&!In.worker&&d.eachSeries(function(k){if(!k.preventUsingHoverLayer){var b=f._chartsMap[k.__viewId];b.__alive&&b.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function a(f,d){var h=f.get("blendMode")||null;d.eachRendered(function(m){m.isGroup||(m.style.blend=h)})}function s(f,d){if(!f.preventAutoZ){var h=f.get("z")||0,m=f.get("zlevel")||0;d.eachRendered(function(v){return l(v,h,m,-1/0),!0})}}function l(f,d,h,m){var v=f.getTextContent(),k=f.getTextGuideLine(),b=f.isGroup;if(b)for(var _=f.childrenRef(),x=0;x<_.length;x++)m=Math.max(l(_[x],d,h,m),m);else f.z=d,f.zlevel=h,m=Math.max(f.z2,m);if(v&&(v.z=d,v.zlevel=h,isFinite(m)&&(v.z2=m+2)),k){var C=f.textGuideLineConfig;k.z=d,k.zlevel=h,isFinite(m)&&(k.z2=m+(C&&C.showAbove?1:-1))}return m}function c(f,d){d.eachRendered(function(h){if(!oy(h)){var m=h.getTextContent(),v=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function u(f,d){var h=f.getModel("stateAnimation"),m=f.isAnimationEnabled(),v=h.get("duration"),k=v>0?{duration:v,delay:h.get("delay"),easing:h.get("easing")}:null;d.eachRendered(function(b){if(b.states&&b.states.emphasis){if(oy(b))return;if(b instanceof Dr&&yCe(b),b.__dirty){var _=b.prevStates;_&&b.useStates(_)}if(m){b.stateTransition=k;var x=b.getTextContent(),C=b.getTextGuideLine();x&&(x.stateTransition=k),C&&(C.stateTransition=k)}b.__dirty&&i(b)}})}yH=function(f){return new(function(d){xr(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return f._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(m){for(;m;){var v=m.__ecComponentInfo;if(v!=null)return f._model.getComponent(v.mainType,v.index);m=m.parent}},h.prototype.enterEmphasis=function(m,v){R5(m,v),al(f)},h.prototype.leaveEmphasis=function(m,v){j5(m,v),al(f)},h.prototype.enterBlur=function(m){cCe(m),al(f)},h.prototype.leaveBlur=function(m){Dte(m),al(f)},h.prototype.enterSelect=function(m){Lte(m),al(f)},h.prototype.leaveSelect=function(m){Fte(m),al(f)},h.prototype.getModel=function(){return f.getModel()},h.prototype.getViewOfComponentModel=function(m){return f.getViewOfComponentModel(m)},h.prototype.getViewOfSeriesModel=function(m){return f.getViewOfSeriesModel(m)},h}(Ene))(f)},vre=function(f){function d(h,m){for(var v=0;v<h.length;v++){var k=h[v];k[eC]=m}}ye(ly,function(h,m){f._messageCenter.on(m,function(v){if(_H[f.group]&&f[eC]!==mH){if(v&&v.escapeConnect)return;var k=f.makeActionFromEvent(v),b=[];ye(cy,function(_){_!==f&&_.group===f.group&&b.push(_)}),d(b,mH),ye(b,function(_){_[eC]!==FPe&&_.dispatchAction(k)}),d(b,NPe)}})})}}(),e}(wu),jO=yre.prototype;jO.on=hre("on");jO.off=hre("off");jO.one=function(t,e,n){var r=this;function i(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];e&&e.apply&&e.apply(this,o),r.off(t,i)}this.on.call(this,t,i,n)};var MPe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var ek={},ly={},HI=[],WI=[],tk=[],kre={},UI={},cy={},_H={},zPe=+new Date-0,VO="_echarts_instance_";function RPe(t,e,n){var r=!(n&&n.ssr);if(r){var i=jPe(t);if(i)return i}var o=new yre(t,e,n);return o.id="ec_"+zPe++,cy[o.id]=o,r&&hte(t,VO,o.id),vre(o),ec.trigger("afterinit",o),o}function jPe(t){return cy[JSe(t,VO)]}function _re(t,e){kre[t]=e}function wre(t){wr(WI,t)<0&&WI.push(t)}function Sre(t,e){HO(HI,t,e,APe)}function VPe(t){BO("afterinit",t)}function BPe(t){BO("afterupdate",t)}function BO(t,e){ec.on(t,e)}function zb(t,e,n){Qn(e)&&(n=e,e="");var r=Bt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||r).toLowerCase(),e=t.event,!ly[e]&&(Hs(pH.test(r)&&pH.test(e)),ek[r]||(ek[r]={action:n,actionInfo:t}),ly[e]=r)}function HPe(t,e){X6.register(t,e)}function WPe(t,e){HO(tk,t,e,ure,"layout")}function qm(t,e){HO(tk,t,e,fre,"visual")}var wH=[];function HO(t,e,n,r,i){if((Qn(e)||Bt(e))&&(n=e,e=r),!(wr(wH,n)>=0)){wH.push(n);var o=tre.wrapStageHandler(n,i);o.__prio=e,o.__raw=n,t.push(o)}}function xre(t,e){UI[t]=e}function UPe(t,e,n){var r=wPe("registerMap");r&&r(t,e,n)}var GPe=GAe;qm(RO,wIe);qm(Q6,SIe);qm(Q6,xIe);qm(RO,RIe);qm(Q6,jIe);qm(dre,yPe);wre(One);Sre(CPe,IAe);xre("default",CIe);zb({type:lm,event:lm,update:lm},Jo);zb({type:b8,event:b8,update:b8},Jo);zb({type:ny,event:ny,update:ny},Jo);zb({type:v8,event:v8,update:v8},Jo);zb({type:ry,event:ry,update:ry},Jo);_re("light",NIe);_re("dark",MIe);function Z1(t){return t==null?0:t.length||1}function SH(t){return t}var qPe=function(){function t(e,n,r,i,o,a){this._old=e,this._new=n,this._oldKeyGetter=r||SH,this._newKeyGetter=i||SH,this.context=o,this._diffModeMultiple=a==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,n=this._new,r={},i=new Array(e.length),o=new Array(n.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(n,r,o,"_newKeyGetter");for(var a=0;a<e.length;a++){var s=i[a],l=r[s],c=Z1(l);if(c>1){var u=l.shift();l.length===1&&(r[s]=l[0]),this._update&&this._update(u,a)}else c===1?(r[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,r)},t.prototype._executeMultiple=function(){var e=this._old,n=this._new,r={},i={},o=[],a=[];this._initIndexMap(e,r,o,"_oldKeyGetter"),this._initIndexMap(n,i,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=r[l],u=i[l],f=Z1(c),d=Z1(u);if(f>1&&d===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(f===1&&d>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(f===1&&d===1)this._update&&this._update(u,c),i[l]=null;else if(f>1&&d>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(f>1)for(var h=0;h<f;h++)this._remove&&this._remove(c[h]);else this._remove&&this._remove(c)}this._performRestAdd(a,i)},t.prototype._performRestAdd=function(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=n[i],a=Z1(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else a===1&&this._add&&this._add(o);n[i]=null}},t.prototype._initIndexMap=function(e,n,r,i){for(var o=this._diffModeMultiple,a=0;a<e.length;a++){var s="_ec_"+this[i](e[a],a);if(o||(r[a]=s),!!n){var l=n[s],c=Z1(l);c===0?(n[s]=a,o&&r.push(s)):c===1?n[s]=[l,a]:l.push(a)}}},t}();const Cre=qPe;var YPe=function(){function t(e,n){this._encode=e,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function XPe(t,e){var n={},r=n.encode={},i=bn(),o=[],a=[],s={};ye(t.dimensions,function(d){var h=t.getDimensionInfo(d),m=h.coordDim;if(m){var v=h.coordDimIndex;aC(r,m)[v]=d,h.isExtraCoord||(i.set(m,1),JPe(h.type)&&(o[0]=d),aC(s,m)[v]=t.getDimensionIndex(h.name)),h.defaultTooltip&&a.push(d)}wne.each(function(k,b){var _=aC(r,b),x=h.otherDims[b];x!=null&&x!==!1&&(_[x]=h.name)})});var l=[],c={};i.each(function(d,h){var m=r[h];c[h]=m[0],l=l.concat(m)}),n.dataDimsOnCoord=l,n.dataDimIndicesOnCoord=tn(l,function(d){return t.getDimensionInfo(d).storeDimIndex}),n.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(o=u.slice());var f=r.tooltip;return f&&f.length?a=f.slice():a.length||(a=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=a,n.userOutput=new YPe(s,e),n}function aC(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function KPe(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function JPe(t){return!(t==="ordinal"||t==="time")}var ZPe=function(){function t(e){this.otherDims={},e!=null&&ot(this,e)}return t}();const w8=ZPe;var QPe=no(),eEe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},Tre=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Pre(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return gn(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var n=this.source.dimensionsDefine;if(n)return n[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,n=Lne(this.source),r=!Ere(e),i="",o=[],a=0,s=0;a<e;a++){var l=void 0,c=void 0,u=void 0,f=this.dimensions[s];if(f&&f.storeDimIndex===a)l=n?f.name:null,c=f.type,u=f.ordinalMeta,s++;else{var d=this.getSourceDimension(a);d&&(l=n?d.name:null,c=d.type)}o.push({property:l,type:c,ordinalMeta:u}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=eEe[c]||"f",u&&(i+=u.uid),i+="$"}var h=this.source,m=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:o,hash:m}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],n=0,r=0;n<this._fullDimCount;n++){var i=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(i=o.name),r++;else{var a=this.getSourceDimension(n);a&&(i=a.name)}e.push(i)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function Are(t){return t instanceof Tre}function Ire(t){for(var e=bn(),n=0;n<(t||[]).length;n++){var r=t[n],i=Bt(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,n)}return e}function Pre(t){var e=QPe(t);return e.dimNameMap||(e.dimNameMap=Ire(t.dimensionsDefine))}function Ere(t){return t>30}var Q1=Bt,rd=tn,tEe=typeof Int32Array>"u"?Array:Int32Array,nEe="e\0\0",xH=-1,rEe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],iEe=["_approximateExtent"],CH,t9,ev,tv,sC,n9,lC,oEe=function(){function t(e,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;Are(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var o={},a=[],s={},l=!1,c={},u=0;u<r.length;u++){var f=r[u],d=Et(f)?new w8({name:f}):f instanceof w8?f:new w8(f),h=d.name;d.type=d.type||"float",d.coordDim||(d.coordDim=h,d.coordDimIndex=0);var m=d.otherDims=d.otherDims||{};a.push(h),o[h]=d,c[h]!=null&&(l=!0),d.createInvertedIndices&&(s[h]=[]),m.itemName===0&&(this._nameDimIdx=u),m.itemId===0&&(this._idDimIdx=u),i&&(d.storeDimIndex=u)}if(this.dimensions=a,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=s,this._dimOmitted){var v=this._dimIdxToName=bn();ye(a,function(k){v.set(o[k].storeDimIndex,k)})}}return t.prototype.getDimension=function(e){var n=this._recognizeDimIndex(e);if(n==null)return e;if(n=e,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var i=this._schema.getSourceDimension(n);if(i)return i.name},t.prototype.getDimensionIndex=function(e){var n=this._recognizeDimIndex(e);if(n!=null)return n;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Zr(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var n=this.getDimensionIndex(e);return n},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var n=this._dimInfos;this._getDimInfo=e?function(r){return n.hasOwnProperty(r)?n[r]:void 0}:function(r){return n[r]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[n]:null},t.prototype.mapDimensionsAll=function(e){var n=this._dimSummary,r=n.encode[e];return(r||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,n,r){var i=this,o;if(e instanceof LI&&(o=e),!o){var a=this.dimensions,s=EO(e)||ds(e)?new Fne(e,a.length):e;o=new LI;var l=rd(a,function(c){return{type:i._dimInfos[c].type,property:c}});o.initData(s,l,r)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=XPe(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var n=this._store.appendData(e);this._doInit(n[0],n[1])},t.prototype.appendValues=function(e,n){var r=this._store.appendValues(e,n.length),i=r.start,o=r.end,a=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var s=i;s<o;s++){var l=s-i;this._nameList[s]=n[l],a&&lC(this,s)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,n=this.dimensions,r=0;r<n.length;r++){var i=this._dimInfos[n[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Md&&!e.fillStorage},t.prototype._doInit=function(e,n){if(!(e>=n)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var o=this._nameList,a=this._idList,s=i.getSource().sourceFormat,l=s===Nl;if(l&&!i.pure)for(var c=[],u=e;u<n;u++){var f=i.getItem(u,c);if(!this.hasItemOption&&jSe(f)&&(this.hasItemOption=!0),f){var d=f.name;o[u]==null&&d!=null&&(o[u]=Il(d,null));var h=f.id;a[u]==null&&h!=null&&(a[u]=Il(h,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<n;u++)lC(this,u);CH(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,n){n=this.getDimension(n),this._approximateExtent[n]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,n){Q1(e)?ot(this._calculationInfo,e):this._calculationInfo[e]=n},t.prototype.getName=function(e){var n=this.getRawIndex(e),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=ev(this,this._nameDimIdx,n)),r==null&&(r=""),r},t.prototype._getCategory=function(e,n){var r=this._store.get(e,n),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},t.prototype.getId=function(e){return t9(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,n)},t.prototype.getByRawIndex=function(e,n){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,n){var r=this,i=this._store;return gt(e)?i.getValues(rd(e,function(o){return r._getStoreDimIndex(o)}),n):i.getValues(e)},t.prototype.hasValue=function(e){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,i=n.length;r<i;r++)if(isNaN(this._store.get(n[r],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===e)return n;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,n){var r=e&&this._invertedIndicesMap[e],i=r[n];return i==null||isNaN(i)?xH:i},t.prototype.indicesOfNearest=function(e,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),n,r)},t.prototype.each=function(e,n,r){Qn(e)&&(r=n,n=e,e=[]);var i=r||this,o=rd(tv(e),this._getStoreDimIndex,this);this._store.each(o,i?Er(n,i):n)},t.prototype.filterSelf=function(e,n,r){Qn(e)&&(r=n,n=e,e=[]);var i=r||this,o=rd(tv(e),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?Er(n,i):n),this},t.prototype.selectRange=function(e){var n=this,r={},i=ir(e);return ye(i,function(o){var a=n._getStoreDimIndex(o);r[a]=e[o]}),this._store=this._store.selectRange(r),this},t.prototype.mapArray=function(e,n,r){Qn(e)&&(r=n,n=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(n&&n.apply(this,arguments))},r),i},t.prototype.map=function(e,n,r,i){var o=r||i||this,a=rd(tv(e),this._getStoreDimIndex,this),s=n9(this);return s._store=this._store.map(a,o?Er(n,o):n),s},t.prototype.modify=function(e,n,r,i){var o=r||i||this,a=rd(tv(e),this._getStoreDimIndex,this);this._store.modify(a,o?Er(n,o):n)},t.prototype.downSample=function(e,n,r,i){var o=n9(this);return o._store=this._store.downSample(this._getStoreDimIndex(e),n,r,i),o},t.prototype.lttbDownSample=function(e,n){var r=n9(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),n),r},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var n=this.hostModel,r=this.getRawDataItem(e);return new co(r,n,n&&n.ecModel)},t.prototype.diff=function(e){var n=this;return new Cre(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return t9(e,r)},function(r){return t9(n,r)})},t.prototype.getVisual=function(e){var n=this._visual;return n&&n[e]},t.prototype.setVisual=function(e,n){this._visual=this._visual||{},Q1(e)?ot(this._visual,e):this._visual[e]=n},t.prototype.getItemVisual=function(e,n){var r=this._itemVisuals[e],i=r&&r[n];return i??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,n){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var o=i[n];return o==null&&(o=this.getVisual(n),gt(o)?o=o.slice():Q1(o)&&(o=ot({},o)),i[n]=o),o},t.prototype.setItemVisual=function(e,n,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Q1(n)?ot(i,n):i[n]=r},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,n){Q1(e)?ot(this._layout,e):this._layout[e]=n},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,n,r){this._itemLayouts[e]=r?ot(this._itemLayouts[e]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,n){var r=this.hostModel&&this.hostModel.seriesIndex;Qxe(r,this.dataType,e,n),this._graphicEls[e]=n},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,n){ye(this._graphicEls,function(r,i){r&&e&&e.call(n,r,i)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:rd(this.dimensions,this._getDimInfo,this),this.hostModel)),sC(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,n){var r=this[e];Qn(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return n.apply(this,[i].concat(J$(arguments)))})},t.internalField=function(){CH=function(e){var n=e._invertedIndicesMap;ye(n,function(r,i){var o=e._dimInfos[i],a=o.ordinalMeta,s=e._store;if(a){r=n[i]=new tEe(a.categories.length);for(var l=0;l<r.length;l++)r[l]=xH;for(var l=0;l<s.count();l++)r[s.get(o.storeDimIndex,l)]=l}})},ev=function(e,n,r){return Il(e._getCategory(n,r),null)},t9=function(e,n){var r=e._idList[n];return r==null&&e._idDimIdx!=null&&(r=ev(e,e._idDimIdx,n)),r==null&&(r=nEe+n),r},tv=function(e){return gt(e)||(e=e!=null?[e]:[]),e},n9=function(e){var n=new t(e._schema?e._schema:rd(e.dimensions,e._getDimInfo,e),e.hostModel);return sC(n,e),n},sC=function(e,n){ye(rEe.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(e[r]=n[r])}),e.__wrappedMethods=n.__wrappedMethods,ye(iEe,function(r){e[r]=Gn(n[r])}),e._calculationInfo=ot({},n._calculationInfo)},lC=function(e,n){var r=e._nameList,i=e._idList,o=e._nameDimIdx,a=e._idDimIdx,s=r[n],l=i[n];if(s==null&&o!=null&&(r[n]=s=ev(e,o,n)),l==null&&a!=null&&(i[n]=l=ev(e,a,n)),l==null&&s!=null){var c=e._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),i[n]=l}}}(),t}();const s4=oEe;function e_(t,e){EO(t)||(t=$O(t)),e=e||{};var n=e.coordDimensions||[],r=e.dimensionsDefine||t.dimensionsDefine||[],i=bn(),o=[],a=sEe(t,n,r,e.dimensionsCount),s=e.canOmitUnusedDimensions&&Ere(a),l=r===t.dimensionsDefine,c=l?Pre(t):Ire(r),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(t,a));for(var f=bn(u),d=new jne(a),h=0;h<d.length;h++)d[h]=-1;function m($){var F=d[$];if(F<0){var D=r[$],z=Bt(D)?D:{name:D},R=new w8,V=z.name;V!=null&&c.get(V)!=null&&(R.name=R.displayName=V),z.type!=null&&(R.type=z.type),z.displayName!=null&&(R.displayName=z.displayName);var ie=o.length;return d[$]=ie,R.storeDimIndex=$,o.push(R),R}return o[F]}if(!s)for(var h=0;h<a;h++)m(h);f.each(function($,F){var D=Zo($).slice();if(D.length===1&&!Et(D[0])&&D[0]<0){f.set(F,!1);return}var z=f.set(F,[]);ye(D,function(R,V){var ie=Et(R)?c.get(R):R;ie!=null&&ie<a&&(z[V]=ie,k(m(ie),F,V))})});var v=0;ye(n,function($){var F,D,z,R;if(Et($))F=$,R={};else{R=$,F=R.name;var V=R.ordinalMeta;R.ordinalMeta=null,R=ot({},R),R.ordinalMeta=V,D=R.dimsDef,z=R.otherDims,R.name=R.coordDim=R.coordDimIndex=R.dimsDef=R.otherDims=null}var ie=f.get(F);if(ie!==!1){if(ie=Zo(ie),!ie.length)for(var oe=0;oe<(D&&D.length||1);oe++){for(;v<a&&m(v).coordDim!=null;)v++;v<a&&ie.push(v++)}ye(ie,function(_e,Ae){var Ie=m(_e);if(l&&R.type!=null&&(Ie.type=R.type),k(mi(Ie,R),F,Ae),Ie.name==null&&D){var ke=D[Ae];!Bt(ke)&&(ke={name:ke}),Ie.name=Ie.displayName=ke.name,Ie.defaultTooltip=ke.defaultTooltip}z&&mi(Ie.otherDims,z)})}});function k($,F,D){wne.get(F)!=null?$.otherDims[F]=D:($.coordDim=F,$.coordDimIndex=D,i.set(F,!0))}var b=e.generateCoord,_=e.generateCoordCount,x=_!=null;_=b?_||1:0;var C=b||"value";function S($){$.name==null&&($.name=$.coordDim)}if(s)ye(o,function($){S($)}),o.sort(function($,F){return $.storeDimIndex-F.storeDimIndex});else for(var g=0;g<a;g++){var T=m(g),P=T.coordDim;P==null&&(T.coordDim=lEe(C,i,x),T.coordDimIndex=0,(!b||_<=0)&&(T.isExtraCoord=!0),_--),S(T),T.type==null&&(Cne(t,g)===yo.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return aEe(o),new Tre({source:t,dimensions:o,fullDimensionCount:a,dimensionOmitted:s})}function aEe(t){for(var e=bn(),n=0;n<t.length;n++){var r=t[n],i=r.name,o=e.get(i)||0;o>0&&(r.name=i+(o-1)),o++,e.set(i,o)}}function sEe(t,e,n,r){var i=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,r||0);return ye(e,function(o){var a;Bt(o)&&(a=o.dimsDef)&&(i=Math.max(i,a.length))}),i}function lEe(t,e,n){if(n||e.hasKey(t)){for(var r=0;e.hasKey(t+r);)r++;t+=r}return e.set(t,!0),t}var cEe=function(){function t(e){this.coordSysDims=[],this.axisMap=bn(),this.categoryAxisMap=bn(),this.coordSysName=e}return t}();function uEe(t){var e=t.get("coordinateSystem"),n=new cEe(e),r=fEe[e];if(r)return r(t,n,n.axisMap,n.categoryAxisMap),n}var fEe={cartesian2d:function(t,e,n,r){var i=t.getReferringComponents("xAxis",qp).models[0],o=t.getReferringComponents("yAxis",qp).models[0];e.coordSysDims=["x","y"],n.set("x",i),n.set("y",o),Fg(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),Fg(o)&&(r.set("y",o),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,r){var i=t.getReferringComponents("singleAxis",qp).models[0];e.coordSysDims=["single"],n.set("single",i),Fg(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,r){var i=t.getReferringComponents("polar",qp).models[0],o=i.findAxisModel("radiusAxis"),a=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),Fg(o)&&(r.set("radius",o),e.firstCategoryDimIndex=0),Fg(a)&&(r.set("angle",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,r){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var i=t.ecModel,o=i.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=o.dimensions.slice();ye(o.parallelAxisIndex,function(s,l){var c=i.getComponent("parallelAxis",s),u=a[l];n.set(u,c),Fg(c)&&(r.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function Fg(t){return t.get("type")==="category"}function dEe(t,e,n){n=n||{};var r=n.byIndex,i=n.stackedCoordDimension,o,a,s;hEe(e)?o=e:(a=e.schema,o=a.dimensions,s=e.store);var l=!!(t&&t.get("stack")),c,u,f,d;if(ye(o,function(_,x){Et(_)&&(o[x]=_={name:_}),l&&!_.isExtraCoord&&(!r&&!c&&_.ordinalMeta&&(c=_),!u&&_.type!=="ordinal"&&_.type!=="time"&&(!i||i===_.coordDim)&&(u=_))}),u&&!r&&!c&&(r=!0),u){f="__\0ecstackresult_"+t.id,d="__\0ecstackedover_"+t.id,c&&(c.createInvertedIndices=!0);var h=u.coordDim,m=u.type,v=0;ye(o,function(_){_.coordDim===h&&v++});var k={name:f,coordDim:h,coordDimIndex:v,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},b={name:d,coordDim:d,coordDimIndex:v+1,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(k.storeDimIndex=s.ensureCalculationDimension(d,m),b.storeDimIndex=s.ensureCalculationDimension(f,m)),a.appendCalculationDimension(k),a.appendCalculationDimension(b)):(o.push(k),o.push(b))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:r,stackedOverDimension:d,stackResultDimension:f}}function hEe(t){return!Are(t.schema)}function pEe(t,e){var n=t.get("coordinateSystem"),r=X6.get(n),i;return e&&e.coordSysDims&&(i=tn(e.coordSysDims,function(o){var a={name:o},s=e.axisMap.get(o);if(s){var l=s.get("type");a.type=KPe(l)}return a})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function mEe(t,e,n){var r,i;return n&&ye(t,function(o,a){var s=o.coordDim,l=n.categoryAxisMap.get(s);l&&(r==null&&(r=a),o.ordinalMeta=l.getOrdinalMeta(),e&&(o.createInvertedIndices=!0)),o.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(t[r].otherDims.itemName=0),r}function gEe(t,e,n){n=n||{};var r=e.getSourceManager(),i,o=!1;t?(o=!0,i=$O(t)):(i=r.getSource(),o=i.sourceFormat===Nl);var a=uEe(e),s=pEe(e,a),l=n.useEncodeDefaulter,c=Qn(l)?l:l?Rr(QTe,s,e):null,u={coordDimensions:s,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!o},f=e_(i,u),d=mEe(f.dimensions,n.createInvertedIndices,a),h=o?null:r.getSharedDataStore(f),m=dEe(e,{schema:f,store:h}),v=new s4(f,e);v.setCalculationInfo(m);var k=d!=null&&bEe(i)?function(b,_,x,C){return C===d?x:this.defaultDimValueGetter(b,_,x,C)}:null;return v.hasItemOption=!1,v.initData(o?i:h,null,k),v}function bEe(t){if(t.sourceFormat===Nl){var e=vEe(t.data||[]);return!gt(u2(e))}}function vEe(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}function $re(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function yEe(t){var e=t.get("interval");return e??"auto"}function kEe(t){return t.type==="category"&&yEe(t.getLabelModel())===0}var TH=[],_Ee={registerPreprocessor:wre,registerProcessor:Sre,registerPostInit:VPe,registerPostUpdate:BPe,registerUpdateLifecycle:BO,registerAction:zb,registerCoordinateSystem:HPe,registerLayout:WPe,registerVisual:qm,registerTransform:GPe,registerLoading:xre,registerMap:UPe,registerImpl:_Pe,PRIORITY:LPe,ComponentModel:wi,ComponentView:lh,SeriesModel:Am,ChartView:zd,registerComponentModel:function(t){wi.registerClass(t)},registerComponentView:function(t){lh.registerClass(t)},registerSeriesModel:function(t){Am.registerClass(t)},registerChartView:function(t){zd.registerClass(t)},registerSubTypeDefaulter:function(t,e){wi.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){$Se(t,e)}};function Tf(t){if(gt(t)){ye(t,function(e){Tf(e)});return}wr(TH,t)>=0||(TH.push(t),Qn(t)&&(t={install:t}),t.install(_Ee))}sh.CMD;function Ore(t,e,n,r,i,o,a,s){var l=i-t,c=o-e,u=n-t,f=r-e,d=Math.sqrt(u*u+f*f);u/=d,f/=d;var h=l*u+c*f,m=h/d;s&&(m=Math.min(Math.max(m,0),1)),m*=d;var v=a[0]=t+m*u,k=a[1]=e+m*f;return Math.sqrt((v-i)*(v-i)+(k-o)*(k-o))}var Cd=new ln,_i=new ln,_o=new ln,Td=new ln,eu=new ln,nk=[],ya=new ln;function wEe(t,e){if(e<=180&&e>0){e=e/180*Math.PI,Cd.fromArray(t[0]),_i.fromArray(t[1]),_o.fromArray(t[2]),ln.sub(Td,Cd,_i),ln.sub(eu,_o,_i);var n=Td.len(),r=eu.len();if(!(n<.001||r<.001)){Td.scale(1/n),eu.scale(1/r);var i=Td.dot(eu),o=Math.cos(e);if(o<i){var a=Ore(_i.x,_i.y,_o.x,_o.y,Cd.x,Cd.y,nk,!1);ya.fromArray(nk),ya.scaleAndAdd(eu,a/Math.tan(Math.PI-e));var s=_o.x!==_i.x?(ya.x-_i.x)/(_o.x-_i.x):(ya.y-_i.y)/(_o.y-_i.y);if(isNaN(s))return;s<0?ln.copy(ya,_i):s>1&&ln.copy(ya,_o),ya.toArray(t[1])}}}}function SEe(t,e,n){if(n<=180&&n>0){n=n/180*Math.PI,Cd.fromArray(t[0]),_i.fromArray(t[1]),_o.fromArray(t[2]),ln.sub(Td,_i,Cd),ln.sub(eu,_o,_i);var r=Td.len(),i=eu.len();if(!(r<.001||i<.001)){Td.scale(1/r),eu.scale(1/i);var o=Td.dot(e),a=Math.cos(n);if(o<a){var s=Ore(_i.x,_i.y,_o.x,_o.y,Cd.x,Cd.y,nk,!1);ya.fromArray(nk);var l=Math.PI/2,c=Math.acos(eu.dot(e)),u=l+c-n;if(u>=l)ln.copy(ya,_o);else{ya.scaleAndAdd(eu,s/Math.tan(Math.PI/2-u));var f=_o.x!==_i.x?(ya.x-_i.x)/(_o.x-_i.x):(ya.y-_i.y)/(_o.y-_i.y);if(isNaN(f))return;f<0?ln.copy(ya,_i):f>1&&ln.copy(ya,_o)}ya.toArray(t[1])}}}}function AH(t,e,n,r){var i=n==="normal",o=i?t:t.ensureState(n);o.ignore=e;var a=r.get("smooth");a&&a===!0&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=r.getModel("lineStyle").getLineStyle();i?t.useStyle(s):o.style=s}function xEe(t,e){var n=e.smooth,r=e.points;if(r)if(t.moveTo(r[0][0],r[0][1]),n>0&&r.length>=3){var i=eI(r[0],r[1]),o=eI(r[1],r[2]);if(!i||!o){t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]);return}var a=Math.min(i,o)*n,s=nx([],r[1],r[0],a/i),l=nx([],r[1],r[2],a/o),c=nx([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)t.lineTo(r[u][0],r[u][1])}function CEe(t,e,n){var r=t.getTextGuideLine(),i=t.getTextContent();if(!i){r&&t.removeTextGuideLine();return}for(var o=e.normal,a=o.get("show"),s=i.ignore,l=0;l<e4.length;l++){var c=e4[l],u=e[c],f=c==="normal";if(u){var d=u.get("show"),h=f?s:gn(i.states[c]&&i.states[c].ignore,s);if(h||!gn(d,a)){var m=f?r:r&&r.states[c];m&&(m.ignore=!0);continue}r||(r=new U6,t.setTextGuideLine(r),!f&&(s||!a)&&AH(r,!0,"normal",e.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),AH(r,!1,c,u)}}if(r){mi(r.style,n),r.style.fill=null;var v=o.get("showAbove"),k=t.textGuideLineConfig=t.textGuideLineConfig||{};k.showAbove=v||!1,r.buildPath=xEe}}function TEe(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},r=0;r<pc.length;r++){var i=pc[r];n[i]=t.getModel([i,e])}return n}function AEe(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),a=i.getBoundingRect(),s=!o||o[1]<1e-5&&o[2]<1e-5,l=i.style.margin||0,c=a.clone();c.applyTransform(o),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new B5(a,o):null;e.push({label:i,labelLine:r.labelLine,rect:c,localRect:a,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:s,transform:o})}}return e}function IEe(t,e,n,r,i,o){var a=t.length;if(a<2)return;t.sort(function(P,$){return P.rect[e]-$.rect[e]});for(var s=0,l,c=!1,u=0,f=0;f<a;f++){var d=t[f],h=d.rect;l=h[e]-s,l<0&&(h[e]-=l,d.label[e]-=l,c=!0);var m=Math.max(-l,0);u+=m,s=h[e]+h[n]}u>0&&o&&S(-u/a,0,a);var v=t[0],k=t[a-1],b,_;x(),b<0&&g(-b,.8),_<0&&g(_,.8),x(),C(b,_,1),C(_,b,-1),x(),b<0&&T(-b),_<0&&T(_);function x(){b=v.rect[e]-r,_=i-k.rect[e]-k.rect[n]}function C(P,$,F){if(P<0){var D=Math.min($,-P);if(D>0){S(D*F,0,a);var z=D+P;z<0&&g(-z*F,1)}else g(-P*F,1)}}function S(P,$,F){P!==0&&(c=!0);for(var D=$;D<F;D++){var z=t[D],R=z.rect;R[e]+=P,z.label[e]+=P}}function g(P,$){for(var F=[],D=0,z=1;z<a;z++){var R=t[z-1].rect,V=Math.max(t[z].rect[e]-R[e]-R[n],0);F.push(V),D+=V}if(D){var ie=Math.min(Math.abs(P)/D,$);if(P>0)for(var z=0;z<a-1;z++){var oe=F[z]*ie;S(oe,0,z+1)}else for(var z=a-1;z>0;z--){var oe=F[z-1]*ie;S(-oe,z,a)}}}function T(P){var $=P<0?-1:1;P=Math.abs(P);for(var F=Math.ceil(P/(a-1)),D=0;D<a-1;D++)if($>0?S(F,0,D+1):S(-F,a-D-1,a),P-=F,P<=0)return}return c}function PEe(t,e,n,r){return IEe(t,"y","height",e,n,r)}function EEe(t){var e=[];t.sort(function(v,k){return k.priority-v.priority});var n=new $r(0,0,0,0);function r(v){if(!v.ignore){var k=v.ensureState("emphasis");k.ignore==null&&(k.ignore=!1)}v.ignore=!0}for(var i=0;i<t.length;i++){var o=t[i],a=o.axisAligned,s=o.localRect,l=o.transform,c=o.label,u=o.labelLine;n.copy(o.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var f=o.obb,d=!1,h=0;h<e.length;h++){var m=e[h];if(n.intersect(m.rect)){if(a&&m.axisAligned){d=!0;break}if(m.obb||(m.obb=new B5(m.localRect,m.transform)),f||(f=new B5(s,l)),f.intersect(m.obb)){d=!0;break}}}d?(r(c),u&&r(u)):(c.attr("ignore",o.defaultAttr.ignore),u&&u.attr("ignore",o.defaultAttr.labelGuideIgnore),e.push(o))}}var cC=null;function $Ee(t){return cC||(cC=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),cC(t)}var uC=null;function OEe(t){uC||(uC=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),uC(t)}function DEe(t){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),(document.querySelector("head")||document.body).appendChild(e),e}function r9(t,e){e===void 0&&(e={});var n=document.createElement(t);return Object.keys(e).forEach(function(r){n[r]=e[r]}),n}function Dre(t,e,n){var r=window.getComputedStyle(t,n||null)||{display:"none"};return r[e]}function GI(t){if(!document.documentElement.contains(t))return{detached:!0,rendered:!1};for(var e=t;e!==document;){if(Dre(e,"display")==="none")return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var LEe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',qI=0,S8=null;function FEe(t,e){t.__resize_mutation_handler__||(t.__resize_mutation_handler__=zEe.bind(t));var n=t.__resize_listeners__;if(!n){if(t.__resize_listeners__=[],window.ResizeObserver){var r=t.offsetWidth,i=t.offsetHeight,o=new ResizeObserver(function(){!t.__resize_observer_triggered__&&(t.__resize_observer_triggered__=!0,t.offsetWidth===r&&t.offsetHeight===i)||rk(t)}),a=GI(t),s=a.detached,l=a.rendered;t.__resize_observer_triggered__=s===!1&&l===!1,t.__resize_observer__=o,o.observe(t)}else if(t.attachEvent&&t.addEventListener)t.__resize_legacy_resize_handler__=function(){rk(t)},t.attachEvent("onresize",t.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);else if(qI||(S8=DEe(LEe)),REe(t),t.__resize_rendered__=GI(t).rendered,window.MutationObserver){var c=new MutationObserver(t.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),t.__resize_mutation_observer__=c}}t.__resize_listeners__.push(e),qI++}function NEe(t,e){var n=t.__resize_listeners__;if(n){if(e&&n.splice(n.indexOf(e),1),!n.length||!e){if(t.detachEvent&&t.removeEventListener){t.detachEvent("onresize",t.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);return}t.__resize_observer__?(t.__resize_observer__.unobserve(t),t.__resize_observer__.disconnect(),t.__resize_observer__=null):(t.__resize_mutation_observer__&&(t.__resize_mutation_observer__.disconnect(),t.__resize_mutation_observer__=null),t.removeEventListener("scroll",WO),t.removeChild(t.__resize_triggers__.triggers),t.__resize_triggers__=null),t.__resize_listeners__=null}!--qI&&S8&&S8.parentNode.removeChild(S8)}}function MEe(t){var e=t.__resize_last__,n=e.width,r=e.height,i=t.offsetWidth,o=t.offsetHeight;return i!==n||o!==r?{width:i,height:o}:null}function zEe(){var t=GI(this),e=t.rendered,n=t.detached;e!==this.__resize_rendered__&&(!n&&this.__resize_triggers__&&(UO(this),this.addEventListener("scroll",WO,!0)),this.__resize_rendered__=e,rk(this))}function WO(){var t=this;UO(this),this.__resize_raf__&&OEe(this.__resize_raf__),this.__resize_raf__=$Ee(function(){var e=MEe(t);e&&(t.__resize_last__=e,rk(t))})}function rk(t){!t||!t.__resize_listeners__||t.__resize_listeners__.forEach(function(e){e.call(t,t)})}function REe(t){var e=Dre(t,"position");(!e||e==="static")&&(t.style.position="relative"),t.__resize_old_position__=e,t.__resize_last__={};var n=r9("div",{className:"resize-triggers"}),r=r9("div",{className:"resize-expand-trigger"}),i=r9("div"),o=r9("div",{className:"resize-contract-trigger"});r.appendChild(i),n.appendChild(r),n.appendChild(o),t.appendChild(n),t.__resize_triggers__={triggers:n,expand:r,expandChild:i,contract:o},UO(t),t.addEventListener("scroll",WO,!0),t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}function UO(t){var e=t.__resize_triggers__,n=e.expand,r=e.expandChild,i=e.contract,o=i.scrollWidth,a=i.scrollHeight,s=n.offsetWidth,l=n.offsetHeight,c=n.scrollWidth,u=n.scrollHeight;i.scrollLeft=o,i.scrollTop=a,r.style.width=s+1+"px",r.style.height=l+1+"px",n.scrollLeft=c,n.scrollTop=u}var Ku=function(){return Ku=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Ku.apply(this,arguments)};var jEe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function VEe(t){return e=Object.create(null),jEe.forEach(function(n){e[n]=function(r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(!t.value)throw new Error("ECharts is not initialized yet.");return t.value[r].apply(t.value,i)}}(n)}),e;var e}var BEe={autoresize:[Boolean,Object]},HEe=/^on[^a-z]/,WEe=function(t){return HEe.test(t)};function i9(t,e){var n=ii(t);return n&&typeof n=="object"&&"value"in n?n.value||e:n||e}var UEe="ecLoadingOptions",GEe={loading:Boolean,loadingOptions:Object},nv=null,Lre="x-vue-echarts",IH=[],rv=[];(function(t,e){if(t&&typeof document<"u"){var n,r=e.prepend===!0?"prepend":"append",i=e.singleTag===!0,o=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var a=IH.indexOf(o);a===-1&&(a=IH.push(o)-1,rv[a]={}),n=rv[a]&&rv[a][r]?rv[a][r]:rv[a][r]=s()}else n=s();t.charCodeAt(0)===65279&&(t=t.substring(1)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(document.createTextNode(t))}function s(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var c=Object.keys(e.attributes),u=0;u<c.length;u++)l.setAttribute(c[u],e.attributes[c[u]]);var f=r==="prepend"?"afterbegin":"beforeend";return o.insertAdjacentElement(f,l),l}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>[_echarts_instance_]{width:100%;height:100%}
`,{});var qEe=function(){if(nv!=null)return nv;if(typeof HTMLElement>"u"||typeof customElements>"u")return nv=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(Lre)}catch{return nv=!1}return nv=!0}(),Fre="ecTheme",YEe="ecInitOptions",XEe="ecUpdateOptions",KEe=zt({name:"echarts",props:Ku(Ku({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},BEe),GEe),emits:{},inheritAttrs:!1,setup:function(t,e){var n=e.attrs,r=ru(),i=ru(),o=ru(),a=ru(),s=Ni(Fre,null),l=Ni(YEe,null),c=Ni(XEe,null),u=WE(t),f=u.autoresize,d=u.manualUpdate,h=u.loading,m=u.loadingOptions,v=Dn(function(){return a.value||t.option||null}),k=Dn(function(){return t.theme||i9(s,{})}),b=Dn(function(){return t.initOptions||i9(l,{})}),_=Dn(function(){return t.updateOptions||i9(c,{})}),x=Dn(function(){return function($){var F={};for(var D in $)WEe(D)||(F[D]=$[D]);return F}(n)}),C=yc().proxy.$listeners;function S($){if(i.value){var F=o.value=RPe(i.value,k.value,b.value);t.group&&(F.group=t.group);var D=C;D||(D={},Object.keys(n).filter(function(R){return R.indexOf("on")===0&&R.length>2}).forEach(function(R){var V=R.charAt(2).toLowerCase()+R.slice(3);V.substring(V.length-4)==="Once"&&(V="~".concat(V.substring(0,V.length-4))),D[V]=n[R]})),Object.keys(D).forEach(function(R){var V=D[R];if(V){var ie=R.toLowerCase();ie.charAt(0)==="~"&&(ie=ie.substring(1),V.__once__=!0);var oe=F;if(ie.indexOf("zr:")===0&&(oe=F.getZr(),ie=ie.substring(3)),V.__once__){delete V.__once__;var _e=V;V=function(){for(var Ae=[],Ie=0;Ie<arguments.length;Ie++)Ae[Ie]=arguments[Ie];_e.apply(void 0,Ae),oe.off(ie,V)}}oe.on(ie,V)}}),f.value?Ib(function(){F&&!F.isDisposed()&&F.resize(),z()}):z()}function z(){var R=$||v.value;R&&F.setOption(R,_.value)}}function g(){o.value&&(o.value.dispose(),o.value=void 0)}var T=null;Si(d,function($){typeof T=="function"&&(T(),T=null),$||(T=Si(function(){return t.option},function(F,D){F&&(o.value?o.value.setOption(F,Ku({notMerge:F!==D},_.value)):S())},{deep:!0}))},{immediate:!0}),Si([k,b],function(){g(),S()},{deep:!0}),jT(function(){t.group&&o.value&&(o.value.group=t.group)});var P=VEe(o);return function($,F,D){var z=Ni(UEe,{}),R=Dn(function(){return Ku(Ku({},i9(z,{})),D==null?void 0:D.value)});jT(function(){var V=$.value;V&&(F.value?V.showLoading(R.value):V.hideLoading())})}(o,h,m),function($,F,D){var z=null;Si([D,$,F],function(R,V,ie){var oe=R[0],_e=R[1],Ae=R[2];if(oe&&_e&&Ae){var Ie=Ae===!0?{}:Ae,ke=Ie.throttle,se=ke===void 0?100:ke,ne=Ie.onResize,J=function(){_e.resize(),ne==null||ne()};z=se?NO(J,se):J,FEe(oe,z)}ie(function(){oe&&z&&NEe(oe,z)})})}(o,f,i),Vm(function(){S()}),Pb(function(){qEe&&r.value?r.value.__dispose=g:g()}),Ku({chart:o,root:r,inner:i,setOption:function($,F){t.manualUpdate&&(a.value=$),o.value?o.value.setOption($,F||{}):S($)},nonEventAttrs:x},P)},render:function(){var t=Ku({},this.nonEventAttrs);return t.ref="root",t.class=t.class?["echarts"].concat(t.class):"echarts",Kd(Lre,t,[Kd("div",{ref:"inner"})])}});const ta=Db("uiState",{state:()=>({uiAssistMode:"expert",mode:Yde,showModal:"none",showEditor:"none",lastSelectedID:""}),actions:{setMode(t){this.mode=t},setModal(t,e=""){this.showModal=t,this.lastSelectedID=e}}});function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function Nre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mre(t,e,n){return e&&PH(t.prototype,e),n&&PH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c4(t,e)}function l4(t){return l4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},l4(t)}function c4(t,e){return c4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c4(t,e)}function zre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uy(t,e,n){return zre()?uy=Reflect.construct.bind():uy=function(i,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(i,s),c=new l;return a&&c4(c,a.prototype),c},uy.apply(null,arguments)}function ZEe(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function YI(t){var e=typeof Map=="function"?new Map:void 0;return YI=function(r){if(r===null||!ZEe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return uy(r,arguments,l4(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c4(i,r)},YI(t)}function QEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$e(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QEe(t)}function t$e(t){var e=zre();return function(){var r=l4(t),i;if(e){var o=l4(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return e$e(this,i)}}function n$e(t){return r$e(t)||i$e(t)||Rre(t)||o$e()}function r$e(t){if(Array.isArray(t))return XI(t)}function i$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rre(t,e){if(t){if(typeof t=="string")return XI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XI(t,e)}}function XI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Rre(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,a=!1,s;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(a)throw s}}}}var qa=Object.prototype.hasOwnProperty;function mp(t,e){return t=t.slice(),t.push(e),t}function KI(t,e){return e=e.slice(),e.unshift(t),e}var s$e=function(t){JEe(n,t);var e=t$e(n);function n(r){var i;return Nre(this,n),i=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),i.avoidNew=!0,i.value=r,i.name="NewError",i}return Mre(n)}(YI(Error));function _r(t,e,n,r,i){if(!(this instanceof _r))try{return new _r(t,e,n,r,i)}catch(l){if(!l.avoidNew)throw l;return l.value}typeof t=="string"&&(i=r,r=n,n=e,e=t,t=null);var o=t&&lu(t)==="object";if(t=t||{},this.json=t.json||n,this.path=t.path||e,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=qa.call(t,"wrap")?t.wrap:!0,this.sandbox=t.sandbox||{},this.preventEval=t.preventEval||!1,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||r||null,this.otherTypeCallback=t.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},t.autostart!==!1){var a={path:o?t.path:e};o?"json"in t&&(a.json=t.json):a.json=n;var s=this.evaluate(a);if(!s||lu(s)!=="object")throw new s$e(s);return s}}_r.prototype.evaluate=function(t,e,n,r){var i=this,o=this.parent,a=this.parentProperty,s=this.flatten,l=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,e=e||this.json,t=t||this.path,t&&lu(t)==="object"&&!Array.isArray(t)){if(!t.path&&t.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!qa.call(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');var c=t;e=c.json,s=qa.call(t,"flatten")?t.flatten:s,this.currResultType=qa.call(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=qa.call(t,"sandbox")?t.sandbox:this.currSandbox,l=qa.call(t,"wrap")?t.wrap:l,this.currPreventEval=qa.call(t,"preventEval")?t.preventEval:this.currPreventEval,n=qa.call(t,"callback")?t.callback:n,this.currOtherTypeCallback=qa.call(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,o=qa.call(t,"parent")?t.parent:o,a=qa.call(t,"parentProperty")?t.parentProperty:a,t=t.path}if(o=o||null,a=a||null,Array.isArray(t)&&(t=_r.toPathString(t)),!(!t&&t!==""||!e)){var u=_r.toPathArray(t);u[0]==="$"&&u.length>1&&u.shift(),this._hasParentSelector=null;var f=this._trace(u,e,["$"],o,a,n).filter(function(d){return d&&!d.isParentSelector});return f.length?!l&&f.length===1&&!f[0].hasArrExpr?this._getPreferredOutput(f[0]):f.reduce(function(d,h){var m=i._getPreferredOutput(h);return s&&Array.isArray(m)?d=d.concat(m):d.push(m),d},[]):l?[]:void 0}};_r.prototype._getPreferredOutput=function(t){var e=this.currResultType;switch(e){case"all":{var n=Array.isArray(t.path)?t.path:_r.toPathArray(t.path);return t.pointer=_r.toPointer(n),t.path=typeof t.path=="string"?t.path:_r.toPathString(t.path),t}case"value":case"parent":case"parentProperty":return t[e];case"path":return _r.toPathString(t[e]);case"pointer":return _r.toPointer(t.path);default:throw new TypeError("Unknown result type")}};_r.prototype._handleCallback=function(t,e,n){if(e){var r=this._getPreferredOutput(t);t.path=typeof t.path=="string"?t.path:_r.toPathString(t.path),e(r,n,t)}};_r.prototype._trace=function(t,e,n,r,i,o,a,s){var l=this,c;if(!t.length)return c={path:n,value:e,parent:r,parentProperty:i,hasArrExpr:a},this._handleCallback(c,o,"value"),c;var u=t[0],f=t.slice(1),d=[];function h(D){Array.isArray(D)?D.forEach(function(z){d.push(z)}):d.push(D)}if((typeof u!="string"||s)&&e&&qa.call(e,u))h(this._trace(f,e[u],mp(n,u),e,u,o,a));else if(u==="*")this._walk(e,function(D){h(l._trace(f,e[D],mp(n,D),e,D,o,!0,!0))});else if(u==="..")h(this._trace(f,e,n,r,i,o,a)),this._walk(e,function(D){lu(e[D])==="object"&&h(l._trace(t.slice(),e[D],mp(n,D),e,D,o,!0))});else{if(u==="^")return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:f,isParentSelector:!0};if(u==="~")return c={path:mp(n,u),value:i,parent:r,parentProperty:null},this._handleCallback(c,o,"property"),c;if(u==="$")h(this._trace(f,e,n,null,null,o,a));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(u))h(this._slice(u,f,e,n,r,i,o));else if(u.indexOf("?(")===0){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var m=u.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(D){l._eval(m,e[D],D,n,r,i)&&h(l._trace(f,e[D],mp(n,D),e,D,o,!0))})}else if(u[0]==="("){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");h(this._trace(KI(this._eval(u,e,n[n.length-1],n.slice(0,-1),r,i),f),e,n,r,i,o,a))}else if(u[0]==="@"){var v=!1,k=u.slice(1,-2);switch(k){case"scalar":(!e||!["object","function"].includes(lu(e)))&&(v=!0);break;case"boolean":case"string":case"undefined":case"function":lu(e)===k&&(v=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(v=!0);break;case"number":Number.isFinite(e)&&(v=!0);break;case"nonFinite":typeof e=="number"&&!Number.isFinite(e)&&(v=!0);break;case"object":e&&lu(e)===k&&(v=!0);break;case"array":Array.isArray(e)&&(v=!0);break;case"other":v=this.currOtherTypeCallback(e,n,r,i);break;case"null":e===null&&(v=!0);break;default:throw new TypeError("Unknown value type "+k)}if(v)return c={path:n,value:e,parent:r,parentProperty:i},this._handleCallback(c,o,"value"),c}else if(u[0]==="`"&&e&&qa.call(e,u.slice(1))){var b=u.slice(1);h(this._trace(f,e[b],mp(n,b),e,b,o,a,!0))}else if(u.includes(",")){var _=u.split(","),x=a$e(_),C;try{for(x.s();!(C=x.n()).done;){var S=C.value;h(this._trace(KI(S,f),e,n,r,i,o,!0))}}catch(D){x.e(D)}finally{x.f()}}else!s&&e&&qa.call(e,u)&&h(this._trace(f,e[u],mp(n,u),e,u,o,a,!0))}if(this._hasParentSelector)for(var g=0;g<d.length;g++){var T=d[g];if(T&&T.isParentSelector){var P=this._trace(T.expr,e,T.path,r,i,o,a);if(Array.isArray(P)){d[g]=P[0];for(var $=P.length,F=1;F<$;F++)g++,d.splice(g,0,P[F])}else d[g]=P}}return d};_r.prototype._walk=function(t,e){if(Array.isArray(t))for(var n=t.length,r=0;r<n;r++)e(r);else t&&lu(t)==="object"&&Object.keys(t).forEach(function(i){e(i)})};_r.prototype._slice=function(t,e,n,r,i,o,a){if(Array.isArray(n)){var s=n.length,l=t.split(":"),c=l[2]&&Number.parseInt(l[2])||1,u=l[0]&&Number.parseInt(l[0])||0,f=l[1]&&Number.parseInt(l[1])||s;u=u<0?Math.max(0,u+s):Math.min(s,u),f=f<0?Math.max(0,f+s):Math.min(s,f);for(var d=[],h=u;h<f;h+=c){var m=this._trace(KI(h,e),n,r,i,o,a,!0);m.forEach(function(v){d.push(v)})}return d}};_r.prototype._eval=function(t,e,n,r,i,o){this.currSandbox._$_parentProperty=o,this.currSandbox._$_parent=i,this.currSandbox._$_property=n,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var a=t.includes("@path");a&&(this.currSandbox._$_path=_r.toPathString(r.concat([n])));var s="script:"+t;if(!_r.cache[s]){var l=t.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");a&&(l=l.replace(/@path/g,"_$_path")),_r.cache[s]=new this.vm.Script(l)}try{return _r.cache[s].runInNewContext(this.currSandbox)}catch(c){throw new Error("jsonPath: "+c.message+": "+t)}};_r.cache={};_r.toPathString=function(t){for(var e=t,n=e.length,r="$",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[i])||(r+=/^[\*0-9]+$/.test(e[i])?"["+e[i]+"]":"['"+e[i]+"']");return r};_r.toPointer=function(t){for(var e=t,n=e.length,r="",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[i])||(r+="/"+e[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r};_r.toPathArray=function(t){var e=_r.cache;if(e[t])return e[t].concat();var n=[],r=t.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(o,a){return"[#"+(n.push(a)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(o,a){return"['"+a.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(o,a){return";"+a.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),i=r.split(";").map(function(o){var a=o.match(/#([0-9]+)/);return!a||!a[1]?o:n[a[1]]});return e[t]=i,e[t].concat()};var l$e=function(e,n,r){for(var i=e.length,o=0;o<i;o++){var a=e[o];r(a)&&n.push(e.splice(o--,1)[0])}},c$e=function(){function t(e){Nre(this,t),this.code=e}return Mre(t,[{key:"runInNewContext",value:function(n){var r=this.code,i=Object.keys(n),o=[];l$e(i,o,function(u){return typeof n[u]=="function"});var a=i.map(function(u,f){return n[u]}),s=o.reduce(function(u,f){var d=n[f].toString();return/function/.test(d)||(d="function "+d),"var "+f+"="+d+";"+u},"");r=s+r,!/(["'])use strict\1/.test(r)&&!i.includes("arguments")&&(r="var arguments = undefined;"+r),r=r.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var l=r.lastIndexOf(";"),c=l>-1?r.slice(0,l+1)+" return "+r.slice(l+1):" return "+r;return uy(Function,i.concat([c])).apply(void 0,n$e(a))}}]),t}();_r.prototype.vm={Script:c$e};function u$e(t,e){return _r({resultType:"pointer",path:e,json:t})}var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jre(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var f$e=Object.prototype.hasOwnProperty,d$e=Object.prototype.toString,h$e=function(e,n,r){if(d$e.call(n)!=="[object Function]")throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)n.call(r,e[o],o,e);else for(var a in e)f$e.call(e,a)&&n.call(r,e[a],a,e)},p$e=h$e,ch=Pr;function Pr(t,e,n){if(arguments.length===3)return Pr.set(t,e,n);if(arguments.length===2)return Pr.get(t,e);var r=Pr.bind(Pr,t);for(var i in Pr)Pr.hasOwnProperty(i)&&(r[i]=Pr[i].bind(r,t));return r}Pr.get=function(e,n){for(var r=Array.isArray(n)?n:Pr.parse(n),i=0;i<r.length;++i){var o=r[i];if(!(typeof e=="object"&&o in e))throw new Error("Invalid reference token: "+o);e=e[o]}return e};Pr.set=function(e,n,r){var i=Array.isArray(n)?n:Pr.parse(n),o=i[0];if(i.length===0)throw Error("Can not set the root object");for(var a=0;a<i.length-1;++a){var s=i[a];typeof s!="string"&&typeof s!="number"&&(s=String(s)),!(s==="__proto__"||s==="constructor"||s==="prototype")&&(s==="-"&&Array.isArray(e)&&(s=e.length),o=i[a+1],s in e||(o.match(/^(\d+|-)$/)?e[s]=[]:e[s]={}),e=e[s])}return o==="-"&&Array.isArray(e)&&(o=e.length),e[o]=r,this};Pr.remove=function(t,e){var n=Array.isArray(e)?e:Pr.parse(e),r=n[n.length-1];if(r===void 0)throw new Error('Invalid JSON pointer for remove: "'+e+'"');var i=Pr.get(t,n.slice(0,-1));if(Array.isArray(i)){var o=+r;if(r===""&&isNaN(o))throw new Error('Invalid array index: "'+r+'"');Array.prototype.splice.call(i,o,1)}else delete i[r]};Pr.dict=function(e,n){var r={};return Pr.walk(e,function(i,o){r[o]=i},n),r};Pr.walk=function(e,n,r){var i=[];r=r||function(o){var a=Object.prototype.toString.call(o);return a==="[object Object]"||a==="[object Array]"},function o(a){p$e(a,function(s,l){i.push(String(l)),r(s)?o(s):n(s,Pr.compile(i)),i.pop()})}(e)};Pr.has=function(e,n){try{Pr.get(e,n)}catch{return!1}return!0};Pr.escape=function(e){return e.toString().replace(/~/g,"~0").replace(/\//g,"~1")};Pr.unescape=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")};Pr.parse=function(e){if(e==="")return[];if(e.charAt(0)!=="/")throw new Error("Invalid JSON pointer: "+e);return e.substring(1).split(/\//).map(Pr.unescape)};Pr.compile=function(e){return e.length===0?"":"/"+e.map(Pr.escape).join("/")};function cm(t,e){return ch.get(t,e)}function Vre(t,e){return ch.has(t,e)}function o9(t){return t==="/"||t===""?0:ch.parse(t).length}function EH(t){return t==="/"||t===""?"":ch.compile([ch.parse(t)[0]])}function ik(t){if(t==="/"||t==="")return"";const e=ch.parse(t);return e.length>1?(e.pop(),ch.compile(e)):""}function ok(t){const e=/\["|\.|\[/g,n=/"\]|\]/g;return t.replace(e,"/").replace(n,"")}function u4(t){if(t==="/"||t==="")return"";const e=ch.parse(t).pop();return e||""}function m$e(t,e){return t.sort((n,r)=>{if(n===r)return 0;if(o9(n)>o9(r))return 1;if(o9(n)<o9(r))return-1;{const i=ik(n),o=ik(r);if(i!==o)return 0;{const a=cm(e,i);if(Array.isArray(a)){const s=Number(u4(r));return Number(u4(n))<s?-1:1}else return 0}}})}class $H{constructor(e,n,r,i){Wn(this,"id");Wn(this,"type");Wn(this,"place");Wn(this,"transition");Wn(this,"_filterExpression");Wn(this,"pathExpressions");Wn(this,"assignedPathExpression");Wn(this,"keyVarValue");Wn(this,"valueVarValue");Wn(this,"tokenVarValue");Wn(this,"_tokenVarName");Wn(this,"_valueVarName");Wn(this,"_keyVarName");this.id=i,this.type=r,this.place=e,this.transition=n,this._tokenVarName="",this._valueVarName="",this._keyVarName="",this.updateVarNames(this.place.name,!0),this._filterExpression="$.*",r==="postset"&&(this._filterExpression="$"),this.assignedPathExpression=null,this.keyVarValue="",this.valueVarValue="",this.tokenVarValue={},this.pathExpressions=this.applyFilterExpression(this._filterExpression)}updateVarNames(e,n=!1){const r=this.camelize(e);let i;this.type==="preset"?i="input_":i="output_";const o={token:this._tokenVarName,key:this._keyVarName,value:this._valueVarName};this._tokenVarName=i+r+"_token",this._valueVarName=i+r+"_value",this._keyVarName=i+r+"_key";const a={token:this._tokenVarName,key:this._keyVarName,value:this._valueVarName};n||this.transition.updateSnippets(o,a)}camelize(e){const n=e.replace(/\W+(.)/g,function(i,o){return o.toUpperCase()});return n.charAt(0).toLowerCase()+n.slice(1)}get tokenVarName(){return this._tokenVarName}get valueVarName(){return this._valueVarName}get keyVarName(){return this._keyVarName}applyFilterExpression(e){const n=this.place.marking,r=u$e(n,e);return this.pathExpressions=r,r}assignVariablesByIndex(e){const n=this.pathExpressions[e];return this.assignVariablesByPathExpression(n)}assignTokenVariableByIndex(e){const n=this.pathExpressions[e];return this.assignTokenVariableByPathExpression(n)}assignVariablesByPathExpression(e){const n=this.place.marking;this.assignedPathExpression=e,this.keyVarValue=u4(e),this.valueVarValue=cm(n,e);const r=EH(e);return this.tokenVarValue=cm(n,r),{key:this.keyVarValue,value:this.valueVarValue,token:this.tokenVarValue}}assignTokenVariableByPathExpression(e){const n=this.place.marking;this.assignedPathExpression=e;const r=EH(e);return this.tokenVarValue=cm(n,r),{token:this.tokenVarValue}}assignKeyAndValueVariables(e,n){this.keyVarValue=e,this.valueVarValue=n}resetAssignment(){this.assignedPathExpression=null,this.keyVarValue="",this.valueVarValue="",this.tokenVarValue={}}set filterExpression(e){this._filterExpression=e,this.resetAssignment()}get filterExpression(){return this._filterExpression}}function g$e(t,e){if(!Array.isArray(e)&&!(typeof e=="object"&&e!==null))throw Error("should be object or array");if(Array.isArray(e)){if(e.length===0)return e;let n;if(typeof t=="string"){if(n=parseInt(t),isNaN(n))return e.pop(),e}else n=t;return n>=e.length||n<0?(e.pop(),e):(e.splice(n,1),e)}else return delete e[t],e}function b$e(t,e,n){if(!Array.isArray(e)&&!(typeof e=="object"&&e!==null))return n;if(Array.isArray(e)){if(e.length===0)return e.push(n),e;let r;if(typeof t=="string"){if(r=parseInt(t),isNaN(r))return e.push(n),e}else r=t;return r>=e.length||r<0?(e.push(n),e):(e.splice(r,0,n),e)}else return e[t]=n,e}function a9(t,e){if(!Vre(e,t))throw Error("value not valid for path expression");const n=ik(t),r=u4(t),i=cm(e,n);return g$e(r,i),e}function s9(t,e,n,r){if(!Vre(e,t))throw Error("value not valid for path expression");const i=cm(e,t);if(v$e(i))return b$e(n,i,r),e;{const o=ik(t),a=u4(t),s=cm(e,o);return s[a]=r,e}}function v$e(t){return Array.isArray(t)?!0:typeof t=="object"&&t!==null}var JI={exports:{}},Bre={},hc={},db={},g2={},_n={},f4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(_){if(super(),!t.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((x,C)=>`${x}${C}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((x,C)=>(C instanceof n&&(x[C.str]=(x[C.str]||0)+1),x),{})}}t._Code=r,t.nil=new r("");function i(b,..._){const x=[b[0]];let C=0;for(;C<_.length;)s(x,_[C]),x.push(b[++C]);return new r(x)}t._=i;const o=new r("+");function a(b,..._){const x=[h(b[0])];let C=0;for(;C<_.length;)x.push(o),s(x,_[C]),x.push(o,h(b[++C]));return l(x),new r(x)}t.str=a;function s(b,_){_ instanceof r?b.push(..._._items):_ instanceof n?b.push(_):b.push(f(_))}t.addCodeArg=s;function l(b){let _=1;for(;_<b.length-1;){if(b[_]===o){const x=c(b[_-1],b[_+1]);if(x!==void 0){b.splice(_-1,3,x);continue}b[_++]="+"}_++}}function c(b,_){if(_==='""')return b;if(b==='""')return _;if(typeof b=="string")return _ instanceof n||b[b.length-1]!=='"'?void 0:typeof _!="string"?`${b.slice(0,-1)}${_}"`:_[0]==='"'?b.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(b instanceof n))return`"${b}${_.slice(1)}`}function u(b,_){return _.emptyStr()?b:b.emptyStr()?_:a`${b}${_}`}t.strConcat=u;function f(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:h(Array.isArray(b)?b.join(","):b)}function d(b){return new r(h(b))}t.stringify=d;function h(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function m(b){return typeof b=="string"&&t.IDENTIFIER.test(b)?new r(`.${b}`):i`[${b}]`}t.getProperty=m;function v(b){if(typeof b=="string"&&t.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}t.getEsmExportName=v;function k(b){return new r(b.toString())}t.regexpCode=k})(f4);var ZI={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=f4;class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:c,parent:u}={}){this._names={},this._prefixes=c,this._parent=u}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const u=this._names[c]||this._nameGroup(c);return`${c}${u.index++}`}_nameGroup(c){var u,f;if(!((f=(u=this._parent)===null||u===void 0?void 0:u._prefixes)===null||f===void 0)&&f.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=i;class o extends e.Name{constructor(c,u){super(u),this.prefix=c}setValue(c,{property:u,itemIndex:f}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(u)}[${f}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class s extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?a:e.nil}}get(){return this._scope}name(c){return new o(c,this._newName(c))}value(c,u){var f;if(u.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(c),{prefix:h}=d,m=(f=u.key)!==null&&f!==void 0?f:u.ref;let v=this._values[h];if(v){const _=v.get(m);if(_)return _}else v=this._values[h]=new Map;v.set(m,d);const k=this._scope[h]||(this._scope[h]=[]),b=k.length;return k[b]=u.ref,d.setValue(u,{property:h,itemIndex:b}),d}getValue(c,u){const f=this._values[c];if(f)return f.get(u)}scopeRefs(c,u=this._values){return this._reduceValues(u,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${c}${f.scopePath}`})}scopeCode(c=this._values,u,f){return this._reduceValues(c,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},u,f)}_reduceValues(c,u,f={},d){let h=e.nil;for(const m in c){const v=c[m];if(!v)continue;const k=f[m]=f[m]||new Map;v.forEach(b=>{if(k.has(b))return;k.set(b,r.Started);let _=u(b);if(_){const x=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${x} ${b} = ${_};${this.opts._n}`}else if(_=d==null?void 0:d(b))h=(0,e._)`${h}${_}${this.opts._n}`;else throw new n(b);k.set(b,r.Completed)})}return h}}t.ValueScope=s})(ZI);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=f4,n=ZI;var r=f4;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=ZI;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(j,U){return this}}class a extends o{constructor(j,U,ae){super(),this.varKind=j,this.name=U,this.rhs=ae}render({es5:j,_n:U}){const ae=j?n.varKinds.var:this.varKind,te=this.rhs===void 0?"":` = ${this.rhs}`;return`${ae} ${this.name}${te};`+U}optimizeNames(j,U){if(j[this.name.str])return this.rhs&&(this.rhs=V(this.rhs,j,U)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(j,U,ae){super(),this.lhs=j,this.rhs=U,this.sideEffects=ae}render({_n:j}){return`${this.lhs} = ${this.rhs};`+j}optimizeNames(j,U){if(!(this.lhs instanceof e.Name&&!j[this.lhs.str]&&!this.sideEffects))return this.rhs=V(this.rhs,j,U),this}get names(){const j=this.lhs instanceof e.Name?{}:{...this.lhs.names};return R(j,this.rhs)}}class l extends s{constructor(j,U,ae,te){super(j,ae,te),this.op=U}render({_n:j}){return`${this.lhs} ${this.op}= ${this.rhs};`+j}}class c extends o{constructor(j){super(),this.label=j,this.names={}}render({_n:j}){return`${this.label}:`+j}}class u extends o{constructor(j){super(),this.label=j,this.names={}}render({_n:j}){return`break${this.label?` ${this.label}`:""};`+j}}class f extends o{constructor(j){super(),this.error=j}render({_n:j}){return`throw ${this.error};`+j}get names(){return this.error.names}}class d extends o{constructor(j){super(),this.code=j}render({_n:j}){return`${this.code};`+j}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(j,U){return this.code=V(this.code,j,U),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends o{constructor(j=[]){super(),this.nodes=j}render(j){return this.nodes.reduce((U,ae)=>U+ae.render(j),"")}optimizeNodes(){const{nodes:j}=this;let U=j.length;for(;U--;){const ae=j[U].optimizeNodes();Array.isArray(ae)?j.splice(U,1,...ae):ae?j[U]=ae:j.splice(U,1)}return j.length>0?this:void 0}optimizeNames(j,U){const{nodes:ae}=this;let te=ae.length;for(;te--;){const ue=ae[te];ue.optimizeNames(j,U)||(ie(j,ue.names),ae.splice(te,1))}return ae.length>0?this:void 0}get names(){return this.nodes.reduce((j,U)=>z(j,U.names),{})}}class m extends h{render(j){return"{"+j._n+super.render(j)+"}"+j._n}}class v extends h{}class k extends m{}k.kind="else";class b extends m{constructor(j,U){super(U),this.condition=j}render(j){let U=`if(${this.condition})`+super.render(j);return this.else&&(U+="else "+this.else.render(j)),U}optimizeNodes(){super.optimizeNodes();const j=this.condition;if(j===!0)return this.nodes;let U=this.else;if(U){const ae=U.optimizeNodes();U=this.else=Array.isArray(ae)?new k(ae):ae}if(U)return j===!1?U instanceof b?U:U.nodes:this.nodes.length?this:new b(oe(j),U instanceof b?[U]:U.nodes);if(!(j===!1||!this.nodes.length))return this}optimizeNames(j,U){var ae;if(this.else=(ae=this.else)===null||ae===void 0?void 0:ae.optimizeNames(j,U),!!(super.optimizeNames(j,U)||this.else))return this.condition=V(this.condition,j,U),this}get names(){const j=super.names;return R(j,this.condition),this.else&&z(j,this.else.names),j}}b.kind="if";class _ extends m{}_.kind="for";class x extends _{constructor(j){super(),this.iteration=j}render(j){return`for(${this.iteration})`+super.render(j)}optimizeNames(j,U){if(super.optimizeNames(j,U))return this.iteration=V(this.iteration,j,U),this}get names(){return z(super.names,this.iteration.names)}}class C extends _{constructor(j,U,ae,te){super(),this.varKind=j,this.name=U,this.from=ae,this.to=te}render(j){const U=j.es5?n.varKinds.var:this.varKind,{name:ae,from:te,to:ue}=this;return`for(${U} ${ae}=${te}; ${ae}<${ue}; ${ae}++)`+super.render(j)}get names(){const j=R(super.names,this.from);return R(j,this.to)}}class S extends _{constructor(j,U,ae,te){super(),this.loop=j,this.varKind=U,this.name=ae,this.iterable=te}render(j){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(j)}optimizeNames(j,U){if(super.optimizeNames(j,U))return this.iterable=V(this.iterable,j,U),this}get names(){return z(super.names,this.iterable.names)}}class g extends m{constructor(j,U,ae){super(),this.name=j,this.args=U,this.async=ae}render(j){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(j)}}g.kind="func";class T extends h{render(j){return"return "+super.render(j)}}T.kind="return";class P extends m{render(j){let U="try"+super.render(j);return this.catch&&(U+=this.catch.render(j)),this.finally&&(U+=this.finally.render(j)),U}optimizeNodes(){var j,U;return super.optimizeNodes(),(j=this.catch)===null||j===void 0||j.optimizeNodes(),(U=this.finally)===null||U===void 0||U.optimizeNodes(),this}optimizeNames(j,U){var ae,te;return super.optimizeNames(j,U),(ae=this.catch)===null||ae===void 0||ae.optimizeNames(j,U),(te=this.finally)===null||te===void 0||te.optimizeNames(j,U),this}get names(){const j=super.names;return this.catch&&z(j,this.catch.names),this.finally&&z(j,this.finally.names),j}}class $ extends m{constructor(j){super(),this.error=j}render(j){return`catch(${this.error})`+super.render(j)}}$.kind="catch";class F extends m{render(j){return"finally"+super.render(j)}}F.kind="finally";class D{constructor(j,U={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...U,_n:U.lines?`
`:""},this._extScope=j,this._scope=new n.Scope({parent:j}),this._nodes=[new v]}toString(){return this._root.render(this.opts)}name(j){return this._scope.name(j)}scopeName(j){return this._extScope.name(j)}scopeValue(j,U){const ae=this._extScope.value(j,U);return(this._values[ae.prefix]||(this._values[ae.prefix]=new Set)).add(ae),ae}getScopeValue(j,U){return this._extScope.getValue(j,U)}scopeRefs(j){return this._extScope.scopeRefs(j,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(j,U,ae,te){const ue=this._scope.toName(U);return ae!==void 0&&te&&(this._constants[ue.str]=ae),this._leafNode(new a(j,ue,ae)),ue}const(j,U,ae){return this._def(n.varKinds.const,j,U,ae)}let(j,U,ae){return this._def(n.varKinds.let,j,U,ae)}var(j,U,ae){return this._def(n.varKinds.var,j,U,ae)}assign(j,U,ae){return this._leafNode(new s(j,U,ae))}add(j,U){return this._leafNode(new l(j,t.operators.ADD,U))}code(j){return typeof j=="function"?j():j!==e.nil&&this._leafNode(new d(j)),this}object(...j){const U=["{"];for(const[ae,te]of j)U.length>1&&U.push(","),U.push(ae),(ae!==te||this.opts.es5)&&(U.push(":"),(0,e.addCodeArg)(U,te));return U.push("}"),new e._Code(U)}if(j,U,ae){if(this._blockNode(new b(j)),U&&ae)this.code(U).else().code(ae).endIf();else if(U)this.code(U).endIf();else if(ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(j){return this._elseNode(new b(j))}else(){return this._elseNode(new k)}endIf(){return this._endBlockNode(b,k)}_for(j,U){return this._blockNode(j),U&&this.code(U).endFor(),this}for(j,U){return this._for(new x(j),U)}forRange(j,U,ae,te,ue=this.opts.es5?n.varKinds.var:n.varKinds.let){const ce=this._scope.toName(j);return this._for(new C(ue,ce,U,ae),()=>te(ce))}forOf(j,U,ae,te=n.varKinds.const){const ue=this._scope.toName(j);if(this.opts.es5){const ce=U instanceof e.Name?U:this.var("_arr",U);return this.forRange("_i",0,(0,e._)`${ce}.length`,fe=>{this.var(ue,(0,e._)`${ce}[${fe}]`),ae(ue)})}return this._for(new S("of",te,ue,U),()=>ae(ue))}forIn(j,U,ae,te=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(j,(0,e._)`Object.keys(${U})`,ae);const ue=this._scope.toName(j);return this._for(new S("in",te,ue,U),()=>ae(ue))}endFor(){return this._endBlockNode(_)}label(j){return this._leafNode(new c(j))}break(j){return this._leafNode(new u(j))}return(j){const U=new T;if(this._blockNode(U),this.code(j),U.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(T)}try(j,U,ae){if(!U&&!ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const te=new P;if(this._blockNode(te),this.code(j),U){const ue=this.name("e");this._currNode=te.catch=new $(ue),U(ue)}return ae&&(this._currNode=te.finally=new F,this.code(ae)),this._endBlockNode($,F)}throw(j){return this._leafNode(new f(j))}block(j,U){return this._blockStarts.push(this._nodes.length),j&&this.code(j).endBlock(U),this}endBlock(j){const U=this._blockStarts.pop();if(U===void 0)throw new Error("CodeGen: not in self-balancing block");const ae=this._nodes.length-U;if(ae<0||j!==void 0&&ae!==j)throw new Error(`CodeGen: wrong number of nodes: ${ae} vs ${j} expected`);return this._nodes.length=U,this}func(j,U=e.nil,ae,te){return this._blockNode(new g(j,U,ae)),te&&this.code(te).endFunc(),this}endFunc(){return this._endBlockNode(g)}optimize(j=1){for(;j-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(j){return this._currNode.nodes.push(j),this}_blockNode(j){this._currNode.nodes.push(j),this._nodes.push(j)}_endBlockNode(j,U){const ae=this._currNode;if(ae instanceof j||U&&ae instanceof U)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${U?`${j.kind}/${U.kind}`:j.kind}"`)}_elseNode(j){const U=this._currNode;if(!(U instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=U.else=j,this}get _root(){return this._nodes[0]}get _currNode(){const j=this._nodes;return j[j.length-1]}set _currNode(j){const U=this._nodes;U[U.length-1]=j}}t.CodeGen=D;function z(J,j){for(const U in j)J[U]=(J[U]||0)+(j[U]||0);return J}function R(J,j){return j instanceof e._CodeOrName?z(J,j.names):J}function V(J,j,U){if(J instanceof e.Name)return ae(J);if(!te(J))return J;return new e._Code(J._items.reduce((ue,ce)=>(ce instanceof e.Name&&(ce=ae(ce)),ce instanceof e._Code?ue.push(...ce._items):ue.push(ce),ue),[]));function ae(ue){const ce=U[ue.str];return ce===void 0||j[ue.str]!==1?ue:(delete j[ue.str],ce)}function te(ue){return ue instanceof e._Code&&ue._items.some(ce=>ce instanceof e.Name&&j[ce.str]===1&&U[ce.str]!==void 0)}}function ie(J,j){for(const U in j)J[U]=(J[U]||0)-(j[U]||0)}function oe(J){return typeof J=="boolean"||typeof J=="number"||J===null?!J:(0,e._)`!${ne(J)}`}t.not=oe;const _e=se(t.operators.AND);function Ae(...J){return J.reduce(_e)}t.and=Ae;const Ie=se(t.operators.OR);function ke(...J){return J.reduce(Ie)}t.or=ke;function se(J){return(j,U)=>j===e.nil?U:U===e.nil?j:(0,e._)`${ne(j)} ${J} ${ne(U)}`}function ne(J){return J instanceof e.Name?J:(0,e._)`(${J})`}})(_n);var er={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=_n,n=f4;function r(g){const T={};for(const P of g)T[P]=!0;return T}t.toHash=r;function i(g,T){return typeof T=="boolean"?T:Object.keys(T).length===0?!0:(o(g,T),!a(T,g.self.RULES.all))}t.alwaysValidSchema=i;function o(g,T=g.schema){const{opts:P,self:$}=g;if(!P.strictSchema||typeof T=="boolean")return;const F=$.RULES.keywords;for(const D in T)F[D]||S(g,`unknown keyword: "${D}"`)}t.checkUnknownRules=o;function a(g,T){if(typeof g=="boolean")return!g;for(const P in g)if(T[P])return!0;return!1}t.schemaHasRules=a;function s(g,T){if(typeof g=="boolean")return!g;for(const P in g)if(P!=="$ref"&&T.all[P])return!0;return!1}t.schemaHasRulesButRef=s;function l({topSchemaRef:g,schemaPath:T},P,$,F){if(!F){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${g}${T}${(0,e.getProperty)($)}`}t.schemaRefOrVal=l;function c(g){return d(decodeURIComponent(g))}t.unescapeFragment=c;function u(g){return encodeURIComponent(f(g))}t.escapeFragment=u;function f(g){return typeof g=="number"?`${g}`:g.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function d(g){return g.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=d;function h(g,T){if(Array.isArray(g))for(const P of g)T(P);else T(g)}t.eachItem=h;function m({mergeNames:g,mergeToName:T,mergeValues:P,resultToName:$}){return(F,D,z,R)=>{const V=z===void 0?D:z instanceof e.Name?(D instanceof e.Name?g(F,D,z):T(F,D,z),z):D instanceof e.Name?(T(F,z,D),D):P(D,z);return R===e.Name&&!(V instanceof e.Name)?$(F,V):V}}t.mergeEvaluated={props:m({mergeNames:(g,T,P)=>g.if((0,e._)`${P} !== true && ${T} !== undefined`,()=>{g.if((0,e._)`${T} === true`,()=>g.assign(P,!0),()=>g.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${T})`))}),mergeToName:(g,T,P)=>g.if((0,e._)`${P} !== true`,()=>{T===!0?g.assign(P,!0):(g.assign(P,(0,e._)`${P} || {}`),k(g,P,T))}),mergeValues:(g,T)=>g===!0?!0:{...g,...T},resultToName:v}),items:m({mergeNames:(g,T,P)=>g.if((0,e._)`${P} !== true && ${T} !== undefined`,()=>g.assign(P,(0,e._)`${T} === true ? true : ${P} > ${T} ? ${P} : ${T}`)),mergeToName:(g,T,P)=>g.if((0,e._)`${P} !== true`,()=>g.assign(P,T===!0?!0:(0,e._)`${P} > ${T} ? ${P} : ${T}`)),mergeValues:(g,T)=>g===!0?!0:Math.max(g,T),resultToName:(g,T)=>g.var("items",T)})};function v(g,T){if(T===!0)return g.var("props",!0);const P=g.var("props",(0,e._)`{}`);return T!==void 0&&k(g,P,T),P}t.evaluatedPropsToName=v;function k(g,T,P){Object.keys(P).forEach($=>g.assign((0,e._)`${T}${(0,e.getProperty)($)}`,!0))}t.setEvaluated=k;const b={};function _(g,T){return g.scopeValue("func",{ref:T,code:b[T.code]||(b[T.code]=new n._Code(T.code))})}t.useFunc=_;var x;(function(g){g[g.Num=0]="Num",g[g.Str=1]="Str"})(x=t.Type||(t.Type={}));function C(g,T,P){if(g instanceof e.Name){const $=T===x.Num;return P?$?(0,e._)`"[" + ${g} + "]"`:(0,e._)`"['" + ${g} + "']"`:$?(0,e._)`"/" + ${g}`:(0,e._)`"/" + ${g}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(g).toString():"/"+f(g)}t.getErrorPath=C;function S(g,T,P=g.opts.strictSchema){if(P){if(T=`strict mode: ${T}`,P===!0)throw new Error(T);g.self.logger.warn(T)}}t.checkStrictMode=S})(er);var xu={};Object.defineProperty(xu,"__esModule",{value:!0});const jo=_n,y$e={data:new jo.Name("data"),valCxt:new jo.Name("valCxt"),instancePath:new jo.Name("instancePath"),parentData:new jo.Name("parentData"),parentDataProperty:new jo.Name("parentDataProperty"),rootData:new jo.Name("rootData"),dynamicAnchors:new jo.Name("dynamicAnchors"),vErrors:new jo.Name("vErrors"),errors:new jo.Name("errors"),this:new jo.Name("this"),self:new jo.Name("self"),scope:new jo.Name("scope"),json:new jo.Name("json"),jsonPos:new jo.Name("jsonPos"),jsonLen:new jo.Name("jsonLen"),jsonPart:new jo.Name("jsonPart")};xu.default=y$e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=_n,n=er,r=xu;t.keywordError={message:({keyword:k})=>(0,e.str)`must pass "${k}" keyword validation`},t.keyword$DataError={message:({keyword:k,schemaType:b})=>b?(0,e.str)`"${k}" keyword must be ${b} ($data)`:(0,e.str)`"${k}" keyword is invalid ($data)`};function i(k,b=t.keywordError,_,x){const{it:C}=k,{gen:S,compositeRule:g,allErrors:T}=C,P=f(k,b,_);x??(g||T)?l(S,P):c(C,(0,e._)`[${P}]`)}t.reportError=i;function o(k,b=t.keywordError,_){const{it:x}=k,{gen:C,compositeRule:S,allErrors:g}=x,T=f(k,b,_);l(C,T),S||g||c(x,r.default.vErrors)}t.reportExtraError=o;function a(k,b){k.assign(r.default.errors,b),k.if((0,e._)`${r.default.vErrors} !== null`,()=>k.if(b,()=>k.assign((0,e._)`${r.default.vErrors}.length`,b),()=>k.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function s({gen:k,keyword:b,schemaValue:_,data:x,errsCount:C,it:S}){if(C===void 0)throw new Error("ajv implementation error");const g=k.name("err");k.forRange("i",C,r.default.errors,T=>{k.const(g,(0,e._)`${r.default.vErrors}[${T}]`),k.if((0,e._)`${g}.instancePath === undefined`,()=>k.assign((0,e._)`${g}.instancePath`,(0,e.strConcat)(r.default.instancePath,S.errorPath))),k.assign((0,e._)`${g}.schemaPath`,(0,e.str)`${S.errSchemaPath}/${b}`),S.opts.verbose&&(k.assign((0,e._)`${g}.schema`,_),k.assign((0,e._)`${g}.data`,x))})}t.extendErrors=s;function l(k,b){const _=k.const("err",b);k.if((0,e._)`${r.default.vErrors} === null`,()=>k.assign(r.default.vErrors,(0,e._)`[${_}]`),(0,e._)`${r.default.vErrors}.push(${_})`),k.code((0,e._)`${r.default.errors}++`)}function c(k,b){const{gen:_,validateName:x,schemaEnv:C}=k;C.$async?_.throw((0,e._)`new ${k.ValidationError}(${b})`):(_.assign((0,e._)`${x}.errors`,b),_.return(!1))}const u={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(k,b,_){const{createErrors:x}=k.it;return x===!1?(0,e._)`{}`:d(k,b,_)}function d(k,b,_={}){const{gen:x,it:C}=k,S=[h(C,_),m(k,_)];return v(k,b,S),x.object(...S)}function h({errorPath:k},{instancePath:b}){const _=b?(0,e.str)`${k}${(0,n.getErrorPath)(b,n.Type.Str)}`:k;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,_)]}function m({keyword:k,it:{errSchemaPath:b}},{schemaPath:_,parentSchema:x}){let C=x?b:(0,e.str)`${b}/${k}`;return _&&(C=(0,e.str)`${C}${(0,n.getErrorPath)(_,n.Type.Str)}`),[u.schemaPath,C]}function v(k,{params:b,message:_},x){const{keyword:C,data:S,schemaValue:g,it:T}=k,{opts:P,propertyName:$,topSchemaRef:F,schemaPath:D}=T;x.push([u.keyword,C],[u.params,typeof b=="function"?b(k):b||(0,e._)`{}`]),P.messages&&x.push([u.message,typeof _=="function"?_(k):_]),P.verbose&&x.push([u.schema,g],[u.parentSchema,(0,e._)`${F}${D}`],[r.default.data,S]),$&&x.push([u.propertyName,$])}})(g2);Object.defineProperty(db,"__esModule",{value:!0});db.boolOrEmptySchema=db.topBoolOrEmptySchema=void 0;const k$e=g2,_$e=_n,w$e=xu,S$e={message:"boolean schema is false"};function x$e(t){const{gen:e,schema:n,validateName:r}=t;n===!1?Hre(t,!1):typeof n=="object"&&n.$async===!0?e.return(w$e.default.data):(e.assign((0,_$e._)`${r}.errors`,null),e.return(!0))}db.topBoolOrEmptySchema=x$e;function C$e(t,e){const{gen:n,schema:r}=t;r===!1?(n.var(e,!1),Hre(t)):n.var(e,!0)}db.boolOrEmptySchema=C$e;function Hre(t,e){const{gen:n,data:r}=t,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,k$e.reportError)(i,S$e,void 0,e)}var b2={},Im={};Object.defineProperty(Im,"__esModule",{value:!0});Im.getRules=Im.isJSONType=void 0;const T$e=["string","number","integer","boolean","null","object","array"],A$e=new Set(T$e);function I$e(t){return typeof t=="string"&&A$e.has(t)}Im.isJSONType=I$e;function P$e(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Im.getRules=P$e;var gf={};Object.defineProperty(gf,"__esModule",{value:!0});gf.shouldUseRule=gf.shouldUseGroup=gf.schemaHasRulesForType=void 0;function E$e({schema:t,self:e},n){const r=e.RULES.types[n];return r&&r!==!0&&Wre(t,r)}gf.schemaHasRulesForType=E$e;function Wre(t,e){return e.rules.some(n=>Ure(t,n))}gf.shouldUseGroup=Wre;function Ure(t,e){var n;return t[e.keyword]!==void 0||((n=e.definition.implements)===null||n===void 0?void 0:n.some(r=>t[r]!==void 0))}gf.shouldUseRule=Ure;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=Im,n=gf,r=g2,i=_n,o=er;var a;(function(x){x[x.Correct=0]="Correct",x[x.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function s(x){const C=l(x.type);if(C.includes("null")){if(x.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&x.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');x.nullable===!0&&C.push("null")}return C}t.getSchemaTypes=s;function l(x){const C=Array.isArray(x)?x:x?[x]:[];if(C.every(e.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}t.getJSONTypes=l;function c(x,C){const{gen:S,data:g,opts:T}=x,P=f(C,T.coerceTypes),$=C.length>0&&!(P.length===0&&C.length===1&&(0,n.schemaHasRulesForType)(x,C[0]));if($){const F=v(C,g,T.strictNumbers,a.Wrong);S.if(F,()=>{P.length?d(x,C,P):b(x)})}return $}t.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function f(x,C){return C?x.filter(S=>u.has(S)||C==="array"&&S==="array"):[]}function d(x,C,S){const{gen:g,data:T,opts:P}=x,$=g.let("dataType",(0,i._)`typeof ${T}`),F=g.let("coerced",(0,i._)`undefined`);P.coerceTypes==="array"&&g.if((0,i._)`${$} == 'object' && Array.isArray(${T}) && ${T}.length == 1`,()=>g.assign(T,(0,i._)`${T}[0]`).assign($,(0,i._)`typeof ${T}`).if(v(C,T,P.strictNumbers),()=>g.assign(F,T))),g.if((0,i._)`${F} !== undefined`);for(const z of S)(u.has(z)||z==="array"&&P.coerceTypes==="array")&&D(z);g.else(),b(x),g.endIf(),g.if((0,i._)`${F} !== undefined`,()=>{g.assign(T,F),h(x,F)});function D(z){switch(z){case"string":g.elseIf((0,i._)`${$} == "number" || ${$} == "boolean"`).assign(F,(0,i._)`"" + ${T}`).elseIf((0,i._)`${T} === null`).assign(F,(0,i._)`""`);return;case"number":g.elseIf((0,i._)`${$} == "boolean" || ${T} === null
              || (${$} == "string" && ${T} && ${T} == +${T})`).assign(F,(0,i._)`+${T}`);return;case"integer":g.elseIf((0,i._)`${$} === "boolean" || ${T} === null
              || (${$} === "string" && ${T} && ${T} == +${T} && !(${T} % 1))`).assign(F,(0,i._)`+${T}`);return;case"boolean":g.elseIf((0,i._)`${T} === "false" || ${T} === 0 || ${T} === null`).assign(F,!1).elseIf((0,i._)`${T} === "true" || ${T} === 1`).assign(F,!0);return;case"null":g.elseIf((0,i._)`${T} === "" || ${T} === 0 || ${T} === false`),g.assign(F,null);return;case"array":g.elseIf((0,i._)`${$} === "string" || ${$} === "number"
              || ${$} === "boolean" || ${T} === null`).assign(F,(0,i._)`[${T}]`)}}}function h({gen:x,parentData:C,parentDataProperty:S},g){x.if((0,i._)`${C} !== undefined`,()=>x.assign((0,i._)`${C}[${S}]`,g))}function m(x,C,S,g=a.Correct){const T=g===a.Correct?i.operators.EQ:i.operators.NEQ;let P;switch(x){case"null":return(0,i._)`${C} ${T} null`;case"array":P=(0,i._)`Array.isArray(${C})`;break;case"object":P=(0,i._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":P=$((0,i._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":P=$();break;default:return(0,i._)`typeof ${C} ${T} ${x}`}return g===a.Correct?P:(0,i.not)(P);function $(F=i.nil){return(0,i.and)((0,i._)`typeof ${C} == "number"`,F,S?(0,i._)`isFinite(${C})`:i.nil)}}t.checkDataType=m;function v(x,C,S,g){if(x.length===1)return m(x[0],C,S,g);let T;const P=(0,o.toHash)(x);if(P.array&&P.object){const $=(0,i._)`typeof ${C} != "object"`;T=P.null?$:(0,i._)`!${C} || ${$}`,delete P.null,delete P.array,delete P.object}else T=i.nil;P.number&&delete P.integer;for(const $ in P)T=(0,i.and)(T,m($,C,S,g));return T}t.checkDataTypes=v;const k={message:({schema:x})=>`must be ${x}`,params:({schema:x,schemaValue:C})=>typeof x=="string"?(0,i._)`{type: ${x}}`:(0,i._)`{type: ${C}}`};function b(x){const C=_(x);(0,r.reportError)(C,k)}t.reportTypeError=b;function _(x){const{gen:C,data:S,schema:g}=x,T=(0,o.schemaRefOrVal)(x,g,"type");return{gen:C,keyword:"type",data:S,schema:g.type,schemaCode:T,schemaValue:T,parentSchema:g,params:{},it:x}}})(b2);var t_={};Object.defineProperty(t_,"__esModule",{value:!0});t_.assignDefaults=void 0;const Ng=_n,$$e=er;function O$e(t,e){const{properties:n,items:r}=t.schema;if(e==="object"&&n)for(const i in n)OH(t,i,n[i].default);else e==="array"&&Array.isArray(r)&&r.forEach((i,o)=>OH(t,o,i.default))}t_.assignDefaults=O$e;function OH(t,e,n){const{gen:r,compositeRule:i,data:o,opts:a}=t;if(n===void 0)return;const s=(0,Ng._)`${o}${(0,Ng.getProperty)(e)}`;if(i){(0,$$e.checkStrictMode)(t,`default is ignored for: ${s}`);return}let l=(0,Ng._)`${s} === undefined`;a.useDefaults==="empty"&&(l=(0,Ng._)`${l} || ${s} === null || ${s} === ""`),r.if(l,(0,Ng._)`${s} = ${(0,Ng.stringify)(n)}`)}var cu={},Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.validateUnion=Tn.validateArray=Tn.usePattern=Tn.callValidateCode=Tn.schemaProperties=Tn.allSchemaProperties=Tn.noPropertyInData=Tn.propertyInData=Tn.isOwnProperty=Tn.hasPropFunc=Tn.reportMissingProp=Tn.checkMissingProp=Tn.checkReportMissingProp=void 0;const Kr=_n,GO=er,id=xu,D$e=er;function L$e(t,e){const{gen:n,data:r,it:i}=t;n.if(YO(n,r,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Kr._)`${e}`},!0),t.error()})}Tn.checkReportMissingProp=L$e;function F$e({gen:t,data:e,it:{opts:n}},r,i){return(0,Kr.or)(...r.map(o=>(0,Kr.and)(YO(t,e,o,n.ownProperties),(0,Kr._)`${i} = ${o}`)))}Tn.checkMissingProp=F$e;function N$e(t,e){t.setParams({missingProperty:e},!0),t.error()}Tn.reportMissingProp=N$e;function Gre(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Kr._)`Object.prototype.hasOwnProperty`})}Tn.hasPropFunc=Gre;function qO(t,e,n){return(0,Kr._)`${Gre(t)}.call(${e}, ${n})`}Tn.isOwnProperty=qO;function M$e(t,e,n,r){const i=(0,Kr._)`${e}${(0,Kr.getProperty)(n)} !== undefined`;return r?(0,Kr._)`${i} && ${qO(t,e,n)}`:i}Tn.propertyInData=M$e;function YO(t,e,n,r){const i=(0,Kr._)`${e}${(0,Kr.getProperty)(n)} === undefined`;return r?(0,Kr.or)(i,(0,Kr.not)(qO(t,e,n))):i}Tn.noPropertyInData=YO;function qre(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Tn.allSchemaProperties=qre;function z$e(t,e){return qre(e).filter(n=>!(0,GO.alwaysValidSchema)(t,e[n]))}Tn.schemaProperties=z$e;function R$e({schemaCode:t,data:e,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:o},it:a},s,l,c){const u=c?(0,Kr._)`${t}, ${e}, ${r}${i}`:e,f=[[id.default.instancePath,(0,Kr.strConcat)(id.default.instancePath,o)],[id.default.parentData,a.parentData],[id.default.parentDataProperty,a.parentDataProperty],[id.default.rootData,id.default.rootData]];a.opts.dynamicRef&&f.push([id.default.dynamicAnchors,id.default.dynamicAnchors]);const d=(0,Kr._)`${u}, ${n.object(...f)}`;return l!==Kr.nil?(0,Kr._)`${s}.call(${l}, ${d})`:(0,Kr._)`${s}(${d})`}Tn.callValidateCode=R$e;const j$e=(0,Kr._)`new RegExp`;function V$e({gen:t,it:{opts:e}},n){const r=e.unicodeRegExp?"u":"",{regExp:i}=e.code,o=i(n,r);return t.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,Kr._)`${i.code==="new RegExp"?j$e:(0,D$e.useFunc)(t,i)}(${n}, ${r})`})}Tn.usePattern=V$e;function B$e(t){const{gen:e,data:n,keyword:r,it:i}=t,o=e.name("valid");if(i.allErrors){const s=e.let("valid",!0);return a(()=>e.assign(s,!1)),s}return e.var(o,!0),a(()=>e.break()),o;function a(s){const l=e.const("len",(0,Kr._)`${n}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:r,dataProp:c,dataPropType:GO.Type.Num},o),e.if((0,Kr.not)(o),s)})}}Tn.validateArray=B$e;function H$e(t){const{gen:e,schema:n,keyword:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,GO.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=e.let("valid",!1),s=e.name("_valid");e.block(()=>n.forEach((l,c)=>{const u=t.subschema({keyword:r,schemaProp:c,compositeRule:!0},s);e.assign(a,(0,Kr._)`${a} || ${s}`),t.mergeValidEvaluated(u,s)||e.if((0,Kr.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Tn.validateUnion=H$e;Object.defineProperty(cu,"__esModule",{value:!0});cu.validateKeywordUsage=cu.validSchemaType=cu.funcKeywordCode=cu.macroKeywordCode=void 0;const ba=_n,Op=xu,W$e=Tn,U$e=g2;function G$e(t,e){const{gen:n,keyword:r,schema:i,parentSchema:o,it:a}=t,s=e.macro.call(a.self,i,o,a),l=Yre(n,r,s);a.opts.validateSchema!==!1&&a.self.validateSchema(s,!0);const c=n.name("valid");t.subschema({schema:s,schemaPath:ba.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}cu.macroKeywordCode=G$e;function q$e(t,e){var n;const{gen:r,keyword:i,schema:o,parentSchema:a,$data:s,it:l}=t;X$e(l,e);const c=!s&&e.compile?e.compile.call(l.self,o,a,l):e.validate,u=Yre(r,i,c),f=r.let("valid");t.block$data(f,d),t.ok((n=e.valid)!==null&&n!==void 0?n:f);function d(){if(e.errors===!1)v(),e.modifying&&DH(t),k(()=>t.error());else{const b=e.async?h():m();e.modifying&&DH(t),k(()=>Y$e(t,b))}}function h(){const b=r.let("ruleErrs",null);return r.try(()=>v((0,ba._)`await `),_=>r.assign(f,!1).if((0,ba._)`${_} instanceof ${l.ValidationError}`,()=>r.assign(b,(0,ba._)`${_}.errors`),()=>r.throw(_))),b}function m(){const b=(0,ba._)`${u}.errors`;return r.assign(b,null),v(ba.nil),b}function v(b=e.async?(0,ba._)`await `:ba.nil){const _=l.opts.passContext?Op.default.this:Op.default.self,x=!("compile"in e&&!s||e.schema===!1);r.assign(f,(0,ba._)`${b}${(0,W$e.callValidateCode)(t,u,_,x)}`,e.modifying)}function k(b){var _;r.if((0,ba.not)((_=e.valid)!==null&&_!==void 0?_:f),b)}}cu.funcKeywordCode=q$e;function DH(t){const{gen:e,data:n,it:r}=t;e.if(r.parentData,()=>e.assign(n,(0,ba._)`${r.parentData}[${r.parentDataProperty}]`))}function Y$e(t,e){const{gen:n}=t;n.if((0,ba._)`Array.isArray(${e})`,()=>{n.assign(Op.default.vErrors,(0,ba._)`${Op.default.vErrors} === null ? ${e} : ${Op.default.vErrors}.concat(${e})`).assign(Op.default.errors,(0,ba._)`${Op.default.vErrors}.length`),(0,U$e.extendErrors)(t)},()=>t.error())}function X$e({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Yre(t,e,n){if(n===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,ba.stringify)(n)})}function K$e(t,e,n=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||n&&typeof t>"u")}cu.validSchemaType=K$e;function J$e({schema:t,opts:e,self:n,errSchemaPath:r},i,o){if(Array.isArray(i.keyword)?!i.keyword.includes(o):i.keyword!==o)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(s=>!Object.prototype.hasOwnProperty.call(t,s)))throw new Error(`parent schema must have dependencies of ${o}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[o])){const l=`keyword "${o}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}cu.validateKeywordUsage=J$e;var Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.extendSubschemaMode=Rd.extendSubschemaData=Rd.getSubschema=void 0;const tu=_n,Xre=er;function Z$e(t,{keyword:e,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:o,topSchemaRef:a}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const s=t.schema[e];return n===void 0?{schema:s,schemaPath:(0,tu._)`${t.schemaPath}${(0,tu.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:s[n],schemaPath:(0,tu._)`${t.schemaPath}${(0,tu.getProperty)(e)}${(0,tu.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Xre.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||o===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:a,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}Rd.getSubschema=Z$e;function Q$e(t,e,{dataProp:n,dataPropType:r,data:i,dataTypes:o,propertyName:a}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:s}=e;if(n!==void 0){const{errorPath:c,dataPathArr:u,opts:f}=e,d=s.let("data",(0,tu._)`${e.data}${(0,tu.getProperty)(n)}`,!0);l(d),t.errorPath=(0,tu.str)`${c}${(0,Xre.getErrorPath)(n,r,f.jsPropertySyntax)}`,t.parentDataProperty=(0,tu._)`${n}`,t.dataPathArr=[...u,t.parentDataProperty]}if(i!==void 0){const c=i instanceof tu.Name?i:s.let("data",i,!0);l(c),a!==void 0&&(t.propertyName=a)}o&&(t.dataTypes=o);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Rd.extendSubschemaData=Q$e;function eOe(t,{jtdDiscriminator:e,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:o}){r!==void 0&&(t.compositeRule=r),i!==void 0&&(t.createErrors=i),o!==void 0&&(t.allErrors=o),t.jtdDiscriminator=e,t.jtdMetadata=n}Rd.extendSubschemaMode=eOe;var Co={},XO=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n};const Kre=pr(XO);var Jre={exports:{}},Ad=Jre.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};x8(e,r,i,t,"",t)};Ad.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ad.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ad.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ad.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function x8(t,e,n,r,i,o,a,s,l,c){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,o,a,s,l,c);for(var u in r){var f=r[u];if(Array.isArray(f)){if(u in Ad.arrayKeywords)for(var d=0;d<f.length;d++)x8(t,e,n,f[d],i+"/"+u+"/"+d,o,i,u,r,d)}else if(u in Ad.propsKeywords){if(f&&typeof f=="object")for(var h in f)x8(t,e,n,f[h],i+"/"+u+"/"+tOe(h),o,i,u,r,h)}else(u in Ad.keywords||t.allKeys&&!(u in Ad.skipKeywords))&&x8(t,e,n,f,i+"/"+u,o,i,u,r)}n(r,i,o,a,s,l,c)}}function tOe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var nOe=Jre.exports;Object.defineProperty(Co,"__esModule",{value:!0});Co.getSchemaRefs=Co.resolveUrl=Co.normalizeId=Co._getFullPath=Co.getFullPath=Co.inlineRef=void 0;const rOe=er,iOe=XO,oOe=nOe,aOe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function sOe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!QI(t):e?Zre(t)<=e:!1}Co.inlineRef=sOe;const lOe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function QI(t){for(const e in t){if(lOe.has(e))return!0;const n=t[e];if(Array.isArray(n)&&n.some(QI)||typeof n=="object"&&QI(n))return!0}return!1}function Zre(t){let e=0;for(const n in t){if(n==="$ref")return 1/0;if(e++,!aOe.has(n)&&(typeof t[n]=="object"&&(0,rOe.eachItem)(t[n],r=>e+=Zre(r)),e===1/0))return 1/0}return e}function Qre(t,e="",n){n!==!1&&(e=z0(e));const r=t.parse(e);return eie(t,r)}Co.getFullPath=Qre;function eie(t,e){return t.serialize(e).split("#")[0]+"#"}Co._getFullPath=eie;const cOe=/#\/?$/;function z0(t){return t?t.replace(cOe,""):""}Co.normalizeId=z0;function uOe(t,e,n){return n=z0(n),t.resolve(e,n)}Co.resolveUrl=uOe;const fOe=/^[a-z_][-a-z0-9._]*$/i;function dOe(t,e){if(typeof t=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=z0(t[n]||e),o={"":i},a=Qre(r,i,!1),s={},l=new Set;return oOe(t,{allKeys:!0},(f,d,h,m)=>{if(m===void 0)return;const v=a+d;let k=o[m];typeof f[n]=="string"&&(k=b.call(this,f[n])),_.call(this,f.$anchor),_.call(this,f.$dynamicAnchor),o[d]=k;function b(x){const C=this.opts.uriResolver.resolve;if(x=z0(k?C(k,x):x),l.has(x))throw u(x);l.add(x);let S=this.refs[x];return typeof S=="string"&&(S=this.refs[S]),typeof S=="object"?c(f,S.schema,x):x!==z0(v)&&(x[0]==="#"?(c(f,s[x],x),s[x]=f):this.refs[x]=v),x}function _(x){if(typeof x=="string"){if(!fOe.test(x))throw new Error(`invalid anchor "${x}"`);b.call(this,`#${x}`)}}}),s;function c(f,d,h){if(d!==void 0&&!iOe(f,d))throw u(h)}function u(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Co.getSchemaRefs=dOe;Object.defineProperty(hc,"__esModule",{value:!0});hc.getData=hc.KeywordCxt=hc.validateFunctionCode=void 0;const tie=db,LH=b2,KO=gf,ak=b2,hOe=t_,fy=cu,fC=Rd,Ot=_n,an=xu,pOe=Co,bf=er,iv=g2;function mOe(t){if(iie(t)&&(oie(t),rie(t))){vOe(t);return}nie(t,()=>(0,tie.topBoolOrEmptySchema)(t))}hc.validateFunctionCode=mOe;function nie({gen:t,validateName:e,schema:n,schemaEnv:r,opts:i},o){i.code.es5?t.func(e,(0,Ot._)`${an.default.data}, ${an.default.valCxt}`,r.$async,()=>{t.code((0,Ot._)`"use strict"; ${FH(n,i)}`),bOe(t,i),t.code(o)}):t.func(e,(0,Ot._)`${an.default.data}, ${gOe(i)}`,r.$async,()=>t.code(FH(n,i)).code(o))}function gOe(t){return(0,Ot._)`{${an.default.instancePath}="", ${an.default.parentData}, ${an.default.parentDataProperty}, ${an.default.rootData}=${an.default.data}${t.dynamicRef?(0,Ot._)`, ${an.default.dynamicAnchors}={}`:Ot.nil}}={}`}function bOe(t,e){t.if(an.default.valCxt,()=>{t.var(an.default.instancePath,(0,Ot._)`${an.default.valCxt}.${an.default.instancePath}`),t.var(an.default.parentData,(0,Ot._)`${an.default.valCxt}.${an.default.parentData}`),t.var(an.default.parentDataProperty,(0,Ot._)`${an.default.valCxt}.${an.default.parentDataProperty}`),t.var(an.default.rootData,(0,Ot._)`${an.default.valCxt}.${an.default.rootData}`),e.dynamicRef&&t.var(an.default.dynamicAnchors,(0,Ot._)`${an.default.valCxt}.${an.default.dynamicAnchors}`)},()=>{t.var(an.default.instancePath,(0,Ot._)`""`),t.var(an.default.parentData,(0,Ot._)`undefined`),t.var(an.default.parentDataProperty,(0,Ot._)`undefined`),t.var(an.default.rootData,an.default.data),e.dynamicRef&&t.var(an.default.dynamicAnchors,(0,Ot._)`{}`)})}function vOe(t){const{schema:e,opts:n,gen:r}=t;nie(t,()=>{n.$comment&&e.$comment&&sie(t),SOe(t),r.let(an.default.vErrors,null),r.let(an.default.errors,0),n.unevaluated&&yOe(t),aie(t),TOe(t)})}function yOe(t){const{gen:e,validateName:n}=t;t.evaluated=e.const("evaluated",(0,Ot._)`${n}.evaluated`),e.if((0,Ot._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Ot._)`${t.evaluated}.props`,(0,Ot._)`undefined`)),e.if((0,Ot._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Ot._)`${t.evaluated}.items`,(0,Ot._)`undefined`))}function FH(t,e){const n=typeof t=="object"&&t[e.schemaId];return n&&(e.code.source||e.code.process)?(0,Ot._)`/*# sourceURL=${n} */`:Ot.nil}function kOe(t,e){if(iie(t)&&(oie(t),rie(t))){_Oe(t,e);return}(0,tie.boolOrEmptySchema)(t,e)}function rie({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const n in t)if(e.RULES.all[n])return!0;return!1}function iie(t){return typeof t.schema!="boolean"}function _Oe(t,e){const{schema:n,gen:r,opts:i}=t;i.$comment&&n.$comment&&sie(t),xOe(t),COe(t);const o=r.const("_errs",an.default.errors);aie(t,o),r.var(e,(0,Ot._)`${o} === ${an.default.errors}`)}function oie(t){(0,bf.checkUnknownRules)(t),wOe(t)}function aie(t,e){if(t.opts.jtd)return NH(t,[],!1,e);const n=(0,LH.getSchemaTypes)(t.schema),r=(0,LH.coerceAndCheckDataType)(t,n);NH(t,n,!r,e)}function wOe(t){const{schema:e,errSchemaPath:n,opts:r,self:i}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,bf.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function SOe(t){const{schema:e,opts:n}=t;e.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,bf.checkStrictMode)(t,"default is ignored in the schema root")}function xOe(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,pOe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function COe(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function sie({gen:t,schemaEnv:e,schema:n,errSchemaPath:r,opts:i}){const o=n.$comment;if(i.$comment===!0)t.code((0,Ot._)`${an.default.self}.logger.log(${o})`);else if(typeof i.$comment=="function"){const a=(0,Ot.str)`${r}/$comment`,s=t.scopeValue("root",{ref:e.root});t.code((0,Ot._)`${an.default.self}.opts.$comment(${o}, ${a}, ${s}.schema)`)}}function TOe(t){const{gen:e,schemaEnv:n,validateName:r,ValidationError:i,opts:o}=t;n.$async?e.if((0,Ot._)`${an.default.errors} === 0`,()=>e.return(an.default.data),()=>e.throw((0,Ot._)`new ${i}(${an.default.vErrors})`)):(e.assign((0,Ot._)`${r}.errors`,an.default.vErrors),o.unevaluated&&AOe(t),e.return((0,Ot._)`${an.default.errors} === 0`))}function AOe({gen:t,evaluated:e,props:n,items:r}){n instanceof Ot.Name&&t.assign((0,Ot._)`${e}.props`,n),r instanceof Ot.Name&&t.assign((0,Ot._)`${e}.items`,r)}function NH(t,e,n,r){const{gen:i,schema:o,data:a,allErrors:s,opts:l,self:c}=t,{RULES:u}=c;if(o.$ref&&(l.ignoreKeywordsWithRef||!(0,bf.schemaHasRulesButRef)(o,u))){i.block(()=>uie(t,"$ref",u.all.$ref.definition));return}l.jtd||IOe(t,e),i.block(()=>{for(const d of u.rules)f(d);f(u.post)});function f(d){(0,KO.shouldUseGroup)(o,d)&&(d.type?(i.if((0,ak.checkDataType)(d.type,a,l.strictNumbers)),MH(t,d),e.length===1&&e[0]===d.type&&n&&(i.else(),(0,ak.reportTypeError)(t)),i.endIf()):MH(t,d),s||i.if((0,Ot._)`${an.default.errors} === ${r||0}`))}}function MH(t,e){const{gen:n,schema:r,opts:{useDefaults:i}}=t;i&&(0,hOe.assignDefaults)(t,e.type),n.block(()=>{for(const o of e.rules)(0,KO.shouldUseRule)(r,o)&&uie(t,o.keyword,o.definition,e.type)})}function IOe(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(POe(t,e),t.opts.allowUnionTypes||EOe(t,e),$Oe(t,t.dataTypes))}function POe(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(n=>{lie(t.dataTypes,n)||JO(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),DOe(t,e)}}function EOe(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&JO(t,"use allowUnionTypes to allow union type keyword")}function $Oe(t,e){const n=t.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,KO.shouldUseRule)(t.schema,i)){const{type:o}=i.definition;o.length&&!o.some(a=>OOe(e,a))&&JO(t,`missing type "${o.join(",")}" for keyword "${r}"`)}}}function OOe(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function lie(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function DOe(t,e){const n=[];for(const r of t.dataTypes)lie(e,r)?n.push(r):e.includes("integer")&&r==="number"&&n.push("integer");t.dataTypes=n}function JO(t,e){const n=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${n}" (strictTypes)`,(0,bf.checkStrictMode)(t,e,t.opts.strictTypes)}class cie{constructor(e,n,r){if((0,fy.validateKeywordUsage)(e,n,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,bf.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",fie(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,fy.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=e.gen.const("_errs",an.default.errors))}result(e,n,r){this.failResult((0,Ot.not)(e),n,r)}failResult(e,n,r){this.gen.if(e),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,Ot.not)(e),void 0,n)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:n}=this;this.fail((0,Ot._)`${n} !== undefined && (${(0,Ot.or)(this.invalid$data(),e)})`)}error(e,n,r){if(n){this.setParams(n),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,n){(e?iv.reportExtraError:iv.reportError)(this,this.def.error,n)}$dataError(){(0,iv.reportError)(this,this.def.$dataError||iv.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,iv.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,r=Ot.nil){this.gen.block(()=>{this.check$data(e,r),n()})}check$data(e=Ot.nil,n=Ot.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:o,def:a}=this;r.if((0,Ot.or)((0,Ot._)`${i} === undefined`,n)),e!==Ot.nil&&r.assign(e,!0),(o.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==Ot.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:n,schemaType:r,def:i,it:o}=this;return(0,Ot.or)(a(),s());function a(){if(r.length){if(!(n instanceof Ot.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,Ot._)`${(0,ak.checkDataTypes)(l,n,o.opts.strictNumbers,ak.DataType.Wrong)}`}return Ot.nil}function s(){if(i.validateSchema){const l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ot._)`!${l}(${n})`}return Ot.nil}}subschema(e,n){const r=(0,fC.getSubschema)(this.it,e);(0,fC.extendSubschemaData)(r,this.it,e),(0,fC.extendSubschemaMode)(r,e);const i={...this.it,...r,items:void 0,props:void 0};return kOe(i,n),i}mergeEvaluated(e,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=bf.mergeEvaluated.props(i,e.props,r.props,n)),r.items!==!0&&e.items!==void 0&&(r.items=bf.mergeEvaluated.items(i,e.items,r.items,n)))}mergeValidEvaluated(e,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(e,Ot.Name)),!0}}hc.KeywordCxt=cie;function uie(t,e,n,r){const i=new cie(t,n,e);"code"in n?n.code(i,r):i.$data&&n.validate?(0,fy.funcKeywordCode)(i,n):"macro"in n?(0,fy.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,fy.funcKeywordCode)(i,n)}const LOe=/^\/(?:[^~]|~0|~1)*$/,FOe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fie(t,{dataLevel:e,dataNames:n,dataPathArr:r}){let i,o;if(t==="")return an.default.rootData;if(t[0]==="/"){if(!LOe.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,o=an.default.rootData}else{const c=FOe.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const u=+c[1];if(i=c[2],i==="#"){if(u>=e)throw new Error(l("property/index",u));return r[e-u]}if(u>e)throw new Error(l("data",u));if(o=n[e-u],!i)return o}let a=o;const s=i.split("/");for(const c of s)c&&(o=(0,Ot._)`${o}${(0,Ot.getProperty)((0,bf.unescapeJsonPointer)(c))}`,a=(0,Ot._)`${a} && ${o}`);return a;function l(c,u){return`Cannot access ${c} ${u} levels up, current level is ${e}`}}hc.getData=fie;var v2={};Object.defineProperty(v2,"__esModule",{value:!0});class NOe extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}v2.default=NOe;var y2={};Object.defineProperty(y2,"__esModule",{value:!0});const dC=Co;class MOe extends Error{constructor(e,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,dC.resolveUrl)(e,n,r),this.missingSchema=(0,dC.normalizeId)((0,dC.getFullPath)(e,this.missingRef))}}y2.default=MOe;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.resolveSchema=ns.getCompilingSchema=ns.resolveRef=ns.compileSchema=ns.SchemaEnv=void 0;const Xl=_n,zOe=v2,gp=xu,oc=Co,zH=er,ROe=hc;class n_{constructor(e){var n;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,oc.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}ns.SchemaEnv=n_;function ZO(t){const e=die.call(this,t);if(e)return e;const n=(0,oc.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:o}=this.opts,a=new Xl.CodeGen(this.scope,{es5:r,lines:i,ownProperties:o});let s;t.$async&&(s=a.scopeValue("Error",{ref:zOe.default,code:(0,Xl._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:gp.default.data,parentData:gp.default.parentData,parentDataProperty:gp.default.parentDataProperty,dataNames:[gp.default.data],dataPathArr:[Xl.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Xl.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:s,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:Xl.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Xl._)`""`,opts:this.opts,self:this};let u;try{this._compilations.add(t),(0,ROe.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);const f=a.toString();u=`${a.scopeRefs(gp.default.scope)}return ${f}`,this.opts.code.process&&(u=this.opts.code.process(u,t));const h=new Function(`${gp.default.self}`,`${gp.default.scope}`,u)(this,this.scope.get());if(this.scope.value(l,{ref:h}),h.errors=null,h.schema=t.schema,h.schemaEnv=t,t.$async&&(h.$async=!0),this.opts.code.source===!0&&(h.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){const{props:m,items:v}=c;h.evaluated={props:m instanceof Xl.Name?void 0:m,items:v instanceof Xl.Name?void 0:v,dynamicProps:m instanceof Xl.Name,dynamicItems:v instanceof Xl.Name},h.source&&(h.source.evaluated=(0,Xl.stringify)(h.evaluated))}return t.validate=h,t}catch(f){throw delete t.validate,delete t.validateName,u&&this.logger.error("Error compiling schema, function code:",u),f}finally{this._compilations.delete(t)}}ns.compileSchema=ZO;function jOe(t,e,n){var r;n=(0,oc.resolveUrl)(this.opts.uriResolver,e,n);const i=t.refs[n];if(i)return i;let o=HOe.call(this,t,n);if(o===void 0){const a=(r=t.localRefs)===null||r===void 0?void 0:r[n],{schemaId:s}=this.opts;a&&(o=new n_({schema:a,schemaId:s,root:t,baseId:e}))}if(o!==void 0)return t.refs[n]=VOe.call(this,o)}ns.resolveRef=jOe;function VOe(t){return(0,oc.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:ZO.call(this,t)}function die(t){for(const e of this._compilations)if(BOe(e,t))return e}ns.getCompilingSchema=die;function BOe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function HOe(t,e){let n;for(;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||r_.call(this,t,e)}function r_(t,e){const n=this.opts.uriResolver.parse(e),r=(0,oc._getFullPath)(this.opts.uriResolver,n);let i=(0,oc.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===i)return hC.call(this,n,t);const o=(0,oc.normalizeId)(r),a=this.refs[o]||this.schemas[o];if(typeof a=="string"){const s=r_.call(this,t,a);return typeof(s==null?void 0:s.schema)!="object"?void 0:hC.call(this,n,s)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||ZO.call(this,a),o===(0,oc.normalizeId)(e)){const{schema:s}=a,{schemaId:l}=this.opts,c=s[l];return c&&(i=(0,oc.resolveUrl)(this.opts.uriResolver,i,c)),new n_({schema:s,schemaId:l,root:t,baseId:i})}return hC.call(this,n,a)}}ns.resolveSchema=r_;const WOe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function hC(t,{baseId:e,schema:n,root:r}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const s of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,zH.unescapeFragment)(s)];if(l===void 0)return;n=l;const c=typeof n=="object"&&n[this.opts.schemaId];!WOe.has(s)&&c&&(e=(0,oc.resolveUrl)(this.opts.uriResolver,e,c))}let o;if(typeof n!="boolean"&&n.$ref&&!(0,zH.schemaHasRulesButRef)(n,this.RULES)){const s=(0,oc.resolveUrl)(this.opts.uriResolver,e,n.$ref);o=r_.call(this,r,s)}const{schemaId:a}=this.opts;if(o=o||new n_({schema:n,schemaId:a,root:r,baseId:e}),o.schema!==o.root.schema)return o}const UOe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",GOe="Meta-schema for $data reference (JSON AnySchema extension proposal)",qOe="object",YOe=["$data"],XOe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},KOe=!1,JOe={$id:UOe,description:GOe,type:qOe,required:YOe,properties:XOe,additionalProperties:KOe};var QO={},eP={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(n,r){r(e)})(ui,function(n){function r(){for(var Se=arguments.length,le=Array(Se),xe=0;xe<Se;xe++)le[xe]=arguments[xe];if(le.length>1){le[0]=le[0].slice(0,-1);for(var ze=le.length-1,Me=1;Me<ze;++Me)le[Me]=le[Me].slice(1,-1);return le[ze]=le[ze].slice(1),le.join("")}else return le[0]}function i(Se){return"(?:"+Se+")"}function o(Se){return Se===void 0?"undefined":Se===null?"null":Object.prototype.toString.call(Se).split(" ").pop().split("]").shift().toLowerCase()}function a(Se){return Se.toUpperCase()}function s(Se){return Se!=null?Se instanceof Array?Se:typeof Se.length!="number"||Se.split||Se.setInterval||Se.call?[Se]:Array.prototype.slice.call(Se):[]}function l(Se,le){var xe=Se;if(le)for(var ze in le)xe[ze]=le[ze];return xe}function c(Se){var le="[A-Za-z]",xe="[0-9]",ze=r(xe,"[A-Fa-f]"),Me=i(i("%[EFef]"+ze+"%"+ze+ze+"%"+ze+ze)+"|"+i("%[89A-Fa-f]"+ze+"%"+ze+ze)+"|"+i("%"+ze+ze)),St="[\\:\\/\\?\\#\\[\\]\\@]",Ct="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",wn=r(St,Ct),sr=Se?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Fr=Se?"[\\uE000-\\uF8FF]":"[]",vn=r(le,xe,"[\\-\\.\\_\\~]",sr);i(le+r(le,xe,"[\\+\\-\\.]")+"*"),i(i(Me+"|"+r(vn,Ct,"[\\:]"))+"*");var qn=i(i("25[0-5]")+"|"+i("2[0-4]"+xe)+"|"+i("1"+xe+xe)+"|"+i("0?[1-9]"+xe)+"|0?0?"+xe),Nr=i(qn+"\\."+qn+"\\."+qn+"\\."+qn),Kt=i(ze+"{1,4}"),dr=i(i(Kt+"\\:"+Kt)+"|"+Nr),gr=i(i(Kt+"\\:")+"{6}"+dr),br=i("\\:\\:"+i(Kt+"\\:")+"{5}"+dr),po=i(i(Kt)+"?\\:\\:"+i(Kt+"\\:")+"{4}"+dr),$a=i(i(i(Kt+"\\:")+"{0,1}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{3}"+dr),Oa=i(i(i(Kt+"\\:")+"{0,2}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{2}"+dr),Vl=i(i(i(Kt+"\\:")+"{0,3}"+Kt)+"?\\:\\:"+Kt+"\\:"+dr),_s=i(i(i(Kt+"\\:")+"{0,4}"+Kt)+"?\\:\\:"+dr),Ui=i(i(i(Kt+"\\:")+"{0,5}"+Kt)+"?\\:\\:"+Kt),Eo=i(i(i(Kt+"\\:")+"{0,6}"+Kt)+"?\\:\\:"),ei=i([gr,br,po,$a,Oa,Vl,_s,Ui,Eo].join("|")),ro=i(i(vn+"|"+Me)+"+");i("[vV]"+ze+"+\\."+r(vn,Ct,"[\\:]")+"+"),i(i(Me+"|"+r(vn,Ct))+"*");var Ys=i(Me+"|"+r(vn,Ct,"[\\:\\@]"));return i(i(Me+"|"+r(vn,Ct,"[\\@]"))+"+"),i(i(Ys+"|"+r("[\\/\\?]",Fr))+"*"),{NOT_SCHEME:new RegExp(r("[^]",le,xe,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",vn,Ct),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",vn,Ct),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",vn,Ct),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",vn,Ct),"g"),NOT_QUERY:new RegExp(r("[^\\%]",vn,Ct,"[\\:\\@\\/\\?]",Fr),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",vn,Ct,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",vn,Ct),"g"),UNRESERVED:new RegExp(vn,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",vn,wn),"g"),PCT_ENCODED:new RegExp(Me,"g"),IPV4ADDRESS:new RegExp("^("+Nr+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ei+")"+i(i("\\%25|\\%(?!"+ze+"{2})")+"("+ro+")")+"?\\]?$")}}var u=c(!1),f=c(!0),d=function(){function Se(le,xe){var ze=[],Me=!0,St=!1,Ct=void 0;try{for(var wn=le[Symbol.iterator](),sr;!(Me=(sr=wn.next()).done)&&(ze.push(sr.value),!(xe&&ze.length===xe));Me=!0);}catch(Fr){St=!0,Ct=Fr}finally{try{!Me&&wn.return&&wn.return()}finally{if(St)throw Ct}}return ze}return function(le,xe){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return Se(le,xe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(Se){if(Array.isArray(Se)){for(var le=0,xe=Array(Se.length);le<Se.length;le++)xe[le]=Se[le];return xe}else return Array.from(Se)},m=2147483647,v=36,k=1,b=26,_=38,x=700,C=72,S=128,g="-",T=/^xn--/,P=/[^\0-\x7E]/,$=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=v-k,z=Math.floor,R=String.fromCharCode;function V(Se){throw new RangeError(F[Se])}function ie(Se,le){for(var xe=[],ze=Se.length;ze--;)xe[ze]=le(Se[ze]);return xe}function oe(Se,le){var xe=Se.split("@"),ze="";xe.length>1&&(ze=xe[0]+"@",Se=xe[1]),Se=Se.replace($,".");var Me=Se.split("."),St=ie(Me,le).join(".");return ze+St}function _e(Se){for(var le=[],xe=0,ze=Se.length;xe<ze;){var Me=Se.charCodeAt(xe++);if(Me>=55296&&Me<=56319&&xe<ze){var St=Se.charCodeAt(xe++);(St&64512)==56320?le.push(((Me&1023)<<10)+(St&1023)+65536):(le.push(Me),xe--)}else le.push(Me)}return le}var Ae=function(le){return String.fromCodePoint.apply(String,h(le))},Ie=function(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:v},ke=function(le,xe){return le+22+75*(le<26)-((xe!=0)<<5)},se=function(le,xe,ze){var Me=0;for(le=ze?z(le/x):le>>1,le+=z(le/xe);le>D*b>>1;Me+=v)le=z(le/D);return z(Me+(D+1)*le/(le+_))},ne=function(le){var xe=[],ze=le.length,Me=0,St=S,Ct=C,wn=le.lastIndexOf(g);wn<0&&(wn=0);for(var sr=0;sr<wn;++sr)le.charCodeAt(sr)>=128&&V("not-basic"),xe.push(le.charCodeAt(sr));for(var Fr=wn>0?wn+1:0;Fr<ze;){for(var vn=Me,qn=1,Nr=v;;Nr+=v){Fr>=ze&&V("invalid-input");var Kt=Ie(le.charCodeAt(Fr++));(Kt>=v||Kt>z((m-Me)/qn))&&V("overflow"),Me+=Kt*qn;var dr=Nr<=Ct?k:Nr>=Ct+b?b:Nr-Ct;if(Kt<dr)break;var gr=v-dr;qn>z(m/gr)&&V("overflow"),qn*=gr}var br=xe.length+1;Ct=se(Me-vn,br,vn==0),z(Me/br)>m-St&&V("overflow"),St+=z(Me/br),Me%=br,xe.splice(Me++,0,St)}return String.fromCodePoint.apply(String,xe)},J=function(le){var xe=[];le=_e(le);var ze=le.length,Me=S,St=0,Ct=C,wn=!0,sr=!1,Fr=void 0;try{for(var vn=le[Symbol.iterator](),qn;!(wn=(qn=vn.next()).done);wn=!0){var Nr=qn.value;Nr<128&&xe.push(R(Nr))}}catch(Xs){sr=!0,Fr=Xs}finally{try{!wn&&vn.return&&vn.return()}finally{if(sr)throw Fr}}var Kt=xe.length,dr=Kt;for(Kt&&xe.push(g);dr<ze;){var gr=m,br=!0,po=!1,$a=void 0;try{for(var Oa=le[Symbol.iterator](),Vl;!(br=(Vl=Oa.next()).done);br=!0){var _s=Vl.value;_s>=Me&&_s<gr&&(gr=_s)}}catch(Xs){po=!0,$a=Xs}finally{try{!br&&Oa.return&&Oa.return()}finally{if(po)throw $a}}var Ui=dr+1;gr-Me>z((m-St)/Ui)&&V("overflow"),St+=(gr-Me)*Ui,Me=gr;var Eo=!0,ei=!1,ro=void 0;try{for(var Ys=le[Symbol.iterator](),ag;!(Eo=(ag=Ys.next()).done);Eo=!0){var Ah=ag.value;if(Ah<Me&&++St>m&&V("overflow"),Ah==Me){for(var Bl=St,Ic=v;;Ic+=v){var ws=Ic<=Ct?k:Ic>=Ct+b?b:Ic-Ct;if(Bl<ws)break;var Ih=Bl-ws,Ph=v-ws;xe.push(R(ke(ws+Ih%Ph,0))),Bl=z(Ih/Ph)}xe.push(R(ke(Bl,0))),Ct=se(St,Ui,dr==Kt),St=0,++dr}}}catch(Xs){ei=!0,ro=Xs}finally{try{!Eo&&Ys.return&&Ys.return()}finally{if(ei)throw ro}}++St,++Me}return xe.join("")},j=function(le){return oe(le,function(xe){return T.test(xe)?ne(xe.slice(4).toLowerCase()):xe})},U=function(le){return oe(le,function(xe){return P.test(xe)?"xn--"+J(xe):xe})},ae={version:"2.1.0",ucs2:{decode:_e,encode:Ae},decode:ne,encode:J,toASCII:U,toUnicode:j},te={};function ue(Se){var le=Se.charCodeAt(0),xe=void 0;return le<16?xe="%0"+le.toString(16).toUpperCase():le<128?xe="%"+le.toString(16).toUpperCase():le<2048?xe="%"+(le>>6|192).toString(16).toUpperCase()+"%"+(le&63|128).toString(16).toUpperCase():xe="%"+(le>>12|224).toString(16).toUpperCase()+"%"+(le>>6&63|128).toString(16).toUpperCase()+"%"+(le&63|128).toString(16).toUpperCase(),xe}function ce(Se){for(var le="",xe=0,ze=Se.length;xe<ze;){var Me=parseInt(Se.substr(xe+1,2),16);if(Me<128)le+=String.fromCharCode(Me),xe+=3;else if(Me>=194&&Me<224){if(ze-xe>=6){var St=parseInt(Se.substr(xe+4,2),16);le+=String.fromCharCode((Me&31)<<6|St&63)}else le+=Se.substr(xe,6);xe+=6}else if(Me>=224){if(ze-xe>=9){var Ct=parseInt(Se.substr(xe+4,2),16),wn=parseInt(Se.substr(xe+7,2),16);le+=String.fromCharCode((Me&15)<<12|(Ct&63)<<6|wn&63)}else le+=Se.substr(xe,9);xe+=9}else le+=Se.substr(xe,3),xe+=3}return le}function fe(Se,le){function xe(ze){var Me=ce(ze);return Me.match(le.UNRESERVED)?Me:ze}return Se.scheme&&(Se.scheme=String(Se.scheme).replace(le.PCT_ENCODED,xe).toLowerCase().replace(le.NOT_SCHEME,"")),Se.userinfo!==void 0&&(Se.userinfo=String(Se.userinfo).replace(le.PCT_ENCODED,xe).replace(le.NOT_USERINFO,ue).replace(le.PCT_ENCODED,a)),Se.host!==void 0&&(Se.host=String(Se.host).replace(le.PCT_ENCODED,xe).toLowerCase().replace(le.NOT_HOST,ue).replace(le.PCT_ENCODED,a)),Se.path!==void 0&&(Se.path=String(Se.path).replace(le.PCT_ENCODED,xe).replace(Se.scheme?le.NOT_PATH:le.NOT_PATH_NOSCHEME,ue).replace(le.PCT_ENCODED,a)),Se.query!==void 0&&(Se.query=String(Se.query).replace(le.PCT_ENCODED,xe).replace(le.NOT_QUERY,ue).replace(le.PCT_ENCODED,a)),Se.fragment!==void 0&&(Se.fragment=String(Se.fragment).replace(le.PCT_ENCODED,xe).replace(le.NOT_FRAGMENT,ue).replace(le.PCT_ENCODED,a)),Se}function ve(Se){return Se.replace(/^0*(.*)/,"$1")||"0"}function B(Se,le){var xe=Se.match(le.IPV4ADDRESS)||[],ze=d(xe,2),Me=ze[1];return Me?Me.split(".").map(ve).join("."):Se}function Y(Se,le){var xe=Se.match(le.IPV6ADDRESS)||[],ze=d(xe,3),Me=ze[1],St=ze[2];if(Me){for(var Ct=Me.toLowerCase().split("::").reverse(),wn=d(Ct,2),sr=wn[0],Fr=wn[1],vn=Fr?Fr.split(":").map(ve):[],qn=sr.split(":").map(ve),Nr=le.IPV4ADDRESS.test(qn[qn.length-1]),Kt=Nr?7:8,dr=qn.length-Kt,gr=Array(Kt),br=0;br<Kt;++br)gr[br]=vn[br]||qn[dr+br]||"";Nr&&(gr[Kt-1]=B(gr[Kt-1],le));var po=gr.reduce(function(Ui,Eo,ei){if(!Eo||Eo==="0"){var ro=Ui[Ui.length-1];ro&&ro.index+ro.length===ei?ro.length++:Ui.push({index:ei,length:1})}return Ui},[]),$a=po.sort(function(Ui,Eo){return Eo.length-Ui.length})[0],Oa=void 0;if($a&&$a.length>1){var Vl=gr.slice(0,$a.index),_s=gr.slice($a.index+$a.length);Oa=Vl.join(":")+"::"+_s.join(":")}else Oa=gr.join(":");return St&&(Oa+="%"+St),Oa}else return Se}var E=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,M="".match(/(){0}/)[1]===void 0;function H(Se){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe={},ze=le.iri!==!1?f:u;le.reference==="suffix"&&(Se=(le.scheme?le.scheme+":":"")+"//"+Se);var Me=Se.match(E);if(Me){M?(xe.scheme=Me[1],xe.userinfo=Me[3],xe.host=Me[4],xe.port=parseInt(Me[5],10),xe.path=Me[6]||"",xe.query=Me[7],xe.fragment=Me[8],isNaN(xe.port)&&(xe.port=Me[5])):(xe.scheme=Me[1]||void 0,xe.userinfo=Se.indexOf("@")!==-1?Me[3]:void 0,xe.host=Se.indexOf("//")!==-1?Me[4]:void 0,xe.port=parseInt(Me[5],10),xe.path=Me[6]||"",xe.query=Se.indexOf("?")!==-1?Me[7]:void 0,xe.fragment=Se.indexOf("#")!==-1?Me[8]:void 0,isNaN(xe.port)&&(xe.port=Se.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Me[4]:void 0)),xe.host&&(xe.host=Y(B(xe.host,ze),ze)),xe.scheme===void 0&&xe.userinfo===void 0&&xe.host===void 0&&xe.port===void 0&&!xe.path&&xe.query===void 0?xe.reference="same-document":xe.scheme===void 0?xe.reference="relative":xe.fragment===void 0?xe.reference="absolute":xe.reference="uri",le.reference&&le.reference!=="suffix"&&le.reference!==xe.reference&&(xe.error=xe.error||"URI is not a "+le.reference+" reference.");var St=te[(le.scheme||xe.scheme||"").toLowerCase()];if(!le.unicodeSupport&&(!St||!St.unicodeSupport)){if(xe.host&&(le.domainHost||St&&St.domainHost))try{xe.host=ae.toASCII(xe.host.replace(ze.PCT_ENCODED,ce).toLowerCase())}catch(Ct){xe.error=xe.error||"Host's domain name can not be converted to ASCII via punycode: "+Ct}fe(xe,u)}else fe(xe,ze);St&&St.parse&&St.parse(xe,le)}else xe.error=xe.error||"URI can not be parsed.";return xe}function Q(Se,le){var xe=le.iri!==!1?f:u,ze=[];return Se.userinfo!==void 0&&(ze.push(Se.userinfo),ze.push("@")),Se.host!==void 0&&ze.push(Y(B(String(Se.host),xe),xe).replace(xe.IPV6ADDRESS,function(Me,St,Ct){return"["+St+(Ct?"%25"+Ct:"")+"]"})),(typeof Se.port=="number"||typeof Se.port=="string")&&(ze.push(":"),ze.push(String(Se.port))),ze.length?ze.join(""):void 0}var be=/^\.\.?\//,me=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,Le=/^\/?(?:.|\n)*?(?=\/|$)/;function tt(Se){for(var le=[];Se.length;)if(Se.match(be))Se=Se.replace(be,"");else if(Se.match(me))Se=Se.replace(me,"/");else if(Se.match(Fe))Se=Se.replace(Fe,"/"),le.pop();else if(Se==="."||Se==="..")Se="";else{var xe=Se.match(Le);if(xe){var ze=xe[0];Se=Se.slice(ze.length),le.push(ze)}else throw new Error("Unexpected dot segment condition")}return le.join("")}function Ke(Se){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},xe=le.iri?f:u,ze=[],Me=te[(le.scheme||Se.scheme||"").toLowerCase()];if(Me&&Me.serialize&&Me.serialize(Se,le),Se.host&&!xe.IPV6ADDRESS.test(Se.host)){if(le.domainHost||Me&&Me.domainHost)try{Se.host=le.iri?ae.toUnicode(Se.host):ae.toASCII(Se.host.replace(xe.PCT_ENCODED,ce).toLowerCase())}catch(wn){Se.error=Se.error||"Host's domain name can not be converted to "+(le.iri?"Unicode":"ASCII")+" via punycode: "+wn}}fe(Se,xe),le.reference!=="suffix"&&Se.scheme&&(ze.push(Se.scheme),ze.push(":"));var St=Q(Se,le);if(St!==void 0&&(le.reference!=="suffix"&&ze.push("//"),ze.push(St),Se.path&&Se.path.charAt(0)!=="/"&&ze.push("/")),Se.path!==void 0){var Ct=Se.path;!le.absolutePath&&(!Me||!Me.absolutePath)&&(Ct=tt(Ct)),St===void 0&&(Ct=Ct.replace(/^\/\//,"/%2F")),ze.push(Ct)}return Se.query!==void 0&&(ze.push("?"),ze.push(Se.query)),Se.fragment!==void 0&&(ze.push("#"),ze.push(Se.fragment)),ze.join("")}function et(Se,le){var xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ze=arguments[3],Me={};return ze||(Se=H(Ke(Se,xe),xe),le=H(Ke(le,xe),xe)),xe=xe||{},!xe.tolerant&&le.scheme?(Me.scheme=le.scheme,Me.userinfo=le.userinfo,Me.host=le.host,Me.port=le.port,Me.path=tt(le.path||""),Me.query=le.query):(le.userinfo!==void 0||le.host!==void 0||le.port!==void 0?(Me.userinfo=le.userinfo,Me.host=le.host,Me.port=le.port,Me.path=tt(le.path||""),Me.query=le.query):(le.path?(le.path.charAt(0)==="/"?Me.path=tt(le.path):((Se.userinfo!==void 0||Se.host!==void 0||Se.port!==void 0)&&!Se.path?Me.path="/"+le.path:Se.path?Me.path=Se.path.slice(0,Se.path.lastIndexOf("/")+1)+le.path:Me.path=le.path,Me.path=tt(Me.path)),Me.query=le.query):(Me.path=Se.path,le.query!==void 0?Me.query=le.query:Me.query=Se.query),Me.userinfo=Se.userinfo,Me.host=Se.host,Me.port=Se.port),Me.scheme=Se.scheme),Me.fragment=le.fragment,Me}function Qe(Se,le,xe){var ze=l({scheme:"null"},xe);return Ke(et(H(Se,ze),H(le,ze),ze,!0),ze)}function pt(Se,le){return typeof Se=="string"?Se=Ke(H(Se,le),le):o(Se)==="object"&&(Se=H(Ke(Se,le),le)),Se}function Rt(Se,le,xe){return typeof Se=="string"?Se=Ke(H(Se,xe),xe):o(Se)==="object"&&(Se=Ke(Se,xe)),typeof le=="string"?le=Ke(H(le,xe),xe):o(le)==="object"&&(le=Ke(le,xe)),Se===le}function Xt(Se,le){return Se&&Se.toString().replace(!le||!le.iri?u.ESCAPE:f.ESCAPE,ue)}function wt(Se,le){return Se&&Se.toString().replace(!le||!le.iri?u.PCT_ENCODED:f.PCT_ENCODED,ce)}var sn={scheme:"http",domainHost:!0,parse:function(le,xe){return le.host||(le.error=le.error||"HTTP URIs must have a host."),le},serialize:function(le,xe){var ze=String(le.scheme).toLowerCase()==="https";return(le.port===(ze?443:80)||le.port==="")&&(le.port=void 0),le.path||(le.path="/"),le}},mr={scheme:"https",domainHost:sn.domainHost,parse:sn.parse,serialize:sn.serialize};function gi(Se){return typeof Se.secure=="boolean"?Se.secure:String(Se.scheme).toLowerCase()==="wss"}var Lr={scheme:"ws",domainHost:!0,parse:function(le,xe){var ze=le;return ze.secure=gi(ze),ze.resourceName=(ze.path||"/")+(ze.query?"?"+ze.query:""),ze.path=void 0,ze.query=void 0,ze},serialize:function(le,xe){if((le.port===(gi(le)?443:80)||le.port==="")&&(le.port=void 0),typeof le.secure=="boolean"&&(le.scheme=le.secure?"wss":"ws",le.secure=void 0),le.resourceName){var ze=le.resourceName.split("?"),Me=d(ze,2),St=Me[0],Ct=Me[1];le.path=St&&St!=="/"?St:void 0,le.query=Ct,le.resourceName=void 0}return le.fragment=void 0,le}},ho={scheme:"wss",domainHost:Lr.domainHost,parse:Lr.parse,serialize:Lr.serialize},Tr={},jn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Vn="[0-9A-Fa-f]",Ea=i(i("%[EFef]"+Vn+"%"+Vn+Vn+"%"+Vn+Vn)+"|"+i("%[89A-Fa-f]"+Vn+"%"+Vn+Vn)+"|"+i("%"+Vn+Vn)),Ff="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Tu="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Tc=r(Tu,'[\\"\\\\]'),ks="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Wi=new RegExp(jn,"g"),Ac=new RegExp(Ea,"g"),t1=new RegExp(r("[^]",Ff,"[\\.]",'[\\"]',Tc),"g"),Nf=new RegExp(r("[^]",jn,ks),"g"),Au=Nf;function Th(Se){var le=ce(Se);return le.match(Wi)?le:Se}var og={scheme:"mailto",parse:function(le,xe){var ze=le,Me=ze.to=ze.path?ze.path.split(","):[];if(ze.path=void 0,ze.query){for(var St=!1,Ct={},wn=ze.query.split("&"),sr=0,Fr=wn.length;sr<Fr;++sr){var vn=wn[sr].split("=");switch(vn[0]){case"to":for(var qn=vn[1].split(","),Nr=0,Kt=qn.length;Nr<Kt;++Nr)Me.push(qn[Nr]);break;case"subject":ze.subject=wt(vn[1],xe);break;case"body":ze.body=wt(vn[1],xe);break;default:St=!0,Ct[wt(vn[0],xe)]=wt(vn[1],xe);break}}St&&(ze.headers=Ct)}ze.query=void 0;for(var dr=0,gr=Me.length;dr<gr;++dr){var br=Me[dr].split("@");if(br[0]=wt(br[0]),xe.unicodeSupport)br[1]=wt(br[1],xe).toLowerCase();else try{br[1]=ae.toASCII(wt(br[1],xe).toLowerCase())}catch(po){ze.error=ze.error||"Email address's domain name can not be converted to ASCII via punycode: "+po}Me[dr]=br.join("@")}return ze},serialize:function(le,xe){var ze=le,Me=s(le.to);if(Me){for(var St=0,Ct=Me.length;St<Ct;++St){var wn=String(Me[St]),sr=wn.lastIndexOf("@"),Fr=wn.slice(0,sr).replace(Ac,Th).replace(Ac,a).replace(t1,ue),vn=wn.slice(sr+1);try{vn=xe.iri?ae.toUnicode(vn):ae.toASCII(wt(vn,xe).toLowerCase())}catch(dr){ze.error=ze.error||"Email address's domain name can not be converted to "+(xe.iri?"Unicode":"ASCII")+" via punycode: "+dr}Me[St]=Fr+"@"+vn}ze.path=Me.join(",")}var qn=le.headers=le.headers||{};le.subject&&(qn.subject=le.subject),le.body&&(qn.body=le.body);var Nr=[];for(var Kt in qn)qn[Kt]!==Tr[Kt]&&Nr.push(Kt.replace(Ac,Th).replace(Ac,a).replace(Nf,ue)+"="+qn[Kt].replace(Ac,Th).replace(Ac,a).replace(Au,ue));return Nr.length&&(ze.query=Nr.join("&")),ze}},n1=/^([^\:]+)\:(.*)/,Iu={scheme:"urn",parse:function(le,xe){var ze=le.path&&le.path.match(n1),Me=le;if(ze){var St=xe.scheme||Me.scheme||"urn",Ct=ze[1].toLowerCase(),wn=ze[2],sr=St+":"+(xe.nid||Ct),Fr=te[sr];Me.nid=Ct,Me.nss=wn,Me.path=void 0,Fr&&(Me=Fr.parse(Me,xe))}else Me.error=Me.error||"URN can not be parsed.";return Me},serialize:function(le,xe){var ze=xe.scheme||le.scheme||"urn",Me=le.nid,St=ze+":"+(xe.nid||Me),Ct=te[St];Ct&&(le=Ct.serialize(le,xe));var wn=le,sr=le.nss;return wn.path=(Me||xe.nid)+":"+sr,wn}},r1=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mf={scheme:"urn:uuid",parse:function(le,xe){var ze=le;return ze.uuid=ze.nss,ze.nss=void 0,!xe.tolerant&&(!ze.uuid||!ze.uuid.match(r1))&&(ze.error=ze.error||"UUID is not valid."),ze},serialize:function(le,xe){var ze=le;return ze.nss=(le.uuid||"").toLowerCase(),ze}};te[sn.scheme]=sn,te[mr.scheme]=mr,te[Lr.scheme]=Lr,te[ho.scheme]=ho,te[og.scheme]=og,te[Iu.scheme]=Iu,te[Mf.scheme]=Mf,n.SCHEMES=te,n.pctEncChar=ue,n.pctDecChars=ce,n.parse=H,n.removeDotSegments=tt,n.serialize=Ke,n.resolveComponents=et,n.resolve=Qe,n.normalize=pt,n.equal=Rt,n.escapeComponent=Xt,n.unescapeComponent=wt,Object.defineProperty(n,"__esModule",{value:!0})})})(eP,eP.exports);var ZOe=eP.exports;Object.defineProperty(QO,"__esModule",{value:!0});const hie=ZOe;hie.code='require("ajv/dist/runtime/uri").default';QO.default=hie;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=hc;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=_n;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=v2,i=y2,o=Im,a=ns,s=_n,l=Co,c=b2,u=er,f=JOe,d=QO,h=(ke,se)=>new RegExp(ke,se);h.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],v=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),k={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function x(ke){var se,ne,J,j,U,ae,te,ue,ce,fe,ve,B,Y,E,M,H,Q,be,me,Fe,Le,tt,Ke,et,Qe;const pt=ke.strict,Rt=(se=ke.code)===null||se===void 0?void 0:se.optimize,Xt=Rt===!0||Rt===void 0?1:Rt||0,wt=(J=(ne=ke.code)===null||ne===void 0?void 0:ne.regExp)!==null&&J!==void 0?J:h,sn=(j=ke.uriResolver)!==null&&j!==void 0?j:d.default;return{strictSchema:(ae=(U=ke.strictSchema)!==null&&U!==void 0?U:pt)!==null&&ae!==void 0?ae:!0,strictNumbers:(ue=(te=ke.strictNumbers)!==null&&te!==void 0?te:pt)!==null&&ue!==void 0?ue:!0,strictTypes:(fe=(ce=ke.strictTypes)!==null&&ce!==void 0?ce:pt)!==null&&fe!==void 0?fe:"log",strictTuples:(B=(ve=ke.strictTuples)!==null&&ve!==void 0?ve:pt)!==null&&B!==void 0?B:"log",strictRequired:(E=(Y=ke.strictRequired)!==null&&Y!==void 0?Y:pt)!==null&&E!==void 0?E:!1,code:ke.code?{...ke.code,optimize:Xt,regExp:wt}:{optimize:Xt,regExp:wt},loopRequired:(M=ke.loopRequired)!==null&&M!==void 0?M:_,loopEnum:(H=ke.loopEnum)!==null&&H!==void 0?H:_,meta:(Q=ke.meta)!==null&&Q!==void 0?Q:!0,messages:(be=ke.messages)!==null&&be!==void 0?be:!0,inlineRefs:(me=ke.inlineRefs)!==null&&me!==void 0?me:!0,schemaId:(Fe=ke.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(Le=ke.addUsedSchema)!==null&&Le!==void 0?Le:!0,validateSchema:(tt=ke.validateSchema)!==null&&tt!==void 0?tt:!0,validateFormats:(Ke=ke.validateFormats)!==null&&Ke!==void 0?Ke:!0,unicodeRegExp:(et=ke.unicodeRegExp)!==null&&et!==void 0?et:!0,int32range:(Qe=ke.int32range)!==null&&Qe!==void 0?Qe:!0,uriResolver:sn}}class C{constructor(se={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,se=this.opts={...se,...x(se)};const{es5:ne,lines:J}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:v,es5:ne,lines:J}),this.logger=z(se.logger);const j=se.validateFormats;se.validateFormats=!1,this.RULES=(0,o.getRules)(),S.call(this,k,se,"NOT SUPPORTED"),S.call(this,b,se,"DEPRECATED","warn"),this._metaOpts=F.call(this),se.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),se.keywords&&$.call(this,se.keywords),typeof se.meta=="object"&&this.addMetaSchema(se.meta),T.call(this),se.validateFormats=j}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:se,meta:ne,schemaId:J}=this.opts;let j=f;J==="id"&&(j={...f},j.id=j.$id,delete j.$id),ne&&se&&this.addMetaSchema(j,j[J],!1)}defaultMeta(){const{meta:se,schemaId:ne}=this.opts;return this.opts.defaultMeta=typeof se=="object"?se[ne]||se:void 0}validate(se,ne){let J;if(typeof se=="string"){if(J=this.getSchema(se),!J)throw new Error(`no schema with key or ref "${se}"`)}else J=this.compile(se);const j=J(ne);return"$async"in J||(this.errors=J.errors),j}compile(se,ne){const J=this._addSchema(se,ne);return J.validate||this._compileSchemaEnv(J)}compileAsync(se,ne){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:J}=this.opts;return j.call(this,se,ne);async function j(fe,ve){await U.call(this,fe.$schema);const B=this._addSchema(fe,ve);return B.validate||ae.call(this,B)}async function U(fe){fe&&!this.getSchema(fe)&&await j.call(this,{$ref:fe},!0)}async function ae(fe){try{return this._compileSchemaEnv(fe)}catch(ve){if(!(ve instanceof i.default))throw ve;return te.call(this,ve),await ue.call(this,ve.missingSchema),ae.call(this,fe)}}function te({missingSchema:fe,missingRef:ve}){if(this.refs[fe])throw new Error(`AnySchema ${fe} is loaded but ${ve} cannot be resolved`)}async function ue(fe){const ve=await ce.call(this,fe);this.refs[fe]||await U.call(this,ve.$schema),this.refs[fe]||this.addSchema(ve,fe,ne)}async function ce(fe){const ve=this._loading[fe];if(ve)return ve;try{return await(this._loading[fe]=J(fe))}finally{delete this._loading[fe]}}}addSchema(se,ne,J,j=this.opts.validateSchema){if(Array.isArray(se)){for(const ae of se)this.addSchema(ae,void 0,J,j);return this}let U;if(typeof se=="object"){const{schemaId:ae}=this.opts;if(U=se[ae],U!==void 0&&typeof U!="string")throw new Error(`schema ${ae} must be string`)}return ne=(0,l.normalizeId)(ne||U),this._checkUnique(ne),this.schemas[ne]=this._addSchema(se,J,ne,j,!0),this}addMetaSchema(se,ne,J=this.opts.validateSchema){return this.addSchema(se,ne,!0,J),this}validateSchema(se,ne){if(typeof se=="boolean")return!0;let J;if(J=se.$schema,J!==void 0&&typeof J!="string")throw new Error("$schema must be a string");if(J=J||this.opts.defaultMeta||this.defaultMeta(),!J)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const j=this.validate(J,se);if(!j&&ne){const U="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(U);else throw new Error(U)}return j}getSchema(se){let ne;for(;typeof(ne=g.call(this,se))=="string";)se=ne;if(ne===void 0){const{schemaId:J}=this.opts,j=new a.SchemaEnv({schema:{},schemaId:J});if(ne=a.resolveSchema.call(this,j,se),!ne)return;this.refs[se]=ne}return ne.validate||this._compileSchemaEnv(ne)}removeSchema(se){if(se instanceof RegExp)return this._removeAllSchemas(this.schemas,se),this._removeAllSchemas(this.refs,se),this;switch(typeof se){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ne=g.call(this,se);return typeof ne=="object"&&this._cache.delete(ne.schema),delete this.schemas[se],delete this.refs[se],this}case"object":{const ne=se;this._cache.delete(ne);let J=se[this.opts.schemaId];return J&&(J=(0,l.normalizeId)(J),delete this.schemas[J],delete this.refs[J]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(se){for(const ne of se)this.addKeyword(ne);return this}addKeyword(se,ne){let J;if(typeof se=="string")J=se,typeof ne=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ne.keyword=J);else if(typeof se=="object"&&ne===void 0){if(ne=se,J=ne.keyword,Array.isArray(J)&&!J.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(V.call(this,J,ne),!ne)return(0,u.eachItem)(J,U=>ie.call(this,U)),this;_e.call(this,ne);const j={...ne,type:(0,c.getJSONTypes)(ne.type),schemaType:(0,c.getJSONTypes)(ne.schemaType)};return(0,u.eachItem)(J,j.type.length===0?U=>ie.call(this,U,j):U=>j.type.forEach(ae=>ie.call(this,U,j,ae))),this}getKeyword(se){const ne=this.RULES.all[se];return typeof ne=="object"?ne.definition:!!ne}removeKeyword(se){const{RULES:ne}=this;delete ne.keywords[se],delete ne.all[se];for(const J of ne.rules){const j=J.rules.findIndex(U=>U.keyword===se);j>=0&&J.rules.splice(j,1)}return this}addFormat(se,ne){return typeof ne=="string"&&(ne=new RegExp(ne)),this.formats[se]=ne,this}errorsText(se=this.errors,{separator:ne=", ",dataVar:J="data"}={}){return!se||se.length===0?"No errors":se.map(j=>`${J}${j.instancePath} ${j.message}`).reduce((j,U)=>j+ne+U)}$dataMetaSchema(se,ne){const J=this.RULES.all;se=JSON.parse(JSON.stringify(se));for(const j of ne){const U=j.split("/").slice(1);let ae=se;for(const te of U)ae=ae[te];for(const te in J){const ue=J[te];if(typeof ue!="object")continue;const{$data:ce}=ue.definition,fe=ae[te];ce&&fe&&(ae[te]=Ie(fe))}}return se}_removeAllSchemas(se,ne){for(const J in se){const j=se[J];(!ne||ne.test(J))&&(typeof j=="string"?delete se[J]:j&&!j.meta&&(this._cache.delete(j.schema),delete se[J]))}}_addSchema(se,ne,J,j=this.opts.validateSchema,U=this.opts.addUsedSchema){let ae;const{schemaId:te}=this.opts;if(typeof se=="object")ae=se[te];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof se!="boolean")throw new Error("schema must be object or boolean")}let ue=this._cache.get(se);if(ue!==void 0)return ue;J=(0,l.normalizeId)(ae||J);const ce=l.getSchemaRefs.call(this,se,J);return ue=new a.SchemaEnv({schema:se,schemaId:te,meta:ne,baseId:J,localRefs:ce}),this._cache.set(ue.schema,ue),U&&!J.startsWith("#")&&(J&&this._checkUnique(J),this.refs[J]=ue),j&&this.validateSchema(se,!0),ue}_checkUnique(se){if(this.schemas[se]||this.refs[se])throw new Error(`schema with key or id "${se}" already exists`)}_compileSchemaEnv(se){if(se.meta?this._compileMetaSchema(se):a.compileSchema.call(this,se),!se.validate)throw new Error("ajv implementation error");return se.validate}_compileMetaSchema(se){const ne=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,se)}finally{this.opts=ne}}}t.default=C,C.ValidationError=r.default,C.MissingRefError=i.default;function S(ke,se,ne,J="error"){for(const j in ke){const U=j;U in se&&this.logger[J](`${ne}: option ${j}. ${ke[U]}`)}}function g(ke){return ke=(0,l.normalizeId)(ke),this.schemas[ke]||this.refs[ke]}function T(){const ke=this.opts.schemas;if(ke)if(Array.isArray(ke))this.addSchema(ke);else for(const se in ke)this.addSchema(ke[se],se)}function P(){for(const ke in this.opts.formats){const se=this.opts.formats[ke];se&&this.addFormat(ke,se)}}function $(ke){if(Array.isArray(ke)){this.addVocabulary(ke);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const se in ke){const ne=ke[se];ne.keyword||(ne.keyword=se),this.addKeyword(ne)}}function F(){const ke={...this.opts};for(const se of m)delete ke[se];return ke}const D={log(){},warn(){},error(){}};function z(ke){if(ke===!1)return D;if(ke===void 0)return console;if(ke.log&&ke.warn&&ke.error)return ke;throw new Error("logger must implement log, warn and error methods")}const R=/^[a-z_$][a-z0-9_$:-]*$/i;function V(ke,se){const{RULES:ne}=this;if((0,u.eachItem)(ke,J=>{if(ne.keywords[J])throw new Error(`Keyword ${J} is already defined`);if(!R.test(J))throw new Error(`Keyword ${J} has invalid name`)}),!!se&&se.$data&&!("code"in se||"validate"in se))throw new Error('$data keyword must have "code" or "validate" function')}function ie(ke,se,ne){var J;const j=se==null?void 0:se.post;if(ne&&j)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:U}=this;let ae=j?U.post:U.rules.find(({type:ue})=>ue===ne);if(ae||(ae={type:ne,rules:[]},U.rules.push(ae)),U.keywords[ke]=!0,!se)return;const te={keyword:ke,definition:{...se,type:(0,c.getJSONTypes)(se.type),schemaType:(0,c.getJSONTypes)(se.schemaType)}};se.before?oe.call(this,ae,te,se.before):ae.rules.push(te),U.all[ke]=te,(J=se.implements)===null||J===void 0||J.forEach(ue=>this.addKeyword(ue))}function oe(ke,se,ne){const J=ke.rules.findIndex(j=>j.keyword===ne);J>=0?ke.rules.splice(J,0,se):(ke.rules.push(se),this.logger.warn(`rule ${ne} is not defined`))}function _e(ke){let{metaSchema:se}=ke;se!==void 0&&(ke.$data&&this.opts.$data&&(se=Ie(se)),ke.validateSchema=this.compile(se,!0))}const Ae={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ie(ke){return{anyOf:[ke,Ae]}}})(Bre);var eD={},tD={},nD={};Object.defineProperty(nD,"__esModule",{value:!0});const QOe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};nD.default=QOe;var Pm={};Object.defineProperty(Pm,"__esModule",{value:!0});Pm.callRef=Pm.getValidate=void 0;const eDe=y2,RH=Tn,Ya=_n,Mg=xu,jH=ns,l9=er,tDe={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:n,it:r}=t,{baseId:i,schemaEnv:o,validateName:a,opts:s,self:l}=r,{root:c}=o;if((n==="#"||n==="#/")&&i===c.baseId)return f();const u=jH.resolveRef.call(l,c,i,n);if(u===void 0)throw new eDe.default(r.opts.uriResolver,i,n);if(u instanceof jH.SchemaEnv)return d(u);return h(u);function f(){if(o===c)return C8(t,a,o,o.$async);const m=e.scopeValue("root",{ref:c});return C8(t,(0,Ya._)`${m}.validate`,c,c.$async)}function d(m){const v=pie(t,m);C8(t,v,m,m.$async)}function h(m){const v=e.scopeValue("schema",s.code.source===!0?{ref:m,code:(0,Ya.stringify)(m)}:{ref:m}),k=e.name("valid"),b=t.subschema({schema:m,dataTypes:[],schemaPath:Ya.nil,topSchemaRef:v,errSchemaPath:n},k);t.mergeEvaluated(b),t.ok(k)}}};function pie(t,e){const{gen:n}=t;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,Ya._)`${n.scopeValue("wrapper",{ref:e})}.validate`}Pm.getValidate=pie;function C8(t,e,n,r){const{gen:i,it:o}=t,{allErrors:a,schemaEnv:s,opts:l}=o,c=l.passContext?Mg.default.this:Ya.nil;r?u():f();function u(){if(!s.$async)throw new Error("async schema referenced by sync schema");const m=i.let("valid");i.try(()=>{i.code((0,Ya._)`await ${(0,RH.callValidateCode)(t,e,c)}`),h(e),a||i.assign(m,!0)},v=>{i.if((0,Ya._)`!(${v} instanceof ${o.ValidationError})`,()=>i.throw(v)),d(v),a||i.assign(m,!1)}),t.ok(m)}function f(){t.result((0,RH.callValidateCode)(t,e,c),()=>h(e),()=>d(e))}function d(m){const v=(0,Ya._)`${m}.errors`;i.assign(Mg.default.vErrors,(0,Ya._)`${Mg.default.vErrors} === null ? ${v} : ${Mg.default.vErrors}.concat(${v})`),i.assign(Mg.default.errors,(0,Ya._)`${Mg.default.vErrors}.length`)}function h(m){var v;if(!o.opts.unevaluated)return;const k=(v=n==null?void 0:n.validate)===null||v===void 0?void 0:v.evaluated;if(o.props!==!0)if(k&&!k.dynamicProps)k.props!==void 0&&(o.props=l9.mergeEvaluated.props(i,k.props,o.props));else{const b=i.var("props",(0,Ya._)`${m}.evaluated.props`);o.props=l9.mergeEvaluated.props(i,b,o.props,Ya.Name)}if(o.items!==!0)if(k&&!k.dynamicItems)k.items!==void 0&&(o.items=l9.mergeEvaluated.items(i,k.items,o.items));else{const b=i.var("items",(0,Ya._)`${m}.evaluated.items`);o.items=l9.mergeEvaluated.items(i,b,o.items,Ya.Name)}}}Pm.callRef=C8;Pm.default=tDe;Object.defineProperty(tD,"__esModule",{value:!0});const nDe=nD,rDe=Pm,iDe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",nDe.default,rDe.default];tD.default=iDe;var rD={},iD={};Object.defineProperty(iD,"__esModule",{value:!0});const sk=_n,od=sk.operators,lk={maximum:{okStr:"<=",ok:od.LTE,fail:od.GT},minimum:{okStr:">=",ok:od.GTE,fail:od.LT},exclusiveMaximum:{okStr:"<",ok:od.LT,fail:od.GTE},exclusiveMinimum:{okStr:">",ok:od.GT,fail:od.LTE}},oDe={message:({keyword:t,schemaCode:e})=>(0,sk.str)`must be ${lk[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,sk._)`{comparison: ${lk[t].okStr}, limit: ${e}}`},aDe={keyword:Object.keys(lk),type:"number",schemaType:"number",$data:!0,error:oDe,code(t){const{keyword:e,data:n,schemaCode:r}=t;t.fail$data((0,sk._)`${n} ${lk[e].fail} ${r} || isNaN(${n})`)}};iD.default=aDe;var oD={};Object.defineProperty(oD,"__esModule",{value:!0});const dy=_n,sDe={message:({schemaCode:t})=>(0,dy.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,dy._)`{multipleOf: ${t}}`},lDe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:sDe,code(t){const{gen:e,data:n,schemaCode:r,it:i}=t,o=i.opts.multipleOfPrecision,a=e.let("res"),s=o?(0,dy._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,dy._)`${a} !== parseInt(${a})`;t.fail$data((0,dy._)`(${r} === 0 || (${a} = ${n}/${r}, ${s}))`)}};oD.default=lDe;var aD={},sD={};Object.defineProperty(sD,"__esModule",{value:!0});function mie(t){const e=t.length;let n=0,r=0,i;for(;r<e;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<e&&(i=t.charCodeAt(r),(i&64512)===56320&&r++);return n}sD.default=mie;mie.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(aD,"__esModule",{value:!0});const Dp=_n,cDe=er,uDe=sD,fDe={message({keyword:t,schemaCode:e}){const n=t==="maxLength"?"more":"fewer";return(0,Dp.str)`must NOT have ${n} than ${e} characters`},params:({schemaCode:t})=>(0,Dp._)`{limit: ${t}}`},dDe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:fDe,code(t){const{keyword:e,data:n,schemaCode:r,it:i}=t,o=e==="maxLength"?Dp.operators.GT:Dp.operators.LT,a=i.opts.unicode===!1?(0,Dp._)`${n}.length`:(0,Dp._)`${(0,cDe.useFunc)(t.gen,uDe.default)}(${n})`;t.fail$data((0,Dp._)`${a} ${o} ${r}`)}};aD.default=dDe;var lD={};Object.defineProperty(lD,"__esModule",{value:!0});const hDe=Tn,ck=_n,pDe={message:({schemaCode:t})=>(0,ck.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,ck._)`{pattern: ${t}}`},mDe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:pDe,code(t){const{data:e,$data:n,schema:r,schemaCode:i,it:o}=t,a=o.opts.unicodeRegExp?"u":"",s=n?(0,ck._)`(new RegExp(${i}, ${a}))`:(0,hDe.usePattern)(t,r);t.fail$data((0,ck._)`!${s}.test(${e})`)}};lD.default=mDe;var cD={};Object.defineProperty(cD,"__esModule",{value:!0});const hy=_n,gDe={message({keyword:t,schemaCode:e}){const n=t==="maxProperties"?"more":"fewer";return(0,hy.str)`must NOT have ${n} than ${e} properties`},params:({schemaCode:t})=>(0,hy._)`{limit: ${t}}`},bDe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:gDe,code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxProperties"?hy.operators.GT:hy.operators.LT;t.fail$data((0,hy._)`Object.keys(${n}).length ${i} ${r}`)}};cD.default=bDe;var uD={};Object.defineProperty(uD,"__esModule",{value:!0});const ov=Tn,py=_n,vDe=er,yDe={message:({params:{missingProperty:t}})=>(0,py.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,py._)`{missingProperty: ${t}}`},kDe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:yDe,code(t){const{gen:e,schema:n,schemaCode:r,data:i,$data:o,it:a}=t,{opts:s}=a;if(!o&&n.length===0)return;const l=n.length>=s.loopRequired;if(a.allErrors?c():u(),s.strictRequired){const h=t.parentSchema.properties,{definedProperties:m}=t.it;for(const v of n)if((h==null?void 0:h[v])===void 0&&!m.has(v)){const k=a.schemaEnv.baseId+a.errSchemaPath,b=`required property "${v}" is not defined at "${k}" (strictRequired)`;(0,vDe.checkStrictMode)(a,b,a.opts.strictRequired)}}function c(){if(l||o)t.block$data(py.nil,f);else for(const h of n)(0,ov.checkReportMissingProp)(t,h)}function u(){const h=e.let("missing");if(l||o){const m=e.let("valid",!0);t.block$data(m,()=>d(h,m)),t.ok(m)}else e.if((0,ov.checkMissingProp)(t,n,h)),(0,ov.reportMissingProp)(t,h),e.else()}function f(){e.forOf("prop",r,h=>{t.setParams({missingProperty:h}),e.if((0,ov.noPropertyInData)(e,i,h,s.ownProperties),()=>t.error())})}function d(h,m){t.setParams({missingProperty:h}),e.forOf(h,r,()=>{e.assign(m,(0,ov.propertyInData)(e,i,h,s.ownProperties)),e.if((0,py.not)(m),()=>{t.error(),e.break()})},py.nil)}}};uD.default=kDe;var fD={};Object.defineProperty(fD,"__esModule",{value:!0});const my=_n,_De={message({keyword:t,schemaCode:e}){const n=t==="maxItems"?"more":"fewer";return(0,my.str)`must NOT have ${n} than ${e} items`},params:({schemaCode:t})=>(0,my._)`{limit: ${t}}`},wDe={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:_De,code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxItems"?my.operators.GT:my.operators.LT;t.fail$data((0,my._)`${n}.length ${i} ${r}`)}};fD.default=wDe;var dD={},k2={};Object.defineProperty(k2,"__esModule",{value:!0});const gie=XO;gie.code='require("ajv/dist/runtime/equal").default';k2.default=gie;Object.defineProperty(dD,"__esModule",{value:!0});const pC=b2,bo=_n,SDe=er,xDe=k2,CDe={message:({params:{i:t,j:e}})=>(0,bo.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,bo._)`{i: ${t}, j: ${e}}`},TDe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:CDe,code(t){const{gen:e,data:n,$data:r,schema:i,parentSchema:o,schemaCode:a,it:s}=t;if(!r&&!i)return;const l=e.let("valid"),c=o.items?(0,pC.getSchemaTypes)(o.items):[];t.block$data(l,u,(0,bo._)`${a} === false`),t.ok(l);function u(){const m=e.let("i",(0,bo._)`${n}.length`),v=e.let("j");t.setParams({i:m,j:v}),e.assign(l,!0),e.if((0,bo._)`${m} > 1`,()=>(f()?d:h)(m,v))}function f(){return c.length>0&&!c.some(m=>m==="object"||m==="array")}function d(m,v){const k=e.name("item"),b=(0,pC.checkDataTypes)(c,k,s.opts.strictNumbers,pC.DataType.Wrong),_=e.const("indices",(0,bo._)`{}`);e.for((0,bo._)`;${m}--;`,()=>{e.let(k,(0,bo._)`${n}[${m}]`),e.if(b,(0,bo._)`continue`),c.length>1&&e.if((0,bo._)`typeof ${k} == "string"`,(0,bo._)`${k} += "_"`),e.if((0,bo._)`typeof ${_}[${k}] == "number"`,()=>{e.assign(v,(0,bo._)`${_}[${k}]`),t.error(),e.assign(l,!1).break()}).code((0,bo._)`${_}[${k}] = ${m}`)})}function h(m,v){const k=(0,SDe.useFunc)(e,xDe.default),b=e.name("outer");e.label(b).for((0,bo._)`;${m}--;`,()=>e.for((0,bo._)`${v} = ${m}; ${v}--;`,()=>e.if((0,bo._)`${k}(${n}[${m}], ${n}[${v}])`,()=>{t.error(),e.assign(l,!1).break(b)})))}}};dD.default=TDe;var hD={};Object.defineProperty(hD,"__esModule",{value:!0});const tP=_n,ADe=er,IDe=k2,PDe={message:"must be equal to constant",params:({schemaCode:t})=>(0,tP._)`{allowedValue: ${t}}`},EDe={keyword:"const",$data:!0,error:PDe,code(t){const{gen:e,data:n,$data:r,schemaCode:i,schema:o}=t;r||o&&typeof o=="object"?t.fail$data((0,tP._)`!${(0,ADe.useFunc)(e,IDe.default)}(${n}, ${i})`):t.fail((0,tP._)`${o} !== ${n}`)}};hD.default=EDe;var pD={};Object.defineProperty(pD,"__esModule",{value:!0});const Dv=_n,$De=er,ODe=k2,DDe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Dv._)`{allowedValues: ${t}}`},LDe={keyword:"enum",schemaType:"array",$data:!0,error:DDe,code(t){const{gen:e,data:n,$data:r,schema:i,schemaCode:o,it:a}=t;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const s=i.length>=a.opts.loopEnum;let l;const c=()=>l??(l=(0,$De.useFunc)(e,ODe.default));let u;if(s||r)u=e.let("valid"),t.block$data(u,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const h=e.const("vSchema",o);u=(0,Dv.or)(...i.map((m,v)=>d(h,v)))}t.pass(u);function f(){e.assign(u,!1),e.forOf("v",o,h=>e.if((0,Dv._)`${c()}(${n}, ${h})`,()=>e.assign(u,!0).break()))}function d(h,m){const v=i[m];return typeof v=="object"&&v!==null?(0,Dv._)`${c()}(${n}, ${h}[${m}])`:(0,Dv._)`${n} === ${v}`}}};pD.default=LDe;Object.defineProperty(rD,"__esModule",{value:!0});const FDe=iD,NDe=oD,MDe=aD,zDe=lD,RDe=cD,jDe=uD,VDe=fD,BDe=dD,HDe=hD,WDe=pD,UDe=[FDe.default,NDe.default,MDe.default,zDe.default,RDe.default,jDe.default,VDe.default,BDe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},HDe.default,WDe.default];rD.default=UDe;var mD={},Rb={};Object.defineProperty(Rb,"__esModule",{value:!0});Rb.validateAdditionalItems=void 0;const Lp=_n,nP=er,GDe={message:({params:{len:t}})=>(0,Lp.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Lp._)`{limit: ${t}}`},qDe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:GDe,code(t){const{parentSchema:e,it:n}=t,{items:r}=e;if(!Array.isArray(r)){(0,nP.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}bie(t,r)}};function bie(t,e){const{gen:n,schema:r,data:i,keyword:o,it:a}=t;a.items=!0;const s=n.const("len",(0,Lp._)`${i}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,Lp._)`${s} <= ${e.length}`);else if(typeof r=="object"&&!(0,nP.alwaysValidSchema)(a,r)){const c=n.var("valid",(0,Lp._)`${s} <= ${e.length}`);n.if((0,Lp.not)(c),()=>l(c)),t.ok(c)}function l(c){n.forRange("i",e.length,s,u=>{t.subschema({keyword:o,dataProp:u,dataPropType:nP.Type.Num},c),a.allErrors||n.if((0,Lp.not)(c),()=>n.break())})}}Rb.validateAdditionalItems=bie;Rb.default=qDe;var gD={},jb={};Object.defineProperty(jb,"__esModule",{value:!0});jb.validateTuple=void 0;const VH=_n,T8=er,YDe=Tn,XDe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:n}=t;if(Array.isArray(e))return vie(t,"additionalItems",e);n.items=!0,!(0,T8.alwaysValidSchema)(n,e)&&t.ok((0,YDe.validateArray)(t))}};function vie(t,e,n=t.schema){const{gen:r,parentSchema:i,data:o,keyword:a,it:s}=t;u(i),s.opts.unevaluated&&n.length&&s.items!==!0&&(s.items=T8.mergeEvaluated.items(r,n.length,s.items));const l=r.name("valid"),c=r.const("len",(0,VH._)`${o}.length`);n.forEach((f,d)=>{(0,T8.alwaysValidSchema)(s,f)||(r.if((0,VH._)`${c} > ${d}`,()=>t.subschema({keyword:a,schemaProp:d,dataProp:d},l)),t.ok(l))});function u(f){const{opts:d,errSchemaPath:h}=s,m=n.length,v=m===f.minItems&&(m===f.maxItems||f[e]===!1);if(d.strictTuples&&!v){const k=`"${a}" is ${m}-tuple, but minItems or maxItems/${e} are not specified or different at path "${h}"`;(0,T8.checkStrictMode)(s,k,d.strictTuples)}}}jb.validateTuple=vie;jb.default=XDe;Object.defineProperty(gD,"__esModule",{value:!0});const KDe=jb,JDe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,KDe.validateTuple)(t,"items")};gD.default=JDe;var bD={};Object.defineProperty(bD,"__esModule",{value:!0});const BH=_n,ZDe=er,QDe=Tn,eLe=Rb,tLe={message:({params:{len:t}})=>(0,BH.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,BH._)`{limit: ${t}}`},nLe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:tLe,code(t){const{schema:e,parentSchema:n,it:r}=t,{prefixItems:i}=n;r.items=!0,!(0,ZDe.alwaysValidSchema)(r,e)&&(i?(0,eLe.validateAdditionalItems)(t,i):t.ok((0,QDe.validateArray)(t)))}};bD.default=nLe;var vD={};Object.defineProperty(vD,"__esModule",{value:!0});const hl=_n,c9=er,rLe={message:({params:{min:t,max:e}})=>e===void 0?(0,hl.str)`must contain at least ${t} valid item(s)`:(0,hl.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,hl._)`{minContains: ${t}}`:(0,hl._)`{minContains: ${t}, maxContains: ${e}}`},iLe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:rLe,code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:o}=t;let a,s;const{minContains:l,maxContains:c}=r;o.opts.next?(a=l===void 0?1:l,s=c):a=1;const u=e.const("len",(0,hl._)`${i}.length`);if(t.setParams({min:a,max:s}),s===void 0&&a===0){(0,c9.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&a>s){(0,c9.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,c9.alwaysValidSchema)(o,n)){let v=(0,hl._)`${u} >= ${a}`;s!==void 0&&(v=(0,hl._)`${v} && ${u} <= ${s}`),t.pass(v);return}o.items=!0;const f=e.name("valid");s===void 0&&a===1?h(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),s!==void 0&&e.if((0,hl._)`${i}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){const v=e.name("_valid"),k=e.let("count",0);h(v,()=>e.if(v,()=>m(k)))}function h(v,k){e.forRange("i",0,u,b=>{t.subschema({keyword:"contains",dataProp:b,dataPropType:c9.Type.Num,compositeRule:!0},v),k()})}function m(v){e.code((0,hl._)`${v}++`),s===void 0?e.if((0,hl._)`${v} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,hl._)`${v} > ${s}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,hl._)`${v} >= ${a}`,()=>e.assign(f,!0)))}}};vD.default=iLe;var yie={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=_n,n=er,r=Tn;t.error={message:({params:{property:l,depsCount:c,deps:u}})=>{const f=c===1?"property":"properties";return(0,e.str)`must have ${f} ${u} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:u,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${c},
    deps: ${u}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,u]=o(l);a(l,c),s(l,u)}};function o({schema:l}){const c={},u={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?c:u;d[f]=l[f]}return[c,u]}function a(l,c=l.schema){const{gen:u,data:f,it:d}=l;if(Object.keys(c).length===0)return;const h=u.let("missing");for(const m in c){const v=c[m];if(v.length===0)continue;const k=(0,r.propertyInData)(u,f,m,d.opts.ownProperties);l.setParams({property:m,depsCount:v.length,deps:v.join(", ")}),d.allErrors?u.if(k,()=>{for(const b of v)(0,r.checkReportMissingProp)(l,b)}):(u.if((0,e._)`${k} && (${(0,r.checkMissingProp)(l,v,h)})`),(0,r.reportMissingProp)(l,h),u.else())}}t.validatePropertyDeps=a;function s(l,c=l.schema){const{gen:u,data:f,keyword:d,it:h}=l,m=u.name("valid");for(const v in c)(0,n.alwaysValidSchema)(h,c[v])||(u.if((0,r.propertyInData)(u,f,v,h.opts.ownProperties),()=>{const k=l.subschema({keyword:d,schemaProp:v},m);l.mergeValidEvaluated(k,m)},()=>u.var(m,!0)),l.ok(m))}t.validateSchemaDeps=s,t.default=i})(yie);var yD={};Object.defineProperty(yD,"__esModule",{value:!0});const kie=_n,oLe=er,aLe={message:"property name must be valid",params:({params:t})=>(0,kie._)`{propertyName: ${t.propertyName}}`},sLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:aLe,code(t){const{gen:e,schema:n,data:r,it:i}=t;if((0,oLe.alwaysValidSchema)(i,n))return;const o=e.name("valid");e.forIn("key",r,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},o),e.if((0,kie.not)(o),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(o)}};yD.default=sLe;var i_={};Object.defineProperty(i_,"__esModule",{value:!0});const u9=Tn,Zl=_n,lLe=xu,f9=er,cLe={message:"must NOT have additional properties",params:({params:t})=>(0,Zl._)`{additionalProperty: ${t.additionalProperty}}`},uLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:cLe,code(t){const{gen:e,schema:n,parentSchema:r,data:i,errsCount:o,it:a}=t;if(!o)throw new Error("ajv implementation error");const{allErrors:s,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,f9.alwaysValidSchema)(a,n))return;const c=(0,u9.allSchemaProperties)(r.properties),u=(0,u9.allSchemaProperties)(r.patternProperties);f(),t.ok((0,Zl._)`${o} === ${lLe.default.errors}`);function f(){e.forIn("key",i,k=>{!c.length&&!u.length?m(k):e.if(d(k),()=>m(k))})}function d(k){let b;if(c.length>8){const _=(0,f9.schemaRefOrVal)(a,r.properties,"properties");b=(0,u9.isOwnProperty)(e,_,k)}else c.length?b=(0,Zl.or)(...c.map(_=>(0,Zl._)`${k} === ${_}`)):b=Zl.nil;return u.length&&(b=(0,Zl.or)(b,...u.map(_=>(0,Zl._)`${(0,u9.usePattern)(t,_)}.test(${k})`))),(0,Zl.not)(b)}function h(k){e.code((0,Zl._)`delete ${i}[${k}]`)}function m(k){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){h(k);return}if(n===!1){t.setParams({additionalProperty:k}),t.error(),s||e.break();return}if(typeof n=="object"&&!(0,f9.alwaysValidSchema)(a,n)){const b=e.name("valid");l.removeAdditional==="failing"?(v(k,b,!1),e.if((0,Zl.not)(b),()=>{t.reset(),h(k)})):(v(k,b),s||e.if((0,Zl.not)(b),()=>e.break()))}}function v(k,b,_){const x={keyword:"additionalProperties",dataProp:k,dataPropType:f9.Type.Str};_===!1&&Object.assign(x,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(x,b)}}};i_.default=uLe;var kD={};Object.defineProperty(kD,"__esModule",{value:!0});const fLe=hc,HH=Tn,mC=er,WH=i_,dLe={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:o}=t;o.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&WH.default.code(new fLe.KeywordCxt(o,WH.default,"additionalProperties"));const a=(0,HH.allSchemaProperties)(n);for(const f of a)o.definedProperties.add(f);o.opts.unevaluated&&a.length&&o.props!==!0&&(o.props=mC.mergeEvaluated.props(e,(0,mC.toHash)(a),o.props));const s=a.filter(f=>!(0,mC.alwaysValidSchema)(o,n[f]));if(s.length===0)return;const l=e.name("valid");for(const f of s)c(f)?u(f):(e.if((0,HH.propertyInData)(e,i,f,o.opts.ownProperties)),u(f),o.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function c(f){return o.opts.useDefaults&&!o.compositeRule&&n[f].default!==void 0}function u(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};kD.default=dLe;var _D={};Object.defineProperty(_D,"__esModule",{value:!0});const UH=Tn,d9=_n,GH=er,qH=er,hLe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,data:r,parentSchema:i,it:o}=t,{opts:a}=o,s=(0,UH.allSchemaProperties)(n),l=s.filter(v=>(0,GH.alwaysValidSchema)(o,n[v]));if(s.length===0||l.length===s.length&&(!o.opts.unevaluated||o.props===!0))return;const c=a.strictSchema&&!a.allowMatchingProperties&&i.properties,u=e.name("valid");o.props!==!0&&!(o.props instanceof d9.Name)&&(o.props=(0,qH.evaluatedPropsToName)(e,o.props));const{props:f}=o;d();function d(){for(const v of s)c&&h(v),o.allErrors?m(v):(e.var(u,!0),m(v),e.if(u))}function h(v){for(const k in c)new RegExp(v).test(k)&&(0,GH.checkStrictMode)(o,`property ${k} matches pattern ${v} (use allowMatchingProperties)`)}function m(v){e.forIn("key",r,k=>{e.if((0,d9._)`${(0,UH.usePattern)(t,v)}.test(${k})`,()=>{const b=l.includes(v);b||t.subschema({keyword:"patternProperties",schemaProp:v,dataProp:k,dataPropType:qH.Type.Str},u),o.opts.unevaluated&&f!==!0?e.assign((0,d9._)`${f}[${k}]`,!0):!b&&!o.allErrors&&e.if((0,d9.not)(u),()=>e.break())})})}}};_D.default=hLe;var wD={};Object.defineProperty(wD,"__esModule",{value:!0});const pLe=er,mLe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:n,it:r}=t;if((0,pLe.alwaysValidSchema)(r,n)){t.fail();return}const i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};wD.default=mLe;var SD={};Object.defineProperty(SD,"__esModule",{value:!0});const gLe=Tn,bLe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:gLe.validateUnion,error:{message:"must match a schema in anyOf"}};SD.default=bLe;var xD={};Object.defineProperty(xD,"__esModule",{value:!0});const A8=_n,vLe=er,yLe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,A8._)`{passingSchemas: ${t.passing}}`},kLe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:yLe,code(t){const{gen:e,schema:n,parentSchema:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const o=n,a=e.let("valid",!1),s=e.let("passing",null),l=e.name("_valid");t.setParams({passing:s}),e.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){o.forEach((u,f)=>{let d;(0,vLe.alwaysValidSchema)(i,u)?e.var(l,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,A8._)`${l} && ${a}`).assign(a,!1).assign(s,(0,A8._)`[${s}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(s,f),d&&t.mergeEvaluated(d,A8.Name)})})}}};xD.default=kLe;var CD={};Object.defineProperty(CD,"__esModule",{value:!0});const _Le=er,wLe={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:n,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=e.name("valid");n.forEach((o,a)=>{if((0,_Le.alwaysValidSchema)(r,o))return;const s=t.subschema({keyword:"allOf",schemaProp:a},i);t.ok(i),t.mergeEvaluated(s)})}};CD.default=wLe;var TD={};Object.defineProperty(TD,"__esModule",{value:!0});const uk=_n,_ie=er,SLe={message:({params:t})=>(0,uk.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,uk._)`{failingKeyword: ${t.ifClause}}`},xLe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:SLe,code(t){const{gen:e,parentSchema:n,it:r}=t;n.then===void 0&&n.else===void 0&&(0,_ie.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=YH(r,"then"),o=YH(r,"else");if(!i&&!o)return;const a=e.let("valid",!0),s=e.name("_valid");if(l(),t.reset(),i&&o){const u=e.let("ifClause");t.setParams({ifClause:u}),e.if(s,c("then",u),c("else",u))}else i?e.if(s,c("then")):e.if((0,uk.not)(s),c("else"));t.pass(a,()=>t.error(!0));function l(){const u=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);t.mergeEvaluated(u)}function c(u,f){return()=>{const d=t.subschema({keyword:u},s);e.assign(a,s),t.mergeValidEvaluated(d,a),f?e.assign(f,(0,uk._)`${u}`):t.setParams({ifClause:u})}}}};function YH(t,e){const n=t.schema[e];return n!==void 0&&!(0,_ie.alwaysValidSchema)(t,n)}TD.default=xLe;var AD={};Object.defineProperty(AD,"__esModule",{value:!0});const CLe=er,TLe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:n}){e.if===void 0&&(0,CLe.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};AD.default=TLe;Object.defineProperty(mD,"__esModule",{value:!0});const ALe=Rb,ILe=gD,PLe=jb,ELe=bD,$Le=vD,OLe=yie,DLe=yD,LLe=i_,FLe=kD,NLe=_D,MLe=wD,zLe=SD,RLe=xD,jLe=CD,VLe=TD,BLe=AD;function HLe(t=!1){const e=[MLe.default,zLe.default,RLe.default,jLe.default,VLe.default,BLe.default,DLe.default,LLe.default,OLe.default,FLe.default,NLe.default];return t?e.push(ILe.default,ELe.default):e.push(ALe.default,PLe.default),e.push($Le.default),e}mD.default=HLe;var ID={},PD={};Object.defineProperty(PD,"__esModule",{value:!0});const $i=_n,WLe={message:({schemaCode:t})=>(0,$i.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,$i._)`{format: ${t}}`},ULe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:WLe,code(t,e){const{gen:n,data:r,$data:i,schema:o,schemaCode:a,it:s}=t,{opts:l,errSchemaPath:c,schemaEnv:u,self:f}=s;if(!l.validateFormats)return;i?d():h();function d(){const m=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),v=n.const("fDef",(0,$i._)`${m}[${a}]`),k=n.let("fType"),b=n.let("format");n.if((0,$i._)`typeof ${v} == "object" && !(${v} instanceof RegExp)`,()=>n.assign(k,(0,$i._)`${v}.type || "string"`).assign(b,(0,$i._)`${v}.validate`),()=>n.assign(k,(0,$i._)`"string"`).assign(b,v)),t.fail$data((0,$i.or)(_(),x()));function _(){return l.strictSchema===!1?$i.nil:(0,$i._)`${a} && !${b}`}function x(){const C=u.$async?(0,$i._)`(${v}.async ? await ${b}(${r}) : ${b}(${r}))`:(0,$i._)`${b}(${r})`,S=(0,$i._)`(typeof ${b} == "function" ? ${C} : ${b}.test(${r}))`;return(0,$i._)`${b} && ${b} !== true && ${k} === ${e} && !${S}`}}function h(){const m=f.formats[o];if(!m){_();return}if(m===!0)return;const[v,k,b]=x(m);v===e&&t.pass(C());function _(){if(l.strictSchema===!1){f.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${o}" ignored in schema at path "${c}"`}}function x(S){const g=S instanceof RegExp?(0,$i.regexpCode)(S):l.code.formats?(0,$i._)`${l.code.formats}${(0,$i.getProperty)(o)}`:void 0,T=n.scopeValue("formats",{key:o,ref:S,code:g});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,$i._)`${T}.validate`]:["string",S,T]}function C(){if(typeof m=="object"&&!(m instanceof RegExp)&&m.async){if(!u.$async)throw new Error("async format in sync schema");return(0,$i._)`await ${b}(${r})`}return typeof k=="function"?(0,$i._)`${b}(${r})`:(0,$i._)`${b}.test(${r})`}}}};PD.default=ULe;Object.defineProperty(ID,"__esModule",{value:!0});const GLe=PD,qLe=[GLe.default];ID.default=qLe;var hb={};Object.defineProperty(hb,"__esModule",{value:!0});hb.contentVocabulary=hb.metadataVocabulary=void 0;hb.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];hb.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(eD,"__esModule",{value:!0});const YLe=tD,XLe=rD,KLe=mD,JLe=ID,XH=hb,ZLe=[YLe.default,XLe.default,(0,KLe.default)(),JLe.default,XH.metadataVocabulary,XH.contentVocabulary];eD.default=ZLe;var ED={},wie={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(wie);Object.defineProperty(ED,"__esModule",{value:!0});const Jg=_n,rP=wie,KH=ns,QLe=er,eFe={message:({params:{discrError:t,tagName:e}})=>t===rP.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:n}})=>(0,Jg._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`},tFe={keyword:"discriminator",type:"object",schemaType:"object",error:eFe,code(t){const{gen:e,data:n,schema:r,parentSchema:i,it:o}=t,{oneOf:a}=i;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=r.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,Jg._)`${n}${(0,Jg.getProperty)(s)}`);e.if((0,Jg._)`typeof ${c} == "string"`,()=>u(),()=>t.error(!1,{discrError:rP.DiscrError.Tag,tag:c,tagName:s})),t.ok(l);function u(){const h=d();e.if(!1);for(const m in h)e.elseIf((0,Jg._)`${c} === ${m}`),e.assign(l,f(h[m]));e.else(),t.error(!1,{discrError:rP.DiscrError.Mapping,tag:c,tagName:s}),e.endIf()}function f(h){const m=e.name("valid"),v=t.subschema({keyword:"oneOf",schemaProp:h},m);return t.mergeEvaluated(v,Jg.Name),m}function d(){var h;const m={},v=b(i);let k=!0;for(let C=0;C<a.length;C++){let S=a[C];S!=null&&S.$ref&&!(0,QLe.schemaHasRulesButRef)(S,o.self.RULES)&&(S=KH.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,S==null?void 0:S.$ref),S instanceof KH.SchemaEnv&&(S=S.schema));const g=(h=S==null?void 0:S.properties)===null||h===void 0?void 0:h[s];if(typeof g!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);k=k&&(v||b(S)),_(g,C)}if(!k)throw new Error(`discriminator: "${s}" must be required`);return m;function b({required:C}){return Array.isArray(C)&&C.includes(s)}function _(C,S){if(C.const)x(C.const,S);else if(C.enum)for(const g of C.enum)x(g,S);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function x(C,S){if(typeof C!="string"||C in m)throw new Error(`discriminator: "${s}" values must be unique strings`);m[C]=S}}}};ED.default=tFe;const nFe="http://json-schema.org/draft-07/schema#",rFe="http://json-schema.org/draft-07/schema#",iFe="Core schema meta-schema",oFe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},aFe=["object","boolean"],sFe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},lFe={$schema:nFe,$id:rFe,title:iFe,definitions:oFe,type:aFe,properties:sFe,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const n=Bre,r=eD,i=ED,o=lFe,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(m,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=hc;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var u=_n;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return u._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return u.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return u.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return u.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return u.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return u.CodeGen}});var f=v2;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=y2;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(JI,JI.exports);var Sie=JI.exports;const xie=pr(Sie),d4=new xie({validateSchema:!1});function JH(t){return d4.compile(t)}function cFe(t,e){return{isValid:e(t),error:d4.errorsText(e.errors)}}function Cie(t){d4.removeSchema(t)}function uFe(t){let e;try{e=d4.validateSchema(JSON.parse(t))}catch(n){return{schemaValid:!1,error:n.message}}if(e)return{schemaValid:e};try{return d4.compile(JSON.parse(t)),{schemaValid:e}}catch(n){return{schemaValid:e,error:n.message}}}class fFe{constructor(e,n){Wn(this,"ref");Wn(this,"_schema");Wn(this,"validator");this.ref=e,this._schema=n,this.schema.$id=e,this.validator=JH(n)}update(e){Cie(this.ref),this._schema=e,this.schema.$id=this.ref,this.validator=JH(e)}validateMarking(e){return cFe(e,this.validator)}get schema(){return this._schema}}let h9=class{constructor(e,n){Wn(this,"id");Wn(this,"_name");Wn(this,"_schema");Wn(this,"marking");Wn(this,"defaultMarking");this.id=e,this._name=n,this._schema=new fFe(e,{$id:e,type:"array",items:{type:"object"}}),this.marking=[],this.defaultMarking=[]}set name(e){this._name=e}get name(){return this._name}set schema(e){e.$id=this.id,this._schema.update(e)}get schema(){return this._schema.schema}validateSchema(e){return uFe(JSON.stringify(e))}validateToken(e){return this._schema.validateMarking([e])}validateMarking(e){return this._schema.validateMarking(e)}insertValue(e,n,r,i=!1){if(i){const o=JSON.parse(JSON.stringify(this.marking)),a=s9(e,o,r,n);return this._schema.validateMarking(a)}else return s9(e,this.marking,r,n),!0}removeValue(e,n=!1){if(n){const r=JSON.parse(JSON.stringify(this.marking)),i=a9(e,r);return this._schema.validateMarking(i)}else return a9(e,this.marking),!0}batchOperation(e,n=!1){if(n){const r=JSON.parse(JSON.stringify(this.marking));for(let i=0;i<e.length;i++){const o=e[i];o.type==="insert"?s9(o.pathExpression,r,o.key,o.fragment):o.type==="remove"&&a9(o.pathExpression,r)}return this._schema.validateMarking(r)}else for(let r=0;r<e.length;r++){const i=e[r];i.type==="insert"?s9(i.pathExpression,this.marking,i.key,i.fragment):i.type==="remove"&&a9(i.pathExpression,this.marking)}}};function dFe(t){if(!t)return[];if(!Array.isArray(t))return[];if(t.length==0)return[];for(let i=0;i<t.length;i++)if(!Array.isArray(t[i])||t[i].length==0)return[];const e=new Array(t.length);e.fill(0);const n=[];let r=ZH(e,t);for(n.push(r);hFe(e,t);)r=ZH(e,t),n.push(r);return n}function ZH(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(e[r][t[r]]);return n}function hFe(t,e){for(let n=t.length-1;n>=0;n--){const r=e[n].length-1;if(t[n]+1<=r)return t[n]++,!0;if(n-1<0)return!1;t[n]=0}}function pFe(t){let e="";for(const[n,r]of Object.entries(t))e+=`local ${n} = ${Tie(JSON.stringify(r))}; 
`;return e}function Tie(t){let e=t;return e=e.replace(/\u00c4/g,"Ae"),e=e.replace(/\u00e4/g,"ae"),e=e.replace(/\u00dc/g,"Ue"),e=e.replace(/\u00fc/g,"ue"),e=e.replace(/\u00d6/g,"Oe"),e=e.replace(/\u00f6/g,"oe"),e=e.replace(/\u00df/g,"ss"),e}function R0(t,e={},n=""){t=pFe(e)+Tie(t);try{const i=jsonnet.EvaluateSnippet(n,t);if(i[1].$val)throw new Error(i[1].s);return{evaluation:i[0],hasError:!1}}catch(i){return{evaluation:i,hasError:!0}}}let p9=class{constructor(e,n){Wn(this,"id");Wn(this,"name");Wn(this,"readonly");Wn(this,"preset");Wn(this,"postset");Wn(this,"guard");Wn(this,"preface");Wn(this,"customVariables");Wn(this,"valueVarSnippets");Wn(this,"keyVarSnippets");this.id=e,this.name=n,this.preset=[],this.postset=[],this.guard="true",this.preface="",this.valueVarSnippets={},this.keyVarSnippets={},this.readonly=!1,this.customVariables={}}updateAllSnippets(e,n){for(let r=0;r<this.postset.length;r++)this.keyVarSnippets[this.postset[r].keyVarName]="local "+this.postset[r].keyVarName+" = "+e,this.valueVarSnippets[this.postset[r].valueVarName]="local "+this.postset[r].valueVarName+" = "+n}connectArc(e){e.type==="preset"?this.preset.push(e):e.type==="postset"&&(this.valueVarSnippets[e.valueVarName]||(this.valueVarSnippets[e.valueVarName]="local "+e.valueVarName+" = {};"),this.keyVarSnippets[e.keyVarName]||(this.keyVarSnippets[e.keyVarName]="local "+e.keyVarName+" = '-';"),this.postset.push(e))}updateSnippets(e,n){let r=this.guard;r=r.replace(e.value,n.value),r=r.replace(e.key,n.key),r=r.replace(e.token,n.token),this.guard=r;let i=this.preface;if(i=i.replace(e.value,n.value),i=i.replace(e.key,n.key),i=i.replace(e.token,n.token),this.preface=i,this.valueVarSnippets[e.value]){let o=this.valueVarSnippets[e.value];o=o.replace(e.value,n.value),o=o.replace(e.key,n.key),o=o.replace(e.token,n.token),delete this.valueVarSnippets[e.value],this.valueVarSnippets[n.value]=o}if(this.keyVarSnippets[e.key]){let o=this.keyVarSnippets[e.key];o=o.replace(e.value,n.value),o=o.replace(e.key,n.key),o=o.replace(e.token,n.token),delete this.keyVarSnippets[e.key],this.keyVarSnippets[n.key]=o}}disconnectArc(e){e.type==="preset"?this.preset=this.preset.filter(n=>n.id!==e.id):e.type==="postset"&&(this.postset=this.postset.filter(n=>n.id!==e.id?(delete this.valueVarSnippets[e.valueVarName],delete this.keyVarSnippets[e.keyVarName],!0):!1))}resetAssignments(){for(let e=0;e<this.preset.length;e++)this.preset[e].resetAssignment();for(let e=0;e<this.postset.length;e++)this.postset[e].resetAssignment()}fire(){const e=[];for(let n=0;n<this.preset.length;n++){const r=this.preset[n];if(r.assignedPathExpression===null)return[];this.readonly||r.place.removeValue(r.assignedPathExpression,!1),e.push({arcID:r.id,placeID:r.place.id,num:r.place.marking.length})}for(let n=0;n<this.postset.length;n++){const r=this.postset[n];if(r.assignedPathExpression===null)return[];r.place.insertValue(r.assignedPathExpression,r.valueVarValue,r.keyVarValue,!1),e.push({arcID:r.id,placeID:r.place.id,num:r.place.marking.length})}return e}hasCompletePresetAssignment(){const e=this.preset;for(let n=0;n<e.length;n++)if(e[n].assignedPathExpression===null)return!1;return!0}hasCompletePostsetAssignment(){const e=this.postset;for(let n=0;n<e.length;n++)if(e[n].assignedPathExpression===null)return!1;return!0}hasCompleteAssignment(){const e=this.preset.concat(this.postset);for(let n=0;n<e.length;n++)if(e[n].assignedPathExpression===null)return!1;return!0}hasAnyCompleteAssignment(){const e=this.preset.concat(this.postset);for(let n=0;n<e.length;n++){const r=e[n];if(r.applyFilterExpression(r.filterExpression).length===0)return!1}return!0}assignOutputKeyValueVariables(e){for(let n=0;n<this.postset.length;n++){const r=this.postset[n];let i=this.assembleCustomVariables();i+=this.preface,i+=this.valueVarSnippets[r.valueVarName]+r.valueVarName;const o=R0(i,e,this.name);if(o.hasError)return!1;const a=JSON.parse(o.evaluation);e[r.valueVarName]=a;let s=this.assembleCustomVariables();s+=this.preface,s+=this.keyVarSnippets[r.keyVarName]+r.keyVarName;const l=R0(s,e,this.name);if(l.hasError)return!1;const c=String(JSON.parse(l.evaluation));e[r.keyVarName]=c,r.assignKeyAndValueVariables(c,a)}return e}assembleCustomVariables(){let e="";for(const[n,r]of Object.entries(this.customVariables))e+="local "+n+" = "+r+";";return e}evaluateGuard(e){let n=this.assembleCustomVariables();return n+=this.preface,n+=this.guard,console.log("inscription"),console.log(n),R0(n,e,this.name)}checkResultingMarkings(){const e=[];for(let n=0;n<this.preset.length;n++){const r=this.preset[n];let i=!1,o=null;for(let a=0;a<this.postset.length;a++){const s=this.postset[a];s.place.id===r.place.id&&(e.push(s.id),i=!0,o=s)}if(i&&o){let a=[];if(r.assignedPathExpression===null||(a.push(r.assignedPathExpression),o.assignedPathExpression===null))return!1;a.push(o.assignedPathExpression),a=m$e(a,r.place.marking);const s={pathExpression:r.assignedPathExpression,type:"remove"},l={fragment:o.valueVarValue,key:o.keyVarValue,pathExpression:o.assignedPathExpression,type:"insert"},c=[];if(a[0]===r.assignedPathExpression?(c.push(l),c.push(s)):(c.push(s),c.push(l)),!r.place.batchOperation(c,!0))return!1}else if(r.assignedPathExpression===null||!r.place.removeValue(r.assignedPathExpression,!0))return!1}for(let n=0;n<this.postset.length;n++){const r=this.postset[n];if(e.includes(r.id))continue;if(r.assignedPathExpression===null||!r.place.insertValue(r.assignedPathExpression,r.valueVarValue,r.keyVarValue,!0))return!1}return!0}assembleVariablesFromPathAssignments(){const e=[],n=[],r=[],i={};for(let o=0;o<this.preset.length;o++){const a=this.preset[o];a.assignedPathExpression!==null&&(i[a.tokenVarName]=a.tokenVarValue,i[a.keyVarName]=a.keyVarValue,i[a.valueVarName]=a.valueVarValue,e.push(a.valueVarValue),n.push(a.place.name))}for(let o=0;o<this.postset.length;o++){const a=this.postset[o];a.assignedPathExpression!==null&&(i[a.tokenVarName]=a.tokenVarValue,r.push(a.place.name))}return i.transition_name=this.name,i.input_values=e,i.input_names=n,i.output_names=r,i}findAssignment(){this.resetAssignments();const e=[],n=this.preset.concat(this.postset);for(let i=0;i<n.length;i++){const o=[],a=n[i],s=a.applyFilterExpression(a.filterExpression);if(s.length===0)return!1;for(let l=0;l<s.length;l++)o.push({arc:a,assignmentIndex:l});e.push(o)}const r=dFe(e);for(let i=0;i<r.length;i++){const o=r[i],a={},s={},l={},c=[],u=[],f=[];let d=!1;for(let b=0;b<o.length;b++){const _=o[b],x=_.arc;if(x.type==="preset"){const C=x.assignVariablesByIndex(_.assignmentIndex);C||(d=!0),l[x.tokenVarName]=C.token,a[x.keyVarName]=C.key,s[x.valueVarName]=C.value,c.push(C.value),u.push(x.place.name)}else{const C=x.assignTokenVariableByIndex(_.assignmentIndex);C||(d=!0),l[x.tokenVarName]=C.token,f.push(x.place.name)}}if(d)continue;const h=this.assignOutputKeyValueVariables({transition_name:this.name,input_values:c,input_names:u,output_names:f,...a,...s,...l});if(!h)continue;const m=this.evaluateGuard(h);if(m.hasError||JSON.parse(m.evaluation)!==!0)continue;if(this.checkResultingMarkings())return!0}return!1}},m9;const mFe=new Uint8Array(16);function gFe(){if(!m9&&(m9=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m9))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m9(mFe)}const go=[];for(let t=0;t<256;++t)go.push((t+256).toString(16).slice(1));function bFe(t,e=0){return(go[t[e+0]]+go[t[e+1]]+go[t[e+2]]+go[t[e+3]]+"-"+go[t[e+4]]+go[t[e+5]]+"-"+go[t[e+6]]+go[t[e+7]]+"-"+go[t[e+8]]+go[t[e+9]]+"-"+go[t[e+10]]+go[t[e+11]]+go[t[e+12]]+go[t[e+13]]+go[t[e+14]]+go[t[e+15]]).toLowerCase()}const vFe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QH={randomUUID:vFe};function gC(t,e,n){if(QH.randomUUID&&!e&&!t)return QH.randomUUID();t=t||{};const r=t.random||(t.rng||gFe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return bFe(r)}let bC=null;function Vt(){return bC===null&&(bC=new yFe),bC}class yFe{constructor(){Wn(this,"_transitions");Wn(this,"_places");Wn(this,"_arcs");this._transitions=[],this._places=[],this._arcs=[]}findPlace(e){return this._places.find(n=>n.id===e)}removePlace(e){const n=[];return this._places=this._places.filter(i=>i.id!==e),n.push(e),this._arcs.filter(i=>i.place.id===e).forEach(i=>{this.disconnect(i.id),n.push(i.id)}),n}updatePlace(e,n,r,i){const o=this.findPlace(e);if(!o)return!1;if(n!==o.name){o.name=n;const a=this._arcs.filter(s=>s.place.id===e);for(let s=0;s<a.length;s++)a[s].updateVarNames(n)}return r&&(o.schema=r),i&&(o.marking=i),{id:o.id,name:o.name,marking:o.marking,schema:o.schema,hasError:!1,errorType:"none",errorMessage:""}}updatePlaceMarking(e,n){const r=this.findPlace(e);if(!r)return!1;r.marking=n;const i=r.validateMarking(n);return{id:r.id,name:r.name,marking:r.marking,schema:r.schema,hasError:!i.isValid,errorType:"data",errorMessage:i.error}}setDefaultMarking(e){const n=this.findPlace(e);if(!n)return!1;n.defaultMarking=JSON.parse(JSON.stringify(n.marking))}getDefaultMarking(e){const n=this.findPlace(e);return n?JSON.parse(JSON.stringify(n.defaultMarking)):!1}allPlaces(){return JSON.parse(JSON.stringify(this._places))}updatePlaceSchema(e,n){const r=this.findPlace(e);if(!r)return!1;const i=r.validateSchema(n);return i.schemaValid&&(r.schema=n),{id:r.id,name:r.name,marking:r.marking,schema:r.schema,hasError:!i.schemaValid,errorType:"schema",errorMessage:i.error}}validatePlaceName(e,n){return!(this._places.filter(i=>i.name===e&&i.id!==n).length>0)}addTransition(e=gC()){const n=new p9(e,"transition");return this._transitions.push(n),{id:n.id,name:n.name,preface:n.preface,guard:n.guard,readonly:n.readonly,customVariables:n.customVariables}}addPlace(e=gC()){const r="place"+e.substring(0,4),i=new h9(e,r);return i.schema=JSON.parse(JSON.stringify({type:"array",items:{type:"object"}})),i.marking=JSON.parse(JSON.stringify([])),i.defaultMarking=JSON.parse(JSON.stringify([])),this._places.push(i),{id:i.id,name:i.name,marking:i.marking,schema:i.schema,hasError:!1,errorType:"none",errorMessage:""}}updateTransition(e,n,r,i,o,a,s){const l=this.findTransition(e);return l?(l.name=n,i!==void 0&&(l.guard=i),r!==void 0&&(l.preface=r),a!==void 0&&(l.keyVarSnippets=a),o!==void 0&&(l.valueVarSnippets=o),s!==void 0&&(l.customVariables=s),{id:l.id,name:l.name,preface:l.preface,guard:l.guard,readonly:l.readonly,customVariables:l.customVariables}):!1}updateTransitionMode(e,n){const r=this.findTransition(e);return r?(r.readonly=n,{id:r.id,name:r.name,preface:r.preface,guard:r.guard,readonly:r.readonly,customVariables:r.customVariables}):!1}updateTransitionVariable(e,n,r){const i=this.findTransition(e);return i?(i.customVariables[n]=r,{id:i.id,name:i.name,preface:i.preface,guard:i.guard,readonly:i.readonly,customVariables:i.customVariables}):!1}removeTransitionVariable(e,n){const r=this.findTransition(e);return r?(delete r.customVariables[n],{id:r.id,name:r.name,preface:r.preface,guard:r.guard,readonly:r.readonly,customVariables:r.customVariables}):!1}updateTransitionSnippets(e,n,r,i){const o=this.findTransition(e),a=this.findArc(n);!o||!a||(o.keyVarSnippets[a.keyVarName]=r,o.valueVarSnippets[a.valueVarName]=i)}findTransition(e){return this._transitions.find(n=>n.id===e)}assignFilterByPath(e,n){const r=this.findArc(e);if(!r)return!1;r.type==="preset"?r.assignVariablesByPathExpression(n):r.type==="postset"&&r.assignTokenVariableByPathExpression(n);const i=r.transition.hasCompleteAssignment(),o=r.transition.hasCompletePresetAssignment(),a=r.transition.hasCompletePostsetAssignment();return{complete:i,presetComplete:o,postsetComplete:a}}removeTransition(e){const n=[];let r=this.findTransition(e);const i=this._transitions.filter(o=>o.id===e?(r=o,!1):!0);return r?(n.push(r.id),r.preset.forEach(o=>{this.disconnect(o.id),n.push(o.id)}),r.postset.forEach(o=>{this.disconnect(o.id),n.push(o.id)}),this._transitions=i,n):[]}connect(e,n,r=gC()){const i=[...this._places,...this._transitions],o=i.find(l=>l.id===e),a=i.find(l=>l.id===n);let s;return o instanceof h9?a instanceof h9||a instanceof p9&&(s=new $H(o,a,"preset",r),this._arcs.push(s),a.connectArc(s)):o instanceof p9&&(a instanceof p9||a instanceof h9&&(s=new $H(a,o,"postset",r),this._arcs.push(s),o.connectArc(s))),s&&o&&a?{id:s.id,type:s.type,from:o.id,to:a.id}:!1}updateAllTransitionSnippets(e,n,r){const i=this._transitions.find(o=>o.id===e);i&&i.updateAllSnippets(n,r)}disconnect(e){const n=this.findArc(e);n&&(n.transition.disconnectArc(n),this._arcs=this._arcs.filter(r=>r.id!==e))}findArc(e){return this._arcs.find(n=>n.id===e)}updateArc(e,n){const r=this._arcs.find(a=>a.id===e);if(!r)return!1;r.filterExpression=n;let i,o="";return r.type==="preset"?(i=r.place.id,o=r.transition.id):(i=r.transition.id,o=r.place.id),{from:i,to:o,id:r.id,type:r.type}}fireUnderCurrentAssignment(e){const n=this.findTransition(e);return n?n.fire():[]}fireUnderAnyAssignment(e){const n=this.findTransition(e);return n?n.findAssignment()?n.fire():[]:[]}fireAny(){for(let e=0;e<this._transitions.length;e++){let n=this._transitions[e];if(n.findAssignment())return n.fire()}return[]}export(){const e=[],n=[],r=[];for(let o=0;o<this._places.length;o++){let a=this._places[o];e.push({id:a.id,name:a.name,marking:a.marking,schema:a.schema})}for(let o=0;o<this._transitions.length;o++){let a=this._transitions[o];n.push({id:a.id,name:a.name,preface:a.preface,guard:a.guard,customVariables:a.customVariables,keyVarSnippets:a.keyVarSnippets,fragmentVarSnippets:a.valueVarSnippets})}for(let o=0;o<this._arcs.length;o++){let a=this._arcs[o],s,l;a.type==="preset"?(s=a.place.id,l=a.transition.id):a.type==="postset"&&(s=a.transition.id,l=a.place.id),r.push({id:a.id,filter:a.filterExpression,fromId:s,toId:l})}return{places:e,transitions:n,arcs:r}}assignOutputVariables(e){const n=this.findTransition(e);if(n)for(let r=0;r<n.postset.length;r++){const i=n.postset[r],o=n.assembleVariablesFromPathAssignments(),a=n.assignOutputKeyValueVariables(o);a&&i.assignKeyAndValueVariables(String(a[i.keyVarName]),a[i.valueVarName])}}clear(){for(;this._transitions.length>0;)this.removeTransition(this._transitions[0].id);for(;this._places.length>0;)Cie(this._places[0].id),this.removePlace(this._places[0].id)}import(e){this.clear();const n={places:[],transitions:[],arcs:[]};for(let r=0;r<e.places.length;r++){let i=e.places[r];this.addPlace(i.id);const o=this.updatePlace(i.id,i.name,i.schema,i.marking);this.setDefaultMarking(i.id),o&&n.places.push(o)}for(let r=0;r<e.transitions.length;r++){let i=e.transitions[r];this.addTransition(i.id);const o=this.updateTransition(i.id,i.name,i.preface,i.guard,i.fragmentVarSnippets,i.keyVarSnippets,i.customVariables);o&&n.transitions.push(o)}for(let r=0;r<e.arcs.length;r++){let i=e.arcs[r];this.connect(i.fromId,i.toId,i.id);const o=this.updateArc(i.id,i.filter);o&&n.arcs.push(o)}return n}getEvaluations(e){const n=this.findTransition(e);if(!n)return!1;const r=n.assembleVariablesFromPathAssignments();let i=!1,o=!1;const a=R0(n.preface+" true",r);if(a.hasError)return i=!0,{hasAnyError:i,preface:a,variables:r};const s=Object.keys(n.valueVarSnippets),l={};for(let h=0;h<s.length;h++){const m=s[h];let v=n.preface;v+=n.valueVarSnippets[m]+m;const k=R0(v,r);l[m]=k,k.hasError&&(i=!0,o=!0)}const c=Object.keys(n.keyVarSnippets),u={};for(let h=0;h<c.length;h++){const m=c[h];let v=n.preface;v+=n.keyVarSnippets[m]+m;const k=R0(v,r);u[m]=k,k.hasError&&(i=!0,o=!0)}if(o)return{hasAnyError:i,variables:r,hasAnyOutputError:o,preface:a,outputKeyVariables:u,outputValueVariables:l};const f=n.assignOutputKeyValueVariables(r);if(!f)return{hasAnyOutputError:o,hasAnyError:i,variables:r,preface:a,outputValueVariables:l,outputKeyVariables:u,guard:{evaluation:"Output expressions have errors.",hasError:!0}};const d=n.evaluateGuard(f);return d.hasError&&(i=!0),{hasAnyOutputError:o,hasAnyError:i,preface:a,variables:f,outputValueVariables:l,outputKeyVariables:u,guard:d}}}const ss=Db("config",{state:()=>({name:"default",defaultUIAssistMode:"expert",defaultTransitionType:"custom",defaultPlaceType:"custom",placeTypes:[],transitionTypes:[],examples:[],allowAutoLayout:!0,visualisationConfig:{show:!0}}),getters:{getPlaceTypeById:t=>e=>t.placeTypes.find(n=>n.id===e),getTransitionTypeById:t=>e=>t.transitionTypes.find(n=>n.id===e)},actions:{loadConfig(t,e=!1){e||(this.name=t.name),this.placeTypes=t.placeTypes,this.transitionTypes=t.transitionTypes,this.defaultPlaceType=t.defaultPlaceType,this.defaultTransitionType=t.defaultTransitionType,this.examples=t.examples,this.allowAutoLayout=t.allowAutoLayout,this.visualisationConfig=t.visualisationConfig,ta().uiAssistMode=t.defaultUIAssistMode},resetConfig(){this.$reset(),ta().uiAssistMode=this.defaultUIAssistMode}}}),Zn=Db("net",{state:()=>({places:[],transitions:[],transitionTypes:{},placeTypes:{},lastRemovedCells:[],lastCreatedPlaces:[],lastCreatedTransitions:[],lastCreatedArcs:[],lastUpdatedPlace:{},lastUpdatedPlaces:[],lastUpdatedTransition:{},lastFiredArcs:[],layout:{},importedData:{}}),actions:{setLayout(t){this.layout=t},export(){const t=Vt().export(),e=this.layout.toJSON(),n={placeTypes:this.placeTypes,transitionTypes:this.transitionTypes};return JSON.stringify({typeData:n,netData:t,layoutData:e},null,2)},import(t){t.typeData?(this.placeTypes=t.typeData.placeTypes,this.transitionTypes=t.typeData.transitionTypes):(this.placeTypes={},this.transitionTypes={});const e=t.layoutData,n=Vt().import(t.netData);this.transitions=n.transitions,this.places=n.places,this.importedData={layoutData:e,netData:n}},connect(t,e){const n=Vt().connect(t,e);if(n){this.lastCreatedArcs=[n];let r="";n.type=="preset"?r=n.to:r=n.from;const i=this.transitionTypes[r];if(i!=="custom"){const o=ss().getTransitionTypeById(i);if(!o)return;n.type=="preset"?Vt().updateArc(n.id,o.presetFilter):(Vt().updateAllTransitionSnippets(r,o.keySnippet,o.valueSnippet),Vt().updateArc(n.id,o.postsetFilter))}}},resetModel(){const t=Vt().allPlaces(),e=[];for(let n=0;n<t.length;n++){const r=t[n];console.log("resetting place"+r.id);const i=Vt().getDefaultMarking(r.id);if(console.log(i),i){const o=Vt().updatePlaceMarking(r.id,i);o&&e.push(o)}}this.lastUpdatedPlaces=e},addPlace(){let t=Vt().addPlace();this.places.push(t);const e=ss();if(this.placeTypes[t.id]=e.defaultPlaceType,e.defaultPlaceType!=="custom"){const n=e.getPlaceTypeById(e.defaultPlaceType);if(!n)return;const r=Vt().updatePlace(t.id,t.name,n.schema,n.marking);r&&(this.lastCreatedPlaces=[r],Vt().setDefaultMarking(t.id))}else this.lastCreatedPlaces=[t]},deletePlace(t){delete this.placeTypes[t],this.lastRemovedCells=Vt().removePlace(t)},addTransition(){let t=Vt().addTransition();this.transitions.push(t);const e=ss();if(this.transitionTypes[t.id]=e.defaultTransitionType,e.defaultTransitionType!=="custom"){const n=e.getTransitionTypeById(e.defaultTransitionType);if(!n)return;let r=Vt().updateTransition(t.id,t.name,n.preface,n.guard);r&&(t=r);const i=Object.keys(n.customVariables);for(let o=0;o<i.length;o++){let a=Vt().updateTransitionVariable(t.id,i[o],n.customVariables[i[o]]);a&&(t=a)}}this.lastCreatedTransitions=[t]},deleteTransition(t){delete this.transitionTypes[t],this.lastRemovedCells=Vt().removeTransition(t)},disconnect(t){Vt().disconnect(t),this.lastRemovedCells=[t]},fireUnderAnyAssignment(t){this.lastFiredArcs=Vt().fireUnderAnyAssignment(t)},fireAny(){this.lastFiredArcs=Vt().fireAny()}}});function Aie(t,e){const n=t.target;if(!n)return;const r=new FileReader;r.onload=function(){const i=r.result;e(i)},r.readAsText(n.files[0])}function kFe(t,e,n){const r=document.createElement("a"),i=new Blob([t],{type:n});r.href=URL.createObjectURL(i),r.download=e,r.click()}const Ym=Db("transitions",{state:()=>({transition:{},outputArcs:[],inputArcs:[],selectedOutputSnippetIndex:-1,variables:{},assignmentComplete:!1,presetAssignmentComplete:!1,postsetAssignmentComplete:!1,prefaceHasError:!1,guardHasError:!1,guardEvaluation:"",keyEvaluationResults:{},valueEvaluationResults:{},hasAnyError:!1,hasAnyOutputError:!1,isEnabled:!1,selectedInputPlaceIndex:0,selectedInputValueJsonPath:"none",selectedOutputPlaceIndex:0,selectedOutputValueJsonPath:"none",inputDataKey:0,outputDataKey:0}),actions:{saveName(){const t=Vt().updateTransition(this.transition.id,this.transition.name);t&&(this.transition.name=t.name,Zn().lastUpdatedTransition=t)},switchMode(){this.transition.readonly=!this.transition.readonly;const t=Vt().updateTransitionMode(this.transition.id,this.transition.readonly);t&&(this.transition.readonly=t.readonly,Zn().lastUpdatedTransition=t)},updateVariable(t,e){const n=Vt().updateTransitionVariable(this.transition.id,t,e);n&&(this.transition=n,Zn().lastUpdatedTransition=n)},removeVariable(t){const e=Vt().removeTransitionVariable(this.transition.id,t);e&&(this.transition=e,Zn().lastUpdatedTransition=e)},saveInputFilter(){const t=this.inputArcs[this.selectedInputPlaceIndex];Vt().updateArc(t.id,t.filter)},saveOutputFilter(){const t=this.outputArcs[this.selectedOutputPlaceIndex];Vt().updateArc(t.id,t.filter)},saveBasicInscription(){Vt().updateTransition(this.transition.id,this.transition.name,this.transition.preface,this.transition.guard)},saveOutputSnippets(){const t=this.outputArcs[this.selectedOutputSnippetIndex];t&&Vt().updateTransitionSnippets(this.transition.id,t.id,t.keySnippet,t.valueSnippet)},unsetAssignments(){const t=Vt().findTransition(this.transition.id);t&&(t.resetAssignments(),this.selectedInputValueJsonPath="none",this.selectedOutputValueJsonPath="none",this.assignmentComplete=!1)},saveSelectedAssignment(t,e){let n;e==="input"?(this.selectedInputValueJsonPath=t,n=this.inputArcs[this.selectedInputPlaceIndex].id):(this.selectedOutputValueJsonPath=t,n=this.outputArcs[this.selectedOutputPlaceIndex].id);const r=Vt().assignFilterByPath(n,t);r&&(this.assignmentComplete=r.complete,this.presetAssignmentComplete=r.presetComplete,this.postsetAssignmentComplete=r.postsetComplete,this.loadEvaluations(),this.hasAnyError||Vt().assignOutputVariables(n))},loadCurrentInputAssignment(){const t=this.inputArcs[this.selectedInputPlaceIndex].id,e=Vt().findArc(t);e&&(e.assignedPathExpression!==null?this.selectedInputValueJsonPath=e.assignedPathExpression:this.selectedInputValueJsonPath="none")},loadCurrentOutputAssignment(){const t=this.outputArcs[this.selectedOutputPlaceIndex].id,e=Vt().findArc(t);e&&(e.assignedPathExpression!==null?this.selectedOutputValueJsonPath=e.assignedPathExpression:this.selectedOutputValueJsonPath="none")},loadAvailableInputAssignments(){const t=this.inputArcs[this.selectedInputPlaceIndex];if(!t)return;const e=Vt().findArc(t.id);if(!e)return;const n=[],r=e.applyFilterExpression(t.filter);for(let i=0;i<r.length;i++)n.push(r[i]);t.filtered=n},loadAvailableOutputAssignments(){const t=this.outputArcs[this.selectedOutputPlaceIndex];if(!t)return;const e=Vt().findArc(t.id);if(!e)return;const n=[],r=e.applyFilterExpression(t.filter);for(let i=0;i<r.length;i++)n.push(r[i]);t.filtered=n},unsetCurrentInputAssignment(){const t=this.inputArcs[this.selectedInputPlaceIndex];if(!t)return;const e=Vt().findArc(t.id);e&&(e.resetAssignment(),this.selectedInputValueJsonPath="none")},unsetCurrentOutputAssignment(){const t=this.outputArcs[this.selectedOutputPlaceIndex];if(!t)return;const e=Vt().findArc(t.id);e&&(e.resetAssignment(),this.selectedOutputValueJsonPath="none")},resetName(){const t=Vt().findTransition(this.transition.id);t&&(this.transition.name=t.name,Zn().lastUpdatedTransition=t)},resetInputFilter(){const t=this.inputArcs[this.selectedInputPlaceIndex],e=Vt().findArc(t.id);e&&(t.filter=e.filterExpression,this.loadAvailableInputAssignments())},resetOutputFilter(){const t=this.outputArcs[this.selectedOutputPlaceIndex],e=Vt().findArc(t.id);e&&(t.filter=e.filterExpression,this.loadAvailableOutputAssignments())},loadEvaluations(){const t=Vt().getEvaluations(this.transition.id);if(t){if(this.variables=t.variables,!this.assignmentComplete||(this.hasAnyError=t.hasAnyError,this.hasAnyError&&(this.isEnabled=!1),this.prefaceHasError=t.preface.hasError,this.prefaceHasError)||(t.hasAnyOutputError!==void 0&&t.outputKeyVariables&&t.outputValueVariables&&(this.hasAnyOutputError=t.hasAnyOutputError,this.keyEvaluationResults=t.outputKeyVariables,this.valueEvaluationResults=t.outputValueVariables),this.hasAnyOutputError))return;t.guard&&(this.guardHasError=t.guard.hasError,this.guardHasError?this.guardEvaluation=t.guard.evaluation:(this.guardEvaluation=t.guard.evaluation,this.isEnabled=JSON.parse(this.guardEvaluation)))}},initSettings(){this.selectedOutputSnippetIndex=-1,this.selectedInputPlaceIndex=0,this.selectedOutputPlaceIndex=0,this.assignmentComplete=!1},loadTransition(t){let e=Zn().transitions.find(n=>n.id===t);if(e){const n=Vt().findTransition(t);if(!n)return e;e=n,this.transition=n;const r=[];for(let o=0;o<n.postset.length;o++){const a=n.postset[o],s=[],l=a.applyFilterExpression(a.filterExpression);for(let u=0;u<l.length;u++)s.push(l[u]);const c={id:a.id,name:a.place.name,marking:a.place.marking,tokenVar:a.tokenVarName,valueVar:a.valueVarName,keyVar:a.keyVarName,valueSnippet:n.valueVarSnippets[a.valueVarName],keySnippet:n.keyVarSnippets[a.keyVarName],filter:a.filterExpression,filtered:s};r.push(c)}this.outputArcs=r;const i=[];for(let o=0;o<n.preset.length;o++){const a=n.preset[o],s=[],l=a.applyFilterExpression(a.filterExpression);for(let u=0;u<l.length;u++)s.push(l[u]);const c={id:a.id,name:a.place.name,marking:a.place.marking,filter:a.filterExpression,tokenVar:a.tokenVarName,valueVar:a.valueVarName,keyVar:a.keyVarName,filtered:s};i.push(c)}this.inputArcs=i}},forceRender(){this.inputDataKey+=1,this.outputDataKey+=1},fireCurrentTransition(){Vt().assignOutputVariables(this.transition.id);const t=Vt().fireUnderCurrentAssignment(this.transition.id);Zn().lastFiredArcs=t,this.loadTransition(this.transition.id),this.unsetAssignments(),this.loadAvailableInputAssignments(),this.loadAvailableOutputAssignments(),this.loadEvaluations(),this.assignmentComplete=!1,this.presetAssignmentComplete=!1,this.postsetAssignmentComplete=!1,this.forceRender()}}});var Iie={},h4={},fk={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */fk.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",f=1,d=2,h=4,m=1,v=2,k=1,b=2,_=4,x=8,C=16,S=32,g=64,T=128,P=256,$=512,F=30,D="...",z=800,R=16,V=1,ie=2,oe=3,_e=1/0,Ae=9007199254740991,Ie=17976931348623157e292,ke=0/0,se=4294967295,ne=se-1,J=se>>>1,j=[["ary",T],["bind",k],["bindKey",b],["curry",x],["curryRight",C],["flip",$],["partial",S],["partialRight",g],["rearg",P]],U="[object Arguments]",ae="[object Array]",te="[object AsyncFunction]",ue="[object Boolean]",ce="[object Date]",fe="[object DOMException]",ve="[object Error]",B="[object Function]",Y="[object GeneratorFunction]",E="[object Map]",M="[object Number]",H="[object Null]",Q="[object Object]",be="[object Promise]",me="[object Proxy]",Fe="[object RegExp]",Le="[object Set]",tt="[object String]",Ke="[object Symbol]",et="[object Undefined]",Qe="[object WeakMap]",pt="[object WeakSet]",Rt="[object ArrayBuffer]",Xt="[object DataView]",wt="[object Float32Array]",sn="[object Float64Array]",mr="[object Int8Array]",gi="[object Int16Array]",Lr="[object Int32Array]",ho="[object Uint8Array]",Tr="[object Uint8ClampedArray]",jn="[object Uint16Array]",Vn="[object Uint32Array]",Ea=/\b__p \+= '';/g,Ff=/\b(__p \+=) '' \+/g,Tu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tc=/&(?:amp|lt|gt|quot|#39);/g,ks=/[&<>"']/g,Wi=RegExp(Tc.source),Ac=RegExp(ks.source),t1=/<%-([\s\S]+?)%>/g,Nf=/<%([\s\S]+?)%>/g,Au=/<%=([\s\S]+?)%>/g,Th=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,og=/^\w*$/,n1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Iu=/[\\^$.*+?()[\]{}|]/g,r1=RegExp(Iu.source),Mf=/^\s+/,Se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xe=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Me=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,St=/[()=,{}\[\]\/\s]/,Ct=/\\(\\)?/g,wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,sr=/\w*$/,Fr=/^[-+]0x[0-9a-f]+$/i,vn=/^0b[01]+$/i,qn=/^\[object .+?Constructor\]$/,Nr=/^0o[0-7]+$/i,Kt=/^(?:0|[1-9]\d*)$/,dr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,gr=/($^)/,br=/['\n\r\u2028\u2029\\]/g,po="\\ud800-\\udfff",$a="\\u0300-\\u036f",Oa="\\ufe20-\\ufe2f",Vl="\\u20d0-\\u20ff",_s=$a+Oa+Vl,Ui="\\u2700-\\u27bf",Eo="a-z\\xdf-\\xf6\\xf8-\\xff",ei="\\xac\\xb1\\xd7\\xf7",ro="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ys="\\u2000-\\u206f",ag=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ah="A-Z\\xc0-\\xd6\\xd8-\\xde",Bl="\\ufe0e\\ufe0f",Ic=ei+ro+Ys+ag,ws="['’]",Ih="["+po+"]",Ph="["+Ic+"]",Xs="["+_s+"]",Da="\\d+",X2="["+Ui+"]",zf="["+Eo+"]",K2="[^"+po+Ic+Da+Ui+Eo+Ah+"]",i1="\\ud83c[\\udffb-\\udfff]",Pu="(?:"+Xs+"|"+i1+")",Pc="[^"+po+"]",Eh="(?:\\ud83c[\\udde6-\\uddff]){2}",o1="[\\ud800-\\udbff][\\udc00-\\udfff]",Eu="["+Ah+"]",a1="\\u200d",Rf="(?:"+zf+"|"+K2+")",J2="(?:"+Eu+"|"+K2+")",sg="(?:"+ws+"(?:d|ll|m|re|s|t|ve))?",Z2="(?:"+ws+"(?:D|LL|M|RE|S|T|VE))?",s1=Pu+"?",Q2="["+Bl+"]?",sw="(?:"+a1+"(?:"+[Pc,Eh,o1].join("|")+")"+Q2+s1+")*",l1="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lw="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",e7=Q2+s1+sw,cw="(?:"+[X2,Eh,o1].join("|")+")"+e7,uw="(?:"+[Pc+Xs+"?",Xs,Eh,o1,Ih].join("|")+")",fw=RegExp(ws,"g"),dw=RegExp(Xs,"g"),c1=RegExp(i1+"(?="+i1+")|"+uw+e7,"g"),t7=RegExp([Eu+"?"+zf+"+"+sg+"(?="+[Ph,Eu,"$"].join("|")+")",J2+"+"+Z2+"(?="+[Ph,Eu+Rf,"$"].join("|")+")",Eu+"?"+Rf+"+"+sg,Eu+"+"+Z2,lw,l1,Da,cw].join("|"),"g"),u1=RegExp("["+a1+po+_s+Bl+"]"),n7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,f1=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],r7=-1,vr={};vr[wt]=vr[sn]=vr[mr]=vr[gi]=vr[Lr]=vr[ho]=vr[Tr]=vr[jn]=vr[Vn]=!0,vr[U]=vr[ae]=vr[Rt]=vr[ue]=vr[Xt]=vr[ce]=vr[ve]=vr[B]=vr[E]=vr[M]=vr[Q]=vr[Fe]=vr[Le]=vr[tt]=vr[Qe]=!1;var lr={};lr[U]=lr[ae]=lr[Rt]=lr[Xt]=lr[ue]=lr[ce]=lr[wt]=lr[sn]=lr[mr]=lr[gi]=lr[Lr]=lr[E]=lr[M]=lr[Q]=lr[Fe]=lr[Le]=lr[tt]=lr[Ke]=lr[ho]=lr[Tr]=lr[jn]=lr[Vn]=!0,lr[ve]=lr[B]=lr[Qe]=!1;var hw={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},pw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mw={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$h={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},i7=parseFloat,d1=parseInt,o7=typeof ui=="object"&&ui&&ui.Object===Object&&ui,gw=typeof self=="object"&&self&&self.Object===Object&&self,Gi=o7||gw||Function("return this")(),w=e&&!e.nodeType&&e,I=w&&!0&&t&&!t.nodeType&&t,O=I&&I.exports===w,L=O&&o7.process,W=function(){try{var Pe=I&&I.require&&I.require("util").types;return Pe||L&&L.binding&&L.binding("util")}catch{}}(),G=W&&W.isArrayBuffer,K=W&&W.isDate,ge=W&&W.isMap,de=W&&W.isRegExp,De=W&&W.isSet,Ve=W&&W.isTypedArray;function Ye(Pe,Ue,je){switch(je.length){case 0:return Pe.call(Ue);case 1:return Pe.call(Ue,je[0]);case 2:return Pe.call(Ue,je[0],je[1]);case 3:return Pe.call(Ue,je[0],je[1],je[2])}return Pe.apply(Ue,je)}function Ne(Pe,Ue,je,ht){for(var Zt=-1,Bn=Pe==null?0:Pe.length;++Zt<Bn;){var Ai=Pe[Zt];Ue(ht,Ai,je(Ai),Pe)}return ht}function He(Pe,Ue){for(var je=-1,ht=Pe==null?0:Pe.length;++je<ht&&Ue(Pe[je],je,Pe)!==!1;);return Pe}function $t(Pe,Ue){for(var je=Pe==null?0:Pe.length;je--&&Ue(Pe[je],je,Pe)!==!1;);return Pe}function nn(Pe,Ue){for(var je=-1,ht=Pe==null?0:Pe.length;++je<ht;)if(!Ue(Pe[je],je,Pe))return!1;return!0}function bt(Pe,Ue){for(var je=-1,ht=Pe==null?0:Pe.length,Zt=0,Bn=[];++je<ht;){var Ai=Pe[je];Ue(Ai,je,Pe)&&(Bn[Zt++]=Ai)}return Bn}function ti(Pe,Ue){var je=Pe==null?0:Pe.length;return!!je&&La(Pe,Ue,0)>-1}function ni(Pe,Ue,je){for(var ht=-1,Zt=Pe==null?0:Pe.length;++ht<Zt;)if(je(Ue,Pe[ht]))return!0;return!1}function Cn(Pe,Ue){for(var je=-1,ht=Pe==null?0:Pe.length,Zt=Array(ht);++je<ht;)Zt[je]=Ue(Pe[je],je,Pe);return Zt}function En(Pe,Ue){for(var je=-1,ht=Ue.length,Zt=Pe.length;++je<ht;)Pe[Zt+je]=Ue[je];return Pe}function Jt(Pe,Ue,je,ht){var Zt=-1,Bn=Pe==null?0:Pe.length;for(ht&&Bn&&(je=Pe[++Zt]);++Zt<Bn;)je=Ue(je,Pe[Zt],Zt,Pe);return je}function $o(Pe,Ue,je,ht){var Zt=Pe==null?0:Pe.length;for(ht&&Zt&&(je=Pe[--Zt]);Zt--;)je=Ue(je,Pe[Zt],Zt,Pe);return je}function $n(Pe,Ue){for(var je=-1,ht=Pe==null?0:Pe.length;++je<ht;)if(Ue(Pe[je],je,Pe))return!0;return!1}var Hr=Js("length");function Oh(Pe){return Pe.split("")}function lg(Pe){return Pe.match(Me)||[]}function Oo(Pe,Ue,je){var ht;return je(Pe,function(Zt,Bn,Ai){if(Ue(Zt,Bn,Ai))return ht=Bn,!1}),ht}function Ks(Pe,Ue,je,ht){for(var Zt=Pe.length,Bn=je+(ht?1:-1);ht?Bn--:++Bn<Zt;)if(Ue(Pe[Bn],Bn,Pe))return Bn;return-1}function La(Pe,Ue,je){return Ue===Ue?c7(Pe,Ue,je):Ks(Pe,Hl,je)}function Do(Pe,Ue,je,ht){for(var Zt=je-1,Bn=Pe.length;++Zt<Bn;)if(ht(Pe[Zt],Ue))return Zt;return-1}function Hl(Pe){return Pe!==Pe}function la(Pe,Ue){var je=Pe==null?0:Pe.length;return je?Yn(Pe,Ue)/je:ke}function Js(Pe){return function(Ue){return Ue==null?n:Ue[Pe]}}function cg(Pe){return function(Ue){return Pe==null?n:Pe[Ue]}}function Ec(Pe,Ue,je,ht,Zt){return Zt(Pe,function(Bn,Ai,tr){je=ht?(ht=!1,Bn):Ue(je,Bn,Ai,tr)}),je}function h1(Pe,Ue){var je=Pe.length;for(Pe.sort(Ue);je--;)Pe[je]=Pe[je].value;return Pe}function Yn(Pe,Ue){for(var je,ht=-1,Zt=Pe.length;++ht<Zt;){var Bn=Ue(Pe[ht]);Bn!==n&&(je=je===n?Bn:je+Bn)}return je}function Wl(Pe,Ue){for(var je=-1,ht=Array(Pe);++je<Pe;)ht[je]=Ue(je);return ht}function a7(Pe,Ue){return Cn(Ue,function(je){return[je,Pe[je]]})}function ug(Pe){return Pe&&Pe.slice(0,Fa(Pe)+1).replace(Mf,"")}function ca(Pe){return function(Ue){return Pe(Ue)}}function jf(Pe,Ue){return Cn(Ue,function(je){return Pe[je]})}function Dh(Pe,Ue){return Pe.has(Ue)}function p1(Pe,Ue){for(var je=-1,ht=Pe.length;++je<ht&&La(Ue,Pe[je],0)>-1;);return je}function s7(Pe,Ue){for(var je=Pe.length;je--&&La(Ue,Pe[je],0)>-1;);return je}function bw(Pe,Ue){for(var je=Pe.length,ht=0;je--;)Pe[je]===Ue&&++ht;return ht}var vw=cg(hw),fg=cg(pw);function yw(Pe){return"\\"+$h[Pe]}function kw(Pe,Ue){return Pe==null?n:Pe[Ue]}function Vf(Pe){return u1.test(Pe)}function Lh(Pe){return n7.test(Pe)}function _w(Pe){for(var Ue,je=[];!(Ue=Pe.next()).done;)je.push(Ue.value);return je}function Fh(Pe){var Ue=-1,je=Array(Pe.size);return Pe.forEach(function(ht,Zt){je[++Ue]=[Zt,ht]}),je}function Zs(Pe,Ue){return function(je){return Pe(Ue(je))}}function io(Pe,Ue){for(var je=-1,ht=Pe.length,Zt=0,Bn=[];++je<ht;){var Ai=Pe[je];(Ai===Ue||Ai===u)&&(Pe[je]=u,Bn[Zt++]=je)}return Bn}function Nh(Pe){var Ue=-1,je=Array(Pe.size);return Pe.forEach(function(ht){je[++Ue]=ht}),je}function l7(Pe){var Ue=-1,je=Array(Pe.size);return Pe.forEach(function(ht){je[++Ue]=[ht,ht]}),je}function c7(Pe,Ue,je){for(var ht=je-1,Zt=Pe.length;++ht<Zt;)if(Pe[ht]===Ue)return ht;return-1}function ww(Pe,Ue,je){for(var ht=je+1;ht--;)if(Pe[ht]===Ue)return ht;return ht}function Xn(Pe){return Vf(Pe)?m1(Pe):Hr(Pe)}function Lo(Pe){return Vf(Pe)?u7(Pe):Oh(Pe)}function Fa(Pe){for(var Ue=Pe.length;Ue--&&Se.test(Pe.charAt(Ue)););return Ue}var Na=cg(mw);function m1(Pe){for(var Ue=c1.lastIndex=0;c1.test(Pe);)++Ue;return Ue}function u7(Pe){return Pe.match(c1)||[]}function Sw(Pe){return Pe.match(t7)||[]}var xw=function Pe(Ue){Ue=Ue==null?Gi:$u.defaults(Gi.Object(),Ue,$u.pick(Gi,f1));var je=Ue.Array,ht=Ue.Date,Zt=Ue.Error,Bn=Ue.Function,Ai=Ue.Math,tr=Ue.Object,Mh=Ue.RegExp,g1=Ue.String,Ma=Ue.TypeError,ee=je.prototype,pe=Bn.prototype,Te=tr.prototype,qe=Ue["__core-js_shared__"],$e=pe.toString,Re=Te.hasOwnProperty,nt=0,st=function(){var p=/[^.]+$/.exec(qe&&qe.keys&&qe.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),ut=Te.toString,jt=$e.call(tr),Lt=Gi._,Ht=Mh("^"+$e.call(Re).replace(Iu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fn=O?Ue.Buffer:n,Nn=Ue.Symbol,Dt=Ue.Uint8Array,bi=fn?fn.allocUnsafe:n,Ii=Zs(tr.getPrototypeOf,tr),Fo=tr.create,Ar=Te.propertyIsEnumerable,$c=ee.splice,Bf=Nn?Nn.isConcatSpreadable:n,qi=Nn?Nn.iterator:n,zh=Nn?Nn.toStringTag:n,f7=function(){try{var p=Hh(tr,"defineProperty");return p({},"",{}),p}catch{}}(),she=Ue.clearTimeout!==Gi.clearTimeout&&Ue.clearTimeout,lhe=ht&&ht.now!==Gi.Date.now&&ht.now,che=Ue.setTimeout!==Gi.setTimeout&&Ue.setTimeout,d7=Ai.ceil,h7=Ai.floor,Cw=tr.getOwnPropertySymbols,uhe=fn?fn.isBuffer:n,bN=Ue.isFinite,fhe=ee.join,dhe=Zs(tr.keys,tr),Yi=Ai.max,No=Ai.min,hhe=ht.now,phe=Ue.parseInt,vN=Ai.random,mhe=ee.reverse,Tw=Hh(Ue,"DataView"),b1=Hh(Ue,"Map"),Aw=Hh(Ue,"Promise"),dg=Hh(Ue,"Set"),v1=Hh(Ue,"WeakMap"),y1=Hh(tr,"create"),p7=v1&&new v1,hg={},ghe=Wh(Tw),bhe=Wh(b1),vhe=Wh(Aw),yhe=Wh(dg),khe=Wh(v1),m7=Nn?Nn.prototype:n,k1=m7?m7.valueOf:n,yN=m7?m7.toString:n;function Z(p){if(vi(p)&&!dn(p)&&!(p instanceof Mn)){if(p instanceof Qs)return p;if(Re.call(p,"__wrapped__"))return kM(p)}return new Qs(p)}var pg=function(){function p(){}return function(y){if(!si(y))return{};if(Fo)return Fo(y);p.prototype=y;var A=new p;return p.prototype=n,A}}();function g7(){}function Qs(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}Z.templateSettings={escape:t1,evaluate:Nf,interpolate:Au,variable:"",imports:{_:Z}},Z.prototype=g7.prototype,Z.prototype.constructor=Z,Qs.prototype=pg(g7.prototype),Qs.prototype.constructor=Qs;function Mn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function _he(){var p=new Mn(this.__wrapped__);return p.__actions__=za(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=za(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=za(this.__views__),p}function whe(){if(this.__filtered__){var p=new Mn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function She(){var p=this.__wrapped__.value(),y=this.__dir__,A=dn(p),N=y<0,q=A?p.length:0,re=Fpe(0,q,this.__views__),he=re.start,Ce=re.end,Oe=Ce-he,Xe=N?Ce:he-1,Je=this.__iteratees__,it=Je.length,dt=0,At=No(Oe,this.__takeCount__);if(!A||!N&&q==Oe&&At==Oe)return HN(p,this.__actions__);var qt=[];e:for(;Oe--&&dt<At;){Xe+=y;for(var yn=-1,Yt=p[Xe];++yn<it;){var On=Je[yn],Hn=On.iteratee,Cs=On.type,da=Hn(Yt);if(Cs==ie)Yt=da;else if(!da){if(Cs==V)continue e;break e}}qt[dt++]=Yt}return qt}Mn.prototype=pg(g7.prototype),Mn.prototype.constructor=Mn;function Rh(p){var y=-1,A=p==null?0:p.length;for(this.clear();++y<A;){var N=p[y];this.set(N[0],N[1])}}function xhe(){this.__data__=y1?y1(null):{},this.size=0}function Che(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function The(p){var y=this.__data__;if(y1){var A=y[p];return A===l?n:A}return Re.call(y,p)?y[p]:n}function Ahe(p){var y=this.__data__;return y1?y[p]!==n:Re.call(y,p)}function Ihe(p,y){var A=this.__data__;return this.size+=this.has(p)?0:1,A[p]=y1&&y===n?l:y,this}Rh.prototype.clear=xhe,Rh.prototype.delete=Che,Rh.prototype.get=The,Rh.prototype.has=Ahe,Rh.prototype.set=Ihe;function Ou(p){var y=-1,A=p==null?0:p.length;for(this.clear();++y<A;){var N=p[y];this.set(N[0],N[1])}}function Phe(){this.__data__=[],this.size=0}function Ehe(p){var y=this.__data__,A=b7(y,p);if(A<0)return!1;var N=y.length-1;return A==N?y.pop():$c.call(y,A,1),--this.size,!0}function $he(p){var y=this.__data__,A=b7(y,p);return A<0?n:y[A][1]}function Ohe(p){return b7(this.__data__,p)>-1}function Dhe(p,y){var A=this.__data__,N=b7(A,p);return N<0?(++this.size,A.push([p,y])):A[N][1]=y,this}Ou.prototype.clear=Phe,Ou.prototype.delete=Ehe,Ou.prototype.get=$he,Ou.prototype.has=Ohe,Ou.prototype.set=Dhe;function Du(p){var y=-1,A=p==null?0:p.length;for(this.clear();++y<A;){var N=p[y];this.set(N[0],N[1])}}function Lhe(){this.size=0,this.__data__={hash:new Rh,map:new(b1||Ou),string:new Rh}}function Fhe(p){var y=P7(this,p).delete(p);return this.size-=y?1:0,y}function Nhe(p){return P7(this,p).get(p)}function Mhe(p){return P7(this,p).has(p)}function zhe(p,y){var A=P7(this,p),N=A.size;return A.set(p,y),this.size+=A.size==N?0:1,this}Du.prototype.clear=Lhe,Du.prototype.delete=Fhe,Du.prototype.get=Nhe,Du.prototype.has=Mhe,Du.prototype.set=zhe;function jh(p){var y=-1,A=p==null?0:p.length;for(this.__data__=new Du;++y<A;)this.add(p[y])}function Rhe(p){return this.__data__.set(p,l),this}function jhe(p){return this.__data__.has(p)}jh.prototype.add=jh.prototype.push=Rhe,jh.prototype.has=jhe;function Ul(p){var y=this.__data__=new Ou(p);this.size=y.size}function Vhe(){this.__data__=new Ou,this.size=0}function Bhe(p){var y=this.__data__,A=y.delete(p);return this.size=y.size,A}function Hhe(p){return this.__data__.get(p)}function Whe(p){return this.__data__.has(p)}function Uhe(p,y){var A=this.__data__;if(A instanceof Ou){var N=A.__data__;if(!b1||N.length<i-1)return N.push([p,y]),this.size=++A.size,this;A=this.__data__=new Du(N)}return A.set(p,y),this.size=A.size,this}Ul.prototype.clear=Vhe,Ul.prototype.delete=Bhe,Ul.prototype.get=Hhe,Ul.prototype.has=Whe,Ul.prototype.set=Uhe;function kN(p,y){var A=dn(p),N=!A&&Uh(p),q=!A&&!N&&qf(p),re=!A&&!N&&!q&&vg(p),he=A||N||q||re,Ce=he?Wl(p.length,g1):[],Oe=Ce.length;for(var Xe in p)(y||Re.call(p,Xe))&&!(he&&(Xe=="length"||q&&(Xe=="offset"||Xe=="parent")||re&&(Xe=="buffer"||Xe=="byteLength"||Xe=="byteOffset")||Mu(Xe,Oe)))&&Ce.push(Xe);return Ce}function _N(p){var y=p.length;return y?p[zw(0,y-1)]:n}function Ghe(p,y){return E7(za(p),Vh(y,0,p.length))}function qhe(p){return E7(za(p))}function Iw(p,y,A){(A!==n&&!Gl(p[y],A)||A===n&&!(y in p))&&Lu(p,y,A)}function _1(p,y,A){var N=p[y];(!(Re.call(p,y)&&Gl(N,A))||A===n&&!(y in p))&&Lu(p,y,A)}function b7(p,y){for(var A=p.length;A--;)if(Gl(p[A][0],y))return A;return-1}function Yhe(p,y,A,N){return Hf(p,function(q,re,he){y(N,q,A(q),he)}),N}function wN(p,y){return p&&Dc(y,oo(y),p)}function Xhe(p,y){return p&&Dc(y,ja(y),p)}function Lu(p,y,A){y=="__proto__"&&f7?f7(p,y,{configurable:!0,enumerable:!0,value:A,writable:!0}):p[y]=A}function Pw(p,y){for(var A=-1,N=y.length,q=je(N),re=p==null;++A<N;)q[A]=re?n:cS(p,y[A]);return q}function Vh(p,y,A){return p===p&&(A!==n&&(p=p<=A?p:A),y!==n&&(p=p>=y?p:y)),p}function el(p,y,A,N,q,re){var he,Ce=y&f,Oe=y&d,Xe=y&h;if(A&&(he=q?A(p,N,q,re):A(p)),he!==n)return he;if(!si(p))return p;var Je=dn(p);if(Je){if(he=Mpe(p),!Ce)return za(p,he)}else{var it=Mo(p),dt=it==B||it==Y;if(qf(p))return GN(p,Ce);if(it==Q||it==U||dt&&!q){if(he=Oe||dt?{}:fM(p),!Ce)return Oe?Tpe(p,Xhe(he,p)):Cpe(p,wN(he,p))}else{if(!lr[it])return q?p:{};he=zpe(p,it,Ce)}}re||(re=new Ul);var At=re.get(p);if(At)return At;re.set(p,he),jM(p)?p.forEach(function(Yt){he.add(el(Yt,y,A,Yt,p,re))}):zM(p)&&p.forEach(function(Yt,On){he.set(On,el(Yt,y,A,On,p,re))});var qt=Xe?Oe?Xw:Yw:Oe?ja:oo,yn=Je?n:qt(p);return He(yn||p,function(Yt,On){yn&&(On=Yt,Yt=p[On]),_1(he,On,el(Yt,y,A,On,p,re))}),he}function Khe(p){var y=oo(p);return function(A){return SN(A,p,y)}}function SN(p,y,A){var N=A.length;if(p==null)return!N;for(p=tr(p);N--;){var q=A[N],re=y[q],he=p[q];if(he===n&&!(q in p)||!re(he))return!1}return!0}function xN(p,y,A){if(typeof p!="function")throw new Ma(a);return I1(function(){p.apply(n,A)},y)}function w1(p,y,A,N){var q=-1,re=ti,he=!0,Ce=p.length,Oe=[],Xe=y.length;if(!Ce)return Oe;A&&(y=Cn(y,ca(A))),N?(re=ni,he=!1):y.length>=i&&(re=Dh,he=!1,y=new jh(y));e:for(;++q<Ce;){var Je=p[q],it=A==null?Je:A(Je);if(Je=N||Je!==0?Je:0,he&&it===it){for(var dt=Xe;dt--;)if(y[dt]===it)continue e;Oe.push(Je)}else re(y,it,N)||Oe.push(Je)}return Oe}var Hf=JN(Oc),CN=JN($w,!0);function Jhe(p,y){var A=!0;return Hf(p,function(N,q,re){return A=!!y(N,q,re),A}),A}function v7(p,y,A){for(var N=-1,q=p.length;++N<q;){var re=p[N],he=y(re);if(he!=null&&(Ce===n?he===he&&!xs(he):A(he,Ce)))var Ce=he,Oe=re}return Oe}function Zhe(p,y,A,N){var q=p.length;for(A=pn(A),A<0&&(A=-A>q?0:q+A),N=N===n||N>q?q:pn(N),N<0&&(N+=q),N=A>N?0:BM(N);A<N;)p[A++]=y;return p}function TN(p,y){var A=[];return Hf(p,function(N,q,re){y(N,q,re)&&A.push(N)}),A}function mo(p,y,A,N,q){var re=-1,he=p.length;for(A||(A=jpe),q||(q=[]);++re<he;){var Ce=p[re];y>0&&A(Ce)?y>1?mo(Ce,y-1,A,N,q):En(q,Ce):N||(q[q.length]=Ce)}return q}var Ew=ZN(),AN=ZN(!0);function Oc(p,y){return p&&Ew(p,y,oo)}function $w(p,y){return p&&AN(p,y,oo)}function y7(p,y){return bt(y,function(A){return zu(p[A])})}function Bh(p,y){y=Uf(y,p);for(var A=0,N=y.length;p!=null&&A<N;)p=p[Lc(y[A++])];return A&&A==N?p:n}function IN(p,y,A){var N=y(p);return dn(p)?N:En(N,A(p))}function ua(p){return p==null?p===n?et:H:zh&&zh in tr(p)?Lpe(p):qpe(p)}function Ow(p,y){return p>y}function Qhe(p,y){return p!=null&&Re.call(p,y)}function epe(p,y){return p!=null&&y in tr(p)}function tpe(p,y,A){return p>=No(y,A)&&p<Yi(y,A)}function Dw(p,y,A){for(var N=A?ni:ti,q=p[0].length,re=p.length,he=re,Ce=je(re),Oe=1/0,Xe=[];he--;){var Je=p[he];he&&y&&(Je=Cn(Je,ca(y))),Oe=No(Je.length,Oe),Ce[he]=!A&&(y||q>=120&&Je.length>=120)?new jh(he&&Je):n}Je=p[0];var it=-1,dt=Ce[0];e:for(;++it<q&&Xe.length<Oe;){var At=Je[it],qt=y?y(At):At;if(At=A||At!==0?At:0,!(dt?Dh(dt,qt):N(Xe,qt,A))){for(he=re;--he;){var yn=Ce[he];if(!(yn?Dh(yn,qt):N(p[he],qt,A)))continue e}dt&&dt.push(qt),Xe.push(At)}}return Xe}function npe(p,y,A,N){return Oc(p,function(q,re,he){y(N,A(q),re,he)}),N}function S1(p,y,A){y=Uf(y,p),p=mM(p,y);var N=p==null?p:p[Lc(nl(y))];return N==null?n:Ye(N,p,A)}function PN(p){return vi(p)&&ua(p)==U}function rpe(p){return vi(p)&&ua(p)==Rt}function ipe(p){return vi(p)&&ua(p)==ce}function x1(p,y,A,N,q){return p===y?!0:p==null||y==null||!vi(p)&&!vi(y)?p!==p&&y!==y:ope(p,y,A,N,x1,q)}function ope(p,y,A,N,q,re){var he=dn(p),Ce=dn(y),Oe=he?ae:Mo(p),Xe=Ce?ae:Mo(y);Oe=Oe==U?Q:Oe,Xe=Xe==U?Q:Xe;var Je=Oe==Q,it=Xe==Q,dt=Oe==Xe;if(dt&&qf(p)){if(!qf(y))return!1;he=!0,Je=!1}if(dt&&!Je)return re||(re=new Ul),he||vg(p)?lM(p,y,A,N,q,re):Ope(p,y,Oe,A,N,q,re);if(!(A&m)){var At=Je&&Re.call(p,"__wrapped__"),qt=it&&Re.call(y,"__wrapped__");if(At||qt){var yn=At?p.value():p,Yt=qt?y.value():y;return re||(re=new Ul),q(yn,Yt,A,N,re)}}return dt?(re||(re=new Ul),Dpe(p,y,A,N,q,re)):!1}function ape(p){return vi(p)&&Mo(p)==E}function Lw(p,y,A,N){var q=A.length,re=q,he=!N;if(p==null)return!re;for(p=tr(p);q--;){var Ce=A[q];if(he&&Ce[2]?Ce[1]!==p[Ce[0]]:!(Ce[0]in p))return!1}for(;++q<re;){Ce=A[q];var Oe=Ce[0],Xe=p[Oe],Je=Ce[1];if(he&&Ce[2]){if(Xe===n&&!(Oe in p))return!1}else{var it=new Ul;if(N)var dt=N(Xe,Je,Oe,p,y,it);if(!(dt===n?x1(Je,Xe,m|v,N,it):dt))return!1}}return!0}function EN(p){if(!si(p)||Bpe(p))return!1;var y=zu(p)?Ht:qn;return y.test(Wh(p))}function spe(p){return vi(p)&&ua(p)==Fe}function lpe(p){return vi(p)&&Mo(p)==Le}function cpe(p){return vi(p)&&N7(p.length)&&!!vr[ua(p)]}function $N(p){return typeof p=="function"?p:p==null?Va:typeof p=="object"?dn(p)?LN(p[0],p[1]):DN(p):QM(p)}function Fw(p){if(!A1(p))return dhe(p);var y=[];for(var A in tr(p))Re.call(p,A)&&A!="constructor"&&y.push(A);return y}function upe(p){if(!si(p))return Gpe(p);var y=A1(p),A=[];for(var N in p)N=="constructor"&&(y||!Re.call(p,N))||A.push(N);return A}function Nw(p,y){return p<y}function ON(p,y){var A=-1,N=Ra(p)?je(p.length):[];return Hf(p,function(q,re,he){N[++A]=y(q,re,he)}),N}function DN(p){var y=Jw(p);return y.length==1&&y[0][2]?hM(y[0][0],y[0][1]):function(A){return A===p||Lw(A,p,y)}}function LN(p,y){return Qw(p)&&dM(y)?hM(Lc(p),y):function(A){var N=cS(A,p);return N===n&&N===y?uS(A,p):x1(y,N,m|v)}}function k7(p,y,A,N,q){p!==y&&Ew(y,function(re,he){if(q||(q=new Ul),si(re))fpe(p,y,he,A,k7,N,q);else{var Ce=N?N(tS(p,he),re,he+"",p,y,q):n;Ce===n&&(Ce=re),Iw(p,he,Ce)}},ja)}function fpe(p,y,A,N,q,re,he){var Ce=tS(p,A),Oe=tS(y,A),Xe=he.get(Oe);if(Xe){Iw(p,A,Xe);return}var Je=re?re(Ce,Oe,A+"",p,y,he):n,it=Je===n;if(it){var dt=dn(Oe),At=!dt&&qf(Oe),qt=!dt&&!At&&vg(Oe);Je=Oe,dt||At||qt?dn(Ce)?Je=Ce:Pi(Ce)?Je=za(Ce):At?(it=!1,Je=GN(Oe,!0)):qt?(it=!1,Je=qN(Oe,!0)):Je=[]:P1(Oe)||Uh(Oe)?(Je=Ce,Uh(Ce)?Je=HM(Ce):(!si(Ce)||zu(Ce))&&(Je=fM(Oe))):it=!1}it&&(he.set(Oe,Je),q(Je,Oe,N,re,he),he.delete(Oe)),Iw(p,A,Je)}function FN(p,y){var A=p.length;if(A)return y+=y<0?A:0,Mu(y,A)?p[y]:n}function NN(p,y,A){y.length?y=Cn(y,function(re){return dn(re)?function(he){return Bh(he,re.length===1?re[0]:re)}:re}):y=[Va];var N=-1;y=Cn(y,ca(Gt()));var q=ON(p,function(re,he,Ce){var Oe=Cn(y,function(Xe){return Xe(re)});return{criteria:Oe,index:++N,value:re}});return h1(q,function(re,he){return xpe(re,he,A)})}function dpe(p,y){return MN(p,y,function(A,N){return uS(p,N)})}function MN(p,y,A){for(var N=-1,q=y.length,re={};++N<q;){var he=y[N],Ce=Bh(p,he);A(Ce,he)&&C1(re,Uf(he,p),Ce)}return re}function hpe(p){return function(y){return Bh(y,p)}}function Mw(p,y,A,N){var q=N?Do:La,re=-1,he=y.length,Ce=p;for(p===y&&(y=za(y)),A&&(Ce=Cn(p,ca(A)));++re<he;)for(var Oe=0,Xe=y[re],Je=A?A(Xe):Xe;(Oe=q(Ce,Je,Oe,N))>-1;)Ce!==p&&$c.call(Ce,Oe,1),$c.call(p,Oe,1);return p}function zN(p,y){for(var A=p?y.length:0,N=A-1;A--;){var q=y[A];if(A==N||q!==re){var re=q;Mu(q)?$c.call(p,q,1):Vw(p,q)}}return p}function zw(p,y){return p+h7(vN()*(y-p+1))}function ppe(p,y,A,N){for(var q=-1,re=Yi(d7((y-p)/(A||1)),0),he=je(re);re--;)he[N?re:++q]=p,p+=A;return he}function Rw(p,y){var A="";if(!p||y<1||y>Ae)return A;do y%2&&(A+=p),y=h7(y/2),y&&(p+=p);while(y);return A}function Sn(p,y){return nS(pM(p,y,Va),p+"")}function mpe(p){return _N(yg(p))}function gpe(p,y){var A=yg(p);return E7(A,Vh(y,0,A.length))}function C1(p,y,A,N){if(!si(p))return p;y=Uf(y,p);for(var q=-1,re=y.length,he=re-1,Ce=p;Ce!=null&&++q<re;){var Oe=Lc(y[q]),Xe=A;if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return p;if(q!=he){var Je=Ce[Oe];Xe=N?N(Je,Oe,Ce):n,Xe===n&&(Xe=si(Je)?Je:Mu(y[q+1])?[]:{})}_1(Ce,Oe,Xe),Ce=Ce[Oe]}return p}var RN=p7?function(p,y){return p7.set(p,y),p}:Va,bpe=f7?function(p,y){return f7(p,"toString",{configurable:!0,enumerable:!1,value:dS(y),writable:!0})}:Va;function vpe(p){return E7(yg(p))}function tl(p,y,A){var N=-1,q=p.length;y<0&&(y=-y>q?0:q+y),A=A>q?q:A,A<0&&(A+=q),q=y>A?0:A-y>>>0,y>>>=0;for(var re=je(q);++N<q;)re[N]=p[N+y];return re}function ype(p,y){var A;return Hf(p,function(N,q,re){return A=y(N,q,re),!A}),!!A}function _7(p,y,A){var N=0,q=p==null?N:p.length;if(typeof y=="number"&&y===y&&q<=J){for(;N<q;){var re=N+q>>>1,he=p[re];he!==null&&!xs(he)&&(A?he<=y:he<y)?N=re+1:q=re}return q}return jw(p,y,Va,A)}function jw(p,y,A,N){var q=0,re=p==null?0:p.length;if(re===0)return 0;y=A(y);for(var he=y!==y,Ce=y===null,Oe=xs(y),Xe=y===n;q<re;){var Je=h7((q+re)/2),it=A(p[Je]),dt=it!==n,At=it===null,qt=it===it,yn=xs(it);if(he)var Yt=N||qt;else Xe?Yt=qt&&(N||dt):Ce?Yt=qt&&dt&&(N||!At):Oe?Yt=qt&&dt&&!At&&(N||!yn):At||yn?Yt=!1:Yt=N?it<=y:it<y;Yt?q=Je+1:re=Je}return No(re,ne)}function jN(p,y){for(var A=-1,N=p.length,q=0,re=[];++A<N;){var he=p[A],Ce=y?y(he):he;if(!A||!Gl(Ce,Oe)){var Oe=Ce;re[q++]=he===0?0:he}}return re}function VN(p){return typeof p=="number"?p:xs(p)?ke:+p}function Ss(p){if(typeof p=="string")return p;if(dn(p))return Cn(p,Ss)+"";if(xs(p))return yN?yN.call(p):"";var y=p+"";return y=="0"&&1/p==-_e?"-0":y}function Wf(p,y,A){var N=-1,q=ti,re=p.length,he=!0,Ce=[],Oe=Ce;if(A)he=!1,q=ni;else if(re>=i){var Xe=y?null:Epe(p);if(Xe)return Nh(Xe);he=!1,q=Dh,Oe=new jh}else Oe=y?[]:Ce;e:for(;++N<re;){var Je=p[N],it=y?y(Je):Je;if(Je=A||Je!==0?Je:0,he&&it===it){for(var dt=Oe.length;dt--;)if(Oe[dt]===it)continue e;y&&Oe.push(it),Ce.push(Je)}else q(Oe,it,A)||(Oe!==Ce&&Oe.push(it),Ce.push(Je))}return Ce}function Vw(p,y){return y=Uf(y,p),p=mM(p,y),p==null||delete p[Lc(nl(y))]}function BN(p,y,A,N){return C1(p,y,A(Bh(p,y)),N)}function w7(p,y,A,N){for(var q=p.length,re=N?q:-1;(N?re--:++re<q)&&y(p[re],re,p););return A?tl(p,N?0:re,N?re+1:q):tl(p,N?re+1:0,N?q:re)}function HN(p,y){var A=p;return A instanceof Mn&&(A=A.value()),Jt(y,function(N,q){return q.func.apply(q.thisArg,En([N],q.args))},A)}function Bw(p,y,A){var N=p.length;if(N<2)return N?Wf(p[0]):[];for(var q=-1,re=je(N);++q<N;)for(var he=p[q],Ce=-1;++Ce<N;)Ce!=q&&(re[q]=w1(re[q]||he,p[Ce],y,A));return Wf(mo(re,1),y,A)}function WN(p,y,A){for(var N=-1,q=p.length,re=y.length,he={};++N<q;){var Ce=N<re?y[N]:n;A(he,p[N],Ce)}return he}function Hw(p){return Pi(p)?p:[]}function Ww(p){return typeof p=="function"?p:Va}function Uf(p,y){return dn(p)?p:Qw(p,y)?[p]:yM(cr(p))}var kpe=Sn;function Gf(p,y,A){var N=p.length;return A=A===n?N:A,!y&&A>=N?p:tl(p,y,A)}var UN=she||function(p){return Gi.clearTimeout(p)};function GN(p,y){if(y)return p.slice();var A=p.length,N=bi?bi(A):new p.constructor(A);return p.copy(N),N}function Uw(p){var y=new p.constructor(p.byteLength);return new Dt(y).set(new Dt(p)),y}function _pe(p,y){var A=y?Uw(p.buffer):p.buffer;return new p.constructor(A,p.byteOffset,p.byteLength)}function wpe(p){var y=new p.constructor(p.source,sr.exec(p));return y.lastIndex=p.lastIndex,y}function Spe(p){return k1?tr(k1.call(p)):{}}function qN(p,y){var A=y?Uw(p.buffer):p.buffer;return new p.constructor(A,p.byteOffset,p.length)}function YN(p,y){if(p!==y){var A=p!==n,N=p===null,q=p===p,re=xs(p),he=y!==n,Ce=y===null,Oe=y===y,Xe=xs(y);if(!Ce&&!Xe&&!re&&p>y||re&&he&&Oe&&!Ce&&!Xe||N&&he&&Oe||!A&&Oe||!q)return 1;if(!N&&!re&&!Xe&&p<y||Xe&&A&&q&&!N&&!re||Ce&&A&&q||!he&&q||!Oe)return-1}return 0}function xpe(p,y,A){for(var N=-1,q=p.criteria,re=y.criteria,he=q.length,Ce=A.length;++N<he;){var Oe=YN(q[N],re[N]);if(Oe){if(N>=Ce)return Oe;var Xe=A[N];return Oe*(Xe=="desc"?-1:1)}}return p.index-y.index}function XN(p,y,A,N){for(var q=-1,re=p.length,he=A.length,Ce=-1,Oe=y.length,Xe=Yi(re-he,0),Je=je(Oe+Xe),it=!N;++Ce<Oe;)Je[Ce]=y[Ce];for(;++q<he;)(it||q<re)&&(Je[A[q]]=p[q]);for(;Xe--;)Je[Ce++]=p[q++];return Je}function KN(p,y,A,N){for(var q=-1,re=p.length,he=-1,Ce=A.length,Oe=-1,Xe=y.length,Je=Yi(re-Ce,0),it=je(Je+Xe),dt=!N;++q<Je;)it[q]=p[q];for(var At=q;++Oe<Xe;)it[At+Oe]=y[Oe];for(;++he<Ce;)(dt||q<re)&&(it[At+A[he]]=p[q++]);return it}function za(p,y){var A=-1,N=p.length;for(y||(y=je(N));++A<N;)y[A]=p[A];return y}function Dc(p,y,A,N){var q=!A;A||(A={});for(var re=-1,he=y.length;++re<he;){var Ce=y[re],Oe=N?N(A[Ce],p[Ce],Ce,A,p):n;Oe===n&&(Oe=p[Ce]),q?Lu(A,Ce,Oe):_1(A,Ce,Oe)}return A}function Cpe(p,y){return Dc(p,Zw(p),y)}function Tpe(p,y){return Dc(p,cM(p),y)}function S7(p,y){return function(A,N){var q=dn(A)?Ne:Yhe,re=y?y():{};return q(A,p,Gt(N,2),re)}}function mg(p){return Sn(function(y,A){var N=-1,q=A.length,re=q>1?A[q-1]:n,he=q>2?A[2]:n;for(re=p.length>3&&typeof re=="function"?(q--,re):n,he&&fa(A[0],A[1],he)&&(re=q<3?n:re,q=1),y=tr(y);++N<q;){var Ce=A[N];Ce&&p(y,Ce,N,re)}return y})}function JN(p,y){return function(A,N){if(A==null)return A;if(!Ra(A))return p(A,N);for(var q=A.length,re=y?q:-1,he=tr(A);(y?re--:++re<q)&&N(he[re],re,he)!==!1;);return A}}function ZN(p){return function(y,A,N){for(var q=-1,re=tr(y),he=N(y),Ce=he.length;Ce--;){var Oe=he[p?Ce:++q];if(A(re[Oe],Oe,re)===!1)break}return y}}function Ape(p,y,A){var N=y&k,q=T1(p);function re(){var he=this&&this!==Gi&&this instanceof re?q:p;return he.apply(N?A:this,arguments)}return re}function QN(p){return function(y){y=cr(y);var A=Vf(y)?Lo(y):n,N=A?A[0]:y.charAt(0),q=A?Gf(A,1).join(""):y.slice(1);return N[p]()+q}}function gg(p){return function(y){return Jt(JM(KM(y).replace(fw,"")),p,"")}}function T1(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var A=pg(p.prototype),N=p.apply(A,y);return si(N)?N:A}}function Ipe(p,y,A){var N=T1(p);function q(){for(var re=arguments.length,he=je(re),Ce=re,Oe=bg(q);Ce--;)he[Ce]=arguments[Ce];var Xe=re<3&&he[0]!==Oe&&he[re-1]!==Oe?[]:io(he,Oe);if(re-=Xe.length,re<A)return iM(p,y,x7,q.placeholder,n,he,Xe,n,n,A-re);var Je=this&&this!==Gi&&this instanceof q?N:p;return Ye(Je,this,he)}return q}function eM(p){return function(y,A,N){var q=tr(y);if(!Ra(y)){var re=Gt(A,3);y=oo(y),A=function(Ce){return re(q[Ce],Ce,q)}}var he=p(y,A,N);return he>-1?q[re?y[he]:he]:n}}function tM(p){return Nu(function(y){var A=y.length,N=A,q=Qs.prototype.thru;for(p&&y.reverse();N--;){var re=y[N];if(typeof re!="function")throw new Ma(a);if(q&&!he&&I7(re)=="wrapper")var he=new Qs([],!0)}for(N=he?N:A;++N<A;){re=y[N];var Ce=I7(re),Oe=Ce=="wrapper"?Kw(re):n;Oe&&eS(Oe[0])&&Oe[1]==(T|x|S|P)&&!Oe[4].length&&Oe[9]==1?he=he[I7(Oe[0])].apply(he,Oe[3]):he=re.length==1&&eS(re)?he[Ce]():he.thru(re)}return function(){var Xe=arguments,Je=Xe[0];if(he&&Xe.length==1&&dn(Je))return he.plant(Je).value();for(var it=0,dt=A?y[it].apply(this,Xe):Je;++it<A;)dt=y[it].call(this,dt);return dt}})}function x7(p,y,A,N,q,re,he,Ce,Oe,Xe){var Je=y&T,it=y&k,dt=y&b,At=y&(x|C),qt=y&$,yn=dt?n:T1(p);function Yt(){for(var On=arguments.length,Hn=je(On),Cs=On;Cs--;)Hn[Cs]=arguments[Cs];if(At)var da=bg(Yt),Ts=bw(Hn,da);if(N&&(Hn=XN(Hn,N,q,At)),re&&(Hn=KN(Hn,re,he,At)),On-=Ts,At&&On<Xe){var Ei=io(Hn,da);return iM(p,y,x7,Yt.placeholder,A,Hn,Ei,Ce,Oe,Xe-On)}var ql=it?A:this,ju=dt?ql[p]:p;return On=Hn.length,Ce?Hn=Ype(Hn,Ce):qt&&On>1&&Hn.reverse(),Je&&Oe<On&&(Hn.length=Oe),this&&this!==Gi&&this instanceof Yt&&(ju=yn||T1(ju)),ju.apply(ql,Hn)}return Yt}function nM(p,y){return function(A,N){return npe(A,p,y(N),{})}}function C7(p,y){return function(A,N){var q;if(A===n&&N===n)return y;if(A!==n&&(q=A),N!==n){if(q===n)return N;typeof A=="string"||typeof N=="string"?(A=Ss(A),N=Ss(N)):(A=VN(A),N=VN(N)),q=p(A,N)}return q}}function Gw(p){return Nu(function(y){return y=Cn(y,ca(Gt())),Sn(function(A){var N=this;return p(y,function(q){return Ye(q,N,A)})})})}function T7(p,y){y=y===n?" ":Ss(y);var A=y.length;if(A<2)return A?Rw(y,p):y;var N=Rw(y,d7(p/Xn(y)));return Vf(y)?Gf(Lo(N),0,p).join(""):N.slice(0,p)}function Ppe(p,y,A,N){var q=y&k,re=T1(p);function he(){for(var Ce=-1,Oe=arguments.length,Xe=-1,Je=N.length,it=je(Je+Oe),dt=this&&this!==Gi&&this instanceof he?re:p;++Xe<Je;)it[Xe]=N[Xe];for(;Oe--;)it[Xe++]=arguments[++Ce];return Ye(dt,q?A:this,it)}return he}function rM(p){return function(y,A,N){return N&&typeof N!="number"&&fa(y,A,N)&&(A=N=n),y=Ru(y),A===n?(A=y,y=0):A=Ru(A),N=N===n?y<A?1:-1:Ru(N),ppe(y,A,N,p)}}function A7(p){return function(y,A){return typeof y=="string"&&typeof A=="string"||(y=rl(y),A=rl(A)),p(y,A)}}function iM(p,y,A,N,q,re,he,Ce,Oe,Xe){var Je=y&x,it=Je?he:n,dt=Je?n:he,At=Je?re:n,qt=Je?n:re;y|=Je?S:g,y&=~(Je?g:S),y&_||(y&=~(k|b));var yn=[p,y,q,At,it,qt,dt,Ce,Oe,Xe],Yt=A.apply(n,yn);return eS(p)&&gM(Yt,yn),Yt.placeholder=N,bM(Yt,p,y)}function qw(p){var y=Ai[p];return function(A,N){if(A=rl(A),N=N==null?0:No(pn(N),292),N&&bN(A)){var q=(cr(A)+"e").split("e"),re=y(q[0]+"e"+(+q[1]+N));return q=(cr(re)+"e").split("e"),+(q[0]+"e"+(+q[1]-N))}return y(A)}}var Epe=dg&&1/Nh(new dg([,-0]))[1]==_e?function(p){return new dg(p)}:mS;function oM(p){return function(y){var A=Mo(y);return A==E?Fh(y):A==Le?l7(y):a7(y,p(y))}}function Fu(p,y,A,N,q,re,he,Ce){var Oe=y&b;if(!Oe&&typeof p!="function")throw new Ma(a);var Xe=N?N.length:0;if(Xe||(y&=~(S|g),N=q=n),he=he===n?he:Yi(pn(he),0),Ce=Ce===n?Ce:pn(Ce),Xe-=q?q.length:0,y&g){var Je=N,it=q;N=q=n}var dt=Oe?n:Kw(p),At=[p,y,A,N,q,Je,it,re,he,Ce];if(dt&&Upe(At,dt),p=At[0],y=At[1],A=At[2],N=At[3],q=At[4],Ce=At[9]=At[9]===n?Oe?0:p.length:Yi(At[9]-Xe,0),!Ce&&y&(x|C)&&(y&=~(x|C)),!y||y==k)var qt=Ape(p,y,A);else y==x||y==C?qt=Ipe(p,y,Ce):(y==S||y==(k|S))&&!q.length?qt=Ppe(p,y,A,N):qt=x7.apply(n,At);var yn=dt?RN:gM;return bM(yn(qt,At),p,y)}function aM(p,y,A,N){return p===n||Gl(p,Te[A])&&!Re.call(N,A)?y:p}function sM(p,y,A,N,q,re){return si(p)&&si(y)&&(re.set(y,p),k7(p,y,n,sM,re),re.delete(y)),p}function $pe(p){return P1(p)?n:p}function lM(p,y,A,N,q,re){var he=A&m,Ce=p.length,Oe=y.length;if(Ce!=Oe&&!(he&&Oe>Ce))return!1;var Xe=re.get(p),Je=re.get(y);if(Xe&&Je)return Xe==y&&Je==p;var it=-1,dt=!0,At=A&v?new jh:n;for(re.set(p,y),re.set(y,p);++it<Ce;){var qt=p[it],yn=y[it];if(N)var Yt=he?N(yn,qt,it,y,p,re):N(qt,yn,it,p,y,re);if(Yt!==n){if(Yt)continue;dt=!1;break}if(At){if(!$n(y,function(On,Hn){if(!Dh(At,Hn)&&(qt===On||q(qt,On,A,N,re)))return At.push(Hn)})){dt=!1;break}}else if(!(qt===yn||q(qt,yn,A,N,re))){dt=!1;break}}return re.delete(p),re.delete(y),dt}function Ope(p,y,A,N,q,re,he){switch(A){case Xt:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case Rt:return!(p.byteLength!=y.byteLength||!re(new Dt(p),new Dt(y)));case ue:case ce:case M:return Gl(+p,+y);case ve:return p.name==y.name&&p.message==y.message;case Fe:case tt:return p==y+"";case E:var Ce=Fh;case Le:var Oe=N&m;if(Ce||(Ce=Nh),p.size!=y.size&&!Oe)return!1;var Xe=he.get(p);if(Xe)return Xe==y;N|=v,he.set(p,y);var Je=lM(Ce(p),Ce(y),N,q,re,he);return he.delete(p),Je;case Ke:if(k1)return k1.call(p)==k1.call(y)}return!1}function Dpe(p,y,A,N,q,re){var he=A&m,Ce=Yw(p),Oe=Ce.length,Xe=Yw(y),Je=Xe.length;if(Oe!=Je&&!he)return!1;for(var it=Oe;it--;){var dt=Ce[it];if(!(he?dt in y:Re.call(y,dt)))return!1}var At=re.get(p),qt=re.get(y);if(At&&qt)return At==y&&qt==p;var yn=!0;re.set(p,y),re.set(y,p);for(var Yt=he;++it<Oe;){dt=Ce[it];var On=p[dt],Hn=y[dt];if(N)var Cs=he?N(Hn,On,dt,y,p,re):N(On,Hn,dt,p,y,re);if(!(Cs===n?On===Hn||q(On,Hn,A,N,re):Cs)){yn=!1;break}Yt||(Yt=dt=="constructor")}if(yn&&!Yt){var da=p.constructor,Ts=y.constructor;da!=Ts&&"constructor"in p&&"constructor"in y&&!(typeof da=="function"&&da instanceof da&&typeof Ts=="function"&&Ts instanceof Ts)&&(yn=!1)}return re.delete(p),re.delete(y),yn}function Nu(p){return nS(pM(p,n,SM),p+"")}function Yw(p){return IN(p,oo,Zw)}function Xw(p){return IN(p,ja,cM)}var Kw=p7?function(p){return p7.get(p)}:mS;function I7(p){for(var y=p.name+"",A=hg[y],N=Re.call(hg,y)?A.length:0;N--;){var q=A[N],re=q.func;if(re==null||re==p)return q.name}return y}function bg(p){var y=Re.call(Z,"placeholder")?Z:p;return y.placeholder}function Gt(){var p=Z.iteratee||hS;return p=p===hS?$N:p,arguments.length?p(arguments[0],arguments[1]):p}function P7(p,y){var A=p.__data__;return Vpe(y)?A[typeof y=="string"?"string":"hash"]:A.map}function Jw(p){for(var y=oo(p),A=y.length;A--;){var N=y[A],q=p[N];y[A]=[N,q,dM(q)]}return y}function Hh(p,y){var A=kw(p,y);return EN(A)?A:n}function Lpe(p){var y=Re.call(p,zh),A=p[zh];try{p[zh]=n;var N=!0}catch{}var q=ut.call(p);return N&&(y?p[zh]=A:delete p[zh]),q}var Zw=Cw?function(p){return p==null?[]:(p=tr(p),bt(Cw(p),function(y){return Ar.call(p,y)}))}:gS,cM=Cw?function(p){for(var y=[];p;)En(y,Zw(p)),p=Ii(p);return y}:gS,Mo=ua;(Tw&&Mo(new Tw(new ArrayBuffer(1)))!=Xt||b1&&Mo(new b1)!=E||Aw&&Mo(Aw.resolve())!=be||dg&&Mo(new dg)!=Le||v1&&Mo(new v1)!=Qe)&&(Mo=function(p){var y=ua(p),A=y==Q?p.constructor:n,N=A?Wh(A):"";if(N)switch(N){case ghe:return Xt;case bhe:return E;case vhe:return be;case yhe:return Le;case khe:return Qe}return y});function Fpe(p,y,A){for(var N=-1,q=A.length;++N<q;){var re=A[N],he=re.size;switch(re.type){case"drop":p+=he;break;case"dropRight":y-=he;break;case"take":y=No(y,p+he);break;case"takeRight":p=Yi(p,y-he);break}}return{start:p,end:y}}function Npe(p){var y=p.match(xe);return y?y[1].split(ze):[]}function uM(p,y,A){y=Uf(y,p);for(var N=-1,q=y.length,re=!1;++N<q;){var he=Lc(y[N]);if(!(re=p!=null&&A(p,he)))break;p=p[he]}return re||++N!=q?re:(q=p==null?0:p.length,!!q&&N7(q)&&Mu(he,q)&&(dn(p)||Uh(p)))}function Mpe(p){var y=p.length,A=new p.constructor(y);return y&&typeof p[0]=="string"&&Re.call(p,"index")&&(A.index=p.index,A.input=p.input),A}function fM(p){return typeof p.constructor=="function"&&!A1(p)?pg(Ii(p)):{}}function zpe(p,y,A){var N=p.constructor;switch(y){case Rt:return Uw(p);case ue:case ce:return new N(+p);case Xt:return _pe(p,A);case wt:case sn:case mr:case gi:case Lr:case ho:case Tr:case jn:case Vn:return qN(p,A);case E:return new N;case M:case tt:return new N(p);case Fe:return wpe(p);case Le:return new N;case Ke:return Spe(p)}}function Rpe(p,y){var A=y.length;if(!A)return p;var N=A-1;return y[N]=(A>1?"& ":"")+y[N],y=y.join(A>2?", ":" "),p.replace(le,`{
/* [wrapped with `+y+`] */
`)}function jpe(p){return dn(p)||Uh(p)||!!(Bf&&p&&p[Bf])}function Mu(p,y){var A=typeof p;return y=y??Ae,!!y&&(A=="number"||A!="symbol"&&Kt.test(p))&&p>-1&&p%1==0&&p<y}function fa(p,y,A){if(!si(A))return!1;var N=typeof y;return(N=="number"?Ra(A)&&Mu(y,A.length):N=="string"&&y in A)?Gl(A[y],p):!1}function Qw(p,y){if(dn(p))return!1;var A=typeof p;return A=="number"||A=="symbol"||A=="boolean"||p==null||xs(p)?!0:og.test(p)||!Th.test(p)||y!=null&&p in tr(y)}function Vpe(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function eS(p){var y=I7(p),A=Z[y];if(typeof A!="function"||!(y in Mn.prototype))return!1;if(p===A)return!0;var N=Kw(A);return!!N&&p===N[0]}function Bpe(p){return!!st&&st in p}var Hpe=qe?zu:bS;function A1(p){var y=p&&p.constructor,A=typeof y=="function"&&y.prototype||Te;return p===A}function dM(p){return p===p&&!si(p)}function hM(p,y){return function(A){return A==null?!1:A[p]===y&&(y!==n||p in tr(A))}}function Wpe(p){var y=L7(p,function(N){return A.size===c&&A.clear(),N}),A=y.cache;return y}function Upe(p,y){var A=p[1],N=y[1],q=A|N,re=q<(k|b|T),he=N==T&&A==x||N==T&&A==P&&p[7].length<=y[8]||N==(T|P)&&y[7].length<=y[8]&&A==x;if(!(re||he))return p;N&k&&(p[2]=y[2],q|=A&k?0:_);var Ce=y[3];if(Ce){var Oe=p[3];p[3]=Oe?XN(Oe,Ce,y[4]):Ce,p[4]=Oe?io(p[3],u):y[4]}return Ce=y[5],Ce&&(Oe=p[5],p[5]=Oe?KN(Oe,Ce,y[6]):Ce,p[6]=Oe?io(p[5],u):y[6]),Ce=y[7],Ce&&(p[7]=Ce),N&T&&(p[8]=p[8]==null?y[8]:No(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=q,p}function Gpe(p){var y=[];if(p!=null)for(var A in tr(p))y.push(A);return y}function qpe(p){return ut.call(p)}function pM(p,y,A){return y=Yi(y===n?p.length-1:y,0),function(){for(var N=arguments,q=-1,re=Yi(N.length-y,0),he=je(re);++q<re;)he[q]=N[y+q];q=-1;for(var Ce=je(y+1);++q<y;)Ce[q]=N[q];return Ce[y]=A(he),Ye(p,this,Ce)}}function mM(p,y){return y.length<2?p:Bh(p,tl(y,0,-1))}function Ype(p,y){for(var A=p.length,N=No(y.length,A),q=za(p);N--;){var re=y[N];p[N]=Mu(re,A)?q[re]:n}return p}function tS(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var gM=vM(RN),I1=che||function(p,y){return Gi.setTimeout(p,y)},nS=vM(bpe);function bM(p,y,A){var N=y+"";return nS(p,Rpe(N,Xpe(Npe(N),A)))}function vM(p){var y=0,A=0;return function(){var N=hhe(),q=R-(N-A);if(A=N,q>0){if(++y>=z)return arguments[0]}else y=0;return p.apply(n,arguments)}}function E7(p,y){var A=-1,N=p.length,q=N-1;for(y=y===n?N:y;++A<y;){var re=zw(A,q),he=p[re];p[re]=p[A],p[A]=he}return p.length=y,p}var yM=Wpe(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(n1,function(A,N,q,re){y.push(q?re.replace(Ct,"$1"):N||A)}),y});function Lc(p){if(typeof p=="string"||xs(p))return p;var y=p+"";return y=="0"&&1/p==-_e?"-0":y}function Wh(p){if(p!=null){try{return $e.call(p)}catch{}try{return p+""}catch{}}return""}function Xpe(p,y){return He(j,function(A){var N="_."+A[0];y&A[1]&&!ti(p,N)&&p.push(N)}),p.sort()}function kM(p){if(p instanceof Mn)return p.clone();var y=new Qs(p.__wrapped__,p.__chain__);return y.__actions__=za(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function Kpe(p,y,A){(A?fa(p,y,A):y===n)?y=1:y=Yi(pn(y),0);var N=p==null?0:p.length;if(!N||y<1)return[];for(var q=0,re=0,he=je(d7(N/y));q<N;)he[re++]=tl(p,q,q+=y);return he}function Jpe(p){for(var y=-1,A=p==null?0:p.length,N=0,q=[];++y<A;){var re=p[y];re&&(q[N++]=re)}return q}function Zpe(){var p=arguments.length;if(!p)return[];for(var y=je(p-1),A=arguments[0],N=p;N--;)y[N-1]=arguments[N];return En(dn(A)?za(A):[A],mo(y,1))}var Qpe=Sn(function(p,y){return Pi(p)?w1(p,mo(y,1,Pi,!0)):[]}),eme=Sn(function(p,y){var A=nl(y);return Pi(A)&&(A=n),Pi(p)?w1(p,mo(y,1,Pi,!0),Gt(A,2)):[]}),tme=Sn(function(p,y){var A=nl(y);return Pi(A)&&(A=n),Pi(p)?w1(p,mo(y,1,Pi,!0),n,A):[]});function nme(p,y,A){var N=p==null?0:p.length;return N?(y=A||y===n?1:pn(y),tl(p,y<0?0:y,N)):[]}function rme(p,y,A){var N=p==null?0:p.length;return N?(y=A||y===n?1:pn(y),y=N-y,tl(p,0,y<0?0:y)):[]}function ime(p,y){return p&&p.length?w7(p,Gt(y,3),!0,!0):[]}function ome(p,y){return p&&p.length?w7(p,Gt(y,3),!0):[]}function ame(p,y,A,N){var q=p==null?0:p.length;return q?(A&&typeof A!="number"&&fa(p,y,A)&&(A=0,N=q),Zhe(p,y,A,N)):[]}function _M(p,y,A){var N=p==null?0:p.length;if(!N)return-1;var q=A==null?0:pn(A);return q<0&&(q=Yi(N+q,0)),Ks(p,Gt(y,3),q)}function wM(p,y,A){var N=p==null?0:p.length;if(!N)return-1;var q=N-1;return A!==n&&(q=pn(A),q=A<0?Yi(N+q,0):No(q,N-1)),Ks(p,Gt(y,3),q,!0)}function SM(p){var y=p==null?0:p.length;return y?mo(p,1):[]}function sme(p){var y=p==null?0:p.length;return y?mo(p,_e):[]}function lme(p,y){var A=p==null?0:p.length;return A?(y=y===n?1:pn(y),mo(p,y)):[]}function cme(p){for(var y=-1,A=p==null?0:p.length,N={};++y<A;){var q=p[y];N[q[0]]=q[1]}return N}function xM(p){return p&&p.length?p[0]:n}function ume(p,y,A){var N=p==null?0:p.length;if(!N)return-1;var q=A==null?0:pn(A);return q<0&&(q=Yi(N+q,0)),La(p,y,q)}function fme(p){var y=p==null?0:p.length;return y?tl(p,0,-1):[]}var dme=Sn(function(p){var y=Cn(p,Hw);return y.length&&y[0]===p[0]?Dw(y):[]}),hme=Sn(function(p){var y=nl(p),A=Cn(p,Hw);return y===nl(A)?y=n:A.pop(),A.length&&A[0]===p[0]?Dw(A,Gt(y,2)):[]}),pme=Sn(function(p){var y=nl(p),A=Cn(p,Hw);return y=typeof y=="function"?y:n,y&&A.pop(),A.length&&A[0]===p[0]?Dw(A,n,y):[]});function mme(p,y){return p==null?"":fhe.call(p,y)}function nl(p){var y=p==null?0:p.length;return y?p[y-1]:n}function gme(p,y,A){var N=p==null?0:p.length;if(!N)return-1;var q=N;return A!==n&&(q=pn(A),q=q<0?Yi(N+q,0):No(q,N-1)),y===y?ww(p,y,q):Ks(p,Hl,q,!0)}function bme(p,y){return p&&p.length?FN(p,pn(y)):n}var vme=Sn(CM);function CM(p,y){return p&&p.length&&y&&y.length?Mw(p,y):p}function yme(p,y,A){return p&&p.length&&y&&y.length?Mw(p,y,Gt(A,2)):p}function kme(p,y,A){return p&&p.length&&y&&y.length?Mw(p,y,n,A):p}var _me=Nu(function(p,y){var A=p==null?0:p.length,N=Pw(p,y);return zN(p,Cn(y,function(q){return Mu(q,A)?+q:q}).sort(YN)),N});function wme(p,y){var A=[];if(!(p&&p.length))return A;var N=-1,q=[],re=p.length;for(y=Gt(y,3);++N<re;){var he=p[N];y(he,N,p)&&(A.push(he),q.push(N))}return zN(p,q),A}function rS(p){return p==null?p:mhe.call(p)}function Sme(p,y,A){var N=p==null?0:p.length;return N?(A&&typeof A!="number"&&fa(p,y,A)?(y=0,A=N):(y=y==null?0:pn(y),A=A===n?N:pn(A)),tl(p,y,A)):[]}function xme(p,y){return _7(p,y)}function Cme(p,y,A){return jw(p,y,Gt(A,2))}function Tme(p,y){var A=p==null?0:p.length;if(A){var N=_7(p,y);if(N<A&&Gl(p[N],y))return N}return-1}function Ame(p,y){return _7(p,y,!0)}function Ime(p,y,A){return jw(p,y,Gt(A,2),!0)}function Pme(p,y){var A=p==null?0:p.length;if(A){var N=_7(p,y,!0)-1;if(Gl(p[N],y))return N}return-1}function Eme(p){return p&&p.length?jN(p):[]}function $me(p,y){return p&&p.length?jN(p,Gt(y,2)):[]}function Ome(p){var y=p==null?0:p.length;return y?tl(p,1,y):[]}function Dme(p,y,A){return p&&p.length?(y=A||y===n?1:pn(y),tl(p,0,y<0?0:y)):[]}function Lme(p,y,A){var N=p==null?0:p.length;return N?(y=A||y===n?1:pn(y),y=N-y,tl(p,y<0?0:y,N)):[]}function Fme(p,y){return p&&p.length?w7(p,Gt(y,3),!1,!0):[]}function Nme(p,y){return p&&p.length?w7(p,Gt(y,3)):[]}var Mme=Sn(function(p){return Wf(mo(p,1,Pi,!0))}),zme=Sn(function(p){var y=nl(p);return Pi(y)&&(y=n),Wf(mo(p,1,Pi,!0),Gt(y,2))}),Rme=Sn(function(p){var y=nl(p);return y=typeof y=="function"?y:n,Wf(mo(p,1,Pi,!0),n,y)});function jme(p){return p&&p.length?Wf(p):[]}function Vme(p,y){return p&&p.length?Wf(p,Gt(y,2)):[]}function Bme(p,y){return y=typeof y=="function"?y:n,p&&p.length?Wf(p,n,y):[]}function iS(p){if(!(p&&p.length))return[];var y=0;return p=bt(p,function(A){if(Pi(A))return y=Yi(A.length,y),!0}),Wl(y,function(A){return Cn(p,Js(A))})}function TM(p,y){if(!(p&&p.length))return[];var A=iS(p);return y==null?A:Cn(A,function(N){return Ye(y,n,N)})}var Hme=Sn(function(p,y){return Pi(p)?w1(p,y):[]}),Wme=Sn(function(p){return Bw(bt(p,Pi))}),Ume=Sn(function(p){var y=nl(p);return Pi(y)&&(y=n),Bw(bt(p,Pi),Gt(y,2))}),Gme=Sn(function(p){var y=nl(p);return y=typeof y=="function"?y:n,Bw(bt(p,Pi),n,y)}),qme=Sn(iS);function Yme(p,y){return WN(p||[],y||[],_1)}function Xme(p,y){return WN(p||[],y||[],C1)}var Kme=Sn(function(p){var y=p.length,A=y>1?p[y-1]:n;return A=typeof A=="function"?(p.pop(),A):n,TM(p,A)});function AM(p){var y=Z(p);return y.__chain__=!0,y}function Jme(p,y){return y(p),p}function $7(p,y){return y(p)}var Zme=Nu(function(p){var y=p.length,A=y?p[0]:0,N=this.__wrapped__,q=function(re){return Pw(re,p)};return y>1||this.__actions__.length||!(N instanceof Mn)||!Mu(A)?this.thru(q):(N=N.slice(A,+A+(y?1:0)),N.__actions__.push({func:$7,args:[q],thisArg:n}),new Qs(N,this.__chain__).thru(function(re){return y&&!re.length&&re.push(n),re}))});function Qme(){return AM(this)}function ege(){return new Qs(this.value(),this.__chain__)}function tge(){this.__values__===n&&(this.__values__=VM(this.value()));var p=this.__index__>=this.__values__.length,y=p?n:this.__values__[this.__index__++];return{done:p,value:y}}function nge(){return this}function rge(p){for(var y,A=this;A instanceof g7;){var N=kM(A);N.__index__=0,N.__values__=n,y?q.__wrapped__=N:y=N;var q=N;A=A.__wrapped__}return q.__wrapped__=p,y}function ige(){var p=this.__wrapped__;if(p instanceof Mn){var y=p;return this.__actions__.length&&(y=new Mn(this)),y=y.reverse(),y.__actions__.push({func:$7,args:[rS],thisArg:n}),new Qs(y,this.__chain__)}return this.thru(rS)}function oge(){return HN(this.__wrapped__,this.__actions__)}var age=S7(function(p,y,A){Re.call(p,A)?++p[A]:Lu(p,A,1)});function sge(p,y,A){var N=dn(p)?nn:Jhe;return A&&fa(p,y,A)&&(y=n),N(p,Gt(y,3))}function lge(p,y){var A=dn(p)?bt:TN;return A(p,Gt(y,3))}var cge=eM(_M),uge=eM(wM);function fge(p,y){return mo(O7(p,y),1)}function dge(p,y){return mo(O7(p,y),_e)}function hge(p,y,A){return A=A===n?1:pn(A),mo(O7(p,y),A)}function IM(p,y){var A=dn(p)?He:Hf;return A(p,Gt(y,3))}function PM(p,y){var A=dn(p)?$t:CN;return A(p,Gt(y,3))}var pge=S7(function(p,y,A){Re.call(p,A)?p[A].push(y):Lu(p,A,[y])});function mge(p,y,A,N){p=Ra(p)?p:yg(p),A=A&&!N?pn(A):0;var q=p.length;return A<0&&(A=Yi(q+A,0)),M7(p)?A<=q&&p.indexOf(y,A)>-1:!!q&&La(p,y,A)>-1}var gge=Sn(function(p,y,A){var N=-1,q=typeof y=="function",re=Ra(p)?je(p.length):[];return Hf(p,function(he){re[++N]=q?Ye(y,he,A):S1(he,y,A)}),re}),bge=S7(function(p,y,A){Lu(p,A,y)});function O7(p,y){var A=dn(p)?Cn:ON;return A(p,Gt(y,3))}function vge(p,y,A,N){return p==null?[]:(dn(y)||(y=y==null?[]:[y]),A=N?n:A,dn(A)||(A=A==null?[]:[A]),NN(p,y,A))}var yge=S7(function(p,y,A){p[A?0:1].push(y)},function(){return[[],[]]});function kge(p,y,A){var N=dn(p)?Jt:Ec,q=arguments.length<3;return N(p,Gt(y,4),A,q,Hf)}function _ge(p,y,A){var N=dn(p)?$o:Ec,q=arguments.length<3;return N(p,Gt(y,4),A,q,CN)}function wge(p,y){var A=dn(p)?bt:TN;return A(p,F7(Gt(y,3)))}function Sge(p){var y=dn(p)?_N:mpe;return y(p)}function xge(p,y,A){(A?fa(p,y,A):y===n)?y=1:y=pn(y);var N=dn(p)?Ghe:gpe;return N(p,y)}function Cge(p){var y=dn(p)?qhe:vpe;return y(p)}function Tge(p){if(p==null)return 0;if(Ra(p))return M7(p)?Xn(p):p.length;var y=Mo(p);return y==E||y==Le?p.size:Fw(p).length}function Age(p,y,A){var N=dn(p)?$n:ype;return A&&fa(p,y,A)&&(y=n),N(p,Gt(y,3))}var Ige=Sn(function(p,y){if(p==null)return[];var A=y.length;return A>1&&fa(p,y[0],y[1])?y=[]:A>2&&fa(y[0],y[1],y[2])&&(y=[y[0]]),NN(p,mo(y,1),[])}),D7=lhe||function(){return Gi.Date.now()};function Pge(p,y){if(typeof y!="function")throw new Ma(a);return p=pn(p),function(){if(--p<1)return y.apply(this,arguments)}}function EM(p,y,A){return y=A?n:y,y=p&&y==null?p.length:y,Fu(p,T,n,n,n,n,y)}function $M(p,y){var A;if(typeof y!="function")throw new Ma(a);return p=pn(p),function(){return--p>0&&(A=y.apply(this,arguments)),p<=1&&(y=n),A}}var oS=Sn(function(p,y,A){var N=k;if(A.length){var q=io(A,bg(oS));N|=S}return Fu(p,N,y,A,q)}),OM=Sn(function(p,y,A){var N=k|b;if(A.length){var q=io(A,bg(OM));N|=S}return Fu(y,N,p,A,q)});function DM(p,y,A){y=A?n:y;var N=Fu(p,x,n,n,n,n,n,y);return N.placeholder=DM.placeholder,N}function LM(p,y,A){y=A?n:y;var N=Fu(p,C,n,n,n,n,n,y);return N.placeholder=LM.placeholder,N}function FM(p,y,A){var N,q,re,he,Ce,Oe,Xe=0,Je=!1,it=!1,dt=!0;if(typeof p!="function")throw new Ma(a);y=rl(y)||0,si(A)&&(Je=!!A.leading,it="maxWait"in A,re=it?Yi(rl(A.maxWait)||0,y):re,dt="trailing"in A?!!A.trailing:dt);function At(Ei){var ql=N,ju=q;return N=q=n,Xe=Ei,he=p.apply(ju,ql),he}function qt(Ei){return Xe=Ei,Ce=I1(On,y),Je?At(Ei):he}function yn(Ei){var ql=Ei-Oe,ju=Ei-Xe,ez=y-ql;return it?No(ez,re-ju):ez}function Yt(Ei){var ql=Ei-Oe,ju=Ei-Xe;return Oe===n||ql>=y||ql<0||it&&ju>=re}function On(){var Ei=D7();if(Yt(Ei))return Hn(Ei);Ce=I1(On,yn(Ei))}function Hn(Ei){return Ce=n,dt&&N?At(Ei):(N=q=n,he)}function Cs(){Ce!==n&&UN(Ce),Xe=0,N=Oe=q=Ce=n}function da(){return Ce===n?he:Hn(D7())}function Ts(){var Ei=D7(),ql=Yt(Ei);if(N=arguments,q=this,Oe=Ei,ql){if(Ce===n)return qt(Oe);if(it)return UN(Ce),Ce=I1(On,y),At(Oe)}return Ce===n&&(Ce=I1(On,y)),he}return Ts.cancel=Cs,Ts.flush=da,Ts}var Ege=Sn(function(p,y){return xN(p,1,y)}),$ge=Sn(function(p,y,A){return xN(p,rl(y)||0,A)});function Oge(p){return Fu(p,$)}function L7(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new Ma(a);var A=function(){var N=arguments,q=y?y.apply(this,N):N[0],re=A.cache;if(re.has(q))return re.get(q);var he=p.apply(this,N);return A.cache=re.set(q,he)||re,he};return A.cache=new(L7.Cache||Du),A}L7.Cache=Du;function F7(p){if(typeof p!="function")throw new Ma(a);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function Dge(p){return $M(2,p)}var Lge=kpe(function(p,y){y=y.length==1&&dn(y[0])?Cn(y[0],ca(Gt())):Cn(mo(y,1),ca(Gt()));var A=y.length;return Sn(function(N){for(var q=-1,re=No(N.length,A);++q<re;)N[q]=y[q].call(this,N[q]);return Ye(p,this,N)})}),aS=Sn(function(p,y){var A=io(y,bg(aS));return Fu(p,S,n,y,A)}),NM=Sn(function(p,y){var A=io(y,bg(NM));return Fu(p,g,n,y,A)}),Fge=Nu(function(p,y){return Fu(p,P,n,n,n,y)});function Nge(p,y){if(typeof p!="function")throw new Ma(a);return y=y===n?y:pn(y),Sn(p,y)}function Mge(p,y){if(typeof p!="function")throw new Ma(a);return y=y==null?0:Yi(pn(y),0),Sn(function(A){var N=A[y],q=Gf(A,0,y);return N&&En(q,N),Ye(p,this,q)})}function zge(p,y,A){var N=!0,q=!0;if(typeof p!="function")throw new Ma(a);return si(A)&&(N="leading"in A?!!A.leading:N,q="trailing"in A?!!A.trailing:q),FM(p,y,{leading:N,maxWait:y,trailing:q})}function Rge(p){return EM(p,1)}function jge(p,y){return aS(Ww(y),p)}function Vge(){if(!arguments.length)return[];var p=arguments[0];return dn(p)?p:[p]}function Bge(p){return el(p,h)}function Hge(p,y){return y=typeof y=="function"?y:n,el(p,h,y)}function Wge(p){return el(p,f|h)}function Uge(p,y){return y=typeof y=="function"?y:n,el(p,f|h,y)}function Gge(p,y){return y==null||SN(p,y,oo(y))}function Gl(p,y){return p===y||p!==p&&y!==y}var qge=A7(Ow),Yge=A7(function(p,y){return p>=y}),Uh=PN(function(){return arguments}())?PN:function(p){return vi(p)&&Re.call(p,"callee")&&!Ar.call(p,"callee")},dn=je.isArray,Xge=G?ca(G):rpe;function Ra(p){return p!=null&&N7(p.length)&&!zu(p)}function Pi(p){return vi(p)&&Ra(p)}function Kge(p){return p===!0||p===!1||vi(p)&&ua(p)==ue}var qf=uhe||bS,Jge=K?ca(K):ipe;function Zge(p){return vi(p)&&p.nodeType===1&&!P1(p)}function Qge(p){if(p==null)return!0;if(Ra(p)&&(dn(p)||typeof p=="string"||typeof p.splice=="function"||qf(p)||vg(p)||Uh(p)))return!p.length;var y=Mo(p);if(y==E||y==Le)return!p.size;if(A1(p))return!Fw(p).length;for(var A in p)if(Re.call(p,A))return!1;return!0}function e0e(p,y){return x1(p,y)}function t0e(p,y,A){A=typeof A=="function"?A:n;var N=A?A(p,y):n;return N===n?x1(p,y,n,A):!!N}function sS(p){if(!vi(p))return!1;var y=ua(p);return y==ve||y==fe||typeof p.message=="string"&&typeof p.name=="string"&&!P1(p)}function n0e(p){return typeof p=="number"&&bN(p)}function zu(p){if(!si(p))return!1;var y=ua(p);return y==B||y==Y||y==te||y==me}function MM(p){return typeof p=="number"&&p==pn(p)}function N7(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=Ae}function si(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function vi(p){return p!=null&&typeof p=="object"}var zM=ge?ca(ge):ape;function r0e(p,y){return p===y||Lw(p,y,Jw(y))}function i0e(p,y,A){return A=typeof A=="function"?A:n,Lw(p,y,Jw(y),A)}function o0e(p){return RM(p)&&p!=+p}function a0e(p){if(Hpe(p))throw new Zt(o);return EN(p)}function s0e(p){return p===null}function l0e(p){return p==null}function RM(p){return typeof p=="number"||vi(p)&&ua(p)==M}function P1(p){if(!vi(p)||ua(p)!=Q)return!1;var y=Ii(p);if(y===null)return!0;var A=Re.call(y,"constructor")&&y.constructor;return typeof A=="function"&&A instanceof A&&$e.call(A)==jt}var lS=de?ca(de):spe;function c0e(p){return MM(p)&&p>=-Ae&&p<=Ae}var jM=De?ca(De):lpe;function M7(p){return typeof p=="string"||!dn(p)&&vi(p)&&ua(p)==tt}function xs(p){return typeof p=="symbol"||vi(p)&&ua(p)==Ke}var vg=Ve?ca(Ve):cpe;function u0e(p){return p===n}function f0e(p){return vi(p)&&Mo(p)==Qe}function d0e(p){return vi(p)&&ua(p)==pt}var h0e=A7(Nw),p0e=A7(function(p,y){return p<=y});function VM(p){if(!p)return[];if(Ra(p))return M7(p)?Lo(p):za(p);if(qi&&p[qi])return _w(p[qi]());var y=Mo(p),A=y==E?Fh:y==Le?Nh:yg;return A(p)}function Ru(p){if(!p)return p===0?p:0;if(p=rl(p),p===_e||p===-_e){var y=p<0?-1:1;return y*Ie}return p===p?p:0}function pn(p){var y=Ru(p),A=y%1;return y===y?A?y-A:y:0}function BM(p){return p?Vh(pn(p),0,se):0}function rl(p){if(typeof p=="number")return p;if(xs(p))return ke;if(si(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=si(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=ug(p);var A=vn.test(p);return A||Nr.test(p)?d1(p.slice(2),A?2:8):Fr.test(p)?ke:+p}function HM(p){return Dc(p,ja(p))}function m0e(p){return p?Vh(pn(p),-Ae,Ae):p===0?p:0}function cr(p){return p==null?"":Ss(p)}var g0e=mg(function(p,y){if(A1(y)||Ra(y)){Dc(y,oo(y),p);return}for(var A in y)Re.call(y,A)&&_1(p,A,y[A])}),WM=mg(function(p,y){Dc(y,ja(y),p)}),z7=mg(function(p,y,A,N){Dc(y,ja(y),p,N)}),b0e=mg(function(p,y,A,N){Dc(y,oo(y),p,N)}),v0e=Nu(Pw);function y0e(p,y){var A=pg(p);return y==null?A:wN(A,y)}var k0e=Sn(function(p,y){p=tr(p);var A=-1,N=y.length,q=N>2?y[2]:n;for(q&&fa(y[0],y[1],q)&&(N=1);++A<N;)for(var re=y[A],he=ja(re),Ce=-1,Oe=he.length;++Ce<Oe;){var Xe=he[Ce],Je=p[Xe];(Je===n||Gl(Je,Te[Xe])&&!Re.call(p,Xe))&&(p[Xe]=re[Xe])}return p}),_0e=Sn(function(p){return p.push(n,sM),Ye(UM,n,p)});function w0e(p,y){return Oo(p,Gt(y,3),Oc)}function S0e(p,y){return Oo(p,Gt(y,3),$w)}function x0e(p,y){return p==null?p:Ew(p,Gt(y,3),ja)}function C0e(p,y){return p==null?p:AN(p,Gt(y,3),ja)}function T0e(p,y){return p&&Oc(p,Gt(y,3))}function A0e(p,y){return p&&$w(p,Gt(y,3))}function I0e(p){return p==null?[]:y7(p,oo(p))}function P0e(p){return p==null?[]:y7(p,ja(p))}function cS(p,y,A){var N=p==null?n:Bh(p,y);return N===n?A:N}function E0e(p,y){return p!=null&&uM(p,y,Qhe)}function uS(p,y){return p!=null&&uM(p,y,epe)}var $0e=nM(function(p,y,A){y!=null&&typeof y.toString!="function"&&(y=ut.call(y)),p[y]=A},dS(Va)),O0e=nM(function(p,y,A){y!=null&&typeof y.toString!="function"&&(y=ut.call(y)),Re.call(p,y)?p[y].push(A):p[y]=[A]},Gt),D0e=Sn(S1);function oo(p){return Ra(p)?kN(p):Fw(p)}function ja(p){return Ra(p)?kN(p,!0):upe(p)}function L0e(p,y){var A={};return y=Gt(y,3),Oc(p,function(N,q,re){Lu(A,y(N,q,re),N)}),A}function F0e(p,y){var A={};return y=Gt(y,3),Oc(p,function(N,q,re){Lu(A,q,y(N,q,re))}),A}var N0e=mg(function(p,y,A){k7(p,y,A)}),UM=mg(function(p,y,A,N){k7(p,y,A,N)}),M0e=Nu(function(p,y){var A={};if(p==null)return A;var N=!1;y=Cn(y,function(re){return re=Uf(re,p),N||(N=re.length>1),re}),Dc(p,Xw(p),A),N&&(A=el(A,f|d|h,$pe));for(var q=y.length;q--;)Vw(A,y[q]);return A});function z0e(p,y){return GM(p,F7(Gt(y)))}var R0e=Nu(function(p,y){return p==null?{}:dpe(p,y)});function GM(p,y){if(p==null)return{};var A=Cn(Xw(p),function(N){return[N]});return y=Gt(y),MN(p,A,function(N,q){return y(N,q[0])})}function j0e(p,y,A){y=Uf(y,p);var N=-1,q=y.length;for(q||(q=1,p=n);++N<q;){var re=p==null?n:p[Lc(y[N])];re===n&&(N=q,re=A),p=zu(re)?re.call(p):re}return p}function V0e(p,y,A){return p==null?p:C1(p,y,A)}function B0e(p,y,A,N){return N=typeof N=="function"?N:n,p==null?p:C1(p,y,A,N)}var qM=oM(oo),YM=oM(ja);function H0e(p,y,A){var N=dn(p),q=N||qf(p)||vg(p);if(y=Gt(y,4),A==null){var re=p&&p.constructor;q?A=N?new re:[]:si(p)?A=zu(re)?pg(Ii(p)):{}:A={}}return(q?He:Oc)(p,function(he,Ce,Oe){return y(A,he,Ce,Oe)}),A}function W0e(p,y){return p==null?!0:Vw(p,y)}function U0e(p,y,A){return p==null?p:BN(p,y,Ww(A))}function G0e(p,y,A,N){return N=typeof N=="function"?N:n,p==null?p:BN(p,y,Ww(A),N)}function yg(p){return p==null?[]:jf(p,oo(p))}function q0e(p){return p==null?[]:jf(p,ja(p))}function Y0e(p,y,A){return A===n&&(A=y,y=n),A!==n&&(A=rl(A),A=A===A?A:0),y!==n&&(y=rl(y),y=y===y?y:0),Vh(rl(p),y,A)}function X0e(p,y,A){return y=Ru(y),A===n?(A=y,y=0):A=Ru(A),p=rl(p),tpe(p,y,A)}function K0e(p,y,A){if(A&&typeof A!="boolean"&&fa(p,y,A)&&(y=A=n),A===n&&(typeof y=="boolean"?(A=y,y=n):typeof p=="boolean"&&(A=p,p=n)),p===n&&y===n?(p=0,y=1):(p=Ru(p),y===n?(y=p,p=0):y=Ru(y)),p>y){var N=p;p=y,y=N}if(A||p%1||y%1){var q=vN();return No(p+q*(y-p+i7("1e-"+((q+"").length-1))),y)}return zw(p,y)}var J0e=gg(function(p,y,A){return y=y.toLowerCase(),p+(A?XM(y):y)});function XM(p){return fS(cr(p).toLowerCase())}function KM(p){return p=cr(p),p&&p.replace(dr,vw).replace(dw,"")}function Z0e(p,y,A){p=cr(p),y=Ss(y);var N=p.length;A=A===n?N:Vh(pn(A),0,N);var q=A;return A-=y.length,A>=0&&p.slice(A,q)==y}function Q0e(p){return p=cr(p),p&&Ac.test(p)?p.replace(ks,fg):p}function ebe(p){return p=cr(p),p&&r1.test(p)?p.replace(Iu,"\\$&"):p}var tbe=gg(function(p,y,A){return p+(A?"-":"")+y.toLowerCase()}),nbe=gg(function(p,y,A){return p+(A?" ":"")+y.toLowerCase()}),rbe=QN("toLowerCase");function ibe(p,y,A){p=cr(p),y=pn(y);var N=y?Xn(p):0;if(!y||N>=y)return p;var q=(y-N)/2;return T7(h7(q),A)+p+T7(d7(q),A)}function obe(p,y,A){p=cr(p),y=pn(y);var N=y?Xn(p):0;return y&&N<y?p+T7(y-N,A):p}function abe(p,y,A){p=cr(p),y=pn(y);var N=y?Xn(p):0;return y&&N<y?T7(y-N,A)+p:p}function sbe(p,y,A){return A||y==null?y=0:y&&(y=+y),phe(cr(p).replace(Mf,""),y||0)}function lbe(p,y,A){return(A?fa(p,y,A):y===n)?y=1:y=pn(y),Rw(cr(p),y)}function cbe(){var p=arguments,y=cr(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var ube=gg(function(p,y,A){return p+(A?"_":"")+y.toLowerCase()});function fbe(p,y,A){return A&&typeof A!="number"&&fa(p,y,A)&&(y=A=n),A=A===n?se:A>>>0,A?(p=cr(p),p&&(typeof y=="string"||y!=null&&!lS(y))&&(y=Ss(y),!y&&Vf(p))?Gf(Lo(p),0,A):p.split(y,A)):[]}var dbe=gg(function(p,y,A){return p+(A?" ":"")+fS(y)});function hbe(p,y,A){return p=cr(p),A=A==null?0:Vh(pn(A),0,p.length),y=Ss(y),p.slice(A,A+y.length)==y}function pbe(p,y,A){var N=Z.templateSettings;A&&fa(p,y,A)&&(y=n),p=cr(p),y=z7({},y,N,aM);var q=z7({},y.imports,N.imports,aM),re=oo(q),he=jf(q,re),Ce,Oe,Xe=0,Je=y.interpolate||gr,it="__p += '",dt=Mh((y.escape||gr).source+"|"+Je.source+"|"+(Je===Au?wn:gr).source+"|"+(y.evaluate||gr).source+"|$","g"),At="//# sourceURL="+(Re.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++r7+"]")+`
`;p.replace(dt,function(Yt,On,Hn,Cs,da,Ts){return Hn||(Hn=Cs),it+=p.slice(Xe,Ts).replace(br,yw),On&&(Ce=!0,it+=`' +
__e(`+On+`) +
'`),da&&(Oe=!0,it+=`';
`+da+`;
__p += '`),Hn&&(it+=`' +
((__t = (`+Hn+`)) == null ? '' : __t) +
'`),Xe=Ts+Yt.length,Yt}),it+=`';
`;var qt=Re.call(y,"variable")&&y.variable;if(!qt)it=`with (obj) {
`+it+`
}
`;else if(St.test(qt))throw new Zt(s);it=(Oe?it.replace(Ea,""):it).replace(Ff,"$1").replace(Tu,"$1;"),it="function("+(qt||"obj")+`) {
`+(qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ce?", __e = _.escape":"")+(Oe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+it+`return __p
}`;var yn=ZM(function(){return Bn(re,At+"return "+it).apply(n,he)});if(yn.source=it,sS(yn))throw yn;return yn}function mbe(p){return cr(p).toLowerCase()}function gbe(p){return cr(p).toUpperCase()}function bbe(p,y,A){if(p=cr(p),p&&(A||y===n))return ug(p);if(!p||!(y=Ss(y)))return p;var N=Lo(p),q=Lo(y),re=p1(N,q),he=s7(N,q)+1;return Gf(N,re,he).join("")}function vbe(p,y,A){if(p=cr(p),p&&(A||y===n))return p.slice(0,Fa(p)+1);if(!p||!(y=Ss(y)))return p;var N=Lo(p),q=s7(N,Lo(y))+1;return Gf(N,0,q).join("")}function ybe(p,y,A){if(p=cr(p),p&&(A||y===n))return p.replace(Mf,"");if(!p||!(y=Ss(y)))return p;var N=Lo(p),q=p1(N,Lo(y));return Gf(N,q).join("")}function kbe(p,y){var A=F,N=D;if(si(y)){var q="separator"in y?y.separator:q;A="length"in y?pn(y.length):A,N="omission"in y?Ss(y.omission):N}p=cr(p);var re=p.length;if(Vf(p)){var he=Lo(p);re=he.length}if(A>=re)return p;var Ce=A-Xn(N);if(Ce<1)return N;var Oe=he?Gf(he,0,Ce).join(""):p.slice(0,Ce);if(q===n)return Oe+N;if(he&&(Ce+=Oe.length-Ce),lS(q)){if(p.slice(Ce).search(q)){var Xe,Je=Oe;for(q.global||(q=Mh(q.source,cr(sr.exec(q))+"g")),q.lastIndex=0;Xe=q.exec(Je);)var it=Xe.index;Oe=Oe.slice(0,it===n?Ce:it)}}else if(p.indexOf(Ss(q),Ce)!=Ce){var dt=Oe.lastIndexOf(q);dt>-1&&(Oe=Oe.slice(0,dt))}return Oe+N}function _be(p){return p=cr(p),p&&Wi.test(p)?p.replace(Tc,Na):p}var wbe=gg(function(p,y,A){return p+(A?" ":"")+y.toUpperCase()}),fS=QN("toUpperCase");function JM(p,y,A){return p=cr(p),y=A?n:y,y===n?Lh(p)?Sw(p):lg(p):p.match(y)||[]}var ZM=Sn(function(p,y){try{return Ye(p,n,y)}catch(A){return sS(A)?A:new Zt(A)}}),Sbe=Nu(function(p,y){return He(y,function(A){A=Lc(A),Lu(p,A,oS(p[A],p))}),p});function xbe(p){var y=p==null?0:p.length,A=Gt();return p=y?Cn(p,function(N){if(typeof N[1]!="function")throw new Ma(a);return[A(N[0]),N[1]]}):[],Sn(function(N){for(var q=-1;++q<y;){var re=p[q];if(Ye(re[0],this,N))return Ye(re[1],this,N)}})}function Cbe(p){return Khe(el(p,f))}function dS(p){return function(){return p}}function Tbe(p,y){return p==null||p!==p?y:p}var Abe=tM(),Ibe=tM(!0);function Va(p){return p}function hS(p){return $N(typeof p=="function"?p:el(p,f))}function Pbe(p){return DN(el(p,f))}function Ebe(p,y){return LN(p,el(y,f))}var $be=Sn(function(p,y){return function(A){return S1(A,p,y)}}),Obe=Sn(function(p,y){return function(A){return S1(p,A,y)}});function pS(p,y,A){var N=oo(y),q=y7(y,N);A==null&&!(si(y)&&(q.length||!N.length))&&(A=y,y=p,p=this,q=y7(y,oo(y)));var re=!(si(A)&&"chain"in A)||!!A.chain,he=zu(p);return He(q,function(Ce){var Oe=y[Ce];p[Ce]=Oe,he&&(p.prototype[Ce]=function(){var Xe=this.__chain__;if(re||Xe){var Je=p(this.__wrapped__),it=Je.__actions__=za(this.__actions__);return it.push({func:Oe,args:arguments,thisArg:p}),Je.__chain__=Xe,Je}return Oe.apply(p,En([this.value()],arguments))})}),p}function Dbe(){return Gi._===this&&(Gi._=Lt),this}function mS(){}function Lbe(p){return p=pn(p),Sn(function(y){return FN(y,p)})}var Fbe=Gw(Cn),Nbe=Gw(nn),Mbe=Gw($n);function QM(p){return Qw(p)?Js(Lc(p)):hpe(p)}function zbe(p){return function(y){return p==null?n:Bh(p,y)}}var Rbe=rM(),jbe=rM(!0);function gS(){return[]}function bS(){return!1}function Vbe(){return{}}function Bbe(){return""}function Hbe(){return!0}function Wbe(p,y){if(p=pn(p),p<1||p>Ae)return[];var A=se,N=No(p,se);y=Gt(y),p-=se;for(var q=Wl(N,y);++A<p;)y(A);return q}function Ube(p){return dn(p)?Cn(p,Lc):xs(p)?[p]:za(yM(cr(p)))}function Gbe(p){var y=++nt;return cr(p)+y}var qbe=C7(function(p,y){return p+y},0),Ybe=qw("ceil"),Xbe=C7(function(p,y){return p/y},1),Kbe=qw("floor");function Jbe(p){return p&&p.length?v7(p,Va,Ow):n}function Zbe(p,y){return p&&p.length?v7(p,Gt(y,2),Ow):n}function Qbe(p){return la(p,Va)}function e1e(p,y){return la(p,Gt(y,2))}function t1e(p){return p&&p.length?v7(p,Va,Nw):n}function n1e(p,y){return p&&p.length?v7(p,Gt(y,2),Nw):n}var r1e=C7(function(p,y){return p*y},1),i1e=qw("round"),o1e=C7(function(p,y){return p-y},0);function a1e(p){return p&&p.length?Yn(p,Va):0}function s1e(p,y){return p&&p.length?Yn(p,Gt(y,2)):0}return Z.after=Pge,Z.ary=EM,Z.assign=g0e,Z.assignIn=WM,Z.assignInWith=z7,Z.assignWith=b0e,Z.at=v0e,Z.before=$M,Z.bind=oS,Z.bindAll=Sbe,Z.bindKey=OM,Z.castArray=Vge,Z.chain=AM,Z.chunk=Kpe,Z.compact=Jpe,Z.concat=Zpe,Z.cond=xbe,Z.conforms=Cbe,Z.constant=dS,Z.countBy=age,Z.create=y0e,Z.curry=DM,Z.curryRight=LM,Z.debounce=FM,Z.defaults=k0e,Z.defaultsDeep=_0e,Z.defer=Ege,Z.delay=$ge,Z.difference=Qpe,Z.differenceBy=eme,Z.differenceWith=tme,Z.drop=nme,Z.dropRight=rme,Z.dropRightWhile=ime,Z.dropWhile=ome,Z.fill=ame,Z.filter=lge,Z.flatMap=fge,Z.flatMapDeep=dge,Z.flatMapDepth=hge,Z.flatten=SM,Z.flattenDeep=sme,Z.flattenDepth=lme,Z.flip=Oge,Z.flow=Abe,Z.flowRight=Ibe,Z.fromPairs=cme,Z.functions=I0e,Z.functionsIn=P0e,Z.groupBy=pge,Z.initial=fme,Z.intersection=dme,Z.intersectionBy=hme,Z.intersectionWith=pme,Z.invert=$0e,Z.invertBy=O0e,Z.invokeMap=gge,Z.iteratee=hS,Z.keyBy=bge,Z.keys=oo,Z.keysIn=ja,Z.map=O7,Z.mapKeys=L0e,Z.mapValues=F0e,Z.matches=Pbe,Z.matchesProperty=Ebe,Z.memoize=L7,Z.merge=N0e,Z.mergeWith=UM,Z.method=$be,Z.methodOf=Obe,Z.mixin=pS,Z.negate=F7,Z.nthArg=Lbe,Z.omit=M0e,Z.omitBy=z0e,Z.once=Dge,Z.orderBy=vge,Z.over=Fbe,Z.overArgs=Lge,Z.overEvery=Nbe,Z.overSome=Mbe,Z.partial=aS,Z.partialRight=NM,Z.partition=yge,Z.pick=R0e,Z.pickBy=GM,Z.property=QM,Z.propertyOf=zbe,Z.pull=vme,Z.pullAll=CM,Z.pullAllBy=yme,Z.pullAllWith=kme,Z.pullAt=_me,Z.range=Rbe,Z.rangeRight=jbe,Z.rearg=Fge,Z.reject=wge,Z.remove=wme,Z.rest=Nge,Z.reverse=rS,Z.sampleSize=xge,Z.set=V0e,Z.setWith=B0e,Z.shuffle=Cge,Z.slice=Sme,Z.sortBy=Ige,Z.sortedUniq=Eme,Z.sortedUniqBy=$me,Z.split=fbe,Z.spread=Mge,Z.tail=Ome,Z.take=Dme,Z.takeRight=Lme,Z.takeRightWhile=Fme,Z.takeWhile=Nme,Z.tap=Jme,Z.throttle=zge,Z.thru=$7,Z.toArray=VM,Z.toPairs=qM,Z.toPairsIn=YM,Z.toPath=Ube,Z.toPlainObject=HM,Z.transform=H0e,Z.unary=Rge,Z.union=Mme,Z.unionBy=zme,Z.unionWith=Rme,Z.uniq=jme,Z.uniqBy=Vme,Z.uniqWith=Bme,Z.unset=W0e,Z.unzip=iS,Z.unzipWith=TM,Z.update=U0e,Z.updateWith=G0e,Z.values=yg,Z.valuesIn=q0e,Z.without=Hme,Z.words=JM,Z.wrap=jge,Z.xor=Wme,Z.xorBy=Ume,Z.xorWith=Gme,Z.zip=qme,Z.zipObject=Yme,Z.zipObjectDeep=Xme,Z.zipWith=Kme,Z.entries=qM,Z.entriesIn=YM,Z.extend=WM,Z.extendWith=z7,pS(Z,Z),Z.add=qbe,Z.attempt=ZM,Z.camelCase=J0e,Z.capitalize=XM,Z.ceil=Ybe,Z.clamp=Y0e,Z.clone=Bge,Z.cloneDeep=Wge,Z.cloneDeepWith=Uge,Z.cloneWith=Hge,Z.conformsTo=Gge,Z.deburr=KM,Z.defaultTo=Tbe,Z.divide=Xbe,Z.endsWith=Z0e,Z.eq=Gl,Z.escape=Q0e,Z.escapeRegExp=ebe,Z.every=sge,Z.find=cge,Z.findIndex=_M,Z.findKey=w0e,Z.findLast=uge,Z.findLastIndex=wM,Z.findLastKey=S0e,Z.floor=Kbe,Z.forEach=IM,Z.forEachRight=PM,Z.forIn=x0e,Z.forInRight=C0e,Z.forOwn=T0e,Z.forOwnRight=A0e,Z.get=cS,Z.gt=qge,Z.gte=Yge,Z.has=E0e,Z.hasIn=uS,Z.head=xM,Z.identity=Va,Z.includes=mge,Z.indexOf=ume,Z.inRange=X0e,Z.invoke=D0e,Z.isArguments=Uh,Z.isArray=dn,Z.isArrayBuffer=Xge,Z.isArrayLike=Ra,Z.isArrayLikeObject=Pi,Z.isBoolean=Kge,Z.isBuffer=qf,Z.isDate=Jge,Z.isElement=Zge,Z.isEmpty=Qge,Z.isEqual=e0e,Z.isEqualWith=t0e,Z.isError=sS,Z.isFinite=n0e,Z.isFunction=zu,Z.isInteger=MM,Z.isLength=N7,Z.isMap=zM,Z.isMatch=r0e,Z.isMatchWith=i0e,Z.isNaN=o0e,Z.isNative=a0e,Z.isNil=l0e,Z.isNull=s0e,Z.isNumber=RM,Z.isObject=si,Z.isObjectLike=vi,Z.isPlainObject=P1,Z.isRegExp=lS,Z.isSafeInteger=c0e,Z.isSet=jM,Z.isString=M7,Z.isSymbol=xs,Z.isTypedArray=vg,Z.isUndefined=u0e,Z.isWeakMap=f0e,Z.isWeakSet=d0e,Z.join=mme,Z.kebabCase=tbe,Z.last=nl,Z.lastIndexOf=gme,Z.lowerCase=nbe,Z.lowerFirst=rbe,Z.lt=h0e,Z.lte=p0e,Z.max=Jbe,Z.maxBy=Zbe,Z.mean=Qbe,Z.meanBy=e1e,Z.min=t1e,Z.minBy=n1e,Z.stubArray=gS,Z.stubFalse=bS,Z.stubObject=Vbe,Z.stubString=Bbe,Z.stubTrue=Hbe,Z.multiply=r1e,Z.nth=bme,Z.noConflict=Dbe,Z.noop=mS,Z.now=D7,Z.pad=ibe,Z.padEnd=obe,Z.padStart=abe,Z.parseInt=sbe,Z.random=K0e,Z.reduce=kge,Z.reduceRight=_ge,Z.repeat=lbe,Z.replace=cbe,Z.result=j0e,Z.round=i1e,Z.runInContext=Pe,Z.sample=Sge,Z.size=Tge,Z.snakeCase=ube,Z.some=Age,Z.sortedIndex=xme,Z.sortedIndexBy=Cme,Z.sortedIndexOf=Tme,Z.sortedLastIndex=Ame,Z.sortedLastIndexBy=Ime,Z.sortedLastIndexOf=Pme,Z.startCase=dbe,Z.startsWith=hbe,Z.subtract=o1e,Z.sum=a1e,Z.sumBy=s1e,Z.template=pbe,Z.times=Wbe,Z.toFinite=Ru,Z.toInteger=pn,Z.toLength=BM,Z.toLower=mbe,Z.toNumber=rl,Z.toSafeInteger=m0e,Z.toString=cr,Z.toUpper=gbe,Z.trim=bbe,Z.trimEnd=vbe,Z.trimStart=ybe,Z.truncate=kbe,Z.unescape=_be,Z.uniqueId=Gbe,Z.upperCase=wbe,Z.upperFirst=fS,Z.each=IM,Z.eachRight=PM,Z.first=xM,pS(Z,function(){var p={};return Oc(Z,function(y,A){Re.call(Z.prototype,A)||(p[A]=y)}),p}(),{chain:!1}),Z.VERSION=r,He(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){Z[p].placeholder=Z}),He(["drop","take"],function(p,y){Mn.prototype[p]=function(A){A=A===n?1:Yi(pn(A),0);var N=this.__filtered__&&!y?new Mn(this):this.clone();return N.__filtered__?N.__takeCount__=No(A,N.__takeCount__):N.__views__.push({size:No(A,se),type:p+(N.__dir__<0?"Right":"")}),N},Mn.prototype[p+"Right"]=function(A){return this.reverse()[p](A).reverse()}}),He(["filter","map","takeWhile"],function(p,y){var A=y+1,N=A==V||A==oe;Mn.prototype[p]=function(q){var re=this.clone();return re.__iteratees__.push({iteratee:Gt(q,3),type:A}),re.__filtered__=re.__filtered__||N,re}}),He(["head","last"],function(p,y){var A="take"+(y?"Right":"");Mn.prototype[p]=function(){return this[A](1).value()[0]}}),He(["initial","tail"],function(p,y){var A="drop"+(y?"":"Right");Mn.prototype[p]=function(){return this.__filtered__?new Mn(this):this[A](1)}}),Mn.prototype.compact=function(){return this.filter(Va)},Mn.prototype.find=function(p){return this.filter(p).head()},Mn.prototype.findLast=function(p){return this.reverse().find(p)},Mn.prototype.invokeMap=Sn(function(p,y){return typeof p=="function"?new Mn(this):this.map(function(A){return S1(A,p,y)})}),Mn.prototype.reject=function(p){return this.filter(F7(Gt(p)))},Mn.prototype.slice=function(p,y){p=pn(p);var A=this;return A.__filtered__&&(p>0||y<0)?new Mn(A):(p<0?A=A.takeRight(-p):p&&(A=A.drop(p)),y!==n&&(y=pn(y),A=y<0?A.dropRight(-y):A.take(y-p)),A)},Mn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Mn.prototype.toArray=function(){return this.take(se)},Oc(Mn.prototype,function(p,y){var A=/^(?:filter|find|map|reject)|While$/.test(y),N=/^(?:head|last)$/.test(y),q=Z[N?"take"+(y=="last"?"Right":""):y],re=N||/^find/.test(y);q&&(Z.prototype[y]=function(){var he=this.__wrapped__,Ce=N?[1]:arguments,Oe=he instanceof Mn,Xe=Ce[0],Je=Oe||dn(he),it=function(On){var Hn=q.apply(Z,En([On],Ce));return N&&dt?Hn[0]:Hn};Je&&A&&typeof Xe=="function"&&Xe.length!=1&&(Oe=Je=!1);var dt=this.__chain__,At=!!this.__actions__.length,qt=re&&!dt,yn=Oe&&!At;if(!re&&Je){he=yn?he:new Mn(this);var Yt=p.apply(he,Ce);return Yt.__actions__.push({func:$7,args:[it],thisArg:n}),new Qs(Yt,dt)}return qt&&yn?p.apply(this,Ce):(Yt=this.thru(it),qt?N?Yt.value()[0]:Yt.value():Yt)})}),He(["pop","push","shift","sort","splice","unshift"],function(p){var y=ee[p],A=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",N=/^(?:pop|shift)$/.test(p);Z.prototype[p]=function(){var q=arguments;if(N&&!this.__chain__){var re=this.value();return y.apply(dn(re)?re:[],q)}return this[A](function(he){return y.apply(dn(he)?he:[],q)})}}),Oc(Mn.prototype,function(p,y){var A=Z[y];if(A){var N=A.name+"";Re.call(hg,N)||(hg[N]=[]),hg[N].push({name:y,func:A})}}),hg[x7(n,b).name]=[{name:"wrapper",func:n}],Mn.prototype.clone=_he,Mn.prototype.reverse=whe,Mn.prototype.value=She,Z.prototype.at=Zme,Z.prototype.chain=Qme,Z.prototype.commit=ege,Z.prototype.next=tge,Z.prototype.plant=rge,Z.prototype.reverse=ige,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=oge,Z.prototype.first=Z.prototype.head,qi&&(Z.prototype[qi]=nge),Z},$u=xw();I?((I.exports=$u)._=$u,w._=$u):Gi._=$u}).call(ui)})(fk,fk.exports);var _Fe=fk.exports,wFe=ui&&ui.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(h4,"__esModule",{value:!0});h4.mock=void 0;var ma=wFe(_Fe);function Pie(t){return t.allOf&&t.allOf[0]&&(t=ma.default.reduce(t.allOf,function(e,n){return ma.default.merge({},e,Pie(n))},t)),t}function Zg(t){if(t=Pie(t),t.example!==void 0)return t.example;if(t.default!==void 0)return t.default;if(t.oneOf&&t.oneOf[0])return Zg(t.oneOf[0]);if(t.anyOf&&t.anyOf[0])return Zg(t.anyOf[0]);var e=ma.default.isArray(t)?ma.default.first(t.type):t.type;if(e==="object"){var n=t,r=n.properties;return r?ma.default.mapValues(r,Zg):{}}if(e==="array"){var i=t,o=i.items;if(!o)return[];var a=[],s=o.oneOf&&o.oneOf[0]||o;if(o.anyOf)for(var l=0,c=o.anyOf;l<c.length;l++){var u=c[l];s=u,a.push(Zg(s))}for(var f=i.minItems||1;a.length<f;)a.push(Zg(s));return i.maxItems?ma.default.take(a,i.maxItems):a}if(ma.default.isArray(t.enum))return t.enum[0];if(e==="string"){var d=t.format,h={email:"user@example.com",hostname:"example.com",ipv4:"8.8.8.8",ipv6:"2001:4860:4860::8888",uri:"https://example.com/path","uri-reference":"/path#anchor","uri-template":"/path/{param}","json-pointer":"/foo/bar","date-time":new Date("1970-01-01").toJSON(),uuid:"3fa85f64-5717-4562-b3fc-2c963f66afa6",_default:"string"},m=h[d]||h._default,v=ma.default.isNil(t.minLength)?0:t.minLength,k=ma.default.isNil(t.maxLength)?m.length:t.maxLength;return m===h._default&&m.length<v?ma.default.padEnd(m,v,m):m.substr(0,ma.default.clamp(m.length,v,k))}if(e==="number"){var b=t.minimum?t.minimum:-Number.MAX_VALUE,_=t.maximum?t.maximum:Number.MAX_VALUE;return t.multipleOf&&(b=Math.ceil(b/t.multipleOf)*t.multipleOf,_=Math.floor(_/t.multipleOf)*t.multipleOf),ma.default.clamp(0,b,_)}if(e==="integer"){var x=t.minimum&&t.exclusiveMinimum?t.minimum+1:t.minimum,C=t.maximum&&t.exclusiveMaximum?t.maximum-1:t.maximum,b=ma.default.isNil(x)?Number.MIN_SAFE_INTEGER:x,_=ma.default.isNil(C)?Number.MAX_SAFE_INTEGER:C;return t.multipleOf&&(b=Math.ceil(b/t.multipleOf)*t.multipleOf,_=Math.floor(_/t.multipleOf)*t.multipleOf),ma.default.clamp(0,b,_)}return e==="null"?null:e==="boolean"?!0:{}}h4.mock=Zg;(function(t){var e=ui&&ui.__createBinding||(Object.create?function(i,o,a,s){s===void 0&&(s=a),Object.defineProperty(i,s,{enumerable:!0,get:function(){return o[a]}})}:function(i,o,a,s){s===void 0&&(s=a),i[s]=o[a]}),n=ui&&ui.__exportStar||function(i,o){for(var a in i)a!=="default"&&!o.hasOwnProperty(a)&&e(o,i,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.mock=void 0;var r=h4;Object.defineProperty(t,"mock",{enumerable:!0,get:function(){return r.mock}}),n(h4,t)})(Iie);const Af=Db("places",{state:()=>({place:{},markingString:"",schemaString:"",databaseMap:{},formsData:{}}),actions:{saveName(){const t=Vt().updatePlace(this.place.id,this.place.name);t&&(this.place.name=t.name,Zn().lastUpdatedPlace=t)},addToken(){let t=Iie.mock(this.place.schema.items);this.place.marking.push(t),this.savePlaceMarkingFromEditor(JSON.stringify(this.place.marking,null,2))},savePlaceMarkingFromEditor(t){try{const e=JSON.parse(t);this.formsData=e,this.markingString=t;const n=Vt().updatePlaceMarking(this.place.id,e);n&&(Vt().setDefaultMarking(this.place.id),this.place.marking=n.marking,this.place.errorMessage=n.errorMessage,this.place.hasError=n.hasError,this.place.errorType=n.errorType,Zn().lastUpdatedPlace=n)}catch{}},resetMarking(){let t=Vt().getDefaultMarking(this.place.id);this.savePlaceMarkingFromForm(t)},savePlaceMarkingFromForm(t){try{this.formsData=t,this.markingString=JSON.stringify(this.formsData,null,2);const e=Vt().updatePlaceMarking(this.place.id,t);e&&(this.place.marking=e.marking,this.place.errorMessage=e.errorMessage,this.place.hasError=e.hasError,this.place.errorType=e.errorType,Zn().lastUpdatedPlace=e)}catch{}},savePlaceSchema(t){try{const e=JSON.parse(t);this.schemaString=t;const n=Vt().updatePlaceSchema(this.place.id,e);n&&(this.place.schema=n.schema,this.place.errorMessage=n.errorMessage,this.place.hasError=n.hasError,this.place.errorType=n.errorType)}catch{}},resetName(){const t=Vt().findPlace(this.place.id);t&&(this.place.name=t.name)},loadPlace(t){const e=Zn().places.find(n=>n.id===t);if(e){this.place=e;const n=Vt().findPlace(this.place.id);n&&(this.place.id=n.id,this.place.name=n.name,this.place.marking=n.marking,this.place.schema=n.schema),this.markingString=JSON.stringify(e.marking,null,2),this.formsData=JSON.parse(JSON.stringify(e.marking)),this.schemaString=JSON.stringify(e.schema,null,2)}}}}),Ju={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},SFe=Object.keys(Ju).map(t=>Ju[t]).join(""),vC="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",xFe=/\s/g,eW=new RegExp(`^(${vC}\\*)?([${SFe}])(/${vC})?([-+]{1,2}${vC})?$`,"g");function Eie(t){throw new Error(`Invalid calc() expression: ${t}`)}function CFe(t,e){const n=eW.exec(t.replace(xFe,""));n||Eie(t),eW.lastIndex=0;const[,r,i,o,a]=n,{x:s,y:l,width:c,height:u}=e;let f=0;switch(i){case Ju.width:{f=c;break}case Ju.height:{f=u;break}case Ju.x:{f=s;break}case Ju.y:{f=l;break}case Ju.minimum:{f=Math.min(u,c);break}case Ju.maximum:{f=Math.max(u,c);break}case Ju.diagonal:{f=Math.sqrt(u*u+c*c);break}}return r&&(f*=parseFloat(r)),o&&(f/=parseFloat(o.slice(1))),a&&(f+=TFe(a)),f}function TFe(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function wl(t){return typeof t=="string"&&t.includes("calc")}const $ie="calc(",tW=$ie.length;function Sl(t,e){let n=t,r=0;do{let i=n.indexOf($ie,r);if(i===-1)return n;let o=i+tW,a=1;e:do{switch(n[o]){case"(":{a++;break}case")":{if(a--,a===0)break e;break}case void 0:Eie(n)}o++}while(!0);let s=n.slice(i+tW,o);wl(s)&&(s=Sl(s,e));const l=String(CFe(s,e));n=n.slice(0,i)+l+n.slice(o+1),r=i+l.length}while(!0)}const{round:AFe,floor:IFe,PI:Oie}=Math,PFe={linear:function(t,e,n){var r=t[1]-t[0],i=e[1]-e[0];return(n-t[0])/r*i+e[0]||0}},yu=function(t){return t%360+(t<0?360:0)},Em=function(t,e){return e*AFe(t/e)},o_=function(t){return 180*t/Oie%360},ls=function(t,e){return e=e||!1,t=e?t:t%360,t*Oie/180},iP=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return IFe(Math.random()*(e-t+1)+t)},{cos:g9,sin:yC,atan2:EFe}=Math,Die=function(t,e){var n=ls(t.y),r=ls(e.y),i=t.x,o=e.x,a=ls(o-i),s=yC(a)*g9(r),l=g9(n)*yC(r)-yC(n)*g9(r)*g9(a),c=o_(EFe(s,l)),u=["NE","E","SE","S","SW","W","NW","N"],f=c-22.5;return f<0&&(f+=360),f=parseInt(f/45),u[f]},$D=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y;return(n-=i)*n+(r-=o)*r},Lie=function(t,e){return Math.sqrt($D(t,e))},mn={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:dk,cos:oP,sin:aP,sqrt:nW,min:rW,max:iW,atan2:$Fe,round:oW,pow:OFe,PI:aW}=Math,we=function(t,e){if(!(this instanceof we))return new we(t,e);if(typeof t=="string"){var n=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};we.fromPolar=function(t,e,n){n=new we(n);var r=dk(t*oP(e)),i=dk(t*aP(e)),o=yu(o_(e));return o<90?i=-i:o<180?(r=-r,i=-i):o<270&&(r=-r),new we(n.x+r,n.y+i)};we.random=function(t,e,n,r){return new we(iP(t,e),iP(n,r))};we.prototype={type:mn.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new we(t[0]);for(var n=null,r=1/0,i=0;i<e;i++){var o=new we(t[i]),a=this.squaredDistance(o);a<r&&(n=o,r=a)}return n},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=rW(iW(this.x,t.x),t.x+t.width),this.y=rW(iW(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return Die(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new we(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new we(this.x-(t||0),this.y-(e||0))},distance:function(t){return Lie(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,r=this.y;return new we((1-e)*n+e*t.x,(1-e)*r+e*t.y)},magnitude:function(){return nW(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return dk(t.x-this.x)+dk(t.y-this.y)},move:function(t,e){var n=ls(new we(t).theta(this)),r=this.offset(oP(n)*e,-aP(n)*e);return r},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new we(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new we(0,0),e=ls(yu(-e));var n=oP(e),r=aP(e),i=n*(this.x-t.x)-r*(this.y-t.y)+t.x,o=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=i,this.y=o,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=OFe(10,t);break}return this.x=oW(this.x*e)/e,this.y=oW(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new we(n)||new we(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=Em(this.x,t),this.y=Em(this.y,e||t),this},squaredDistance:function(t){return $D(this,t)},theta:function(t){t=new we(t);var e=-(t.y-this.y),n=t.x-this.x,r=$Fe(e,n);return r<0&&(r=2*aW+r),180*r/aW},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new we(t)||new we(0,0);var e=this.x,n=this.y;return this.x=nW((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=ls(t.theta(new we(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new we(0,0);return e.angleBetween(this,t)}};we.prototype.translate=we.prototype.offset;const hk=we,{max:kC,min:_C}=Math,mt=function(t,e){if(!(this instanceof mt))return new mt(t,e);if(t instanceof mt)return new mt(t.start,t.end);this.start=new we(t),this.end=new we(e)};mt.prototype={type:mn.Line,angle:function(){var t=new we(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=_C(this.start.x,this.end.x),e=_C(this.start.y,this.end.y),n=kC(this.start.x,this.end.x),r=kC(this.start.y,this.end.y);return new lt(t,e,n-t,r-e)},bearing:function(){return Die(this.start,this.end)},clone:function(){return new mt(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new mt(this.start,t).vector()),n=_C(1,kC(0,e/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;var r=this.length();return!(new mt(e,t).length()>r||new mt(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new mt(this.start,e),new mt(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new mt(this.start,e),new mt(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof mt&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new we(this.end.x-this.start.x,this.end.y-this.start.y),n=new we(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,i=new we(t.start.x-this.start.x,t.start.y-this.start.y),o=i.x*n.y-i.y*n.x,a=i.x*e.y-i.y*e.x;if(r===0||o*r<0||a*r<0)return null;if(r>0){if(o>r||a>r)return null}else if(o<r||a<r)return null;return[new we(this.start.x+o*e.x/r,this.start.y+o*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return Lie(this.start,this.end)},midpoint:function(){return new we((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,i=n.clone().rotate(r,270),o=r.clone().rotate(n,90);return n.move(o,t),r.move(i,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var i=this.length();return t>=i?r?n.clone():e.clone():this.pointAt((r?t:i-t)/i)},pointOffset:function(t){t=new we(t);var e=this.start,n=this.end,r=(n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x);return r/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return $D(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),i=new mt(e,n);return i.translate(r.x-e.x,r.y-e.y),i},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),i=new mt(e,n);return i.translate(r.x-e.x,r.y-e.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new we(this.end.x-this.start.x,this.end.y-this.start.y)}};mt.prototype.intersection=mt.prototype.intersect;const um=mt,{sqrt:sW,round:b9,pow:DFe}=Math,Ca=function(t,e,n){if(!(this instanceof Ca))return new Ca(t,e,n);if(t instanceof Ca)return new Ca(new we(t.x,t.y),t.a,t.b);t=new we(t),this.x=t.x,this.y=t.y,this.a=e,this.b=n};Ca.fromRect=function(t){return t=new lt(t),new Ca(t.center(),t.width/2,t.height/2)};Ca.prototype={type:mn.Ellipse,bbox:function(){return new lt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new we(this.x,this.y)},clone:function(){return new Ca(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,i=this.a,o=this.b,a=t.vector(),s=n.difference(new we(this)),l=new we(a.x/(i*i),a.y/(o*o)),c=new we(s.x/(i*i),s.y/(o*o)),u=a.dot(l),f=a.dot(c),d=s.dot(c)-1,h=f*f-u*d;if(h<0)return null;if(h>0){var m=sW(h),v=(-f-m)/u,k=(-f+m)/u;if((v<0||1<v)&&(k<0||1<k))return null;0<=v&&v<=1&&e.push(n.lerp(r,v)),0<=k&&k<=1&&e.push(n.lerp(r,k))}else{var b=-f/u;if(0<=b&&b<=1)e.push(n.lerp(r,b));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new we(t),e&&t.rotate(new we(this.x,this.y),e);var n=t.x-this.x,r=t.y-this.y,i;if(n===0)return i=this.bbox().pointNearestToPoint(t),e?i.rotate(new we(this.x,this.y),-e):i;var o=r/n,a=o*o,s=this.a*this.a,l=this.b*this.b,c=sW(1/(1/s+a/l));c=n<0?-c:c;var u=o*c;return i=new we(this.x+c,this.y+u),e?i.rotate(new we(this.x,this.y),-e):i},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,i=this.b,o=this.x,a=this.y;return(e-o)*(e-o)/(r*r)+(n-a)*(n-a)/(i*i)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=DFe(10,t);break}return this.x=b9(this.x*e)/e,this.y=b9(this.y*e)/e,this.a=b9(this.a*e)/e,this.b=b9(this.b*e)/e,this},tangentTheta:function(t){var e=30,n=t.x,r=t.y,i=this.a,o=this.b,a=this.bbox().center(),s=a.x,l=a.y,c=n>a.x+i/2,u=n<a.x-i/2,f,d;return c||u?(f=n>a.x?r-e:r+e,d=i*i/(n-s)-i*i*(r-l)*(f-l)/(o*o*(n-s))+s):(d=r>a.y?n+e:n-e,f=o*o/(r-l)-o*o*(n-s)*(d-s)/(i*i*(r-l))+l),new we(d,f).theta(t)},toString:function(){return new we(this.x,this.y).toString()+" "+this.a+" "+this.b}};const LFe=Ca,{abs:lW,cos:FFe,sin:NFe,min:av,max:cW,round:v9,pow:MFe}=Math,lt=function(t,e,n,r){if(!(this instanceof lt))return new lt(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=n===void 0?0:n,this.height=r===void 0?0:r};lt.fromEllipse=function(t){return t=new Ca(t),new lt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};lt.fromPointUnion=function(...t){if(t.length===0)return null;const e=new we;let n,r,i,o;n=r=1/0,i=o=-1/0;for(let a=0;a<t.length;a++){e.update(t[a]);const s=e.x,l=e.y;s<n&&(n=s),s>i&&(i=s),l<r&&(r=l),l>o&&(o=l)}return new lt(n,r,i-n,o-r)};lt.fromRectUnion=function(...t){if(t.length===0)return null;const e=new lt;let n,r,i,o;n=r=1/0,i=o=-1/0;for(let a=0;a<t.length;a++){e.update(t[a]);const s=e.x,l=e.y,c=s+e.width,u=l+e.height;s<n&&(n=s),c>i&&(i=c),l<r&&(r=l),u>o&&(o=u)}return new lt(n,r,i-n,o-r)};lt.prototype={type:mn.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=ls(t),i=lW(NFe(r)),o=lW(FFe(r)),a=e*o+n*i,s=e*i+n*o;return this.x+=(e-a)/2,this.y+=(n-s)/2,this.width=a,this.height=s,this},bottomLeft:function(){return new we(this.x,this.y+this.height)},bottomLine:function(){return new mt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new we(this.x+this.width/2,this.y+this.height)},center:function(){return new we(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new lt(this)},containsPoint:function(t){return t=new we(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new lt(this).normalize(),n=new lt(t).normalize(),r=e.width,i=e.height,o=n.width,a=n.height;if(!r||!i||!o||!a)return!1;var s=e.x,l=e.y,c=n.x,u=n.y;return o+=c,r+=s,a+=u,i+=l,s<=c&&o<=r&&l<=u&&a<=i},corner:function(){return new we(this.x+this.width,this.y+this.height)},equals:function(t){var e=new lt(this).normalize(),n=new lt(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),i=t.corner();if(i.x<=e.x||i.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var o=cW(e.x,r.x),a=cW(e.y,r.y);return new lt(o,a,av(n.x,i.x)-o,av(n.y,i.y)-a)},intersectionWithLine:function(t){var e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],i=[],o,a,s=n.length;for(a=0;a<s;a++)o=t.intersect(n[a]),o!==null&&i.indexOf(o.toString())<0&&(r.push(o),i.push(o.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new we(t);var n=new we(this.x+this.width/2,this.y+this.height/2),r;e&&t.rotate(n,e);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new mt(n,t),a=i.length-1;a>=0;--a){var s=i[a].intersection(o);if(s!==null){r=s;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new mt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new we(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new lt(t),e||(e=t.center());var n,r,i,o,a,s,l,c,u=e.x,f=e.y;n=r=i=o=a=s=l=c=1/0;var d=t.topLeft();d.x<u&&(n=(this.x-u)/(d.x-u)),d.y<f&&(a=(this.y-f)/(d.y-f));var h=t.bottomRight();h.x>u&&(r=(this.x+this.width-u)/(h.x-u)),h.y>f&&(s=(this.y+this.height-f)/(h.y-f));var m=t.topRight();m.x>u&&(i=(this.x+this.width-u)/(m.x-u)),m.y<f&&(l=(this.y-f)/(m.y-f));var v=t.bottomLeft();return v.x<u&&(o=(this.x-u)/(v.x-u)),v.y>f&&(c=(this.y+this.height-f)/(v.y-f)),{sx:av(n,r,i,o),sy:av(a,s,l,c)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return av(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return we.prototype.offset.call(this,t,e)},origin:function(){return new we(this.x,this.y)},pointNearestToPoint:function(t){if(t=new we(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new we(this.x+this.width,t.y);case"left":return new we(this.x,t.y);case"bottom":return new we(t.x,this.y+this.height);case"top":return new we(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new mt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new we(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=MFe(10,t);break}return this.x=v9(this.x*e)/e,this.y=v9(this.y*e)/e,this.width=v9(this.width*e)/e,this.height=v9(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new we(t);var e=t.x-this.x,n=this.x+this.width-t.x,r=t.y-this.y,i=this.y+this.height-t.y,o=e,a="left";return n<o&&(o=n,a="right"),r<o&&(o=r,a="top"),i<o&&(a="bottom"),a},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new mt(this.topLeft(),this.topRight())},topMiddle:function(){return new we(this.x+this.width/2,this.y)},topRight:function(){return new we(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return lt.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}};lt.prototype.bottomRight=lt.prototype.corner;lt.prototype.topLeft=lt.prototype.origin;lt.prototype.translate=lt.prototype.offset;const zFe=lt;function Fie(t){const e=t.trim();if(e==="")return[];const n=[],r=e.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let o=0;o<i;o+=2)n.push({x:+r[o],y:+r[o+1]});return n}function Nie(t){const e=t.length;if(e===0)return[];const n=[];for(let r=0;r<e;r++){const i=t[r].clone();n.push(i)}return n}function Mie(t){const{abs:e}=Math;var n,r,i=t.length;if(i===0)return[];var o;for(n=0;n<i;n++)(o===void 0||t[n].y<o.y||t[n].y===o.y&&t[n].x>o.x)&&(o=t[n]);var a=[];for(n=0;n<i;n++){var s=o.theta(t[n]);s===0&&(s=360);var l=[t[n],n,s];a.push(l)}if(a.sort(function(R,V){var ie=R[2]-V[2];return ie===0&&(ie=V[1]-R[1]),ie}),a.length>2){var c=a[a.length-1];a.unshift(c)}for(var u={},f=[],d,h,m,v,k,b;a.length!==0;)if(d=a.pop(),h=d[0],!u.hasOwnProperty(d[0]+"@@"+d[1]))for(var _=!1;!_;)if(f.length<2)f.push(d),_=!0;else{m=f.pop(),v=m[0],k=f.pop(),b=k[0];var x=b.cross(v,h);if(x<0)f.push(k),f.push(m),f.push(d),_=!0;else if(x===0){var C=1e-10,S=v.angleBetween(b,h);e(S-180)<C||v.equals(h)||b.equals(v)?(u[m[0]+"@@"+m[1]]=v,f.push(k)):e((S+1)%360-1)<C&&(f.push(k),a.push(m))}else u[m[0]+"@@"+m[1]]=v,f.push(k)}f.length>2&&f.pop();var g,T=-1;for(r=f.length,n=0;n<r;n++){var P=f[n][1];(g===void 0||P<g)&&(g=P,T=n)}var $=[];if(T>0){var F=f.slice(T),D=f.slice(0,T);$=F.concat(D)}else $=f;var z=[];for(r=$.length,n=0;n<r;n++)z.push($[n][0]);return z}const Or=function(t){if(!(this instanceof Or))return new Or(t);if(typeof t=="string")return new Or.parse(t);this.points=Array.isArray(t)?t.map(we):[]};Or.parse=function(t){return new Or(Fie(t))};Or.fromRect=function(t){return new Or([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};Or.prototype={type:mn.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.points,o=i.length;if(o===0)return null;for(var a=0;a<o;a++){var s=i[a],l=s.x,c=s.y;l<t&&(t=l),l>e&&(e=l),c<n&&(n=c),c>r&&(r=c)}return new lt(t,n,e-t,r-n)},clone:function(){return new Or(Nie(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return 0;for(var r,i=1/0,o=0,a=n-1,s=0;s<a;s++){var l=new mt(e[s],e[s+1]),c=l.length(),u=l.closestPointNormalizedLength(t),f=l.pointAt(u),d=f.squaredDistance(t);d<i&&(i=d,r=o+u*c),o+=c}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var n=this.length();return n===0?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(n===0)return!1;for(var r=t.x,i=t.y,o=n-1,a=0,s=0,l=new mt,c=new mt,u=new we;a<n;a++){var f=e[o],d=e[a];if(t.equals(f)||(l.start=f,l.end=d,l.containsPoint(t)))return!0;if(i<=f.y&&i>d.y||i>f.y&&i<=d.y){var h=f.x-r>d.x-r?f.x-r:d.x-r;h>=0&&(u.x=r+h,u.y=i,c.start=t,c.end=u,l.intersect(c)&&s++)}o=a}return s%2===1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new Or(Mie(this.points))},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,r=e.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=e[i],a=t.points[i];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(t){for(var e=new mt(t),n=[],r=this.lengthPoints(),i=new mt,o=0,a=r.length-1;o<a;o++){i.start=r[o],i.end=r[o+1];var s=e.intersectionWithLine(i);s&&n.push(s[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var n=new mt,r=e-1,i=0;i<r;i++)if(n.start=t[i],n.end=t[i+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var n=0,r=e-1,i=0;i<r;i++)n+=t[i].distance(t[i+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length(),i=r*t;return this.pointAtLength(i)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var i=0,o=n-1,a=0;a<o;a++){var s=r?a:o-1-a,l=e[s],c=e[s+1],u=new mt(l,c),f=l.distance(c);if(t<=i+f)return u.pointAtLength((r?1:-1)*(t-i));i+=f}var d=r?e[n-1]:e[0];return d.clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,i=r.length,o=0;o<i;o++)r[o].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const i=r,o=r+1,a=r+2,s=e[i],l=e[o],c=e[a];new mt(s,c).closestPoint(l).distance(l)<=n?e.splice(o,1):r+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length(),i=r*t;return this.tangentAtLength(i)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;var r=!0;t<0&&(r=!1,t=-t);for(var i,o=0,a=n-1,s=0;s<a;s++){var l=r?s:a-1-s,c=e[l],u=e[l+1],f=new mt(c,u),d=c.distance(u);if(f.isDifferentiable()){if(t<=o+d)return f.tangentAtLength((r?1:-1)*(t-o));i=f}o+=d}if(i){var h=r?1:0;return i.tangentAt(h)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var n="",r=0;r<e;r++){var i=t[r];n+=i.x+","+i.y+" "}return n.trim()}};Object.defineProperty(Or.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty(Or.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});const{abs:y9,sqrt:RFe,min:uW,max:fW,pow:wC}=Math,nr=function(t,e,n,r){if(!(this instanceof nr))return new nr(t,e,n,r);if(t instanceof nr)return new nr(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new we(t),this.controlPoint1=new we(e),this.controlPoint2=new we(n),this.end=new we(r)};nr.throughPoints=function(){function t(n){var r=[],i=[],o=n.length-1,a;if(o==1)return r[0]=new we((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new we(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var s=[];for(a=1;a<o-1;a++)s[a]=4*n[a].x+2*n[a+1].x;s[0]=n[0].x+2*n[1].x,s[o-1]=(8*n[o-1].x+n[o].x)/2;var l=e(s);for(a=1;a<o-1;++a)s[a]=4*n[a].y+2*n[a+1].y;s[0]=n[0].y+2*n[1].y,s[o-1]=(8*n[o-1].y+n[o].y)/2;var c=e(s);for(a=0;a<o;a++)r.push(new we(l[a],c[a])),a<o-1?i.push(new we(2*n[a+1].x-l[a+1],2*n[a+1].y-c[a+1])):i.push(new we((n[o].x+l[o-1])/2,(n[o].y+c[o-1])/2));return[r,i]}function e(n){var r=n.length,i=[],o=[],a=2;i[0]=n[0]/a;for(var s=1;s<r;s++)o[s]=1/a,a=(s<r-1?4:3.5)-o[s],i[s]=(n[s]-i[s-1])/a;for(s=1;s<r;s++)i[r-s-1]-=o[r-s]*i[r-s];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=t(n),i=[],o=r[0].length,a=0;a<o;a++){var s=new we(r[0][a].x,r[0][a].y),l=new we(r[1][a].x,r[1][a].y);i.push(new nr(n[a],s,l,n[a+1]))}return i}}();nr.prototype={type:mn.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,i=t.x,o=t.y,a=e.x,s=e.y,l=n.x,c=n.y,u=r.x,f=r.y,d=new Array,h=new Array,m=[new Array,new Array],v,k,b,_,x,C,S,g,T=0;T<2;++T){if(T===0?(k=6*i-12*a+6*l,v=-3*i+9*a-9*l+3*u,b=3*a-3*i):(k=6*o-12*s+6*c,v=-3*o+9*s-9*c+3*f,b=3*s-3*o),y9(v)<1e-12){if(y9(k)<1e-12)continue;_=-b/k,0<_&&_<1&&h.push(_);continue}S=k*k-4*b*v,g=RFe(S),!(S<0)&&(x=(-k+g)/(2*v),0<x&&x<1&&h.push(x),C=(-k-g)/(2*v),0<C&&C<1&&h.push(C))}for(var P=h.length,$=P,F,D,z;P--;)_=h[P],F=1-_,D=F*F*F*i+3*F*F*_*a+3*F*_*_*l+_*_*_*u,m[0][P]=D,z=F*F*F*o+3*F*F*_*s+3*F*_*_*c+_*_*_*f,m[1][P]=z,d[P]={X:D,Y:z};h[$]=0,h[$+1]=1,d[$]={X:i,Y:o},d[$+1]={X:u,Y:f},m[0][$]=i,m[1][$]=o,m[0][$+1]=u,m[1][$+1]=f,h.length=$+2,m[0].length=$+2,m[1].length=$+2,d.length=$+2;var R=uW.apply(null,m[0]),V=uW.apply(null,m[1]),ie=fW.apply(null,m[0]),oe=fW.apply(null,m[1]);return new lt(R,V,ie-R,oe-V)},clone:function(){return new nr(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(t,i),i)},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r},o=this.closestPointLength(t,i);if(!o)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(t,e){e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i,o,a,s,l,c,u,f=r.length,d=f?1/f:0,h=0;h<f;h++){var m=r[h],v=m.start.distance(t),k=m.end.distance(t),b=v+k;(!u||b<u)&&(i=m,o=h*d,a=(h+1)*d,s=v,l=k,c=m.start.distance(m.end),u=b)}for(var _=wC(10,-n);;){var x=s?y9(s-l)/s:0,C=l?y9(s-l)/l:0,S=x<_||C<_,g=s?s<c*_:!0,T=l?l<c*_:!0,P=g||T;if(S||P)return s<=l?o:a;var $=i.divide(.5);d/=2;var F=$[0].start.distance(t),D=$[0].end.distance(t),z=F+D,R=$[1].start.distance(t),V=$[1].end.distance(t),ie=R+V;z<=ie?(i=$[0],a-=d,s=F,l=D):(i=$[1],o+=d,s=R,l=V)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var n=this.toPolyline(e);return n.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(t<=0)return[new nr(e,e,e,e),new nr(e,n,r,i)];if(t>=1)return[new nr(e,n,r,i),new nr(i,i,i,i)];var o=this.getSkeletonPoints(t),a=o.startControlPoint1,s=o.startControlPoint2,l=o.divider,c=o.dividerControlPoint1,u=o.dividerControlPoint2;return[new nr(e,a,s,l),new nr(l,c,u,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var o=new mt(e,n).pointAt(t),a=new mt(n,r).pointAt(t),s=new mt(r,i).pointAt(t),l=new mt(o,a).pointAt(t),c=new mt(a,s).pointAt(t),u=new mt(l,c).pointAt(t),f={startControlPoint1:o,startControlPoint2:l,divider:u,dividerControlPoint1:c,dividerControlPoint2:s};return f},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,o=this.end,a=[new nr(n,r,i,o)];if(e===0)return a;var s=!this.isDifferentiable();if(s)return a;var l=this.endpointDistance(),c=wC(10,-e),u=2,f=r.cross(n,o)===0&&i.cross(n,o)===0;f&&(u=2*e);for(var d=0;;){d+=1;for(var h=[],m=a.length,v=0;v<m;v++){var k=a[v],b=k.divide(.5);h.push(b[0],b[1])}for(var _=0,x=h.length,C=0;C<x;C++){var S=h[C];_+=S.endpointDistance()}if(d>=u){var g=_!==0?(_-l)/_:0;if(g<c)return h}a=h,l=_}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=0,i=n.length,o=0;o<i;o++){var a=n[o];r+=a.endpointDistance()}return r},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=this.divide(t)[0],i=r.length({precision:n});return i},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,i=e.divider,o=new mt(n,r);return o.translate(i.x-n.x,i.y-n.y),o},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r},o=this.length(i),a=o*t;return this.tAtLength(a,i)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t),e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:r}):e.subdivisions,o={precision:r,subdivisions:i},a,s,l,c,u,f=0,d=i.length,h=1/d,m=0;m<d;m++){var v=n?m:d-1-m,k=i[m],b=k.endpointDistance();if(t<=f+b){a=k,s=v*h,l=(v+1)*h,c=n?t-f:b+f-t,u=n?b+f-t:t-f;break}f+=b}if(!a)return n?1:0;for(var _=this.length(o),x=wC(10,-r);;){var C;if(C=_!==0?c/_:0,C<x)return s;if(C=_!==0?u/_:0,C<x)return l;var S,g,T=a.divide(.5);h/=2;var P=T[0].endpointDistance(),$=T[1].endpointDistance();c<=P?(a=T[0],l-=h,S=c,g=P-S):(a=T[1],s+=h,S=c-P,g=$-S),c=S,u=g}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=[n[0].start.clone()],i=n.length,o=0;o<i;o++){var a=n[o];r.push(a.end.clone())}return r},toPolyline:function(t){return new Or(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};nr.prototype.divide=nr.prototype.divideAtT;function _2(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var i=Object.create(t);for(n=r.length,e=0;e<n;e++){var o=r[e],a,s;for(s in o)o.hasOwnProperty(s)&&(delete i[s],a=Object.getOwnPropertyDescriptor(o,s),Object.defineProperty(i,s,a))}return i}const xt=function(t){if(!(this instanceof xt))return new xt(t);if(typeof t=="string")return new xt.parse(t);this.segments=[];var e,n;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(s,l){return s.concat(l)},[]),n=t.length,t[0].isSegment)for(e=0;e<n;e++){var r=t[e];this.appendSegment(r)}else{var i=null;for(e=0;e<n;e++){var o=t[e];if(!(o instanceof mt||o instanceof nr))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(xt.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(xt.createSegment("M",o.start)),o instanceof mt?this.appendSegment(xt.createSegment("L",o.end)):o instanceof nr&&this.appendSegment(xt.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof mt)this.appendSegment(xt.createSegment("M",t.start)),this.appendSegment(xt.createSegment("L",t.end));else if(t instanceof nr)this.appendSegment(xt.createSegment("M",t.start)),this.appendSegment(xt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof Or){if(!(t.points&&t.points.length!==0))return;for(n=t.points.length,e=0;e<n;e++){var a=t.points[e];e===0?this.appendSegment(xt.createSegment("M",a)):this.appendSegment(xt.createSegment("L",a))}}else throw new Error("Cannot construct a path from the provided object.")};xt.parse=function(t){if(!t)return new xt;for(var e=new xt,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=t.match(n),i=r.length,o=0;o<i;o++){var a=r[o],s=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=a.match(s),c=xt.createSegment.apply(this,l);e.appendSegment(c)}return e};xt.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=xt.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return du(e,n)};xt.prototype={type:mn.Path,appendSegment:function(t){var e=this.segments,n=e.length,r,i=n!==0?e[n-1]:null,o=null;if(Array.isArray(t)){if(t=t.reduce(function(c,u){return c.concat(u)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,s=0;s<a;s++){var l=t[s];r=this.prepareSegment(l,i,o),e.push(r),i=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,i,o),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n,r=0;r<e;r++){var i=t[r];if(i.isVisible){var o=i.bbox();n=n?n.union(o):o}}if(n)return n;var a=t[e-1];return new lt(a.end.x,a.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new xt,r=0;r<e;r++){var i=t[r].clone();n.appendSegment(i)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointT(t,i);return o?this.lengthAtT(o,i):0},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},o=this.closestPointLength(t,i);if(o===0)return 0;var a=this.length(i);return a===0?0:o/a},closestPointT:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a,s=1/0,l=0;l<r;l++){var c=n[l],u=o[l];if(c.isVisible){var f=c.closestPointT(t,{precision:i,subdivisions:u}),d=c.pointAtT(f),h=new mt(d,t).squaredLength();h<s&&(a={segmentIndex:l,value:f},s=h)}}return a||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a,s=1/0,l=0;l<r;l++){var c=n[l],u=o[l];if(c.isDifferentiable()){var f=c.closestPointT(t,{precision:i,subdivisions:u}),d=c.pointAtT(f),h=new mt(d,t).squaredLength();h<s&&(a=c.tangentAtT(f),s=h)}}return a||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,i=0,o=0;o<r;o++){var a=n[o];a.containsPoint(t)&&i++}return i%2===1},divideAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*t;return this.divideAtLength(l,a)},divideAtLength:function(t,e){var n=this.segments.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a,s,l=0,c,u,f,d,h;for(a=0;a<n;a++){var m=r?a:n-1-a;s=this.getSegment(m);var v=o[m],k=s.length({precision:i,subdivisions:v});if(s.isDifferentiable()&&(f=s,d=m,t<=l+k)){u=m,c=s.divideAtLength((r?1:-1)*(t-l),{precision:i,subdivisions:v});break}l+=k}if(!f)return null;c||(u=d,h=r?1:0,c=f.divideAtT(h));var b=this.clone();b.replaceSegment(u,c);var _=u,x=u+1,C=u+2;c[0].isDifferentiable()||(b.removeSegment(_),x-=1,C-=1);var S=b.getSegment(x).start;b.insertSegment(x,xt.createSegment("M",S)),C+=1,c[1].isDifferentiable()||(b.removeSegment(C-1),C-=1);var g=C-_-1;for(a=C;a<b.segments.length;a++){var T=this.getSegment(a-g);if(s=b.getSegment(a),s.type==="Z"&&!T.subpathStartSegment.end.equals(s.subpathStartSegment.end)){var P=xt.createSegment("L",T.end);b.replaceSegment(a,P)}}var $=new xt(b.segments.slice(0,x)),F=new xt(b.segments.slice(x));return[$,F]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var o=e[i],a=n[i];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,n=e.length;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=[],o=0;o<n;o++){var a=e[o],s=a.getSubdivisions({precision:r});i.push(s)}return i},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let i=0;i<n;i++){const o=e[i];o.isSubpathStart?r.push(new xt(o)):r[r.length-1].appendSegment(o)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var i,o=null,a=null;if(r!==0&&(t>=1?(o=n[t-1],a=o.nextSegment):a=n[0]),Array.isArray(e)){if(e=e.reduce(function(u,f){return u.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var s=e.length,l=0;l<s;l++){var c=e[l];i=this.prepareSegment(c,o,a),n.splice(t+l,0,i),o=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,o,a),n.splice(t,0,i)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var i=0,o=r.length;i<o;i++){var a=r[i],s=t.intersect(a);s&&(n||(n=[]),Array.isArray(s)?Array.prototype.push.apply(n,s):n.push(s))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++){var r=t[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,n=e.length;if(n===0)return 0;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o=0,a=0;a<n;a++){var s=e[a],l=i[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(r===0)return 0;var i=t.segmentIndex;if(i<0)return 0;var o=t.value;i>=r?(i=r-1,o=1):o<0?o=0:o>1&&(o=1),e=e||{};for(var a=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l,c=0,u=0;u<i;u++){var f=n[u];l=s[u],c+=f.length({precisison:a,subdivisions:l})}return f=n[i],l=s[i],c+=f.lengthAtT(o,{precisison:a,subdivisions:l}),c},pointAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*t;return this.pointAtLength(l,a)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t===0)return this.start.clone();var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s,l=0,c=0;c<r;c++){var u=i?c:r-1-c,f=n[u],d=a[u],h=f.length({precision:o,subdivisions:d});if(f.isVisible){if(t<=l+h)return f.pointAtLength((i?1:-1)*(t-l),{precision:o,subdivisions:d});s=f}l+=h}if(s)return i?s.end:s.start;var m=n[r-1];return m.end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var i=t.value;return i<0?i=0:i>1&&(i=1),e[r].pointAtT(i)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],i=r.previousSegment,o=r.nextSegment;i&&(i.nextSegment=o),o&&(o.previousSegment=i),r.isSubpathStart&&o&&this.updateSubpathStartSegment(o)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var i,o=n[t],a=o.previousSegment,s=o.nextSegment,l=o.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(d,h){return d.concat(h)},[]),!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var c=e.length,u=0;u<c;u++){var f=e[u];i=this.prepareSegment(f,a,s),n.splice(t+u,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,a,s),n.splice(t,1,i),l&&i.isSubpathStart&&(l=!1)}l&&s&&this.updateSubpathStartSegment(s)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++){var i=e[r];i.round(t)}return this},scale:function(t,e,n){for(var r=this.segments,i=r.length,o=0;o<i;o++){var a=r[o];a.scale(t,e,n)}return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*t;return this.segmentIndexAtLength(l,a)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=null,l=0,c=0;c<r;c++){var u=i?c:r-1-c,f=n[u],d=a[u],h=f.length({precision:o,subdivisions:d});if(f.isVisible){if(t<=l+h)return u;s=u}l+=h}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:o},s=this.length(a),l=s*t;return this.tangentAtLength(l,a)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var o=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s,l=0,c=0;c<r;c++){var u=i?c:r-1-c,f=n[u],d=a[u],h=f.length({precision:o,subdivisions:d});if(f.isDifferentiable()){if(t<=l+h)return f.tangentAtLength((i?1:-1)*(t-l),{precision:o,subdivisions:d});s=f}l+=h}if(s){var m=i?1:0;return s.tangentAtT(m)}return null},tangentAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var i=t.value;return i<0?i=0:i>1&&(i=1),e[r].tangentAtT(i)},toPoints:function(t){var e=this.segments,n=e.length;if(n===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,o=[],a=[],s=0;s<n;s++){var l=e[s];if(l.isVisible){var c=i[s];if(c.length>0){var u=c.map(function(f){return f.start});Array.prototype.push.apply(a,u)}else a.push(l.start)}else a.length>0&&(a.push(e[s-1].end),o.push(a),a=[])}return a.length>0&&(a.push(this.end),o.push(a)),o},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,i=n.length;r<i;r++)e.push(new Or(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++){var i=t[r];n+=i.serialize()+" "}return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,i=0;i<r;i++){var o=n[i];o.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,xt.createSegment("M",0,0)),this}};Object.defineProperty(xt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}});Object.defineProperty(xt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});function du(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var Xm={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Xm,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Xm,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Xm,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var Ao=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Ao))return du(Ao,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof mt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new we(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=2)i=t.slice(n,n+2),r.push(du(Ao,i));return r}else{if(e===1)return this.end=new we(t[0]),this;var o;for(r=[],n=0;n<e;n+=1)o=t[n],r.push(new Ao(o));return r}},zie={clone:function(){return new Ao(this.end)},divideAt:function(t){var e=new mt(this.start,this.end),n=e.divideAt(t);return[new Ao(n[0]),new Ao(n[1])]},divideAtLength:function(t){var e=new mt(this.start,this.end),n=e.divideAtLength(t);return[new Ao(n[0]),new Ao(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(zie,"type",{configurable:!0,enumerable:!0,value:"L"});Ao.prototype=_2(Xm,mt.prototype,zie);var $s=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof $s))return du($s,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(t[0]instanceof nr){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new we(+t[0],+t[1]),this.controlPoint2=new we(+t[2],+t[3]),this.end=new we(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=6)i=t.slice(n,n+6),r.push(du($s,i));return r}else{if(e===3)return this.controlPoint1=new we(t[0]),this.controlPoint2=new we(t[1]),this.end=new we(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var o;for(r=[],n=0;n<e;n+=3)o=t.slice(n,n+3),r.push(du($s,o));return r}},Rie={clone:function(){return new $s(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var n=new nr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(t,e);return[new $s(r[0]),new $s(r[1])]},divideAtLength:function(t,e){var n=new nr(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(t,e);return[new $s(r[0]),new $s(r[1])]},divideAtT:function(t){var e=new nr(this.start,this.controlPoint1,this.controlPoint2,this.end),n=e.divideAtT(t);return[new $s(n[0]),new $s(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(Rie,"type",{configurable:!0,enumerable:!0,value:"C"});$s.prototype=_2(Xm,nr.prototype,Rie);var Jp=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Jp))return du(Jp,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof mt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof nr){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new we(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=2)i=t.slice(n,n+2),n===0?r.push(du(Jp,i)):r.push(du(Ao,i));return r}else{if(e===1)return this.end=new we(t[0]),this;var o;for(r=[],n=0;n<e;n+=1)o=t[n],n===0?r.push(new Jp(o)):r.push(new Ao(o));return r}},OD={bbox:function(){return null},clone:function(){return new Jp(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(OD,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(OD,"type",{configurable:!0,enumerable:!0,value:"M"});Jp.prototype=_2(Xm,OD);var pb=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof pb))return du(pb,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},DD={clone:function(){return new pb},divideAt:function(t){var e=new mt(this.start,this.end),n=e.divideAt(t);return[n[1].isDifferentiable()?new Ao(n[0]):this.clone(),new Ao(n[1])]},divideAtLength:function(t){var e=new mt(this.start,this.end),n=e.divideAtLength(t);return[n[1].isDifferentiable()?new Ao(n[0]):this.clone(),new Ao(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(DD,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(DD,"type",{configurable:!0,enumerable:!0,value:"Z"});pb.prototype=_2(Xm,mt.prototype,DD);var jFe=xt.segmentTypes={L:Ao,C:$s,M:Jp,Z:pb,z:pb};xt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(jFe).join("")+",.]*$");xt.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};const VFe={curveThroughPoints:function(t){return console.warn("deprecated"),new xt(nr.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],r=t.length-1,i;if(r==1)return e[0]=new we((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new we(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var o=[];for(i=1;i<r-1;i++)o[i]=4*t[i].x+2*t[i+1].x;o[0]=t[0].x+2*t[1].x,o[r-1]=(8*t[r-1].x+t[r].x)/2;var a=this.getFirstControlPoints(o);for(i=1;i<r-1;++i)o[i]=4*t[i].y+2*t[i+1].y;o[0]=t[0].y+2*t[1].y,o[r-1]=(8*t[r-1].y+t[r].y)/2;var s=this.getFirstControlPoints(o);for(i=0;i<r;i++)e.push(new we(a[i],s[i])),i<r-1?n.push(new we(2*t[i+1].x-a[i+1],2*t[i+1].y-s[i+1])):n.push(new we((t[r].x+a[r-1])/2,(t[r].y+s[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var i=new nr(t,e,n,r);return function(a){var s=i.divide(a);return[{p0:s[0].start,p1:s[0].controlPoint1,p2:s[0].controlPoint2,p3:s[0].end},{p0:s[1].start,p1:s[1].controlPoint1,p2:s[1].controlPoint2,p3:s[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],i=2;n[0]=t[0]/i;for(var o=1;o<e;o++)r[o]=1/i,i=(o<e-1?4:3.5)-r[o],n[o]=(t[o]-n[o-1])/i;for(o=1;o<e;o++)n[e-o-1]-=r[e-o]*n[e-o];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var i=new nr(t,e,n,r);return function(a){return i.closestPointT(a)}}},cs=function(t){if(!(this instanceof cs))return new cs(t);if(typeof t=="string")return new cs.parse(t);this.points=Array.isArray(t)?t.map(we):[]};cs.parse=function(t){return new cs(Fie(t))};cs.fromRect=function(t){return new cs([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};cs.prototype=_2(Or.prototype,{type:mn.Polygon,clone:function(){return new cs(Nie(this.points))},convexHull:function(){return new cs(Mie(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});function jie(t,e,n,r){switch(t.type){case mn.Line:{switch(e.type){case mn.Line:return Zp(t,e)}break}case mn.Ellipse:{switch(e.type){case mn.Line:return LD(t,e);case mn.Ellipse:return Vie(t,e)}break}case mn.Rect:{switch(e.type){case mn.Line:return Bie(t,e);case mn.Ellipse:return Hie(t,e);case mn.Rect:return FD(t,e)}break}case mn.Polyline:{switch(e.type){case mn.Line:return a_(t,e);case mn.Ellipse:return ND(t,e);case mn.Rect:return Wie(t,e);case mn.Polyline:return Uie(t,e)}break}case mn.Polygon:{switch(e.type){case mn.Line:return MD(t,e);case mn.Ellipse:return s_(t,e);case mn.Rect:return Gie(t,e);case mn.Polyline:return qie(t,e);case mn.Polygon:return Yie(t,e)}break}case mn.Path:{switch(e.type){case mn.Line:return Xie(t,e,n);case mn.Ellipse:return Kie(t,e,n);case mn.Rect:return Jie(t,e,n);case mn.Polyline:return zD(t,e,n);case mn.Polygon:return l_(t,e,n);case mn.Path:return Zie(t,e,n,r)}break}}switch(e.type){case mn.Ellipse:case mn.Rect:case mn.Polyline:case mn.Polygon:case mn.Path:return jie(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function Zp(t,e){const n=t.start.x,r=t.start.y,i=t.end.x,o=t.end.y,a=e.start.x,s=e.start.y,l=e.end.x,c=e.end.y,u=i-n,f=o-r,d=l-a,h=c-s,m=n-a,v=r-s,k=u*h-d*f,b=(u*v-f*m)/k,_=(d*v-h*m)/k;return b>=0&&b<=1&&_>=0&&_<=1}function LD(t,e){const n=t.a,r=t.b,i=t.x,o=t.y,a=e.start.x-i,s=e.end.x-i,l=e.start.y-o,c=e.end.y-o,u=n*n,f=r*r,d=s-a,h=c-l,m=d*d/u+h*h/f,v=2*a*d/u+2*l*h/f,k=a*a/u+l*l/f-1,b=v*v-4*m*k;if(b===0){const _=-v/2/m;return _>=0&&_<=1}else if(b>0){const _=Math.sqrt(b),x=(-v+_)/2/m,C=(-v-_)/2/m;return x>=0&&x<=1||C>=0&&C<=1}return!1}function Vie(t,e){return BFe(t,0,e,0)}function Bie(t,e){const{start:n,end:r}=e,{x:i,y:o,width:a,height:s}=t;return n.x>i+a&&r.x>i+a||n.x<i&&r.x<i||n.y>o+s&&r.y>o+s||n.y<o&&r.y<o?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:Zp(t.topLine(),e)||Zp(t.rightLine(),e)||Zp(t.bottomLine(),e)||Zp(t.leftLine(),e)}function Hie(t,e){return FD(t,lt.fromEllipse(e))?s_(cs.fromRect(t),e):!1}function FD(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function a_(t,e){return Qie(t,e,{interior:!1})}function ND(t,e){return eoe(t,e,{interior:!1})}function Wie(t,e){return toe(t,e,{interior:!1})}function Uie(t,e){return c_(t,e,{interior:!1})}function MD(t,e){return Qie(t,e,{interior:!0})}function s_(t,e){return eoe(t,e,{interior:!0})}function Gie(t,e){return toe(t,e,{interior:!0})}function qie(t,e){return c_(t,e,{interior:!0})}function Yie(t,e){return RD(t,e,{interior:!0})}function Xie(t,e,n){return t.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?MD(i,e):a_(i,e)})}function Kie(t,e,n){return t.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:o}=r.getSegment(-1);return o==="Z"?s_(i,e):ND(i,e)})}function Jie(t,e,n){return l_(t,cs.fromRect(e),n)}function zD(t,e,n){return noe(t,e,n,{interior:!1})}function l_(t,e,n){return noe(t,e,n,{interior:!0})}function Zie(t,e,n,r){return t.getSubpaths().some(i=>{const[o]=i.toPolylines(n),{type:a}=i.getSegment(-1);return a==="Z"?l_(e,o,r):zD(e,o,r)})}function Qie(t,e,n={}){const{interior:r=!1}=n;let i;if(r){if(t.containsPoint(e.start))return!0;const{start:s,end:l,points:c}=t;i=l.equals(s)?c:[...c,s]}else i=t.points;const{length:o}=i,a=new mt;for(let s=0;s<o-1;s++)if(a.start=i[s],a.end=i[s+1],Zp(e,a))return!0;return!1}function eoe(t,e,n={}){const{start:r,end:i,points:o}=t;if(e.containsPoint(r))return!0;let a;const{interior:s=!1}=n;if(s){if(t.containsPoint(e.center()))return!0;a=i.equals(r)?o:[...o,r]}else a=o;const{length:l}=a,c=new mt;for(let u=0;u<l-1;u++)if(c.start=a[u],c.end=a[u+1],LD(e,c))return!0;return!1}function toe(t,e,n){const r=cs.fromRect(e);return RD(t,r,n)}function noe(t,e,n,r){return t.getSubpaths().some(i=>{const[o]=i.toPolylines(n),{type:a}=i.getSegment(-1);return a==="Z"?RD(e,o,r):c_(e,o,r)})}function c_(t,e,n={}){const{interior:r=!1}=n;let i;if(r){const{start:l}=e;if(t.containsPoint(l))return!0;i=t.clone().close()}else i=t;const o=e.points,{length:a}=o,s=new mt;for(let l=0;l<a-1;l++)if(s.start=o[l],s.end=o[l+1],a_(i,s))return!0;return!1}function RD(t,e,n){return e.containsPoint(t.start)||c_(t,e.clone().close(),n)}function BFe(t,e,n,r){const{cos:i,sin:o}=Math,a=o(e),s=i(e),l=o(r),c=i(r),u=a*a,f=s*s,d=a*s,h=l*l,m=c*c,v=l*c,k=t.a*t.a,b=t.b*t.b,_=n.a*n.a,x=n.b*n.b,C=k*u+b*f,S=_*h+x*m,g=k*f+b*u,T=_*m+x*h;let P=2*(b-k)*d,$=2*(x-_)*v,F=-2*C*t.x-P*t.y,D=-2*S*n.x-$*n.y,z=-P*t.x-2*g*t.y,R=-$*n.x-2*T*n.y;const V=C*t.x*t.x+g*t.y*t.y+P*t.x*t.y-k*b,ie=S*n.x*n.x+T*n.y*n.y+$*n.x*n.y-_*x;P=P/2,$=$/2,F=F/2,D=D/2,z=z/2,R=R/2;const oe=ad([[C,P,F],[P,g,z],[F,z,V]]),_e=ad([[S,$,D],[$,T,R],[D,R,ie]]),Ae=.33333333*(ad([[S,P,F],[$,g,z],[D,z,V]])+ad([[C,$,F],[P,T,z],[F,R,V]])+ad([[C,P,D],[P,g,R],[F,z,ie]])),Ie=.33333333*(ad([[C,$,D],[P,T,R],[F,R,ie]])+ad([[S,P,D],[$,g,R],[D,z,ie]])+ad([[S,$,F],[$,T,z],[D,R,V]])),ke=k9([[oe,Ae],[Ae,Ie]]),se=k9([[oe,Ie],[Ae,_e]]),ne=k9([[Ae,Ie],[Ie,_e]]);return!(k9([[2*ke,se],[se,2*ne]])>0&&(Ie>0||Ae>0))}function k9(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function ad(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}const HFe=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:Vie,ellipseWithLine:LD,exists:jie,lineWithLine:Zp,pathWithEllipse:Kie,pathWithLine:Xie,pathWithPath:Zie,pathWithPolygon:l_,pathWithPolyline:zD,pathWithRect:Jie,polygonWithEllipse:s_,polygonWithLine:MD,polygonWithPolygon:Yie,polygonWithPolyline:qie,polygonWithRect:Gie,polylineWithEllipse:ND,polylineWithLine:a_,polylineWithPolyline:Uie,polylineWithRect:Wie,rectWithEllipse:Hie,rectWithLine:Bie,rectWithRect:FD},Symbol.toStringTag,{value:"Module"})),WFe=HFe,UFe=Object.freeze(Object.defineProperty({__proto__:null,Curve:nr,Ellipse:Ca,Line:mt,Path:xt,Point:we,Polygon:cs,Polyline:Or,Rect:lt,bezier:VFe,ellipse:LFe,intersection:WFe,line:um,normalizeAngle:yu,point:hk,random:iP,rect:zFe,scale:PFe,snapToGrid:Em,toDeg:o_,toRad:ls,types:mn},Symbol.toStringTag,{value:"Module"}));var roe={},jD="1.13.6",dW=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},u_=Array.prototype,VD=Object.prototype,hW=typeof Symbol<"u"?Symbol.prototype:null,GFe=u_.push,w2=u_.slice,p4=VD.toString,qFe=VD.hasOwnProperty,ioe=typeof ArrayBuffer<"u",YFe=typeof DataView<"u",XFe=Array.isArray,pW=Object.keys,mW=Object.create,gW=ioe&&ArrayBuffer.isView,KFe=isNaN,JFe=isFinite,ooe=!{toString:null}.propertyIsEnumerable("toString"),bW=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ZFe=Math.pow(2,53)-1;function Ia(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}function gh(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function aoe(t){return t===null}function BD(t){return t===void 0}function HD(t){return t===!0||t===!1||p4.call(t)==="[object Boolean]"}function soe(t){return!!(t&&t.nodeType===1)}function oa(t){var e="[object "+t+"]";return function(n){return p4.call(n)===e}}const f_=oa("String"),WD=oa("Number"),loe=oa("Date"),coe=oa("RegExp"),uoe=oa("Error"),UD=oa("Symbol"),GD=oa("ArrayBuffer");var foe=oa("Function"),QFe=dW.document&&dW.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof QFe!="function"&&(foe=function(t){return typeof t=="function"||!1});const na=foe,doe=oa("Object");var hoe=YFe&&doe(new DataView(new ArrayBuffer(8))),qD=typeof Map<"u"&&doe(new Map),eNe=oa("DataView");function tNe(t){return t!=null&&na(t.getInt8)&&GD(t.buffer)}const m4=hoe?tNe:eNe,bh=XFe||oa("Array");function vh(t,e){return t!=null&&qFe.call(t,e)}var sP=oa("Arguments");(function(){sP(arguments)||(sP=function(t){return vh(t,"callee")})})();const d_=sP;function poe(t){return!UD(t)&&JFe(t)&&!isNaN(parseFloat(t))}function YD(t){return WD(t)&&KFe(t)}function XD(t){return function(){return t}}function moe(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=ZFe}}function goe(t){return function(e){return e==null?void 0:e[t]}}const pk=goe("byteLength"),nNe=moe(pk);var rNe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function iNe(t){return gW?gW(t)&&!m4(t):nNe(t)&&rNe.test(p4.call(t))}const KD=ioe?iNe:XD(!1),ps=goe("length");function oNe(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(i){return e[i]===!0},push:function(i){return e[i]=!0,t.push(i)}}}function boe(t,e){e=oNe(e);var n=bW.length,r=t.constructor,i=na(r)&&r.prototype||VD,o="constructor";for(vh(t,o)&&!e.contains(o)&&e.push(o);n--;)o=bW[n],o in t&&t[o]!==i[o]&&!e.contains(o)&&e.push(o)}function eo(t){if(!gh(t))return[];if(pW)return pW(t);var e=[];for(var n in t)vh(t,n)&&e.push(n);return ooe&&boe(t,e),e}function voe(t){if(t==null)return!0;var e=ps(t);return typeof e=="number"&&(bh(t)||f_(t)||d_(t))?e===0:ps(eo(t))===0}function JD(t,e){var n=eo(e),r=n.length;if(t==null)return!r;for(var i=Object(t),o=0;o<r;o++){var a=n[o];if(e[a]!==i[a]||!(a in i))return!1}return!0}function fr(t){if(t instanceof fr)return t;if(!(this instanceof fr))return new fr(t);this._wrapped=t}fr.VERSION=jD;fr.prototype.value=function(){return this._wrapped};fr.prototype.valueOf=fr.prototype.toJSON=fr.prototype.value;fr.prototype.toString=function(){return String(this._wrapped)};function vW(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,pk(t))}var yW="[object DataView]";function lP(t,e,n,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var i=typeof t;return i!=="function"&&i!=="object"&&typeof e!="object"?!1:yoe(t,e,n,r)}function yoe(t,e,n,r){t instanceof fr&&(t=t._wrapped),e instanceof fr&&(e=e._wrapped);var i=p4.call(t);if(i!==p4.call(e))return!1;if(hoe&&i=="[object Object]"&&m4(t)){if(!m4(e))return!1;i=yW}switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return hW.valueOf.call(t)===hW.valueOf.call(e);case"[object ArrayBuffer]":case yW:return yoe(vW(t),vW(e),n,r)}var o=i==="[object Array]";if(!o&&KD(t)){var a=pk(t);if(a!==pk(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if(typeof t!="object"||typeof e!="object")return!1;var s=t.constructor,l=e.constructor;if(s!==l&&!(na(s)&&s instanceof s&&na(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var c=n.length;c--;)if(n[c]===t)return r[c]===e;if(n.push(t),r.push(e),o){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!lP(t[c],e[c],n,r))return!1}else{var u=eo(t),f;if(c=u.length,eo(e).length!==c)return!1;for(;c--;)if(f=u[c],!(vh(e,f)&&lP(t[f],e[f],n,r)))return!1}return n.pop(),r.pop(),!0}function koe(t,e){return lP(t,e)}function Vb(t){if(!gh(t))return[];var e=[];for(var n in t)e.push(n);return ooe&&boe(t,e),e}function ZD(t){var e=ps(t);return function(n){if(n==null)return!1;var r=Vb(n);if(ps(r))return!1;for(var i=0;i<e;i++)if(!na(n[t[i]]))return!1;return t!==Soe||!na(n[QD])}}var QD="forEach",_oe="has",eL=["clear","delete"],woe=["get",_oe,"set"],aNe=eL.concat(QD,woe),Soe=eL.concat(woe),sNe=["add"].concat(eL,QD,_oe);const xoe=qD?ZD(aNe):oa("Map"),Coe=qD?ZD(Soe):oa("WeakMap"),Toe=qD?ZD(sNe):oa("Set"),Aoe=oa("WeakSet");function Km(t){for(var e=eo(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=t[e[i]];return r}function Ioe(t){for(var e=eo(t),n=e.length,r=Array(n),i=0;i<n;i++)r[i]=[e[i],t[e[i]]];return r}function tL(t){for(var e={},n=eo(t),r=0,i=n.length;r<i;r++)e[t[n[r]]]=n[r];return e}function g4(t){var e=[];for(var n in t)na(t[n])&&e.push(n);return e.sort()}function nL(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||n==null)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),s=a.length,l=0;l<s;l++){var c=a[l];(!e||n[c]===void 0)&&(n[c]=o[c])}return n}}const rL=nL(Vb),mb=nL(eo),iL=nL(Vb,!0);function lNe(){return function(){}}function Poe(t){if(!gh(t))return{};if(mW)return mW(t);var e=lNe();e.prototype=t;var n=new e;return e.prototype=null,n}function Eoe(t,e){var n=Poe(t);return e&&mb(n,e),n}function $oe(t){return gh(t)?bh(t)?t.slice():rL({},t):t}function Ooe(t,e){return e(t),t}function oL(t){return bh(t)?t:[t]}fr.toPath=oL;function S2(t){return fr.toPath(t)}function aL(t,e){for(var n=e.length,r=0;r<n;r++){if(t==null)return;t=t[e[r]]}return n?t:void 0}function sL(t,e,n){var r=aL(t,S2(e));return BD(r)?n:r}function Doe(t,e){e=S2(e);for(var n=e.length,r=0;r<n;r++){var i=e[r];if(!vh(t,i))return!1;t=t[i]}return!!n}function h_(t){return t}function $m(t){return t=mb({},t),function(e){return JD(e,t)}}function p_(t){return t=S2(t),function(e){return aL(e,t)}}function x2(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,i,o){return t.call(e,r,i,o)};case 4:return function(r,i,o,a){return t.call(e,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function Loe(t,e,n){return t==null?h_:na(t)?x2(t,e,n):gh(t)&&!bh(t)?$m(t):p_(t)}function m_(t,e){return Loe(t,e,1/0)}fr.iteratee=m_;function bs(t,e,n){return fr.iteratee!==m_?fr.iteratee(t,e):Loe(t,e,n)}function Foe(t,e,n){e=bs(e,n);for(var r=eo(t),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=e(t[s],s,t)}return o}function lL(){}function Noe(t){return t==null?lL:function(e){return sL(t,e)}}function Moe(t,e,n){var r=Array(Math.max(0,t));e=x2(e,n,1);for(var i=0;i<t;i++)r[i]=e(i);return r}function mk(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const gb=Date.now||function(){return new Date().getTime()};function zoe(t){var e=function(o){return t[o]},n="(?:"+eo(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(o){return o=o==null?"":""+o,r.test(o)?o.replace(i,e):o}}const Roe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},joe=zoe(Roe),cNe=tL(Roe),Voe=zoe(cNe),Boe=fr.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var SC=/(.)^/,uNe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},fNe=/\\|'|\r|\n|\u2028|\u2029/g;function dNe(t){return"\\"+uNe[t]}var hNe=/^\s*(\w|\$)+\s*$/;function Hoe(t,e,n){!e&&n&&(e=n),e=iL({},e,fr.templateSettings);var r=RegExp([(e.escape||SC).source,(e.interpolate||SC).source,(e.evaluate||SC).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(c,u,f,d,h){return o+=t.slice(i,h).replace(fNe,dNe),i=h+c.length,u?o+=`'+
((__t=(`+u+`))==null?'':_.escape(__t))+
'`:f?o+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:d&&(o+=`';
`+d+`
__p+='`),c}),o+=`';
`;var a=e.variable;if(a){if(!hNe.test(a))throw new Error("variable is not a bare identifier: "+a)}else o=`with(obj||{}){
`+o+`}
`,a="obj";o=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+o+`return __p;
`;var s;try{s=new Function(a,"_",o)}catch(c){throw c.source=o,c}var l=function(c){return s.call(this,c,fr)};return l.source="function("+a+`){
`+o+"}",l}function Woe(t,e,n){e=S2(e);var r=e.length;if(!r)return na(n)?n.call(t):n;for(var i=0;i<r;i++){var o=t==null?void 0:t[e[i]];o===void 0&&(o=n,i=r),t=na(o)?o.call(t):o}return t}var pNe=0;function Uoe(t){var e=++pNe+"";return t?t+e:e}function Goe(t){var e=fr(t);return e._chain=!0,e}function qoe(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var o=Poe(t.prototype),a=t.apply(o,i);return gh(a)?a:o}var Jm=Ia(function(t,e){var n=Jm.placeholder,r=function(){for(var i=0,o=e.length,a=Array(o),s=0;s<o;s++)a[s]=e[s]===n?arguments[i++]:e[s];for(;i<arguments.length;)a.push(arguments[i++]);return qoe(t,r,this,this,a)};return r});Jm.placeholder=fr;const cL=Ia(function(t,e,n){if(!na(t))throw new TypeError("Bind must be called on a function");var r=Ia(function(i){return qoe(t,r,e,this,n.concat(i))});return r}),Us=moe(ps);function Zm(t,e,n,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var i=r.length,o=0,a=ps(t);o<a;o++){var s=t[o];if(Us(s)&&(bh(s)||d_(s)))if(e>1)Zm(s,e-1,n,r),i=r.length;else for(var l=0,c=s.length;l<c;)r[i++]=s[l++];else n||(r[i++]=s)}return r}const Yoe=Ia(function(t,e){e=Zm(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=cL(t[r],t)}return t});function Xoe(t,e){var n=function(r){var i=n.cache,o=""+(e?e.apply(this,arguments):r);return vh(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n}const uL=Ia(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),Koe=Jm(uL,fr,1);function Joe(t,e,n){var r,i,o,a,s=0;n||(n={});var l=function(){s=n.leading===!1?0:gb(),r=null,a=t.apply(i,o),r||(i=o=null)},c=function(){var u=gb();!s&&n.leading===!1&&(s=u);var f=e-(u-s);return i=this,o=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),s=u,a=t.apply(i,o),r||(i=o=null)):!r&&n.trailing!==!1&&(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c}function Zoe(t,e,n){var r,i,o,a,s,l=function(){var u=gb()-i;e>u?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(s,o)),r||(o=s=null))},c=Ia(function(u){return s=this,o=u,i=gb(),r||(r=setTimeout(l,e),n&&(a=t.apply(s,o))),a});return c.cancel=function(){clearTimeout(r),r=o=s=null},c}function Qoe(t,e){return Jm(e,t)}function g_(t){return function(){return!t.apply(this,arguments)}}function eae(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function tae(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function fL(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const nae=Jm(fL,2);function dL(t,e,n){e=bs(e,n);for(var r=eo(t),i,o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i}function rae(t){return function(e,n,r){n=bs(n,r);for(var i=ps(e),o=t>0?0:i-1;o>=0&&o<i;o+=t)if(n(e[o],o,e))return o;return-1}}const b_=rae(1),hL=rae(-1);function pL(t,e,n,r){n=bs(n,r,1);for(var i=n(e),o=0,a=ps(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<i?o=s+1:a=s}return o}function iae(t,e,n){return function(r,i,o){var a=0,s=ps(r);if(typeof o=="number")t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=e(w2.call(r,a,s),YD),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(r[o]===i)return o;return-1}}const mL=iae(1,b_,pL),oae=iae(-1,hL);function b4(t,e,n){var r=Us(t)?b_:dL,i=r(t,e,n);if(i!==void 0&&i!==-1)return t[i]}function aae(t,e){return b4(t,$m(e))}function mc(t,e,n){e=x2(e,n);var r,i;if(Us(t))for(r=0,i=t.length;r<i;r++)e(t[r],r,t);else{var o=eo(t);for(r=0,i=o.length;r<i;r++)e(t[o[r]],o[r],t)}return t}function If(t,e,n){e=bs(e,n);for(var r=!Us(t)&&eo(t),i=(r||t).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=e(t[s],s,t)}return o}function sae(t){var e=function(n,r,i,o){var a=!Us(n)&&eo(n),s=(a||n).length,l=t>0?0:s-1;for(o||(i=n[a?a[l]:l],l+=t);l>=0&&l<s;l+=t){var c=a?a[l]:l;i=r(i,n[c],c,n)}return i};return function(n,r,i,o){var a=arguments.length>=3;return e(n,x2(r,o,4),i,a)}}const j0=sae(1),gk=sae(-1);function uh(t,e,n){var r=[];return e=bs(e,n),mc(t,function(i,o,a){e(i,o,a)&&r.push(i)}),r}function lae(t,e,n){return uh(t,g_(bs(e)),n)}function bk(t,e,n){e=bs(e,n);for(var r=!Us(t)&&eo(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(!e(t[a],a,t))return!1}return!0}function vk(t,e,n){e=bs(e,n);for(var r=!Us(t)&&eo(t),i=(r||t).length,o=0;o<i;o++){var a=r?r[o]:o;if(e(t[a],a,t))return!0}return!1}function Pl(t,e,n,r){return Us(t)||(t=Km(t)),(typeof n!="number"||r)&&(n=0),mL(t,e,n)>=0}const cae=Ia(function(t,e,n){var r,i;return na(e)?i=e:(e=S2(e),r=e.slice(0,-1),e=e[e.length-1]),If(t,function(o){var a=i;if(!a){if(r&&r.length&&(o=aL(o,r)),o==null)return;a=o[e]}return a==null?a:a.apply(o,n)})});function v_(t,e){return If(t,p_(e))}function uae(t,e){return uh(t,$m(e))}function gL(t,e,n){var r=-1/0,i=-1/0,o,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Us(t)?t:Km(t);for(var s=0,l=t.length;s<l;s++)o=t[s],o!=null&&o>r&&(r=o)}else e=bs(e,n),mc(t,function(c,u,f){a=e(c,u,f),(a>i||a===-1/0&&r===-1/0)&&(r=c,i=a)});return r}function fae(t,e,n){var r=1/0,i=1/0,o,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=Us(t)?t:Km(t);for(var s=0,l=t.length;s<l;s++)o=t[s],o!=null&&o<r&&(r=o)}else e=bs(e,n),mc(t,function(c,u,f){a=e(c,u,f),(a<i||a===1/0&&r===1/0)&&(r=c,i=a)});return r}var mNe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function bL(t){return t?bh(t)?w2.call(t):f_(t)?t.match(mNe):Us(t)?If(t,h_):Km(t):[]}function vL(t,e,n){if(e==null||n)return Us(t)||(t=Km(t)),t[mk(t.length-1)];var r=bL(t),i=ps(r);e=Math.max(Math.min(e,i),0);for(var o=i-1,a=0;a<e;a++){var s=mk(a,o),l=r[a];r[a]=r[s],r[s]=l}return r.slice(0,e)}function dae(t){return vL(t,1/0)}function hae(t,e,n){var r=0;return e=bs(e,n),v_(If(t,function(i,o,a){return{value:i,index:r++,criteria:e(i,o,a)}}).sort(function(i,o){var a=i.criteria,s=o.criteria;if(a!==s){if(a>s||a===void 0)return 1;if(a<s||s===void 0)return-1}return i.index-o.index}),"value")}function y_(t,e){return function(n,r,i){var o=e?[[],[]]:{};return r=bs(r,i),mc(n,function(a,s){var l=r(a,s,n);t(o,a,l)}),o}}const pae=y_(function(t,e,n){vh(t,n)?t[n].push(e):t[n]=[e]}),mae=y_(function(t,e,n){t[n]=e}),gae=y_(function(t,e,n){vh(t,n)?t[n]++:t[n]=1}),bae=y_(function(t,e,n){t[n?0:1].push(e)},!0);function vae(t){return t==null?0:Us(t)?t.length:eo(t).length}function gNe(t,e,n){return e in n}const yL=Ia(function(t,e){var n={},r=e[0];if(t==null)return n;na(r)?(e.length>1&&(r=x2(r,e[1])),e=Vb(t)):(r=gNe,e=Zm(e,!1,!1),t=Object(t));for(var i=0,o=e.length;i<o;i++){var a=e[i],s=t[a];r(s,a,t)&&(n[a]=s)}return n}),yae=Ia(function(t,e){var n=e[0],r;return na(n)?(n=g_(n),e.length>1&&(r=e[1])):(e=If(Zm(e,!1,!1),String),n=function(i,o){return!Pl(e,o)}),yL(t,n,r)});function kL(t,e,n){return w2.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function V0(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:kL(t,t.length-e)}function fm(t,e,n){return w2.call(t,e==null||n?1:e)}function kae(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:fm(t,Math.max(0,t.length-e))}function _ae(t){return uh(t,Boolean)}function wae(t,e){return Zm(t,e,!1)}const _L=Ia(function(t,e){return e=Zm(e,!0,!0),uh(t,function(n){return!Pl(e,n)})}),Sae=Ia(function(t,e){return _L(t,e)});function v4(t,e,n,r){HD(e)||(r=n,n=e,e=!1),n!=null&&(n=bs(n,r));for(var i=[],o=[],a=0,s=ps(t);a<s;a++){var l=t[a],c=n?n(l,a,t):l;e&&!n?((!a||o!==c)&&i.push(l),o=c):n?Pl(o,c)||(o.push(c),i.push(l)):Pl(i,l)||i.push(l)}return i}const xae=Ia(function(t){return v4(Zm(t,!0,!0))});function Cae(t){for(var e=[],n=arguments.length,r=0,i=ps(t);r<i;r++){var o=t[r];if(!Pl(e,o)){var a;for(a=1;a<n&&Pl(arguments[a],o);a++);a===n&&e.push(o)}}return e}function y4(t){for(var e=t&&gL(t,ps).length||0,n=Array(e),r=0;r<e;r++)n[r]=v_(t,r);return n}const Tae=Ia(y4);function Aae(t,e){for(var n={},r=0,i=ps(t);r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n}function Iae(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}function Pae(t,e){if(e==null||e<1)return[];for(var n=[],r=0,i=t.length;r<i;)n.push(w2.call(t,r,r+=e));return n}function wL(t,e){return t._chain?fr(e).chain():e}function SL(t){return mc(g4(t),function(e){var n=fr[e]=t[e];fr.prototype[e]=function(){var r=[this._wrapped];return GFe.apply(r,arguments),wL(this,n.apply(fr,r))}}),fr}mc(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u_[t];fr.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),wL(this,n)}});mc(["concat","join","slice"],function(t){var e=u_[t];fr.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),wL(this,n)}});const bNe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:jD,after:tae,all:bk,allKeys:Vb,any:vk,assign:mb,before:fL,bind:cL,bindAll:Yoe,chain:Goe,chunk:Pae,clone:$oe,collect:If,compact:_ae,compose:eae,constant:XD,contains:Pl,countBy:gae,create:Eoe,debounce:Zoe,default:fr,defaults:iL,defer:Koe,delay:uL,detect:b4,difference:_L,drop:fm,each:mc,escape:joe,every:bk,extend:rL,extendOwn:mb,filter:uh,find:b4,findIndex:b_,findKey:dL,findLastIndex:hL,findWhere:aae,first:V0,flatten:wae,foldl:j0,foldr:gk,forEach:mc,functions:g4,get:sL,groupBy:pae,has:Doe,head:V0,identity:h_,include:Pl,includes:Pl,indexBy:mae,indexOf:mL,initial:kL,inject:j0,intersection:Cae,invert:tL,invoke:cae,isArguments:d_,isArray:bh,isArrayBuffer:GD,isBoolean:HD,isDataView:m4,isDate:loe,isElement:soe,isEmpty:voe,isEqual:koe,isError:uoe,isFinite:poe,isFunction:na,isMap:xoe,isMatch:JD,isNaN:YD,isNull:aoe,isNumber:WD,isObject:gh,isRegExp:coe,isSet:Toe,isString:f_,isSymbol:UD,isTypedArray:KD,isUndefined:BD,isWeakMap:Coe,isWeakSet:Aoe,iteratee:m_,keys:eo,last:kae,lastIndexOf:oae,map:If,mapObject:Foe,matcher:$m,matches:$m,max:gL,memoize:Xoe,methods:g4,min:fae,mixin:SL,negate:g_,noop:lL,now:gb,object:Aae,omit:yae,once:nae,pairs:Ioe,partial:Jm,partition:bae,pick:yL,pluck:v_,property:p_,propertyOf:Noe,random:mk,range:Iae,reduce:j0,reduceRight:gk,reject:lae,rest:fm,restArguments:Ia,result:Woe,sample:vL,select:uh,shuffle:dae,size:vae,some:vk,sortBy:hae,sortedIndex:pL,tail:fm,take:V0,tap:Ooe,template:Hoe,templateSettings:Boe,throttle:Joe,times:Moe,toArray:bL,toPath:oL,transpose:y4,unescape:Voe,union:xae,uniq:v4,unique:v4,uniqueId:Uoe,unzip:y4,values:Km,where:uae,without:Sae,wrap:Qoe,zip:Tae},Symbol.toStringTag,{value:"Module"}));var cP=SL(bNe);cP._=cP;const vNe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:jD,after:tae,all:bk,allKeys:Vb,any:vk,assign:mb,before:fL,bind:cL,bindAll:Yoe,chain:Goe,chunk:Pae,clone:$oe,collect:If,compact:_ae,compose:eae,constant:XD,contains:Pl,countBy:gae,create:Eoe,debounce:Zoe,default:cP,defaults:iL,defer:Koe,delay:uL,detect:b4,difference:_L,drop:fm,each:mc,escape:joe,every:bk,extend:rL,extendOwn:mb,filter:uh,find:b4,findIndex:b_,findKey:dL,findLastIndex:hL,findWhere:aae,first:V0,flatten:wae,foldl:j0,foldr:gk,forEach:mc,functions:g4,get:sL,groupBy:pae,has:Doe,head:V0,identity:h_,include:Pl,includes:Pl,indexBy:mae,indexOf:mL,initial:kL,inject:j0,intersection:Cae,invert:tL,invoke:cae,isArguments:d_,isArray:bh,isArrayBuffer:GD,isBoolean:HD,isDataView:m4,isDate:loe,isElement:soe,isEmpty:voe,isEqual:koe,isError:uoe,isFinite:poe,isFunction:na,isMap:xoe,isMatch:JD,isNaN:YD,isNull:aoe,isNumber:WD,isObject:gh,isRegExp:coe,isSet:Toe,isString:f_,isSymbol:UD,isTypedArray:KD,isUndefined:BD,isWeakMap:Coe,isWeakSet:Aoe,iteratee:m_,keys:eo,last:kae,lastIndexOf:oae,map:If,mapObject:Foe,matcher:$m,matches:$m,max:gL,memoize:Xoe,methods:g4,min:fae,mixin:SL,negate:g_,noop:lL,now:gb,object:Aae,omit:yae,once:nae,pairs:Ioe,partial:Jm,partition:bae,pick:yL,pluck:v_,property:p_,propertyOf:Noe,random:mk,range:Iae,reduce:j0,reduceRight:gk,reject:lae,rest:fm,restArguments:Ia,result:Woe,sample:vL,select:uh,shuffle:dae,size:vae,some:vk,sortBy:hae,sortedIndex:pL,tail:fm,take:V0,tap:Ooe,template:Hoe,templateSettings:Boe,throttle:Joe,times:Moe,toArray:bL,toPath:oL,transpose:y4,unescape:Voe,union:xae,uniq:v4,unique:v4,uniqueId:Uoe,unzip:y4,values:Km,where:uae,without:Sae,wrap:Qoe,zip:Tae},Symbol.toStringTag,{value:"Module"})),yNe=jre(vNe);var Eae={exports:{}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:ui,function(e,n){var r=[],i=Object.getPrototypeOf,o=r.slice,a=r.flat?function(w){return r.flat.call(w)}:function(w){return r.concat.apply([],w)},s=r.push,l=r.indexOf,c={},u=c.toString,f=c.hasOwnProperty,d=f.toString,h=d.call(Object),m={},v=function(I){return typeof I=="function"&&typeof I.nodeType!="number"&&typeof I.item!="function"},k=function(I){return I!=null&&I===I.window},b=e.document,_={type:!0,src:!0,nonce:!0,noModule:!0};function x(w,I,O){O=O||b;var L,W,G=O.createElement("script");if(G.text=w,I)for(L in _)W=I[L]||I.getAttribute&&I.getAttribute(L),W&&G.setAttribute(L,W);O.head.appendChild(G).parentNode.removeChild(G)}function C(w){return w==null?w+"":typeof w=="object"||typeof w=="function"?c[u.call(w)]||"object":typeof w}var S="3.6.4",g=function(w,I){return new g.fn.init(w,I)};g.fn=g.prototype={jquery:S,constructor:g,length:0,toArray:function(){return o.call(this)},get:function(w){return w==null?o.call(this):w<0?this[w+this.length]:this[w]},pushStack:function(w){var I=g.merge(this.constructor(),w);return I.prevObject=this,I},each:function(w){return g.each(this,w)},map:function(w){return this.pushStack(g.map(this,function(I,O){return w.call(I,O,I)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(g.grep(this,function(w,I){return(I+1)%2}))},odd:function(){return this.pushStack(g.grep(this,function(w,I){return I%2}))},eq:function(w){var I=this.length,O=+w+(w<0?I:0);return this.pushStack(O>=0&&O<I?[this[O]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:r.sort,splice:r.splice},g.extend=g.fn.extend=function(){var w,I,O,L,W,G,K=arguments[0]||{},ge=1,de=arguments.length,De=!1;for(typeof K=="boolean"&&(De=K,K=arguments[ge]||{},ge++),typeof K!="object"&&!v(K)&&(K={}),ge===de&&(K=this,ge--);ge<de;ge++)if((w=arguments[ge])!=null)for(I in w)L=w[I],!(I==="__proto__"||K===L)&&(De&&L&&(g.isPlainObject(L)||(W=Array.isArray(L)))?(O=K[I],W&&!Array.isArray(O)?G=[]:!W&&!g.isPlainObject(O)?G={}:G=O,W=!1,K[I]=g.extend(De,G,L)):L!==void 0&&(K[I]=L));return K},g.extend({expando:"jQuery"+(S+Math.random()).replace(/\D/g,""),isReady:!0,error:function(w){throw new Error(w)},noop:function(){},isPlainObject:function(w){var I,O;return!w||u.call(w)!=="[object Object]"?!1:(I=i(w),I?(O=f.call(I,"constructor")&&I.constructor,typeof O=="function"&&d.call(O)===h):!0)},isEmptyObject:function(w){var I;for(I in w)return!1;return!0},globalEval:function(w,I,O){x(w,{nonce:I&&I.nonce},O)},each:function(w,I){var O,L=0;if(T(w))for(O=w.length;L<O&&I.call(w[L],L,w[L])!==!1;L++);else for(L in w)if(I.call(w[L],L,w[L])===!1)break;return w},makeArray:function(w,I){var O=I||[];return w!=null&&(T(Object(w))?g.merge(O,typeof w=="string"?[w]:w):s.call(O,w)),O},inArray:function(w,I,O){return I==null?-1:l.call(I,w,O)},merge:function(w,I){for(var O=+I.length,L=0,W=w.length;L<O;L++)w[W++]=I[L];return w.length=W,w},grep:function(w,I,O){for(var L,W=[],G=0,K=w.length,ge=!O;G<K;G++)L=!I(w[G],G),L!==ge&&W.push(w[G]);return W},map:function(w,I,O){var L,W,G=0,K=[];if(T(w))for(L=w.length;G<L;G++)W=I(w[G],G,O),W!=null&&K.push(W);else for(G in w)W=I(w[G],G,O),W!=null&&K.push(W);return a(K)},guid:1,support:m}),typeof Symbol=="function"&&(g.fn[Symbol.iterator]=r[Symbol.iterator]),g.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(w,I){c["[object "+I+"]"]=I.toLowerCase()});function T(w){var I=!!w&&"length"in w&&w.length,O=C(w);return v(w)||k(w)?!1:O==="array"||I===0||typeof I=="number"&&I>0&&I-1 in w}var P=function(w){var I,O,L,W,G,K,ge,de,De,Ve,Ye,Ne,He,$t,nn,bt,ti,ni,Cn,En="sizzle"+1*new Date,Jt=w.document,$o=0,$n=0,Hr=Lo(),Oh=Lo(),lg=Lo(),Oo=Lo(),Ks=function(ee,pe){return ee===pe&&(Ye=!0),0},La={}.hasOwnProperty,Do=[],Hl=Do.pop,la=Do.push,Js=Do.push,cg=Do.slice,Ec=function(ee,pe){for(var Te=0,qe=ee.length;Te<qe;Te++)if(ee[Te]===pe)return Te;return-1},h1="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Yn="[\\x20\\t\\r\\n\\f]",Wl="(?:\\\\[\\da-fA-F]{1,6}"+Yn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",a7="\\["+Yn+"*("+Wl+")(?:"+Yn+"*([*^$|!~]?=)"+Yn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Wl+"))|)"+Yn+"*\\]",ug=":("+Wl+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+a7+")*)|.*)\\)|)",ca=new RegExp(Yn+"+","g"),jf=new RegExp("^"+Yn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Yn+"+$","g"),Dh=new RegExp("^"+Yn+"*,"+Yn+"*"),p1=new RegExp("^"+Yn+"*([>+~]|"+Yn+")"+Yn+"*"),s7=new RegExp(Yn+"|>"),bw=new RegExp(ug),vw=new RegExp("^"+Wl+"$"),fg={ID:new RegExp("^#("+Wl+")"),CLASS:new RegExp("^\\.("+Wl+")"),TAG:new RegExp("^("+Wl+"|[*])"),ATTR:new RegExp("^"+a7),PSEUDO:new RegExp("^"+ug),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Yn+"*(even|odd|(([+-]|)(\\d*)n|)"+Yn+"*(?:([+-]|)"+Yn+"*(\\d+)|))"+Yn+"*\\)|)","i"),bool:new RegExp("^(?:"+h1+")$","i"),needsContext:new RegExp("^"+Yn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Yn+"*((?:-\\d)?\\d*)"+Yn+"*\\)|)(?=[^-]|$)","i")},yw=/HTML$/i,kw=/^(?:input|select|textarea|button)$/i,Vf=/^h\d$/i,Lh=/^[^{]+\{\s*\[native \w/,_w=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Fh=/[+~]/,Zs=new RegExp("\\\\[\\da-fA-F]{1,6}"+Yn+"?|\\\\([^\\r\\n\\f])","g"),io=function(ee,pe){var Te="0x"+ee.slice(1)-65536;return pe||(Te<0?String.fromCharCode(Te+65536):String.fromCharCode(Te>>10|55296,Te&1023|56320))},Nh=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,l7=function(ee,pe){return pe?ee==="\0"?"�":ee.slice(0,-1)+"\\"+ee.charCodeAt(ee.length-1).toString(16)+" ":"\\"+ee},c7=function(){Ne()},ww=Zt(function(ee){return ee.disabled===!0&&ee.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Js.apply(Do=cg.call(Jt.childNodes),Jt.childNodes),Do[Jt.childNodes.length].nodeType}catch{Js={apply:Do.length?function(pe,Te){la.apply(pe,cg.call(Te))}:function(pe,Te){for(var qe=pe.length,$e=0;pe[qe++]=Te[$e++];);pe.length=qe-1}}}function Xn(ee,pe,Te,qe){var $e,Re,nt,st,ut,jt,Lt,Ht=pe&&pe.ownerDocument,fn=pe?pe.nodeType:9;if(Te=Te||[],typeof ee!="string"||!ee||fn!==1&&fn!==9&&fn!==11)return Te;if(!qe&&(Ne(pe),pe=pe||He,nn)){if(fn!==11&&(ut=_w.exec(ee)))if($e=ut[1]){if(fn===9)if(nt=pe.getElementById($e)){if(nt.id===$e)return Te.push(nt),Te}else return Te;else if(Ht&&(nt=Ht.getElementById($e))&&Cn(pe,nt)&&nt.id===$e)return Te.push(nt),Te}else{if(ut[2])return Js.apply(Te,pe.getElementsByTagName(ee)),Te;if(($e=ut[3])&&O.getElementsByClassName&&pe.getElementsByClassName)return Js.apply(Te,pe.getElementsByClassName($e)),Te}if(O.qsa&&!Oo[ee+" "]&&(!bt||!bt.test(ee))&&(fn!==1||pe.nodeName.toLowerCase()!=="object")){if(Lt=ee,Ht=pe,fn===1&&(s7.test(ee)||p1.test(ee))){for(Ht=Fh.test(ee)&&Ue(pe.parentNode)||pe,(Ht!==pe||!O.scope)&&((st=pe.getAttribute("id"))?st=st.replace(Nh,l7):pe.setAttribute("id",st=En)),jt=K(ee),Re=jt.length;Re--;)jt[Re]=(st?"#"+st:":scope")+" "+ht(jt[Re]);Lt=jt.join(",")}try{return Js.apply(Te,Ht.querySelectorAll(Lt)),Te}catch{Oo(ee,!0)}finally{st===En&&pe.removeAttribute("id")}}}return de(ee.replace(jf,"$1"),pe,Te,qe)}function Lo(){var ee=[];function pe(Te,qe){return ee.push(Te+" ")>L.cacheLength&&delete pe[ee.shift()],pe[Te+" "]=qe}return pe}function Fa(ee){return ee[En]=!0,ee}function Na(ee){var pe=He.createElement("fieldset");try{return!!ee(pe)}catch{return!1}finally{pe.parentNode&&pe.parentNode.removeChild(pe),pe=null}}function m1(ee,pe){for(var Te=ee.split("|"),qe=Te.length;qe--;)L.attrHandle[Te[qe]]=pe}function u7(ee,pe){var Te=pe&&ee,qe=Te&&ee.nodeType===1&&pe.nodeType===1&&ee.sourceIndex-pe.sourceIndex;if(qe)return qe;if(Te){for(;Te=Te.nextSibling;)if(Te===pe)return-1}return ee?1:-1}function Sw(ee){return function(pe){var Te=pe.nodeName.toLowerCase();return Te==="input"&&pe.type===ee}}function xw(ee){return function(pe){var Te=pe.nodeName.toLowerCase();return(Te==="input"||Te==="button")&&pe.type===ee}}function $u(ee){return function(pe){return"form"in pe?pe.parentNode&&pe.disabled===!1?"label"in pe?"label"in pe.parentNode?pe.parentNode.disabled===ee:pe.disabled===ee:pe.isDisabled===ee||pe.isDisabled!==!ee&&ww(pe)===ee:pe.disabled===ee:"label"in pe?pe.disabled===ee:!1}}function Pe(ee){return Fa(function(pe){return pe=+pe,Fa(function(Te,qe){for(var $e,Re=ee([],Te.length,pe),nt=Re.length;nt--;)Te[$e=Re[nt]]&&(Te[$e]=!(qe[$e]=Te[$e]))})})}function Ue(ee){return ee&&typeof ee.getElementsByTagName<"u"&&ee}O=Xn.support={},G=Xn.isXML=function(ee){var pe=ee&&ee.namespaceURI,Te=ee&&(ee.ownerDocument||ee).documentElement;return!yw.test(pe||Te&&Te.nodeName||"HTML")},Ne=Xn.setDocument=function(ee){var pe,Te,qe=ee?ee.ownerDocument||ee:Jt;return qe==He||qe.nodeType!==9||!qe.documentElement||(He=qe,$t=He.documentElement,nn=!G(He),Jt!=He&&(Te=He.defaultView)&&Te.top!==Te&&(Te.addEventListener?Te.addEventListener("unload",c7,!1):Te.attachEvent&&Te.attachEvent("onunload",c7)),O.scope=Na(function($e){return $t.appendChild($e).appendChild(He.createElement("div")),typeof $e.querySelectorAll<"u"&&!$e.querySelectorAll(":scope fieldset div").length}),O.cssHas=Na(function(){try{return He.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),O.attributes=Na(function($e){return $e.className="i",!$e.getAttribute("className")}),O.getElementsByTagName=Na(function($e){return $e.appendChild(He.createComment("")),!$e.getElementsByTagName("*").length}),O.getElementsByClassName=Lh.test(He.getElementsByClassName),O.getById=Na(function($e){return $t.appendChild($e).id=En,!He.getElementsByName||!He.getElementsByName(En).length}),O.getById?(L.filter.ID=function($e){var Re=$e.replace(Zs,io);return function(nt){return nt.getAttribute("id")===Re}},L.find.ID=function($e,Re){if(typeof Re.getElementById<"u"&&nn){var nt=Re.getElementById($e);return nt?[nt]:[]}}):(L.filter.ID=function($e){var Re=$e.replace(Zs,io);return function(nt){var st=typeof nt.getAttributeNode<"u"&&nt.getAttributeNode("id");return st&&st.value===Re}},L.find.ID=function($e,Re){if(typeof Re.getElementById<"u"&&nn){var nt,st,ut,jt=Re.getElementById($e);if(jt){if(nt=jt.getAttributeNode("id"),nt&&nt.value===$e)return[jt];for(ut=Re.getElementsByName($e),st=0;jt=ut[st++];)if(nt=jt.getAttributeNode("id"),nt&&nt.value===$e)return[jt]}return[]}}),L.find.TAG=O.getElementsByTagName?function($e,Re){if(typeof Re.getElementsByTagName<"u")return Re.getElementsByTagName($e);if(O.qsa)return Re.querySelectorAll($e)}:function($e,Re){var nt,st=[],ut=0,jt=Re.getElementsByTagName($e);if($e==="*"){for(;nt=jt[ut++];)nt.nodeType===1&&st.push(nt);return st}return jt},L.find.CLASS=O.getElementsByClassName&&function($e,Re){if(typeof Re.getElementsByClassName<"u"&&nn)return Re.getElementsByClassName($e)},ti=[],bt=[],(O.qsa=Lh.test(He.querySelectorAll))&&(Na(function($e){var Re;$t.appendChild($e).innerHTML="<a id='"+En+"'></a><select id='"+En+"-\r\\' msallowcapture=''><option selected=''></option></select>",$e.querySelectorAll("[msallowcapture^='']").length&&bt.push("[*^$]="+Yn+`*(?:''|"")`),$e.querySelectorAll("[selected]").length||bt.push("\\["+Yn+"*(?:value|"+h1+")"),$e.querySelectorAll("[id~="+En+"-]").length||bt.push("~="),Re=He.createElement("input"),Re.setAttribute("name",""),$e.appendChild(Re),$e.querySelectorAll("[name='']").length||bt.push("\\["+Yn+"*name"+Yn+"*="+Yn+`*(?:''|"")`),$e.querySelectorAll(":checked").length||bt.push(":checked"),$e.querySelectorAll("a#"+En+"+*").length||bt.push(".#.+[+~]"),$e.querySelectorAll("\\\f"),bt.push("[\\r\\n\\f]")}),Na(function($e){$e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var Re=He.createElement("input");Re.setAttribute("type","hidden"),$e.appendChild(Re).setAttribute("name","D"),$e.querySelectorAll("[name=d]").length&&bt.push("name"+Yn+"*[*^$|!~]?="),$e.querySelectorAll(":enabled").length!==2&&bt.push(":enabled",":disabled"),$t.appendChild($e).disabled=!0,$e.querySelectorAll(":disabled").length!==2&&bt.push(":enabled",":disabled"),$e.querySelectorAll("*,:x"),bt.push(",.*:")})),(O.matchesSelector=Lh.test(ni=$t.matches||$t.webkitMatchesSelector||$t.mozMatchesSelector||$t.oMatchesSelector||$t.msMatchesSelector))&&Na(function($e){O.disconnectedMatch=ni.call($e,"*"),ni.call($e,"[s!='']:x"),ti.push("!=",ug)}),O.cssHas||bt.push(":has"),bt=bt.length&&new RegExp(bt.join("|")),ti=ti.length&&new RegExp(ti.join("|")),pe=Lh.test($t.compareDocumentPosition),Cn=pe||Lh.test($t.contains)?function($e,Re){var nt=$e.nodeType===9&&$e.documentElement||$e,st=Re&&Re.parentNode;return $e===st||!!(st&&st.nodeType===1&&(nt.contains?nt.contains(st):$e.compareDocumentPosition&&$e.compareDocumentPosition(st)&16))}:function($e,Re){if(Re){for(;Re=Re.parentNode;)if(Re===$e)return!0}return!1},Ks=pe?function($e,Re){if($e===Re)return Ye=!0,0;var nt=!$e.compareDocumentPosition-!Re.compareDocumentPosition;return nt||(nt=($e.ownerDocument||$e)==(Re.ownerDocument||Re)?$e.compareDocumentPosition(Re):1,nt&1||!O.sortDetached&&Re.compareDocumentPosition($e)===nt?$e==He||$e.ownerDocument==Jt&&Cn(Jt,$e)?-1:Re==He||Re.ownerDocument==Jt&&Cn(Jt,Re)?1:Ve?Ec(Ve,$e)-Ec(Ve,Re):0:nt&4?-1:1)}:function($e,Re){if($e===Re)return Ye=!0,0;var nt,st=0,ut=$e.parentNode,jt=Re.parentNode,Lt=[$e],Ht=[Re];if(!ut||!jt)return $e==He?-1:Re==He?1:ut?-1:jt?1:Ve?Ec(Ve,$e)-Ec(Ve,Re):0;if(ut===jt)return u7($e,Re);for(nt=$e;nt=nt.parentNode;)Lt.unshift(nt);for(nt=Re;nt=nt.parentNode;)Ht.unshift(nt);for(;Lt[st]===Ht[st];)st++;return st?u7(Lt[st],Ht[st]):Lt[st]==Jt?-1:Ht[st]==Jt?1:0}),He},Xn.matches=function(ee,pe){return Xn(ee,null,null,pe)},Xn.matchesSelector=function(ee,pe){if(Ne(ee),O.matchesSelector&&nn&&!Oo[pe+" "]&&(!ti||!ti.test(pe))&&(!bt||!bt.test(pe)))try{var Te=ni.call(ee,pe);if(Te||O.disconnectedMatch||ee.document&&ee.document.nodeType!==11)return Te}catch{Oo(pe,!0)}return Xn(pe,He,null,[ee]).length>0},Xn.contains=function(ee,pe){return(ee.ownerDocument||ee)!=He&&Ne(ee),Cn(ee,pe)},Xn.attr=function(ee,pe){(ee.ownerDocument||ee)!=He&&Ne(ee);var Te=L.attrHandle[pe.toLowerCase()],qe=Te&&La.call(L.attrHandle,pe.toLowerCase())?Te(ee,pe,!nn):void 0;return qe!==void 0?qe:O.attributes||!nn?ee.getAttribute(pe):(qe=ee.getAttributeNode(pe))&&qe.specified?qe.value:null},Xn.escape=function(ee){return(ee+"").replace(Nh,l7)},Xn.error=function(ee){throw new Error("Syntax error, unrecognized expression: "+ee)},Xn.uniqueSort=function(ee){var pe,Te=[],qe=0,$e=0;if(Ye=!O.detectDuplicates,Ve=!O.sortStable&&ee.slice(0),ee.sort(Ks),Ye){for(;pe=ee[$e++];)pe===ee[$e]&&(qe=Te.push($e));for(;qe--;)ee.splice(Te[qe],1)}return Ve=null,ee},W=Xn.getText=function(ee){var pe,Te="",qe=0,$e=ee.nodeType;if($e){if($e===1||$e===9||$e===11){if(typeof ee.textContent=="string")return ee.textContent;for(ee=ee.firstChild;ee;ee=ee.nextSibling)Te+=W(ee)}else if($e===3||$e===4)return ee.nodeValue}else for(;pe=ee[qe++];)Te+=W(pe);return Te},L=Xn.selectors={cacheLength:50,createPseudo:Fa,match:fg,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(ee){return ee[1]=ee[1].replace(Zs,io),ee[3]=(ee[3]||ee[4]||ee[5]||"").replace(Zs,io),ee[2]==="~="&&(ee[3]=" "+ee[3]+" "),ee.slice(0,4)},CHILD:function(ee){return ee[1]=ee[1].toLowerCase(),ee[1].slice(0,3)==="nth"?(ee[3]||Xn.error(ee[0]),ee[4]=+(ee[4]?ee[5]+(ee[6]||1):2*(ee[3]==="even"||ee[3]==="odd")),ee[5]=+(ee[7]+ee[8]||ee[3]==="odd")):ee[3]&&Xn.error(ee[0]),ee},PSEUDO:function(ee){var pe,Te=!ee[6]&&ee[2];return fg.CHILD.test(ee[0])?null:(ee[3]?ee[2]=ee[4]||ee[5]||"":Te&&bw.test(Te)&&(pe=K(Te,!0))&&(pe=Te.indexOf(")",Te.length-pe)-Te.length)&&(ee[0]=ee[0].slice(0,pe),ee[2]=Te.slice(0,pe)),ee.slice(0,3))}},filter:{TAG:function(ee){var pe=ee.replace(Zs,io).toLowerCase();return ee==="*"?function(){return!0}:function(Te){return Te.nodeName&&Te.nodeName.toLowerCase()===pe}},CLASS:function(ee){var pe=Hr[ee+" "];return pe||(pe=new RegExp("(^|"+Yn+")"+ee+"("+Yn+"|$)"))&&Hr(ee,function(Te){return pe.test(typeof Te.className=="string"&&Te.className||typeof Te.getAttribute<"u"&&Te.getAttribute("class")||"")})},ATTR:function(ee,pe,Te){return function(qe){var $e=Xn.attr(qe,ee);return $e==null?pe==="!=":pe?($e+="",pe==="="?$e===Te:pe==="!="?$e!==Te:pe==="^="?Te&&$e.indexOf(Te)===0:pe==="*="?Te&&$e.indexOf(Te)>-1:pe==="$="?Te&&$e.slice(-Te.length)===Te:pe==="~="?(" "+$e.replace(ca," ")+" ").indexOf(Te)>-1:pe==="|="?$e===Te||$e.slice(0,Te.length+1)===Te+"-":!1):!0}},CHILD:function(ee,pe,Te,qe,$e){var Re=ee.slice(0,3)!=="nth",nt=ee.slice(-4)!=="last",st=pe==="of-type";return qe===1&&$e===0?function(ut){return!!ut.parentNode}:function(ut,jt,Lt){var Ht,fn,Nn,Dt,bi,Ii,Fo=Re!==nt?"nextSibling":"previousSibling",Ar=ut.parentNode,$c=st&&ut.nodeName.toLowerCase(),Bf=!Lt&&!st,qi=!1;if(Ar){if(Re){for(;Fo;){for(Dt=ut;Dt=Dt[Fo];)if(st?Dt.nodeName.toLowerCase()===$c:Dt.nodeType===1)return!1;Ii=Fo=ee==="only"&&!Ii&&"nextSibling"}return!0}if(Ii=[nt?Ar.firstChild:Ar.lastChild],nt&&Bf){for(Dt=Ar,Nn=Dt[En]||(Dt[En]={}),fn=Nn[Dt.uniqueID]||(Nn[Dt.uniqueID]={}),Ht=fn[ee]||[],bi=Ht[0]===$o&&Ht[1],qi=bi&&Ht[2],Dt=bi&&Ar.childNodes[bi];Dt=++bi&&Dt&&Dt[Fo]||(qi=bi=0)||Ii.pop();)if(Dt.nodeType===1&&++qi&&Dt===ut){fn[ee]=[$o,bi,qi];break}}else if(Bf&&(Dt=ut,Nn=Dt[En]||(Dt[En]={}),fn=Nn[Dt.uniqueID]||(Nn[Dt.uniqueID]={}),Ht=fn[ee]||[],bi=Ht[0]===$o&&Ht[1],qi=bi),qi===!1)for(;(Dt=++bi&&Dt&&Dt[Fo]||(qi=bi=0)||Ii.pop())&&!((st?Dt.nodeName.toLowerCase()===$c:Dt.nodeType===1)&&++qi&&(Bf&&(Nn=Dt[En]||(Dt[En]={}),fn=Nn[Dt.uniqueID]||(Nn[Dt.uniqueID]={}),fn[ee]=[$o,qi]),Dt===ut)););return qi-=$e,qi===qe||qi%qe===0&&qi/qe>=0}}},PSEUDO:function(ee,pe){var Te,qe=L.pseudos[ee]||L.setFilters[ee.toLowerCase()]||Xn.error("unsupported pseudo: "+ee);return qe[En]?qe(pe):qe.length>1?(Te=[ee,ee,"",pe],L.setFilters.hasOwnProperty(ee.toLowerCase())?Fa(function($e,Re){for(var nt,st=qe($e,pe),ut=st.length;ut--;)nt=Ec($e,st[ut]),$e[nt]=!(Re[nt]=st[ut])}):function($e){return qe($e,0,Te)}):qe}},pseudos:{not:Fa(function(ee){var pe=[],Te=[],qe=ge(ee.replace(jf,"$1"));return qe[En]?Fa(function($e,Re,nt,st){for(var ut,jt=qe($e,null,st,[]),Lt=$e.length;Lt--;)(ut=jt[Lt])&&($e[Lt]=!(Re[Lt]=ut))}):function($e,Re,nt){return pe[0]=$e,qe(pe,null,nt,Te),pe[0]=null,!Te.pop()}}),has:Fa(function(ee){return function(pe){return Xn(ee,pe).length>0}}),contains:Fa(function(ee){return ee=ee.replace(Zs,io),function(pe){return(pe.textContent||W(pe)).indexOf(ee)>-1}}),lang:Fa(function(ee){return vw.test(ee||"")||Xn.error("unsupported lang: "+ee),ee=ee.replace(Zs,io).toLowerCase(),function(pe){var Te;do if(Te=nn?pe.lang:pe.getAttribute("xml:lang")||pe.getAttribute("lang"))return Te=Te.toLowerCase(),Te===ee||Te.indexOf(ee+"-")===0;while((pe=pe.parentNode)&&pe.nodeType===1);return!1}}),target:function(ee){var pe=w.location&&w.location.hash;return pe&&pe.slice(1)===ee.id},root:function(ee){return ee===$t},focus:function(ee){return ee===He.activeElement&&(!He.hasFocus||He.hasFocus())&&!!(ee.type||ee.href||~ee.tabIndex)},enabled:$u(!1),disabled:$u(!0),checked:function(ee){var pe=ee.nodeName.toLowerCase();return pe==="input"&&!!ee.checked||pe==="option"&&!!ee.selected},selected:function(ee){return ee.parentNode&&ee.parentNode.selectedIndex,ee.selected===!0},empty:function(ee){for(ee=ee.firstChild;ee;ee=ee.nextSibling)if(ee.nodeType<6)return!1;return!0},parent:function(ee){return!L.pseudos.empty(ee)},header:function(ee){return Vf.test(ee.nodeName)},input:function(ee){return kw.test(ee.nodeName)},button:function(ee){var pe=ee.nodeName.toLowerCase();return pe==="input"&&ee.type==="button"||pe==="button"},text:function(ee){var pe;return ee.nodeName.toLowerCase()==="input"&&ee.type==="text"&&((pe=ee.getAttribute("type"))==null||pe.toLowerCase()==="text")},first:Pe(function(){return[0]}),last:Pe(function(ee,pe){return[pe-1]}),eq:Pe(function(ee,pe,Te){return[Te<0?Te+pe:Te]}),even:Pe(function(ee,pe){for(var Te=0;Te<pe;Te+=2)ee.push(Te);return ee}),odd:Pe(function(ee,pe){for(var Te=1;Te<pe;Te+=2)ee.push(Te);return ee}),lt:Pe(function(ee,pe,Te){for(var qe=Te<0?Te+pe:Te>pe?pe:Te;--qe>=0;)ee.push(qe);return ee}),gt:Pe(function(ee,pe,Te){for(var qe=Te<0?Te+pe:Te;++qe<pe;)ee.push(qe);return ee})}},L.pseudos.nth=L.pseudos.eq;for(I in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})L.pseudos[I]=Sw(I);for(I in{submit:!0,reset:!0})L.pseudos[I]=xw(I);function je(){}je.prototype=L.filters=L.pseudos,L.setFilters=new je,K=Xn.tokenize=function(ee,pe){var Te,qe,$e,Re,nt,st,ut,jt=Oh[ee+" "];if(jt)return pe?0:jt.slice(0);for(nt=ee,st=[],ut=L.preFilter;nt;){(!Te||(qe=Dh.exec(nt)))&&(qe&&(nt=nt.slice(qe[0].length)||nt),st.push($e=[])),Te=!1,(qe=p1.exec(nt))&&(Te=qe.shift(),$e.push({value:Te,type:qe[0].replace(jf," ")}),nt=nt.slice(Te.length));for(Re in L.filter)(qe=fg[Re].exec(nt))&&(!ut[Re]||(qe=ut[Re](qe)))&&(Te=qe.shift(),$e.push({value:Te,type:Re,matches:qe}),nt=nt.slice(Te.length));if(!Te)break}return pe?nt.length:nt?Xn.error(ee):Oh(ee,st).slice(0)};function ht(ee){for(var pe=0,Te=ee.length,qe="";pe<Te;pe++)qe+=ee[pe].value;return qe}function Zt(ee,pe,Te){var qe=pe.dir,$e=pe.next,Re=$e||qe,nt=Te&&Re==="parentNode",st=$n++;return pe.first?function(ut,jt,Lt){for(;ut=ut[qe];)if(ut.nodeType===1||nt)return ee(ut,jt,Lt);return!1}:function(ut,jt,Lt){var Ht,fn,Nn,Dt=[$o,st];if(Lt){for(;ut=ut[qe];)if((ut.nodeType===1||nt)&&ee(ut,jt,Lt))return!0}else for(;ut=ut[qe];)if(ut.nodeType===1||nt)if(Nn=ut[En]||(ut[En]={}),fn=Nn[ut.uniqueID]||(Nn[ut.uniqueID]={}),$e&&$e===ut.nodeName.toLowerCase())ut=ut[qe]||ut;else{if((Ht=fn[Re])&&Ht[0]===$o&&Ht[1]===st)return Dt[2]=Ht[2];if(fn[Re]=Dt,Dt[2]=ee(ut,jt,Lt))return!0}return!1}}function Bn(ee){return ee.length>1?function(pe,Te,qe){for(var $e=ee.length;$e--;)if(!ee[$e](pe,Te,qe))return!1;return!0}:ee[0]}function Ai(ee,pe,Te){for(var qe=0,$e=pe.length;qe<$e;qe++)Xn(ee,pe[qe],Te);return Te}function tr(ee,pe,Te,qe,$e){for(var Re,nt=[],st=0,ut=ee.length,jt=pe!=null;st<ut;st++)(Re=ee[st])&&(!Te||Te(Re,qe,$e))&&(nt.push(Re),jt&&pe.push(st));return nt}function Mh(ee,pe,Te,qe,$e,Re){return qe&&!qe[En]&&(qe=Mh(qe)),$e&&!$e[En]&&($e=Mh($e,Re)),Fa(function(nt,st,ut,jt){var Lt,Ht,fn,Nn=[],Dt=[],bi=st.length,Ii=nt||Ai(pe||"*",ut.nodeType?[ut]:ut,[]),Fo=ee&&(nt||!pe)?tr(Ii,Nn,ee,ut,jt):Ii,Ar=Te?$e||(nt?ee:bi||qe)?[]:st:Fo;if(Te&&Te(Fo,Ar,ut,jt),qe)for(Lt=tr(Ar,Dt),qe(Lt,[],ut,jt),Ht=Lt.length;Ht--;)(fn=Lt[Ht])&&(Ar[Dt[Ht]]=!(Fo[Dt[Ht]]=fn));if(nt){if($e||ee){if($e){for(Lt=[],Ht=Ar.length;Ht--;)(fn=Ar[Ht])&&Lt.push(Fo[Ht]=fn);$e(null,Ar=[],Lt,jt)}for(Ht=Ar.length;Ht--;)(fn=Ar[Ht])&&(Lt=$e?Ec(nt,fn):Nn[Ht])>-1&&(nt[Lt]=!(st[Lt]=fn))}}else Ar=tr(Ar===st?Ar.splice(bi,Ar.length):Ar),$e?$e(null,st,Ar,jt):Js.apply(st,Ar)})}function g1(ee){for(var pe,Te,qe,$e=ee.length,Re=L.relative[ee[0].type],nt=Re||L.relative[" "],st=Re?1:0,ut=Zt(function(Ht){return Ht===pe},nt,!0),jt=Zt(function(Ht){return Ec(pe,Ht)>-1},nt,!0),Lt=[function(Ht,fn,Nn){var Dt=!Re&&(Nn||fn!==De)||((pe=fn).nodeType?ut(Ht,fn,Nn):jt(Ht,fn,Nn));return pe=null,Dt}];st<$e;st++)if(Te=L.relative[ee[st].type])Lt=[Zt(Bn(Lt),Te)];else{if(Te=L.filter[ee[st].type].apply(null,ee[st].matches),Te[En]){for(qe=++st;qe<$e&&!L.relative[ee[qe].type];qe++);return Mh(st>1&&Bn(Lt),st>1&&ht(ee.slice(0,st-1).concat({value:ee[st-2].type===" "?"*":""})).replace(jf,"$1"),Te,st<qe&&g1(ee.slice(st,qe)),qe<$e&&g1(ee=ee.slice(qe)),qe<$e&&ht(ee))}Lt.push(Te)}return Bn(Lt)}function Ma(ee,pe){var Te=pe.length>0,qe=ee.length>0,$e=function(Re,nt,st,ut,jt){var Lt,Ht,fn,Nn=0,Dt="0",bi=Re&&[],Ii=[],Fo=De,Ar=Re||qe&&L.find.TAG("*",jt),$c=$o+=Fo==null?1:Math.random()||.1,Bf=Ar.length;for(jt&&(De=nt==He||nt||jt);Dt!==Bf&&(Lt=Ar[Dt])!=null;Dt++){if(qe&&Lt){for(Ht=0,!nt&&Lt.ownerDocument!=He&&(Ne(Lt),st=!nn);fn=ee[Ht++];)if(fn(Lt,nt||He,st)){ut.push(Lt);break}jt&&($o=$c)}Te&&((Lt=!fn&&Lt)&&Nn--,Re&&bi.push(Lt))}if(Nn+=Dt,Te&&Dt!==Nn){for(Ht=0;fn=pe[Ht++];)fn(bi,Ii,nt,st);if(Re){if(Nn>0)for(;Dt--;)bi[Dt]||Ii[Dt]||(Ii[Dt]=Hl.call(ut));Ii=tr(Ii)}Js.apply(ut,Ii),jt&&!Re&&Ii.length>0&&Nn+pe.length>1&&Xn.uniqueSort(ut)}return jt&&($o=$c,De=Fo),bi};return Te?Fa($e):$e}return ge=Xn.compile=function(ee,pe){var Te,qe=[],$e=[],Re=lg[ee+" "];if(!Re){for(pe||(pe=K(ee)),Te=pe.length;Te--;)Re=g1(pe[Te]),Re[En]?qe.push(Re):$e.push(Re);Re=lg(ee,Ma($e,qe)),Re.selector=ee}return Re},de=Xn.select=function(ee,pe,Te,qe){var $e,Re,nt,st,ut,jt=typeof ee=="function"&&ee,Lt=!qe&&K(ee=jt.selector||ee);if(Te=Te||[],Lt.length===1){if(Re=Lt[0]=Lt[0].slice(0),Re.length>2&&(nt=Re[0]).type==="ID"&&pe.nodeType===9&&nn&&L.relative[Re[1].type]){if(pe=(L.find.ID(nt.matches[0].replace(Zs,io),pe)||[])[0],pe)jt&&(pe=pe.parentNode);else return Te;ee=ee.slice(Re.shift().value.length)}for($e=fg.needsContext.test(ee)?0:Re.length;$e--&&(nt=Re[$e],!L.relative[st=nt.type]);)if((ut=L.find[st])&&(qe=ut(nt.matches[0].replace(Zs,io),Fh.test(Re[0].type)&&Ue(pe.parentNode)||pe))){if(Re.splice($e,1),ee=qe.length&&ht(Re),!ee)return Js.apply(Te,qe),Te;break}}return(jt||ge(ee,Lt))(qe,pe,!nn,Te,!pe||Fh.test(ee)&&Ue(pe.parentNode)||pe),Te},O.sortStable=En.split("").sort(Ks).join("")===En,O.detectDuplicates=!!Ye,Ne(),O.sortDetached=Na(function(ee){return ee.compareDocumentPosition(He.createElement("fieldset"))&1}),Na(function(ee){return ee.innerHTML="<a href='#'></a>",ee.firstChild.getAttribute("href")==="#"})||m1("type|href|height|width",function(ee,pe,Te){if(!Te)return ee.getAttribute(pe,pe.toLowerCase()==="type"?1:2)}),(!O.attributes||!Na(function(ee){return ee.innerHTML="<input/>",ee.firstChild.setAttribute("value",""),ee.firstChild.getAttribute("value")===""}))&&m1("value",function(ee,pe,Te){if(!Te&&ee.nodeName.toLowerCase()==="input")return ee.defaultValue}),Na(function(ee){return ee.getAttribute("disabled")==null})||m1(h1,function(ee,pe,Te){var qe;if(!Te)return ee[pe]===!0?pe.toLowerCase():(qe=ee.getAttributeNode(pe))&&qe.specified?qe.value:null}),Xn}(e);g.find=P,g.expr=P.selectors,g.expr[":"]=g.expr.pseudos,g.uniqueSort=g.unique=P.uniqueSort,g.text=P.getText,g.isXMLDoc=P.isXML,g.contains=P.contains,g.escapeSelector=P.escape;var $=function(w,I,O){for(var L=[],W=O!==void 0;(w=w[I])&&w.nodeType!==9;)if(w.nodeType===1){if(W&&g(w).is(O))break;L.push(w)}return L},F=function(w,I){for(var O=[];w;w=w.nextSibling)w.nodeType===1&&w!==I&&O.push(w);return O},D=g.expr.match.needsContext;function z(w,I){return w.nodeName&&w.nodeName.toLowerCase()===I.toLowerCase()}var R=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(w,I,O){return v(I)?g.grep(w,function(L,W){return!!I.call(L,W,L)!==O}):I.nodeType?g.grep(w,function(L){return L===I!==O}):typeof I!="string"?g.grep(w,function(L){return l.call(I,L)>-1!==O}):g.filter(I,w,O)}g.filter=function(w,I,O){var L=I[0];return O&&(w=":not("+w+")"),I.length===1&&L.nodeType===1?g.find.matchesSelector(L,w)?[L]:[]:g.find.matches(w,g.grep(I,function(W){return W.nodeType===1}))},g.fn.extend({find:function(w){var I,O,L=this.length,W=this;if(typeof w!="string")return this.pushStack(g(w).filter(function(){for(I=0;I<L;I++)if(g.contains(W[I],this))return!0}));for(O=this.pushStack([]),I=0;I<L;I++)g.find(w,W[I],O);return L>1?g.uniqueSort(O):O},filter:function(w){return this.pushStack(V(this,w||[],!1))},not:function(w){return this.pushStack(V(this,w||[],!0))},is:function(w){return!!V(this,typeof w=="string"&&D.test(w)?g(w):w||[],!1).length}});var ie,oe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,_e=g.fn.init=function(w,I,O){var L,W;if(!w)return this;if(O=O||ie,typeof w=="string")if(w[0]==="<"&&w[w.length-1]===">"&&w.length>=3?L=[null,w,null]:L=oe.exec(w),L&&(L[1]||!I))if(L[1]){if(I=I instanceof g?I[0]:I,g.merge(this,g.parseHTML(L[1],I&&I.nodeType?I.ownerDocument||I:b,!0)),R.test(L[1])&&g.isPlainObject(I))for(L in I)v(this[L])?this[L](I[L]):this.attr(L,I[L]);return this}else return W=b.getElementById(L[2]),W&&(this[0]=W,this.length=1),this;else return!I||I.jquery?(I||O).find(w):this.constructor(I).find(w);else{if(w.nodeType)return this[0]=w,this.length=1,this;if(v(w))return O.ready!==void 0?O.ready(w):w(g)}return g.makeArray(w,this)};_e.prototype=g.fn,ie=g(b);var Ae=/^(?:parents|prev(?:Until|All))/,Ie={children:!0,contents:!0,next:!0,prev:!0};g.fn.extend({has:function(w){var I=g(w,this),O=I.length;return this.filter(function(){for(var L=0;L<O;L++)if(g.contains(this,I[L]))return!0})},closest:function(w,I){var O,L=0,W=this.length,G=[],K=typeof w!="string"&&g(w);if(!D.test(w)){for(;L<W;L++)for(O=this[L];O&&O!==I;O=O.parentNode)if(O.nodeType<11&&(K?K.index(O)>-1:O.nodeType===1&&g.find.matchesSelector(O,w))){G.push(O);break}}return this.pushStack(G.length>1?g.uniqueSort(G):G)},index:function(w){return w?typeof w=="string"?l.call(g(w),this[0]):l.call(this,w.jquery?w[0]:w):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(w,I){return this.pushStack(g.uniqueSort(g.merge(this.get(),g(w,I))))},addBack:function(w){return this.add(w==null?this.prevObject:this.prevObject.filter(w))}});function ke(w,I){for(;(w=w[I])&&w.nodeType!==1;);return w}g.each({parent:function(w){var I=w.parentNode;return I&&I.nodeType!==11?I:null},parents:function(w){return $(w,"parentNode")},parentsUntil:function(w,I,O){return $(w,"parentNode",O)},next:function(w){return ke(w,"nextSibling")},prev:function(w){return ke(w,"previousSibling")},nextAll:function(w){return $(w,"nextSibling")},prevAll:function(w){return $(w,"previousSibling")},nextUntil:function(w,I,O){return $(w,"nextSibling",O)},prevUntil:function(w,I,O){return $(w,"previousSibling",O)},siblings:function(w){return F((w.parentNode||{}).firstChild,w)},children:function(w){return F(w.firstChild)},contents:function(w){return w.contentDocument!=null&&i(w.contentDocument)?w.contentDocument:(z(w,"template")&&(w=w.content||w),g.merge([],w.childNodes))}},function(w,I){g.fn[w]=function(O,L){var W=g.map(this,I,O);return w.slice(-5)!=="Until"&&(L=O),L&&typeof L=="string"&&(W=g.filter(L,W)),this.length>1&&(Ie[w]||g.uniqueSort(W),Ae.test(w)&&W.reverse()),this.pushStack(W)}});var se=/[^\x20\t\r\n\f]+/g;function ne(w){var I={};return g.each(w.match(se)||[],function(O,L){I[L]=!0}),I}g.Callbacks=function(w){w=typeof w=="string"?ne(w):g.extend({},w);var I,O,L,W,G=[],K=[],ge=-1,de=function(){for(W=W||w.once,L=I=!0;K.length;ge=-1)for(O=K.shift();++ge<G.length;)G[ge].apply(O[0],O[1])===!1&&w.stopOnFalse&&(ge=G.length,O=!1);w.memory||(O=!1),I=!1,W&&(O?G=[]:G="")},De={add:function(){return G&&(O&&!I&&(ge=G.length-1,K.push(O)),function Ve(Ye){g.each(Ye,function(Ne,He){v(He)?(!w.unique||!De.has(He))&&G.push(He):He&&He.length&&C(He)!=="string"&&Ve(He)})}(arguments),O&&!I&&de()),this},remove:function(){return g.each(arguments,function(Ve,Ye){for(var Ne;(Ne=g.inArray(Ye,G,Ne))>-1;)G.splice(Ne,1),Ne<=ge&&ge--}),this},has:function(Ve){return Ve?g.inArray(Ve,G)>-1:G.length>0},empty:function(){return G&&(G=[]),this},disable:function(){return W=K=[],G=O="",this},disabled:function(){return!G},lock:function(){return W=K=[],!O&&!I&&(G=O=""),this},locked:function(){return!!W},fireWith:function(Ve,Ye){return W||(Ye=Ye||[],Ye=[Ve,Ye.slice?Ye.slice():Ye],K.push(Ye),I||de()),this},fire:function(){return De.fireWith(this,arguments),this},fired:function(){return!!L}};return De};function J(w){return w}function j(w){throw w}function U(w,I,O,L){var W;try{w&&v(W=w.promise)?W.call(w).done(I).fail(O):w&&v(W=w.then)?W.call(w,I,O):I.apply(void 0,[w].slice(L))}catch(G){O.apply(void 0,[G])}}g.extend({Deferred:function(w){var I=[["notify","progress",g.Callbacks("memory"),g.Callbacks("memory"),2],["resolve","done",g.Callbacks("once memory"),g.Callbacks("once memory"),0,"resolved"],["reject","fail",g.Callbacks("once memory"),g.Callbacks("once memory"),1,"rejected"]],O="pending",L={state:function(){return O},always:function(){return W.done(arguments).fail(arguments),this},catch:function(G){return L.then(null,G)},pipe:function(){var G=arguments;return g.Deferred(function(K){g.each(I,function(ge,de){var De=v(G[de[4]])&&G[de[4]];W[de[1]](function(){var Ve=De&&De.apply(this,arguments);Ve&&v(Ve.promise)?Ve.promise().progress(K.notify).done(K.resolve).fail(K.reject):K[de[0]+"With"](this,De?[Ve]:arguments)})}),G=null}).promise()},then:function(G,K,ge){var de=0;function De(Ve,Ye,Ne,He){return function(){var $t=this,nn=arguments,bt=function(){var ni,Cn;if(!(Ve<de)){if(ni=Ne.apply($t,nn),ni===Ye.promise())throw new TypeError("Thenable self-resolution");Cn=ni&&(typeof ni=="object"||typeof ni=="function")&&ni.then,v(Cn)?He?Cn.call(ni,De(de,Ye,J,He),De(de,Ye,j,He)):(de++,Cn.call(ni,De(de,Ye,J,He),De(de,Ye,j,He),De(de,Ye,J,Ye.notifyWith))):(Ne!==J&&($t=void 0,nn=[ni]),(He||Ye.resolveWith)($t,nn))}},ti=He?bt:function(){try{bt()}catch(ni){g.Deferred.exceptionHook&&g.Deferred.exceptionHook(ni,ti.stackTrace),Ve+1>=de&&(Ne!==j&&($t=void 0,nn=[ni]),Ye.rejectWith($t,nn))}};Ve?ti():(g.Deferred.getStackHook&&(ti.stackTrace=g.Deferred.getStackHook()),e.setTimeout(ti))}}return g.Deferred(function(Ve){I[0][3].add(De(0,Ve,v(ge)?ge:J,Ve.notifyWith)),I[1][3].add(De(0,Ve,v(G)?G:J)),I[2][3].add(De(0,Ve,v(K)?K:j))}).promise()},promise:function(G){return G!=null?g.extend(G,L):L}},W={};return g.each(I,function(G,K){var ge=K[2],de=K[5];L[K[1]]=ge.add,de&&ge.add(function(){O=de},I[3-G][2].disable,I[3-G][3].disable,I[0][2].lock,I[0][3].lock),ge.add(K[3].fire),W[K[0]]=function(){return W[K[0]+"With"](this===W?void 0:this,arguments),this},W[K[0]+"With"]=ge.fireWith}),L.promise(W),w&&w.call(W,W),W},when:function(w){var I=arguments.length,O=I,L=Array(O),W=o.call(arguments),G=g.Deferred(),K=function(ge){return function(de){L[ge]=this,W[ge]=arguments.length>1?o.call(arguments):de,--I||G.resolveWith(L,W)}};if(I<=1&&(U(w,G.done(K(O)).resolve,G.reject,!I),G.state()==="pending"||v(W[O]&&W[O].then)))return G.then();for(;O--;)U(W[O],K(O),G.reject);return G.promise()}});var ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;g.Deferred.exceptionHook=function(w,I){e.console&&e.console.warn&&w&&ae.test(w.name)&&e.console.warn("jQuery.Deferred exception: "+w.message,w.stack,I)},g.readyException=function(w){e.setTimeout(function(){throw w})};var te=g.Deferred();g.fn.ready=function(w){return te.then(w).catch(function(I){g.readyException(I)}),this},g.extend({isReady:!1,readyWait:1,ready:function(w){(w===!0?--g.readyWait:g.isReady)||(g.isReady=!0,!(w!==!0&&--g.readyWait>0)&&te.resolveWith(b,[g]))}}),g.ready.then=te.then;function ue(){b.removeEventListener("DOMContentLoaded",ue),e.removeEventListener("load",ue),g.ready()}b.readyState==="complete"||b.readyState!=="loading"&&!b.documentElement.doScroll?e.setTimeout(g.ready):(b.addEventListener("DOMContentLoaded",ue),e.addEventListener("load",ue));var ce=function(w,I,O,L,W,G,K){var ge=0,de=w.length,De=O==null;if(C(O)==="object"){W=!0;for(ge in O)ce(w,I,ge,O[ge],!0,G,K)}else if(L!==void 0&&(W=!0,v(L)||(K=!0),De&&(K?(I.call(w,L),I=null):(De=I,I=function(Ve,Ye,Ne){return De.call(g(Ve),Ne)})),I))for(;ge<de;ge++)I(w[ge],O,K?L:L.call(w[ge],ge,I(w[ge],O)));return W?w:De?I.call(w):de?I(w[0],O):G},fe=/^-ms-/,ve=/-([a-z])/g;function B(w,I){return I.toUpperCase()}function Y(w){return w.replace(fe,"ms-").replace(ve,B)}var E=function(w){return w.nodeType===1||w.nodeType===9||!+w.nodeType};function M(){this.expando=g.expando+M.uid++}M.uid=1,M.prototype={cache:function(w){var I=w[this.expando];return I||(I={},E(w)&&(w.nodeType?w[this.expando]=I:Object.defineProperty(w,this.expando,{value:I,configurable:!0}))),I},set:function(w,I,O){var L,W=this.cache(w);if(typeof I=="string")W[Y(I)]=O;else for(L in I)W[Y(L)]=I[L];return W},get:function(w,I){return I===void 0?this.cache(w):w[this.expando]&&w[this.expando][Y(I)]},access:function(w,I,O){return I===void 0||I&&typeof I=="string"&&O===void 0?this.get(w,I):(this.set(w,I,O),O!==void 0?O:I)},remove:function(w,I){var O,L=w[this.expando];if(L!==void 0){if(I!==void 0)for(Array.isArray(I)?I=I.map(Y):(I=Y(I),I=I in L?[I]:I.match(se)||[]),O=I.length;O--;)delete L[I[O]];(I===void 0||g.isEmptyObject(L))&&(w.nodeType?w[this.expando]=void 0:delete w[this.expando])}},hasData:function(w){var I=w[this.expando];return I!==void 0&&!g.isEmptyObject(I)}};var H=new M,Q=new M,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,me=/[A-Z]/g;function Fe(w){return w==="true"?!0:w==="false"?!1:w==="null"?null:w===+w+""?+w:be.test(w)?JSON.parse(w):w}function Le(w,I,O){var L;if(O===void 0&&w.nodeType===1)if(L="data-"+I.replace(me,"-$&").toLowerCase(),O=w.getAttribute(L),typeof O=="string"){try{O=Fe(O)}catch{}Q.set(w,I,O)}else O=void 0;return O}g.extend({hasData:function(w){return Q.hasData(w)||H.hasData(w)},data:function(w,I,O){return Q.access(w,I,O)},removeData:function(w,I){Q.remove(w,I)},_data:function(w,I,O){return H.access(w,I,O)},_removeData:function(w,I){H.remove(w,I)}}),g.fn.extend({data:function(w,I){var O,L,W,G=this[0],K=G&&G.attributes;if(w===void 0){if(this.length&&(W=Q.get(G),G.nodeType===1&&!H.get(G,"hasDataAttrs"))){for(O=K.length;O--;)K[O]&&(L=K[O].name,L.indexOf("data-")===0&&(L=Y(L.slice(5)),Le(G,L,W[L])));H.set(G,"hasDataAttrs",!0)}return W}return typeof w=="object"?this.each(function(){Q.set(this,w)}):ce(this,function(ge){var de;if(G&&ge===void 0)return de=Q.get(G,w),de!==void 0||(de=Le(G,w),de!==void 0)?de:void 0;this.each(function(){Q.set(this,w,ge)})},null,I,arguments.length>1,null,!0)},removeData:function(w){return this.each(function(){Q.remove(this,w)})}}),g.extend({queue:function(w,I,O){var L;if(w)return I=(I||"fx")+"queue",L=H.get(w,I),O&&(!L||Array.isArray(O)?L=H.access(w,I,g.makeArray(O)):L.push(O)),L||[]},dequeue:function(w,I){I=I||"fx";var O=g.queue(w,I),L=O.length,W=O.shift(),G=g._queueHooks(w,I),K=function(){g.dequeue(w,I)};W==="inprogress"&&(W=O.shift(),L--),W&&(I==="fx"&&O.unshift("inprogress"),delete G.stop,W.call(w,K,G)),!L&&G&&G.empty.fire()},_queueHooks:function(w,I){var O=I+"queueHooks";return H.get(w,O)||H.access(w,O,{empty:g.Callbacks("once memory").add(function(){H.remove(w,[I+"queue",O])})})}}),g.fn.extend({queue:function(w,I){var O=2;return typeof w!="string"&&(I=w,w="fx",O--),arguments.length<O?g.queue(this[0],w):I===void 0?this:this.each(function(){var L=g.queue(this,w,I);g._queueHooks(this,w),w==="fx"&&L[0]!=="inprogress"&&g.dequeue(this,w)})},dequeue:function(w){return this.each(function(){g.dequeue(this,w)})},clearQueue:function(w){return this.queue(w||"fx",[])},promise:function(w,I){var O,L=1,W=g.Deferred(),G=this,K=this.length,ge=function(){--L||W.resolveWith(G,[G])};for(typeof w!="string"&&(I=w,w=void 0),w=w||"fx";K--;)O=H.get(G[K],w+"queueHooks"),O&&O.empty&&(L++,O.empty.add(ge));return ge(),W.promise(I)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ke=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),et=["Top","Right","Bottom","Left"],Qe=b.documentElement,pt=function(w){return g.contains(w.ownerDocument,w)},Rt={composed:!0};Qe.getRootNode&&(pt=function(w){return g.contains(w.ownerDocument,w)||w.getRootNode(Rt)===w.ownerDocument});var Xt=function(w,I){return w=I||w,w.style.display==="none"||w.style.display===""&&pt(w)&&g.css(w,"display")==="none"};function wt(w,I,O,L){var W,G,K=20,ge=L?function(){return L.cur()}:function(){return g.css(w,I,"")},de=ge(),De=O&&O[3]||(g.cssNumber[I]?"":"px"),Ve=w.nodeType&&(g.cssNumber[I]||De!=="px"&&+de)&&Ke.exec(g.css(w,I));if(Ve&&Ve[3]!==De){for(de=de/2,De=De||Ve[3],Ve=+de||1;K--;)g.style(w,I,Ve+De),(1-G)*(1-(G=ge()/de||.5))<=0&&(K=0),Ve=Ve/G;Ve=Ve*2,g.style(w,I,Ve+De),O=O||[]}return O&&(Ve=+Ve||+de||0,W=O[1]?Ve+(O[1]+1)*O[2]:+O[2],L&&(L.unit=De,L.start=Ve,L.end=W)),W}var sn={};function mr(w){var I,O=w.ownerDocument,L=w.nodeName,W=sn[L];return W||(I=O.body.appendChild(O.createElement(L)),W=g.css(I,"display"),I.parentNode.removeChild(I),W==="none"&&(W="block"),sn[L]=W,W)}function gi(w,I){for(var O,L,W=[],G=0,K=w.length;G<K;G++)L=w[G],L.style&&(O=L.style.display,I?(O==="none"&&(W[G]=H.get(L,"display")||null,W[G]||(L.style.display="")),L.style.display===""&&Xt(L)&&(W[G]=mr(L))):O!=="none"&&(W[G]="none",H.set(L,"display",O)));for(G=0;G<K;G++)W[G]!=null&&(w[G].style.display=W[G]);return w}g.fn.extend({show:function(){return gi(this,!0)},hide:function(){return gi(this)},toggle:function(w){return typeof w=="boolean"?w?this.show():this.hide():this.each(function(){Xt(this)?g(this).show():g(this).hide()})}});var Lr=/^(?:checkbox|radio)$/i,ho=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Tr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var w=b.createDocumentFragment(),I=w.appendChild(b.createElement("div")),O=b.createElement("input");O.setAttribute("type","radio"),O.setAttribute("checked","checked"),O.setAttribute("name","t"),I.appendChild(O),m.checkClone=I.cloneNode(!0).cloneNode(!0).lastChild.checked,I.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!I.cloneNode(!0).lastChild.defaultValue,I.innerHTML="<option></option>",m.option=!!I.lastChild})();var jn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jn.tbody=jn.tfoot=jn.colgroup=jn.caption=jn.thead,jn.th=jn.td,m.option||(jn.optgroup=jn.option=[1,"<select multiple='multiple'>","</select>"]);function Vn(w,I){var O;return typeof w.getElementsByTagName<"u"?O=w.getElementsByTagName(I||"*"):typeof w.querySelectorAll<"u"?O=w.querySelectorAll(I||"*"):O=[],I===void 0||I&&z(w,I)?g.merge([w],O):O}function Ea(w,I){for(var O=0,L=w.length;O<L;O++)H.set(w[O],"globalEval",!I||H.get(I[O],"globalEval"))}var Ff=/<|&#?\w+;/;function Tu(w,I,O,L,W){for(var G,K,ge,de,De,Ve,Ye=I.createDocumentFragment(),Ne=[],He=0,$t=w.length;He<$t;He++)if(G=w[He],G||G===0)if(C(G)==="object")g.merge(Ne,G.nodeType?[G]:G);else if(!Ff.test(G))Ne.push(I.createTextNode(G));else{for(K=K||Ye.appendChild(I.createElement("div")),ge=(ho.exec(G)||["",""])[1].toLowerCase(),de=jn[ge]||jn._default,K.innerHTML=de[1]+g.htmlPrefilter(G)+de[2],Ve=de[0];Ve--;)K=K.lastChild;g.merge(Ne,K.childNodes),K=Ye.firstChild,K.textContent=""}for(Ye.textContent="",He=0;G=Ne[He++];){if(L&&g.inArray(G,L)>-1){W&&W.push(G);continue}if(De=pt(G),K=Vn(Ye.appendChild(G),"script"),De&&Ea(K),O)for(Ve=0;G=K[Ve++];)Tr.test(G.type||"")&&O.push(G)}return Ye}var Tc=/^([^.]*)(?:\.(.+)|)/;function ks(){return!0}function Wi(){return!1}function Ac(w,I){return w===t1()==(I==="focus")}function t1(){try{return b.activeElement}catch{}}function Nf(w,I,O,L,W,G){var K,ge;if(typeof I=="object"){typeof O!="string"&&(L=L||O,O=void 0);for(ge in I)Nf(w,ge,O,L,I[ge],G);return w}if(L==null&&W==null?(W=O,L=O=void 0):W==null&&(typeof O=="string"?(W=L,L=void 0):(W=L,L=O,O=void 0)),W===!1)W=Wi;else if(!W)return w;return G===1&&(K=W,W=function(de){return g().off(de),K.apply(this,arguments)},W.guid=K.guid||(K.guid=g.guid++)),w.each(function(){g.event.add(this,I,W,L,O)})}g.event={global:{},add:function(w,I,O,L,W){var G,K,ge,de,De,Ve,Ye,Ne,He,$t,nn,bt=H.get(w);if(E(w))for(O.handler&&(G=O,O=G.handler,W=G.selector),W&&g.find.matchesSelector(Qe,W),O.guid||(O.guid=g.guid++),(de=bt.events)||(de=bt.events=Object.create(null)),(K=bt.handle)||(K=bt.handle=function(ti){return typeof g<"u"&&g.event.triggered!==ti.type?g.event.dispatch.apply(w,arguments):void 0}),I=(I||"").match(se)||[""],De=I.length;De--;)ge=Tc.exec(I[De])||[],He=nn=ge[1],$t=(ge[2]||"").split(".").sort(),He&&(Ye=g.event.special[He]||{},He=(W?Ye.delegateType:Ye.bindType)||He,Ye=g.event.special[He]||{},Ve=g.extend({type:He,origType:nn,data:L,handler:O,guid:O.guid,selector:W,needsContext:W&&g.expr.match.needsContext.test(W),namespace:$t.join(".")},G),(Ne=de[He])||(Ne=de[He]=[],Ne.delegateCount=0,(!Ye.setup||Ye.setup.call(w,L,$t,K)===!1)&&w.addEventListener&&w.addEventListener(He,K)),Ye.add&&(Ye.add.call(w,Ve),Ve.handler.guid||(Ve.handler.guid=O.guid)),W?Ne.splice(Ne.delegateCount++,0,Ve):Ne.push(Ve),g.event.global[He]=!0)},remove:function(w,I,O,L,W){var G,K,ge,de,De,Ve,Ye,Ne,He,$t,nn,bt=H.hasData(w)&&H.get(w);if(!(!bt||!(de=bt.events))){for(I=(I||"").match(se)||[""],De=I.length;De--;){if(ge=Tc.exec(I[De])||[],He=nn=ge[1],$t=(ge[2]||"").split(".").sort(),!He){for(He in de)g.event.remove(w,He+I[De],O,L,!0);continue}for(Ye=g.event.special[He]||{},He=(L?Ye.delegateType:Ye.bindType)||He,Ne=de[He]||[],ge=ge[2]&&new RegExp("(^|\\.)"+$t.join("\\.(?:.*\\.|)")+"(\\.|$)"),K=G=Ne.length;G--;)Ve=Ne[G],(W||nn===Ve.origType)&&(!O||O.guid===Ve.guid)&&(!ge||ge.test(Ve.namespace))&&(!L||L===Ve.selector||L==="**"&&Ve.selector)&&(Ne.splice(G,1),Ve.selector&&Ne.delegateCount--,Ye.remove&&Ye.remove.call(w,Ve));K&&!Ne.length&&((!Ye.teardown||Ye.teardown.call(w,$t,bt.handle)===!1)&&g.removeEvent(w,He,bt.handle),delete de[He])}g.isEmptyObject(de)&&H.remove(w,"handle events")}},dispatch:function(w){var I,O,L,W,G,K,ge=new Array(arguments.length),de=g.event.fix(w),De=(H.get(this,"events")||Object.create(null))[de.type]||[],Ve=g.event.special[de.type]||{};for(ge[0]=de,I=1;I<arguments.length;I++)ge[I]=arguments[I];if(de.delegateTarget=this,!(Ve.preDispatch&&Ve.preDispatch.call(this,de)===!1)){for(K=g.event.handlers.call(this,de,De),I=0;(W=K[I++])&&!de.isPropagationStopped();)for(de.currentTarget=W.elem,O=0;(G=W.handlers[O++])&&!de.isImmediatePropagationStopped();)(!de.rnamespace||G.namespace===!1||de.rnamespace.test(G.namespace))&&(de.handleObj=G,de.data=G.data,L=((g.event.special[G.origType]||{}).handle||G.handler).apply(W.elem,ge),L!==void 0&&(de.result=L)===!1&&(de.preventDefault(),de.stopPropagation()));return Ve.postDispatch&&Ve.postDispatch.call(this,de),de.result}},handlers:function(w,I){var O,L,W,G,K,ge=[],de=I.delegateCount,De=w.target;if(de&&De.nodeType&&!(w.type==="click"&&w.button>=1)){for(;De!==this;De=De.parentNode||this)if(De.nodeType===1&&!(w.type==="click"&&De.disabled===!0)){for(G=[],K={},O=0;O<de;O++)L=I[O],W=L.selector+" ",K[W]===void 0&&(K[W]=L.needsContext?g(W,this).index(De)>-1:g.find(W,this,null,[De]).length),K[W]&&G.push(L);G.length&&ge.push({elem:De,handlers:G})}}return De=this,de<I.length&&ge.push({elem:De,handlers:I.slice(de)}),ge},addProp:function(w,I){Object.defineProperty(g.Event.prototype,w,{enumerable:!0,configurable:!0,get:v(I)?function(){if(this.originalEvent)return I(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[w]},set:function(O){Object.defineProperty(this,w,{enumerable:!0,configurable:!0,writable:!0,value:O})}})},fix:function(w){return w[g.expando]?w:new g.Event(w)},special:{load:{noBubble:!0},click:{setup:function(w){var I=this||w;return Lr.test(I.type)&&I.click&&z(I,"input")&&Au(I,"click",ks),!1},trigger:function(w){var I=this||w;return Lr.test(I.type)&&I.click&&z(I,"input")&&Au(I,"click"),!0},_default:function(w){var I=w.target;return Lr.test(I.type)&&I.click&&z(I,"input")&&H.get(I,"click")||z(I,"a")}},beforeunload:{postDispatch:function(w){w.result!==void 0&&w.originalEvent&&(w.originalEvent.returnValue=w.result)}}}};function Au(w,I,O){if(!O){H.get(w,I)===void 0&&g.event.add(w,I,ks);return}H.set(w,I,!1),g.event.add(w,I,{namespace:!1,handler:function(L){var W,G,K=H.get(this,I);if(L.isTrigger&1&&this[I]){if(K.length)(g.event.special[I]||{}).delegateType&&L.stopPropagation();else if(K=o.call(arguments),H.set(this,I,K),W=O(this,I),this[I](),G=H.get(this,I),K!==G||W?H.set(this,I,!1):G={},K!==G)return L.stopImmediatePropagation(),L.preventDefault(),G&&G.value}else K.length&&(H.set(this,I,{value:g.event.trigger(g.extend(K[0],g.Event.prototype),K.slice(1),this)}),L.stopImmediatePropagation())}})}g.removeEvent=function(w,I,O){w.removeEventListener&&w.removeEventListener(I,O)},g.Event=function(w,I){if(!(this instanceof g.Event))return new g.Event(w,I);w&&w.type?(this.originalEvent=w,this.type=w.type,this.isDefaultPrevented=w.defaultPrevented||w.defaultPrevented===void 0&&w.returnValue===!1?ks:Wi,this.target=w.target&&w.target.nodeType===3?w.target.parentNode:w.target,this.currentTarget=w.currentTarget,this.relatedTarget=w.relatedTarget):this.type=w,I&&g.extend(this,I),this.timeStamp=w&&w.timeStamp||Date.now(),this[g.expando]=!0},g.Event.prototype={constructor:g.Event,isDefaultPrevented:Wi,isPropagationStopped:Wi,isImmediatePropagationStopped:Wi,isSimulated:!1,preventDefault:function(){var w=this.originalEvent;this.isDefaultPrevented=ks,w&&!this.isSimulated&&w.preventDefault()},stopPropagation:function(){var w=this.originalEvent;this.isPropagationStopped=ks,w&&!this.isSimulated&&w.stopPropagation()},stopImmediatePropagation:function(){var w=this.originalEvent;this.isImmediatePropagationStopped=ks,w&&!this.isSimulated&&w.stopImmediatePropagation(),this.stopPropagation()}},g.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},g.event.addProp),g.each({focus:"focusin",blur:"focusout"},function(w,I){g.event.special[w]={setup:function(){return Au(this,w,Ac),!1},trigger:function(){return Au(this,w),!0},_default:function(O){return H.get(O.target,w)},delegateType:I}}),g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(w,I){g.event.special[w]={delegateType:I,bindType:I,handle:function(O){var L,W=this,G=O.relatedTarget,K=O.handleObj;return(!G||G!==W&&!g.contains(W,G))&&(O.type=K.origType,L=K.handler.apply(this,arguments),O.type=I),L}}}),g.fn.extend({on:function(w,I,O,L){return Nf(this,w,I,O,L)},one:function(w,I,O,L){return Nf(this,w,I,O,L,1)},off:function(w,I,O){var L,W;if(w&&w.preventDefault&&w.handleObj)return L=w.handleObj,g(w.delegateTarget).off(L.namespace?L.origType+"."+L.namespace:L.origType,L.selector,L.handler),this;if(typeof w=="object"){for(W in w)this.off(W,I,w[W]);return this}return(I===!1||typeof I=="function")&&(O=I,I=void 0),O===!1&&(O=Wi),this.each(function(){g.event.remove(this,w,O,I)})}});var Th=/<script|<style|<link/i,og=/checked\s*(?:[^=]|=\s*.checked.)/i,n1=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Iu(w,I){return z(w,"table")&&z(I.nodeType!==11?I:I.firstChild,"tr")&&g(w).children("tbody")[0]||w}function r1(w){return w.type=(w.getAttribute("type")!==null)+"/"+w.type,w}function Mf(w){return(w.type||"").slice(0,5)==="true/"?w.type=w.type.slice(5):w.removeAttribute("type"),w}function Se(w,I){var O,L,W,G,K,ge,de;if(I.nodeType===1){if(H.hasData(w)&&(G=H.get(w),de=G.events,de)){H.remove(I,"handle events");for(W in de)for(O=0,L=de[W].length;O<L;O++)g.event.add(I,W,de[W][O])}Q.hasData(w)&&(K=Q.access(w),ge=g.extend({},K),Q.set(I,ge))}}function le(w,I){var O=I.nodeName.toLowerCase();O==="input"&&Lr.test(w.type)?I.checked=w.checked:(O==="input"||O==="textarea")&&(I.defaultValue=w.defaultValue)}function xe(w,I,O,L){I=a(I);var W,G,K,ge,de,De,Ve=0,Ye=w.length,Ne=Ye-1,He=I[0],$t=v(He);if($t||Ye>1&&typeof He=="string"&&!m.checkClone&&og.test(He))return w.each(function(nn){var bt=w.eq(nn);$t&&(I[0]=He.call(this,nn,bt.html())),xe(bt,I,O,L)});if(Ye&&(W=Tu(I,w[0].ownerDocument,!1,w,L),G=W.firstChild,W.childNodes.length===1&&(W=G),G||L)){for(K=g.map(Vn(W,"script"),r1),ge=K.length;Ve<Ye;Ve++)de=W,Ve!==Ne&&(de=g.clone(de,!0,!0),ge&&g.merge(K,Vn(de,"script"))),O.call(w[Ve],de,Ve);if(ge)for(De=K[K.length-1].ownerDocument,g.map(K,Mf),Ve=0;Ve<ge;Ve++)de=K[Ve],Tr.test(de.type||"")&&!H.access(de,"globalEval")&&g.contains(De,de)&&(de.src&&(de.type||"").toLowerCase()!=="module"?g._evalUrl&&!de.noModule&&g._evalUrl(de.src,{nonce:de.nonce||de.getAttribute("nonce")},De):x(de.textContent.replace(n1,""),de,De))}return w}function ze(w,I,O){for(var L,W=I?g.filter(I,w):w,G=0;(L=W[G])!=null;G++)!O&&L.nodeType===1&&g.cleanData(Vn(L)),L.parentNode&&(O&&pt(L)&&Ea(Vn(L,"script")),L.parentNode.removeChild(L));return w}g.extend({htmlPrefilter:function(w){return w},clone:function(w,I,O){var L,W,G,K,ge=w.cloneNode(!0),de=pt(w);if(!m.noCloneChecked&&(w.nodeType===1||w.nodeType===11)&&!g.isXMLDoc(w))for(K=Vn(ge),G=Vn(w),L=0,W=G.length;L<W;L++)le(G[L],K[L]);if(I)if(O)for(G=G||Vn(w),K=K||Vn(ge),L=0,W=G.length;L<W;L++)Se(G[L],K[L]);else Se(w,ge);return K=Vn(ge,"script"),K.length>0&&Ea(K,!de&&Vn(w,"script")),ge},cleanData:function(w){for(var I,O,L,W=g.event.special,G=0;(O=w[G])!==void 0;G++)if(E(O)){if(I=O[H.expando]){if(I.events)for(L in I.events)W[L]?g.event.remove(O,L):g.removeEvent(O,L,I.handle);O[H.expando]=void 0}O[Q.expando]&&(O[Q.expando]=void 0)}}}),g.fn.extend({detach:function(w){return ze(this,w,!0)},remove:function(w){return ze(this,w)},text:function(w){return ce(this,function(I){return I===void 0?g.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=I)})},null,w,arguments.length)},append:function(){return xe(this,arguments,function(w){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=Iu(this,w);I.appendChild(w)}})},prepend:function(){return xe(this,arguments,function(w){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var I=Iu(this,w);I.insertBefore(w,I.firstChild)}})},before:function(){return xe(this,arguments,function(w){this.parentNode&&this.parentNode.insertBefore(w,this)})},after:function(){return xe(this,arguments,function(w){this.parentNode&&this.parentNode.insertBefore(w,this.nextSibling)})},empty:function(){for(var w,I=0;(w=this[I])!=null;I++)w.nodeType===1&&(g.cleanData(Vn(w,!1)),w.textContent="");return this},clone:function(w,I){return w=w??!1,I=I??w,this.map(function(){return g.clone(this,w,I)})},html:function(w){return ce(this,function(I){var O=this[0]||{},L=0,W=this.length;if(I===void 0&&O.nodeType===1)return O.innerHTML;if(typeof I=="string"&&!Th.test(I)&&!jn[(ho.exec(I)||["",""])[1].toLowerCase()]){I=g.htmlPrefilter(I);try{for(;L<W;L++)O=this[L]||{},O.nodeType===1&&(g.cleanData(Vn(O,!1)),O.innerHTML=I);O=0}catch{}}O&&this.empty().append(I)},null,w,arguments.length)},replaceWith:function(){var w=[];return xe(this,arguments,function(I){var O=this.parentNode;g.inArray(this,w)<0&&(g.cleanData(Vn(this)),O&&O.replaceChild(I,this))},w)}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(w,I){g.fn[w]=function(O){for(var L,W=[],G=g(O),K=G.length-1,ge=0;ge<=K;ge++)L=ge===K?this:this.clone(!0),g(G[ge])[I](L),s.apply(W,L.get());return this.pushStack(W)}});var Me=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),St=/^--/,Ct=function(w){var I=w.ownerDocument.defaultView;return(!I||!I.opener)&&(I=e),I.getComputedStyle(w)},wn=function(w,I,O){var L,W,G={};for(W in I)G[W]=w.style[W],w.style[W]=I[W];L=O.call(w);for(W in I)w.style[W]=G[W];return L},sr=new RegExp(et.join("|"),"i"),Fr="[\\x20\\t\\r\\n\\f]",vn=new RegExp("^"+Fr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fr+"+$","g");(function(){function w(){if(De){de.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",De.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Qe.appendChild(de).appendChild(De);var Ve=e.getComputedStyle(De);O=Ve.top!=="1%",ge=I(Ve.marginLeft)===12,De.style.right="60%",G=I(Ve.right)===36,L=I(Ve.width)===36,De.style.position="absolute",W=I(De.offsetWidth/3)===12,Qe.removeChild(de),De=null}}function I(Ve){return Math.round(parseFloat(Ve))}var O,L,W,G,K,ge,de=b.createElement("div"),De=b.createElement("div");De.style&&(De.style.backgroundClip="content-box",De.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle=De.style.backgroundClip==="content-box",g.extend(m,{boxSizingReliable:function(){return w(),L},pixelBoxStyles:function(){return w(),G},pixelPosition:function(){return w(),O},reliableMarginLeft:function(){return w(),ge},scrollboxSize:function(){return w(),W},reliableTrDimensions:function(){var Ve,Ye,Ne,He;return K==null&&(Ve=b.createElement("table"),Ye=b.createElement("tr"),Ne=b.createElement("div"),Ve.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Ye.style.cssText="border:1px solid",Ye.style.height="1px",Ne.style.height="9px",Ne.style.display="block",Qe.appendChild(Ve).appendChild(Ye).appendChild(Ne),He=e.getComputedStyle(Ye),K=parseInt(He.height,10)+parseInt(He.borderTopWidth,10)+parseInt(He.borderBottomWidth,10)===Ye.offsetHeight,Qe.removeChild(Ve)),K}}))})();function qn(w,I,O){var L,W,G,K,ge=St.test(I),de=w.style;return O=O||Ct(w),O&&(K=O.getPropertyValue(I)||O[I],ge&&K&&(K=K.replace(vn,"$1")||void 0),K===""&&!pt(w)&&(K=g.style(w,I)),!m.pixelBoxStyles()&&Me.test(K)&&sr.test(I)&&(L=de.width,W=de.minWidth,G=de.maxWidth,de.minWidth=de.maxWidth=de.width=K,K=O.width,de.width=L,de.minWidth=W,de.maxWidth=G)),K!==void 0?K+"":K}function Nr(w,I){return{get:function(){if(w()){delete this.get;return}return(this.get=I).apply(this,arguments)}}}var Kt=["Webkit","Moz","ms"],dr=b.createElement("div").style,gr={};function br(w){for(var I=w[0].toUpperCase()+w.slice(1),O=Kt.length;O--;)if(w=Kt[O]+I,w in dr)return w}function po(w){var I=g.cssProps[w]||gr[w];return I||(w in dr?w:gr[w]=br(w)||w)}var $a=/^(none|table(?!-c[ea]).+)/,Oa={position:"absolute",visibility:"hidden",display:"block"},Vl={letterSpacing:"0",fontWeight:"400"};function _s(w,I,O){var L=Ke.exec(I);return L?Math.max(0,L[2]-(O||0))+(L[3]||"px"):I}function Ui(w,I,O,L,W,G){var K=I==="width"?1:0,ge=0,de=0;if(O===(L?"border":"content"))return 0;for(;K<4;K+=2)O==="margin"&&(de+=g.css(w,O+et[K],!0,W)),L?(O==="content"&&(de-=g.css(w,"padding"+et[K],!0,W)),O!=="margin"&&(de-=g.css(w,"border"+et[K]+"Width",!0,W))):(de+=g.css(w,"padding"+et[K],!0,W),O!=="padding"?de+=g.css(w,"border"+et[K]+"Width",!0,W):ge+=g.css(w,"border"+et[K]+"Width",!0,W));return!L&&G>=0&&(de+=Math.max(0,Math.ceil(w["offset"+I[0].toUpperCase()+I.slice(1)]-G-de-ge-.5))||0),de}function Eo(w,I,O){var L=Ct(w),W=!m.boxSizingReliable()||O,G=W&&g.css(w,"boxSizing",!1,L)==="border-box",K=G,ge=qn(w,I,L),de="offset"+I[0].toUpperCase()+I.slice(1);if(Me.test(ge)){if(!O)return ge;ge="auto"}return(!m.boxSizingReliable()&&G||!m.reliableTrDimensions()&&z(w,"tr")||ge==="auto"||!parseFloat(ge)&&g.css(w,"display",!1,L)==="inline")&&w.getClientRects().length&&(G=g.css(w,"boxSizing",!1,L)==="border-box",K=de in w,K&&(ge=w[de])),ge=parseFloat(ge)||0,ge+Ui(w,I,O||(G?"border":"content"),K,L,ge)+"px"}g.extend({cssHooks:{opacity:{get:function(w,I){if(I){var O=qn(w,"opacity");return O===""?"1":O}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(w,I,O,L){if(!(!w||w.nodeType===3||w.nodeType===8||!w.style)){var W,G,K,ge=Y(I),de=St.test(I),De=w.style;if(de||(I=po(ge)),K=g.cssHooks[I]||g.cssHooks[ge],O!==void 0){if(G=typeof O,G==="string"&&(W=Ke.exec(O))&&W[1]&&(O=wt(w,I,W),G="number"),O==null||O!==O)return;G==="number"&&!de&&(O+=W&&W[3]||(g.cssNumber[ge]?"":"px")),!m.clearCloneStyle&&O===""&&I.indexOf("background")===0&&(De[I]="inherit"),(!K||!("set"in K)||(O=K.set(w,O,L))!==void 0)&&(de?De.setProperty(I,O):De[I]=O)}else return K&&"get"in K&&(W=K.get(w,!1,L))!==void 0?W:De[I]}},css:function(w,I,O,L){var W,G,K,ge=Y(I),de=St.test(I);return de||(I=po(ge)),K=g.cssHooks[I]||g.cssHooks[ge],K&&"get"in K&&(W=K.get(w,!0,O)),W===void 0&&(W=qn(w,I,L)),W==="normal"&&I in Vl&&(W=Vl[I]),O===""||O?(G=parseFloat(W),O===!0||isFinite(G)?G||0:W):W}}),g.each(["height","width"],function(w,I){g.cssHooks[I]={get:function(O,L,W){if(L)return $a.test(g.css(O,"display"))&&(!O.getClientRects().length||!O.getBoundingClientRect().width)?wn(O,Oa,function(){return Eo(O,I,W)}):Eo(O,I,W)},set:function(O,L,W){var G,K=Ct(O),ge=!m.scrollboxSize()&&K.position==="absolute",de=ge||W,De=de&&g.css(O,"boxSizing",!1,K)==="border-box",Ve=W?Ui(O,I,W,De,K):0;return De&&ge&&(Ve-=Math.ceil(O["offset"+I[0].toUpperCase()+I.slice(1)]-parseFloat(K[I])-Ui(O,I,"border",!1,K)-.5)),Ve&&(G=Ke.exec(L))&&(G[3]||"px")!=="px"&&(O.style[I]=L,L=g.css(O,I)),_s(O,L,Ve)}}}),g.cssHooks.marginLeft=Nr(m.reliableMarginLeft,function(w,I){if(I)return(parseFloat(qn(w,"marginLeft"))||w.getBoundingClientRect().left-wn(w,{marginLeft:0},function(){return w.getBoundingClientRect().left}))+"px"}),g.each({margin:"",padding:"",border:"Width"},function(w,I){g.cssHooks[w+I]={expand:function(O){for(var L=0,W={},G=typeof O=="string"?O.split(" "):[O];L<4;L++)W[w+et[L]+I]=G[L]||G[L-2]||G[0];return W}},w!=="margin"&&(g.cssHooks[w+I].set=_s)}),g.fn.extend({css:function(w,I){return ce(this,function(O,L,W){var G,K,ge={},de=0;if(Array.isArray(L)){for(G=Ct(O),K=L.length;de<K;de++)ge[L[de]]=g.css(O,L[de],!1,G);return ge}return W!==void 0?g.style(O,L,W):g.css(O,L)},w,I,arguments.length>1)}});function ei(w,I,O,L,W){return new ei.prototype.init(w,I,O,L,W)}g.Tween=ei,ei.prototype={constructor:ei,init:function(w,I,O,L,W,G){this.elem=w,this.prop=O,this.easing=W||g.easing._default,this.options=I,this.start=this.now=this.cur(),this.end=L,this.unit=G||(g.cssNumber[O]?"":"px")},cur:function(){var w=ei.propHooks[this.prop];return w&&w.get?w.get(this):ei.propHooks._default.get(this)},run:function(w){var I,O=ei.propHooks[this.prop];return this.options.duration?this.pos=I=g.easing[this.easing](w,this.options.duration*w,0,1,this.options.duration):this.pos=I=w,this.now=(this.end-this.start)*I+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),O&&O.set?O.set(this):ei.propHooks._default.set(this),this}},ei.prototype.init.prototype=ei.prototype,ei.propHooks={_default:{get:function(w){var I;return w.elem.nodeType!==1||w.elem[w.prop]!=null&&w.elem.style[w.prop]==null?w.elem[w.prop]:(I=g.css(w.elem,w.prop,""),!I||I==="auto"?0:I)},set:function(w){g.fx.step[w.prop]?g.fx.step[w.prop](w):w.elem.nodeType===1&&(g.cssHooks[w.prop]||w.elem.style[po(w.prop)]!=null)?g.style(w.elem,w.prop,w.now+w.unit):w.elem[w.prop]=w.now}}},ei.propHooks.scrollTop=ei.propHooks.scrollLeft={set:function(w){w.elem.nodeType&&w.elem.parentNode&&(w.elem[w.prop]=w.now)}},g.easing={linear:function(w){return w},swing:function(w){return .5-Math.cos(w*Math.PI)/2},_default:"swing"},g.fx=ei.prototype.init,g.fx.step={};var ro,Ys,ag=/^(?:toggle|show|hide)$/,Ah=/queueHooks$/;function Bl(){Ys&&(b.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Bl):e.setTimeout(Bl,g.fx.interval),g.fx.tick())}function Ic(){return e.setTimeout(function(){ro=void 0}),ro=Date.now()}function ws(w,I){var O,L=0,W={height:w};for(I=I?1:0;L<4;L+=2-I)O=et[L],W["margin"+O]=W["padding"+O]=w;return I&&(W.opacity=W.width=w),W}function Ih(w,I,O){for(var L,W=(Da.tweeners[I]||[]).concat(Da.tweeners["*"]),G=0,K=W.length;G<K;G++)if(L=W[G].call(O,I,w))return L}function Ph(w,I,O){var L,W,G,K,ge,de,De,Ve,Ye="width"in I||"height"in I,Ne=this,He={},$t=w.style,nn=w.nodeType&&Xt(w),bt=H.get(w,"fxshow");O.queue||(K=g._queueHooks(w,"fx"),K.unqueued==null&&(K.unqueued=0,ge=K.empty.fire,K.empty.fire=function(){K.unqueued||ge()}),K.unqueued++,Ne.always(function(){Ne.always(function(){K.unqueued--,g.queue(w,"fx").length||K.empty.fire()})}));for(L in I)if(W=I[L],ag.test(W)){if(delete I[L],G=G||W==="toggle",W===(nn?"hide":"show"))if(W==="show"&&bt&&bt[L]!==void 0)nn=!0;else continue;He[L]=bt&&bt[L]||g.style(w,L)}if(de=!g.isEmptyObject(I),!(!de&&g.isEmptyObject(He))){Ye&&w.nodeType===1&&(O.overflow=[$t.overflow,$t.overflowX,$t.overflowY],De=bt&&bt.display,De==null&&(De=H.get(w,"display")),Ve=g.css(w,"display"),Ve==="none"&&(De?Ve=De:(gi([w],!0),De=w.style.display||De,Ve=g.css(w,"display"),gi([w]))),(Ve==="inline"||Ve==="inline-block"&&De!=null)&&g.css(w,"float")==="none"&&(de||(Ne.done(function(){$t.display=De}),De==null&&(Ve=$t.display,De=Ve==="none"?"":Ve)),$t.display="inline-block")),O.overflow&&($t.overflow="hidden",Ne.always(function(){$t.overflow=O.overflow[0],$t.overflowX=O.overflow[1],$t.overflowY=O.overflow[2]})),de=!1;for(L in He)de||(bt?"hidden"in bt&&(nn=bt.hidden):bt=H.access(w,"fxshow",{display:De}),G&&(bt.hidden=!nn),nn&&gi([w],!0),Ne.done(function(){nn||gi([w]),H.remove(w,"fxshow");for(L in He)g.style(w,L,He[L])})),de=Ih(nn?bt[L]:0,L,Ne),L in bt||(bt[L]=de.start,nn&&(de.end=de.start,de.start=0))}}function Xs(w,I){var O,L,W,G,K;for(O in w)if(L=Y(O),W=I[L],G=w[O],Array.isArray(G)&&(W=G[1],G=w[O]=G[0]),O!==L&&(w[L]=G,delete w[O]),K=g.cssHooks[L],K&&"expand"in K){G=K.expand(G),delete w[L];for(O in G)O in w||(w[O]=G[O],I[O]=W)}else I[L]=W}function Da(w,I,O){var L,W,G=0,K=Da.prefilters.length,ge=g.Deferred().always(function(){delete de.elem}),de=function(){if(W)return!1;for(var Ye=ro||Ic(),Ne=Math.max(0,De.startTime+De.duration-Ye),He=Ne/De.duration||0,$t=1-He,nn=0,bt=De.tweens.length;nn<bt;nn++)De.tweens[nn].run($t);return ge.notifyWith(w,[De,$t,Ne]),$t<1&&bt?Ne:(bt||ge.notifyWith(w,[De,1,0]),ge.resolveWith(w,[De]),!1)},De=ge.promise({elem:w,props:g.extend({},I),opts:g.extend(!0,{specialEasing:{},easing:g.easing._default},O),originalProperties:I,originalOptions:O,startTime:ro||Ic(),duration:O.duration,tweens:[],createTween:function(Ye,Ne){var He=g.Tween(w,De.opts,Ye,Ne,De.opts.specialEasing[Ye]||De.opts.easing);return De.tweens.push(He),He},stop:function(Ye){var Ne=0,He=Ye?De.tweens.length:0;if(W)return this;for(W=!0;Ne<He;Ne++)De.tweens[Ne].run(1);return Ye?(ge.notifyWith(w,[De,1,0]),ge.resolveWith(w,[De,Ye])):ge.rejectWith(w,[De,Ye]),this}}),Ve=De.props;for(Xs(Ve,De.opts.specialEasing);G<K;G++)if(L=Da.prefilters[G].call(De,w,Ve,De.opts),L)return v(L.stop)&&(g._queueHooks(De.elem,De.opts.queue).stop=L.stop.bind(L)),L;return g.map(Ve,Ih,De),v(De.opts.start)&&De.opts.start.call(w,De),De.progress(De.opts.progress).done(De.opts.done,De.opts.complete).fail(De.opts.fail).always(De.opts.always),g.fx.timer(g.extend(de,{elem:w,anim:De,queue:De.opts.queue})),De}g.Animation=g.extend(Da,{tweeners:{"*":[function(w,I){var O=this.createTween(w,I);return wt(O.elem,w,Ke.exec(I),O),O}]},tweener:function(w,I){v(w)?(I=w,w=["*"]):w=w.match(se);for(var O,L=0,W=w.length;L<W;L++)O=w[L],Da.tweeners[O]=Da.tweeners[O]||[],Da.tweeners[O].unshift(I)},prefilters:[Ph],prefilter:function(w,I){I?Da.prefilters.unshift(w):Da.prefilters.push(w)}}),g.speed=function(w,I,O){var L=w&&typeof w=="object"?g.extend({},w):{complete:O||!O&&I||v(w)&&w,duration:w,easing:O&&I||I&&!v(I)&&I};return g.fx.off?L.duration=0:typeof L.duration!="number"&&(L.duration in g.fx.speeds?L.duration=g.fx.speeds[L.duration]:L.duration=g.fx.speeds._default),(L.queue==null||L.queue===!0)&&(L.queue="fx"),L.old=L.complete,L.complete=function(){v(L.old)&&L.old.call(this),L.queue&&g.dequeue(this,L.queue)},L},g.fn.extend({fadeTo:function(w,I,O,L){return this.filter(Xt).css("opacity",0).show().end().animate({opacity:I},w,O,L)},animate:function(w,I,O,L){var W=g.isEmptyObject(w),G=g.speed(I,O,L),K=function(){var ge=Da(this,g.extend({},w),G);(W||H.get(this,"finish"))&&ge.stop(!0)};return K.finish=K,W||G.queue===!1?this.each(K):this.queue(G.queue,K)},stop:function(w,I,O){var L=function(W){var G=W.stop;delete W.stop,G(O)};return typeof w!="string"&&(O=I,I=w,w=void 0),I&&this.queue(w||"fx",[]),this.each(function(){var W=!0,G=w!=null&&w+"queueHooks",K=g.timers,ge=H.get(this);if(G)ge[G]&&ge[G].stop&&L(ge[G]);else for(G in ge)ge[G]&&ge[G].stop&&Ah.test(G)&&L(ge[G]);for(G=K.length;G--;)K[G].elem===this&&(w==null||K[G].queue===w)&&(K[G].anim.stop(O),W=!1,K.splice(G,1));(W||!O)&&g.dequeue(this,w)})},finish:function(w){return w!==!1&&(w=w||"fx"),this.each(function(){var I,O=H.get(this),L=O[w+"queue"],W=O[w+"queueHooks"],G=g.timers,K=L?L.length:0;for(O.finish=!0,g.queue(this,w,[]),W&&W.stop&&W.stop.call(this,!0),I=G.length;I--;)G[I].elem===this&&G[I].queue===w&&(G[I].anim.stop(!0),G.splice(I,1));for(I=0;I<K;I++)L[I]&&L[I].finish&&L[I].finish.call(this);delete O.finish})}}),g.each(["toggle","show","hide"],function(w,I){var O=g.fn[I];g.fn[I]=function(L,W,G){return L==null||typeof L=="boolean"?O.apply(this,arguments):this.animate(ws(I,!0),L,W,G)}}),g.each({slideDown:ws("show"),slideUp:ws("hide"),slideToggle:ws("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(w,I){g.fn[w]=function(O,L,W){return this.animate(I,O,L,W)}}),g.timers=[],g.fx.tick=function(){var w,I=0,O=g.timers;for(ro=Date.now();I<O.length;I++)w=O[I],!w()&&O[I]===w&&O.splice(I--,1);O.length||g.fx.stop(),ro=void 0},g.fx.timer=function(w){g.timers.push(w),g.fx.start()},g.fx.interval=13,g.fx.start=function(){Ys||(Ys=!0,Bl())},g.fx.stop=function(){Ys=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(w,I){return w=g.fx&&g.fx.speeds[w]||w,I=I||"fx",this.queue(I,function(O,L){var W=e.setTimeout(O,w);L.stop=function(){e.clearTimeout(W)}})},function(){var w=b.createElement("input"),I=b.createElement("select"),O=I.appendChild(b.createElement("option"));w.type="checkbox",m.checkOn=w.value!=="",m.optSelected=O.selected,w=b.createElement("input"),w.value="t",w.type="radio",m.radioValue=w.value==="t"}();var X2,zf=g.expr.attrHandle;g.fn.extend({attr:function(w,I){return ce(this,g.attr,w,I,arguments.length>1)},removeAttr:function(w){return this.each(function(){g.removeAttr(this,w)})}}),g.extend({attr:function(w,I,O){var L,W,G=w.nodeType;if(!(G===3||G===8||G===2)){if(typeof w.getAttribute>"u")return g.prop(w,I,O);if((G!==1||!g.isXMLDoc(w))&&(W=g.attrHooks[I.toLowerCase()]||(g.expr.match.bool.test(I)?X2:void 0)),O!==void 0){if(O===null){g.removeAttr(w,I);return}return W&&"set"in W&&(L=W.set(w,O,I))!==void 0?L:(w.setAttribute(I,O+""),O)}return W&&"get"in W&&(L=W.get(w,I))!==null?L:(L=g.find.attr(w,I),L??void 0)}},attrHooks:{type:{set:function(w,I){if(!m.radioValue&&I==="radio"&&z(w,"input")){var O=w.value;return w.setAttribute("type",I),O&&(w.value=O),I}}}},removeAttr:function(w,I){var O,L=0,W=I&&I.match(se);if(W&&w.nodeType===1)for(;O=W[L++];)w.removeAttribute(O)}}),X2={set:function(w,I,O){return I===!1?g.removeAttr(w,O):w.setAttribute(O,O),O}},g.each(g.expr.match.bool.source.match(/\w+/g),function(w,I){var O=zf[I]||g.find.attr;zf[I]=function(L,W,G){var K,ge,de=W.toLowerCase();return G||(ge=zf[de],zf[de]=K,K=O(L,W,G)!=null?de:null,zf[de]=ge),K}});var K2=/^(?:input|select|textarea|button)$/i,i1=/^(?:a|area)$/i;g.fn.extend({prop:function(w,I){return ce(this,g.prop,w,I,arguments.length>1)},removeProp:function(w){return this.each(function(){delete this[g.propFix[w]||w]})}}),g.extend({prop:function(w,I,O){var L,W,G=w.nodeType;if(!(G===3||G===8||G===2))return(G!==1||!g.isXMLDoc(w))&&(I=g.propFix[I]||I,W=g.propHooks[I]),O!==void 0?W&&"set"in W&&(L=W.set(w,O,I))!==void 0?L:w[I]=O:W&&"get"in W&&(L=W.get(w,I))!==null?L:w[I]},propHooks:{tabIndex:{get:function(w){var I=g.find.attr(w,"tabindex");return I?parseInt(I,10):K2.test(w.nodeName)||i1.test(w.nodeName)&&w.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(g.propHooks.selected={get:function(w){var I=w.parentNode;return I&&I.parentNode&&I.parentNode.selectedIndex,null},set:function(w){var I=w.parentNode;I&&(I.selectedIndex,I.parentNode&&I.parentNode.selectedIndex)}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});function Pu(w){var I=w.match(se)||[];return I.join(" ")}function Pc(w){return w.getAttribute&&w.getAttribute("class")||""}function Eh(w){return Array.isArray(w)?w:typeof w=="string"?w.match(se)||[]:[]}g.fn.extend({addClass:function(w){var I,O,L,W,G,K;return v(w)?this.each(function(ge){g(this).addClass(w.call(this,ge,Pc(this)))}):(I=Eh(w),I.length?this.each(function(){if(L=Pc(this),O=this.nodeType===1&&" "+Pu(L)+" ",O){for(G=0;G<I.length;G++)W=I[G],O.indexOf(" "+W+" ")<0&&(O+=W+" ");K=Pu(O),L!==K&&this.setAttribute("class",K)}}):this)},removeClass:function(w){var I,O,L,W,G,K;return v(w)?this.each(function(ge){g(this).removeClass(w.call(this,ge,Pc(this)))}):arguments.length?(I=Eh(w),I.length?this.each(function(){if(L=Pc(this),O=this.nodeType===1&&" "+Pu(L)+" ",O){for(G=0;G<I.length;G++)for(W=I[G];O.indexOf(" "+W+" ")>-1;)O=O.replace(" "+W+" "," ");K=Pu(O),L!==K&&this.setAttribute("class",K)}}):this):this.attr("class","")},toggleClass:function(w,I){var O,L,W,G,K=typeof w,ge=K==="string"||Array.isArray(w);return v(w)?this.each(function(de){g(this).toggleClass(w.call(this,de,Pc(this),I),I)}):typeof I=="boolean"&&ge?I?this.addClass(w):this.removeClass(w):(O=Eh(w),this.each(function(){if(ge)for(G=g(this),W=0;W<O.length;W++)L=O[W],G.hasClass(L)?G.removeClass(L):G.addClass(L);else(w===void 0||K==="boolean")&&(L=Pc(this),L&&H.set(this,"__className__",L),this.setAttribute&&this.setAttribute("class",L||w===!1?"":H.get(this,"__className__")||""))}))},hasClass:function(w){var I,O,L=0;for(I=" "+w+" ";O=this[L++];)if(O.nodeType===1&&(" "+Pu(Pc(O))+" ").indexOf(I)>-1)return!0;return!1}});var o1=/\r/g;g.fn.extend({val:function(w){var I,O,L,W=this[0];return arguments.length?(L=v(w),this.each(function(G){var K;this.nodeType===1&&(L?K=w.call(this,G,g(this).val()):K=w,K==null?K="":typeof K=="number"?K+="":Array.isArray(K)&&(K=g.map(K,function(ge){return ge==null?"":ge+""})),I=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],(!I||!("set"in I)||I.set(this,K,"value")===void 0)&&(this.value=K))})):W?(I=g.valHooks[W.type]||g.valHooks[W.nodeName.toLowerCase()],I&&"get"in I&&(O=I.get(W,"value"))!==void 0?O:(O=W.value,typeof O=="string"?O.replace(o1,""):O??"")):void 0}}),g.extend({valHooks:{option:{get:function(w){var I=g.find.attr(w,"value");return I??Pu(g.text(w))}},select:{get:function(w){var I,O,L,W=w.options,G=w.selectedIndex,K=w.type==="select-one",ge=K?null:[],de=K?G+1:W.length;for(G<0?L=de:L=K?G:0;L<de;L++)if(O=W[L],(O.selected||L===G)&&!O.disabled&&(!O.parentNode.disabled||!z(O.parentNode,"optgroup"))){if(I=g(O).val(),K)return I;ge.push(I)}return ge},set:function(w,I){for(var O,L,W=w.options,G=g.makeArray(I),K=W.length;K--;)L=W[K],(L.selected=g.inArray(g.valHooks.option.get(L),G)>-1)&&(O=!0);return O||(w.selectedIndex=-1),G}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(w,I){if(Array.isArray(I))return w.checked=g.inArray(g(w).val(),I)>-1}},m.checkOn||(g.valHooks[this].get=function(w){return w.getAttribute("value")===null?"on":w.value})}),m.focusin="onfocusin"in e;var Eu=/^(?:focusinfocus|focusoutblur)$/,a1=function(w){w.stopPropagation()};g.extend(g.event,{trigger:function(w,I,O,L){var W,G,K,ge,de,De,Ve,Ye,Ne=[O||b],He=f.call(w,"type")?w.type:w,$t=f.call(w,"namespace")?w.namespace.split("."):[];if(G=Ye=K=O=O||b,!(O.nodeType===3||O.nodeType===8)&&!Eu.test(He+g.event.triggered)&&(He.indexOf(".")>-1&&($t=He.split("."),He=$t.shift(),$t.sort()),de=He.indexOf(":")<0&&"on"+He,w=w[g.expando]?w:new g.Event(He,typeof w=="object"&&w),w.isTrigger=L?2:3,w.namespace=$t.join("."),w.rnamespace=w.namespace?new RegExp("(^|\\.)"+$t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,w.result=void 0,w.target||(w.target=O),I=I==null?[w]:g.makeArray(I,[w]),Ve=g.event.special[He]||{},!(!L&&Ve.trigger&&Ve.trigger.apply(O,I)===!1))){if(!L&&!Ve.noBubble&&!k(O)){for(ge=Ve.delegateType||He,Eu.test(ge+He)||(G=G.parentNode);G;G=G.parentNode)Ne.push(G),K=G;K===(O.ownerDocument||b)&&Ne.push(K.defaultView||K.parentWindow||e)}for(W=0;(G=Ne[W++])&&!w.isPropagationStopped();)Ye=G,w.type=W>1?ge:Ve.bindType||He,De=(H.get(G,"events")||Object.create(null))[w.type]&&H.get(G,"handle"),De&&De.apply(G,I),De=de&&G[de],De&&De.apply&&E(G)&&(w.result=De.apply(G,I),w.result===!1&&w.preventDefault());return w.type=He,!L&&!w.isDefaultPrevented()&&(!Ve._default||Ve._default.apply(Ne.pop(),I)===!1)&&E(O)&&de&&v(O[He])&&!k(O)&&(K=O[de],K&&(O[de]=null),g.event.triggered=He,w.isPropagationStopped()&&Ye.addEventListener(He,a1),O[He](),w.isPropagationStopped()&&Ye.removeEventListener(He,a1),g.event.triggered=void 0,K&&(O[de]=K)),w.result}},simulate:function(w,I,O){var L=g.extend(new g.Event,O,{type:w,isSimulated:!0});g.event.trigger(L,null,I)}}),g.fn.extend({trigger:function(w,I){return this.each(function(){g.event.trigger(w,I,this)})},triggerHandler:function(w,I){var O=this[0];if(O)return g.event.trigger(w,I,O,!0)}}),m.focusin||g.each({focus:"focusin",blur:"focusout"},function(w,I){var O=function(L){g.event.simulate(I,L.target,g.event.fix(L))};g.event.special[I]={setup:function(){var L=this.ownerDocument||this.document||this,W=H.access(L,I);W||L.addEventListener(w,O,!0),H.access(L,I,(W||0)+1)},teardown:function(){var L=this.ownerDocument||this.document||this,W=H.access(L,I)-1;W?H.access(L,I,W):(L.removeEventListener(w,O,!0),H.remove(L,I))}}});var Rf=e.location,J2={guid:Date.now()},sg=/\?/;g.parseXML=function(w){var I,O;if(!w||typeof w!="string")return null;try{I=new e.DOMParser().parseFromString(w,"text/xml")}catch{}return O=I&&I.getElementsByTagName("parsererror")[0],(!I||O)&&g.error("Invalid XML: "+(O?g.map(O.childNodes,function(L){return L.textContent}).join(`
`):w)),I};var Z2=/\[\]$/,s1=/\r?\n/g,Q2=/^(?:submit|button|image|reset|file)$/i,sw=/^(?:input|select|textarea|keygen)/i;function l1(w,I,O,L){var W;if(Array.isArray(I))g.each(I,function(G,K){O||Z2.test(w)?L(w,K):l1(w+"["+(typeof K=="object"&&K!=null?G:"")+"]",K,O,L)});else if(!O&&C(I)==="object")for(W in I)l1(w+"["+W+"]",I[W],O,L);else L(w,I)}g.param=function(w,I){var O,L=[],W=function(G,K){var ge=v(K)?K():K;L[L.length]=encodeURIComponent(G)+"="+encodeURIComponent(ge??"")};if(w==null)return"";if(Array.isArray(w)||w.jquery&&!g.isPlainObject(w))g.each(w,function(){W(this.name,this.value)});else for(O in w)l1(O,w[O],I,W);return L.join("&")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var w=g.prop(this,"elements");return w?g.makeArray(w):this}).filter(function(){var w=this.type;return this.name&&!g(this).is(":disabled")&&sw.test(this.nodeName)&&!Q2.test(w)&&(this.checked||!Lr.test(w))}).map(function(w,I){var O=g(this).val();return O==null?null:Array.isArray(O)?g.map(O,function(L){return{name:I.name,value:L.replace(s1,`\r
`)}}):{name:I.name,value:O.replace(s1,`\r
`)}}).get()}});var lw=/%20/g,e7=/#.*$/,cw=/([?&])_=[^&]*/,uw=/^(.*?):[ \t]*([^\r\n]*)$/mg,fw=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,dw=/^(?:GET|HEAD)$/,c1=/^\/\//,t7={},u1={},n7="*/".concat("*"),f1=b.createElement("a");f1.href=Rf.href;function r7(w){return function(I,O){typeof I!="string"&&(O=I,I="*");var L,W=0,G=I.toLowerCase().match(se)||[];if(v(O))for(;L=G[W++];)L[0]==="+"?(L=L.slice(1)||"*",(w[L]=w[L]||[]).unshift(O)):(w[L]=w[L]||[]).push(O)}}function vr(w,I,O,L){var W={},G=w===u1;function K(ge){var de;return W[ge]=!0,g.each(w[ge]||[],function(De,Ve){var Ye=Ve(I,O,L);if(typeof Ye=="string"&&!G&&!W[Ye])return I.dataTypes.unshift(Ye),K(Ye),!1;if(G)return!(de=Ye)}),de}return K(I.dataTypes[0])||!W["*"]&&K("*")}function lr(w,I){var O,L,W=g.ajaxSettings.flatOptions||{};for(O in I)I[O]!==void 0&&((W[O]?w:L||(L={}))[O]=I[O]);return L&&g.extend(!0,w,L),w}function hw(w,I,O){for(var L,W,G,K,ge=w.contents,de=w.dataTypes;de[0]==="*";)de.shift(),L===void 0&&(L=w.mimeType||I.getResponseHeader("Content-Type"));if(L){for(W in ge)if(ge[W]&&ge[W].test(L)){de.unshift(W);break}}if(de[0]in O)G=de[0];else{for(W in O){if(!de[0]||w.converters[W+" "+de[0]]){G=W;break}K||(K=W)}G=G||K}if(G)return G!==de[0]&&de.unshift(G),O[G]}function pw(w,I,O,L){var W,G,K,ge,de,De={},Ve=w.dataTypes.slice();if(Ve[1])for(K in w.converters)De[K.toLowerCase()]=w.converters[K];for(G=Ve.shift();G;)if(w.responseFields[G]&&(O[w.responseFields[G]]=I),!de&&L&&w.dataFilter&&(I=w.dataFilter(I,w.dataType)),de=G,G=Ve.shift(),G){if(G==="*")G=de;else if(de!=="*"&&de!==G){if(K=De[de+" "+G]||De["* "+G],!K){for(W in De)if(ge=W.split(" "),ge[1]===G&&(K=De[de+" "+ge[0]]||De["* "+ge[0]],K)){K===!0?K=De[W]:De[W]!==!0&&(G=ge[0],Ve.unshift(ge[1]));break}}if(K!==!0)if(K&&w.throws)I=K(I);else try{I=K(I)}catch(Ye){return{state:"parsererror",error:K?Ye:"No conversion from "+de+" to "+G}}}}return{state:"success",data:I}}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rf.href,type:"GET",isLocal:fw.test(Rf.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":n7,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(w,I){return I?lr(lr(w,g.ajaxSettings),I):lr(g.ajaxSettings,w)},ajaxPrefilter:r7(t7),ajaxTransport:r7(u1),ajax:function(w,I){typeof w=="object"&&(I=w,w=void 0),I=I||{};var O,L,W,G,K,ge,de,De,Ve,Ye,Ne=g.ajaxSetup({},I),He=Ne.context||Ne,$t=Ne.context&&(He.nodeType||He.jquery)?g(He):g.event,nn=g.Deferred(),bt=g.Callbacks("once memory"),ti=Ne.statusCode||{},ni={},Cn={},En="canceled",Jt={readyState:0,getResponseHeader:function($n){var Hr;if(de){if(!G)for(G={};Hr=uw.exec(W);)G[Hr[1].toLowerCase()+" "]=(G[Hr[1].toLowerCase()+" "]||[]).concat(Hr[2]);Hr=G[$n.toLowerCase()+" "]}return Hr==null?null:Hr.join(", ")},getAllResponseHeaders:function(){return de?W:null},setRequestHeader:function($n,Hr){return de==null&&($n=Cn[$n.toLowerCase()]=Cn[$n.toLowerCase()]||$n,ni[$n]=Hr),this},overrideMimeType:function($n){return de==null&&(Ne.mimeType=$n),this},statusCode:function($n){var Hr;if($n)if(de)Jt.always($n[Jt.status]);else for(Hr in $n)ti[Hr]=[ti[Hr],$n[Hr]];return this},abort:function($n){var Hr=$n||En;return O&&O.abort(Hr),$o(0,Hr),this}};if(nn.promise(Jt),Ne.url=((w||Ne.url||Rf.href)+"").replace(c1,Rf.protocol+"//"),Ne.type=I.method||I.type||Ne.method||Ne.type,Ne.dataTypes=(Ne.dataType||"*").toLowerCase().match(se)||[""],Ne.crossDomain==null){ge=b.createElement("a");try{ge.href=Ne.url,ge.href=ge.href,Ne.crossDomain=f1.protocol+"//"+f1.host!=ge.protocol+"//"+ge.host}catch{Ne.crossDomain=!0}}if(Ne.data&&Ne.processData&&typeof Ne.data!="string"&&(Ne.data=g.param(Ne.data,Ne.traditional)),vr(t7,Ne,I,Jt),de)return Jt;De=g.event&&Ne.global,De&&g.active++===0&&g.event.trigger("ajaxStart"),Ne.type=Ne.type.toUpperCase(),Ne.hasContent=!dw.test(Ne.type),L=Ne.url.replace(e7,""),Ne.hasContent?Ne.data&&Ne.processData&&(Ne.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ne.data=Ne.data.replace(lw,"+")):(Ye=Ne.url.slice(L.length),Ne.data&&(Ne.processData||typeof Ne.data=="string")&&(L+=(sg.test(L)?"&":"?")+Ne.data,delete Ne.data),Ne.cache===!1&&(L=L.replace(cw,"$1"),Ye=(sg.test(L)?"&":"?")+"_="+J2.guid+++Ye),Ne.url=L+Ye),Ne.ifModified&&(g.lastModified[L]&&Jt.setRequestHeader("If-Modified-Since",g.lastModified[L]),g.etag[L]&&Jt.setRequestHeader("If-None-Match",g.etag[L])),(Ne.data&&Ne.hasContent&&Ne.contentType!==!1||I.contentType)&&Jt.setRequestHeader("Content-Type",Ne.contentType),Jt.setRequestHeader("Accept",Ne.dataTypes[0]&&Ne.accepts[Ne.dataTypes[0]]?Ne.accepts[Ne.dataTypes[0]]+(Ne.dataTypes[0]!=="*"?", "+n7+"; q=0.01":""):Ne.accepts["*"]);for(Ve in Ne.headers)Jt.setRequestHeader(Ve,Ne.headers[Ve]);if(Ne.beforeSend&&(Ne.beforeSend.call(He,Jt,Ne)===!1||de))return Jt.abort();if(En="abort",bt.add(Ne.complete),Jt.done(Ne.success),Jt.fail(Ne.error),O=vr(u1,Ne,I,Jt),!O)$o(-1,"No Transport");else{if(Jt.readyState=1,De&&$t.trigger("ajaxSend",[Jt,Ne]),de)return Jt;Ne.async&&Ne.timeout>0&&(K=e.setTimeout(function(){Jt.abort("timeout")},Ne.timeout));try{de=!1,O.send(ni,$o)}catch($n){if(de)throw $n;$o(-1,$n)}}function $o($n,Hr,Oh,lg){var Oo,Ks,La,Do,Hl,la=Hr;de||(de=!0,K&&e.clearTimeout(K),O=void 0,W=lg||"",Jt.readyState=$n>0?4:0,Oo=$n>=200&&$n<300||$n===304,Oh&&(Do=hw(Ne,Jt,Oh)),!Oo&&g.inArray("script",Ne.dataTypes)>-1&&g.inArray("json",Ne.dataTypes)<0&&(Ne.converters["text script"]=function(){}),Do=pw(Ne,Do,Jt,Oo),Oo?(Ne.ifModified&&(Hl=Jt.getResponseHeader("Last-Modified"),Hl&&(g.lastModified[L]=Hl),Hl=Jt.getResponseHeader("etag"),Hl&&(g.etag[L]=Hl)),$n===204||Ne.type==="HEAD"?la="nocontent":$n===304?la="notmodified":(la=Do.state,Ks=Do.data,La=Do.error,Oo=!La)):(La=la,($n||!la)&&(la="error",$n<0&&($n=0))),Jt.status=$n,Jt.statusText=(Hr||la)+"",Oo?nn.resolveWith(He,[Ks,la,Jt]):nn.rejectWith(He,[Jt,la,La]),Jt.statusCode(ti),ti=void 0,De&&$t.trigger(Oo?"ajaxSuccess":"ajaxError",[Jt,Ne,Oo?Ks:La]),bt.fireWith(He,[Jt,la]),De&&($t.trigger("ajaxComplete",[Jt,Ne]),--g.active||g.event.trigger("ajaxStop")))}return Jt},getJSON:function(w,I,O){return g.get(w,I,O,"json")},getScript:function(w,I){return g.get(w,void 0,I,"script")}}),g.each(["get","post"],function(w,I){g[I]=function(O,L,W,G){return v(L)&&(G=G||W,W=L,L=void 0),g.ajax(g.extend({url:O,type:I,dataType:G,data:L,success:W},g.isPlainObject(O)&&O))}}),g.ajaxPrefilter(function(w){var I;for(I in w.headers)I.toLowerCase()==="content-type"&&(w.contentType=w.headers[I]||"")}),g._evalUrl=function(w,I,O){return g.ajax({url:w,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(L){g.globalEval(L,I,O)}})},g.fn.extend({wrapAll:function(w){var I;return this[0]&&(v(w)&&(w=w.call(this[0])),I=g(w,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&I.insertBefore(this[0]),I.map(function(){for(var O=this;O.firstElementChild;)O=O.firstElementChild;return O}).append(this)),this},wrapInner:function(w){return v(w)?this.each(function(I){g(this).wrapInner(w.call(this,I))}):this.each(function(){var I=g(this),O=I.contents();O.length?O.wrapAll(w):I.append(w)})},wrap:function(w){var I=v(w);return this.each(function(O){g(this).wrapAll(I?w.call(this,O):w)})},unwrap:function(w){return this.parent(w).not("body").each(function(){g(this).replaceWith(this.childNodes)}),this}}),g.expr.pseudos.hidden=function(w){return!g.expr.pseudos.visible(w)},g.expr.pseudos.visible=function(w){return!!(w.offsetWidth||w.offsetHeight||w.getClientRects().length)},g.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var mw={0:200,1223:204},$h=g.ajaxSettings.xhr();m.cors=!!$h&&"withCredentials"in $h,m.ajax=$h=!!$h,g.ajaxTransport(function(w){var I,O;if(m.cors||$h&&!w.crossDomain)return{send:function(L,W){var G,K=w.xhr();if(K.open(w.type,w.url,w.async,w.username,w.password),w.xhrFields)for(G in w.xhrFields)K[G]=w.xhrFields[G];w.mimeType&&K.overrideMimeType&&K.overrideMimeType(w.mimeType),!w.crossDomain&&!L["X-Requested-With"]&&(L["X-Requested-With"]="XMLHttpRequest");for(G in L)K.setRequestHeader(G,L[G]);I=function(ge){return function(){I&&(I=O=K.onload=K.onerror=K.onabort=K.ontimeout=K.onreadystatechange=null,ge==="abort"?K.abort():ge==="error"?typeof K.status!="number"?W(0,"error"):W(K.status,K.statusText):W(mw[K.status]||K.status,K.statusText,(K.responseType||"text")!=="text"||typeof K.responseText!="string"?{binary:K.response}:{text:K.responseText},K.getAllResponseHeaders()))}},K.onload=I(),O=K.onerror=K.ontimeout=I("error"),K.onabort!==void 0?K.onabort=O:K.onreadystatechange=function(){K.readyState===4&&e.setTimeout(function(){I&&O()})},I=I("abort");try{K.send(w.hasContent&&w.data||null)}catch(ge){if(I)throw ge}},abort:function(){I&&I()}}}),g.ajaxPrefilter(function(w){w.crossDomain&&(w.contents.script=!1)}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(w){return g.globalEval(w),w}}}),g.ajaxPrefilter("script",function(w){w.cache===void 0&&(w.cache=!1),w.crossDomain&&(w.type="GET")}),g.ajaxTransport("script",function(w){if(w.crossDomain||w.scriptAttrs){var I,O;return{send:function(L,W){I=g("<script>").attr(w.scriptAttrs||{}).prop({charset:w.scriptCharset,src:w.url}).on("load error",O=function(G){I.remove(),O=null,G&&W(G.type==="error"?404:200,G.type)}),b.head.appendChild(I[0])},abort:function(){O&&O()}}}});var i7=[],d1=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var w=i7.pop()||g.expando+"_"+J2.guid++;return this[w]=!0,w}}),g.ajaxPrefilter("json jsonp",function(w,I,O){var L,W,G,K=w.jsonp!==!1&&(d1.test(w.url)?"url":typeof w.data=="string"&&(w.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&d1.test(w.data)&&"data");if(K||w.dataTypes[0]==="jsonp")return L=w.jsonpCallback=v(w.jsonpCallback)?w.jsonpCallback():w.jsonpCallback,K?w[K]=w[K].replace(d1,"$1"+L):w.jsonp!==!1&&(w.url+=(sg.test(w.url)?"&":"?")+w.jsonp+"="+L),w.converters["script json"]=function(){return G||g.error(L+" was not called"),G[0]},w.dataTypes[0]="json",W=e[L],e[L]=function(){G=arguments},O.always(function(){W===void 0?g(e).removeProp(L):e[L]=W,w[L]&&(w.jsonpCallback=I.jsonpCallback,i7.push(L)),G&&v(W)&&W(G[0]),G=W=void 0}),"script"}),m.createHTMLDocument=function(){var w=b.implementation.createHTMLDocument("").body;return w.innerHTML="<form></form><form></form>",w.childNodes.length===2}(),g.parseHTML=function(w,I,O){if(typeof w!="string")return[];typeof I=="boolean"&&(O=I,I=!1);var L,W,G;return I||(m.createHTMLDocument?(I=b.implementation.createHTMLDocument(""),L=I.createElement("base"),L.href=b.location.href,I.head.appendChild(L)):I=b),W=R.exec(w),G=!O&&[],W?[I.createElement(W[1])]:(W=Tu([w],I,G),G&&G.length&&g(G).remove(),g.merge([],W.childNodes))},g.fn.load=function(w,I,O){var L,W,G,K=this,ge=w.indexOf(" ");return ge>-1&&(L=Pu(w.slice(ge)),w=w.slice(0,ge)),v(I)?(O=I,I=void 0):I&&typeof I=="object"&&(W="POST"),K.length>0&&g.ajax({url:w,type:W||"GET",dataType:"html",data:I}).done(function(de){G=arguments,K.html(L?g("<div>").append(g.parseHTML(de)).find(L):de)}).always(O&&function(de,De){K.each(function(){O.apply(this,G||[de.responseText,De,de])})}),this},g.expr.pseudos.animated=function(w){return g.grep(g.timers,function(I){return w===I.elem}).length},g.offset={setOffset:function(w,I,O){var L,W,G,K,ge,de,De,Ve=g.css(w,"position"),Ye=g(w),Ne={};Ve==="static"&&(w.style.position="relative"),ge=Ye.offset(),G=g.css(w,"top"),de=g.css(w,"left"),De=(Ve==="absolute"||Ve==="fixed")&&(G+de).indexOf("auto")>-1,De?(L=Ye.position(),K=L.top,W=L.left):(K=parseFloat(G)||0,W=parseFloat(de)||0),v(I)&&(I=I.call(w,O,g.extend({},ge))),I.top!=null&&(Ne.top=I.top-ge.top+K),I.left!=null&&(Ne.left=I.left-ge.left+W),"using"in I?I.using.call(w,Ne):Ye.css(Ne)}},g.fn.extend({offset:function(w){if(arguments.length)return w===void 0?this:this.each(function(W){g.offset.setOffset(this,w,W)});var I,O,L=this[0];if(L)return L.getClientRects().length?(I=L.getBoundingClientRect(),O=L.ownerDocument.defaultView,{top:I.top+O.pageYOffset,left:I.left+O.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var w,I,O,L=this[0],W={top:0,left:0};if(g.css(L,"position")==="fixed")I=L.getBoundingClientRect();else{for(I=this.offset(),O=L.ownerDocument,w=L.offsetParent||O.documentElement;w&&(w===O.body||w===O.documentElement)&&g.css(w,"position")==="static";)w=w.parentNode;w&&w!==L&&w.nodeType===1&&(W=g(w).offset(),W.top+=g.css(w,"borderTopWidth",!0),W.left+=g.css(w,"borderLeftWidth",!0))}return{top:I.top-W.top-g.css(L,"marginTop",!0),left:I.left-W.left-g.css(L,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var w=this.offsetParent;w&&g.css(w,"position")==="static";)w=w.offsetParent;return w||Qe})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(w,I){var O=I==="pageYOffset";g.fn[w]=function(L){return ce(this,function(W,G,K){var ge;if(k(W)?ge=W:W.nodeType===9&&(ge=W.defaultView),K===void 0)return ge?ge[I]:W[G];ge?ge.scrollTo(O?ge.pageXOffset:K,O?K:ge.pageYOffset):W[G]=K},w,L,arguments.length)}}),g.each(["top","left"],function(w,I){g.cssHooks[I]=Nr(m.pixelPosition,function(O,L){if(L)return L=qn(O,I),Me.test(L)?g(O).position()[I]+"px":L})}),g.each({Height:"height",Width:"width"},function(w,I){g.each({padding:"inner"+w,content:I,"":"outer"+w},function(O,L){g.fn[L]=function(W,G){var K=arguments.length&&(O||typeof W!="boolean"),ge=O||(W===!0||G===!0?"margin":"border");return ce(this,function(de,De,Ve){var Ye;return k(de)?L.indexOf("outer")===0?de["inner"+w]:de.document.documentElement["client"+w]:de.nodeType===9?(Ye=de.documentElement,Math.max(de.body["scroll"+w],Ye["scroll"+w],de.body["offset"+w],Ye["offset"+w],Ye["client"+w])):Ve===void 0?g.css(de,De,ge):g.style(de,De,Ve,ge)},I,K?W:void 0,K)}})}),g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(w,I){g.fn[I]=function(O){return this.on(I,O)}}),g.fn.extend({bind:function(w,I,O){return this.on(w,null,I,O)},unbind:function(w,I){return this.off(w,null,I)},delegate:function(w,I,O,L){return this.on(I,w,O,L)},undelegate:function(w,I,O){return arguments.length===1?this.off(w,"**"):this.off(I,w||"**",O)},hover:function(w,I){return this.mouseenter(w).mouseleave(I||w)}}),g.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(w,I){g.fn[I]=function(O,L){return arguments.length>0?this.on(I,null,O,L):this.trigger(I)}});var o7=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;g.proxy=function(w,I){var O,L,W;if(typeof I=="string"&&(O=w[I],I=w,w=O),!!v(w))return L=o.call(arguments,2),W=function(){return w.apply(I||this,L.concat(o.call(arguments)))},W.guid=w.guid=w.guid||g.guid++,W},g.holdReady=function(w){w?g.readyWait++:g.ready(!0)},g.isArray=Array.isArray,g.parseJSON=JSON.parse,g.nodeName=z,g.isFunction=v,g.isWindow=k,g.camelCase=Y,g.type=C,g.now=Date.now,g.isNumeric=function(w){var I=g.type(w);return(I==="number"||I==="string")&&!isNaN(w-parseFloat(w))},g.trim=function(w){return w==null?"":(w+"").replace(o7,"$1")};var gw=e.jQuery,Gi=e.$;return g.noConflict=function(w){return e.$===g&&(e.$=Gi),w&&e.jQuery===g&&(e.jQuery=gw),g},typeof n>"u"&&(e.jQuery=e.$=g),g})})(Eae);var $ae=Eae.exports;const Rn=pr($ae);(function(t){(function(e){var n=typeof self=="object"&&self.self===self&&self||typeof ui=="object"&&ui.global===ui&&ui;{var r=yNe,i;try{i=$ae}catch{}e(n,t,r,i)}})(function(e,n,r,i){var o=e.Backbone,a=Array.prototype.slice;n.VERSION="1.4.1",n.$=i,n.noConflict=function(){return e.Backbone=o,this},n.emulateHTTP=!1,n.emulateJSON=!1;var s=n.Events={},l=/\s+/,c,u=function(E,M,H,Q,be){var me=0,Fe;if(H&&typeof H=="object")for(Q!==void 0&&("context"in be)&&be.context===void 0&&(be.context=Q),Fe=r.keys(H);me<Fe.length;me++)M=u(E,M,Fe[me],H[Fe[me]],be);else if(H&&l.test(H))for(Fe=H.split(l);me<Fe.length;me++)M=E(M,Fe[me],Q,be);else M=E(M,H,Q,be);return M};s.on=function(E,M,H){if(this._events=u(f,this._events||{},E,M,{context:H,ctx:this,listening:c}),c){var Q=this._listeners||(this._listeners={});Q[c.id]=c,c.interop=!1}return this},s.listenTo=function(E,M,H){if(!E)return this;var Q=E._listenId||(E._listenId=r.uniqueId("l")),be=this._listeningTo||(this._listeningTo={}),me=c=be[Q];me||(this._listenId||(this._listenId=r.uniqueId("l")),me=c=be[Q]=new b(this,E));var Fe=d(E,M,H,this);if(c=void 0,Fe)throw Fe;return me.interop&&me.on(M,H),this};var f=function(E,M,H,Q){if(H){var be=E[M]||(E[M]=[]),me=Q.context,Fe=Q.ctx,Le=Q.listening;Le&&Le.count++,be.push({callback:H,context:me,ctx:me||Fe,listening:Le})}return E},d=function(E,M,H,Q){try{E.on(M,H,Q)}catch(be){return be}};s.off=function(E,M,H){return this._events?(this._events=u(h,this._events,E,M,{context:H,listeners:this._listeners}),this):this},s.stopListening=function(E,M,H){var Q=this._listeningTo;if(!Q)return this;for(var be=E?[E._listenId]:r.keys(Q),me=0;me<be.length;me++){var Fe=Q[be[me]];if(!Fe)break;Fe.obj.off(M,H,this),Fe.interop&&Fe.off(M,H)}return r.isEmpty(Q)&&(this._listeningTo=void 0),this};var h=function(E,M,H,Q){if(E){var be=Q.context,me=Q.listeners,Fe=0,Le;if(!M&&!be&&!H){for(Le=r.keys(me);Fe<Le.length;Fe++)me[Le[Fe]].cleanup();return}for(Le=M?[M]:r.keys(E);Fe<Le.length;Fe++){M=Le[Fe];var tt=E[M];if(!tt)break;for(var Ke=[],et=0;et<tt.length;et++){var Qe=tt[et];if(H&&H!==Qe.callback&&H!==Qe.callback._callback||be&&be!==Qe.context)Ke.push(Qe);else{var pt=Qe.listening;pt&&pt.off(M,H)}}Ke.length?E[M]=Ke:delete E[M]}return E}};s.once=function(E,M,H){var Q=u(m,{},E,M,this.off.bind(this));return typeof E=="string"&&H==null&&(M=void 0),this.on(Q,M,H)},s.listenToOnce=function(E,M,H){var Q=u(m,{},M,H,this.stopListening.bind(this,E));return this.listenTo(E,Q)};var m=function(E,M,H,Q){if(H){var be=E[M]=r.once(function(){Q(M,be),H.apply(this,arguments)});be._callback=H}return E};s.trigger=function(E){if(!this._events)return this;for(var M=Math.max(0,arguments.length-1),H=Array(M),Q=0;Q<M;Q++)H[Q]=arguments[Q+1];return u(v,this._events,E,void 0,H),this};var v=function(E,M,H,Q){if(E){var be=E[M],me=E.all;be&&me&&(me=me.slice()),be&&k(be,Q),me&&k(me,[M].concat(Q))}return E},k=function(E,M){var H,Q=-1,be=E.length,me=M[0],Fe=M[1],Le=M[2];switch(M.length){case 0:for(;++Q<be;)(H=E[Q]).callback.call(H.ctx);return;case 1:for(;++Q<be;)(H=E[Q]).callback.call(H.ctx,me);return;case 2:for(;++Q<be;)(H=E[Q]).callback.call(H.ctx,me,Fe);return;case 3:for(;++Q<be;)(H=E[Q]).callback.call(H.ctx,me,Fe,Le);return;default:for(;++Q<be;)(H=E[Q]).callback.apply(H.ctx,M);return}},b=function(E,M){this.id=E._listenId,this.listener=E,this.obj=M,this.interop=!0,this.count=0,this._events=void 0};b.prototype.on=s.on,b.prototype.off=function(E,M){var H;this.interop?(this._events=u(h,this._events,E,M,{context:void 0,listeners:void 0}),H=!this._events):(this.count--,H=this.count===0),H&&this.cleanup()},b.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,r.extend(n,s);var _=n.Model=function(E,M){var H=E||{};M||(M={}),this.preinitialize.apply(this,arguments),this.cid=r.uniqueId(this.cidPrefix),this.attributes={},M.collection&&(this.collection=M.collection),M.parse&&(H=this.parse(H,M)||{});var Q=r.result(this,"defaults");H=r.defaults(r.extend({},Q,H),Q),this.set(H,M),this.changed={},this.initialize.apply(this,arguments)};r.extend(_.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(E){return r.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(E){return this.attributes[E]},escape:function(E){return r.escape(this.get(E))},has:function(E){return this.get(E)!=null},matches:function(E){return!!r.iteratee(E,this)(this.attributes)},set:function(E,M,H){if(E==null)return this;var Q;if(typeof E=="object"?(Q=E,H=M):(Q={})[E]=M,H||(H={}),!this._validate(Q,H))return!1;var be=H.unset,me=H.silent,Fe=[],Le=this._changing;this._changing=!0,Le||(this._previousAttributes=r.clone(this.attributes),this.changed={});var tt=this.attributes,Ke=this.changed,et=this._previousAttributes;for(var Qe in Q)M=Q[Qe],r.isEqual(tt[Qe],M)||Fe.push(Qe),r.isEqual(et[Qe],M)?delete Ke[Qe]:Ke[Qe]=M,be?delete tt[Qe]:tt[Qe]=M;if(this.idAttribute in Q){var pt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,pt,H)}if(!me){Fe.length&&(this._pending=H);for(var Rt=0;Rt<Fe.length;Rt++)this.trigger("change:"+Fe[Rt],this,tt[Fe[Rt]],H)}if(Le)return this;if(!me)for(;this._pending;)H=this._pending,this._pending=!1,this.trigger("change",this,H);return this._pending=!1,this._changing=!1,this},unset:function(E,M){return this.set(E,void 0,r.extend({},M,{unset:!0}))},clear:function(E){var M={};for(var H in this.attributes)M[H]=void 0;return this.set(M,r.extend({},E,{unset:!0}))},hasChanged:function(E){return E==null?!r.isEmpty(this.changed):r.has(this.changed,E)},changedAttributes:function(E){if(!E)return this.hasChanged()?r.clone(this.changed):!1;var M=this._changing?this._previousAttributes:this.attributes,H={},Q;for(var be in E){var me=E[be];r.isEqual(M[be],me)||(H[be]=me,Q=!0)}return Q?H:!1},previous:function(E){return E==null||!this._previousAttributes?null:this._previousAttributes[E]},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(E){E=r.extend({parse:!0},E);var M=this,H=E.success;return E.success=function(Q){var be=E.parse?M.parse(Q,E):Q;if(!M.set(be,E))return!1;H&&H.call(E.context,M,Q,E),M.trigger("sync",M,Q,E)},Y(this,E),this.sync("read",this,E)},save:function(E,M,H){var Q;E==null||typeof E=="object"?(Q=E,H=M):(Q={})[E]=M,H=r.extend({validate:!0,parse:!0},H);var be=H.wait;if(Q&&!be){if(!this.set(Q,H))return!1}else if(!this._validate(Q,H))return!1;var me=this,Fe=H.success,Le=this.attributes;H.success=function(et){me.attributes=Le;var Qe=H.parse?me.parse(et,H):et;if(be&&(Qe=r.extend({},Q,Qe)),Qe&&!me.set(Qe,H))return!1;Fe&&Fe.call(H.context,me,et,H),me.trigger("sync",me,et,H)},Y(this,H),Q&&be&&(this.attributes=r.extend({},Le,Q));var tt=this.isNew()?"create":H.patch?"patch":"update";tt==="patch"&&!H.attrs&&(H.attrs=Q);var Ke=this.sync(tt,this,H);return this.attributes=Le,Ke},destroy:function(E){E=E?r.clone(E):{};var M=this,H=E.success,Q=E.wait,be=function(){M.stopListening(),M.trigger("destroy",M,M.collection,E)};E.success=function(Fe){Q&&be(),H&&H.call(E.context,M,Fe,E),M.isNew()||M.trigger("sync",M,Fe,E)};var me=!1;return this.isNew()?r.defer(E.success):(Y(this,E),me=this.sync("delete",this,E)),Q||be(),me},url:function(){var E=r.result(this,"urlRoot")||r.result(this.collection,"url")||B();if(this.isNew())return E;var M=this.get(this.idAttribute);return E.replace(/[^\/]$/,"$&/")+encodeURIComponent(M)},parse:function(E,M){return E},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(E){return this._validate({},r.extend({},E,{validate:!0}))},_validate:function(E,M){if(!M.validate||!this.validate)return!0;E=r.extend({},this.attributes,E);var H=this.validationError=this.validate(E,M)||null;return H?(this.trigger("invalid",this,H,r.extend(M,{validationError:H})),!1):!0}});var x=n.Collection=function(E,M){M||(M={}),this.preinitialize.apply(this,arguments),M.model&&(this.model=M.model),M.comparator!==void 0&&(this.comparator=M.comparator),this._reset(),this.initialize.apply(this,arguments),E&&this.reset(E,r.extend({silent:!0},M))},C={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},g=function(E,M,H){H=Math.min(Math.max(H,0),E.length);var Q=Array(E.length-H),be=M.length,me;for(me=0;me<Q.length;me++)Q[me]=E[me+H];for(me=0;me<be;me++)E[me+H]=M[me];for(me=0;me<Q.length;me++)E[me+be+H]=Q[me]};r.extend(x.prototype,s,{model:_,preinitialize:function(){},initialize:function(){},toJSON:function(E){return this.map(function(M){return M.toJSON(E)})},sync:function(){return n.sync.apply(this,arguments)},add:function(E,M){return this.set(E,r.extend({merge:!1},M,S))},remove:function(E,M){M=r.extend({},M);var H=!r.isArray(E);E=H?[E]:E.slice();var Q=this._removeModels(E,M);return!M.silent&&Q.length&&(M.changes={added:[],merged:[],removed:Q},this.trigger("update",this,M)),H?Q[0]:Q},set:function(E,M){if(E!=null){M=r.extend({},C,M),M.parse&&!this._isModel(E)&&(E=this.parse(E,M)||[]);var H=!r.isArray(E);E=H?[E]:E.slice();var Q=M.at;Q!=null&&(Q=+Q),Q>this.length&&(Q=this.length),Q<0&&(Q+=this.length+1);var be=[],me=[],Fe=[],Le=[],tt={},Ke=M.add,et=M.merge,Qe=M.remove,pt=!1,Rt=this.comparator&&Q==null&&M.sort!==!1,Xt=r.isString(this.comparator)?this.comparator:null,wt,sn;for(sn=0;sn<E.length;sn++){wt=E[sn];var mr=this.get(wt);if(mr){if(et&&wt!==mr){var gi=this._isModel(wt)?wt.attributes:wt;M.parse&&(gi=mr.parse(gi,M)),mr.set(gi,M),Fe.push(mr),Rt&&!pt&&(pt=mr.hasChanged(Xt))}tt[mr.cid]||(tt[mr.cid]=!0,be.push(mr)),E[sn]=mr}else Ke&&(wt=E[sn]=this._prepareModel(wt,M),wt&&(me.push(wt),this._addReference(wt,M),tt[wt.cid]=!0,be.push(wt)))}if(Qe){for(sn=0;sn<this.length;sn++)wt=this.models[sn],tt[wt.cid]||Le.push(wt);Le.length&&this._removeModels(Le,M)}var Lr=!1,ho=!Rt&&Ke&&Qe;if(be.length&&ho?(Lr=this.length!==be.length||r.some(this.models,function(Tr,jn){return Tr!==be[jn]}),this.models.length=0,g(this.models,be,0),this.length=this.models.length):me.length&&(Rt&&(pt=!0),g(this.models,me,Q??this.length),this.length=this.models.length),pt&&this.sort({silent:!0}),!M.silent){for(sn=0;sn<me.length;sn++)Q!=null&&(M.index=Q+sn),wt=me[sn],wt.trigger("add",wt,this,M);(pt||Lr)&&this.trigger("sort",this,M),(me.length||Le.length||Fe.length)&&(M.changes={added:me,removed:Le,merged:Fe},this.trigger("update",this,M))}return H?E[0]:E}},reset:function(E,M){M=M?r.clone(M):{};for(var H=0;H<this.models.length;H++)this._removeReference(this.models[H],M);return M.previousModels=this.models,this._reset(),E=this.add(E,r.extend({silent:!0},M)),M.silent||this.trigger("reset",this,M),E},push:function(E,M){return this.add(E,r.extend({at:this.length},M))},pop:function(E){var M=this.at(this.length-1);return this.remove(M,E)},unshift:function(E,M){return this.add(E,r.extend({at:0},M))},shift:function(E){var M=this.at(0);return this.remove(M,E)},slice:function(){return a.apply(this.models,arguments)},get:function(E){if(E!=null)return this._byId[E]||this._byId[this.modelId(this._isModel(E)?E.attributes:E,E.idAttribute)]||E.cid&&this._byId[E.cid]},has:function(E){return this.get(E)!=null},at:function(E){return E<0&&(E+=this.length),this.models[E]},where:function(E,M){return this[M?"find":"filter"](E)},findWhere:function(E){return this.where(E,!0)},sort:function(E){var M=this.comparator;if(!M)throw new Error("Cannot sort a set without a comparator");E||(E={});var H=M.length;return r.isFunction(M)&&(M=M.bind(this)),H===1||r.isString(M)?this.models=this.sortBy(M):this.models.sort(M),E.silent||this.trigger("sort",this,E),this},pluck:function(E){return this.map(E+"")},fetch:function(E){E=r.extend({parse:!0},E);var M=E.success,H=this;return E.success=function(Q){var be=E.reset?"reset":"set";H[be](Q,E),M&&M.call(E.context,H,Q,E),H.trigger("sync",H,Q,E)},Y(this,E),this.sync("read",this,E)},create:function(E,M){M=M?r.clone(M):{};var H=M.wait;if(E=this._prepareModel(E,M),!E)return!1;H||this.add(E,M);var Q=this,be=M.success;return M.success=function(me,Fe,Le){H&&Q.add(me,Le),be&&be.call(Le.context,me,Fe,Le)},E.save(null,M),E},parse:function(E,M){return E},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(E,M){return E[M||this.model.prototype.idAttribute||"id"]},values:function(){return new P(this,$)},keys:function(){return new P(this,F)},entries:function(){return new P(this,D)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(E,M){if(this._isModel(E))return E.collection||(E.collection=this),E;M=M?r.clone(M):{},M.collection=this;var H;return this.model.prototype?H=new this.model(E,M):H=this.model(E,M),H.validationError?(this.trigger("invalid",this,H.validationError,M),!1):H},_removeModels:function(E,M){for(var H=[],Q=0;Q<E.length;Q++){var be=this.get(E[Q]);if(be){var me=this.indexOf(be);this.models.splice(me,1),this.length--,delete this._byId[be.cid];var Fe=this.modelId(be.attributes,be.idAttribute);Fe!=null&&delete this._byId[Fe],M.silent||(M.index=me,be.trigger("remove",be,this,M)),H.push(be),this._removeReference(be,M)}}return H},_isModel:function(E){return E instanceof _},_addReference:function(E,M){this._byId[E.cid]=E;var H=this.modelId(E.attributes,E.idAttribute);H!=null&&(this._byId[H]=E),E.on("all",this._onModelEvent,this)},_removeReference:function(E,M){delete this._byId[E.cid];var H=this.modelId(E.attributes,E.idAttribute);H!=null&&delete this._byId[H],this===E.collection&&delete E.collection,E.off("all",this._onModelEvent,this)},_onModelEvent:function(E,M,H,Q){if(M){if((E==="add"||E==="remove")&&H!==this)return;if(E==="destroy"&&this.remove(M,Q),E==="changeId"){var be=this.modelId(M.previousAttributes(),M.idAttribute),me=this.modelId(M.attributes,M.idAttribute);be!=null&&delete this._byId[be],me!=null&&(this._byId[me]=M)}}this.trigger.apply(this,arguments)}});var T=typeof Symbol=="function"&&Symbol.iterator;T&&(x.prototype[T]=x.prototype.values);var P=function(E,M){this._collection=E,this._kind=M,this._index=0},$=1,F=2,D=3;T&&(P.prototype[T]=function(){return this}),P.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var E=this._collection.at(this._index);this._index++;var M;if(this._kind===$)M=E;else{var H=this._collection.modelId(E.attributes,E.idAttribute);this._kind===F?M=H:M=[H,E]}return{value:M,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var z=n.View=function(E){this.cid=r.uniqueId("view"),this.preinitialize.apply(this,arguments),r.extend(this,r.pick(E,V)),this._ensureElement(),this.initialize.apply(this,arguments)},R=/^(\S+)\s*(.*)$/,V=["model","collection","el","id","attributes","className","tagName","events"];r.extend(z.prototype,s,{tagName:"div",$:function(E){return this.$el.find(E)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(E){return this.undelegateEvents(),this._setElement(E),this.delegateEvents(),this},_setElement:function(E){this.$el=E instanceof n.$?E:n.$(E),this.el=this.$el[0]},delegateEvents:function(E){if(E||(E=r.result(this,"events")),!E)return this;this.undelegateEvents();for(var M in E){var H=E[M];if(r.isFunction(H)||(H=this[H]),!!H){var Q=M.match(R);this.delegate(Q[1],Q[2],H.bind(this))}}return this},delegate:function(E,M,H){return this.$el.on(E+".delegateEvents"+this.cid,M,H),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(E,M,H){return this.$el.off(E+".delegateEvents"+this.cid,M,H),this},_createElement:function(E){return document.createElement(E)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var E=r.extend({},r.result(this,"attributes"));this.id&&(E.id=r.result(this,"id")),this.className&&(E.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(E)}},_setAttributes:function(E){this.$el.attr(E)}});var ie=function(E,M,H,Q){switch(M){case 1:return function(){return E[H](this[Q])};case 2:return function(be){return E[H](this[Q],be)};case 3:return function(be,me){return E[H](this[Q],_e(be,this),me)};case 4:return function(be,me,Fe){return E[H](this[Q],_e(be,this),me,Fe)};default:return function(){var be=a.call(arguments);return be.unshift(this[Q]),E[H].apply(E,be)}}},oe=function(E,M,H,Q){r.each(H,function(be,me){M[me]&&(E.prototype[me]=ie(M,be,me,Q))})},_e=function(E,M){return r.isFunction(E)?E:r.isObject(E)&&!M._isModel(E)?Ae(E):r.isString(E)?function(H){return H.get(E)}:E},Ae=function(E){var M=r.matches(E);return function(H){return M(H.attributes)}},Ie={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ke={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r.each([[x,Ie,"models"],[_,ke,"attributes"]],function(E){var M=E[0],H=E[1],Q=E[2];M.mixin=function(be){var me=r.reduce(r.functions(be),function(Fe,Le){return Fe[Le]=0,Fe},{});oe(M,be,me,Q)},oe(M,r,H,Q)}),n.sync=function(E,M,H){var Q=se[E];r.defaults(H||(H={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var be={type:Q,dataType:"json"};if(H.url||(be.url=r.result(M,"url")||B()),H.data==null&&M&&(E==="create"||E==="update"||E==="patch")&&(be.contentType="application/json",be.data=JSON.stringify(H.attrs||M.toJSON(H))),H.emulateJSON&&(be.contentType="application/x-www-form-urlencoded",be.data=be.data?{model:be.data}:{}),H.emulateHTTP&&(Q==="PUT"||Q==="DELETE"||Q==="PATCH")){be.type="POST",H.emulateJSON&&(be.data._method=Q);var me=H.beforeSend;H.beforeSend=function(tt){if(tt.setRequestHeader("X-HTTP-Method-Override",Q),me)return me.apply(this,arguments)}}be.type!=="GET"&&!H.emulateJSON&&(be.processData=!1);var Fe=H.error;H.error=function(tt,Ke,et){H.textStatus=Ke,H.errorThrown=et,Fe&&Fe.call(H.context,tt,Ke,et)};var Le=H.xhr=n.ajax(r.extend(be,H));return M.trigger("request",M,Le,H),Le};var se={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var ne=n.Router=function(E){E||(E={}),this.preinitialize.apply(this,arguments),E.routes&&(this.routes=E.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},J=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,U=/\*\w+/g,ae=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(ne.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(E,M,H){r.isRegExp(E)||(E=this._routeToRegExp(E)),r.isFunction(M)&&(H=M,M=""),H||(H=this[M]);var Q=this;return n.history.route(E,function(be){var me=Q._extractParameters(E,be);Q.execute(H,me,M)!==!1&&(Q.trigger.apply(Q,["route:"+M].concat(me)),Q.trigger("route",M,me),n.history.trigger("route",Q,M,me))}),this},execute:function(E,M,H){E&&E.apply(this,M)},navigate:function(E,M){return n.history.navigate(E,M),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var E,M=r.keys(this.routes);(E=M.pop())!=null;)this.route(E,this.routes[E])}},_routeToRegExp:function(E){return E=E.replace(ae,"\\$&").replace(J,"(?:$1)?").replace(j,function(M,H){return H?M:"([^/?]+)"}).replace(U,"([^?]*?)"),new RegExp("^"+E+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(E,M){var H=E.exec(M).slice(1);return r.map(H,function(Q,be){return be===H.length-1?Q||null:Q?decodeURIComponent(Q):null})}});var te=n.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ue=/^[#\/]|\s+$/g,ce=/^\/+|\/+$/g,fe=/#.*$/;te.started=!1,r.extend(te.prototype,s,{interval:50,atRoot:function(){var E=this.location.pathname.replace(/[^\/]$/,"$&/");return E===this.root&&!this.getSearch()},matchRoot:function(){var E=this.decodeFragment(this.location.pathname),M=E.slice(0,this.root.length-1)+"/";return M===this.root},decodeFragment:function(E){return decodeURI(E.replace(/%25/g,"%2525"))},getSearch:function(){var E=this.location.href.replace(/#.*/,"").match(/\?.+/);return E?E[0]:""},getHash:function(E){var M=(E||this).location.href.match(/#(.*)$/);return M?M[1]:""},getPath:function(){var E=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return E.charAt(0)==="/"?E.slice(1):E},getFragment:function(E){return E==null&&(this._usePushState||!this._wantsHashChange?E=this.getPath():E=this.getHash()),E.replace(ue,"")},start:function(E){if(te.started)throw new Error("Backbone.history has already been started");if(te.started=!0,this.options=r.extend({root:"/"},this.options,E),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ce,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var M=this.root.slice(0,-1)||"/";return this.location.replace(M+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var H=document.body,Q=H.insertBefore(this.iframe,H.firstChild).contentWindow;Q.document.open(),Q.document.close(),Q.location.hash="#"+this.fragment}var be=window.addEventListener||function(me,Fe){return attachEvent("on"+me,Fe)};if(this._usePushState?be("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?be("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var E=window.removeEventListener||function(M,H){return detachEvent("on"+M,H)};this._usePushState?E("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&E("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),te.started=!1},route:function(E,M){this.handlers.unshift({route:E,callback:M})},checkUrl:function(E){var M=this.getFragment();if(M===this.fragment&&this.iframe&&(M=this.getHash(this.iframe.contentWindow)),M===this.fragment)return!1;this.iframe&&this.navigate(M),this.loadUrl()},loadUrl:function(E){return this.matchRoot()?(E=this.fragment=this.getFragment(E),r.some(this.handlers,function(M){if(M.route.test(E))return M.callback(E),!0})):!1},navigate:function(E,M){if(!te.started)return!1;(!M||M===!0)&&(M={trigger:!!M}),E=this.getFragment(E||"");var H=this.root;(E===""||E.charAt(0)==="?")&&(H=H.slice(0,-1)||"/");var Q=H+E;E=E.replace(fe,"");var be=this.decodeFragment(E);if(this.fragment!==be){if(this.fragment=be,this._usePushState)this.history[M.replace?"replaceState":"pushState"]({},document.title,Q);else if(this._wantsHashChange){if(this._updateHash(this.location,E,M.replace),this.iframe&&E!==this.getHash(this.iframe.contentWindow)){var me=this.iframe.contentWindow;M.replace||(me.document.open(),me.document.close()),this._updateHash(me.location,E,M.replace)}}else return this.location.assign(Q);if(M.trigger)return this.loadUrl(E)}},_updateHash:function(E,M,H){if(H){var Q=E.href.replace(/(javascript:|#).*$/,"");E.replace(Q+"#"+M)}else E.hash="#"+M}}),n.history=new te;var ve=function(E,M){var H=this,Q;return E&&r.has(E,"constructor")?Q=E.constructor:Q=function(){return H.apply(this,arguments)},r.extend(Q,H,M),Q.prototype=r.create(H.prototype,E),Q.prototype.constructor=Q,Q.__super__=H.prototype,Q};_.extend=x.extend=ne.extend=z.extend=te.extend=ve;var B=function(){throw new Error('A "url" property or function must be specified')},Y=function(E,M){var H=M.error;M.error=function(Q){H&&H.call(M.context,E,Q,M),E.trigger("error",E,Q,M)}};return n})})(roe);const Go=pr(roe),kNe=function(){var t=typeof window=="object"&&!!window.SVGAngle;if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,i=r.PI,o=r.atan2,a=r.sqrt,s=r.min,l=r.max,c=r.cos,u=r.sin,f=function(S,g,T){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if(S){if(f.isV(S)&&(S=S.node),g=g||{},f.isString(S)){if(S=S.trim(),S.toLowerCase()==="svg")S=f.createSvgDocument();else if(S[0]==="<"){var P=f.createSvgDocument(S);if(P.childNodes.length>1){var $=[],F,D;for(F=0,D=P.childNodes.length;F<D;F++){var z=P.childNodes[F];$.push(new f(document.importNode(z,!0)))}return $}S=document.importNode(P.firstChild,!0)}else S=document.createElementNS(e.svg,S);f.ensureId(S)}return this.node=S,this.setAttributes(g),T&&this.append(T),this}},d=f.prototype;Object.defineProperty(d,"id",{enumerable:!0,get:function(){return this.node.id},set:function(S){this.node.id=S}}),d.getTransformToElement=function(S){var g=this.node;if(f.isSVGGraphicsElement(S)&&f.isSVGGraphicsElement(g)){var T=f.toNode(S).getScreenCTM(),P=g.getScreenCTM();if(T&&P)return T.inverse().multiply(P)}return f.createSVGMatrix()},d.transform=function(S,g){var T=this.node;if(f.isUndefined(S))return f.transformStringToMatrix(this.attr("transform"));if(g&&g.absolute)return this.attr("transform",f.matrixToTransformString(S));var P=f.createSVGTransform(S);return T.transform.baseVal.appendItem(P),this},d.translate=function(S,g,T){T=T||{},g=g||0;var P=this.attr("transform")||"",$=f.parseTransformString(P);if(P=$.value,f.isUndefined(S))return $.translate;P=P.replace(/translate\([^)]*\)/g,"").trim();var F=T.absolute?S:$.translate.tx+S,D=T.absolute?g:$.translate.ty+g,z="translate("+F+","+D+")";return this.attr("transform",(z+" "+P).trim()),this},d.rotate=function(S,g,T,P){P=P||{};var $=this.attr("transform")||"",F=f.parseTransformString($);if($=F.value,f.isUndefined(S))return F.rotate;$=$.replace(/rotate\([^)]*\)/g,"").trim(),S%=360;var D=P.absolute?S:F.rotate.angle+S,z=g!==void 0&&T!==void 0?","+g+","+T:"",R="rotate("+D+z+")";return this.attr("transform",($+" "+R).trim()),this},d.scale=function(S,g){g=f.isUndefined(g)?S:g;var T=this.attr("transform")||"",P=f.parseTransformString(T);if(T=P.value,f.isUndefined(S))return P.scale;T=T.replace(/scale\([^)]*\)/g,"").trim();var $="scale("+S+","+g+")";return this.attr("transform",(T+" "+$).trim()),this},d.bbox=function(S,g){var T,P=this.node,$=P.ownerSVGElement;if(!$)return new lt(0,0,0,0);try{T=P.getBBox()}catch{T={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(S)return new lt(T);var F=this.getTransformToElement(g||$);return f.transformRect(T,F)},d.getBBox=function(S){var g={},T,P=this.node,$=P.ownerSVGElement;if(!$||!f.isSVGGraphicsElement(P))return new lt(0,0,0,0);if(S&&(S.target&&(g.target=f.toNode(S.target)),S.recursive&&(g.recursive=S.recursive)),g.recursive){var D=this.children(),z=D.length;if(z===0)return this.getBBox({target:g.target,recursive:!1});g.target||(g.target=this);for(var R=0;R<z;R++){var V=D[R],ie;V.children().length===0?ie=V.getBBox({target:g.target,recursive:!1}):ie=V.getBBox({target:g.target,recursive:!0}),T?T=T.union(ie):T=ie}return T}else{try{T=P.getBBox()}catch{T={x:P.clientLeft,y:P.clientTop,width:P.clientWidth,height:P.clientHeight}}if(g.target){var F=this.getTransformToElement(g.target);return f.transformRect(T,F)}else return new lt(T)}};function h(S,g){S||(S={});var T=f("textPath"),P=S.d;if(P&&S["xlink:href"]===void 0){var $=f("path").attr("d",P).appendTo(g.defs());T.attr("xlink:href","#"+$.id)}return f.isObject(S)&&T.attr(S),T.node}function m(S,g,T){T||(T={});for(var P=T.includeAnnotationIndices,$=T.eol,F=T.lineHeight,D=T.baseSize,z=0,R={},V=g.length-1,ie=0;ie<=V;ie++){var oe=g[ie],_e=null;if(f.isObject(oe)){var Ae=oe.attrs,Ie=f("tspan",Ae),ke=Ie.node,se=oe.t;$&&ie===V&&(se+=$),ke.textContent=se;var ne=Ae.class;ne&&Ie.addClass(ne),P&&Ie.attr("annotations",oe.annotations),_e=parseFloat(Ae["font-size"]),isFinite(_e)||(_e=D),_e&&_e>z&&(z=_e)}else $&&ie===V&&(oe+=$),ke=document.createTextNode(oe||" "),D&&D>z&&(z=D);S.appendChild(ke)}return z&&(R.maxFontSize=z),F?R.lineHeight=F:z&&(R.lineHeight=z*1.2),R}var v=/em$/;function k(S,g){var T=parseFloat(S);return v.test(S)?T*g:T}function b(S,g,T,P){if(!Array.isArray(g))return 0;var $=g.length;if(!$)return 0;for(var F=g[0],D=k(F.maxFontSize,T)||T,z=0,R=k(P,T),V=1;V<$;V++){F=g[V];var ie=k(F.lineHeight,T)||R;z+=ie}var oe=k(F.maxFontSize,T)||T,_e;switch(S){case"middle":_e=D/2-.15*oe-z/2;break;case"bottom":_e=-(.25*oe)-z;break;default:case"top":_e=.8*D;break}return _e}d.text=function(S,g){if(S&&typeof S!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");S=f.sanitizeText(S),g||(g={});var T=g.displayEmpty,P=g.eol,$=g.textPath,F=g.textVerticalAnchor,D=F==="middle"||F==="bottom"||F==="top",z=g.x;z===void 0&&(z=this.attr("x")||0);var R=g.includeAnnotationIndices,V=g.annotations;V&&!f.isArray(V)&&(V=[V]);var ie=g.lineHeight,oe=ie==="auto",_e=oe?"1.5em":ie||"1em";this.empty(),this.attr({"xml:space":"preserve",display:S||T?null:"none"});var Ae=parseFloat(this.attr("font-size"));Ae||(Ae=16,(D||V)&&this.attr("font-size",Ae));var Ie=document,ke;$?(typeof $=="string"&&($={d:$}),ke=h($,this)):ke=Ie.createDocumentFragment();for(var se=0,ne=S.split(`
`),J=[],j,U=0,ae=ne.length-1;U<=ae;U++){var te=_e,ue="v-line",ce=Ie.createElementNS(e.svg,"tspan"),fe=ne[U],ve;if(fe)if(V){var B=f.annotateString(fe,V,{offset:-se,includeAnnotationIndices:R});ve=m(ce,B,{includeAnnotationIndices:R,eol:U!==ae&&P,lineHeight:oe?null:_e,baseSize:Ae});var Y=ve.lineHeight;Y&&oe&&U!==0&&(te=Y),U===0&&(j=ve.maxFontSize*.8)}else P&&U!==ae&&(fe+=P),ce.textContent=fe;else{ce.textContent="-",ue+=" v-empty-line";var E=ce.style;if(E.fillOpacity=0,E.strokeOpacity=0,V){ve={},B=f.findAnnotationsAtIndex(V,se);let H=Ae;for(let Q=B.length;Q>0;Q--){const be=B[Q-1].attrs;if(!be||!("font-size"in be))continue;const me=parseFloat(be["font-size"]);if(isFinite(me)){H=me;break}}oe&&(U>0?te=H*1.2:j=H*.8),ce.setAttribute("font-size",H),ve.maxFontSize=H}}ve&&J.push(ve),U>0&&ce.setAttribute("dy",te),(U>0||$)&&ce.setAttribute("x",z),ce.className.baseVal=ue,ke.appendChild(ce),se+=fe.length+1}if(D)if(V)te=b(F,J,Ae,_e);else if(F==="top")te="0.8em";else{var M;switch(ae>0?(M=parseFloat(_e)||1,M*=ae,v.test(_e)||(M/=Ae)):M=0,F){case"middle":te=.3-M/2+"em";break;case"bottom":te=-M-.3+"em";break}}else F===0?te="0em":F?te=F:(te=0,this.attr("y")===null&&this.attr("y",j||"0.8em"));return ke.firstChild.setAttribute("dy",te),this.append(ke),this},d.removeAttr=function(S){var g=f.qualifyAttr(S),T=this.node;return g.ns?T.hasAttributeNS(g.ns,g.local)&&T.removeAttributeNS(g.ns,g.local):T.hasAttribute(S)&&T.removeAttribute(S),this},d.attr=function(S,g){if(f.isUndefined(S)){for(var T=this.node.attributes,P={},$=0;$<T.length;$++)P[T[$].name]=T[$].value;return P}if(f.isString(S)&&f.isUndefined(g))return this.node.getAttribute(S);if(typeof S=="object")for(var F in S)S.hasOwnProperty(F)&&this.setAttribute(F,S[F]);else this.setAttribute(S,g);return this},d.normalizePath=function(){var S=this.tagName();return S==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},d.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},d.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},d.setAttributes=function(S){for(var g in S)S.hasOwnProperty(g)&&this.setAttribute(g,S[g]);return this},d.append=function(S){f.isArray(S)||(S=[S]);for(var g=0,T=S.length;g<T;g++)this.node.appendChild(f.toNode(S[g]));return this},d.prepend=function(S){var g=this.node.firstChild;return g?f(g).before(S):this.append(S)},d.before=function(S){var g=this.node,T=g.parentNode;if(T){f.isArray(S)||(S=[S]);for(var P=0,$=S.length;P<$;P++)T.insertBefore(f.toNode(S[P]),g)}return this},d.appendTo=function(S){return f.toNode(S).appendChild(this.node),this},d.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},d.tagName=function(){return this.node.tagName.toUpperCase()},d.defs=function(){var S=this.svg()||this,g=S.node.getElementsByTagName("defs")[0];return g?f(g):f("defs").appendTo(S)},d.clone=function(){var S=f(this.node.cloneNode(!0));return S.node.id=f.uniqueId(),S},d.findOne=function(S){var g=this.node.querySelector(S);return g?f(g):void 0},d.find=function(S){var g=[],T=this.node.querySelectorAll(S);if(T)for(var P=0;P<T.length;P++)g.push(f(T[P]));return g},d.children=function(){for(var S=this.node.childNodes,g=[],T=0;T<S.length;T++){var P=S[T];P.nodeType===1&&g.push(f(S[T]))}return g},d.parent=function(){return f(this.node.parentNode)||null},d.index=function(){for(var S=0,g=this.node.previousSibling;g;)g.nodeType===1&&S++,g=g.previousSibling;return S},d.findParentByClass=function(S,g){for(var T=this.node.ownerSVGElement,P=this.node.parentNode;P&&P!==g&&P!==T;){var $=f(P);if($.hasClass(S))return $;P=P.parentNode}return null},d.contains=function(S){var g=this.node,T=f.toNode(S),P=T&&T.parentNode;return g===P||!!(P&&P.nodeType===1&&g.compareDocumentPosition(P)&16)},d.toLocalPoint=function(S,g){var T=this.svg().node,P=T.createSVGPoint();P.x=S,P.y=g;try{var $=P.matrixTransform(T.getScreenCTM().inverse()),F=this.getTransformToElement(T).inverse()}catch{return P}return $.matrixTransform(F)},d.translateCenterToPoint=function(S){var g=this.getBBox({target:this.svg()}),T=g.center();return this.translate(S.x-T.x,S.y-T.y),this},d.translateAndAutoOrient=function(S,g,T){S=new we(S),g=new we(g),T||(T=this.svg());var P=this.scale();this.attr("transform","");var $=this.getBBox({target:T}).scale(P.sx,P.sy),F=f.createSVGTransform();F.setTranslate(-$.x-$.width/2,-$.y-$.height/2);var D=f.createSVGTransform(),z=S.angleBetween(g,S.clone().offset(1,0));z&&D.setRotate(z,0,0);var R=f.createSVGTransform(),V=S.clone().move(g,$.width/2);R.setTranslate(2*S.x-V.x,2*S.y-V.y);var ie=this.getTransformToElement(T),oe=f.createSVGTransform();return oe.setMatrix(R.matrix.multiply(D.matrix.multiply(F.matrix.multiply(ie.scale(P.sx,P.sy))))),this.attr("transform",f.matrixToTransformString(oe.matrix)),this},d.animateAlongPath=function(S,g){g=f.toNode(g);var T=f.ensureId(g),P=f("animateMotion",S),$=f("mpath",{"xlink:href":"#"+T});P.append($),this.append(P);try{P.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var F=P.node;F.animators=[];var D=F.getAttribute("id");D&&(id2anim[D]=F);for(var z=getTargets(F),R=0,V=z.length;R<V;R++){var ie=z[R],oe=new Animator(F,ie,R);animators.push(oe),F.animators[R]=oe,oe.register()}}}return this};const _=/[^\x20\t\r\n\f]+/g;function x(S){return f.isString(S)?S.trim().match(_)||[]:[]}d.hasClass=function(S){return f.isString(S)?this.node.classList.contains(S.trim()):!1},d.addClass=function(S){return this.node.classList.add(...x(S)),this},d.removeClass=function(S){return this.node.classList.remove(...x(S)),this},d.toggleClass=function(S,g){const T=x(S);for(let P=0;P<T.length;P++)this.node.classList.toggle(T[P],g);return this},d.sample=function(S){S=S||1;for(var g=this.node,T=g.getTotalLength(),P=[],$=0,F;$<T;)F=g.getPointAtLength($),P.push({x:F.x,y:F.y,distance:$}),$+=S;return P},d.convertToPath=function(){var S=f("path");S.attr(this.attr());var g=this.convertToPathData();return g&&S.attr("d",g),S},d.convertToPathData=function(){var S=this.tagName();switch(S){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error(S+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var S,g,T,P,$,F,D,z,R,V,ie,oe,_e,Ae,Ie;switch(this.tagName()){case"RECT":return S=parseFloat(this.attr("x"))||0,g=parseFloat(this.attr("y"))||0,T=parseFloat(this.attr("width"))||0,P=parseFloat(this.attr("height"))||0,new lt(S,g,T,P);case"CIRCLE":return $=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,D=parseFloat(this.attr("r"))||0,new Ca({x:$,y:F},D,D);case"ELLIPSE":return $=parseFloat(this.attr("cx"))||0,F=parseFloat(this.attr("cy"))||0,z=parseFloat(this.attr("rx"))||0,R=parseFloat(this.attr("ry"))||0,new Ca({x:$,y:F},z,R);case"POLYLINE":return V=f.getPointsFromSvgNode(this),new Or(V);case"POLYGON":return V=f.getPointsFromSvgNode(this),V.length>1&&V.push(V[0]),new Or(V);case"PATH":return ie=this.attr("d"),xt.isDataSupported(ie)||(ie=f.normalizePathData(ie)),new xt(ie);case"LINE":return oe=parseFloat(this.attr("x1"))||0,Ae=parseFloat(this.attr("y1"))||0,_e=parseFloat(this.attr("x2"))||0,Ie=parseFloat(this.attr("y2"))||0,new mt({x:oe,y:Ae},{x:_e,y:Ie})}return this.getBBox()},d.findIntersection=function(S,g){var T=this.svg().node;g=g||T;var P=this.getBBox({target:g}),$=P.center();if(P.intersectionWithLineFromCenterToPoint(S)){var F,D=this.tagName();if(D==="RECT"){var z=new lt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),R=this.getTransformToElement(g),V=f.decomposeMatrix(R),ie=T.createSVGTransform();ie.setRotate(-V.rotation,$.x,$.y);var oe=f.transformRect(z,ie.matrix.multiply(R));F=new lt(oe).intersectionWithLineFromCenterToPoint(S,V.rotation)}else if(D==="PATH"||D==="POLYGON"||D==="POLYLINE"||D==="CIRCLE"||D==="ELLIPSE"){var _e=D==="PATH"?this:this.convertToPath(),Ae=_e.sample(),Ie=1/0,ke=[],se,ne,J,j,U,ae;for(se=0;se<Ae.length;se++)ne=Ae[se],J=f.createSVGPoint(ne.x,ne.y),J=J.matrixTransform(this.getTransformToElement(g)),ne=new we(J),j=ne.distance($),U=ne.distance(S)*1.1,ae=j+U,ae<Ie?(Ie=ae,ke=[{sample:ne,refDistance:U}]):ae<Ie+1&&ke.push({sample:ne,refDistance:U});ke.sort(function(te,ue){return te.refDistance-ue.refDistance}),ke[0]&&(F=ke[0].sample)}return F}},d.setAttribute=function(S,g){var T=this.node;if(g===null)return this.removeAttr(S),this;var P=f.qualifyAttr(S);return P.ns?T.setAttributeNS(P.ns,S,g):S==="id"?T.id=g:T.setAttribute(S,g),this},f.createSvgDocument=function(S){if(S){const T=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${n}">${S}</svg>`,{documentElement:P}=f.parseXML(T,{async:!1});return P}const g=document.createElementNS(e.svg,"svg");return g.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),g.setAttribute("version",n),g},f.createSVGStyle=function(S){const{node:g}=f("style",{type:"text/css"},[f.createCDATASection(S)]);return g},f.createCDATASection=function(S=""){return document.implementation.createDocument(null,"xml",null).createCDATASection(S)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function(S){return f.isV(S)?S.node:S.nodeName&&S||S[0]},f.ensureId=function(S){return S=f.toNode(S),S.id||(S.id=f.uniqueId())},f.sanitizeText=function(S){return(S||"").replace(/ /g," ")},f.isUndefined=function(S){return typeof S>"u"},f.isString=function(S){return typeof S=="string"},f.isObject=function(S){return S&&typeof S=="object"},f.isArray=Array.isArray,f.parseXML=function(S,g){g=g||{};var T;try{var P=new DOMParser;f.isUndefined(g.async)||(P.async=g.async),T=P.parseFromString(S,"text/xml")}catch{T=void 0}if(!T||T.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+S);return T},f.qualifyAttr=function(S){if(S.indexOf(":")!==-1){var g=S.split(":");return{ns:e[g[0]],local:g[1]}}return{ns:null,local:S}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function(S){let g=f.createSVGMatrix();const T=S&&S.match(f.transformRegex);if(!T)return g;const P=T.length;for(let $=0;$<P;$++){const D=T[$].match(f.transformFunctionRegex);if(D){let z,R,V,ie,oe,_e=f.createSVGMatrix();const Ae=D[1].toLowerCase(),Ie=D[2].split(f.transformSeparatorRegex);switch(Ae){case"scale":z=parseFloat(Ie[0]),R=Ie[1]===void 0?z:parseFloat(Ie[1]),_e=_e.scaleNonUniform(z,R);break;case"translate":V=parseFloat(Ie[0]),ie=parseFloat(Ie[1]),_e=_e.translate(V,ie);break;case"rotate":oe=parseFloat(Ie[0]),V=parseFloat(Ie[1])||0,ie=parseFloat(Ie[2])||0,V!==0||ie!==0?_e=_e.translate(V,ie).rotate(oe).translate(-V,-ie):_e=_e.rotate(oe);break;case"skewx":oe=parseFloat(Ie[0]),_e=_e.skewX(oe);break;case"skewy":oe=parseFloat(Ie[0]),_e=_e.skewY(oe);break;case"matrix":_e.a=parseFloat(Ie[0]),_e.b=parseFloat(Ie[1]),_e.c=parseFloat(Ie[2]),_e.d=parseFloat(Ie[3]),_e.e=parseFloat(Ie[4]),_e.f=parseFloat(Ie[5]);break;default:continue}g=g.multiply(_e)}}return g},f.matrixToTransformString=function(S){return S||(S=!0),"matrix("+(S.a!==void 0?S.a:1)+","+(S.b!==void 0?S.b:0)+","+(S.c!==void 0?S.c:0)+","+(S.d!==void 0?S.d:1)+","+(S.e!==void 0?S.e:0)+","+(S.f!==void 0?S.f:0)+")"},f.parseTransformString=function(S){var g,T,P;if(S){var $=f.transformSeparatorRegex;if(S.trim().indexOf("matrix")>=0){var F=f.transformStringToMatrix(S),D=f.decomposeMatrix(F);g=[D.translateX,D.translateY],P=[D.scaleX,D.scaleY],T=[D.rotation];var z=[];(g[0]!==0||g[1]!==0)&&z.push("translate("+g+")"),(P[0]!==1||P[1]!==1)&&z.push("scale("+P+")"),T[0]!==0&&z.push("rotate("+T+")"),S=z.join(" ")}else{const V=S.match(f.transformTranslateRegex);V&&(g=V[1].split($));const ie=S.match(f.transformRotateRegex);ie&&(T=ie[1].split($));const oe=S.match(f.transformScaleRegex);oe&&(P=oe[1].split($))}}var R=P&&P[0]?parseFloat(P[0]):1;return{value:S,translate:{tx:g&&g[0]?parseInt(g[0],10):0,ty:g&&g[1]?parseInt(g[1],10):0},rotate:{angle:T&&T[0]?parseInt(T[0],10):0,cx:T&&T[1]?parseInt(T[1],10):void 0,cy:T&&T[2]?parseInt(T[2],10):void 0},scale:{sx:R,sy:P&&P[1]?parseFloat(P[1]):R}}},f.deltaTransformPoint=function(S,g){var T=g.x*S.a+g.y*S.c+0,P=g.x*S.b+g.y*S.d+0;return{x:T,y:P}},f.decomposeMatrix=function(S){var g=f.deltaTransformPoint(S,{x:0,y:1}),T=f.deltaTransformPoint(S,{x:1,y:0}),P=180/i*o(g.y,g.x)-90,$=180/i*o(T.y,T.x);return{translateX:S.e,translateY:S.f,scaleX:a(S.a*S.a+S.b*S.b),scaleY:a(S.c*S.c+S.d*S.d),skewX:P,skewY:$,rotation:P}},f.matrixToScale=function(S){var g,T,P,$;return S?(g=f.isUndefined(S.a)?1:S.a,$=f.isUndefined(S.d)?1:S.d,T=S.b,P=S.c):g=$=1,{sx:T?a(g*g+T*T):g,sy:P?a(P*P+$*$):$}},f.matrixToRotate=function(S){var g={x:0,y:1};return S&&(g=f.deltaTransformPoint(S,g)),{angle:yu(o_(o(g.y,g.x))-90)}},f.matrixToTranslate=function(S){return{tx:S&&S.e||0,ty:S&&S.f||0}},f.isV=function(S){return S instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function(S){return S?(S=f.toNode(S),S instanceof SVGElement&&typeof S.getScreenCTM=="function"):!1};var C=f("svg").node;return f.createSVGMatrix=function(S){var g=C.createSVGMatrix();for(var T in S)g[T]=S[T];return g},f.createSVGTransform=function(S){return f.isUndefined(S)?C.createSVGTransform():(S instanceof SVGMatrix||(S=f.createSVGMatrix(S)),C.createSVGTransformFromMatrix(S))},f.createSVGPoint=function(S,g){var T=C.createSVGPoint();return T.x=S,T.y=g,T},f.transformRect=function(S,g){var T=C.createSVGPoint();T.x=S.x,T.y=S.y;var P=T.matrixTransform(g);T.x=S.x+S.width,T.y=S.y;var $=T.matrixTransform(g);T.x=S.x+S.width,T.y=S.y+S.height;var F=T.matrixTransform(g);T.x=S.x,T.y=S.y+S.height;var D=T.matrixTransform(g),z=s(P.x,$.x,F.x,D.x),R=l(P.x,$.x,F.x,D.x),V=s(P.y,$.y,F.y,D.y),ie=l(P.y,$.y,F.y,D.y);return new lt(z,V,R-z,ie-V)},f.transformPoint=function(S,g){return new we(f.createSVGPoint(S.x,S.y).matrixTransform(g))},f.transformLine=function(S,g){return new mt(f.transformPoint(S.start,g),f.transformPoint(S.end,g))},f.transformPolyline=function(S,g){var T=S instanceof Or?S.points:S;f.isArray(T)||(T=[]);for(var P=[],$=0,F=T.length;$<F;$++)P[$]=f.transformPoint(T[$],g);return new Or(P)},f.styleToObject=function(S){for(var g={},T=S.split(";"),P=0;P<T.length;P++){var $=T[P],F=$.split("=");g[F[0].trim()]=F[1].trim()}return g},f.createSlicePathData=function(S,g,T,P){var $=2*i-1e-6,F=S,D=g,z=T,R=P,V=(R<z&&(V=z,z=R,R=V),R-z),ie=V<i?"0":"1",oe=c(z),_e=u(z),Ae=c(R),Ie=u(R);return V>=$?F?"M0,"+D+"A"+D+","+D+" 0 1,1 0,"+-D+"A"+D+","+D+" 0 1,1 0,"+D+"M0,"+F+"A"+F+","+F+" 0 1,0 0,"+-F+"A"+F+","+F+" 0 1,0 0,"+F+"Z":"M0,"+D+"A"+D+","+D+" 0 1,1 0,"+-D+"A"+D+","+D+" 0 1,1 0,"+D+"Z":F?"M"+D*oe+","+D*_e+"A"+D+","+D+" 0 "+ie+",1 "+D*Ae+","+D*Ie+"L"+F*Ae+","+F*Ie+"A"+F+","+F+" 0 "+ie+",0 "+F*oe+","+F*_e+"Z":"M"+D*oe+","+D*_e+"A"+D+","+D+" 0 "+ie+",1 "+D*Ae+","+D*Ie+"L0,0Z"},f.mergeAttrs=function(S,g){for(var T in g)T==="class"?S[T]=S[T]?S[T]+" "+g[T]:g[T]:T==="style"?f.isObject(S[T])&&f.isObject(g[T])?S[T]=f.mergeAttrs(S[T],g[T]):f.isObject(S[T])?S[T]=f.mergeAttrs(S[T],f.styleToObject(g[T])):f.isObject(g[T])?S[T]=f.mergeAttrs(f.styleToObject(S[T]),g[T]):S[T]=f.mergeAttrs(f.styleToObject(S[T]),f.styleToObject(g[T])):S[T]=g[T];return S},f.annotateString=function(S,g,T){g=g||[],T=T||{};for(var P=T.offset||0,$=[],F,D=[],z,R,V=0;V<S.length;V++){z=D[V]=S[V];for(var ie=0;ie<g.length;ie++){var oe=g[ie],_e=oe.start+P,Ae=oe.end+P;V>=_e&&V<Ae&&(f.isObject(z)?z.attrs=f.mergeAttrs(f.mergeAttrs({},z.attrs),oe.attrs):z=D[V]={t:S[V],attrs:oe.attrs},T.includeAnnotationIndices&&(z.annotations||(z.annotations=[])).push(ie))}R=D[V-1],R?f.isObject(z)&&f.isObject(R)?JSON.stringify(z.attrs)===JSON.stringify(R.attrs)?F.t+=z.t:($.push(F),F=z):f.isObject(z)||f.isObject(R)?($.push(F),F=z):F=(F||"")+z:F=z}return F&&$.push(F),$},f.findAnnotationsAtIndex=function(S,g){var T=[];return S&&S.forEach(function(P){P.start<g&&g<=P.end&&T.push(P)}),T},f.findAnnotationsBetweenIndexes=function(S,g,T){var P=[];return S&&S.forEach(function($){(g>=$.start&&g<$.end||T>$.start&&T<=$.end||$.start>=g&&$.end<T)&&P.push($)}),P},f.shiftAnnotations=function(S,g,T){return S&&S.forEach(function(P){P.start<g&&P.end>=g?P.end+=T:P.start>=g&&(P.start+=T,P.end+=T)}),S},f.convertLineToPathData=function(S){S=f(S);var g=["M",S.attr("x1"),S.attr("y1"),"L",S.attr("x2"),S.attr("y2")].join(" ");return g},f.convertPolygonToPathData=function(S){var g=f.getPointsFromSvgNode(S);return g.length===0?null:f.svgPointsToPath(g)+" Z"},f.convertPolylineToPathData=function(S){var g=f.getPointsFromSvgNode(S);return g.length===0?null:f.svgPointsToPath(g)},f.svgPointsToPath=function(S){for(var g=0,T=S.length;g<T;g++)S[g]=S[g].x+" "+S[g].y;return"M "+S.join(" L")},f.getPointsFromSvgNode=function(S){S=f.toNode(S);var g=[],T=S.points;if(T)for(var P=0,$=T.numberOfItems;P<$;P++)g.push(T.getItem(P));return g},f.KAPPA=.551784,f.convertCircleToPathData=function(S){S=f(S);var g=parseFloat(S.attr("cx"))||0,T=parseFloat(S.attr("cy"))||0,P=parseFloat(S.attr("r")),$=P*f.KAPPA,F=["M",g,T-P,"C",g+$,T-P,g+P,T-$,g+P,T,"C",g+P,T+$,g+$,T+P,g,T+P,"C",g-$,T+P,g-P,T+$,g-P,T,"C",g-P,T-$,g-$,T-P,g,T-P,"Z"].join(" ");return F},f.convertEllipseToPathData=function(S){S=f(S);var g=parseFloat(S.attr("cx"))||0,T=parseFloat(S.attr("cy"))||0,P=parseFloat(S.attr("rx")),$=parseFloat(S.attr("ry"))||P,F=P*f.KAPPA,D=$*f.KAPPA,z=["M",g,T-$,"C",g+F,T-$,g+P,T-D,g+P,T,"C",g+P,T+D,g+F,T+$,g,T+$,"C",g-F,T+$,g-P,T+D,g-P,T,"C",g-P,T-D,g-F,T-$,g,T-$,"Z"].join(" ");return z},f.convertRectToPathData=function(S){return S=f(S),f.rectToPath({x:parseFloat(S.attr("x"))||0,y:parseFloat(S.attr("y"))||0,width:parseFloat(S.attr("width"))||0,height:parseFloat(S.attr("height"))||0,rx:parseFloat(S.attr("rx"))||0,ry:parseFloat(S.attr("ry"))||0})},f.rectToPath=function(S){var g,T=S.x,P=S.y,$=S.width,F=S.height,D=s(S.rx||S["top-rx"]||0,$/2),z=s(S.rx||S["bottom-rx"]||0,$/2),R=s(S.ry||S["top-ry"]||0,F/2),V=s(S.ry||S["bottom-ry"]||0,F/2);return D||z||R||V?g=["M",T,P+R,"v",F-R-V,"a",z,V,0,0,0,z,V,"h",$-2*z,"a",z,V,0,0,0,z,-V,"v",-(F-V-R),"a",D,R,0,0,0,-D,-R,"h",-($-2*D),"a",D,R,0,0,0,-D,R,"Z"]:g=["M",T,P,"H",T+$,"V",P+F,"H",T,"V",P,"Z"],g.join(" ")},f.normalizePathData=function(){var S=`	
\v\f\r   ᠎             　\u2028\u2029`,g=new RegExp("([a-z])["+S+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+S+"]*,?["+S+"]*)+)","ig"),T=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+S+"]*,?["+S+"]*","ig"),P=Math,$=P.PI,F=P.sin,D=P.cos,z=P.tan,R=P.asin,V=P.sqrt,ie=P.abs;function oe(ne,J,j,U,ae,te){var ue=.3333333333333333,ce=2/3;return[ue*ne+ce*j,ue*J+ce*U,ue*ae+ce*j,ue*te+ce*U,ae,te]}function _e(ne,J,j){var U=ne*D(j)-J*F(j),ae=ne*F(j)+J*D(j);return{x:U,y:ae}}function Ae(ne,J,j,U,ae,te,ue,ce,fe,ve){var B=$*120/180,Y=$/180*(+ae||0),E=[],M;if(ve)et=ve[0],Qe=ve[1],tt=ve[2],Ke=ve[3];else{M=_e(ne,J,-Y),ne=M.x,J=M.y,M=_e(ce,fe,-Y),ce=M.x,fe=M.y;var H=(ne-ce)/2,Q=(J-fe)/2,be=H*H/(j*j)+Q*Q/(U*U);be>1&&(be=V(be),j=be*j,U=be*U);var me=j*j,Fe=U*U,Le=(te==ue?-1:1)*V(ie((me*Fe-me*Q*Q-Fe*H*H)/(me*Q*Q+Fe*H*H))),tt=Le*j*Q/U+(ne+ce)/2,Ke=Le*-U*H/j+(J+fe)/2,et=R(((J-Ke)/U).toFixed(9)),Qe=R(((fe-Ke)/U).toFixed(9));et=ne<tt?$-et:et,Qe=ce<tt?$-Qe:Qe,et<0&&(et=$*2+et),Qe<0&&(Qe=$*2+Qe),ue&&et>Qe&&(et=et-$*2),!ue&&Qe>et&&(Qe=Qe-$*2)}var pt=Qe-et;if(ie(pt)>B){var Rt=Qe,Xt=ce,wt=fe;Qe=et+B*(ue&&Qe>et?1:-1),ce=tt+j*D(Qe),fe=Ke+U*F(Qe),E=Ae(ce,fe,j,U,ae,0,ue,Xt,wt,[Qe,Rt,tt,Ke])}pt=Qe-et;var sn=D(et),mr=F(et),gi=D(Qe),Lr=F(Qe),ho=z(pt/4),Tr=4/3*(j*ho),jn=4/3*(U*ho),Vn=[ne,J],Ea=[ne+Tr*mr,J-jn*sn],Ff=[ce+Tr*Lr,fe-jn*gi],Tu=[ce,fe];if(Ea[0]=2*Vn[0]-Ea[0],Ea[1]=2*Vn[1]-Ea[1],ve)return[Ea,Ff,Tu].concat(E);E=[Ea,Ff,Tu].concat(E).join().split(",");for(var Tc=[],ks=E.length,Wi=0;Wi<ks;Wi++)Tc[Wi]=Wi%2?_e(E[Wi-1],E[Wi],Y).y:_e(E[Wi],E[Wi+1],Y).x;return Tc}function Ie(ne){if(!ne)return null;var J={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},j=[];return String(ne).replace(g,function(U,ae,te){var ue=[],ce=ae.toLowerCase();for(te.replace(T,function(fe,ve){ve&&ue.push(+ve)}),ce==="m"&&ue.length>2&&(j.push([ae].concat(ue.splice(0,2))),ce="l",ae=ae==="m"?"l":"L");ue.length>=J[ce]&&(j.push([ae].concat(ue.splice(0,J[ce]))),!!J[ce]););}),j}function ke(ne){if((!Array.isArray(ne)||!Array.isArray(ne&&ne[0]))&&(ne=Ie(ne)),!ne||!ne.length)return[["M",0,0]];for(var J=[],j=0,U=0,ae=0,te=0,ue=0,ce,fe=ne.length,ve=ue;ve<fe;ve++){var B=[];J.push(B);var Y=ne[ve];if(ce=Y[0],ce!=ce.toUpperCase()){B[0]=ce.toUpperCase();var E,M;switch(B[0]){case"A":B[1]=Y[1],B[2]=Y[2],B[3]=Y[3],B[4]=Y[4],B[5]=Y[5],B[6]=+Y[6]+j,B[7]=+Y[7]+U;break;case"V":B[1]=+Y[1]+U;break;case"H":B[1]=+Y[1]+j;break;case"M":for(ae=+Y[1]+j,te=+Y[2]+U,E=Y.length,M=1;M<E;M++)B[M]=+Y[M]+(M%2?j:U);break;default:for(E=Y.length,M=1;M<E;M++)B[M]=+Y[M]+(M%2?j:U);break}}else for(var H=Y.length,Q=0;Q<H;Q++)B[Q]=Y[Q];switch(B[0]){case"Z":j=+ae,U=+te;break;case"H":j=B[1];break;case"V":U=B[1];break;case"M":ae=B[B.length-2],te=B[B.length-1],j=B[B.length-2],U=B[B.length-1];break;default:j=B[B.length-2],U=B[B.length-1];break}}return J}function se(ne){var J=ke(ne),j={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function U(E,M,H){var Q,be;if(!E)return["C",M.x,M.y,M.x,M.y,M.x,M.y];switch(E[0]in{T:1,Q:1}||(M.qx=null,M.qy=null),E[0]){case"M":M.X=E[1],M.Y=E[2];break;case"A":parseFloat(E[1])===0||parseFloat(E[2])===0?E=["L",E[6],E[7]]:E=["C"].concat(Ae.apply(0,[M.x,M.y].concat(E.slice(1))));break;case"S":H==="C"||H==="S"?(Q=M.x*2-M.bx,be=M.y*2-M.by):(Q=M.x,be=M.y),E=["C",Q,be].concat(E.slice(1));break;case"T":H==="Q"||H==="T"?(M.qx=M.x*2-M.qx,M.qy=M.y*2-M.qy):(M.qx=M.x,M.qy=M.y),E=["C"].concat(oe(M.x,M.y,M.qx,M.qy,E[1],E[2]));break;case"Q":M.qx=E[1],M.qy=E[2],E=["C"].concat(oe(M.x,M.y,E[1],E[2],E[3],E[4]));break;case"H":E=["L"].concat(E[1],M.y);break;case"V":E=["L"].concat(M.x,E[1]);break}return E}function ae(E,M){if(E[M].length>7){E[M].shift();for(var H=E[M];H.length;)te[M]="A",E.splice(M++,0,["C"].concat(H.splice(0,6)));E.splice(M,1),fe=J.length}}for(var te=[],ue="",ce="",fe=J.length,ve=0;ve<fe;ve++){J[ve]&&(ue=J[ve][0]),ue!=="C"&&(te[ve]=ue,ve>0&&(ce=te[ve-1])),J[ve]=U(J[ve],j,ce),te[ve]!=="A"&&ue==="C"&&(te[ve]="C"),ae(J,ve);var B=J[ve],Y=B.length;j.x=B[Y-2],j.y=B[Y-1],j.bx=parseFloat(B[Y-4])||j.x,j.by=parseFloat(B[Y-3])||j.y}return(!J[0][0]||J[0][0]!=="M")&&J.unshift(["M",0,0]),J}return function(ne){return se(ne).join(",").split(",").join(" ")}}(),f.namespace=e,f.g=UFe,f}(),We=kNe,hu={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},k4="[object Arguments]",uP="[object Array]",k_="[object Boolean]",xL="[object Date]",Oae="[object Error]",_Ne="[object Function]",C2="[object Map]",__="[object Number]",wNe="[object Null]",g0="[object Object]",CL="[object RegExp]",T2="[object Set]",w_="[object String]",S_="[object Symbol]",SNe="[object Undefined]",xNe="[object WeakMap]",TL="[object ArrayBuffer]",AL="[object DataView]",Dae="[object Float32Array]",Lae="[object Float64Array]",Fae="[object Int8Array]",Nae="[object Int16Array]",Mae="[object Int32Array]",zae="[object Uint8Array]",Rae="[object Uint8ClampedArray]",jae="[object Uint16Array]",Vae="[object Uint32Array]",CNe={[k4]:!0,[uP]:!0,[TL]:!0,[AL]:!0,[k_]:!0,[xL]:!0,[Dae]:!0,[Lae]:!0,[Fae]:!0,[Nae]:!0,[Mae]:!0,[C2]:!0,[__]:!0,[g0]:!0,[CL]:!0,[T2]:!0,[w_]:!0,[S_]:!0,[zae]:!0,[Rae]:!0,[jae]:!0,[Vae]:!0,[Oae]:!1,[_Ne]:!1,[xNe]:!1},IL="\\ud800-\\udfff",TNe="\\u0300-\\u036f",ANe="\\ufe20-\\ufe2f",INe="\\u20d0-\\u20ff",PNe="\\u1ab0-\\u1aff",ENe="\\u1dc0-\\u1dff",$Ne=TNe+ANe+INe+PNe+ENe,Bae="\\u2700-\\u27bf",Hae="a-z\\xdf-\\xf6\\xf8-\\xff",ONe="\\xac\\xb1\\xd7\\xf7",DNe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",LNe="\\u2000-\\u206f",FNe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wae="A-Z\\xc0-\\xd6\\xd8-\\xde",NNe="\\ufe0e\\ufe0f",Uae=ONe+DNe+LNe+FNe,Gae="['’]",kW=`[${Uae}]`,PL=`[${$Ne}]`,qae="\\d",MNe=`[${Bae}]`,Yae=`[${Hae}]`,Xae=`[^${IL}${Uae+qae+Bae+Hae+Wae}]`,fP="\\ud83c[\\udffb-\\udfff]",zNe=`(?:${PL}|${fP})`,Kae=`[^${IL}]`,EL="(?:\\ud83c[\\udde6-\\uddff]){2}",$L="[\\ud800-\\udbff][\\udc00-\\udfff]",Qg=`[${Wae}]`,RNe="\\u200d",_W=`(?:${Yae}|${Xae})`,jNe=`(?:${Qg}|${Xae})`,wW=`(?:${Gae}(?:d|ll|m|re|s|t|ve))?`,SW=`(?:${Gae}(?:D|LL|M|RE|S|T|VE))?`,Jae=`${zNe}?`,Zae=`[${NNe}]?`,VNe=`(?:${RNe}(?:${[Kae,EL,$L].join("|")})${Zae+Jae})*`,BNe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",HNe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qae=Zae+Jae+VNe,WNe=`(?:${[MNe,EL,$L].join("|")})${Qae}`,UNe=RegExp([`${Qg}?${Yae}+${wW}(?=${[kW,Qg,"$"].join("|")})`,`${jNe}+${SW}(?=${[kW,Qg+_W,"$"].join("|")})`,`${Qg}?${_W}+${wW}`,`${Qg}+${SW}`,HNe,BNe,`${qae}+`,WNe].join("|"),"g"),OL=200,dP="__hash_undefined__",GNe=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,qNe=`[${IL}]`,YNe=`${Kae}${PL}?`,XNe=`(?:${[YNe,PL,EL,$L,qNe].join("|")})`,ese=RegExp(`${fP}(?=${fP})|${XNe+Qae}`,"g"),KNe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JNe=/^\w*$/,ZNe=".".charCodeAt(0),QNe=/\\(\\)?/g,eMe=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),tMe=/^(?:0|[1-9]\d*)$/,nMe=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),rMe=4294967295-1,iMe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tse=t=>ese.test(t),oMe=t=>t.match(ese)||[],aMe=t=>t.split(""),nse=t=>tse(t)?oMe(t):aMe(t),sMe=t=>t==null?[]:A2(t).map(e=>t[e]),A2=t=>Ml(t)?rse(t):Object.keys(Object(t)),lMe=t=>{if(!x_(t))return Object.keys(t);var e=[];for(var n in Object(t))hasOwnProperty.call(t,n)&&n!="constructor"&&e.push(n);return e},rse=(t,e)=>{const n=Array.isArray(t),r=!n&&gc(t)&&$l(t)===k4,i=!n&&!r&&P2(t),o=n||r||i,a=t.length,s=new Array(o?a:0);let l=o?-1:a;for(;++l<a;)s[l]=`${l}`;for(const c in t)(e||hasOwnProperty.call(t,c))&&!(o&&(c==="length"||ML(c,a)))&&s.push(c);return s},_9=(t,e)=>{let{length:n}=t;for(;n--;)if(Bb(t[n][0],e))return n;return-1},Bb=(t,e)=>t===e||t!==t&&e!==e,gc=t=>t!=null&&typeof t=="object",yk=(t,e,n)=>{if(!Jn(n))return!1;const r=typeof e;return(r=="number"?Ml(n)&&e>-1&&e<n.length:r=="string"&&e in n)?Bb(n[e],t):!1},cMe=t=>gc(t)&&$l(t)==T2,uMe=t=>gc(t)&&$l(t)==C2,x_=t=>{const e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Object.prototype;return t===n},Hb=(t,e,n)=>{const r=t[e];(!(hasOwnProperty.call(t,e)&&Bb(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},I2=(t,e,n)=>{let r=-1;const i=e.length;for(;++r<i;){const o=e[r];Hb(n,o,t[o])}return n},Ml=t=>t!=null&&typeof t!="function"&&typeof t.length=="number"&&t.length>-1&&t.length%1===0,bb=t=>typeof t=="symbol"||gc(t)&&$l(t)===S_,fMe=t=>{const e=t.length;let n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty.call(t,"index")&&(n.index=t.index,n.input=t.input),n},DL=(t,e)=>{let n=-1;const r=t.length;for(e||(e=new Array(r));++n<r;)e[n]=t[n];return e},$l=t=>t==null?t===void 0?SNe:wNe:Object.prototype.toString.call(t),LL=t=>{const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},ise=(t,e)=>{const n=e?LL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},dMe=t=>{const e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e},ose=t=>typeof t.constructor=="function"&&!x_(t)?Object.create(Object.getPrototypeOf(t)):{},FL=t=>t==null?[]:(t=Object(t),Object.getOwnPropertySymbols(t).filter(n=>propertyIsEnumerable.call(t,n))),hMe=(t,e)=>I2(t,FL(t),e);function pMe(t,e){const n=e?LL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}const mMe=(t,e,n)=>{const r=t.constructor;switch(e){case TL:return LL(t);case k_:case xL:return new r(+t);case AL:return pMe(t,n);case Dae:case Lae:case Fae:case Nae:case Mae:case zae:case Rae:case jae:case Vae:return ise(t,n);case C2:return new r(t);case __:case w_:return new r(t);case CL:return dMe(t);case T2:return new r;case S_:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},P2=t=>gc(t)&&GNe.test($l(t)),hP=t=>{const e=Object.keys(t);return!Array.isArray(t)&&t!=null&&e.push(...FL(Object(t))),e},ase=t=>{const e=[];for(;t;)e.push(...FL(t)),t=Object.getPrototypeOf(Object(t));return e},sse=t=>{const e=[];for(const n in t)e.push(n);return Array.isArray(t)||e.push(...ase(t)),e},w9=({__data__:t},e)=>{const n=t;return AMe(e)?n[typeof e=="string"?"string":"hash"]:n.map},gMe=(t,e,n,r)=>{const i=hP(t),o=i.length,s=hP(e).length;if(o!=s)return!1;let l,c=o;for(;c--;)if(l=i[c],!hasOwnProperty.call(e,l))return!1;const u=r.get(t),f=r.get(e);if(u&&f)return u==e&&f==t;let d=!0;r.set(t,e),r.set(e,t);let h;for(;++c<o;){l=i[c];const m=t[l],v=e[l];if(!(m===v||n(m,v,r))){d=!1;break}h||(h=l=="constructor")}if(d&&!h){const m=t.constructor,v=e.constructor;m!=v&&"constructor"in t&&"constructor"in e&&!(typeof m=="function"&&m instanceof m&&typeof v=="function"&&v instanceof v)&&(d=!1)}return r.delete(t),r.delete(e),d},C_=(t,e,n)=>t===e?!0:t==null||e==null||!gc(t)&&!gc(e)?t!==t&&e!==e:bMe(t,e,C_,n),bMe=(t,e,n,r)=>{let i=Array.isArray(t);const o=Array.isArray(e);let a=i?uP:$l(t),s=o?uP:$l(e);a=a==k4?g0:a,s=s==k4?g0:s;let l=a==g0;const c=s==g0,u=a==s;if(u&&!l)return r||(r=new H0),i||P2(t)?lse(t,e,!1,n,r):kMe(t,e,a,n,r);const f=l&&hasOwnProperty.call(t,"__wrapped__"),d=c&&hasOwnProperty.call(e,"__wrapped__");if(f||d){const h=f?t.value():t,m=d?e.value():e;return r||(r=new H0),n(h,m,r)}return u?(r||(r=new H0),gMe(t,e,n,r)):!1},lse=(t,e,n,r,i)=>{const a=t.length,s=e.length;if(a!=s)return!1;const l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;let u=-1,f=!0;const d=n?new w4:void 0;for(i.set(t,e),i.set(e,t);++u<a;){const h=t[u],m=e[u];if(d){if(!vMe(e,(v,k)=>{if(!yMe(d,k)&&(h===v||r(h,v,i)))return d.push(k)})){f=!1;break}}else if(!(h===m||r(h,m,i))){f=!1;break}}return i.delete(t),i.delete(e),f},vMe=(t,e)=>{let n=-1;const r=t==null?0:t.length;for(;++n<r;)if(e(t[n],n,t))return!0;return!1},yMe=(t,e)=>t.has(e),xW=(t,e,n,r)=>!(t.byteLength!=e.byteLength||!n(new Uint8Array(t),new Uint8Array(e),r)),kMe=(t,e,n,r,i)=>{switch(n){case AL:return t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset?!1:(t=t.buffer,e=e.buffer,xW(t,e,r,i));case TL:return xW(t,e,r,i);case k_:case xL:case __:return Bb(+t,+e);case Oae:return t.name==e.name&&t.message==e.message;case CL:case w_:return t==`${e}`;case C2:let o=cse;case T2:if(o||(o=T_),t.size!=e.size)return!1;const a=i.get(t);if(a)return a==e;i.set(t,e);const s=lse(o(t),o(e),!0,r,i);return i.delete(t),s;case S_:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},cse=t=>{let e=-1,n=Array(t.size);return t.forEach((r,i)=>{n[++e]=[i,r]}),n},T_=t=>{let e=-1;const n=new Array(t.size);return t.forEach(r=>{n[++e]=r}),n},NL=(t,e)=>{if(Array.isArray(t))return!1;const n=typeof t;return n==="number"||n==="boolean"||t==null||bb(t)?!0:JNe.test(t)||!KNe.test(t)||e!=null&&t in Object(e)},_Me=t=>{const e=[];return t.charCodeAt(0)===ZNe&&e.push(""),t.replace(eMe,(n,r,i,o)=>{let a=n;i?a=o.replace(QNe,"$1"):r&&(a=r.trim()),e.push(a)}),e},yh=(t,e)=>Array.isArray(t)?t:NL(t,e)?[t]:_Me(`${t}`),E2=(t,e)=>{e=yh(e,t);let n=0;const r=e.length;for(;t!=null&&n<r;)t=t[kh(e[n])],n++;return n&&n==r?t:void 0};function wMe(t,e){if(t!==e){const n=t!==void 0,r=t===null,i=t===t,o=bb(t),a=e!==void 0,s=e===null,l=e===e,c=bb(e);if(!s&&!c&&!o&&t>e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}function SMe(t,e,n){let r=-1;const i=t.criteria,o=e.criteria,a=i.length,s=n.length;for(;++r<a;){const l=r<s?n[r]:null,u=(l&&typeof l=="function"?l:wMe)(i[r],o[r]);if(u)return l&&typeof l!="function"?u*(l=="desc"?-1:1):u}return t.index-e.index}const use=(t,e)=>{let n=(a,s)=>!!(a==null?0:a.length)&&a.indexOf(s)>-1,r=!0;const i=[],o=e.length;if(!t.length)return i;e.length>=OL&&(n=(a,s)=>a.has(s),r=!1,e=new w4(e));e:for(let a in t){let s=t[a];const l=s;if(s=s!==0?s:0,r&&l===l){let c=o;for(;c--;)if(e[c]===l)continue e;i.push(s)}else n(e,l)||i.push(s)}return i},kh=t=>{if(typeof t=="string"||bb(t))return t;const e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},B0=(t,e=!1,n=!1,r=!0,i,o,a,s)=>{let l;if(i&&(l=a?i(t,o,a,s):i(t)),l!==void 0)return l;if(!Jn(t))return t;const c=Array.isArray(t),u=$l(t);if(c){if(l=fMe(t),!e)return DL(t,l)}else{const m=typeof t=="function";if(u===g0||u===k4||m&&!a){if(l=n||m?{}:ose(t),!e)return n?xMe(t,I2(t,Object.keys(t),l)):hMe(t,Object.assign(l,t))}else{if(m||!CNe[u])return a?t:{};l=mMe(t,u,e)}}s||(s=new H0);const f=s.get(t);if(f)return f;if(s.set(t,l),uMe(t))return t.forEach((m,v)=>{l.set(v,B0(m,e,n,r,i,v,t,s))}),l;if(cMe(t))return t.forEach(m=>{l.add(B0(m,e,n,r,i,m,t,s))}),l;if(P2(t))return l;const h=c?void 0:(r?n?sse:hP:n?dse:A2)(t);return(h||t).forEach((m,v)=>{h&&(v=m,m=t[v]),Hb(l,v,B0(m,e,n,r,i,v,t,s))}),l},xMe=(t,e)=>I2(t,ase(t),e),fse=(t,e)=>e.length<2?t:E2(t,e.slice(0,-1)),CMe=(t,e,n)=>{if(!Jn(t))return t;e=yh(e,t);const r=e.length,i=r-1;let o=-1,a=t;for(;a!=null&&++o<r;){const s=kh(e[o]);let l=n;if(o!=i){const c=a[s];l=void 0,l===void 0&&(l=Jn(c)?c:ML(e[o+1])?[]:{})}Hb(a,s,l),a=a[s]}return t},ML=(t,e)=>{const n=typeof t;return e=e??Number.MAX_SAFE_INTEGER,!!e&&(n==="number"||n!=="symbol"&&tMe.test(t))&&t>-1&&t%1==0&&t<e},TMe=(t,e)=>{e=yh(e,t),t=fse(t,e);const n=e[e.length-1];return t==null||delete t[kh(n)]},AMe=t=>{const e=typeof t;return e==="string"||e==="number"||e==="symbol"||e==="boolean"?t!=="__proto__":t===null},dse=t=>{const e=[];for(const n in t)e.push(n);return e},IMe=t=>{t=Object(t);const e={};for(const n in t)e[n]=t[n];return e},CW=(t,e)=>{if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]};function hse(t,e=!1){return(n,...r)=>{let i=-1,o=r.length,a=o>1?r[o-1]:void 0;const s=o>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(o--,a):e?(l,c)=>{if(Array.isArray(l)&&!Array.isArray(c))return c}:void 0,s&&yk(r[0],r[1],s)&&(a=o<3?void 0:a,o=1),n=Object(n);++i<o;){const l=r[i];l&&t(n,l,i,a)}return n}}const zL=(t,e,n,r,i)=>{t!==e&&vl(e,(o,a)=>{if(Jn(o))i||(i=new H0),PMe(t,e,a,n,zL,r,i);else{let s=r?r(t[a],o,`${a}`,t,e,i):void 0;s===void 0&&(s=o),pP(t,a,s)}})},PMe=(t,e,n,r,i,o,a)=>{const s=CW(t,n),l=CW(e,n),c=a.get(l);if(c){pP(t,n,c);return}let u=o?o(s,l,`${n}`,t,e,a):void 0,f=u===void 0;if(f){const d=Array.isArray(l),h=!d&&P2(l);u=l,d||h?Array.isArray(s)?u=s:gc(s)&&Ml(s)?u=DL(s):h?(f=!1,u=ise(l,!0)):u=[]:Li(l)||_4(l)?(u=s,_4(s)?u=IMe(s):(typeof s=="function"||!Jn(s))&&(u=ose(l))):f=!1}f&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),pP(t,n,u)},pP=(t,e,n)=>{(n!==void 0&&!Bb(t[e],n)||n===void 0&&!(e in t))&&Hb(t,e,n)};function EMe(t,e,n){const r=Object(t),i=n(t);let{length:o}=i,a=-1;for(;o--;){const s=i[++a];if(e(r[s],s,r)===!1)break}return t}const $Me=(t,e)=>t&&EMe(t,e,A2),RL=(t,e)=>{if(t==null)return t;if(!Ml(t))return $Me(t,e);const n=t.length,r=Object(t);let i=-1;for(;++i<n&&e(r[i],i,r)!==!1;);return t};function OMe(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}const DMe=Set&&1/T_(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function pse(t,e,n,r,i,o){return Jn(t)&&Jn(e)&&(o.set(e,t),zL(t,e,void 0,pse,o),o.delete(e)),t}function LMe(t,e,n){e.length?e=e.map(a=>Array.isArray(a)?s=>E2(s,a.length===1?a[0]:a):a):e=[a=>a];let r=-1,i=-1;const o=Ml(t)?new Array(t.length):[];return RL(t,a=>{const s=e.map(l=>l(a));o[++i]={criteria:s,index:++r,value:a}}),FMe(o,(a,s)=>SMe(a,s,n))}function FMe(t,e){let{length:n}=t;for(t.sort(e);n--;)t[n]=t[n].value;return t}function mse(t){return t===t&&!Jn(t)}function gse(t,e){return n=>n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}function bse(t,e){return t!=null&&ZMe(t,e,JMe)}function NMe(t,e){return NL(t)&&mse(e)?gse(kh(t),e):n=>{const r=E2(n,t);return r===void 0&&r===e?bse(n,t):C_(e,r)}}function MMe(t){const e=zMe(t);return e.length===1&&e[0][2]?gse(e[0][0],e[0][1]):n=>n===t||RMe(n,t,e)}function zMe(t){const e=A2(t);let n=e.length;for(;n--;){const r=e[n],i=t[r];e[n]=[r,i,mse(i)]}return e}function RMe(t,e,n,r){let i=n.length;const o=i,a=!r;if(t==null)return!o;let s,l;for(t=Object(t);i--;)if(s=n[i],a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1;for(;++i<o;){s=n[i];const c=s[0],u=t[c],f=s[1];if(a&&s[2]){if(u===void 0&&!(c in t))return!1}else{const d=new H0;if(r&&(l=r(u,f,c,t,e,d)),!(l===void 0?C_(f,u,d):l))return!1}}return!0}function jMe(t){return NL(t)?VMe(kh(t)):BMe(t)}function VMe(t){return e=>e==null?void 0:e[t]}function BMe(t){return e=>E2(e,t)}function HMe(t){return typeof t=="function"?t:t==null?e=>e:typeof t=="object"?Array.isArray(t)?NMe(t[0],t[1]):MMe(t):jMe(t)}function A_(){const t=HMe;return arguments.length?t(arguments[0]):t}const WMe=(t,e,n,r)=>{let i=-1;const o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n},UMe=(t,e,n,r,i)=>(i(t,(o,a,s)=>{n=r?(r=!1,o):e(n,o,a,s)}),n);function GMe(t,e,n){const r=Array.isArray(t)?WMe:UMe,i=arguments.length<3;return r(t,e,n,i,RL)}const qMe=t=>Array.isArray(t)||_4(t)||!!(t&&t[Symbol.isConcatSpreadable]);function vse(t,e,n,r,i){let o=-1;const a=t.length;for(n||(n=qMe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?vse(s,e-1,n,r,i):i.push(...s):r||(i[i.length]=s)}return i}const _4=t=>gc(t)&&$l(t)=="[object Arguments]",YMe=(t,e)=>XMe(t,e,(n,r)=>bse(t,r)),XMe=(t,e,n)=>{let r=-1;const i=e.length,o={};for(;++r<i;){const a=e[r],s=E2(t,a);n(s,a)&&CMe(o,yh(a,t),s)}return o},KMe=t=>typeof t=="number"&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER,JMe=(t,e)=>t!=null&&e in Object(t),ZMe=(t,e,n)=>{e=yh(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=kh(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&KMe(i)&&ML(a,i)&&(Array.isArray(t)||_4(t)))},QMe=t=>t.match(iMe),eze=t=>t.match(UNe),tze=(t,e)=>e===void 0?(nMe(t)?eze(t):QMe(t))||[]:t.match(e)||[],nze=(t,e,n)=>{const{length:r}=t;return n=n===void 0?r:n,!e&&n>=r?t:t.slice(e,n)},rze=ize("toUpperCase");function ize(t){return e=>{if(!e)return"";const n=tse(e)?nse(e):void 0,r=n?n[0]:e[0],i=n?nze(n,1).join(""):e.slice(1);return r[t]()+i}}let H0=class{constructor(e){const n=this.__data__=new xC(e);this.size=n.size}clear(){this.__data__=new xC,this.size=0}delete(e){const n=this.__data__,r=n.delete(e);return this.size=n.size,r}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,n){let r=this.__data__;if(r instanceof xC){const i=r.__data__;if(i.length<OL-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new yse(i)}return r.set(e,n),this.size=r.size,this}},xC=class{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(e){const n=this.__data__,r=_9(n,e);if(r<0)return!1;const i=n.length-1;return r==i?n.pop():n.splice(r,1),--this.size,!0}get(e){const n=this.__data__,r=_9(n,e);return r<0?void 0:n[r][1]}has(e){return _9(this.__data__,e)>-1}set(e,n){const r=this.__data__,i=_9(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}},yse=class{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new TW,map:new Map,string:new TW}}delete(e){const n=w9(this,e).delete(e);return this.size-=n?1:0,n}get(e){return w9(this,e).get(e)}has(e){return w9(this,e).has(e)}set(e,n){const r=w9(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}},TW=class{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){const n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}get(e){const r=this.__data__[e];return r===dP?void 0:r}has(e){return this.__data__[e]!==void 0}set(e,n){const r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n===void 0?dP:n,this}},w4=class{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.__data__=new yse;++n<r;)this.add(e[n])}add(e){return this.__data__.set(e,dP),this}has(e){return this.__data__.has(e)}};w4.prototype.push=w4.prototype.add;const oze=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)===k_},Jn=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},Xa=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)===__},Xo=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)===w_},Nt=hse((t,e)=>{if(x_(e)||Ml(e)){I2(e,A2(e),t);return}for(var n in e)hasOwnProperty.call(e,n)&&Hb(t,n,e[n])}),aze=(t,...e)=>{let n=-1,r=e.length;const i=r>2?e[2]:void 0;for(i&&yk(e[0],e[1],i)&&(r=1);++n<r;){const o=e[n];if(o==null)continue;const a=Object.keys(o),s=a.length;let l=-1;for(;++l<s;){const c=a[l],u=t[c];(u===void 0||Bb(u,Object.prototype[c])&&!hasOwnProperty.call(t,c))&&(t[c]=o[c])}}return t},nc=aze,sze=function(...e){return e.push(void 0,pse),zi.apply(void 0,e)},jL=sze,uc=(t,e,...n)=>{let r=-1;const i=typeof e=="function",o=Ml(t)?new Array(t.length):[];return RL(t,a=>{o[++r]=i?e.apply(a,n):lze(a,e,...n)}),o},lze=(t,e,...n)=>{e=yh(e,t),t=fse(t,e);const r=t==null?t:t[kh(OMe(e))];return r==null?void 0:r.apply(t,n)},kse=(t,e,n)=>{let r=0,i=t==null?0:t.length;if(i==0)return 0;n=A_(n,2),e=n(e);const o=e!==e,a=e===null,s=bb(e),l=e===void 0;for(;r<i;){let c;const u=Math.floor((r+i)/2),f=n(t[u]),d=f!==void 0,h=f===null,m=f===f,v=bb(f);o?c=m:l?c=m&&d:a?c=m&&d&&!h:s?c=m&&d&&!h&&!v:h||v?c=!1:c=f<e,c?r=u+1:i=u}return Math.min(i,rMe)},$2=(t,e)=>{let n=-1,r=(l,c)=>!!(l==null?0:l.length)&&l.indexOf(c)>-1;e=A_(e,2);let i=!0;const{length:o}=t,a=[];let s=a;if(o>=OL){const l=e?null:DMe(t);if(l)return T_(l);i=!1,r=(c,u)=>c.has(u),s=new w4}else s=e?[]:a;e:for(;++n<o;){let l=t[n];const c=e?e(l):l;if(l=l!==0?l:0,i&&c===c){let u=s.length;for(;u--;)if(s[u]===c)continue e;e&&s.push(c),a.push(l)}else r(s,c)||(s!==a&&s.push(c),a.push(l))}return a},Wc=t=>B0(t),bl=t=>B0(t,!0),Id=t=>{if(t==null)return!0;if(Ml(t)&&(Array.isArray(t)||typeof t=="string"||typeof t.splice=="function"||P2(t)||_4(t)))return!t.length;const e=$l(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(x_(t))return!lMe(t).length;for(const n in t)if(hasOwnProperty.call(t,n))return!1;return!0},b0=(t,e)=>C_(t,e),yr=t=>typeof t=="function",Li=t=>{if(!gc(t)||$l(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Ln=t=>{if(!t)return[];if(Ml(t))return Xo(t)?nse(t):DL(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){const r=t[Symbol.iterator]();let i;const o=[];for(;!(i=r.next()).done;)o.push(i.value);return o}const e=$l(t);return(e==C2?cse:e==T2?T_:sMe)(t)};function cze(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");let r,i,o,a,s,l,c=0,u=!1,f=!1,d=!0;const h=!e&&e!==0&&window&&typeof window.requestAnimationFrame=="function";e=+e||0,Jn(n)&&(u=!!n.leading,f="maxWait"in n,o=f?Math.max(+n.maxWait||0,e):o,d="trailing"in n?!!n.trailing:d);function m(T){const P=r,$=i;return r=i=void 0,c=T,a=t.apply($,P),a}function v(T,P){return h?(window.cancelAnimationFrame(s),window.requestAnimationFrame(T)):setTimeout(T,P)}function k(T){if(h)return window.cancelAnimationFrame(T);clearTimeout(T)}function b(T){return c=T,s=v(C,e),u?m(T):a}function _(T){const P=T-l,$=T-c,F=e-P;return f?Math.min(F,o-$):F}function x(T){const P=T-l,$=T-c;return l===void 0||P>=e||P<0||f&&$>=o}function C(){const T=Date.now();if(x(T))return S(T);s=v(C,_(T))}function S(T){return s=void 0,d&&r?m(T):(r=i=void 0,a)}function g(...T){const P=Date.now(),$=x(P);if(r=T,i=this,l=P,$){if(s===void 0)return b(l);if(f)return s=v(C,e),m(l)}return s===void 0&&(s=v(C,e)),a}return g.cancel=()=>{s!==void 0&&k(s),c=0,r=l=i=s=void 0},g.flush=()=>s===void 0?a:S(Date.now()),g.pending=()=>s!==void 0,g}const uze=(t,e)=>(e=A_(e,2),GMe(t,(n,r,i)=>(i=e(r),hasOwnProperty.call(n,i)?n[i].push(r):Hb(n,i,[r]),n),{})),AW=(t,e=[])=>{if(t==null)return[];const n=e.length;return n>1&&yk(t,e[0],e[1])?e=[]:n>2&&yk(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[A_(e,2)]),LMe(t,e.flat(1),[])},fze=t=>(t==null?0:t.length)?vse(t,1/0):[],IW=(t,...e)=>Ml(t)?use(t,e):[],dze=(t,...e)=>gc(t)&&Ml(t)?use(t,e.flat(1)):[],mP=(...t)=>{const e=t.flat(1);return $2(e)},cf=(t,e)=>{if(t==null)return!1;typeof e=="string"&&(e=e.split("."));let n=-1,r=t;for(;++n<e.length;){if(!r||!hasOwnProperty.call(r,e[n]))return!1;r=r[e[n]]}return!0},Fi=(t,e,n)=>{e=yh(e,t);let r=-1,i=e.length;for(i||(i=1,t=void 0);++r<i;){let o=t==null?void 0:t[kh(e[r])];o===void 0&&(r=i,o=n),t=typeof o=="function"?o.call(t):o}return t},Om=(t,...e)=>{let n={};if(t==null)return n;let r=!1;e=e.flat(1).map(o=>(o=yh(o,t),r||(r=o.length>1),o)),I2(t,sse(t),n),r&&(n=B0(n,!0,!0,!0,o=>Li(o)?void 0:o));let i=e.length;for(;i--;)TMe(n,e[i]);return n},_se=(t,...e)=>t==null?{}:YMe(t,e.flat(1/0)),vl=(t,e=n=>n)=>{let n=-1;const r=Object(t),i=Ml(t)?rse(t,!0):dse(t);let o=i.length;for(;o--;){const a=i[++n];if(e(r[a],a,r)===!1)break}},hze=(t="")=>tze(`${t}`.replace(/['\u2019]/g,"")).reduce((e,n,r)=>(n=n.toLowerCase(),e+(r?rze(n):n)),"");let pze=0;const mze=(t="")=>{const e=++pze;return`${t}`+e},zi=hse((t,e,n,r)=>{zL(t,e,n,r)},!0),ac=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,hu.classNamePrefix.length)!==hu.classNamePrefix&&(e=hu.classNamePrefix+e),e}).join(" ")},gze=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,hu.classNamePrefix.length)===hu.classNamePrefix&&(e=e.substr(hu.classNamePrefix.length)),e}).join(" ")},kk=function(t,e){const n={},r={},i=We.namespace.svg,o=e||i,a=document.createDocumentFragment(),s=function(l,c,u){for(let f=0;f<l.length;f++){const d=l[f];if(typeof d=="string"){const C=document.createTextNode(d);c.appendChild(C);continue}if(!d.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const h=d.tagName;let m;d.hasOwnProperty("namespaceURI")&&(u=d.namespaceURI),m=document.createElementNS(u,h);const v=u===i,k=v?We:Rn,b=d.attributes;b&&k(m).attr(b);const _=d.style;if(_&&Rn(m).css(_),d.hasOwnProperty("className")){const C=d.className;v?m.className.baseVal=C:m.className=C}if(d.hasOwnProperty("textContent")&&(m.textContent=d.textContent),d.hasOwnProperty("selector")){const C=d.selector;if(n[C])throw new Error("json-dom-parser: selector must be unique");n[C]=m,k(m).attr("joint-selector",C)}if(d.hasOwnProperty("groupSelector")){let C=d.groupSelector;Array.isArray(C)||(C=[C]);for(let S=0;S<C.length;S++){const g=C[S];let T=r[g];T||(T=r[g]=[]),T.push(m)}}c.appendChild(m);const x=d.children;Array.isArray(x)&&s(x,m,u)}};return s(t,a,o),{fragment:a,selectors:n,groupSelectors:r}},S9=function(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e},S4=function(t,e,n){for(var r=Array.isArray(e)?e:e.split(n||"/"),i,o=0,a=r.length;o<a;)if(i=r[o++],Object(t)===t&&i in t)t=t[i];else return;return t},wse=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},gP=function(t,e,n,r){const i=Array.isArray(e)?e:e.split(r||"/"),o=i.length-1;let a=t,s=0;for(;s<o;s++){const l=i[s];if(!wse(a,l))return t;a=a[l]||(a[l]={})}return a[i[o]]=n,t},PW=function(t,e,n){const r=Array.isArray(e)?e:e.split(n||"/"),i=r.length-1;let o=t,a=0;for(;a<i;a++){const s=r[a];if(!wse(o,s))return t;const l=o[s];if(!l)return t;o=l}return delete o[r[i]],t},bze=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},v0=function(t){return v0.id=v0.id||1,t===void 0?"j_"+v0.id++:(t.id=t.id===void 0?"j_"+v0.id++:t.id,t.id)},vze=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},yi=function(t){if(t.normalized)return t;const{originalEvent:e,target:n}=t,r=e&&e.changedTouches&&e.changedTouches[0];if(r)for(let i in r)t[i]===void 0&&(t[i]=r[i]);if(n){const i=n.correspondingUseElement;i&&(t.target=i)}return t.normalized=!0,t},yze=function(t){let i=0,o=0,a=0,s=0;return"detail"in t&&(o=t.detail),"wheelDelta"in t&&(o=-t.wheelDelta/120),"wheelDeltaY"in t&&(o=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(i=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=o,o=0),a="deltaX"in t?t.deltaX:i*10,s="deltaY"in t?t.deltaY:o*10,(a||s)&&t.deltaMode&&(t.deltaMode==1?(a*=40,s*=40):(a*=800,s*=800)),t.deltaX===0&&t.deltaY!==0&&t.shiftKey&&(a=s,s=0,i=o,o=0),a&&!i&&(i=a<1?-1:1),s&&!o&&(o=s<1?-1:1),{spinX:i,spinY:o,deltaX:a,deltaY:s}},kze=function(t,e){return t>e?e:t<-e?-e:t},bP=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=new Date().getTime(),i=Math.max(0,16-(r-e)),o=setTimeout(function(){n(r+i)},i);return e=r+i,o}}return function(n,r,...i){return t(r!==void 0?n.bind(r,...i):n)}}(),vP=function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),Po=function(t){return Xo(t)&&t.slice(-1)==="%"},_ze=function(t,e){function n(s){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+s+")$").exec(t);return l?l[1]:null}var r=parseFloat(t);if(Number.isNaN(r))return null;var i={};i.value=r;var o;if(e==null)o="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;o=e.join("|")}else Xo(e)&&(o=e);var a=n(o);return a===null?null:(i.unit=a,i)},_k=0;function wze(t,e){const n=t.split(e);let r=1;for(let i=0,o=n.length-1;i<o;i++){const a=[];(i>0||n[0]!=="")&&a.push(_k),a.push(e),(i<o-1||n[o]!=="")&&a.push(_k),n.splice(r,0,...a),r+=a.length+1}return n.filter(i=>i!=="")}function EW(t,e){if(t===null)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}const Sse=function(t,e,n={},r={}){var i=e.width,o=e.height,a=r.svgDocument||We("svg").node,s=We("tspan").node,l=We("text").attr(n).append(s).node,c=document.createTextNode("");l.style.opacity=0,l.style.display="block",s.style.display="block",s.appendChild(c),a.appendChild(l),r.svgDocument||document.body.appendChild(a);const u=r.preserveSpaces,f=" ";var d=r.separator||f,h=r.eol||`
`,m=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,v=r.maxLineCount;Xa(v)||(v=1/0);var k=t.split(d),b=[],_=[],x,C,S;u&&We(s).attr("xml:space","preserve");for(var g=0,T=0,P=k.length;g<P;g++){var $=k[g];if(!(!$&&!u)&&typeof $=="string"){var F=!1;if(h&&$.indexOf(h)>=0)if($.length>1){const ke=wze(k[g],h);k.splice(g,1,...ke),g--,P=k.length;continue}else{if(u&&typeof k[g-1]=="string"){k.splice(g,_k,"",_k),P+=2,g--;continue}_[++T]=!u||typeof k[g+1]=="string"?"":void 0,F=!0}if(!F){let ke;if(u?ke=_[T]!==void 0?_[T]+f+$:$:ke=_[T]?_[T]+f+$:$,c.data=ke,s.getComputedTextLength()<=i)_[T]=ke,(x||C)&&(b[T++]=!0,x=0,C=0);else{if(!_[T]||x){var D=!!x;if(x=$.length-1,D||!x){if(!x){if(!_[T]){_=[];break}k.splice(g,2,$+k[g+1]),P--,b[T++]=!0,g--;continue}k[g]=$.substring(0,x),k[g+1]=$.substring(x)+(k[g+1]===void 0?"":k[g+1])}else{if(C)k.splice(g,2,k[g]+k[g+1]),C=0;else{var z=$.search(m);z>-1&&z!==$.length-1&&z!==0&&(C=z+1,x=0),k.splice(g,1,$.substring(0,C||x),$.substring(C||x)),P++}T&&!b[T-1]&&T--}(!u||_[T]!=="")&&g--;continue}T++,g--}}var R=null;if(_.length>v)R=v-1;else if(o!==void 0){if(S===void 0&&c.data!=="")if(n.lineHeight==="auto")S=EW({value:1.5,unit:"em"},l);else{const ke=_ze(n.lineHeight,["em","px",""]);S=EW(ke,l)}S*_.length>o&&(R=Math.floor(o/S)-1)}if(R!==null){_.splice(R+1);var V=r.ellipsis;if(!V||R<0)break;typeof V!="string"&&(V="…");var ie=_[R];if(!ie&&!F)break;var oe=ie.length,_e,Ae,Ie;do{if(Ae=ie[oe],_e=ie.substring(0,oe),Ae?Ae.match(d)&&(_e+=Ae):(Ie=typeof d=="string"?d:" ",_e+=Ie),_e+=V,c.data=_e,s.getComputedTextLength()<=i){_[R]=_e;break}oe--}while(oe>=0);break}}}return r.svgDocument?a.removeChild(l):document.body.removeChild(a),_.join(h)},Sze=function(t){var e=Rn(Rn.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;Rn.each(n.attributes,function(){var r=this,i=r.name,o=r.value;(i.startsWith("on")||o.startsWith("javascript:")||o.startsWith("data:")||o.startsWith("vbscript:"))&&Rn(n).removeAttr(i)})}),e.html()},xze=function(t,e){var n=Rn(t),r=n.map(function(){var i=this,o=i.parentNode,a=o.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(o===this)throw new Error("You can't sort elements if any one is a descendant of another.");o.insertBefore(this,a),o.removeChild(a)}});return Array.prototype.sort.call(n,e).each(function(i){r[i].call(this)})},Dm=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,i,o;return n=r=i=o=0,isFinite(t.vertical)&&(n=i=+t.vertical),isFinite(t.horizontal)&&(r=o=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(i=+t.bottom),isFinite(t.left)&&(o=+t.left),{top:n,right:r,bottom:i,left:o}},Cze={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var i=t(r);return i<e?e:i>n?n:i}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},xse={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var i,o,a={};for(i=n.length-1;i!=-1;i--)o=n[i],a[o]=t[o]+(e[o]-t[o])*r;return a}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),i=n&255,o=(r&255)-i,a=n&65280,s=(r&65280)-a,l=n&16711680,c=(r&16711680)-l;return function(u){var f=i+o*u&255,d=a+s*u&65280,h=l+c*u&16711680;return"#"+(1<<24|f|d|h).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),i=n.exec(e),o=i[1].indexOf("."),a=o>0?i[1].length-o-1:0;t=+r[1];var s=+i[1]-t,l=r[2];return function(c){return(t+s*c).toFixed(a)+l}}},Tze={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return ga(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return ga(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return ga('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return ga(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return ga('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return ga('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return ga('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return ga('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return ga('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return ga('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return ga('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},ga=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var i=Array.from(arguments),o=i.slice(1,4).find(function(l){return!!l}),a=o.split("."),s=n[a.shift()];s!==void 0&&a.length;)s=s[a.shift()];return s!==void 0?s:""})}},sv=function(){};function Cse(t){t=$2(t);const e=Ln(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return Ln(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const a=r.source(),s=r.target();a.id&&e[a.id]&&r.prop("source/id",e[a.id].id),s.id&&e[s.id]&&r.prop("target/id",e[s.id].id)}const i=n.get("parent");i&&e[i]&&r.set("parent",e[i].id);const o=Ln(n.get("embeds")).reduce(function(a,s){return e[s]&&a.push(e[s].id),a},[]);Id(o)||r.set("embeds",o)}),e}const Aze=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],Ize=Aze.reduce((t,e)=>(t[e]=!0,t),{}),Pze={qualify:function(t){return Li(t)},set:function(t,e,n){Object.keys(t).forEach(function(r){if(Ize[r]&&r in n){const i=t[r];n.tagName==="SELECT"&&Array.isArray(i)?Array.from(n.options).forEach(function(o,a){o.selected=i.includes(o.value)}):n[r]=i}})}},Eze=Pze;function sd(t,e){return function(n,r){var i=Po(n);n=parseFloat(n),i&&(n/=100);var o={};if(isFinite(n)){var a=i||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);o[t]=a}return o}}function x9(t,e,n){return function(r,i){var o=Po(r);r=parseFloat(r),o&&(r/=100);var a;if(isFinite(r)){var s=i[n]();o||r>0&&r<1?a=s[t]+i[e]*r:a=s[t]+r}var l=we();return l[t]=a||0,l}}function $W(t,e,n){return function(r,i){var o;r==="middle"?o=i[e]/2:r===n?o=i[e]:isFinite(r)?o=r>-1&&r<1?-i[e]*r:-r:Po(r)?o=i[e]*parseFloat(r)/100:o=0;var a=we();return a[t]=-(i[t]+o),a}}function Tse(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(i,o,a){var s=Rn(a),l=s.data(n);if(!l||l.value!==i){var c=t(i);l={value:i,shape:c,shapeBBox:c.bbox()},s.data(n,l)}var u=l.shape.clone(),f=l.shapeBBox.clone(),d=f.origin(),h=o.origin();f.x=h.x,f.y=h.y;var m=o.maxRectScaleToFit(f,h),v=f.width===0||o.width===0?1:m.sx,k=f.height===0||o.height===0?1:m.sy;return u.scale(v,k,d),r&&u.translate(-d.x,-d.y),u}}function OW(t){function e(r){return new xt(We.normalizePathData(r))}var n=Tse(e,t);return function(r,i,o){var a=n(r,i,o);return{d:a.serialize()}}}function DW(t){var e=Tse(Or,t);return function(n,r,i){var o=e(n,r,i);return{points:o.serialize()}}}function C9(t,e){var n=new we(1,0);return function(r){var i,o,a=this[t](r);return a?(o=e.rotate?a.vector().vectorAngle(n):0,i=a.start):(i=this.path.start,o=0),o===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+o+")"}}}function LW(t){return function(n,r,i){const o=We(i);o.attr(t)!==n&&o.attr(t,n)}}function zg(t,e,n){return n.text!==void 0}function lv(){return this.model.isLink()}function CC(t){var e={},n=t.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);var r=t.strokeOpacity;return r===void 0&&(r=t["stroke-opacity"]),r===void 0&&(r=t.opacity),r!==void 0&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function FW(t){const{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}const un={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:LW("href")},xlinkHref:{set:LW("xlink:href")},filter:{qualify:Li,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Li,set:FW},stroke:{qualify:Li,set:FW},sourceMarker:{qualify:Li,set:function(t,e,n,r){return t=Nt(CC(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Li,set:function(t,e,n,r){return t=Nt(CC(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Li,set:function(t,e,n,r){return t=Nt(CC(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!Li(n.textWrap)},set:function(t,e,n,r){var i=Rn(n),o="joint-text",a=i.data(o),s=_se(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:l}=s;wl(l)&&(s.x=Sl(l,e));let c=r["font-size"]||r.fontSize;wl(c)&&(c=Sl(c,e));var u=s.fontSize=c,f=JSON.stringify([t,s]);if(a===void 0||a!==f){u&&n.setAttribute("font-size",u);var d=s.textPath;if(Jn(d)){var h=d.selector;if(typeof h=="string"){var m=this.findBySelector(h)[0];m instanceof SVGPathElement&&(s.textPath=Nt({"xlink:href":"#"+m.id},d))}}We(n).text(""+t,s),i.data(o,f)}}},textWrap:{qualify:Li,set:function(t,e,n,r){var i={},o=t.width||0;Po(o)?i.width=e.width*parseFloat(o)/100:wl(o)?i.width=Number(Sl(o,e)):t.width===null?i.width=1/0:o<=0?i.width=e.width+o:i.width=o;var a=t.height||0;Po(a)?i.height=e.height*parseFloat(a)/100:wl(a)?i.height=Number(Sl(a,e)):t.height===null||(a<=0?i.height=e.height+a:i.height=a);var s,l=t.text;if(l===void 0&&(l=r.text),l!==void 0){const c=t.breakText||Sse,u=r["font-size"]||r.fontSize;s=c(""+l,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":wl(u)?Sl(u,e):u,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else s="";un.text.set.call(this,s,e,n,r)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var r=Rn(n),i="joint-title",o=r.data(i);if(o===void 0||o!==t){if(r.data(i,t),n.tagName==="title"){n.textContent=t;return}var a=n.firstElementChild;if(a&&a.tagName==="title")a.textContent=t;else{var s=document.createElementNS(n.namespaceURI,"title");s.textContent=t,n.insertBefore(s,a)}}}},lineHeight:{qualify:zg},textVerticalAnchor:{qualify:zg},textPath:{qualify:zg},annotations:{qualify:zg},eol:{qualify:zg},displayEmpty:{qualify:zg},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:Li,set:function(t,e,n){Rn(n).css(t)}},html:{set:function(t,e,n){Rn(n).html(t+"")}},props:Eze,ref:{},refX:{position:x9("x","width","origin")},refY:{position:x9("y","height","origin")},refDx:{position:x9("x","width","corner")},refDy:{position:x9("y","height","corner")},refWidth:{set:sd("width","width")},refHeight:{set:sd("height","height")},refRx:{set:sd("rx","width")},refRy:{set:sd("ry","height")},refRInscribed:{set:function(t){var e=sd(t,"width"),n=sd(t,"height");return function(r,i){var o=i.height>i.width?e:n;return o(r,i)}}("r")},refRCircumscribed:{set:function(t,e){var n=Po(t);t=parseFloat(t),n&&(t/=100);var r=Math.sqrt(e.height*e.height+e.width*e.width),i;return isFinite(t)&&(n||t>=0&&t<=1?i=t*r:i=Math.max(t+r,0)),{r:i}}},refCx:{set:sd("cx","width")},refCy:{set:sd("cy","height")},xAlignment:{offset:$W("x","width","right")},yAlignment:{offset:$W("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:OW({resetOffset:!0})},refDKeepOffset:{set:OW({resetOffset:!1})},refPointsResetOffset:{set:DW({resetOffset:!0})},refPointsKeepOffset:{set:DW({resetOffset:!1})},connection:{qualify:lv,set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let n;t<0?n=(this.getConnectionLength()+t)/2:n=t;const r=this.getConnection(),i=this.getConnectionSubdivisions(),o=r.divideAtLength(n,{segmentSubdivisions:i}),a=r.divideAtLength(-n,{segmentSubdivisions:i});o&&a&&(e=`${o[0].serialize()} ${a[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:lv,set:C9("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:lv,set:C9("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:lv,set:C9("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:lv,set:C9("getTangentAtRatio",{rotate:!1})}};un["xlink:href"]=un.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{un[t]={qualify:wl,set:function(n,r){return{[t]:Sl(n,r)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(t=>{un[t]={qualify:wl,set:function(n,r){return{[t]:Math.max(0,Sl(n,r))}}}});un.refR=un.refRInscribed;un.refD=un.refDResetOffset;un.refPoints=un.refPointsResetOffset;un.atConnectionLength=un.atConnectionLengthKeepGradient;un.atConnectionRatio=un.atConnectionRatioKeepGradient;un.fontSize=un["font-size"];un.strokeWidth=un["stroke-width"];un.refX2=un.refX;un.refY2=un.refY;un.refWidth2=un.refWidth;un.refHeight2=un.refHeight;un["ref-x"]=un.refX;un["ref-y"]=un.refY;un["ref-dy"]=un.refDy;un["ref-dx"]=un.refDx;un["ref-width"]=un.refWidth;un["ref-height"]=un.refHeight;un["x-alignment"]=un.xAlignment;un["y-alignment"]=un.yAlignment;const Ase=un,pu=Go.Model.extend({constructor:function(t,e){var n,r=t||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=mze("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=Fi(this,"defaults"))&&(r=zi({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=Fi(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};vl(n,function(o,a){const s=e[a];vl(o,function(l,c){Jn(l)&&!Array.isArray(l)?vl(l,function(u,f){(!s||!s[c]||!b0(s[c][f],u))&&(r[a]=r[a]||{},(r[a][c]||(r[a][c]={}))[f]=u)}):(!s||!b0(s[c],l))&&(r[a]=r[a]||{},r[a][c]=l)})});const i=bl(Om(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(t){const e=this.getIdAttribute();(!t||t[e]===void 0)&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return bze()},processPorts:function(){var t=this.ports,e={};vl(this.get("attrs"),function(o,a){o&&o.port&&(o.port.id!==void 0?e[o.port.id]=o.port:e[o.port]={id:o.port})});var n={};if(vl(t,function(o,a){e[a]||(n[a]=!0)}),this.graph&&!Id(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(o){n[o.get("target").port]&&o.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(o){n[o.get("source").port]&&o.remove()})}this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const i=this.getEmbeddedCells();for(let o=0,a=i.length;o<a;o++){const s=i[o];s&&s.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=t||{};let n;t.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1}),n.unshift(this)):n=[this];const r=AW(n,l=>l.z());let o=e.maxZIndex()-n.length+1;const a=e.get("cells");let s=a.indexOf(this)!==a.length-n.length;s||(s=r.some(function(l,c){return l.z()!==o+c})),s&&(this.startBatch("to-front"),o=o+n.length,r.forEach(function(l,c){l.set("z",o+c,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=t||{};let r;t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1}),r.unshift(this)):r=[this];const i=AW(r,s=>s.z());let o=e.minZIndex();var n=e.get("cells");let a=n.indexOf(this)!==0;a||(a=i.some(function(s,l){return s.z()!==o+l})),a&&(this.startBatch("to-back"),o-=r.length,i.forEach(function(s,l){s.set("z",o+l,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=Nt([],this.get("embeds"));t.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,e)}),this.set("embeds",$2(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",IW(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();e.push(r),n.push.apply(n,r.getEmbeddedCells())}}else e=this.getEmbeddedCells(),e.forEach(function(i){e.push.apply(e,i.getEmbeddedCells(t))});else e=Ln(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=Xo(t)?t:t.id,r=this.parent();if(e=Nt({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return Ln(Cse([this].concat(this.getEmbeddedCells({deep:!0}))));var e=Go.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",i=Xo(t);if(i||Array.isArray(t))if(arguments.length>1){var o,a;i?(o=t,a=o.split("/")):(o=t.join(r),a=t.slice());var s=a[0],l=a.length;const _=n||{};_.propertyPath=o,_.propertyValue=e,_.propertyPathArray=a,"rewrite"in _||(_.rewrite=!1);for(var c={},u=c,f=s,d=1;d<l;d++){var h=a[d],m=Number.isFinite(i?Number(h):h);u=u[f]=m?[]:{},f=h}c=gP(c,a,e,"/");var v=zi({},this.attributes);_.rewrite&&PW(v,o,"/");var k=zi(v,c);return this.set(s,k[s],_)}else return S4(this.attributes,t,r);const b=e||{};return b.propertyPath=null,b.propertyValue=t,b.propertyPathArray=[],"rewrite"in b||(b.rewrite=!1),this.set(zi({},this.attributes,t),b)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if(r==="attrs"&&(e.dirty=!0),n.length===1)return this.unset(t,e);var i=n.slice(1),o=this.get(r);return o==null?this:(o=bl(o),PW(o,i,"/"),this.set(r,o,e))},attr:function(t,e,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(t)?r[0]=["attrs"].concat(t):Xo(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/";var i={duration:100,delay:10,timingFunction:Cze.linear,valueFunction:xse.number};n=Nt(i,n);var o=0,a,s=(function(f){var d,h,m;o=o||f,f-=o,h=f/n.duration,h<1?this._transitionIds[t]=d=bP(s):(h=1,delete this._transitionIds[t]),m=a(n.timingFunction(h)),n.transitionId=d,this.prop(t,m,n),d||this.trigger("transition:end",this,t)}).bind(this);const{_scheduledTransitionIds:l}=this;let c;var u=f=>{l[t]&&(l[t]=IW(l[t],c),l[t].length===0&&delete l[t]),this.stopPendingTransitions(t,r),a=n.valueFunction(S4(this.attributes,t,r),e),this._transitionIds[t]=bP(f),this.trigger("transition:start",this,t)};return c=setTimeout(u,n.delay,s),l[t]||(l[t]=[]),l[t].push(c),c},getTransitions:function(){return mP(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const i=t.split(e);r=r.filter(o=>b0(i,o.split(e).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(a=>clearTimeout(a)),delete n[i]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const i=t.split(e);r=r.filter(o=>b0(i,o.split(e).slice(0,i.length)))}r.forEach(i=>{const o=n[i];vP(o),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,Nt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,Nt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new we(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new we},getBBox:function(){return new lt(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new we(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,n=Ase;return e&&e[t]||n[t]},define:function(t,e,n,r){n=Nt({defaults:jL({type:t},e,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&cf(joint,"shapes")&&gP(joint.shapes,t,i,"."),i}}),$ze=function(t,e,n){if(Xo(n)){if(!yP[n])throw new Error('Unknown wrapper: "'+n+'"');n=yP[n]}if(!yr(n))throw new Error("Wrapper must be a function.");Ln(e).forEach(function(r){t[r]=n(t[r])})},yP={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],i=n>1&&e[n-1]||{};return Array.isArray(r)||(i instanceof pu?r=e:r instanceof pu&&(e.length>1&&e.pop(),r=e)),i instanceof pu&&(i={}),t.call(this,r,i)}}},ki={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function Ise(t,e){const n=new lt(t);switch(e){case void 0:throw new Error("Position required");case ki.LEFT:case"leftMiddle":return n.leftMiddle();case ki.RIGHT:case"rightMiddle":return n.rightMiddle();case ki.TOP:case"topMiddle":return n.topMiddle();case ki.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case ki.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case ki.TOP_RIGHT:case"topRight":return n.topRight();case ki.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case ki.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case ki.CENTER:return n.center();default:throw new Error(`Unknown position: ${e}`)}}function Pse(t,e,n){var r=t.toJSON();return r.angle=e||0,nc({},n,r)}function O2(t,e,n,r){return t.map(function(i,o,a){var s=this.pointAt((o+.5)/a.length);return(i.dx||i.dy)&&s.offset(i.dx||0,i.dy||0),Pse(s.round(),0,VL(r,i))},um(e,n))}function Ese(t,e,n,r){var i=e.center(),o=e.width/e.height,a=e.topMiddle(),s=Ca.fromRect(e);return t.map(function(l,c,u){var f=n+r(c,u.length),d=a.clone().rotate(i,-f).scale(o,1,i),h=l.compensateRotation?-s.tangentTheta(d):0;return(l.dx||l.dy)&&d.offset(l.dx||0,l.dy||0),l.dr&&d.move(i,l.dr),Pse(d.round(),h,VL(e,l))})}function VL(t,e){let{x:n,y:r,angle:i}=e;return Po(n)?n=parseFloat(n)/100*t.width:wl(n)&&(n=Number(Sl(n,t))),Po(r)?r=parseFloat(r)/100*t.height:wl(r)&&(r=Number(Sl(r,t))),{x:n,y:r,angle:i}}function kP(t,e){const{x:n,y:r}=VL(t,e);return new we(n||0,r||0)}const Oze=function(t,e){return t.map(n=>{const r=kP(e,n).round().toJSON();return r.angle=n.angle||0,r})},Dze=function(t,e,n){return n.fn(t,e,n)},Lze=function(t,e,n){var r=kP(e,n.start||e.origin()),i=kP(e,n.end||e.corner());return O2(t,r,i,e)},Fze=function(t,e,n){return O2(t,e.origin(),e.bottomLeft(),e)},Nze=function(t,e,n){return O2(t,e.topRight(),e.corner(),e)},Mze=function(t,e,n){return O2(t,e.origin(),e.topRight(),e)},zze=function(t,e,n){return O2(t,e.bottomLeft(),e.corner(),e)},Rze=function(t,e,n){var r=n.startAngle||0,i=n.step||360/t.length;return Ese(t,e,r,function(o){return o*i})},jze=function(t,e,n){var r=n.startAngle||0,i=n.step||20;return Ese(t,e,r,function(o,a){return(o+.5-a/2)*i})},Vze=Object.freeze(Object.defineProperty({__proto__:null,absolute:Oze,bottom:zze,ellipse:jze,ellipseSpread:Rze,fn:Dze,left:Fze,line:Lze,right:Nze,top:Mze},Symbol.toStringTag,{value:"Module"}));function _h(t,e){return jL({},t,e,{x:0,y:0,angle:0,attrs:{}})}function $se(t,e,n,r){r=nc({},r,{offset:15});var i=e.center().theta(t),o=Ose(e),a,s,l,c,u=r.offset,f=0;i<o[1]||i>o[2]?(l=".3em",a=u,s=0,c="start"):i<o[0]?(a=0,s=-u,n?(f=-90,c="start",l=".3em"):(c="middle",l="0")):i<o[3]?(l=".3em",a=-u,s=0,c="end"):(a=0,s=u,n?(f=90,c="start",l=".3em"):(c="middle",l=".6em"));var d=Math.round;return _h({x:d(a),y:d(s),angle:f,attrs:{labelText:{y:l,textAnchor:c}}})}function Ose(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),i=e.theta(t.corner()),o=e.theta(t.topRight());return[n,o,i,r]}function Dse(t,e,n,r){var i=e.center().theta(t);r=nc({},r,{offset:15});var o,a,s,l,c=r.offset,u=0,f=Ose(e);i<f[1]||i>f[2]?(s=".3em",o=-c,a=0,l="end"):i<f[0]?(o=0,a=c,n?(u=90,l="start",s=".3em"):(l="middle",s=".6em")):i<f[3]?(s=".3em",o=c,a=0,l="start"):(o=0,a=-c,n?(u=-90,l="start",s=".3em"):(l="middle",s="0"));var d=Math.round;return _h({x:d(o),y:d(a),angle:u,attrs:{labelText:{y:s,textAnchor:l}}})}function Lse(t,e,n){n=nc({},n,{offset:20});var r=hk(0,0),i=-t.theta(r),o=i,a=t.clone().move(r,n.offset).difference(t).round(),s=".3em",l;(i+90)%180===0?(l=e?"end":"middle",!e&&i===-270&&(s="0em")):i>-270&&i<-90?(l="start",o=i-180):l="end";var c=Math.round;return _h({x:c(a.x),y:c(a.y),angle:e?o:0,attrs:{labelText:{y:s,textAnchor:l}}})}const Bze=function(t,e,n){return _h(n)},Hze=function(t,e,n){return _h(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},Wze=function(t,e,n){return _h(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},Uze=function(t,e,n){return _h(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},Gze=function(t,e,n){return _h(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},qze=function(t,e,n){return $se(t,e,!0,n)},Yze=function(t,e,n){return $se(t,e,!1,n)},Xze=function(t,e,n){return Dse(t,e,!0,n)},Kze=function(t,e,n){return Dse(t,e,!1,n)},Jze=function(t,e,n){return Lse(t.difference(e.center()),!1,n)},Zze=function(t,e,n){return Lse(t.difference(e.center()),!0,n)},Qze=Object.freeze(Object.defineProperty({__proto__:null,bottom:Gze,inside:Kze,insideOriented:Xze,left:Hze,manual:Bze,outside:Yze,outsideOriented:qze,radial:Jze,radialOriented:Zze,right:Wze,top:Uze},Symbol.toStringTag,{value:"Module"})),Qm=pu.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){if(t===void 0)return Wc(this.get("source"));var r,i,o=t instanceof pu;if(o)return r=Wc(e)||{},r.id=t.id,i=n,this.set("source",r,i);var a=!Li(t);return a?(r=Wc(e)||{},r.x=t.x,r.y=t.y,i=n,this.set("source",r,i)):(r=t,i=e,this.set("source",r,i))},target:function(t,e,n){if(t===void 0)return Wc(this.get("target"));var r,i,o=t instanceof pu;if(o)return r=Wc(e)||{},r.id=t.id,i=n,this.set("target",r,i);var a=!Li(t);return a?(r=Wc(e)||{},r.x=t.x,r.y=t.y,i=n,this.set("target",r,i)):(r=t,i=e,this.set("target",r,i))},router:function(t,e,n){if(t===void 0){var r=this.get("router");return r?typeof r=="object"?Wc(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof t=="object"||typeof t=="function",o=i?t:{name:t,args:e},a=i?e:n;return this.set("router",o,a)},connector:function(t,e,n){if(t===void 0){var r=this.get("connector");return r?typeof r=="object"?Wc(r):r:this.get("smooth")?{name:"smooth"}:null}var i=typeof t=="object"||typeof t=="function",o=i?t:{name:t,args:e},a=i?e:n;return this.set("connector",o,a)},label:function(t,e,n){var r=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return t=isFinite(t)&&t!==null?t|0:i,t<0&&(t=i+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var i=this._normalizeVertex(e);return this.prop(["vertices",t],i,n)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var i=t[r],o=this._normalizeVertex(i);n.push(o)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;t=isFinite(t)&&t!==null?t|0:i,t<0&&(t=i+t+1);var o=this._normalizeVertex(e);return r.splice(t,0,o),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){var e=!Li(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(i){return we(i).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!yr(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=t(r)),i.id||(n.target=t(i));var o=this.vertices();return o.length>0&&(n.vertices=o.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new we(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new we(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(we),this.getTargetPoint()];return new Or(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?e=r:r.isEmbeddedIn(n)?e=n:e=this.graph.getCommonAncestor(n,r)),i&&(!e||e.id!==i.id)&&i.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,i=n.id;if(!r||!i)return!1;var o=r===i;if(!o&&t.deep&&this.graph){var a=this.getSourceCell(),s=this.getTargetCell();o=a.isEmbeddedIn(s)||s.isEmbeddedIn(a)}return o},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=Xo(t)||Xa(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}});var Fse=function(t){var e=bl(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=Vze,this.portLabelLayoutNamespace=Qze,this._init(e)};Fse.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),i=n.position||{},o=i.name,a=this.portLayoutNamespace;a[o]||(o="left");var s=i.args||{},l=r.map(function(f){return f&&f.position&&f.position.args}),c=a[o](l,e,s),u={ports:r,result:[]};return Ln(c).reduce((function(f,d,h){var m=f.ports[h];return f.result.push({portId:m.id,portTransformation:d,labelTransformation:this._getPortLabelLayout(m,we(d),e),portAttrs:m.attrs,portSize:m.size,labelSize:m.label.size}),f}).bind(this),u),u.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,i=t.label.position.name||"left";return r[i]?r[i](e,n,t.label.position.args):null},_init:function(t){if(Jn(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var i=e[n];this.groups[i]=this._evaluateGroup(t.groups[i])}for(var o=Ln(t.items),a=0,s=o.length;a<s;a++)this.ports.push(this._evaluatePort(o[a]))},_evaluateGroup:function(t){return zi(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=Nt({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=zi({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=zi({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=Nt({},n.size,e.size),e},_getZIndex:function(t,e){return Xa(e.z)?e.z:Xa(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return zi({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n={},r;yr(t)?(r="fn",n.fn=t):Xo(t)?r=t:t===void 0?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):Jn(t)&&(r=t.name,Nt(n,t.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const eRe={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};Ln(t.items).forEach(function(s){e[s.id]=!0});var n=this.previous("ports")||{},r={};Ln(n.items).forEach(function(s){e[s.id]||(r[s.id]=!0)});var i=this.graph;if(i&&!Id(r)){var o=i.getConnectedLinks(this,{inbound:!0});o.forEach(function(s){r[s.get("target").port]&&s.remove()});var a=i.getConnectedLinks(this,{outbound:!0});a.forEach(function(s){r[s.get("source").port]&&s.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return bl(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=Ln(this.prop(["ports","items"])).filter(n=>n.group===t);return bl(e)},getPort:function(t){return bl(Ln(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,lt(this.size()));return e.reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(t){var e=Jn(t)?t.id:t;return this._isValidPortId(e)?Ln(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!Jn(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=Nt([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r=typeof t=="number"?t:this.getPortIndex(t);if(!Jn(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const i=Nt([],this.prop("ports/items"));return i.splice(r,0,e),this.prop("ports/items",i,n),this},portProp:function(t,e,n,r){var i=this.getPortIndex(t);if(i===-1)throw new Error("Element: unable to find port with id "+t);var o=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?o[0]=["ports","items",i].concat(e):Xo(e)?o[0]=["ports/items/",i,"/",e].join(""):(o=["ports/items/"+i],Li(e)&&(o.push(e),o.push(n))),this.prop.apply(this,o)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var n=Ln(t.items);return n.forEach(function(r){typeof r!="object"&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),$2(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!Jn(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",Nt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(r!==-1){const i=Nt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},t.length===0)return this.this;r=Nt([],this.prop(["ports","items"])).filter(function(o){return!t.some(function(a){const s=Jn(a)?a.id:a;return o.id===s})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new Fse(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(o){if(!e.find(function(a){return a.id===o.id}))return o}),i=e.filter(function(o){if(!n.find(function(a){return a.id===o.id}))return o});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},tRe={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var i=uze(this.model._portSettingsData.getPorts(),"z"),o="auto";Ln(i[o]).forEach(function(u){var f=this._getPortElement(u);e.append(f),t.push(f)},this);for(var a=Object.keys(i),s=0;s<a.length;s++){var l=a[s];if(l!==o){var c=parseInt(l,10);this._appendPorts(i[l],c,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),i=Ln(t).map(this._getPortElement,this);n[e]||e<0?We(n[Math.max(e,0)]).before(i):r.append(i)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;if(!e)return n.portContentElement.node;const r=n.portElement.node,i=n.portSelectors,[o=null]=this.findBySelector(e,r,i);return o},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){uc(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,i;var o=We(this.portContainerMarkup).addClass("joint-port"),a=this._getPortMarkup(t);if(Array.isArray(a)){var s=this.parseDOMJSON(a,o.node),l=s.fragment;l.childNodes.length>1?e=We("g").append(l):e=We(l.firstChild),i=s.selectors}else e=We(a),Array.isArray(e)&&(e=We("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const c=this._getPortLabelMarkup(t.label);if(Array.isArray(c)){const{fragment:v,selectors:k}=this.parseDOMJSON(c,o.node),b=v.childNodes.length;b>0&&(r=k,n=b===1?We(v.firstChild):We("g").append(v))}else n=We(c),Array.isArray(n)&&(n=We("g").append(n));var u;if(i&&r){for(var f in r)if(i[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");u=Nt({},i,r)}else u=i||r||{};const d="portRoot",h="labelRoot",m="labelText";if(d in u||(u[d]=e.node),n){const v=n.node;if(h in u||(u[h]=v),!(m in u)){const k=n.tagName()==="TEXT"?v:Array.from(v.querySelectorAll("text"));u[m]=k,r||(r={}),r[m]=k}}return o.append(e.addClass("joint-port-body")),n&&o.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:o,portLabelElement:n,portSelectors:u,portLabelSelectors:r,portContentElement:e,portContentSelectors:i},o},_updatePortGroup:function(t){for(var e=lt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,i=n.length;r<i;r++){var o=n[r],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation,c=o.labelTransformation;c&&s.portLabelElement&&(this.updateDOMSubtreeAttributes(s.portLabelElement.node,c.attrs,{rootBBox:new lt(o.labelSize),selectors:s.portLabelSelectors}),this.applyPortTransform(s.portLabelElement,c,-l.angle||0)),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new lt(o.portSize),selectors:s.portSelectors}),this.applyPortTransform(s.portElement,l)}},applyPortTransform:function(t,e,n){var r=We.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},aa=pu.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),pu.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=Xa(e);n=(r?n:t)||{};const{parentRelative:i,deep:o,restrictedArea:a}=n;let s;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(s=l.get("position"))}if(r){if(s&&(t+=s.x,e+=s.y),o||a){const{x:l,y:c}=this.get("position");this.translate(t-l,e-c,n)}else this.set("position",{x:t,y:e},n);return this}else{const l=we(this.get("position"));return i?l.difference(s):l}},translate:function(t,e,n){if(t=t||0,e=e||0,t===0&&e===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if(typeof i=="function"){var o=i.call(this,r.x+t,r.y+e,n);t=o.x-r.x,e=o.y-r.y}else{var a=this.getBBox({deep:!0}),s=r.x-a.x,l=r.y-a.y,c=Math.max(i.x+s,Math.min(i.x+i.width+s-a.width,r.x+t)),u=Math.max(i.y+l,Math.min(i.y+i.height+l-a.height,r.y+e));t=c-r.x,e=u-r.y}var f={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(Jn(n.transition)||(n.transition={}),this.transition("position",f,Nt({},n.transition,{valueFunction:xse.object})),uc(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",f,n),uc(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return t===void 0?{width:r.width,height:r.height}:(Jn(t)&&(n=e,e=Xa(t.height)?t.height:r.height,t=Xa(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}var i=yu(this.get("angle")||0),o=this.getBBox(),a;if(i){var s={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(s+=Math.floor((i+45)/90),s%=4);var l=o[["bottomLeft","corner","topRight","origin"][s]](),c=we(l).rotate(o.center(),-i),u=Math.sqrt(t*t+e*e)/2,f=s*Math.PI/2;f+=Math.atan(s%2==0?e/t:t/e),f-=ls(i);var d=we.fromPolar(u,f,c);a=we(d).offset(t/-2,e/-2)}else switch(a=o.topLeft(),n.direction){case"top":case"top-right":a.offset(0,o.height-e);break;case"left":case"bottom-left":a.offset(o.width-t,0);break;case"top-left":a.offset(o.width-t,o.height-e);break}this.set("size",{width:t,height:e},n),this.position(a.x,a.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var i=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",t),t.deep&&uc(n,"fitToChildren",t),this._fitToElements(Object.assign({elements:n},t)),this.stopBatch("fit-embeds"),this)},fitParent:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(i=>i.isElement());return r.length===0?this:(this.startBatch("fit-parent",t),n._fitToElements(Object.assign({elements:r},t)),t.deep&&n.fitParent(t),this.stopBatch("fit-parent"),this)},_fitToElements:function(t={}){const e=this.graph.getCellsBBox(t.elements);if(!e)return;const{expandOnly:n,shrinkOnly:r}=t;if(n&&r)return;let{x:i,y:o,width:a,height:s}=e;const{left:l,right:c,top:u,bottom:f}=Dm(t.padding);i-=l,o-=u,a+=l+c,s+=f+u;let d=new lt(i,o,a,s);if(n)d=this.getBBox().union(d);else if(r){const h=this.getBBox().intersect(d);if(!h)return;d=h}this.set({position:{x:d.x,y:d.y},size:{width:d.width,height:d.height}},t)},rotate:function(t,e,n,r){if(n){var i=this.getBBox().center(),o=this.get("size"),a=this.get("position");i.rotate(n,this.get("angle")-t);var s=i.x-o.width/2-a.x,l=i.y-o.height/2-a.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(a.x+s,a.y+l,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return yu(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:i}=t;if(r&&e){const f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),e.getCellsBBox(f,t)}const{angle:o=0,position:{x:a,y:s},size:{width:l,height:c}}=n,u=new lt(a,s,l,c);return i&&u.rotateAroundCenter(o),u},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),i=t.get(e);if(!i)return r;var o=i.port;if(!o||!this.hasPort(o))return r;var a=this.portProp(o,["group"]),s=this.getPortsPositions(a),l=new we(s[o]).offset(n.origin()),c=this.angle();return c&&l.rotate(r,-c),l}});Nt(aa.prototype,eRe);const nRe=Go.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&cf(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,r=n.cellNamespace,i=t.type==="link"?Qm:S4(r,t.type,".")||aa,o=new i(t,e);return e.dry||(o.graph=n.graph),o},comparator:function(t){return t.get("z")||0}}),uf=Go.Model.extend({initialize:function(t,e){e=e||{};var n=new nRe([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});Go.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=Go.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return typeof t=="object"?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=Om(r,"cells")),Go.Model.prototype.set.call(this,r,n)},clear:function(t){t=Nt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(t);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof Go.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!Xo(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof Go.Model?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=fze(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var n=Ln(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),uc(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.indirect,r=e.inbound,i=e.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=[],a={};i&&s(this,t),r&&l(this,t);function s(f,d){if(vl(f.getOutboundEdges(d.id),(function(m,v){if(!a[v]){var k=f.getCell(v);o.push(k),a[v]=!0,n&&(r&&l(f,k),i&&s(f,k))}}).bind(f)),n&&d.isLink()){var h=d.getTargetCell();h&&h.isLink()&&(a[h.id]||(o.push(h),s(f,h)))}}function l(f,d){if(vl(f.getInboundEdges(d.id),(function(m,v){if(!a[v]){var k=f.getCell(v);o.push(k),a[v]=!0,n&&(r&&l(f,k),i&&s(f,k))}}).bind(f)),n&&d.isLink()){var h=d.getSourceCell();h&&h.isLink()&&(a[h.id]||(o.push(h),l(f,h)))}}if(e.deep){var c=t.getEmbeddedCells({deep:!0}),u={};c.forEach(function(f){f.isElement()&&(u[f.id]=!0)}),c.forEach(function(f){f.isLink()||(i&&vl(this.getOutboundEdges(f.id),(function(d,h){if(!a[h]){var m=this.getCell(h),{source:v,target:k}=m.attributes,b=v.id,_=k.id;if(!e.includeEnclosed&&b&&u[b]&&_&&u[_])return;o.push(this.getCell(h)),a[h]=!0}}).bind(this)),r&&vl(this.getInboundEdges(f.id),(function(d,h){if(!a[h]){var m=this.getCell(h),{source:v,target:k}=m.attributes,b=v.id,_=k.id;if(!e.includeEnclosed&&b&&u[b]&&_&&u[_])return;o.push(this.getCell(h)),a[h]=!0}}).bind(this)))},this)}return o},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;n===void 0&&r===void 0&&(n=r=!0);var i=this.getConnectedLinks(t,e).reduce((function(s,l){var{source:c,target:u}=l.attributes,f=l.hasLoop(e);if(n&&cf(c,"id")&&!s[c.id]){var d=this.getCell(c.id);d.isElement()&&(f||d&&d!==t&&(!e.deep||!d.isEmbeddedIn(t)))&&(s[c.id]=d)}if(r&&cf(u,"id")&&!s[u.id]){var h=this.getCell(u.id);h.isElement()&&(f||h&&h!==t&&(!e.deep||!h.isEmbeddedIn(t)))&&(s[u.id]=h)}return s}).bind(this),{});if(t.isLink()){if(n){var o=t.getSourceCell();o&&o.isElement()&&!i[o.id]&&(i[o.id]=o)}if(r){var a=t.getTargetCell();a&&a.isElement()&&!i[a.id]&&(i[a.id]=a)}}return Ln(i)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=Ln(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},Nt({},e,{outbound:!0})),n},cloneCells:Cse,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},i=[],o=[];return Ln(t).forEach(function(a){if(r[a.id]||(n.push(a),r[a.id]=a,a.isLink()?o.push(a):i.push(a)),e.deep){var s=a.getEmbeddedCells({deep:!0});s.forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?o.push(l):i.push(l))})}}),o.forEach(function(a){var{source:s,target:l}=a.attributes;if(s.id&&!r[s.id]){var c=this.getCell(s.id);n.push(c),r[c.id]=c,i.push(c)}if(l.id&&!r[l.id]){var u=this.getCell(l.id);n.push(this.getCell(l.id)),r[u.id]=u,i.push(u)}},this),i.forEach(function(a){var s=this.getConnectedLinks(a,e);s.forEach(function(l){var{source:c,target:u}=l.attributes;!r[l.id]&&c.id&&r[c.id]&&u.id&&r[u.id]&&(n.push(l),r[l.id]=l)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},Nt({},e,{inbound:!0})),n},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},i={},o=[];for(o.push(t),i[t.id]=0;o.length>0;){var a=o.shift();if(r[a.id]||(r[a.id]=!0,e.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,n);for(let l=0,c=s.length;l<c;l++){const u=s[l];i[u.id]=i[a.id]+1,o.push(u)}}},dfs:function(t,e,n={}){const r={},i={},o=[];for(o.push(t),i[t.id]=0;o.length>0;){const a=o.pop();if(r[a.id]||(r[a.id]=!0,e.call(this,a,i[a.id])===!1))continue;const s=this.getNeighbors(a,n),l=o.length;for(let c=0,u=s.length;c<u;c++){const f=s[c];i[f.id]=i[a.id]+1,o.splice(l,0,f)}}},getSources:function(){var t=[];return vl(this._nodes,(function(e,n){(!this._in[n]||Id(this._in[n]))&&t.push(this.getCell(n))}).bind(this)),t},getSinks:function(){var t=[];return vl(this._nodes,(function(e,n){(!this._out[n]||Id(this._out[n]))&&t.push(this.getCell(n))}).bind(this)),t},isSource:function(t){return!this._in[t.id]||Id(this._in[t.id])},isSink:function(t){return!this._out[t.id]||Id(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){n=n||{};var r=n.inbound,i=n.outbound;r===void 0&&i===void 0&&(r=i=!0);var o=!1;return this.getConnectedLinks(t,n).forEach(function(a){var{source:s,target:l}=a.attributes;if(r&&cf(s,"id")&&s.id===e.id||i&&cf(l,"id")&&l.id===e.id)return o=!0,!1}),o},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){uc(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new lt(t),{strict:r=!1}=e,i=r?"containsRect":"intersect";return this.getElements().filter(o=>n[i](o.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,r=t.getBBox().rotateAroundCenter(t.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(Ise(r,n))).filter(o=>t.id!==o.id&&!o.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return Ln(t).reduce(function(r,i){const o=i.getBBox({rotate:n});return o?r?r.union(o):o:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return uc(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var i=this.getCellsBBox(n);if(i){var o=Math.max(t/i.width,0),a=Math.max(e/i.height,0);uc(n,"scale",o,a,i.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",Nt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",Nt({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return arguments.length===0?n=Object.keys(e):Array.isArray(t)?n=t:n=[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var i=e.getSourceCell();if(i){var o=t.getConnectedLinks(i,{outbound:!0}),a=o.filter(function(s){var{source:l,target:c}=s.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&c&&c.id===r.id&&(!c.port||c.port===r.port)});if(a.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});$ze(uf.prototype,["resetCells","addCells","removeCells"],yP.cells);const Fp={},vf=Go.View.extend({options:{},theme:null,themeClassNamePrefix:ac("theme-"),requireSetThemeOverride:!1,defaultTheme:hu.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=Nt({},this.options,t),Go.View.call(this,t)},initialize:function(){Fp[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(t){if(t||(t=Fi(this,"children")),t){var e=this.svgElement,n=We.namespace[e?"svg":"xhtml"],r=kk(t,n);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&n.nodeType===1;){var r=n.getAttribute(t);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(Fi(this,"el"));else{var t=Fi(this,"tagName"),e=Nt({},Fi(this,"attributes")),n=Nt({},Fi(this,"style"));this.id&&(e.id=Fi(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(We.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof Go.$?t:Go.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=We(this.el))},_ensureElClassName:function(){var t=Fi(this,"className");if(t){var e=ac(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Fp[this.cid]=null,Go.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var i in e){var o=e[i];typeof o!="function"&&(o=this[o]),o&&Rn(t).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(t){return Rn(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=Fi(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return e===void 0?n?n[r]||{}:{}:(n||(n=t.data={}),n[r]||(n[r]={}),Nt(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&Nt({},t[0])||{},n=t[1]&&Nt({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,Go.View.extend.call(this,e,n)}}),NW="dbltap";if(Rn.event&&!(NW in Rn.event.special)){const t=hu.doubleTapInterval,e=30;Rn.event.special[NW]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:i,target:o}=n,a=Rn.data(o),s=new Date().getTime(),l="lastTouch"in a?s-a.lastTouch:0;l<t&&l>e?(a.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):a.lastTouch=s}}}const yl={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},rRe=vf.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return ac(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;t=+t,t||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let i=-1/0;for(let o in n)o=+o,o<t&&o>i&&(i=o,t-1);if(i!==-1/0){const o=n[i];e.insertBefore(r,o.nextSibling)}else e.insertBefore(r,e.firstChild);return r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}});function cv(t){return t?Array.isArray(t)?t:[t]:[]}const sc=vf.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let n;if(typeof e=="string")[n]=t.findBySelector(e);else if(Li(e)){const r=t.model.isLink(),{label:i=null,port:o,selector:a}=e;r&&i!==null?n=t.findLabelNode(i,a):!r&&o?n=t.findPortNode(o,a):[n]=t.findBySelector(a)}else e&&(n=We.toNode(e),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(t,e){const{options:n}=this,{layer:r}=n,{rotatableNode:i}=t,o=t.getNodeMatrix(e);return i?r?i.contains(e)?o:t.getRootRotateMatrix().inverse().multiply(o):t.getNodeRotateMatrix(e).multiply(o):o},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:i,detachedTransformGroup:o,postponedUpdate:a,nodeSelector:s}=this;if(!t||i)return;if(a){this.update(e,s),this.transform();return}const{vel:l,paper:c}=e,{layer:u}=r;if(u){let f;o?(f=o,this.detachedTransformGroup=null):f=We("g").addClass("highlight-transform").append(n),this.transformGroup=f,c.getLayerView(u).insertSortedNode(f.node,r.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),i=e.getRootRotateMatrix(),o=r.multiply(i);t.attr("transform",We.matrixToTransformString(o))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;const o=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),o?(this.highlight(e,o),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){const e=Fi(this,"UPDATE_ATTRIBUTES");!Array.isArray(e)||e.length===0||this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:t}=this;if(!t)return;const{model:e,paper:n}=t;Fi(this,"UPDATE_ATTRIBUTES").some(i=>e.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,i=r[n];if(e===null){const o=[];if(!i)return o;for(let a in i){const s=i[a];s instanceof this&&o.push(s)}return o}else{if(!i)return null;if(e in i){const o=i[e];if(o instanceof this)return o}return null}},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=sc.get(t,n);i&&i.remove();const o=new this(r);return o.id=n,this._addRef(t,n,o),o.requestUpdate(t,e),o.listenToUpdateAttributes(t),o},_addRef(t,e,n){const{cid:r}=t,{_views:i}=this;let o=i[r];o||(o=i[r]={}),o[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,i=r[n];if(i){e&&delete i[e];for(let o in i)return;delete r[n]}},remove(t,e=null){cv(this.get(t,e)).forEach(n=>{n.remove()})},removeAll(t,e=null){const{_views:n}=this;for(let r in n)for(let i in n[r]){const o=n[r][i];o.cellView.paper===t&&o instanceof this&&(e===null||i===e)&&o.remove()}},update(t,e=null,n=!1){cv(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){cv(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(t,e=null){cv(this.get(t,e)).forEach(n=>n.unmount())},mount(t,e=null){cv(this.get(t,e)).forEach(n=>n.mount())},uniqueId(t,e=""){return We.ensureId(t)+JSON.stringify(e)}}),Rg={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},iRe={TOOLS:"TOOLS"},xn=vf.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,i){t.push("type-"+i.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},n=0,r,i,o,a=Fi(this,"presentationAttributes");for(var s in a)if(a.hasOwnProperty(s)){var l=a[s];for(Array.isArray(l)||(l=[l]),r=0,i=l.length;r<i;r++){o=l[r];var c=t[o];c||(c=t[o]=1<<n++),e[s]|=c}}var u=Fi(this,"initFlag");for(Array.isArray(u)||(u=[u]),r=0,i=u.length;r<i;r++)o=u[r],t[o]||(t[o]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||v0(this),vf.call(this,t)},initialize:function(){this.setFlags(),vf.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=kk(t),r=n.selectors,i=n.groupSelectors;for(var o in i){if(r[o])throw new Error("dia.CellView: ambiguous group selector");r[o]=i[o]}if(e){var a=this.selector;if(r[a])throw new Error("dia.CellView: ambiguous root selector.");r[a]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=yr(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Jn(e)&&e[t]!==!1||oze(e)&&e!==!1},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||t===".")return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return Rn(e).find(t).toArray()},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){const e=this.getNodeBoundingRect(t),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),r=this.getNodeMatrix(t);return We.transformRect(e,n.multiply(r))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():We.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return We.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),n=We.createSVGMatrix().translate(e.x,e.y);return n},getRootRotateMatrix:function(){var t=We.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),i=r.width/2,o=r.height/2;t=t.translate(i,o).rotate(n).translate(-i,-o)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let i;if(typeof e=="string"?[i=r]=this.findBySelector(e):[i=r]=this.$(e),n.partial=i!==r,n.type===void 0){let o;switch(!0){case n.embedding:o=Rg.EMBEDDING;break;case n.connecting:o=Rg.CONNECTING;break;case n.magnetAvailability:o=Rg.MAGNET_AVAILABILITY;break;case n.elementAvailability:o=Rg.ELEMENT_AVAILABILITY;break;default:o=Rg.DEFAULT;break}n.type=o}return this.notify(t,i,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),i=n===e;if((r||i)&&r!=="false")return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return typeof e=="string"&&(n="> "+e),n;if(t){var r=We(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,i=r.model,o=r.getDefaultLink(this,t);return o.set({source:this.getLinkEnd(t,e,n,o,"source"),target:{x:e,y:n}}).addTo(i,{async:!1,ui:!0}),o.findView(r)},getLinkEnd:function(t,...e){var n=this.model,r=n.id,i=this.findAttribute("port",t),o=t.getAttribute("joint-selector"),a={id:r};return o!=null&&(a.magnet=o),i!=null?(a.port=i,!n.hasPort(i)&&!o&&(a.selector=this.getSelector(t))):o==null&&this.el!==t&&(a.selector=this.getSelector(t)),this.customizeLinkEnd(a,t,...e)},customizeLinkEnd:function(t,e,n,r,i,o){const{paper:a}=this,{connectionStrategy:s}=a.options;if(typeof s=="function"){var l=s.call(a,t,this,e,new we(n,r),i,o,a);if(l)return l}return t},getMagnetFromLinkEnd:function(t){var e=this.el,n=t.port,r=t.magnet,i=this.model,o;return n!=null&&i.isElement()&&i.hasPort(n)?o=this.findPortNode(n,r)||e:(r||(r=t.selector),!r&&n!=null&&(r='[port="'+n+'"]'),o=this.findBySelector(r,e,this.selectors)[0]),this.findProxyNode(o,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(e,n,r);i.notifyPointerdown(t,n,r),i.eventData(t,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:i})},dragLink:function(t,e,n){var r=this.eventData(t),i=r.linkView;if(i)i.pointermove(t,e,n);else{var o=this.paper,a=o.options.magnetThreshold,s=this.getEventTarget(t),l=r.targetMagnet;if(a==="onleave"){if(l===s||We(l).contains(s))return}else if(o.eventData(t).mousemoved<=a)return;this.dragLinkStart(t,l,e,n)}},dragLinkEnd:function(t,e,n){var r=this.eventData(t),i=r.linkView;i&&(i.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){Id(e)||(t instanceof SVGElement?We(t).attr(e):Rn(t).attr(e))},processNodeAttributes:function(t,e){var n,r,i,o,a,s,l,c,u,f=[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],i=this.getAttributeDefinition(n),i&&(!yr(i.qualify)||i.qualify.call(this,r,t,e,this))?(Xo(i.set)&&(s||(s={}),s[i.set]=r),r!==null&&f.push(n,i)):(s||(s={}),s[vze(n)]=r));for(o=0,a=f.length;o<a;o+=2)n=f[o],i=f[o+1],r=e[n],yr(i.set)&&(l||(l={}),l[n]=r),yr(i.position)&&(c||(c={}),c[n]=r),yr(i.offset)&&(u||(u={}),u[n]=r);return{raw:e,normal:s,set:l,position:c,offset:u}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var i,o,a,s=e.raw||{},l=e.normal||{},c=e.set,u=e.position,f=e.offset;for(i in c){o=c[i],a=this.getAttributeDefinition(i);var d=a.set.call(this,o,n.clone(),t,s,this);Jn(d)?Nt(l,d):d!==void 0&&(l[i]=d)}if(t instanceof HTMLElement){this.setNodeAttributes(t,l);return}var h=l.transform,m=We.transformStringToMatrix(h),v=we(m.e,m.f);h&&(l=Om(l,"transform"),m.e=m.f=0);var k,b,_;if(u||f){var x=this.getNodeScale(t,r.scalableNode);k=x.sx,b=x.sy}var C=!1;for(i in u)o=u[i],a=this.getAttributeDefinition(i),_=a.position.call(this,o,n.clone(),t,s,this),_&&(v.offset(we(_).scale(k,b)),C||(C=!0));this.setNodeAttributes(t,l);var S=!1;if(f){var g=this.getNodeBoundingRect(t);if(g.width>0&&g.height>0){var T=We.transformRect(g,m).scale(1/k,1/b);for(i in f)o=f[i],a=this.getAttributeDefinition(i),_=a.offset.call(this,o,T,t,s,this),_&&(v.offset(we(_).scale(k,b)),S||(S=!0))}}(h!==void 0||C||S)&&(v.round(1),m.e=v.x,m.f=v.y,t.setAttribute("transform",We.matrixToTransformString(m)))},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var i=e.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=We.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=We(t).getBBox()),new lt(e.boundingRect)},getNodeMatrix:function(t){const e=this.nodeCache(t);if(e.magnetMatrix===void 0){const{rotatableNode:n,el:r}=this;let i;n&&n.contains(t)?i=n:i=r,e.magnetMatrix=We(t).getTransformToElement(i)}return We.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=We(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var i,o,a,s,l={},c=[];for(var u in t)if(t.hasOwnProperty(u)&&(a=t[u],!!Li(a))){var f=n[u]=this.findBySelector(u,e,r);for(i=0,o=f.length;i<o;i++){var d=f[i];s=We.ensureId(d);var h=r&&r[u]===d,m=l[s];if(m){m.array||(c.push(s),m.array=!0,m.attributes=[m.attributes],m.selectedLength=[m.selectedLength]);var v=m.attributes,k=m.selectedLength;if(h)v.unshift(a),k.unshift(-1);else{var b=kse(k,o);v.splice(b,0,a),k.splice(b,0,o)}}else l[s]={attributes:a,selectedLength:h?-1:o,node:d,array:!1}}}for(i=0,o=c.length;i<o;i++)s=c[i],a=l[s],a.attributes=zi({},...a.attributes.reverse());return l},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:i=0,clientY:o=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in t&&n.hasPointerCapture(t.pointerId)?document.elementFromPoint(i,o):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=lt()),n.selectors||(n.selectors=this.selectors);var r={},i={},o=[],a=[],s,l,c,u,f,d=n.roAttributes,h=this.findNodesAttributes(d||e,t,r,n.selectors),m=d?this.findNodesAttributes(e,t,r,n.selectors):h;for(var v in h)if(u=h[v],c=u.attributes,l=u.node,f=this.processNodeAttributes(l,c),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(l,f.normal);else{var k=m[v]&&m[v].attributes,b=k&&c.ref===void 0?k.ref:c.ref,_;if(b){if(_=(r[b]||this.findBySelector(b,t,n.selectors))[0],!_)throw new Error('dia.CellView: "'+b+'" reference does not exist.')}else _=null;if(s={node:l,refNode:_,processedAttributes:f,allAttributes:k},_){var x=a.findIndex(function(C){return C.refNode===l});x>-1?a.splice(x,0,s):a.push(s)}else o.push(s)}o.push(...a);for(let C=0,S=o.length;C<S;C++){s=o[C],l=s.node,_=s.refNode;const g=_?We.ensureId(_):"";let T=i[g];T||(T=i[g]=_?We(_).getBBox({target:oRe(l,_)}):n.rootBBox),d?(f=this.processNodeAttributes(l,s.allAttributes),this.mergeProcessedAttributes(f,s.processedAttributes)):f=s.processedAttributes,this.updateRelativeAttributes(l,f,T,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),Nt(t.set,e.set),Nt(t.position,e.position),Nt(t.offset,e.offset);var n=t.normal&&t.normal.transform;n!==void 0&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onMount(t){t||(this.mountTools(),sc.mount(this))},onDetach(){this.unmountTools(),sc.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const t=this._toolsView;return t&&t.unmount(),this},mountTools(){const t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){sc.remove(this)},updateHighlighters:function(t=!1){sc.update(this,null,t)},transformHighlighters:function(){sc.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){const{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(t,{graph:i})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e,model:n}=this;if(e.isAsync()){if(n.isLink()){const o=n.getSourceElement();if(o){const s=e.findViewByModel(o);s&&(e.dumpView(s),e.checkViewVisibility(s))}const a=n.getTargetElement();if(a){const s=e.findViewByModel(a);s&&(e.dumpView(s),e.checkViewVisibility(s))}}e.dumpView(this),e.checkViewVisibility(this)}const r=this.getEventTarget(t,{fromPoint:!0}),i=e.findView(r);i!==this&&(this.mouseleave(t),i&&i.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Flags:iRe,Highlighting:Rg,addPresentationAttributes:function(t){return zi({},Fi(this.prototype,"presentationAttributes"),t,function(e,n){if(!(!e||!n)&&(typeof e=="string"&&(e=[e]),typeof n=="string"&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return $2(e.concat(n))})}});function oRe(t,e){let n=t;do{if(n.contains(e))return n;n=n.parentNode}while(n);return null}const zn={TOOLS:xn.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},jg={MOVE:"move",MAGNET:"magnet"},ao=xn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=xn.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){xn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[zn.UPDATE],position:[zn.TRANSLATE,zn.TOOLS],size:[zn.RESIZE,zn.PORTS,zn.TOOLS],angle:[zn.ROTATE,zn.TOOLS],markup:[zn.RENDER],ports:[zn.PORTS]},initFlag:[zn.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=hu;this.hasFlag(t,zn.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,zn.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[zn.RENDER,zn.UPDATE,zn.RESIZE,zn.TRANSLATE,zn.ROTATE,zn.PORTS,zn.TOOLS]);else{let i=!1;this.hasFlag(t,zn.RESIZE)&&(this.resize(e),i=!0,t=this.removeFlag(t,[zn.RESIZE,zn.UPDATE]),n&&(t=this.removeFlag(t,zn.PORTS))),this.hasFlag(t,zn.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,zn.UPDATE),i=!0,n&&(t=this.removeFlag(t,zn.PORTS))),this.hasFlag(t,zn.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,zn.TRANSLATE),r=!0),this.hasFlag(t,zn.ROTATE)&&(this.rotate(),t=this.removeFlag(t,zn.ROTATE),r=!0),this.hasFlag(t,zn.PORTS)&&(this._renderPorts(),i=!0,t=this.removeFlag(t,zn.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,zn.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,zn.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=hu;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new lt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===i?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=We(n[this.rotatableSelector])||null,this.scalableNode=We(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(We(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),i=this.scalableNode,o=!1;i.node.getElementsByTagName("path").length>0&&(o=!0);var a=i.getBBox({recursive:o}),s=r.width/(a.width||1),l=r.height/(a.height||1);i.attr("transform","scale("+s+","+l+")");var c=this.rotatableNode,u=c&&c.attr("transform");if(u){c.attr("transform",u+" rotate("+-n+","+r.width/2+","+r.height/2+")");var f=i.getBBox({target:this.paper.cells});e.set("position",{x:f.x,y:f.y},Nt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,i=t.initialZIndices={},o=e.getEmbeddedCells({deep:!0}),a=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...o,...a].forEach(c=>i[c.id]=c.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const s=r.getElements().reduce((c,u)=>Math.max(c,u.attributes.z||0),0);a.forEach(c=>{c.attributes.z<=s&&c.set("z",s+1,{ui:!0})}),e.stopBatch("to-front");const l=e.parent();l?(r.getCell(l).unembed(e,{ui:!0}),t.initialParentId=l):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const i=t.model||this.model,o=t.paper||this.paper,a=o.model,{findParentBy:s,frontParentOnly:l,validateEmbedding:c}=o.options;let u;yr(s)?u=Ln(s.call(a,this,e,n,r)):s==="pointer"?u=Ln(a.findModelsFromPoint({x:n,y:r})):u=a.findModelsUnderElement(i,{searchBy:s}),u=u.filter(h=>h instanceof pu&&i.id!==h.id&&!h.isEmbeddedIn(i)),l&&(u=u.slice(-1));let f=null;const d=t.candidateEmbedView;for(let h=u.length-1;h>=0;h--){const m=u[h];if(d&&d.model.id==m.id){f=d;break}else{const v=m.findView(o);if(!yr(c)||c.call(o,this,v)){f=v;break}}}f&&f!=d&&(this.clearEmbedding(t),t.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&d&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:o}=t;if(o&&typeof i=="function"&&!i.call(r,this)){this._disallowUnembed(t);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,o=(t.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{const{initialParentId:a,initialPosition:s,initialZIndices:l}=t;if(s){const{x:u,y:f}=s;r.position(u,f,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(u=>{const f=o.getCell(u);f&&f.set("z",l[u],{ui:!0})});const c=o.getCell(a);c&&c.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return t},notifyPointerdown(t,e,n){xn.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){xn.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),xn.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){xn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){xn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){xn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragStart(t,e,n)},pointermove:function(t,e,n){const r=this.eventData(t),{targetMagnet:i,action:o,delegatedView:a}=r;switch(i&&this.magnetpointermove(t,i,e,n),o){case jg.MAGNET:this.dragMagnet(t,e,n);break;case jg.MOVE:(a||this).drag(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(t,e,n);break}this.eventData(t,r)},pointerup:function(t,e,n){const r=this.eventData(t),{targetMagnet:i,action:o,delegatedView:a}=r;switch(i&&this.magnetpointerup(t,i,e,n),o){case jg.MAGNET:this.dragMagnetEnd(t,e,n);break;case jg.MOVE:(a||this).dragEnd(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(t,e,n)}i&&this.magnetpointerclick(t,i,e,n),this.checkMouseleave(t)},mouseover:function(t){xn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){xn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){xn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){xn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){xn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){const{currentTarget:r}=t;this.magnetpointerdown(t,r,e,n),this.eventData(t,{targetMagnet:r}),this.dragMagnetStart(t,e,n)},magnetpointerdown:function(t,e,n,r){this.notify("element:magnet:pointerdown",t,e,n,r)},magnetpointermove:function(t,e,n,r){this.notify("element:magnet:pointermove",t,e,n,r)},magnetpointerup:function(t,e,n,r){this.notify("element:magnet:pointerup",t,e,n,r)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){if(this.isDefaultInteractionPrevented(t))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:jg.MOVE,delegatedView:r});const i=r.model.position();r.eventData(t,{initialPosition:i,pointerOffset:i.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){const{paper:r}=this,i=t.isPropagationStopped();if(i&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:o=t.currentTarget}=this.eventData(t);if(t.stopPropagation(),!r.options.validateMagnet.call(r,this,o,t)){i?this.dragStart(t,e,n):this.pointerdown(t,e,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(t,o,e,n),this.eventData(t,{action:jg.MAGNET})},drag:function(t,e,n){var r=this.paper,i=r.options.gridSize,o=this.model,a=this.eventData(t),{pointerOffset:s,restrictedArea:l,embedding:c}=a,u=Em(e+s.x,i),f=Em(n+s.y,i);o.position(u,f,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(c||(this.prepareEmbedding(a),c=!0),this.processEmbedding(a,t,e,n)),this.eventData(t,{embedding:c})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var i=this.paper;i.eventData(t).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:zn});Nt(ao.prototype,tRe);const aRe=function(t,e,n){return t},sRe=function(t,e,n){var r=e.side||"bottom",i=Dm(e.padding||40),o=n.sourceBBox,a=n.targetBBox,s=o.center(),l=a.center(),c,u,f;switch(r){case"bottom":f=1,c="y",u="height";break;case"top":f=-1,c="y",u="height";break;case"left":f=-1,c="x",u="width";break;case"right":f=1,c="x",u="width";break;default:throw new Error("Router: invalid side")}return s[c]+=f*(o[u]/2+i[r]),l[c]+=f*(a[u]/2+i[r]),f*(s[c]-l[c])>0?l[c]=s[c]:s[c]=l[c],[s].concat(t,l)};var lRe={N:"S",S:"N",E:"W",W:"E"},cRe={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function wk(t,e,n){var r=new we(t.x,e.y);return n.containsPoint(r)&&(r=new we(e.x,t.y)),r}function _P(t,e){return t[e==="W"||e==="E"?"width":"height"]}function Ta(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function T9(t){return new lt(t.x,t.y,0,0)}function Sk(t){var e=Dm(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function Nse(t,e){return t.sourceBBox.clone().moveAndExpand(Sk(e))}function Mse(t,e){return t.targetBBox.clone().moveAndExpand(Sk(e))}function uRe(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Nse(t,e);return n.center()}function fRe(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Mse(t,e);return n.center()}function zse(t,e,n){var r=new we(t.x,e.y),i=new we(e.x,t.y),o=Ta(t,r),a=Ta(t,i),s=lRe[n],l=o===n||o!==s&&(a===s||a!==n)?r:i;return{points:[l],direction:Ta(l,e)}}function I8(t,e,n){var r=wk(t,e,n);return{points:[r],direction:Ta(r,e)}}function dRe(t,e,n,r){var i={},o=[new we(t.x,e.y),new we(e.x,t.y)],a=o.filter(function(f){return!n.containsPoint(f)}),s=a.filter(function(f){return Ta(f,t)!==r}),l;if(s.length>0)l=s.filter(function(f){return Ta(t,f)===r}).pop(),l=l||s[0],i.points=[l],i.direction=Ta(l,e);else{l=dze(o,a)[0];var c=new we(e).move(l,-_P(n,r)/2),u=wk(c,t,n);i.points=[u,c],i.direction=Ta(c,e)}return i}function hRe(t,e,n,r){var i=I8(e,t,r),o=i.points[0];if(n.containsPoint(o)){i=I8(t,e,n);var a=i.points[0];if(r.containsPoint(a)){var s=new we(t).move(a,-_P(n,Ta(t,a))/2),l=new we(e).move(o,-_P(r,Ta(e,o))/2),c=new mt(s,l).midpoint(),u=I8(t,c,n),f=zse(c,e,u.direction);i.points=[u.points[0],f.points[0]],i.direction=f.direction}}return i}function TC(t,e,n,r,i){var o={},a=n.union(r).inflate(1),s=a.center().distance(e)>a.center().distance(t),l=s?e:t,c=s?t:e,u,f,d;return i?(u=we.fromPolar(a.width+a.height,cRe[i],l),u=a.pointNearestToPoint(u).move(u,-1)):u=a.pointNearestToPoint(l).move(l,1),f=wk(u,c,a),u.round().equals(f.round())?(f=we.fromPolar(a.width+a.height,ls(u.theta(l))+Math.PI/2,c),f=a.pointNearestToPoint(f).move(c,1).round(),d=wk(u,f,a),o.points=s?[f,d,u]:[u,d,f]):o.points=s?[f,u]:[u,f],o.direction=Ta(s?u:f,e),o}function wP(t,e,n){var r=Nse(n,e),i=Mse(n,e),o=uRe(n,e),a=fRe(n,e);r=r.union(T9(o)),i=i.union(T9(a)),t=Ln(t).map(we),t.unshift(o),t.push(a);for(var s,l=[],c=0,u=t.length-1;c<u;c++){var f=null,d=t[c],h=t[c+1],m=!!Ta(d,h);if(c===0)c+1===u?r.intersect(i.clone().inflate(1))?f=TC(d,h,r,i):m||(f=hRe(d,h,r,i)):r.containsPoint(h)?f=TC(d,h,r,T9(h).moveAndExpand(Sk(e))):m||(f=I8(d,h,r));else if(c+1===u){var v=m&&Ta(h,d)===s;i.containsPoint(d)||v?f=TC(d,h,T9(d).moveAndExpand(Sk(e)),i,s):m||(f=dRe(d,h,i,s))}else m||(f=zse(d,h,s));f?(Array.prototype.push.apply(l,f.points),s=f.direction):s=Ta(d,h),c+1<u&&l.push(h)}return l}var Rse={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!yr(wP))throw new Error("Manhattan requires the orthogonal router as default fallback.");return wP(t,Nt({},Rse,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function BL(t){this.map={},this.options=t,this.mapGridSize=100}BL.prototype.build=function(t,e){var n=this.options,r=Ln(n.excludeEnds).reduce(function(l,c){var u=e.get(c);if(u){var f=t.getCell(u.id);f&&l.push(f)}return l},[]),i=[],o=t.getCell(e.get("source").id);o&&(i=mP(i,o.getAncestors().map(function(l){return l.id})));var a=t.getCell(e.get("target").id);a&&(i=mP(i,a.getAncestors().map(function(l){return l.id})));var s=this.mapGridSize;return t.getElements().reduce(function(l,c){var u=Ln(n.excludeTypes).includes(c.get("type")),f=r.find(function(C){return C.id===c.id}),d=i.includes(c.id),h=u||f||d;if(!h)for(var m=c.getBBox().moveAndExpand(n.paddingBox),v=m.origin().snapToGrid(s),k=m.corner().snapToGrid(s),b=v.x;b<=k.x;b+=s)for(var _=v.y;_<=k.y;_+=s){var x=b+"@"+_;l[x]=l[x]||[],l[x].push(m)}return l},this.map),this};BL.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return Ln(this.map[e]).every(function(n){return!n.containsPoint(t)})};function eg(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}eg.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=kse(this.items,t,(function(r){return this.values[r]}).bind(this));this.items.splice(n,0,t)};eg.prototype.remove=function(t){this.hash[t]=this.CLOSE};eg.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};eg.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};eg.prototype.isEmpty=function(){return this.items.length===0};eg.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function jse(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Vse(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function Bse(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=jse(t,e);return n.center()}function pRe(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Vse(t,e);return n.center()}function AC(t,e,n,r,i){var o=360/n,a=t.theta(mRe(t,e,r,i)),s=yu(a+o/2);return o*Math.floor(s/o)}function mRe(t,e,n,r){var i=r.step,o=e.x-t.x,a=e.y-t.y,s=o/n.x,l=a/n.y,c=s*i,u=l*i;return new we(t.x+c,t.y+u)}function MW(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function gRe(t,e,n){var r=n.step;Ln(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*e.x,i.gridOffsetY=i.offsetY/r*e.y})}function bRe(t,e,n){return{source:e.clone(),x:zW(n.x-e.x,t),y:zW(n.y-e.y,t)}}function zW(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);if(!r)return n;var i=r*e,o=n-i,a=o/r;return e+a}function vRe(t,e){var n=e.source,r=Em(t.x-n.x,e.x)+n.x,i=Em(t.y-n.y,e.y)+n.y;return new we(r,i)}function Lv(t,e){return t.round(e)}function P8(t,e,n){return Lv(vRe(t.clone(),e),n)}function gy(t){return t.clone().toString()}function IC(t){return new we(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function yRe(t,e,n,r,i,o,a){for(var s=[],l=IC(i.difference(n)),c=gy(n),u=t[c],f;u;){f=e[c];var d=IC(f.difference(u));d.equals(l)||(s.unshift(f),l=d),c=gy(u),u=t[c]}var h=e[c],m=IC(h.difference(r));return m.equals(l)||s.unshift(h),s}function RW(t,e){for(var n=1/0,r=0,i=e.length;r<i;r++){var o=t.manhattanDistance(e[r]);o<n&&(n=o)}return n}function jW(t,e,n,r,i){var o=i.precision,a=i.directionMap,s=t.difference(e.center()),l=Jn(a)?Object.keys(a):[],c=Ln(n),u=l.reduce(function(f,d){if(c.includes(d)){for(var h=a[d],m=new we(t.x+h.x*(Math.abs(s.x)+e.width),t.y+h.y*(Math.abs(s.y)+e.height)),v=new mt(t,m),k=v.intersect(e)||[],b=k.length,_,x=null,C=0;C<b;C++){var S=k[C],g=t.squaredDistance(S);(_===void 0||g>_)&&(_=g,x=S)}if(x){var T=P8(x,r,o);e.containsPoint(T)&&(T=P8(T.offset(h.x*r.x,h.y*r.y),r,o)),f.push(T)}}return f},[]);return e.containsPoint(t)||u.push(P8(t,r,o)),u}function kRe(t,e,n,r){var i=r.precision,o,a;t instanceof lt?o=Lv(Bse(this,r).clone(),i):o=Lv(t.clone(),i),e instanceof lt?a=Lv(pRe(this,r).clone(),i):a=Lv(e.clone(),i);var s=bRe(r.step,o,a),l,c,u,f;if(t instanceof lt?(l=o,u=jW(l,t,r.startDirections,s,r)):(l=o,u=[l]),e instanceof lt?(c=a,f=jW(a,e,r.endDirections,s,r)):(c=a,f=[c]),u=u.filter(ve=>!n(ve)),f=f.filter(ve=>!n(ve)),u.length>0&&f.length>0){for(var d=new eg,h={},m={},v={},k=0,b=u.length;k<b;k++){var _=u[k],x=gy(_);d.add(x,RW(_,f)),h[x]=_,v[x]=0}var C=r.previousDirectionAngle,S=C===void 0,g,T,P=r.directions;gRe(P,s,r);for(var $=P.length,F=Ln(f).reduce(function(ve,B){var Y=gy(B);return ve.push(Y),ve},[]),D=r.maximumLoops;!d.isEmpty()&&D>0;){var z=d.pop(),R=h[z],V=m[z],ie=v[z],oe=V===void 0,_e=R.equals(l),Ae;oe?S?_e?Ae=null:Ae=AC(l,R,$,s,r):Ae=C:Ae=AC(V,R,$,s,r);var Ie=u.length===f.length;if(Ie){for(var ke=0;ke<u.length;ke++)if(!u[ke].equals(f[ke])){Ie=!1;break}}var se=oe&&Ie;if(!se&&F.indexOf(z)>=0)return r.previousDirectionAngle=Ae,yRe(m,h,R,l,c);for(k=0;k<$;k++){g=P[k];var ne=g.angle;if(T=MW(Ae,ne),!(!(S&&_e)&&T>r.maxAllowedDirectionChange)){var J=P8(R.clone().offset(g.gridOffsetX,g.gridOffsetY),s,i),j=gy(J);if(!(d.isClose(j)||n(J))){if(F.indexOf(j)>=0){var U=J.equals(c);if(!U){var ae=AC(J,c,$,s,r),te=MW(ne,ae);if(te>r.maxAllowedDirectionChange)continue}}var ue=g.cost,ce=_e?0:r.penalties[T],fe=ie+ue+ce;(!d.isOpen(j)||fe<v[j])&&(h[j]=J,m[j]=R,v[j]=fe,d.add(j,fe+RW(J,f)))}}}D--}}return r.fallbackRoute.call(this,l,c,r)}function _Re(t){if(t.directions=Fi(t,"directions"),t.penalties=Fi(t,"penalties"),t.paddingBox=Fi(t,"paddingBox"),t.padding=Fi(t,"padding"),t.padding){var e=Dm(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}Ln(t.directions).forEach(function(n){var r=new we(0,0),i=new we(n.offsetX,n.offsetY);n.angle=yu(r.theta(i))})}function wRe(t,e,n){_Re(e),n.options.perpendicular=!!e.perpendicular;var r=jse(n,e),i=Vse(n,e),o=Bse(n,e);let a;if(typeof e.isPointObstacle=="function")a=e.isPointObstacle;else{const x=new BL(e);x.build(n.paper.model,n.model),a=C=>!x.isPointAccessible(C)}for(var s=Ln(t).map(we),l=[],c=o,u,f,d=0,h=s.length;d<=h;d++){var m=null;if(f=u||r,u=s[d],!u){u=i;var v=!n.model.get("source").id||!n.model.get("target").id;if(v&&yr(e.draggingRoute)){var k=f===r?o:f,b=u.origin();m=e.draggingRoute.call(n,k,b,e)}}if(m=m||kRe.call(n,f,u,a,e),m===null)return e.fallbackRouter(t,e,n);var _=m[0];_&&_.equals(c)&&m.shift(),c=m[m.length-1]||c,Array.prototype.push.apply(l,m)}return l}const SP=function(t,e,n){return wRe(t,Nt({},Rse,e),n)};var SRe={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),i=[],o={x:e.x,y:t.y},a={x:t.x,y:e.y};if(r%180>90){var s=o;o=a,a=s}var l=r%90<45?o:a,c=new mt(t,l),u=90*Math.ceil(r/90),f=we.fromPolar(c.squaredLength(),ls(u+135),l),d=new mt(e,f),h=c.intersection(d),m=h||e,v=h?m:t,k=360/n.directions.length,b=v.theta(e),_=yu(b+k/2),x=k*Math.floor(_/k);return n.previousDirectionAngle=x,m&&i.push(m.round()),i.push(e),i}};const xRe=function(t,e,n){if(!yr(SP))throw new Error("Metro requires the manhattan router.");return SP(t,Nt({},SRe,e),n)},Gr={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},VW=[Gr.LEFT,Gr.RIGHT,Gr.TOP,Gr.BOTTOM];function BW(t,e,n){const r=n.getTangentAtLength(n.getClosestPointLength(e));switch(Math.round(r.angle()/90)*90){case 0:case 360:return t.y<e.y?Gr.TOP:Gr.BOTTOM;case 90:return t.x<e.x?Gr.LEFT:Gr.RIGHT;case 180:return t.y<e.y?Gr.TOP:Gr.BOTTOM;case 270:return t.x<e.x?Gr.LEFT:Gr.RIGHT}}function Hse(t,e,n){const r=e.margin||20;let{sourceDirection:i=Gr.AUTO,targetDirection:o=Gr.AUTO}=e;const a=n.sourceView,s=n.targetView,l=!!n.model.source().port,c=!!n.model.target().port;i===Gr.AUTO&&(i=l?Gr.MAGNET_SIDE:Gr.ANCHOR_SIDE),o===Gr.AUTO&&(o=c?Gr.MAGNET_SIDE:Gr.ANCHOR_SIDE);const u=n.sourceBBox,f=n.targetBBox,d=n.sourceAnchor,h=n.targetAnchor;let{x:m,y:v,width:k=0,height:b=0}=a&&a.model.isElement()?lt.fromRectUnion(u,a.model.getBBox()):n.sourceAnchor,{x:_,y:x,width:C=0,height:S=0}=s&&s.model.isElement()?lt.fromRectUnion(f,s.model.getBBox()):n.targetAnchor;const g=_+C,T=x+S,P=m+k,$=v+b,F=m-r,D=P+r,z=v-r,R=$+r,V=_-r,ie=g+r,oe=x-r,_e=T+r,Ae=d.clone();let Ie;if(a)a.model.isLink()?Ie=BW(h,d,a):i===Gr.ANCHOR_SIDE?Ie=u.sideNearestToPoint(d):i===Gr.MAGNET_SIDE?Ie=a.model.getBBox().sideNearestToPoint(d):Ie=i;else{const B=new lt(m,v,0,0);Ie=VW.includes(i)?i:B.sideNearestToPoint(h)}switch(Ie){case"left":Ae.x=F;break;case"right":Ae.x=D;break;case"top":Ae.y=z;break;case"bottom":Ae.y=R;break}const ke=h.clone();let se;if(s)s.model.isLink()?se=BW(d,h,s):o===Gr.ANCHOR_SIDE?se=f.sideNearestToPoint(h):o===Gr.MAGNET_SIDE?se=s.model.getBBox().sideNearestToPoint(h):se=o;else{const B=new lt(_,x,0,0);se=VW.includes(o)?o:B.sideNearestToPoint(d)}switch(se){case"left":ke.x=V;break;case"right":ke.x=ie;break;case"top":ke.y=oe;break;case"bottom":ke.y=_e;break}const{x:ne,y:J}=Ae,{x:j,y:U}=ke,ae=(_+g)/2,te=(x+T)/2,ue=(m+P)/2,ce=(v+$)/2,fe=(ue<ae?P+_:g+m)/2,ve=(ce<te?$+x:T+v)/2;if(Ie==="left"&&se==="right"){if(F<=g){let Y=ve;return P<=_&&(T>=z&&U<J?Y=Math.min(oe,z):x<=R&&U>=J&&(Y=Math.max(_e,R))),[{x:ne,y:J},{x:ne,y:Y},{x:j,y:Y},{x:j,y:U}]}const B=(ne+j)/2;return[{x:B,y:J},{x:B,y:U}]}else if(Ie==="right"&&se==="left"){if(D>=_){let Y=ve;return ne>g&&(T>=z&&U<J?Y=Math.min(oe,z):x<=R&&U>=J&&(Y=Math.max(_e,R))),[{x:ne,y:J},{x:ne,y:Y},{x:j,y:Y},{x:j,y:U}]}const B=(ne+j)/2;return[{x:B,y:J},{x:B,y:U}]}else if(Ie==="top"&&se==="bottom"){if(J<U){let Y=fe,E=J;return J<x&&(g>=F&&j<ne?Y=Math.min(V,F):_<=D&&j>=ne&&(Y=Math.max(ie,D))),[{x:ne,y:E},{x:Y,y:E},{x:Y,y:U},{x:j,y:U}]}const B=(J+U)/2;return[{x:ne,y:B},{x:j,y:B}]}else if(Ie==="bottom"&&se==="top"){if(J-r>U){let Y=fe,E=J;return J>T&&(g>=F&&j<ne?Y=Math.min(V,F):_<=D&&j>=ne&&(Y=Math.max(ie,D))),[{x:ne,y:E},{x:Y,y:E},{x:Y,y:U},{x:j,y:U}]}const B=(J+U)/2;return[{x:ne,y:B},{x:j,y:B}]}else if(Ie==="top"&&se==="top"){let B,Y=Math.min(($+x)/2,U),E=Math.min((v+T)/2,J);if(U<J){if(ne>=ie||ne<=V)return[{x:ne,y:Math.min(J,U)},{x:j,y:Math.min(J,U)}];j>ne?B=Math.min(ne,V):B=Math.max(ne,ie)}else{if(j>=D||j<=F)return[{x:ne,y:Math.min(J,U)},{x:j,y:Math.min(J,U)}];j>=ne?B=Math.max(j,D):B=Math.min(j,F)}return[{x:ne,y:E},{x:B,y:E},{x:B,y:Y},{x:j,y:Y}]}else if(Ie==="bottom"&&se==="bottom"){if(_>=ne+r||g<=ne-r)return[{x:ne,y:Math.max(J,U)},{x:j,y:Math.max(J,U)}];let B,Y,E;return U>J?(Y=Math.max(($+x)/2,U),E=Math.max(($+x)/2,J),j>ne?B=Math.min(ne,V):B=Math.max(ne,ie)):(Y=Math.max((v+T)/2,U),E=Math.max((v+T)/2,J),j>ne?B=Math.min(j,F):B=Math.max(j,D)),[{x:ne,y:E},{x:B,y:E},{x:B,y:Y},{x:j,y:Y}]}else if(Ie==="left"&&se==="left"){let B,Y=Math.min((P+_)/2,j),E=Math.min((m+g)/2,ne);return j>ne?U<=J?B=Math.min(z,U):B=Math.max(R,U):U>=J?B=Math.min(oe,J):B=Math.max(_e,J),[{x:E,y:J},{x:E,y:B},{x:Y,y:B},{x:Y,y:U}]}else if(Ie==="right"&&se==="right"){let B,Y=Math.max((m+g)/2,j),E=Math.max((P+_)/2,ne);return j<ne?U<=J?B=Math.min(z,U):B=Math.max(R,U):U>=J?B=Math.min(oe,J):B=Math.max(_e,J),[{x:E,y:J},{x:E,y:B},{x:Y,y:B},{x:Y,y:U}]}else if(Ie==="top"&&se==="right"){if(J>U){if(ne<j){let Y=(v+T)/2;return Y>te&&Y<_e&&ne<V&&(Y=oe),[{x:ne,y:Y},{x:j,y:Y},{x:j,y:U}]}return[{x:ne,y:U}]}const B=(m+g)/2;if(ne>j&&$>=U)return[{x:ne,y:J},{x:B,y:J},{x:B,y:U}];if(B>F&&J<T){const Y=Math.min(v,x)-r,E=Math.max(P,g)+r;return[{x:ne,y:Y},{x:E,y:Y},{x:E,y:U}]}return[{x:ne,y:J},{x:B,y:J},{x:B,y:U}]}else if(Ie==="top"&&se==="left"){if(J>U){if(ne>j){let Y=(v+T)/2;return Y>te&&Y<_e&&ne>ie&&(Y=oe),[{x:ne,y:Y},{x:j,y:Y},{x:j,y:U}]}return[{x:ne,y:U}]}const B=(P+_)/2;if(ne<j&&$>=U)return[{x:ne,y:J},{x:B,y:J},{x:B,y:U}];if(B<D&&J<T){const Y=Math.min(v,x)-r,E=Math.min(m,_)-r;return[{x:ne,y:Y},{x:E,y:Y},{x:E,y:U}]}return[{x:ne,y:J},{x:B,y:J},{x:B,y:U}]}else if(Ie==="bottom"&&se==="right"){if(J<U){if(ne<j){let Y=($+x)/2;return Y<te&&Y>oe&&ne<V&&(Y=_e),[{x:ne,y:Y},{x:j,y:Y},{x:j,y:U}]}return[{x:ne,y:U}]}else if(m<j){const Y=Math.max($,T)+r,E=Math.max(P,g)+r;return[{x:ne,y:Y},{x:E,y:Y},{x:E,y:U}]}const B=fe;return[{x:ne,y:J},{x:B,y:J},{x:B,y:U}]}else if(Ie==="bottom"&&se==="left"){if(J<U){if(ne>j){let Y=($+x)/2;return Y<te&&Y>oe&&ne>ie&&(Y=_e),[{x:ne,y:Y},{x:j,y:Y},{x:j,y:U}]}return[{x:ne,y:U}]}else if(P>j){const Y=Math.max($,T)+r,E=Math.min(m,_)-r;return[{x:ne,y:Y},{x:E,y:Y},{x:E,y:U}]}const B=fe;return[{x:ne,y:J},{x:B,y:J},{x:B,y:U}]}else if(Ie==="left"&&se==="bottom"){if(ne>j&&J>=_e)return[{x:j,y:J}];if(ne>=g&&J<U){const E=(P+_)/2;return[{x:E,y:J},{x:E,y:U},{x:j,y:U}]}if(j<P&&T<=v){const E=(v+T)/2;return[{x:ne,y:J},{x:ne,y:E},{x:j,y:E}]}const B=Math.min(V,ne),Y=Math.max($,T)+r;return[{x:B,y:J},{x:B,y:Y},{x:j,y:Y}]}else if(Ie==="left"&&se==="top"){if(ne>j&&J<oe)return[{x:j,y:J}];if(ne>=g&&J>U){const E=(m+g)/2;return[{x:E,y:J},{x:E,y:U},{x:j,y:U}]}if(j<=P&&U>J){const E=(x+$)/2;return[{x:ne,y:J},{x:ne,y:E},{x:j,y:E}]}const B=U<J?Math.min(m,_)-r:F,Y=Math.min(v,x)-r;return[{x:B,y:J},{x:B,y:Y},{x:j,y:Y}]}else if(Ie==="right"&&se==="top"){if(ne<j&&J<oe)return[{x:j,y:J}];if(P<_&&J>U){let E=(P+_)/2;return[{x:E,y:J},{x:E,y:U},{x:j,y:U}]}if(j<ne&&x>$){const E=($+x)/2;return[{x:ne,y:J},{x:ne,y:E},{x:j,y:E}]}const B=Math.max(P,g)+r,Y=Math.min(v,x)-r;return[{x:B,y:J},{x:B,y:Y},{x:j,y:Y}]}else if(Ie==="right"&&se==="bottom"){if(ne<j&&J>=_e)return[{x:j,y:J}];if(ne<=_&&J<U){const E=(P+_)/2;return[{x:E,y:J},{x:E,y:U},{x:j,y:U}]}if(j>m&&T<v){const E=(v+T)/2;return[{x:ne,y:J},{x:ne,y:E},{x:j,y:E}]}const B=Math.max(ie,ne),Y=Math.max($,T)+r;return[{x:B,y:J},{x:B,y:Y},{x:j,y:Y}]}}Hse.Directions=Gr;const CRe=Hse,TRe=Object.freeze(Object.defineProperty({__proto__:null,manhattan:SP,metro:xRe,normal:aRe,oneSide:sRe,orthogonal:wP,rightAngle:CRe},Symbol.toStringTag,{value:"Module"})),e0={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},ARe=Object.values(e0),IRe=10,PRe=1,HL=function(t,e,n=[],r={}){const{cornerType:i=e0.POINT,cornerRadius:o=IRe,cornerPreserveAspectRatio:a=!1,precision:s=PRe,raw:l=!1}=r;if(ARe.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let c;if(i===e0.POINT||!o){const u=[t].concat(n).concat([e]),f=new Or(u);c=new xt(f)}else{c=new xt,c.appendSegment(xt.createSegment("M",t));let u;const f=n.length;for(let d=0;d<f;d++){const h=new we(n[d]),m=n[d-1]||t,v=n[d+1]||e,k=u||h.distance(m)/2;u=h.distance(v)/2;let b,_;a?b=_=-Math.min(o,k,u):(b=-Math.min(o,k),_=-Math.min(o,u));const x=h.clone().move(m,b).round(s),C=h.clone().move(v,_).round(s);switch(c.appendSegment(xt.createSegment("L",x)),i){case e0.CUBIC:{const S=.3333333333333333,g=2/3,T=new we(S*x.x+g*h.x,g*h.y+S*x.y),P=new we(S*C.x+g*h.x,g*h.y+S*C.y);c.appendSegment(xt.createSegment("C",T,P,C));break}case e0.LINE:{c.appendSegment(xt.createSegment("L",C));break}case e0.GAP:{c.appendSegment(xt.createSegment("M",C));break}}}c.appendSegment(xt.createSegment("L",e))}return l?c:c.serialize()};var ERe=5,HW=["arc","gap","cubic"],$Re=0,WW=1,ORe=["smooth"],A9=1/3,I9=2/3;function PC(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(i,o,a){var s=r[a+1];return s!=null&&(i[a]=um(o,s)),i},[])}function DRe(t){var e=t.paper,n=e._jumpOverUpdateList;if(n==null){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||LRe(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}function LRe(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}function FRe(t,e){return Ln(e).reduce(function(n,r){var i=t.intersection(r);return i&&n.push(i),n},[])}function UW(t,e){return um(t,e).squaredLength()}function NRe(t,e,n){return e.reduce(function(r,i,o){if(i.skip===!0)return r;var a=r.pop()||t,s=hk(i).move(a.start,-n),l=hk(i).move(a.start,+n),c=e[o+1];if(c!=null){var u=l.distance(c);u<=n&&(l=c.move(a.start,u),c.skip=!0)}else{var f=s.distance(a.end);if(f<n*2+WW)return r.push(a),r}var d=l.distance(a.start);if(d<n*2+WW)return r.push(a),r;var h=um(s,l);return h.isJump=!0,r.push(um(a.start,s),h,um(l,a.end)),r},[])}function GW(t,e,n,r){var i=new xt,o;return o=xt.createSegment("M",t[0].start),i.appendSegment(o),Ln(t).forEach(function(a,s){if(a.isJump){var l,c,u,f;if(n==="arc"){l=-90,c=a.start.difference(a.end);var d=+(c.x<0||c.x===0&&c.y<0);d&&(l+=180);var h=a.midpoint(),m=new mt(h,a.end).rotate(h,l),v;v=new mt(a.start,h),u=v.pointAt(2/3).rotate(a.start,l),f=m.pointAt(1/3).rotate(m.end,-l),o=xt.createSegment("C",u,f,m.end),i.appendSegment(o),v=new mt(h,a.end),u=m.pointAt(1/3).rotate(m.end,l),f=v.pointAt(1/3).rotate(a.end,-l),o=xt.createSegment("C",u,f,a.end),i.appendSegment(o)}else if(n==="gap")o=xt.createSegment("M",a.end),i.appendSegment(o);else if(n==="cubic"){l=a.start.theta(a.end);var k=e*.6,b=e*1.35;c=a.start.difference(a.end),d=+(c.x<0||c.x===0&&c.y<0),d&&(b*=-1),u=we(a.start.x+k,a.start.y+b).rotate(a.start,l),f=we(a.end.x-k,a.end.y+b).rotate(a.end,l),o=xt.createSegment("C",u,f,a.end),i.appendSegment(o)}}else{var _=t[s+1];r==0||!_||_.isJump?(o=xt.createSegment("L",a.end),i.appendSegment(o)):MRe(r,i,a.end,a.start,_.end)}}),i}function MRe(t,e,n,r,i){var o=n.distance(r)/2,a=n.distance(i)/2,s=-Math.min(t,o),l=-Math.min(t,a),c=n.clone().move(r,s).round(),u=n.clone().move(i,l).round(),f=new we(A9*c.x+I9*n.x,I9*n.y+A9*c.y),d=new we(A9*u.x+I9*n.x,I9*n.y+A9*u.y),h;h=xt.createSegment("L",c),e.appendSegment(h),h=xt.createSegment("C",f,d,u),e.appendSegment(h)}const zRe=function(t,e,n,r){DRe(this);var i=r.raw,o=r.size||ERe,a=r.jump&&(""+r.jump).toLowerCase(),s=r.radius||$Re,l=r.ignoreConnectors||ORe;HW.indexOf(a)===-1&&(a=HW[0]);var c=this.paper,u=c.model,f=u.getLinks();if(f.length===1)return GW(PC(t,e,n),o,a,s);var d=this.model,h=f.indexOf(d),m=c.options.defaultConnector||{},v=f.filter(function(S,g){var T=S.get("connector")||m;return Ln(l).includes(T.name)?!1:g>h?T.name!=="jumpover":!0}),k=v.map(function(S){return c.findViewByModel(S)}),b=PC(t,e,n),_=k.map(function(S){return S==null?[]:S===this?b:PC(S.sourcePoint,S.targetPoint,S.route)},this),x=b.reduce(function(S,g){var T=v.reduce(function(P,$,F){if($!==d){var D=FRe(g,_[F]);P.push.apply(P,D)}return P},[]).sort(function(P,$){return UW(g.start,P)-UW(g.start,$)});return T.length>0?S.push.apply(S,NRe(g,T,o)):S.push(g),S},[]),C=GW(x,o,a,s);return i?C:C.serialize()},RRe=function(t,e,n=[],r={}){const{raw:i}=r;return HL(t,e,n,{cornerType:"point",raw:i})},jRe=10,VRe=0,BRe=function(t,e,n=[],r={}){const{radius:i=jRe,raw:o}=r;return HL(t,e,n,{cornerType:"cubic",cornerRadius:i,precision:VRe,raw:o})},HRe=function(t,e,n,r){var i=r&&r.raw,o;if(n&&n.length!==0){var a=[t].concat(n).concat([e]),s=nr.throughPoints(a);o=new xt(s)}else{o=new xt;var l;if(l=xt.createSegment("M",t),o.appendSegment(l),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var c=(t.x+e.x)/2;l=xt.createSegment("C",c,t.y,c,e.y,e.x,e.y),o.appendSegment(l)}else{var u=(t.y+e.y)/2;l=xt.createSegment("C",t.x,u,e.x,u,e.x,e.y),o.appendSegment(l)}}return i?o:o.serialize()},xl={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},ka={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},WL=function(t,e,n=[],r={},i){const o=!!r.raw,{direction:a=xl.AUTO,precision:s=3}=r,l={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new we(r.sourceTangent):null,targetTangent:r.targetTangent?new we(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?l.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?l.sourceDirection=new we(1,0).rotate(null,r.sourceDirection):l.sourceDirection=r.sourceDirection?new we(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?l.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?l.targetDirection=new we(1,0).rotate(null,r.targetDirection):l.targetDirection=r.targetDirection?new we(r.targetDirection).normalize():null;const c=[t,...n,e].map(v=>new we(v));let u;if(l.sourceTangent)u=l.sourceTangent;else{const v=YRe(i,c,a,l),k=c[0].distance(c[1])*l.coeff,b=c[1].difference(c[0]).normalize(),_=xP(v,b);if(_>Math.PI/4){const x=k+(_-Math.PI/4)*l.angleTangentCoefficient;u=v.clone().scale(x,x)}else u=v.clone().scale(k,k)}let f;if(l.targetTangent)f=l.targetTangent;else{const v=XRe(i,c,a,l),k=c.length-1,b=c[k-1].distance(c[k])*l.coeff,_=c[k-1].difference(c[k]).normalize(),x=xP(v,_);if(x>Math.PI/4){const C=b+(x-Math.PI/4)*l.angleTangentCoefficient;f=v.clone().scale(C,C)}else f=v.clone().scale(b,b)}const h=JRe(c,u,f,l).map(v=>ZRe(v,l)),m=new xt(h).round(s);return o?m:m.serialize()};WL.Directions=xl;WL.TangentDirections=ka;function WRe(t,e,n){const{sourceBBox:r}=t;let i,o;if(!t.sourceView)r.x>e[1].x?i="right":i="left";else if(o=t.sourceView.model.angle(),n.rotate&&o){const s=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),o),i=s.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let a;switch(i){case"left":a=new we(-1,0);break;case"right":default:a=new we(1,0);break}return n.rotate&&o&&a.rotate(null,-o),a}function URe(t,e,n){const{targetBBox:r}=t;let i,o;if(!t.targetView)r.x>e[e.length-2].x?i="left":i="right";else if(o=t.targetView.model.angle(),n.rotate&&o){const s=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),o),i=s.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let a;switch(i){case"left":a=new we(-1,0);break;case"right":default:a=new we(1,0);break}return n.rotate&&o&&a.rotate(null,-o),a}function GRe(t,e,n){const{sourceBBox:r}=t;let i,o;if(!t.sourceView)r.y>e[1].y?i="bottom":i="top";else if(o=t.sourceView.model.angle(),n.rotate&&o){const s=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),o),i=s.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":default:a=new we(0,1);break}return n.rotate&&o&&a.rotate(null,-o),a}function qRe(t,e,n){const{targetBBox:r}=t;let i,o;if(!t.targetView)r.y>e[e.length-2].y?i="top":i="bottom";else if(o=t.targetView.model.angle(),n.rotate&&o){const s=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),o),i=s.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":default:a=new we(0,1);break}return n.rotate&&o&&a.rotate(null,-o),a}function qW(t,e,n){const{sourceBBox:r}=t;let i,o;if(!t.sourceView)i=r.sideNearestToPoint(e[1]);else if(o=t.sourceView.model.angle(),n.rotate&&o){const s=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),o),i=s.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":a=new we(0,1);break;case"right":a=new we(1,0);break;case"left":a=new we(-1,0);break}return n.rotate&&o&&a.rotate(null,-o),a}function YW(t,e,n){const{targetBBox:r}=t;let i,o;if(!t.targetView)i=r.sideNearestToPoint(e[e.length-2]);else if(o=t.targetView.model.angle(),n.rotate&&o){const s=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),o),i=s.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":a=new we(0,1);break;case"right":a=new we(1,0);break;case"left":a=new we(-1,0);break}return n.rotate&&o&&a.rotate(null,-o),a}function XW(t,e,n){return e[1].difference(e[0]).normalize()}function KW(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function JW(t,e,n){const{sourceBBox:r}=t,i=r.center();return e[0].difference(i).normalize()}function ZW(t,e,n){const{targetBBox:r}=t,i=r.center();return e[e.length-1].difference(i).normalize()}function YRe(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case ka.UP:return new we(0,-1);case ka.DOWN:return new we(0,1);case ka.LEFT:return new we(-1,0);case ka.RIGHT:return new we(1,0);case ka.AUTO:return qW(t,e,r);case ka.CLOSEST_POINT:return XW(t,e);case ka.OUTWARDS:return JW(t,e);default:return r.sourceDirection}switch(n){case xl.HORIZONTAL:return WRe(t,e,r);case xl.VERTICAL:return GRe(t,e,r);case xl.CLOSEST_POINT:return XW(t,e);case xl.OUTWARDS:return JW(t,e);case xl.AUTO:default:return qW(t,e,r)}}function XRe(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case ka.UP:return new we(0,-1);case ka.DOWN:return new we(0,1);case ka.LEFT:return new we(-1,0);case ka.RIGHT:return new we(0,1);case ka.AUTO:return YW(t,e,r);case ka.CLOSEST_POINT:return KW(t,e);case ka.OUTWARDS:return ZW(t,e);default:return r.targetDirection}switch(n){case xl.HORIZONTAL:return URe(t,e,r);case xl.VERTICAL:return qRe(t,e,r);case xl.CLOSEST_POINT:return KW(t,e);case xl.OUTWARDS:return ZW(t,e);case xl.AUTO:default:return YW(t,e,r)}}function KRe(t,e){const n=Math.cos(e),r=Math.sin(e),i=n*t.x-r*t.y,o=r*t.x+n*t.y;t.x=i,t.y=o}function xP(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function QW(t,e){return t.x*e.y-t.y*e.x}function JRe(t,e,n,r){const{tau:i,coeff:o}=r,a=[],s=[],l=[],c=t.length-1;for(let u=0;u<c;u++)a[u]=t[u].distance(t[u+1]);s[0]=e,s[c]=n;for(let u=1;u<c;u++){let f,d;u===1?f=t[u-1].clone().offset(s[u-1].x,s[u-1].y):f=t[u-1].clone(),u===c-1?d=t[u+1].clone().offset(s[u+1].x,s[u+1].y):d=t[u+1].clone();const h=f.difference(t[u]).normalize(),m=d.difference(t[u]).normalize(),v=xP(h,m);let k=(Math.PI-v)/2,b;const _=QW(h,m);let x;x=QW(t[u].difference(t[u+1]),t[u].difference(t[u-1])),_<0&&(k=-k),v<Math.PI/2&&(k<0&&x<0||k>0&&x>0)&&(k=k-Math.PI),b=m.clone(),KRe(b,k);const C=b.clone(),S=b.clone(),g=a[u-1]*o,T=a[u]*o;C.scale(g,g),S.scale(T,T),s[u]=[C,S]}for(let u=0;u<c;u++){let f,d;u===0?f=t[u+1].difference(s[u].x/i,s[u].y/i):f=t[u+1].difference(s[u][1].x/i,s[u][1].y/i),u===c-1?d=t[u].clone().offset(s[u+1].x/i,s[u+1].y/i):d=t[u].difference(s[u+1][0].x/i,s[u+1][0].y/i),l[u]=[f,t[u],t[u+1],d]}return l}function ZRe(t,e){const{tau:n}=e,r=new we;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const i=new we;return i.x=t[2].x+(t[3].x-t[1].x)/(6*n),i.y=t[2].y+(t[3].y-t[1].y)/(6*n),new nr(t[1],r,i,t[2])}const QRe=Object.freeze(Object.defineProperty({__proto__:null,curve:WL,jumpover:zRe,normal:RRe,rounded:BRe,smooth:HRe,straight:HL},Symbol.toStringTag,{value:"Module"})),rn={TOOLS:xn.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},by=xn.extend({className:function(){var t=xn.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){xn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[rn.RENDER],attrs:[rn.UPDATE],router:[rn.UPDATE],connector:[rn.CONNECTOR],smooth:[rn.UPDATE],manhattan:[rn.UPDATE],toolMarkup:[rn.LEGACY_TOOLS],labels:[rn.LABELS],labelMarkup:[rn.LABELS],vertices:[rn.VERTICES,rn.UPDATE],vertexMarkup:[rn.VERTICES],source:[rn.SOURCE,rn.UPDATE],target:[rn.TARGET,rn.UPDATE]},initFlag:[rn.RENDER,rn.SOURCE,rn.TARGET,rn.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,rn.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,rn.SOURCE)}if(this.hasFlag(t,rn.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,rn.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return t;if(this.hasFlag(t,rn.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[rn.RENDER,rn.UPDATE,rn.VERTICES,rn.LABELS,rn.TOOLS,rn.LEGACY_TOOLS,rn.CONNECTOR]),t;let o=!1;this.hasFlag(t,rn.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,rn.VERTICES));const{model:a}=this,{attributes:s}=a;let l=this.hasFlag(t,rn.LABELS),c=this.hasFlag(t,rn.LEGACY_TOOLS);l&&(this.onLabelsChange(a,s.labels,e),t=this.removeFlag(t,rn.LABELS),o=!0),c&&(this.renderTools(),t=this.removeFlag(t,rn.LEGACY_TOOLS));const u=this.hasFlag(t,rn.UPDATE),f=this.hasFlag(t,rn.CONNECTOR);return(u||f)&&(u?e.translateBy&&a.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[rn.UPDATE,rn.TOOLS,rn.CONNECTOR]),l=!1,c=!1,o=!0),l&&this.updateLabelPositions(),c&&this.updateToolsPosition(),o&&this.updateHighlighters(),this.hasFlag(t,rn.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,rn.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(rn.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1){var i=!!e[n[1]];if(i){if(r===2)return"markup"in Object(t.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=We(t);Array.isArray(e)||(e=[e]);for(var n=this._V,r=0,i=e.length;r<i;r++){var o=e[r],a=o.attr("class");a&&(a=gze(a),n[Rn.camelCase(a)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=We(t),n=document.createDocumentFragment();if(!Array.isArray(e))n.appendChild(e.node);else for(var r=0,i=e.length;r<i;r++){var o=e[r].node;n.appendChild(o)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=We("g").append(e):n=We(r[0]),n.addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,o=i.attributes.labels||[],a=o.length;if(a===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=We("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(ac(Fi(this,"className"))),e.attr("model-id",i.id)));for(var s=0;s<a;s++){var l=o[s],c=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),u,f;if(c)u=c.node,f=c.selectors;else{var d=i._builtins.defaultLabel,h=this._normalizeLabelMarkup(this._getLabelMarkup(d.markup)),m=i._getDefaultLabel(),v=this._normalizeLabelMarkup(this._getLabelMarkup(m.markup)),k=v||h;u=k.node,f=k.selectors}u.setAttribute("label-idx",s),e.append(u),n[s]=u;var b=this.selector;if(f[b])throw new Error("dia.LinkView: ambiguous label root selector.");f[b]=u,r[s]=f}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:i}=this,{labels:o}=r;if(!o||!n.hasLabels())return;const{node:a}=o;i.labelsLayer?e.getLayerView(i.labelsLayer).insertSortedNode(a,n.get("z")):a.parentNode!==t&&t.appendChild(a)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const r=this._labelSelectors[t],[i=null]=this.findBySelector(e,n,r);return i},_mergeLabelAttrs:function(t,e,n,r){return e===null?null:e===void 0?n===null?null:n===void 0?t?void 0:r:t?n:zi({},r,n):t?zi({},n,e):zi({},r,n,e)},_mergeLabelSize:function(t,e){return t===null?null:t===void 0?e===null?null:e===void 0?void 0:e:zi({},e,t)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),r=t._builtins.defaultLabel,i=r.attrs,o=t._getDefaultLabel(),a=o.markup,s=o.attrs,l=o.size,c=0,u=e.length;c<u;c++){var f=this._labelCache[c];f.setAttribute("cursor",n?"move":"default");var d=this._labelSelectors[c],h=e[c],m=h.markup,v=h.attrs,k=h.size,b=this._mergeLabelAttrs(m||a,v,s,i),_=this._mergeLabelSize(k,l);this.updateDOMSubtreeAttributes(f,b,{rootBBox:new lt(_),selectors:d})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=Rn(this._V.linkTools.node).empty(),e=ga(this.model.get("toolMarkup")||this.model.toolMarkup),n=We(e());if(t.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=ga(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=We(e())):r=n.clone(),t.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=Rn(this._V.markerVertices.node).empty(),e=ga(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){t.append(We(e(Nt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=Rn(this._V.markerArrowheads.node);t.empty();var e=ga(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=We(e({end:"source"})),this._V.targetArrowhead=We(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],o=i.length,a=new Or(i);a.simplify({threshold:.001});const s=a.points.map(c=>c.toJSON()),l=s.length;return o===l?0:(n.vertices(s.slice(1,l-1),t),o-l)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new we(this.sourceAnchor);case"target":return new we(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new we(this.sourcePoint);case"target":return new we(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new Or(n);i.translate(t,e),this.route=i.points,this._translateConnectionPoints(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,o=this.findRoute(e);this.route=o;var a=this.findConnectionPoints(o,r,i);this.sourcePoint=a.source,this.targetPoint=a.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findMarkerPoints(t,e,n),i=this.findPath(t,r.source||e,r.target||n);this.path=i},findMarkerPoints:function(t,e,n){var r=t[0],i=t[t.length-1],o=this._markerCache,a,s;return this._V.markerSource&&(o.sourceBBox=o.sourceBBox||this._V.markerSource.getBBox(),a=we(e).move(r||n,o.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(o.targetBBox=o.targetBBox||this._V.markerTarget.getBBox(),s=we(n).move(i||e,o.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),o.sourcePoint=a||e.clone(),o.targetPoint=s||n.clone(),{source:a,target:s}},findAnchorsOrdered:function(t,e,n,r){var i,o,a,s,l=this.model,c=l.get(t),u=l.get(n),f=this.getEndView(t),d=this.getEndView(n),h=this.getEndMagnet(t),m=this.getEndMagnet(n);f?(e?a=new we(e):d?a=m:a=new we(u),i=this.getAnchor(c.anchor,f,h,a,t)):i=new we(c),d?(s=new we(r||i),o=this.getAnchor(u.anchor,d,m,s,n)):o=new we(u);var v={};return v[t]=i,v[n]=o,v},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var r=t[0],i=t[t.length-1],o=this.model,a=o.get("source"),s=o.get("target"),l=this.sourceView,c=this.targetView,u=this.paper.options,f,d,h;if(l&&!l.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||l.el;var m=a.connectionPoint||u.defaultConnectionPoint,v=r||n,k=new mt(v,e);h=this.getConnectionPoint(m,l,f,k,"source")}else h=e;var b;if(c&&!c.isNodeConnection(this.targetMagnet)){d=this.targetMagnet||c.el;var _=s.connectionPoint||u.defaultConnectionPoint,x=i||e,C=new mt(x,n);b=this.getConnectionPoint(_,c,d,C,"target")}else b=n;return{source:h,target:b}},getAnchor:function(t,e,n,r,i){var o=e.isNodeConnection(n),a=this.paper.options;if(t||(o?t=a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?t={name:"perpendicular"}:t=a.defaultAnchor),!t)throw new Error("Anchor required.");var s;if(typeof t=="function")s=t;else{var l=t.name,c=o?"linkAnchorNamespace":"anchorNamespace";if(s=a[c][l],typeof s!="function")throw new Error("Unknown anchor: "+l)}var u=s.call(this,e,n,r,t.args||{},i,this);return u?u.round(this.decimalsRounding):new we},getConnectionPoint:function(t,e,n,r,i){var o,a=r.end,s=this.paper.options;if(typeof s.linkConnectionPoint=="function"){var l=n===e.el?void 0:n;if(o=s.linkConnectionPoint(this,e,l,r.start,i),o)return o}if(!t)return a;var c;if(typeof t=="function")c=t;else{var u=t.name;if(c=s.connectionPointNamespace[u],typeof c!="function")throw new Error("Unknown connection point: "+u)}return o=c.call(this,r,e,n,t.args||{},i,this),o?o.round(this.decimalsRounding):a},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel,n=e.position,r=t._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return zi({},n,i)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return t===null?null:t===void 0?e===null?null:e:zi({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,o=n.length;i<o;i++){var a=this._labelCache[i];if(a){var s=n[i],l=this._normalizeLabelPosition(s.position),c=this._mergeLabelPositionProperty(l,r),u=this._getLabelTransformationMatrix(c);a.setAttribute("transform",We.matrixToTransformString(u)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(r)for(let i in r){const{id:o}=r[i];o&&o in e&&delete e[o].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||e;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Rn.css(this._V.markerArrowheads.node,"display")==="none")return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,i=e.get(t),o=i&&i.id;if(!o)return this[r]=null,this.updateEndMagnet(t),!0;const a=n.getModelById(o);if(!a)throw new Error("LinkView: invalid "+t+" cell.");const s=a.findView(n);return s?(this[r]=s,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=Ln(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){var e=this._getLabelPositionProperty(t);return e.angle||0},_getLabelPositionArgs:function(t){var e=this._getLabelPositionProperty(t);return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:zi({},e,t)},addLabel:function(t,e,n,r){var i,o,a=0,s;typeof t!="number"?(i=t.x,o=t.y,typeof e=="number"?(a=e,s=n):s=e):(i=t,o=e,typeof n=="number"?(a=n,s=r):s=n);var l=this._getDefaultLabelPositionArgs(),c=s,u=this._mergeLabelPositionArgs(c,l),f={position:this.getLabelPosition(i,o,a,u)},d=-1;return this.model.insertLabel(d,f,s),d},addVertex:function(t,e,n){var r=typeof t!="number",i=r?t.x:t,o=r?t.y:e,a=r?e:n,s={x:i,y:o},l=this.getVertexIndex(i,o);return this.model.insertVertex(l,s,a),l},sendToken:function(t,e,n){function r(f,d){return function(){f.remove(),typeof d=="function"&&d()}}var i,o,a;Jn(e)?(i=e.duration,o=e.direction==="reverse",a=e.connection):(i=e,o=!1,a=null),i=i||1e3;var s={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};o&&(s.keyPoints="1;0",s.keyTimes="0;1");var l=We(t),c;if(typeof a=="string")c=this.findBySelector(a,this.el,this.selectors)[0];else{var u=this._V;c=u.connection?u.connection.node:this.el.querySelector("path")}if(!(c instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(s,c),setTimeout(r(l,n),i)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||TRe,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return t.map(we);var i=yr(n)?n:e[n.name];if(!yr(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var o=n.args||{},a=i.call(this,t,o,this);return a||t.map(we)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||QRe,i=this.model.connector(),o=this.paper.options.defaultConnector;i||(i=o||{});var a=yr(i)?i:r[i.name];if(!yr(a))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var s=Wc(i.args||{});s.raw=!0;var l=a.call(this,e,n,t,s,this);return typeof l=="string"&&(l=new xt(We.normalizePathData(l))),l},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(Po(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var i={},o=0,a;typeof n=="number"?(o=n,a=r):a=n,a&&(i.args=a);var s=!(a&&a.absoluteDistance),l=a&&a.absoluteDistance&&a.reverseDistance,c=a&&a.absoluteOffset,u=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},d=new we(t,e),h=u.closestPointT(d,f),m=u.lengthAtT(h,f);s&&(m=m/this.getConnectionLength()||0),l&&(m=-1*(this.getConnectionLength()-m)||1),i.distance=m;var v;c||(v=u.tangentAtT(h));var k;if(v)k=v.pointOffset(d);else{var b=u.pointAtT(h),_=d.difference(b);k={x:_.x,y:_.y}}return i.offset=k,i.angle=o,i},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")r=t.args||{},e=t.distance,n=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=e>0&&e<=1,o=0,a={x:0,y:0};if(t.offset){var s=t.offset;typeof s=="number"&&(o=s),s.x&&(a.x=s.x),s.y&&(a.y=s.y)}var l=a.x!==0||a.y!==0||o===0,c=r.keepGradient,u=r.ensureLegibility,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},h=i?e*this.getConnectionLength():e,m=f.tangentAtLength(h,d),v,k=n;if(m){if(l)v=m.start.clone(),v.offset(a);else{var b=m.clone();b.rotate(m.start,-90),b.setLength(o),v=b.end}c&&(k=m.angle()+n,u&&(k=yu((k+90)%180-90)))}else v=f.start.clone(),l&&v.offset(a);return We.createSVGMatrix().translate(v.x,v.y).rotate(k)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new we(e.e,e.f)},getVertexIndex:function(t,e){for(var n=this.model,r=n.vertices(),i=this.getClosestPointLength(new we(t,e)),o=0,a=r.length;o<a;o++){var s=r[o],l=this.getClosestPointLength(s);if(i<l)break}return o},notifyPointerdown(t,e,n){xn.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){xn.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),xn.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){xn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){xn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){xn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n);var r=t.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(t,e,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(t,e,n);return;case"marker-arrowhead":this.dragArrowheadStart(t,e,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(t,e,n);return;case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;r&&this.eventData(t,r);var i=this.eventData(t);switch(i.action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n);break}r&&Nt(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;r&&(this.eventData(t,r),this._dragData=null);var i=this.eventData(t);switch(i.action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){xn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){xn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){xn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){xn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){xn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){var i=We(t.target).findParentByClass("link-tool",this.el);if(i){if(t.stopPropagation(),this.can("useLinkTools"))if(e==="remove"){this.model.remove({ui:!0});return}else this.notify(e,t,n,r);this.notifyPointerdown(t,n,r),this.paper.delegateDragEvents(this,t.data)}else xn.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n);var r=this.eventData(t).stopPropagation;r&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(this.can("vertexAdd")){var r=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var r=t.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),o=this._getDefaultLabelPositionProperty(),a=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),s=this._mergeLabelPositionProperty(a,o),l=this.getLabelCoordinates(s),c=l.x-e,u=l.y-n,f=this._getLabelPositionAngle(i),d=this._getLabelPositionArgs(i),h=this._getDefaultLabelPositionArgs(),m=this._mergeLabelPositionArgs(d,h);this.eventData(t,{action:"label-move",labelIdx:i,dx:c,dy:u,positionAngle:f,positionArgs:m,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(this.can("vertexMove")){var r=t.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(t,e,n){if(this.can("vertexRemove")){var r=t.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var r=t.target,i=r.getAttribute("end"),o=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(t,o)}},dragStart:function(t,e,n){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),i={position:this.getLabelPosition(e+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const o={ui:!0};this.paper.isAsync()&&t.type==="touchmove"&&(o.async=!1),this.model.label(r.labelIdx,i,o)},dragVertex:function(t,e,n){var r=this.eventData(t);this.model.vertex(r.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?!this._snapArrowhead(t,e,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0});break}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,i=this.model.prop(n),o=i&&!Qm.endsEqual(r,i);if(o){var a=this.paper;r.id&&this.notify("link:disconnect",e,a.findViewByModel(r.id),t.initialMagnet,n),i.id&&this.notify("link:connect",e,a.findViewByModel(i.id),t.magnetUnderPointer,n)}},_snapToPoints:function(t,e,n){let r=null,i=1/0,o=null,a=1/0,s=t.x,l=t.y;for(let c=0;c<e.length;c++){const u=Math.abs(e[c].x-t.x);u<i&&(i=u,r=e[c]);const f=Math.abs(e[c].y-t.y);f<a&&(a=f,o=e[c])}return i<n&&(s=r.x),a<n&&(l=o.y),{x:s,y:l}},_snapArrowheadSelf:function(t,e,n){const{paper:r,model:i}=this,{snapLinksSelf:o}=r.options,a=this.eventData(t),s=o.radius||20,l=this.getEndAnchor(a.arrowhead==="source"?"target":"source"),c=i.vertices(),u=[l,...c],f=this._snapToPoints({x:e,y:n},u,s);this._connectArrowhead(document.elementFromPoint(f.x,f.y),f.x,f.y,this.eventData(t))},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:i,connectionStrategy:o}=r.options,a=this.eventData(t);let s=!1;var l=i.radius||50,c=r.findViewsInArea({x:e-l,y:n-l,width:2*l,height:2*l}),u=a.closestView||null,f=a.closestMagnet||null,d=a.magnetProxy||null;a.closestView=a.closestMagnet=a.magnetProxy=null;var h=Number.MAX_VALUE,m=new we(e,n);c.forEach(function(S){const g=[];S.el.getAttribute("magnet")!=="false"&&g.push({bbox:S.model.getBBox(),magnet:S.el}),S.$("[magnet]").toArray().forEach(T=>{g.push({bbox:S.getNodeBBox(T),magnet:T})}),g.forEach(T=>{const{magnet:P,bbox:$}=T,F=$.center().squaredDistance(m);F<h&&(f===P||r.options.validateConnection.apply(r,a.validateConnectionArgs(S,S.el===P?null:P)))&&(h=F,a.closestView=S,a.closestMagnet=P)})},this);var v,k=null,b=a.closestView,_=a.closestMagnet;_&&(k=a.magnetProxy=b.findProxyNode(_,"highlighter"));var x=a.arrowhead,C=f!==_;if(u&&C&&u.unhighlight(d,{connecting:!0,snapping:!0}),b){const{prevEnd:S,prevX:g,prevY:T}=a;if(a.prevX=e,a.prevY=n,s=!0,!C&&(typeof o!="function"||g===e&&T===n)||(v=b.getLinkEnd(_,e,n,this.model,x),!C&&b0(S,v)))return s;a.prevEnd=v,C&&b.highlight(k,{connecting:!0,snapping:!0})}else v={x:e,y:n};return this.model.set(x,v||{x:e,y:n},{ui:!0}),u&&this.notify("link:snap:disconnect",t,u,f,x),b&&this.notify("link:snap:connect",t,b,_,x),s},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:i,model:o}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const a=r.viewUnderPointer=i.findView(t);if(a){const s=r.magnetUnderPointer=a.findMagnet(t),l=r.magnetProxy=a.findProxyNode(s,"highlighter");s&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(a,s))?l&&a.highlight(l,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,o.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:o,magnetProxy:a,arrowhead:s}=t;if(!o||!a||!i)return;i.unhighlight(a,{connecting:!0});const l=i.getLinkEnd(o,e,n,r,s);r.set(s,l,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,i=0;t==="source"?(r=2,n="target"):(i=2,n="source");var o=this.model.get(n);if(o.id){var a=e[r]=this.paper.findViewByModel(o.id),s=a.getMagnetFromLinkEnd(o);s===a.el&&(s=void 0),e[r+1]=s}function l(c,u){return e[i]=c,e[i+1]=c.el===u?void 0:u,e}return l},_markAvailableMagnets:function(t){function e(f,d){var h=f.paper,m=h.options.validateConnection;return m.apply(h,this.validateConnectionArgs(f,d))}var n=this.paper,r=n.model.getCells();t.marked={};for(var i=0,o=r.length;i<o;i++){var a=r[i].findView(n);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));a.el.getAttribute("magnet")!=="false"&&s.push(a.el);var l=s.filter(e.bind(t,a));if(l.length>0){for(var c=0,u=l.length;c<u;c++)a.highlight(l[c],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),t.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n,r,i=0,o=e.length;i<o;i++){n=e[i],r=t.marked[n];var a=this.paper.findViewByModel(n);if(a){for(var s=0,l=r.length;s<l;s++)a.unhighlight(r[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:Wc(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){xn.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){xn.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){xn.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:rn});Object.defineProperty(by.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new lt(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new lt(this.sourceAnchor):t.getNodeBBox(n||t.el)}});Object.defineProperty(by.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new lt(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new lt(this.targetAnchor):t.getNodeBBox(n||t.el)}});const eje=sc.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const o=We(e);if(i=o.convertToPathData().trim(),o.tagName()==="PATH"&&r){const a=i.search(/.M/i)+1;a>0&&(i=i.substr(0,a))}}catch{const a=t.getNodeBoundingRect(e);i=We.rectToPath(Nt({},n,a.toJSON()))}return i},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:i,layer:o}=r;let a=this.getNodeMatrix(t,e);if(i){!o&&e===t.el&&n.remove();let s=t.getNodeBoundingRect(e);const l=s.x+s.width/2,c=s.y+s.height/2;s=We.transformRect(s,a);const u=Math.max(s.width,1),f=Math.max(s.height,1),d=(u+i)/u,h=(f+i)/f,m=We.createSVGMatrix({a:d,b:0,c:0,d:h,e:l-d*l,f:c-h*c});a=a.multiply(m)}n.attr({d:this.getPathData(t,e),transform:We.matrixToTransformString(a)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),eU=20;function tje(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}const nje=sc.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:eU,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,o=e.tagName();if(!We.isSVGGraphicsElement(e)||i.includes(o))return e.remove(),!1;if(r.includes(o)){const a=t.vel.findOne(`#${e.id}`);if(a){const{node:s}=a;let l=t.getNodeBoundingRect(s);t.model.isElement()&&(l=We.transformRect(l,t.getNodeMatrix(s)));const c=We("rect",l.toJSON()),{x:u,y:f}=l.center(),{angle:d,cx:h=u,cy:m=f}=a.rotate();d&&c.rotate(d,h,m),e.parent().append(c)}return e.remove(),!1}return n.forEach(a=>{a==="fill"&&e.attr("fill")==="none"||e.removeAttr(a)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,o=e.tagName();let a;if(o==="G"){if(!i)return null;a=e.clone(),tje(a,s=>this.transformMaskChild(t,s))}else{if(r.includes(o))return null;a=e.clone()}return this.transformMaskRoot(t,a),a},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:o,attrs:a}=i,s="stroke-width"in a?a["stroke-width"]:1,l=e.attr("fill")!=="none";let c=parseFloat(e.attr("stroke-width"));isNaN(c)&&(c=1);const u=c+o*2,f=u+s*2;let d=this.getMaskShape(t,e);if(!d){const h=t.getNodeBoundingRect(e.node);h.inflate(h.width?0:.5,h.height?0:.5),d=We("rect",h.toJSON())}return d.attr(a),We("mask",{id:this.getMaskId()}).append([d.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f}),d.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":u})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:i,attrs:o,maskClip:a=eU,layer:s}=n,l="stroke"in o?o.stroke:"#000000";!s&&e===t.el&&r.remove();const c=t.getNodeBoundingRect(e).inflate(i+a),u=this.getNodeMatrix(t,e),f=this.getMask(t,We(e));this.addMask(t.paper,f),r.attr(c.toJSON()),r.attr({transform:We.matrixToTransformString(u),mask:`url(#${f.id})`,fill:l})},unhighlight(t){this.removeMask(t.paper)}}),rje=sc.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:ac("highlight-opacity"),highlight:function(t,e){We(e).addClass(this.opacityClassName)},unhighlight:function(t,e){We(e).removeClass(this.opacityClassName)}}),tU=ac("highlighted"),ije=sc.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:tU},highlight:function(t,e){We(e).addClass(this.options.className)},unhighlight:function(t,e){We(e).removeClass(this.options.className)}},{className:tU}),EC={ROW:"row",COLUMN:"column"},oje=sc.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){const n=t.model,{attribute:r,size:i=20,gap:o=5,direction:a=EC.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const s=typeof i=="number"?{width:i,height:i}:i,l=a===EC.ROW,c=l?s.width:s.height;let u=n.get(r);Array.isArray(u)||(u=[]);const f=this._prevItems||[],d=u.map((k,b)=>b0(f[b],u[b]));if(f.length!==u.length||d.some(k=>!k)){const k=this.vel.children(),b=u.map((_,x)=>{const C=x in k?k[x].node:null;if(d[x])return C;const S=this.createListItem(_,s,C);if(!S)return null;if(!(S instanceof SVGElement))throw new Error("List: item must be an SVGElement");S.dataset.index=x,S.dataset.attribute=r;const g=x*(c+o);return S.setAttribute("transform",l?`translate(${g}, 0)`:`translate(0, ${g})`),S});this.vel.empty().append(b),this._prevItems=u}const h=u.length,m=h===0?0:h*c+(h-1)*o,v=l?{width:m,height:s.height}:{width:s.width,height:m};this.position(n,v)},position(t,e){const{vel:n,options:r}=this,{margin:i=5,position:o="top-left"}=r,{width:a,height:s}=t.size(),{left:l,right:c,top:u,bottom:f}=Dm(i),d=new lt(l,u,a-(l+c),s-(u+f));let{x:h,y:m}=Ise(d,o);switch(o){case ki.CENTER:case ki.TOP:case ki.BOTTOM:{h-=e.width/2;break}case ki.RIGHT:case ki.BOTTOM_RIGHT:case ki.TOP_RIGHT:{h-=e.width;break}}switch(o){case ki.CENTER:case ki.RIGHT:case ki.LEFT:{m-=e.height/2;break}case ki.BOTTOM:case ki.BOTTOM_RIGHT:case ki.BOTTOM_LEFT:{m-=e.height;break}}n.attr("transform",`translate(${h}, ${m})`)}},{Directions:EC,Positions:ki}),aje=Object.freeze(Object.defineProperty({__proto__:null,addClass:ije,list:oje,mask:nje,opacity:rje,stroke:eje},Symbol.toStringTag,{value:"Module"}));function sje(t,e,n,r){var i="ratio"in r?r.ratio:.5;return t.getPointAtRatio(i)}function lje(t,e,n,r){var i="length"in r?r.length:20;return t.getPointAtLength(i)}function cje(t,e,n,r){var i=1e6,o=t.getConnection(),a=t.getConnectionSubdivisions(),s=new mt(n.clone().offset(0,i),n.clone().offset(0,-i)),l=new mt(n.clone().offset(i,0),n.clone().offset(-i,0)),c=s.intersect(o,{segmentSubdivisions:a}),u=l.intersect(o,{segmentSubdivisions:a}),f=[];return c&&Array.prototype.push.apply(f,c),u&&Array.prototype.push.apply(f,u),f.length>0?n.chooseClosest(f):"fallbackAt"in r?Wse(t,r.fallbackAt):Use(t,e,n,r)}function uje(t,e,n,r){var i=t.getClosestPoint(n);return i||new we}function D2(t){return function(e,n,r,i){if(r instanceof Element){var o=this.paper.findView(r),a;if(o)if(o.isNodeConnection(r)){var s="fixedAt"in i?i.fixedAt:"50%";a=Wse(o,s)}else a=o.getNodeBBox(r).center();else a=new we;return t.call(this,e,n,a,i)}return t.apply(this,arguments)}}function Wse(t,e){var n=parseFloat(e);return Po(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const fje=D2(cje),Use=D2(uje),dje=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:Use,connectionLength:lje,connectionPerpendicular:fje,connectionRatio:sje,resolveRef:D2},Symbol.toStringTag,{value:"Module"}));function I_(t,e,n){if(Li(n)){const{x:i,y:o}=n;if(isFinite(o)){const a=new mt(e,t),{start:s,end:l}=a.parallel(o);e=s,t=l}n=i}if(!isFinite(n))return t;var r=t.distance(e);return n===0&&r>0?t:t.move(e,-Math.min(n,r-1))}function UL(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function hje(t,e,n=0){let r,i,o,a;const{start:s,end:l}=t;switch(e){case"left":r="x",i=l,o=s,a=-1;break;case"right":r="x",i=s,o=l,a=1;break;case"top":r="y",i=l,o=s,a=-1;break;case"bottom":r="y",i=s,o=l,a=1;break;default:return}s[r]<l[r]?i[r]=o[r]:o[r]=i[r],isFinite(n)&&(i[r]+=a*n,o[r]+=a*n)}function pje(t,e,n,r){let{offset:i,alignOffset:o,align:a}=r;return a&&hje(t,a,o),I_(t.end,t.start,i)}function Gse(t,e,n,r){var i=e.getNodeBBox(n);r.stroke&&i.inflate(UL(n)/2);var o=t.intersect(i),a=o?t.start.chooseClosest(o):t.end;return I_(a,t.start,r.offset)}function mje(t,e,n,r){var i=e.model.angle();if(i===0)return Gse(t,e,n,r);var o=e.getNodeUnrotatedBBox(n);r.stroke&&o.inflate(UL(n)/2);var a=o.center(),s=t.clone().rotate(a,i),l=s.setLength(1e6).intersect(o),c=l?s.start.chooseClosest(l).rotate(a,-i):t.end;return I_(c,t.start,r.offset)}function gje(t){if(!t)return null;var e=t;do{var n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var $C="segmentSubdivisons",OC="shapeBBox";function bje(t,e,n,r){var i,o,a=r.selector,s=t.end;if(typeof a=="string"?i=e.findBySelector(a)[0]:a===!1?i=n:Array.isArray(a)?i=S4(n,a):i=gje(n),!We.isSVGGraphicsElement(i)){if(i===n||!We.isSVGGraphicsElement(n))return s;i=n}var l=e.getNodeShape(i),c=e.getNodeMatrix(i),u=e.getRootTranslateMatrix(),f=e.getRootRotateMatrix(),d=u.multiply(f).multiply(c),h=d.inverse(),m=We.transformLine(t,h),v=m.start.clone(),k=e.getNodeData(i);if(r.insideout===!1){k[OC]||(k[OC]=l.bbox());var b=k[OC];if(b.containsPoint(v))return s}var _;if(l instanceof xt){var x=r.precision||2;k[$C]||(k[$C]=l.getSegmentSubdivisions({precision:x})),_={precision:x,segmentSubdivisions:k[$C]}}r.extrapolate===!0&&m.setLength(1e6),o=m.intersect(l,_),o?We.isArray(o)&&(o=v.chooseClosest(o)):r.sticky===!0&&(l instanceof lt?o=l.pointNearestToPoint(v):l instanceof Ca?o=l.intersectionWithLineFromCenterToPoint(v):o=l.closestPoint(v,_));var C=o?We.transformPoint(o,d):s,S=r.offset||0;return r.stroke&&(S+=UL(i)/2),I_(C,t.start,S)}const vje=pje,yje=Gse,kje=mje,_je=bje,wje=Object.freeze(Object.defineProperty({__proto__:null,anchor:vje,bbox:yje,boundary:_je,rectangle:kje},Symbol.toStringTag,{value:"Module"}));function Lf(t){return function(e,n,r,i){var o=!!i.rotate,a=o?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),s=a[t](),l=i.dx;if(l){var c=Po(l);l=parseFloat(l),isFinite(l)&&(c&&(l/=100,l*=a.width),s.x+=l)}var u=i.dy;if(u){var f=Po(u);u=parseFloat(u),isFinite(u)&&(f&&(u/=100,u*=a.height),s.y+=u)}return o?s.rotate(e.model.getBBox().center(),-e.model.angle()):s}}function Sje(t,e,n,r){var i=t.model.angle(),o=t.getNodeBBox(e),a=o.center(),s=o.origin(),l=o.corner(),c=r.padding;if(isFinite(c)||(c=0),s.y+c<=n.y&&n.y<=l.y-c){var u=n.y-a.y;a.x+=i===0||i===180?0:u*1/Math.tan(ls(i)),a.y+=u}else if(s.x+c<=n.x&&n.x<=l.x-c){var f=n.x-a.x;a.y+=i===90||i===270?0:f*Math.tan(ls(i)),a.x+=f}return a}function xje(t,e,n,r){var i=!!r.rotate,o,a,s;i?(o=t.getNodeUnrotatedBBox(e),s=t.model.getBBox().center(),a=t.model.angle()):o=t.getNodeBBox(e);var l=r.padding;isFinite(l)&&o.inflate(l),i&&n.rotate(s,a);var c=o.sideNearestToPoint(n),u;switch(c){case"left":u=o.leftMiddle();break;case"right":u=o.rightMiddle();break;case"top":u=o.topMiddle();break;case"bottom":u=o.bottomMiddle();break}return i?u.rotate(s,-a):u}function Cje(t,e,n,r,i){return t.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}const Tje=Lf("center"),Aje=Lf("topMiddle"),Ije=Lf("bottomMiddle"),Pje=Lf("leftMiddle"),Eje=Lf("rightMiddle"),$je=Lf("origin"),Oje=Lf("topRight"),Dje=Lf("bottomLeft"),Lje=Lf("corner"),Fje=D2(Sje),Nje=D2(xje),Mje=Cje,zje=Object.freeze(Object.defineProperty({__proto__:null,bottom:Ije,bottomLeft:Dje,bottomRight:Lje,center:Tje,left:Pje,midSide:Nje,modelCenter:Mje,perpendicular:Fje,right:Eje,top:Aje,topLeft:$je,topRight:Oje},Symbol.toStringTag,{value:"Module"})),Vg={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},Rje=50,nU=20,rU=1e3,jje=1/0,P9=9007199254740991,DC=xn.Highlighting,iU={[DC.DEFAULT]:{name:"stroke",options:{padding:3}},[DC.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[DC.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},Vje=[{name:yl.BACK},{name:yl.CELLS},{name:yl.LABELS},{name:yl.FRONT},{name:yl.TOOLS}],Bje=vf.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:ao,linkView:by,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:iU,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Qm,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,n,r,i,o){return(i==="target"?n:t)instanceof ao},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:Vg.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,n,r,i){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:aje,anchorNamespace:zje,linkAnchorNamespace:dje,connectionPointNamespace:wje,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&cf(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new uf;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Rn(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!Xa(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===Vg.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var i=this.SORT_DELAYING_BATCHES;i.includes(e)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:o,origin:a,highlighting:s,cellViewNamespace:l,interactive:c}=t;!l&&typeof joint<"u"&&cf(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),yr(e)||(t.defaultConnector=bl(e)),yr(n)||(t.defaultRouter=bl(n)),yr(r)||(t.defaultConnectionPoint=bl(r)),yr(i)||(t.defaultAnchor=bl(i)),yr(o)||(t.defaultLinkAnchor=bl(o)),Li(c)&&(t.interactive=Nt({},c)),Li(s)&&(t.highlighting=jL({},s,iU)),t.origin=Nt({},a)},children:function(){var t=We.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:ac("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:ac("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:ac("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:r,layers:i,background:o,grid:a}=t;return n.style.overflow=e.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=Rn(o),this.$grid=Rn(a),this.renderLayers(),We.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=Vje){this.removeLayers(),t.forEach(({name:i,sorted:o})=>{const a=new rRe({name:i});this.layers.appendChild(a.el),this._layers[i]=a});const e=this.getLayerView(yl.CELLS),n=this.getLayerView(yl.TOOLS),r=this.getLayerView(yl.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(ac("viewport")),r.vel.addClass(ac("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(t===void 0){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),We.createSVGMatrix(t)}t=We.createSVGMatrix(t);var r=We.matrixToTransformString(t);return e.setAttribute("transform",r),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return We.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof xn)for(var r=t.model,i=this.model.getConnectedLinks(r),o=0,a=i.length;o<a;o++){var s=i[o],l=this.findViewByModel(s);if(l){var c=["UPDATE"];s.getTargetCell()===r&&c.push("TARGET"),s.getSourceCell()===r&&c.push("SOURCE");var u=Math.max(e+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(c),u,n)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof xn))return!1;var n=t.model;if(n.isElement())return!1;if(!(e&t.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,o=this.findViewByModel(n.getSourceCell());o&&!this.isViewMounted(o)&&(i=this.dumpView(o,r),t.updateEndMagnet("source"));var a=0,s=this.findViewByModel(n.getTargetCell());if(s&&!this.isViewMounted(s)&&(a=this.dumpView(s,r),t.updateEndMagnet("target")),i===0&&a===0)return!this.dumpView(t,r)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var o=this.updateViews(r);i&&this.notifyAfterRender(o,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:i,options:o}=this;i.idle&&o.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:a,FLAG_INSERT:s,UPDATE_PRIORITY:l,cid:c}=t;let u=i.priorities[n];if(u||(u=i.priorities[n]={}),n>l)for(let h=n-1;h>=l;h--){const m=i.priorities[h];!m||!(c in m)||(u[c]|=m[c],delete m[c])}let f=u[c]||0;if((f&e)===e)return;f||i.count++,e&a&&f&s?u[c]^=s:e&s&&f&a&&(u[c]^=a),u[c]|=e;const d=o.onViewUpdate;typeof d=="function"&&d.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,r=e.priorities[t.UPDATE_PRIORITY],i=this.registerMountedView(t)|r[n];return delete r[n],i},dumpView:function(t,e={}){const n=this.dumpViewUpdate(t);if(!n)return 0;const r=!e.silent;r&&this.notifyBeforeRender(e);const i=this.updateView(t,n,e);if(r){const o={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(o,e)}return i},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:o,model:a}=t;if(t instanceof xn){if(e&r)return this.removeView(a),0;if(e&i){const s=!!(e&o);s&&(e^=o),this.insertView(t,s),e^=i}}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){if(!t)return!1;var e=t.cid,n=this._updates;return e in n.mounted},dumpViews:function(t){var e=nc({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,i=P9;do r++,e=this.updateViewsBatch(t),n+=e.updated,i=Math.min(e.priority,i);while(!e.empty);const o={updated:n,batches:r,priority:i};return this.notifyAfterRender(o,t),o},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:P9});const{_updates:n,options:r}=this,i=n.id;if(i){vP(i),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);const o=this.updateViewsBatch(t),a=nc({},t,{mountBatchSize:rU-o.mounted,unmountBatchSize:rU-o.unmounted}),s=this.checkViewport(a),l=s.unmounted,c=s.mounted;let u=e.processed;const f=n.count;o.updated>0?(u+=o.updated+o.unmounted,o.processed=u,e.priority=Math.min(o.priority,e.priority),o.empty&&c===0?(o.unmounted+=l,o.mounted+=c,o.priority=e.priority,this.notifyAfterRender(o,t),e.processed=0,e.priority=P9,n.count=0):e.processed=u):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",t));const d=t.progress;if(f&&typeof d=="function"&&d.call(this,o.empty,u,f,o,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=bP(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||jje,n=this._updates,r=0,i=0,o=0,a=0,s=P9,l=!0,c=this.options,u=n.priorities,f="viewport"in t?t.viewport:c.viewport;typeof f!="function"&&(f=null);var d=c.onViewPostponed;typeof d!="function"&&(d=null);var h=Object.keys(u);e:for(var m=0,v=h.length;m<v;m++){var k=+h[m],b=u[k];for(var _ in b){if(r>=e){l=!1;break e}var x=Fp[_];if(!x){delete b[_];continue}var C=b[_];if(!(C&x.FLAG_REMOVE)){var S=_ in n.unmounted;if(x.DETACHABLE&&f&&!f.call(this,x,!S,this)){S||(this.registerUnmountedView(x),this.detachView(x)),n.unmounted[_]|=C,delete b[_],o++;continue}S&&(C|=x.FLAG_INSERT,a++),C|=this.registerMountedView(x)}var g=this.updateView(x,C,t);if(g>0&&(b[_]=g,!d||!d.call(this,x,g,this)||b[_])){i++,l=!1;continue}s>k&&(s=k),r++,delete b[_]}}return{priority:s,updated:r,postponed:i,unmounted:o,mounted:a,empty:l}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),n=e.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Fp[e[i]];return r},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),n=e.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Fp[e[i]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;typeof t!="function"&&(t=null);for(var r=("mountBatchSize"in e)?e.mountBatchSize:1/0,i=this._updates,o=i.unmountedCids,a=i.unmounted,s=0,l=Math.min(o.length,r);s<l;s++){var c=o[s];if(c in a){var u=Fp[c];if(u){if(u.DETACHABLE&&t&&!t.call(this,u,!1,this)){o.push(c);continue}n++;var f=this.registerMountedView(u);f&&this.scheduleViewUpdate(u,f,u.UPDATE_PRIORITY,{mounting:!0})}}}return o.splice(0,s),n},checkMountedViews:function(t,e){e||(e={});var n=0;if(typeof t!="function")return n;for(var r=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,i=this._updates,o=i.mountedCids,a=i.mounted,s=0,l=Math.min(o.length,r);s<l;s++){var c=o[s];if(c in a){var u=Fp[c];if(u){if(!u.DETACHABLE||t.call(this,u,!0,this)){o.push(c);continue}n++;var f=this.registerUnmountedView(u);f&&this.detachView(u)}}}return o.splice(0,s),n},checkViewVisibility:function(t,e={}){let n="viewport"in e?e.viewport:this.options.viewport;typeof n!="function"&&(n=null);const r=this._updates,{mounted:i,unmounted:o}=r,a=!t.DETACHABLE||!n||n.call(this,t,!1,this);let s=!1,l=!1;if(t.cid in i&&!a){this.registerUnmountedView(t)&&this.detachView(t);const f=r.mountedCids.indexOf(t.cid);r.mountedCids.splice(f,1),s=!0}if(!s&&t.cid in o&&a){const u=r.unmountedCids.indexOf(t.cid);r.unmountedCids.splice(u,1);var c=this.registerMountedView(t);c&&this.scheduleViewUpdate(t,c,t.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:s?1:0}},checkViewport:function(t){var e=nc({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);if(r>0){var i=this._updates.unmountedCids;e.mountBatchSize=Math.min(i.length-r,e.mountBatchSize)}var o=this.checkUnmountedViews(n,e);return{mounted:o,unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,i=e.freezeKey;if(n&&n!==i){if(r&&i)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var o=e.id;e.id=null,this.isAsync()&&o&&vP(o)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,!(n&&n===r&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===Vg.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return Xa(e)||(e=this.el.clientWidth),Xa(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:r,height:i}=n;let o=t===void 0?r:t,a=e===void 0?i:e;if(r===o&&i===a)return;n.width=o,n.height=a,this._setDimensions();const s=this.getComputedSize();this.trigger("resize",s.width,s.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;Xa(e)&&(e=Math.round(e)),Xa(n)&&(n=Math.round(n)),this.$el.css({width:e===null?"":e,height:n===null?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,r){Jn(t)?r=t:r=Nt({gridWidth:t,gridHeight:e,padding:n},r);const{x:i,y:o,width:a,height:s}=this.getFitToContentArea(r),{sx:l,sy:c}=this.scale();return this.setOrigin(-i*l,-o*c),this.setDimensions(a*l,s*c),new lt(i,o,a,s)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=Dm(t.padding||0),i=Math.max(t.minWidth||0,e),o=Math.max(t.minHeight||0,n),a=t.maxWidth||Number.MAX_VALUE,s=t.maxHeight||Number.MAX_VALUE,l=t.allowNewOrigin,c="contentArea"in t?new lt(t.contentArea):this.getContentArea(t),{sx:u,sy:f}=this.scale();c.x*=u,c.y*=f,c.width*=u,c.height*=f;let d=Math.ceil((c.width+c.x)/e),h=Math.ceil((c.height+c.y)/n);t.allowNegativeBottomRight||(d=Math.max(d,1),h=Math.max(h,1)),d*=e,h*=n;let m=0;(l==="negative"&&c.x<0||l==="positive"&&c.x>=0||l==="any")&&(m=Math.ceil(-c.x/e)*e,m+=r.left,d+=m);let v=0;return(l==="negative"&&c.y<0||l==="positive"&&c.y>=0||l==="any")&&(v=Math.ceil(-c.y/n)*n,v+=r.top,h+=v),d+=r.right,h+=r.bottom,d=Math.max(d,i),h=Math.max(h,o),d=Math.min(d,a),h=Math.min(h,s),new lt(-m/u,-v/f,d/u,h/f)},transformToFitContent:function(t){t||(t={});let e,n;if("contentArea"in t){const k=t.contentArea;e=this.localToPaperRect(k),n=new we(k)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(!e.width||!e.height)return;nc(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=Dm(t.padding),i=t.minScaleX||t.minScale,o=t.maxScaleX||t.maxScale,a=t.minScaleY||t.minScale,s=t.maxScaleY||t.maxScale;let l;if(t.fittingBBox)l=t.fittingBBox;else{const k=this.translate(),b=this.getComputedSize();l={x:k.tx,y:k.ty,width:b.width,height:b.height}}l=new lt(l).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const c=this.scale();let u=l.width/e.width*c.sx,f=l.height/e.height*c.sy;if(t.preserveAspectRatio&&(u=f=Math.min(u,f)),t.scaleGrid){const k=t.scaleGrid;u=k*Math.floor(u/k),f=k*Math.floor(f/k)}u=Math.min(o,Math.max(i,u)),f=Math.min(s,Math.max(a,f));const d={x:u/c.sx,y:f/c.sy},h=this.options.origin;let m=l.x-n.x*u-h.x,v=l.y-n.y*f-h.y;switch(t.verticalAlign){case"middle":v=v+(l.height-e.height*d.y)/2;break;case"bottom":v=v+(l.height-e.height*d.y);break}switch(t.horizontalAlign){case"middle":m=m+(l.width-e.width*d.x)/2;break;case"right":m=m+(l.width-e.width*d.x);break}this.scale(u,f),this.translate(m,v)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new lt:We(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return yr(e)?n=e.apply(this,t):e===!0?n=this.getArea():e?n=new lt(e):n=null,n},createViewForModel:function(t){const{options:e}=this;var n,r,i=e.cellViewNamespace,o=t.get("type")+"View",a=S4(i,o,".");t.isLink()?(n=e.linkView,r=by):(n=e.elementView,r=ao);var s=n.prototype instanceof Go.View?a||n:n.call(this,t)||a||r;return new s({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?yl.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,i=n[e];if(i){var{cid:o}=i;const{mounted:a,unmounted:s}=r;i.remove(),delete n[e],delete a[o],delete s[o]}return i},renderView:function(t,e){const{id:n}=t,r=this._views;let i,o,a=!0;return n in r&&(i=r[n],i.model===t?(o=i.FLAG_INSERT,a=!1):this.removeView(t)),a&&(i=r[n]=this.createViewForModel(t),i.paper=this,o=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(Fi(i,"initFlag"))),this.requestViewUpdate(i,o,i.UPDATE_PRIORITY,e),i},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=t.length;r<i;r++)this.renderView(t[r],e);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){uc(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=Rn(this.cells).children("[model-id]"),e=this.model.get("cells");xze(t,function(n,r){var i=e.get(n.getAttribute("model-id")),o=e.get(r.getAttribute("model-id")),a=i.attributes.z||0,s=o.attributes.z||0;return a===s?0:a<s?-1:1})},insertView:function(t,e){const n=this.getLayerView(yl.CELLS),{el:r,model:i}=t;switch(this.options.sorting){case Vg.APPROX:n.insertSortedNode(r,i.get("z"));break;case Vg.EXACT:default:n.insertNode(r);break}t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},scale:function(t,e,n,r){if(t===void 0)return We.matrixToScale(this.matrix());e===void 0&&(e=t),n===void 0&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var o=i.tx-n*(t-1),a=i.ty-r*(e-1);this.translate(o,a)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var s=this.matrix();return s.a=t,s.d=e,this.matrix(s),this.trigger("scale",t,e,n,r),this},rotate:function(t,e,n){if(t===void 0)return We.matrixToRotate(this.matrix());if(e===void 0){var r=this.cells.getBBox();e=r.width/2,n=r.height/2}var i=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(i),this},translate:function(t,e){if(t===void 0)return We.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:i}=n;t||(t=0),e||(e=0);const o=this.matrix();if(o.e===t&&o.f===e)return this;o.e=t,o.f=e,this.matrix(o);const{tx:a,ty:s}=this.translate();return r.x=a,r.y=s,this.trigger("translate",a,s),i&&this.drawGrid(),this},findView:function(t){var e=Xo(t)?this.cells.querySelector(t):t instanceof Rn?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=Xo(t)||Xa(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new we(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=nc(e||{},{strict:!1}),t=new lt(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(i){return i&&t[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new we(t,e),r=We.transformPoint(n,this.matrix());return r},localToPaperRect:function(t,e,n,r){var i=new lt(t,e,n,r),o=We.transformRect(i,this.matrix());return o},paperToLocalPoint:function(t,e){var n=new we(t,e),r=We.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(t,e,n,r){var i=new lt(t,e,n,r),o=We.transformRect(i,this.matrix().inverse());return o},localToClientPoint:function(t,e){var n=new we(t,e),r=We.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(t,e,n,r){var i=new lt(t,e,n,r),o=We.transformRect(i,this.clientMatrix());return o},clientToLocalPoint:function(t,e){var n=new we(t,e),r=We.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(t,e,n,r){var i=new lt(t,e,n,r),o=We.transformRect(i,this.clientMatrix().inverse());return o},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var n=new we(t,e),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var i=this.pageOffset(),o=new lt(t,e,n,r);return o.x-=i.x,o.y-=i.y,this.paperToLocalRect(o)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new we(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof by))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,e)||!n.linkPinning&&!i.linkPinning.call(this,r,e)||typeof n.allowLink=="function"&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return yr(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:i}=this.options;if(e===void 0){if(!r||n&&(e=r[n],e===!1))return!1;e||(e=r.default)}if(!e)return!1;Xo(e)&&(e={name:e});const o=e.name,a=i[o];if(!a)throw new Error('Unknown highlighter ("'+o+'")');if(typeof a.highlight!="function")throw new Error('Highlighter ("'+o+'") is missing required highlight() method');if(typeof a.unhighlight!="function")throw new Error('Highlighter ("'+o+'") is missing required unhighlight() method');return{highlighter:a,options:e.options||{},name:o}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.highlight(t,e,o)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:o}=r;i.unhighlight(t,e,o)},pointerdblclick:function(t){t.preventDefault(),t=yi(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=yi(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}t=yi(t),this.contextMenuTrigger(t)},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=yi(t);const{target:e,button:n}=t,r=this.findView(e),i=n===2;if(r){if(!i&&this.guard(t,r))return;const o=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!o&&t.preventDefault(),o&&r.preventDefaultInteraction(t);const a=r.el,s=e.closest("[event]");if(s&&a!==s&&r.el.contains(s)){const c=yi(Rn.Event(t.originalEvent,{data:t.data,currentTarget:s}));if(this.onevent(c),c.isDefaultPrevented()&&t.preventDefault(),c.isPropagationStopped())return;t.data=c.data}const l=e.closest("[magnet]");if(l&&r.el!==l&&r.el.contains(l)){const c=yi(Rn.Event(t.originalEvent,{data:t.data,currentTarget:l}));if(this.onmagnet(c),c.isDefaultPrevented()&&t.preventDefault(),c.isPropagationStopped()){if(i)return;this.delegateDragEvents(r,c.data);return}t.data=c.data}}if(i){this.contextMenuFired=!0;const o=Rn.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(o)}else{const o=this.snapToGrid(t.clientX,t.clientY);r?r.pointerdown(t,o.x,o.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,o.x,o.y)),this.delegateDragEvents(r,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0,this.undelegateEvents());var n=++e.mousemoved;if(!(n<=this.options.moveThreshold)){t=yi(t);var r=this.snapToGrid(t.clientX,t.clientY),i=e.sourceView;i?i.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=yi(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(Rn.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=yi(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=yi(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=yi(t);const{target:e,relatedTarget:n,currentTarget:r}=t,i=this.findView(e);if(this.guard(t,i))return;const o=this.findView(n);i&&(o===i||(i.mouseenter(t),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=yi(t);const{target:e,relatedTarget:n,currentTarget:r}=t,i=this.findView(e);if(this.guard(t,i))return;const o=this.findView(n);i&&(o===i||(i.mouseleave(t),this.el.contains(n)))||o||r===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:cze(function(){const{event:t,deltas:e}=this._mw_evt_buffer,n=e.reduce((a,s)=>a+kze(s,Rje),0),r=Math.pow(.995,n),{x:i,y:o}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,i,o,r),this._mw_evt_buffer={event:null,deltas:[]}},nU,{maxWait:nU}),mousewheel:function(t){t=yi(t);const e=this.findView(t.target);if(this.guard(t,e))return;const n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:o}=yze(n),a=this._events["paper:pinch"];if(t.ctrlKey&&a&&a.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(o),this._processMouseWheelEvtBuf();else{const s=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,s):this.trigger("blank:mousewheel",t,r.x,r.y,s),this.trigger("paper:pan",t,i,o)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=yi(t),this.guard(t,r))return;var i=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,i.x,i.y)}}},magnetEvent:function(t,e){var n=t.currentTarget,r=n.getAttribute("magnet");if(r){var i=this.findView(n);if(i){if(t=yi(t),this.guard(t,i))return;var o=this.snapToGrid(t.clientX,t.clientY);e.call(this,i,t,n,o.x,o.y)}}},onmagnet:function(t){if(t.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const e=Rn.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,function(e,n,r,i,o){e.onmagnet(n,i,o)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,i,o){e.magnetpointerdblclick(n,r,i,o)})},magnetcontextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,function(e,n,r,i,o){e.magnetcontextmenu(n,r,i,o)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);if(n){if(t=yi(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,r.x,r.y)}},getPointerArgs(t){const e=yi(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if(t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&t.data.guarded!==void 0)return t.data.guarded;const{target:n}=t;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(e&&e.model&&e.model instanceof pu||this.svg===n||this.el===n||Rn.contains(this.svg,n))},setGridSize:function(t){const{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:We("svg",{width:"100%",height:"100%"},We("defs")),patterns:{},add:function(t,e){We(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(We("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return this.patterns[t]!==void 0}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=Array.isArray(t)?t:[t||{}];return e.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(Xo(t)&&Array.isArray(e[t]))return e[t].map(function(l){return Nt({},l)});var n=t||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(e[i])){var o=e[i].map(function(l){return Nt({},l)}),a=Array.isArray(n.args)?n.args:[n.args||{}];nc(a[0],Om(t,"args"));for(var s=0;s<a.length;s++)o[s]&&Nt(o[s],a[s]);return o}return r?n:[n]},drawGrid:function(t){const e=this.options.drawGridSize||this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(a,s){var l="pattern_"+s,c=zi(a,n[s],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});c.width=e*(r.a||1)*(c.scaleFactor||1),c.height=e*(r.d||1)*(c.scaleFactor||1),i.exist(l)||i.add(l,We("pattern",{id:l,patternUnits:"userSpaceOnUse"},We(c.markup)));var u=i.get(l);yr(c.update)&&c.update(u.node.childNodes[0],c);var f=c.ox%c.width;f<0&&(f+=c.width);var d=c.oy%c.height;d<0&&(d+=c.height),u.attr({x:f,y:d,width:c.width,height:c.height})});var o=new XMLSerializer().serializeToString(i.root.node);return o="url(data:image/svg+xml;base64,"+btoa(o)+")",this.$grid.css("backgroundImage",o),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",r=this.scale(),i=this.translate();if(Jn(e)){var o=i.tx+r.sx*(e.x||0),a=i.ty+r.sy*(e.y||0);e=o+"px "+a+"px"}Jn(n)&&(n=new lt(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var n,r=e.size,i=e.repeat||"no-repeat",o=e.opacity||1,a=Math.abs(e.quality)||1,s=this.constructor.backgroundPatterns[hze(i)];if(yr(s)){t.width*=a,t.height*=a;var l=s(t,e);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",Jn(r)?(r.width*=l.width/t.width,r.height*=l.height/t.height):r===void 0&&(e.size={width:l.width/a,height:l.height/a})}else n=t.src,r===void 0&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=bl(t),v0(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,uc(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!Jn(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+S9(JSON.stringify(t))),!this.isDefined(e)){var r=Tze,i=r[n]&&r[n](t.args||{});if(!i)throw new Error("Non-existing filter "+n);var o=Nt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});We(i,o).appendTo(this.defs)}return e},defineGradient:function(t){if(!Jn(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:i=r+e.id+S9(JSON.stringify(t)),stops:o,attrs:a={}}=t;if(this.isDefined(i))return i;const s=Ln(o).map(({offset:c,color:u,opacity:f})=>We("stop").attr({offset:c,"stop-color":u,"stop-opacity":Number.isFinite(f)?f:1})),l=We(r,a,s);return l.id=i,l.appendTo(n),i},definePattern:function(t){if(!Jn(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+S9(JSON.stringify(t)),markup:i,attrs:o={}}=t;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const a=We("pattern",{patternUnits:"userSpaceOnUse"});if(a.id=r,a.attr(o),typeof i=="string")a.append(We(i));else{const{fragment:s}=kk(i);a.append(s)}return a.appendTo(n),r},defineMarker:function(t){if(!Jn(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+S9(JSON.stringify(t)),markup:i,attrs:o={},markerUnits:a="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const s=We("marker",{orient:"auto",overflow:"visible",markerUnits:a});s.id=r,s.attr(o);let l;if(i){let f;if(typeof i=="string")f=We(i),f=Array.isArray(f)?f:[f];else{const{fragment:d}=kk(i);f=We(d).children()}f.length>1?l=We("g").append(f):l=f[0]}else{const{type:f="path"}=t;l=We(f)}const c=Om(t,"type","id","markup","attrs","markerUnits");return Object.keys(c).forEach(f=>{const d=c[f],h=l.attr(f);if(h==null)l.attr(f,d);else switch(f){case"transform":l.attr(f,d+" "+h);break}}),l.appendTo(s),s.appendTo(n),r}},{sorting:Vg,Layers:yl,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,-1,e.width,e.height),i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,1,e.width,0),i.drawImage(t,0,0,n,r),i.setTransform(1,0,0,-1,0,e.height),i.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;for(var o=i.getContext("2d"),a=Xa(e.watermarkAngle)?-e.watermarkAngle:-20,s=ls(a),l=i.width/4,c=i.height/4,u=0;u<4;u++)for(var f=0;f<4;f++)(u+f)%2>0&&(o.setTransform(1,0,0,1,(2*u-1)*l,(2*f-1)*c),o.rotate(s),o.drawImage(t,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){We(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;We(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",We(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",We(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,o=e.thickness;r-o>=0&&i-o>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",We(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),GL=vf.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(t){const{paper:e,relatedView:n}=this;return!e||!n?!0:e.guard(t,n)}}),vb=vf.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(t){t=Nt(this.options,t);var e=t.tools;if(!Array.isArray(e))return this;var n=t.relatedView;if(!(n instanceof xn))return this;for(var r=this.tools=[],i=0,o=e.length;i<o;i++){var a=e[i];a instanceof GL&&(a.configure(n,this),this.vel.append(a.el),r.push(a))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(!e)return this;for(var n=this.isRendered,r=0,i=e.length;r<i;r++){var o=e[r];n?t.tool!==o.cid&&o.isVisible()&&o.update():o.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var i=e[n];t===i?i.show():i.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var i=e[n];i!==t&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,n=t.length;e<n;e++)t[e].remove();this.tools=null},mount:function(){const{options:t,el:e}=this,{relatedView:n,layer:r=yl.TOOLS,z:i}=t;return n&&(r?n.paper.getLayerView(r).insertSortedNode(e,i):n.el.appendChild(e)),this}}),x4={exportElement:function(t){return t.size()},exportLink:function(t){var e=t.get("labelSize")||{},n={minLen:t.get("minLen")||1,weight:t.get("weight")||1,labelpos:t.get("labelPosition")||"c",labeloffset:t.get("labelOffset")||0,width:e.width||0,height:e.height||0};return n},importElement:function(t,e,n){var r=this.getCell(e),i=n.node(e);t.setPosition?t.setPosition(r,i):r.set("position",{x:i.x-i.width/2,y:i.y-i.height/2})},importLink:function(t,e,n){const i=this.getCell(e.name),o=n.edge(e),a=o.points||[],s=new Or(a);if(t.setVertices||t.setLinkVertices)if(yr(t.setVertices))t.setVertices(i,a);else{s.simplify({threshold:.001});const l=s.points.map(u=>u.toJSON()),c=l.length;i.set("vertices",l.slice(1,c-1))}if(t.setLabels&&"x"in o&&"y"in o){const l={x:o.x,y:o.y};if(yr(t.setLabels))t.setLabels(i,l,a);else{const c=s.closestPointLength(l),u=s.pointAtLength(c),f=c/s.length(),d=new we(l).difference(u).toJSON();i.label(0,{position:{distance:f,offset:d}})}}},layout:function(t,e){var n;t instanceof uf?n=t:n=new uf().resetCells(t,{dry:!0,sort:!1}),t=null,e=nc(e||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});const r=e.dagre||(typeof dagre<"u"?dagre:void 0);if(r===void 0)throw new Error('The the "dagre" utility is a mandatory dependency.');var i=x4.toGraphLib(n,{graphlib:e.graphlib,directed:!0,multigraph:!0,compound:!0,setNodeLabel:e.exportElement,setEdgeLabel:e.exportLink,setEdgeName:function(u){return u.id}}),o={},a=e.marginX||0,s=e.marginY||0;if(e.rankDir&&(o.rankdir=e.rankDir),e.align&&(o.align=e.align),e.nodeSep&&(o.nodesep=e.nodeSep),e.edgeSep&&(o.edgesep=e.edgeSep),e.rankSep&&(o.ranksep=e.rankSep),e.ranker&&(o.ranker=e.ranker),a&&(o.marginx=a),s&&(o.marginy=s),i.setGraph(o),r.layout(i,{debugTiming:!!e.debugTiming}),n.startBatch("layout"),x4.fromGraphLib(i,{importNode:this.importElement.bind(n,e),importEdge:this.importLink.bind(n,e)}),e.resizeClusters){var l=i.nodes().filter(function(u){return i.children(u).length>0}).map(n.getCell.bind(n)).sort(function(u,f){return f.getAncestors().length-u.getAncestors().length});uc(l,"fitToChildren",{padding:e.clusterPadding})}n.stopBatch("layout");var c=i.graph();return new lt(a,s,Math.abs(c.width-2*a),Math.abs(c.height-2*s))},fromGraphLib:function(t,e){e=e||{};var n=e.importNode||sv,r=e.importEdge||sv,i=this instanceof uf?this:new uf;return t.nodes().forEach(function(o){n.call(i,o,t,i,e)}),t.edges().forEach(function(o){r.call(i,o,t,i,e)}),i},toGraphLib:function(t,e){e=e||{};const n=e.graphlib||(typeof graphlib<"u"?graphlib:void 0);if(n===void 0)throw new Error('The the "graphlib" utility is a mandatory dependency.');for(var r=_se(e,"directed","compound","multigraph"),i=new n.Graph(r),o=e.setNodeLabel||sv,a=e.setEdgeLabel||sv,s=e.setEdgeName||sv,l=t.get("cells"),c=0,u=l.length;c<u;c++){var f=l.at(c);if(f.isLink()){var d=f.get("source"),h=f.get("target");if(!d.id||!h.id)break;i.setEdge(d.id,h.id,a(f),s(f))}else if(i.setNode(f.id,o(f)),i.isCompound()&&f.has("parent")){var m=f.get("parent");l.has(m)&&i.setParent(f.id,m)}}return i}};uf.prototype.toGraphLib=function(t){return x4.toGraphLib(this,t)};uf.prototype.fromGraphLib=function(t,e){return x4.fromGraphLib.call(this,t,e)};const qse={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},Ol=aa.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}});Ol.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'});ao.extend({presentationAttributes:ao.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=ao.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}});Ol.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'});Ol.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'});Ol.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'});Ol.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'});Ol.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'});Ol.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'});const Hje=Ol.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'});Hje.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}});const xk=qse.test("svgforeignobject");Ol.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',xk?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),Ol.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":Nt({},e),div:{style:Nt({},e)}})},updateContent:function(t,e){xk?this.attr({".content":{html:Sze(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}});ao.extend({presentationAttributes:xk?ao.prototype.presentationAttributes:ao.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=ao.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(xk)ao.prototype.update.call(this,n,e);else{var r=Om(e||n.get("attrs"),".content");ao.prototype.update.call(this,n,r),(!e||cf(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=zi({},(e||t.get("attrs"))[".content"]);n=Om(n,"text");var r=Sse(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),i=gP({},".content",n,"/");i[".content"].text=r,ao.prototype.update.call(this,t,i)}});const Wje=aa.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),Uje=aa.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Gje=aa.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),qje=aa.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),Yje=aa.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),Xje=aa.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),Kje=aa.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Jje=aa.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Zje=aa.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Qje=aa.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),eVe=aa.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var LC=10;const tVe=aa.define("standard.Cylinder",{attrs:{body:{lateralArea:LC,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:LC,refRx:"50%",ry:LC,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var n=Po(t),r={lateralArea:t},i=n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:r,top:i},e)}},{attributes:{lateralArea:{set:function(t,e){var n=Po(t);n&&(t=parseFloat(t)/100);var r=e.x,i=e.y,o=e.width,a=e.height,s=o/2,l=n?a*t:t,c=We.KAPPA,u=c*s,f=c*(n?a*t:t),d=r,h=r+o/2,m=r+o,v=i+l,k=v-l,b=i+a-l,_=i+a,x=["M",d,v,"L",d,b,"C",r,b+f,h-u,_,h,_,"C",h+u,_,m,b+f,m,b,"L",m,v,"C",m,v-f,h+u,k,h,k,"C",h-u,k,d,v-f,d,v,"Z"];return{d:x.join(" ")}}}}});var nVe={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},rVe={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},iVe=qse.test("svgforeignobject")?nVe:rVe;const oVe=aa.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},iVe]},{attributes:{text:{set:function(t,e,n,r){if(n instanceof HTMLElement)n.textContent=t;else{var i=r.style||{},o={text:t,width:-5,height:"100%"},a=Nt({textVerticalAnchor:"middle"},i);return Ase.textWrap.set.call(this,o,e,n,a),{fill:i.color||null}}},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),Yse=Qm.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),aVe=Qm.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),sVe=Qm.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),lVe=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:Jje,Circle:Uje,Cylinder:tVe,DoubleLink:aVe,Ellipse:Gje,EmbeddedImage:Zje,HeaderedRectangle:eVe,Image:Kje,InscribedImage:Qje,Link:Yse,Path:qje,Polygon:Yje,Polyline:Xje,Rectangle:Wje,ShadowLink:sVe,TextBlock:oVe},Symbol.toStringTag,{value:"Module"})),Xse=Ol.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),cVe=ao.extend({presentationAttributes:ao.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:ao.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=ao.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(We("circle"));break;case 2:t.addClass("two"),t.append([We("circle"),We("circle")]);break;case 3:t.addClass("three"),t.append([We("circle"),We("circle"),We("circle")]);break;default:t.addClass("alot"),t.append(We("text").text(e+""));break}}}),Kse=Ol.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),uVe=Qm.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),fVe=Object.freeze(Object.defineProperty({__proto__:null,Link:uVe,Place:Xse,PlaceView:cVe,Transition:Kse},Symbol.toStringTag,{value:"Module"}));var oU=vf.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick",dbltap:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(t,e){const{vel:n,options:r}=this,{scale:i}=r;let o=We.createSVGMatrix().translate(t,e);i&&(o=o.scale(i)),n.transform(o,{absolute:!0})},onPointerDown:function(t){this.options.guard(t)||(t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.trigger("will-change",this,t))},onPointerMove:function(t){this.trigger("changing",this,t)},onDoubleClick:function(t){this.trigger("remove",this,t)},onPointerUp:function(t){this.trigger("changed",this,t),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}});const dVe=GL.extend({name:"vertices",options:{handleClass:oU,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0,scale:null},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){var t=this.relatedView,e=t.model.vertices();return e.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdding&&this.updatePath(),this},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),!!Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},renderHandles:function(){for(var t=this.relatedView,e=t.model.vertices(),n=0,r=e.length;n<r;n++){var i=e[n],o=new this.options.handleClass({index:n,paper:this.paper,scale:this.options.scale,guard:a=>this.guard(a)});o.render(),o.position(i.x,i.y),this.simulateRelatedView(o.el),o.vel.appendTo(this.el),this.handles.push(o),this.startHandleListening(o)}},updateHandles:function(){for(var t=this.relatedView,e=t.model.vertices(),n=0,r=e.length;n<r;n++){var i=e[n],o=this.handles[n];if(!o)return;o.position(i.x,i.y)}},updatePath:function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(t){var e=this.relatedView;e.can("vertexMove")&&(this.listenTo(t,"will-change",this.onHandleWillChange),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"changed",this.onHandleChanged)),e.can("vertexRemove")&&this.listenTo(t,"remove",this.onHandleRemove)},getNeighborPoints:function(t){var e=this.relatedView,n=e.model.vertices(),r=t>0?n[t-1]:e.sourceAnchor,i=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:new we(r),next:new we(i)}},onHandleWillChange:function(t,e){this.focus();const{relatedView:n,options:r}=this;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),r.stopPropagation||n.notifyPointerdown(...n.paper.getPointerArgs(e))},onHandleChanging:function(t,e){const{options:n,relatedView:r}=this;var i=t.options.index,[o,a,s]=r.paper.getPointerArgs(e),l={x:a,y:s};this.snapVertex(l,i),r.model.vertex(i,l,{ui:!0,tool:this.cid}),t.position(l.x,l.y),n.stopPropagation||r.notifyPointermove(o,a,s)},onHandleChanged:function(t,e){const{options:n,relatedView:r}=this;if(n.vertexAdding&&this.updatePath(),!!n.redundancyRemoval){var i=r.removeRedundantLinearVertices({ui:!0,tool:this.cid});i&&this.render(),this.blur(),r.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(e).vertexAdded&&r.model.stopBatch("vertex-add",{ui:!0,tool:this.cid});var[o,a,s]=r.paper.getPointerArgs(e);n.stopPropagation||r.notifyPointerup(o,a,s),r.checkMouseleave(o)}},snapVertex:function(t,e){var n=this.options.snapRadius;if(n>0){var r=this.getNeighborPoints(e),i=r.prev,o=r.next;Math.abs(t.x-i.x)<n?t.x=i.x:Math.abs(t.x-o.x)<n&&(t.x=o.x),Math.abs(t.y-i.y)<n?t.y=r.prev.y:Math.abs(t.y-o.y)<n&&(t.y=o.y)}},onHandleRemove:function(t,e){var n=t.options.index,r=this.relatedView;r.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),r.checkMouseleave(yi(e))},onPathPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=yi(t),n=this.paper.snapToGrid(e.clientX,e.clientY).toJSON(),r=this.relatedView;r.model.startBatch("vertex-add",{ui:!0,tool:this.cid});var i=r.getVertexIndex(n.x,n.y);this.snapVertex(n,i),r.model.insertVertex(i,n,{ui:!0,tool:this.cid}),this.update();var o=this.handles[i];this.eventData(e,{vertexAdded:!0}),o.onPointerDown(e)}},onRemove:function(){this.resetHandles()}},{VertexHandle:oU});function hVe(t,e){const{model:n}=t;return e?n.getBBox():n.isLink()?t.getConnection().bbox():t.getNodeUnrotatedBBox(t.el)}const Wb=GL.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:t}=this;t.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:t,options:e}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:o,rotate:a,scale:s}=e,l=hVe(t,o);const c=t.model.angle();a||(l=l.bbox(c));const{x:u=0,y:f=0}=i;Po(n)?n=parseFloat(n)/100*l.width:wl(n)&&(n=Number(Sl(n,l))),Po(r)?r=parseFloat(r)/100*l.height:wl(r)&&(r=Number(Sl(r,l)));let d=We.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return a&&(d=d.rotate(c)),d=d.translate(n+u-l.width/2,r+f-l.height/2),s&&(d=d.scale(s)),d},getLinkMatrix(){const{relatedView:t,options:e}=this,{offset:n=0,distance:r=0,rotate:i,scale:o}=e;let a,s,l;Po(r)?a=t.getTangentAtRatio(parseFloat(r)/100):a=t.getTangentAtLength(r),a?(s=a.start,l=a.vector().vectorAngle(new we(1,0))||0):(s=t.getConnection().start,l=0);let c=We.createSVGMatrix().translate(s.x,s.y).rotate(l).translate(0,n);return i||(c=c.rotate(-l)),o&&(c=c.scale(o)),c},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.options.action;typeof e=="function"&&e.call(this.relatedView,t,this.relatedView,this)}}});Wb.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(t,e,n){e.model.remove({ui:!0,tool:n.cid})}}});const pVe=Wb.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:t=>t.el,action:(t,e,n)=>n.dragstart(t)},getMagnetNode:function(){const{options:t,relatedView:e}=this,{magnet:n}=t;let r;switch(typeof n){case"function":{r=n.call(this,e,this);break}case"string":{[r]=e.findBySelector(n);break}default:{r=n;break}}if(r||(r=e.el),r instanceof SVGElement)return r;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(t){const{paper:e,relatedView:n}=this,r=yi(t),{x:i,y:o}=e.clientToLocalPoint(r.clientX,r.clientY);n.dragLinkStart(r,this.getMagnetNode(),i,o),e.undelegateEvents(),this.delegateDocumentEvents(null,r.data),this.focus()},drag:function(t){const{paper:e,relatedView:n}=this,r=yi(t),{x:i,y:o}=e.snapToGrid(r.clientX,r.clientY);n.dragLink(r,i,o)},dragend:function(t){const{paper:e,relatedView:n}=this,r=yi(t),{x:i,y:o}=e.snapToGrid(r.clientX,r.clientY);n.dragLinkEnd(r,i,o),this.undelegateDocumentEvents(),e.delegateEvents(),this.blur(),n.checkMouseleave(r)}});class aU extends Yse{constructor(e,n,r,i){super({source:{id:e,selector:".root"},target:{id:n,selector:".root"},attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}),this.set("id",r),this.prop("jsonnetsType",i),this.connector("straight",{cornerType:"cubic"})}addInteractionTools(e){const n=new Wb({markup:[{tagName:"circle",selector:"button",attributes:{r:8,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:30,action:()=>{Zn().disconnect(String(this.id))}}),r=new vb({tools:[n]});let i=this.findView(e);i.addTools(r),i.hideTools()}addVerticesTools(e){var n=new dVe;const r=new vb({tools:[n]});let i=this.findView(e);i.addTools(r),i.hideTools()}}class Jse extends Wb{constructor(e,n){super({markup:[{tagName:"circle",selector:"button",attributes:{r:8,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],useModelGeometry:!0,x:e,y:"100%",offset:{x:0,y:0},rotate:!0,action:function(){const r=Zn();n.get("jsonnetsType")==="place"?r.deletePlace(String(n.id)):n.get("jsonnetsType")==="transition"&&r.deleteTransition(String(n.id))}})}}class Zse extends Wb{constructor(e,n){super({markup:[{tagName:"circle",selector:"button",attributes:{r:8,fill:"green",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],useModelGeometry:!0,x:e,y:"100%",offset:{x:0,y:0},rotate:!0,action:()=>{ta().setModal(n.get("jsonnetsType"),n.id)}})}}class Qse extends pVe{constructor(){super({x:"100%",y:"50%",useModelGeometry:!0,markup:[{tagName:"circle",selector:"button",attributes:{r:8,fill:"#7a7e9b",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}]})}}class sU extends Xse{constructor(e,n,r,i,o){super({position:{x:e-25,y:n-25},attrs:{".label":{text:r,fill:"#7a7e9b"},".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2}},tokens:o}),this.set("id",i),this.prop("jsonnetsType","place")}addInteractionTools(e){const n="25%",r="75%",i=new Jse(n,this),o=new Zse(r,this),a=new vb({tools:[i,o]}),s=this.findView(e);s.addTools(a),s.hideTools()}addConnectTools(e){const n=new Qse,r=new vb({tools:[n]}),i=this.findView(e);i.addTools(r),i.hideTools()}}class lU extends Kse{constructor(e,n,r,i){super({position:{x:e-25,y:n-25},attrs:{".label":{text:r,fill:"#7a7e9b"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"}}}),this.set("id",i),this.prop("jsonnetsType","transition"),this.resize(100,50)}addInteractionTools(e){const n="0%",r="100%",i=new Jse(n,this),o=new Zse(r,this),a=new Wb({markup:[{tagName:"circle",selector:"button",attributes:{r:8,fill:"blue",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M75,5 l-60,0 0,90 M15,45 l50,0",transform:"translate(-3,-3) scale(0.09)",fill:"none",stroke:"white","stroke-width":20,cursor:"pointer"}}],useModelGeometry:!0,x:"50%",y:"100%",offset:{x:0,y:0},rotate:!0,action:()=>{Zn().fireUnderAnyAssignment(String(this.id))}}),s=new vb({tools:[i,o,a]}),l=this.findView(e);l.addTools(s),l.hideTools()}addConnectTools(e){const n=new Qse,r=new vb({tools:[n]}),i=this.findView(e);i.addTools(r),i.hideTools()}}var mVe="\0",bp="\0",cU="",Ua,em,Is,N4,G0,q0,fl,qc,yd,Yc,kd,ef,tf,Y0,X0,nf,tc,M4,CP,tX;let gVe=(tX=class{constructor(e){ri(this,M4);ri(this,Ua,!0);ri(this,em,!1);ri(this,Is,!1);ri(this,N4,void 0);ri(this,G0,()=>{});ri(this,q0,()=>{});ri(this,fl,{});ri(this,qc,{});ri(this,yd,{});ri(this,Yc,{});ri(this,kd,{});ri(this,ef,{});ri(this,tf,{});ri(this,Y0,0);ri(this,X0,0);ri(this,nf,void 0);ri(this,tc,void 0);e&&(il(this,Ua,e.hasOwnProperty("directed")?e.directed:!0),il(this,em,e.hasOwnProperty("multigraph")?e.multigraph:!1),il(this,Is,e.hasOwnProperty("compound")?e.compound:!1)),rt(this,Is)&&(il(this,nf,{}),il(this,tc,{}),rt(this,tc)[bp]={})}isDirected(){return rt(this,Ua)}isMultigraph(){return rt(this,em)}isCompound(){return rt(this,Is)}setGraph(e){return il(this,N4,e),this}graph(){return rt(this,N4)}setDefaultNodeLabel(e){return il(this,G0,e),typeof e!="function"&&il(this,G0,()=>e),this}nodeCount(){return rt(this,Y0)}nodes(){return Object.keys(rt(this,fl))}sources(){var e=this;return this.nodes().filter(n=>Object.keys(rt(e,qc)[n]).length===0)}sinks(){var e=this;return this.nodes().filter(n=>Object.keys(rt(e,Yc)[n]).length===0)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(o){r.length>1?i.setNode(o,n):i.setNode(o)}),this}setNode(e,n){return rt(this,fl).hasOwnProperty(e)?(arguments.length>1&&(rt(this,fl)[e]=n),this):(rt(this,fl)[e]=arguments.length>1?n:rt(this,G0).call(this,e),rt(this,Is)&&(rt(this,nf)[e]=bp,rt(this,tc)[e]={},rt(this,tc)[bp][e]=!0),rt(this,qc)[e]={},rt(this,yd)[e]={},rt(this,Yc)[e]={},rt(this,kd)[e]={},++E1(this,Y0)._,this)}node(e){return rt(this,fl)[e]}hasNode(e){return rt(this,fl).hasOwnProperty(e)}removeNode(e){var n=this;if(rt(this,fl).hasOwnProperty(e)){var r=i=>n.removeEdge(rt(n,ef)[i]);delete rt(this,fl)[e],rt(this,Is)&&(Fc(this,M4,CP).call(this,e),delete rt(this,nf)[e],this.children(e).forEach(function(i){n.setParent(i)}),delete rt(this,tc)[e]),Object.keys(rt(this,qc)[e]).forEach(r),delete rt(this,qc)[e],delete rt(this,yd)[e],Object.keys(rt(this,Yc)[e]).forEach(r),delete rt(this,Yc)[e],delete rt(this,kd)[e],--E1(this,Y0)._}return this}setParent(e,n){if(!rt(this,Is))throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=bp;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),Fc(this,M4,CP).call(this,e),rt(this,nf)[e]=n,rt(this,tc)[n][e]=!0,this}parent(e){if(rt(this,Is)){var n=rt(this,nf)[e];if(n!==bp)return n}}children(e=bp){if(rt(this,Is)){var n=rt(this,tc)[e];if(n)return Object.keys(n)}else{if(e===bp)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=rt(this,yd)[e];if(n)return Object.keys(n)}successors(e){var n=rt(this,kd)[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){const i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:rt(this,Ua),multigraph:rt(this,em),compound:rt(this,Is)});n.setGraph(this.graph());var r=this;Object.entries(rt(this,fl)).forEach(function([a,s]){e(a)&&n.setNode(a,s)}),Object.values(rt(this,ef)).forEach(function(a){n.hasNode(a.v)&&n.hasNode(a.w)&&n.setEdge(a,r.edge(a))});var i={};function o(a){var s=r.parent(a);return s===void 0||n.hasNode(s)?(i[a]=s,s):s in i?i[s]:o(s)}return rt(this,Is)&&n.nodes().forEach(a=>n.setParent(a,o(a))),n}setDefaultEdgeLabel(e){return il(this,q0,e),typeof e!="function"&&il(this,q0,()=>e),this}edgeCount(){return rt(this,X0)}edges(){return Object.values(rt(this,ef))}setPath(e,n){var r=this,i=arguments;return e.reduce(function(o,a){return i.length>1?r.setEdge(o,a,n):r.setEdge(o,a),a}),this}setEdge(){var e,n,r,i,o=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,n=a.w,r=a.name,arguments.length===2&&(i=arguments[1],o=!0)):(e=a,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),e=""+e,n=""+n,r!==void 0&&(r=""+r);var s=Fv(rt(this,Ua),e,n,r);if(rt(this,tf).hasOwnProperty(s))return o&&(rt(this,tf)[s]=i),this;if(r!==void 0&&!rt(this,em))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),rt(this,tf)[s]=o?i:rt(this,q0).call(this,e,n,r);var l=bVe(rt(this,Ua),e,n,r);return e=l.v,n=l.w,Object.freeze(l),rt(this,ef)[s]=l,uU(rt(this,yd)[n],e),uU(rt(this,kd)[e],n),rt(this,qc)[n][s]=l,rt(this,Yc)[e][s]=l,E1(this,X0)._++,this}edge(e,n,r){var i=arguments.length===1?FC(rt(this,Ua),arguments[0]):Fv(rt(this,Ua),e,n,r);return rt(this,tf)[i]}edgeAsObj(){const e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,n,r){var i=arguments.length===1?FC(rt(this,Ua),arguments[0]):Fv(rt(this,Ua),e,n,r);return rt(this,tf).hasOwnProperty(i)}removeEdge(e,n,r){var i=arguments.length===1?FC(rt(this,Ua),arguments[0]):Fv(rt(this,Ua),e,n,r),o=rt(this,ef)[i];return o&&(e=o.v,n=o.w,delete rt(this,tf)[i],delete rt(this,ef)[i],fU(rt(this,yd)[n],e),fU(rt(this,kd)[e],n),delete rt(this,qc)[n][i],delete rt(this,Yc)[e][i],E1(this,X0)._--),this}inEdges(e,n){var r=rt(this,qc)[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.v===n):i}}outEdges(e,n){var r=rt(this,Yc)[e];if(r){var i=Object.values(r);return n?i.filter(o=>o.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}},Ua=new WeakMap,em=new WeakMap,Is=new WeakMap,N4=new WeakMap,G0=new WeakMap,q0=new WeakMap,fl=new WeakMap,qc=new WeakMap,yd=new WeakMap,Yc=new WeakMap,kd=new WeakMap,ef=new WeakMap,tf=new WeakMap,Y0=new WeakMap,X0=new WeakMap,nf=new WeakMap,tc=new WeakMap,M4=new WeakSet,CP=function(e){delete rt(this,tc)[rt(this,nf)[e]][e]},tX);function uU(t,e){t[e]?t[e]++:t[e]=1}function fU(t,e){--t[e]||delete t[e]}function Fv(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+cU+o+cU+(r===void 0?mVe:r)}function bVe(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function FC(t,e){return Fv(t,e.v,e.w,e.name)}var qL=gVe,vVe="2.1.13",yVe={Graph:qL,version:vVe},kVe=qL,_Ve={write:wVe,read:CVe};function wVe(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:SVe(t),edges:xVe(t)};return t.graph()!==void 0&&(e.value=structuredClone(t.graph())),e}function SVe(t){return t.nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function xVe(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return e.name!==void 0&&(r.name=e.name),n!==void 0&&(r.value=n),r})}function CVe(t){var e=new kVe(t.options).setGraph(t.value);return t.nodes.forEach(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.edges.forEach(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var TVe=AVe;function AVe(t){var e={},n=[],r;function i(o){e.hasOwnProperty(o)||(e[o]=!0,r.push(o),t.successors(o).forEach(i),t.predecessors(o).forEach(i))}return t.nodes().forEach(function(o){r=[],i(o),r.length&&n.push(r)}),n}var Bo,rf,z4,TP,R4,AP,K0,E8,nX;let IVe=(nX=class{constructor(){ri(this,z4);ri(this,R4);ri(this,K0);ri(this,Bo,[]);ri(this,rf,{})}size(){return rt(this,Bo).length}keys(){return rt(this,Bo).map(function(e){return e.key})}has(e){return rt(this,rf).hasOwnProperty(e)}priority(e){var n=rt(this,rf)[e];if(n!==void 0)return rt(this,Bo)[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return rt(this,Bo)[0].key}add(e,n){var r=rt(this,rf);if(e=String(e),!r.hasOwnProperty(e)){var i=rt(this,Bo),o=i.length;return r[e]=o,i.push({key:e,priority:n}),Fc(this,R4,AP).call(this,o),!0}return!1}removeMin(){Fc(this,K0,E8).call(this,0,rt(this,Bo).length-1);var e=rt(this,Bo).pop();return delete rt(this,rf)[e.key],Fc(this,z4,TP).call(this,0),e.key}decrease(e,n){var r=rt(this,rf)[e];if(n>rt(this,Bo)[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+rt(this,Bo)[r].priority+" New: "+n);rt(this,Bo)[r].priority=n,Fc(this,R4,AP).call(this,r)}},Bo=new WeakMap,rf=new WeakMap,z4=new WeakSet,TP=function(e){var n=rt(this,Bo),r=2*e,i=r+1,o=e;r<n.length&&(o=n[r].priority<n[o].priority?r:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==e&&(Fc(this,K0,E8).call(this,e,o),Fc(this,z4,TP).call(this,o)))},R4=new WeakSet,AP=function(e){for(var n=rt(this,Bo),r=n[e].priority,i;e!==0&&(i=e>>1,!(n[i].priority<r));)Fc(this,K0,E8).call(this,e,i),e=i},K0=new WeakSet,E8=function(e,n){var r=rt(this,Bo),i=rt(this,rf),o=r[e],a=r[n];r[e]=a,r[n]=o,i[a.key]=e,i[o.key]=n},nX);var ele=IVe,PVe=ele,tle=$Ve,EVe=()=>1;function $Ve(t,e,n,r){return OVe(t,String(e),n||EVe,r||function(i){return t.outEdges(i)})}function OVe(t,e,n,r){var i={},o=new PVe,a,s,l=function(c){var u=c.v!==a?c.v:c.w,f=i[u],d=n(c),h=s.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+c+" Weight: "+d);h<f.distance&&(f.distance=h,f.predecessor=a,o.decrease(u,h))};for(t.nodes().forEach(function(c){var u=c===e?0:Number.POSITIVE_INFINITY;i[c]={distance:u},o.add(c,u)});o.size()>0&&(a=o.removeMin(),s=i[a],s.distance!==Number.POSITIVE_INFINITY);)r(a).forEach(l);return i}var DVe=tle,LVe=FVe;function FVe(t,e,n){return t.nodes().reduce(function(r,i){return r[i]=DVe(t,i,e,n),r},{})}var nle=NVe;function NVe(t){var e=0,n=[],r={},i=[];function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(u){r.hasOwnProperty(u)?r[u].onStack&&(s.lowlink=Math.min(s.lowlink,r[u].index)):(o(u),s.lowlink=Math.min(s.lowlink,r[u].lowlink))}),s.lowlink===s.index){var l=[],c;do c=n.pop(),r[c].onStack=!1,l.push(c);while(a!==c);i.push(l)}}return t.nodes().forEach(function(a){r.hasOwnProperty(a)||o(a)}),i}var MVe=nle,zVe=RVe;function RVe(t){return MVe(t).filter(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var jVe=BVe,VVe=()=>1;function BVe(t,e,n){return HVe(t,e||VVe,n||function(r){return t.outEdges(r)})}function HVe(t,e,n){var r={},i=t.nodes();return i.forEach(function(o){r[o]={},r[o][o]={distance:0},i.forEach(function(a){o!==a&&(r[o][a]={distance:Number.POSITIVE_INFINITY})}),n(o).forEach(function(a){var s=a.v===o?a.w:a.v,l=e(a);r[o][s]={distance:l,predecessor:o}})}),i.forEach(function(o){var a=r[o];i.forEach(function(s){var l=r[s];i.forEach(function(c){var u=l[o],f=a[c],d=l[c],h=u.distance+f.distance;h<d.distance&&(d.distance=h,d.predecessor=f.predecessor)})})}),r}function rle(t){var e={},n={},r=[];function i(o){if(n.hasOwnProperty(o))throw new IP;e.hasOwnProperty(o)||(n[o]=!0,e[o]=!0,t.predecessors(o).forEach(i),delete n[o],r.push(o))}if(t.sinks().forEach(i),Object.keys(e).length!==t.nodeCount())throw new IP;return r}class IP extends Error{constructor(){super(...arguments)}}var ile=rle;rle.CycleException=IP;var dU=ile,WVe=UVe;function UVe(t){try{dU(t)}catch(e){if(e instanceof dU.CycleException)return!1;throw e}return!0}var ole=GVe;function GVe(t,e,n){Array.isArray(e)||(e=[e]);var r=t.isDirected()?s=>t.successors(s):s=>t.neighbors(s),i=n==="post"?qVe:YVe,o=[],a={};return e.forEach(s=>{if(!t.hasNode(s))throw new Error("Graph does not have node: "+s);i(s,r,a,o)}),o}function qVe(t,e,n,r){for(var i=[[t,!1]];i.length>0;){var o=i.pop();o[1]?r.push(o[0]):n.hasOwnProperty(o[0])||(n[o[0]]=!0,i.push([o[0],!0]),ale(e(o[0]),a=>i.push([a,!1])))}}function YVe(t,e,n,r){for(var i=[t];i.length>0;){var o=i.pop();n.hasOwnProperty(o)||(n[o]=!0,r.push(o),ale(e(o),a=>i.push(a)))}}function ale(t,e){for(var n=t.length;n--;)e(t[n],n,t);return t}var XVe=ole,KVe=JVe;function JVe(t,e){return XVe(t,e,"post")}var ZVe=ole,QVe=eBe;function eBe(t,e){return ZVe(t,e,"pre")}var tBe=qL,nBe=ele,rBe=iBe;function iBe(t,e){var n=new tBe,r={},i=new nBe,o;function a(l){var c=l.v===o?l.w:l.v,u=i.priority(c);if(u!==void 0){var f=e(l);f<u&&(r[c]=o,i.decrease(c,f))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(t.nodes()[0],0);for(var s=!1;i.size()>0;){if(o=i.removeMin(),r.hasOwnProperty(o))n.setEdge(o,r[o]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(o).forEach(a)}return n}var oBe={components:TVe,dijkstra:tle,dijkstraAll:LVe,findCycles:zVe,floydWarshall:jVe,isAcyclic:WVe,postorder:KVe,preorder:QVe,prim:rBe,tarjan:nle,topsort:ile},hU=yVe,Gs={Graph:hU.Graph,json:_Ve,alg:oBe,version:hU.version};const aBe=pr(Gs),sBe=rX({__proto__:null,default:aBe},[Gs]);var lBe=P_;function P_(){var t={};t._next=t._prev=t,this._sentinel=t}P_.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return sle(e),e};P_.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&sle(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};P_.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,cBe)),n=n._prev;return"["+t.join(", ")+"]"};function sle(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function cBe(t,e){if(t!=="_next"&&t!=="_prev")return e}var uBe=Gs.Graph,fBe=lBe,dBe=pBe,hBe=()=>1;function pBe(t,e){if(t.nodeCount()<=1)return[];var n=gBe(t,e||hBe),r=mBe(n.graph,n.buckets,n.zeroIdx);return r.flatMap(i=>t.outEdges(i.v,i.w))}function mBe(t,e,n){for(var r=[],i=e[e.length-1],o=e[0],a;t.nodeCount();){for(;a=o.dequeue();)NC(t,e,n,a);for(;a=i.dequeue();)NC(t,e,n,a);if(t.nodeCount()){for(var s=e.length-2;s>0;--s)if(a=e[s].dequeue(),a){r=r.concat(NC(t,e,n,a,!0));break}}}return r}function NC(t,e,n,r,i){var o=i?[]:void 0;return t.inEdges(r.v).forEach(function(a){var s=t.edge(a),l=t.node(a.v);i&&o.push({v:a.v,w:a.w}),l.out-=s,PP(e,n,l)}),t.outEdges(r.v).forEach(function(a){var s=t.edge(a),l=a.w,c=t.node(l);c.in-=s,PP(e,n,c)}),t.removeNode(r.v),o}function gBe(t,e){var n=new uBe,r=0,i=0;t.nodes().forEach(function(s){n.setNode(s,{v:s,in:0,out:0})}),t.edges().forEach(function(s){var l=n.edge(s.v,s.w)||0,c=e(s),u=l+c;n.setEdge(s.v,s.w,u),i=Math.max(i,n.node(s.v).out+=c),r=Math.max(r,n.node(s.w).in+=c)});var o=bBe(i+r+3).map(()=>new fBe),a=r+1;return n.nodes().forEach(function(s){PP(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function PP(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function bBe(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}var lle=Gs.Graph,to={addBorderNode:TBe,addDummyNode:cle,asNonCompoundGraph:yBe,buildLayerMatrix:SBe,intersectRect:wBe,mapValues:OBe,maxRank:ule,normalizeRanks:xBe,notime:PBe,partition:ABe,pick:$Be,predecessorWeights:_Be,range:dle,removeEmptyRanks:CBe,simplify:vBe,successorWeights:kBe,time:IBe,uniqueId:fle,zipObject:YL};function cle(t,e,n,r){var i;do i=fle(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function vBe(t){var e=new lle().setGraph(t.graph());return t.nodes().forEach(n=>e.setNode(n,t.node(n))),t.edges().forEach(n=>{var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function yBe(t){var e=new lle({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{t.children(n).length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdge(n,t.edge(n))}),e}function kBe(t){var e=t.nodes().map(n=>{var r={};return t.outEdges(n).forEach(i=>{r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return YL(t.nodes(),e)}function _Be(t){var e=t.nodes().map(n=>{var r={};return t.inEdges(n).forEach(i=>{r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return YL(t.nodes(),e)}function wBe(t,e){var n=t.x,r=t.y,i=e.x-n,o=e.y-r,a=t.width/2,s=t.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var l,c;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),l=s*i/o,c=s):(i<0&&(a=-a),l=a,c=a*o/i),{x:n+l,y:r+c}}function SBe(t){var e=dle(ule(t)+1).map(()=>[]);return t.nodes().forEach(n=>{var r=t.node(n),i=r.rank;i!==void 0&&(e[i][r.order]=n)}),e}function xBe(t){var e=Math.min(...t.nodes().map(n=>{var r=t.node(n).rank;return r===void 0?Number.MAX_VALUE:r}));t.nodes().forEach(n=>{var r=t.node(n);r.hasOwnProperty("rank")&&(r.rank-=e)})}function CBe(t){var e=Math.min(...t.nodes().map(o=>t.node(o).rank)),n=[];t.nodes().forEach(o=>{var a=t.node(o).rank-e;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=t.graph().nodeRankFactor;Array.from(n).forEach((o,a)=>{o===void 0&&a%i!==0?--r:o!==void 0&&r&&o.forEach(s=>t.node(s).rank+=r)})}function TBe(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),cle(t,"border",i,e)}function ule(t){return Math.max(...t.nodes().map(e=>{var n=t.node(e).rank;return n===void 0?Number.MIN_VALUE:n}))}function ABe(t,e){var n={lhs:[],rhs:[]};return t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function IBe(t,e){var n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function PBe(t,e){return e()}let EBe=0;function fle(t){var e=++EBe;return toString(t)+e}function dle(t,e,n=1){e==null&&(e=t,t=0);let r=o=>o<e;n<0&&(r=o=>e<o);const i=[];for(let o=t;r(o);o+=n)i.push(o);return i}function $Be(t,e){const n={};for(const r of e)t[r]!==void 0&&(n[r]=t[r]);return n}function OBe(t,e){let n=e;return typeof e=="string"&&(n=r=>r[e]),Object.entries(t).reduce((r,[i,o])=>(r[i]=n(o,i),r),{})}function YL(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}var DBe=dBe,LBe=to.uniqueId,FBe={run:NBe,undo:zBe};function NBe(t){var e=t.graph().acyclicer==="greedy"?DBe(t,n(t)):MBe(t);e.forEach(function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,LBe("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function MBe(t){var e=[],n={},r={};function i(o){r.hasOwnProperty(o)||(r[o]=!0,n[o]=!0,t.outEdges(o).forEach(function(a){n.hasOwnProperty(a.w)?e.push(a):i(a.w)}),delete n[o])}return t.nodes().forEach(i),e}function zBe(t){t.edges().forEach(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}var RBe=to,jBe={run:VBe,undo:HBe};function VBe(t){t.graph().dummyChains=[],t.edges().forEach(e=>BBe(t,e))}function BBe(t,e){var n=e.v,r=t.node(n).rank,i=e.w,o=t.node(i).rank,a=e.name,s=t.edge(e),l=s.labelRank;if(o!==r+1){t.removeEdge(e);var c,u,f;for(f=0,++r;r<o;++f,++r)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:e,rank:r},c=RBe.addDummyNode(t,"edge",u,"_d"),r===l&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),t.setEdge(n,c,{weight:s.weight},a),f===0&&t.graph().dummyChains.push(c),n=c;t.setEdge(n,i,{weight:s.weight},a)}}function HBe(t){t.graph().dummyChains.forEach(function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var E_={longestPath:WBe,slack:UBe};function WBe(t){var e={};function n(r){var i=t.node(r);if(e.hasOwnProperty(r))return i.rank;e[r]=!0;var o=Math.min(...t.outEdges(r).map(a=>a==null?Number.POSITIVE_INFINITY:n(a.w)-t.edge(a).minlen));return o===Number.POSITIVE_INFINITY&&(o=0),i.rank=o}t.sources().forEach(n)}function UBe(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var GBe=Gs.Graph,Ck=E_.slack,hle=qBe;function qBe(t){var e=new GBe({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,o;YBe(e,t)<r;)i=XBe(e,t),o=e.hasNode(i.v)?Ck(t,i):-Ck(t,i),KBe(e,t,o);return e}function YBe(t,e){function n(r){e.nodeEdges(r).forEach(function(i){var o=i.v,a=r===o?i.w:o;!t.hasNode(a)&&!Ck(e,i)&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}return t.nodes().forEach(n),t.nodeCount()}function XBe(t,e){return e.edges().reduce((r,i)=>{let o=Number.POSITIVE_INFINITY;return t.hasNode(i.v)!==t.hasNode(i.w)&&(o=Ck(e,i)),o<r[0]?[o,i]:r},[Number.POSITIVE_INFINITY,null])[1]}function KBe(t,e,n){t.nodes().forEach(r=>e.node(r).rank+=n)}var JBe=hle,pU=E_.slack,ZBe=E_.longestPath,QBe=Gs.alg.preorder,eHe=Gs.alg.postorder,tHe=to.simplify,nHe=tg;tg.initLowLimValues=KL;tg.initCutValues=XL;tg.calcCutValue=ple;tg.leaveEdge=gle;tg.enterEdge=ble;tg.exchangeEdges=vle;function tg(t){t=tHe(t),ZBe(t);var e=JBe(t);KL(e),XL(e,t);for(var n,r;n=gle(e);)r=ble(e,t,n),vle(e,t,n,r)}function XL(t,e){var n=eHe(t,t.nodes());n=n.slice(0,n.length-1),n.forEach(r=>rHe(t,e,r))}function rHe(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=ple(t,e,n)}function ple(t,e,n){var r=t.node(n),i=r.parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,e.nodeEdges(n).forEach(function(l){var c=l.v===n,u=c?l.w:l.v;if(u!==i){var f=c===o,d=e.edge(l).weight;if(s+=f?d:-d,oHe(t,n,u)){var h=t.edge(n,u).cutvalue;s+=f?-h:h}}}),s}function KL(t,e){arguments.length<2&&(e=t.nodes()[0]),mle(t,{},1,e)}function mle(t,e,n,r,i){var o=n,a=t.node(r);return e[r]=!0,t.neighbors(r).forEach(function(s){e.hasOwnProperty(s)||(n=mle(t,e,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function gle(t){return t.edges().find(e=>t.edge(e).cutvalue<0)}function ble(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var c=e.edges().filter(function(u){return l===mU(t,t.node(u.v),s)&&l!==mU(t,t.node(u.w),s)});return c.reduce((u,f)=>pU(e,f)<pU(e,u)?f:u)}function vle(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),KL(t),XL(t,e),iHe(t,e)}function iHe(t,e){var n=t.nodes().find(i=>!e.node(i).parent),r=QBe(t,n);r=r.slice(1),r.forEach(function(i){var o=t.node(i).parent,a=e.edge(i,o),s=!1;a||(a=e.edge(o,i),s=!0),e.node(i).rank=e.node(o).rank+(s?a.minlen:-a.minlen)})}function oHe(t,e,n){return t.hasEdge(e,n)}function mU(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var aHe=E_,yle=aHe.longestPath,sHe=hle,lHe=nHe,cHe=uHe;function uHe(t){switch(t.graph().ranker){case"network-simplex":gU(t);break;case"tight-tree":dHe(t);break;case"longest-path":fHe(t);break;default:gU(t)}}var fHe=yle;function dHe(t){yle(t),sHe(t)}function gU(t){lHe(t)}var hHe=pHe;function pHe(t){var e=gHe(t);t.graph().dummyChains.forEach(function(n){for(var r=t.node(n),i=r.edgeObj,o=mHe(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,c=a[l],u=!0;n!==i.w;){if(r=t.node(n),u){for(;(c=a[l])!==s&&t.node(c).maxRank<r.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<a.length-1&&t.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}t.setParent(n,c),n=t.successors(n)[0]}})}function mHe(t,e,n,r){var i=[],o=[],a=Math.min(e[n].low,e[r].low),s=Math.max(e[n].lim,e[r].lim),l,c;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>a||s>e[l].lim));for(c=l,l=r;(l=t.parent(l))!==c;)o.push(l);return{path:i.concat(o.reverse()),lca:c}}function gHe(t){var e={},n=0;function r(i){var o=n;t.children(i).forEach(r),e[i]={low:o,lim:n++}}return t.children().forEach(r),e}var EP=to,bHe={run:vHe,cleanup:_He};function vHe(t){var e=EP.addDummyNode(t,"root",{},"_root"),n=yHe(t),r=Math.max(...Object.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,t.edges().forEach(a=>t.edge(a).minlen*=i);var o=kHe(t)+1;t.children().forEach(function(a){kle(t,e,i,o,r,n,a)}),t.graph().nodeRankFactor=i}function kle(t,e,n,r,i,o,a){var s=t.children(a);if(!s.length){a!==e&&t.setEdge(e,a,{weight:0,minlen:n});return}var l=EP.addBorderNode(t,"_bt"),c=EP.addBorderNode(t,"_bb"),u=t.node(a);t.setParent(l,a),u.borderTop=l,t.setParent(c,a),u.borderBottom=c,s.forEach(function(f){kle(t,e,n,r,i,o,f);var d=t.node(f),h=d.borderTop?d.borderTop:f,m=d.borderBottom?d.borderBottom:f,v=d.borderTop?r:2*r,k=h!==m?1:i-o[a]+1;t.setEdge(l,h,{weight:v,minlen:k,nestingEdge:!0}),t.setEdge(m,c,{weight:v,minlen:k,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:i+o[a]})}function yHe(t){var e={};function n(r,i){var o=t.children(r);o&&o.length&&o.forEach(a=>n(a,i+1)),e[r]=i}return t.children().forEach(r=>n(r,1)),e}function kHe(t){return t.edges().reduce((e,n)=>e+t.edge(n).weight,0)}function _He(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}var wHe=to,SHe=xHe;function xHe(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&r.forEach(e),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)bU(t,"borderLeft","_bl",n,i,o),bU(t,"borderRight","_br",n,i,o)}}t.children().forEach(e)}function bU(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],l=wHe.addDummyNode(t,"border",a,n);i[e][o]=l,t.setParent(l,r),s&&t.setEdge(s,l,{weight:1})}var CHe={adjust:THe,undo:AHe};function THe(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&_le(t)}function AHe(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&IHe(t),(e==="lr"||e==="rl")&&(PHe(t),_le(t))}function _le(t){t.nodes().forEach(e=>vU(t.node(e))),t.edges().forEach(e=>vU(t.edge(e)))}function vU(t){var e=t.width;t.width=t.height,t.height=e}function IHe(t){t.nodes().forEach(e=>MC(t.node(e))),t.edges().forEach(function(e){var n=t.edge(e);n.points.forEach(MC),n.hasOwnProperty("y")&&MC(n)})}function MC(t){t.y=-t.y}function PHe(t){t.nodes().forEach(e=>zC(t.node(e))),t.edges().forEach(function(e){var n=t.edge(e);n.points.forEach(zC),n.hasOwnProperty("x")&&zC(n)})}function zC(t){var e=t.x;t.x=t.y,t.y=e}var EHe=to,$He=OHe;function OHe(t){var e={},n=t.nodes().filter(s=>!t.children(s).length),r=Math.max(...n.map(s=>t.node(s).rank)),i=EHe.range(r+1).map(()=>[]);function o(s){if(!e[s]){e[s]=!0;var l=t.node(s);i[l.rank].push(s),t.successors(s).forEach(o)}}var a=n.sort((s,l)=>t.node(s).rank-t.node(l).rank);return a.forEach(o),i}var DHe=to.zipObject,LHe=FHe;function FHe(t,e){for(var n=0,r=1;r<e.length;++r)n+=NHe(t,e[r-1],e[r]);return n}function NHe(t,e,n){for(var r=DHe(n,n.map((c,u)=>u)),i=e.flatMap(c=>t.outEdges(c).map(u=>({pos:r[u.w],weight:t.edge(u).weight})).sort((u,f)=>u.pos-f.pos)),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=new Array(a).fill(0),l=0;return i.forEach(c=>{var u=c.pos+o;s[u]+=c.weight;for(var f=0;u>0;)u%2&&(f+=s[u+1]),u=u-1>>1,s[u]+=c.weight;l+=c.weight*f}),l}var MHe=zHe;function zHe(t,e=[]){return e.map(n=>{var r=t.inEdges(n);if(r.length){var i=r.reduce((o,a)=>{var s=t.edge(a),l=t.node(a.v);return{sum:o.sum+s.weight*l.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var RHe=to,jHe=VHe;function VHe(t,e){var n={};t.forEach((i,o)=>{var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};i.barycenter!==void 0&&(a.barycenter=i.barycenter,a.weight=i.weight)}),e.edges().forEach(i=>{var o=n[i.v],a=n[i.w];o!==void 0&&a!==void 0&&(a.indegree++,o.out.push(n[i.w]))});var r=Object.values(n).filter(i=>!i.indegree);return BHe(r)}function BHe(t){var e=[];function n(o){return function(a){a.merged||(a.barycenter===void 0||o.barycenter===void 0||a.barycenter>=o.barycenter)&&HHe(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&t.push(a)}}for(;t.length;){var i=t.pop();e.push(i),i.in.reverse().forEach(n(i)),i.out.forEach(r(i))}return e.filter(o=>!o.merged).map(o=>RHe.pick(o,["vs","i","barycenter","weight"]))}function HHe(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}var WHe=to,UHe=GHe;function GHe(t,e){var n=WHe.partition(t,function(u){return u.hasOwnProperty("barycenter")}),r=n.lhs,i=n.rhs.sort((u,f)=>f.i-u.i),o=[],a=0,s=0,l=0;r.sort(qHe(!!e)),l=yU(o,i,l),r.forEach(function(u){l+=u.vs.length,o.push(u.vs),a+=u.barycenter*u.weight,s+=u.weight,l=yU(o,i,l)});var c={vs:o.flat(!0)};return s&&(c.barycenter=a/s,c.weight=s),c}function yU(t,e,n){for(var r;e.length&&(r=e[e.length-1]).i<=n;)e.pop(),t.push(r.vs),n++;return n}function qHe(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var YHe=MHe,XHe=jHe,KHe=UHe,JHe=wle;function wle(t,e,n,r){var i=t.children(e),o=t.node(e),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,l={};a&&(i=i.filter(m=>m!==a&&m!==s));var c=YHe(t,i);c.forEach(function(m){if(t.children(m.v).length){var v=wle(t,m.v,n,r);l[m.v]=v,v.hasOwnProperty("barycenter")&&QHe(m,v)}});var u=XHe(c,n);ZHe(u,l);var f=KHe(u,r);if(a&&(f.vs=[a,f.vs,s].flat(!0),t.predecessors(a).length)){var d=t.node(t.predecessors(a)[0]),h=t.node(t.predecessors(s)[0]);f.hasOwnProperty("barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+h.order)/(f.weight+2),f.weight+=2}return f}function ZHe(t,e){t.forEach(function(n){n.vs=n.vs.flatMap(function(r){return e[r]?e[r].vs:r})})}function QHe(t,e){t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)}var eWe=Gs.Graph,tWe=to,nWe=rWe;function rWe(t,e,n){var r=iWe(t),i=new eWe({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return t.node(o)});return t.nodes().forEach(function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),t[n](o).forEach(function(l){var c=l.v===o?l.w:l.v,u=i.edge(c,o),f=u!==void 0?u.weight:0;i.setEdge(c,o,{weight:t.edge(l).weight+f})}),a.hasOwnProperty("minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i}function iWe(t){for(var e;t.hasNode(e=tWe.uniqueId("_root")););return e}var oWe=aWe;function aWe(t,e,n){var r={},i;n.forEach(function(o){for(var a=t.parent(o),s,l;a;){if(s=t.parent(a),s?(l=r[s],r[s]=a):(l=i,i=a),l&&l!==a){e.setEdge(l,a);return}a=s}})}var sWe=$He,lWe=LHe,cWe=JHe,uWe=nWe,fWe=oWe,dWe=Gs.Graph,E9=to,hWe=pWe;function pWe(t){var e=E9.maxRank(t),n=kU(t,E9.range(1,e+1),"inEdges"),r=kU(t,E9.range(e-1,-1,-1),"outEdges"),i=sWe(t);_U(t,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,l=0;l<4;++s,++l){mWe(s%2?n:r,s%4>=2),i=E9.buildLayerMatrix(t);var c=lWe(t,i);c<o&&(l=0,a=Object.assign({},i),o=c)}_U(t,a)}function kU(t,e,n){return e.map(function(r){return uWe(t,r,n)})}function mWe(t,e){var n=new dWe;t.forEach(function(r){var i=r.graph().root,o=cWe(r,i,n,e);o.vs.forEach((a,s)=>r.node(a).order=s),fWe(r,n,o.vs)})}function _U(t,e){Object.values(e).forEach(n=>n.forEach((r,i)=>t.node(r).order=i))}var gWe=Gs.Graph,C4=to,bWe={positionX:kWe,findType1Conflicts:Sle,findType2Conflicts:xle,addConflict:JL,hasConflict:Cle,verticalAlignment:Tle,horizontalCompaction:Ale,alignCoordinates:Ple,findSmallestWidthAlignment:Ile,balance:Ele};function Sle(t,e){var n={};function r(i,o){var a=0,s=0,l=i.length,c=o[o.length-1];return o.forEach(function(u,f){var d=vWe(t,u),h=d?t.node(d).order:l;(d||u===c)&&(o.slice(s,f+1).forEach(function(m){t.predecessors(m).forEach(function(v){var k=t.node(v),b=k.order;(b<a||h<b)&&!(k.dummy&&t.node(m).dummy)&&JL(n,v,m)})}),s=f+1,a=h)}),o}return e.reduce(r),n}function xle(t,e){var n={};function r(o,a,s,l,c){var u;C4.range(a,s).forEach(function(f){u=o[f],t.node(u).dummy&&t.predecessors(u).forEach(function(d){var h=t.node(d);h.dummy&&(h.order<l||h.order>c)&&JL(n,d,u)})})}function i(o,a){var s=-1,l,c=0;return a.forEach(function(u,f){if(t.node(u).dummy==="border"){var d=t.predecessors(u);d.length&&(l=t.node(d[0]).order,r(a,c,f,s,l),c=f,s=l)}r(a,c,a.length,l,o.length)}),a}return e.reduce(i),n}function vWe(t,e){if(t.node(e).dummy)return t.predecessors(e).find(n=>t.node(n).dummy)}function JL(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function Cle(t,e,n){if(e>n){var r=e;e=n,n=r}return!!t[e]&&t[e].hasOwnProperty(n)}function Tle(t,e,n,r){var i={},o={},a={};return e.forEach(function(s){s.forEach(function(l,c){i[l]=l,o[l]=l,a[l]=c})}),e.forEach(function(s){var l=-1;s.forEach(function(c){var u=r(c);if(u.length){u=u.sort((v,k)=>a[v]-a[k]);for(var f=(u.length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var m=u[d];o[c]===c&&l<a[m]&&!Cle(n,c,m)&&(o[m]=c,o[c]=i[c]=i[m],l=a[m])}}})}),{root:i,align:o}}function Ale(t,e,n,r,i){var o={},a=yWe(t,e,n,i),s=i?"borderLeft":"borderRight";function l(f,d){for(var h=a.nodes(),m=h.pop(),v={};m;)v[m]?f(m):(v[m]=!0,h.push(m),h=h.concat(d(m))),m=h.pop()}function c(f){o[f]=a.inEdges(f).reduce(function(d,h){return Math.max(d,o[h.v]+a.edge(h))},0)}function u(f){var d=a.outEdges(f).reduce(function(m,v){return Math.min(m,o[v.w]-a.edge(v))},Number.POSITIVE_INFINITY),h=t.node(f);d!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[f]=Math.max(o[f],d))}return l(c,a.predecessors.bind(a)),l(u,a.successors.bind(a)),Object.keys(r).forEach(f=>o[f]=o[n[f]]),o}function yWe(t,e,n,r){var i=new gWe,o=t.graph(),a=_We(o.nodesep,o.edgesep,r);return e.forEach(function(s){var l;s.forEach(function(c){var u=n[c];if(i.setNode(u),l){var f=n[l],d=i.edge(f,u);i.setEdge(f,u,Math.max(a(t,c,l),d||0))}l=c})}),i}function Ile(t,e){return Object.values(e).reduce((n,r)=>{var i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([s,l])=>{var c=wWe(t,s)/2;i=Math.max(l+c,i),o=Math.min(l-c,o)});const a=i-o;return a<n[0]&&(n=[a,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function Ple(t,e){var n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(function(o){["l","r"].forEach(function(a){var s=o+a,l=t[s];if(l===e)return;var c=Object.values(l);let u=r-Math.min(...c);a!=="l"&&(u=i-Math.max(...c)),u&&(t[s]=C4.mapValues(l,f=>f+u))})})}function Ele(t,e){return C4.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=Object.values(t).map(o=>o[r]).sort((o,a)=>o-a);return(i[1]+i[2])/2})}function kWe(t){var e=C4.buildLayerMatrix(t),n=Object.assign(Sle(t,e),xle(t,e)),r={},i;["u","d"].forEach(function(a){i=a==="u"?e:Object.values(e).reverse(),["l","r"].forEach(function(s){s==="r"&&(i=i.map(f=>Object.values(f).reverse()));var l=(a==="u"?t.predecessors:t.successors).bind(t),c=Tle(t,i,n,l),u=Ale(t,i,c.root,c.align,s==="r");s==="r"&&(u=C4.mapValues(u,f=>-f)),r[a+s]=u})});var o=Ile(t,r);return Ple(r,o),Ele(r,t.graph().align)}function _We(t,e,n){return function(r,i,o){var a=r.node(i),s=r.node(o),l=0,c;if(l+=a.width/2,a.hasOwnProperty("labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=-a.width/2;break;case"r":c=a.width/2;break}if(c&&(l+=n?c:-c),c=0,l+=(a.dummy?e:t)/2,l+=(s.dummy?e:t)/2,l+=s.width/2,s.hasOwnProperty("labelpos"))switch(s.labelpos.toLowerCase()){case"l":c=s.width/2;break;case"r":c=-s.width/2;break}return c&&(l+=n?c:-c),c=0,l}}function wWe(t,e){return t.node(e).width}var $le=to,SWe=bWe.positionX,xWe=CWe;function CWe(t){t=$le.asNonCompoundGraph(t),TWe(t),Object.entries(SWe(t)).forEach(([e,n])=>t.node(e).x=n)}function TWe(t){var e=$le.buildLayerMatrix(t),n=t.graph().ranksep,r=0;e.forEach(function(i){const o=i.reduce((a,s)=>{const l=t.node(s).height;return a>l?a:l},0);i.forEach(a=>t.node(a).y=r+o/2),r+=o+n})}var wU=FBe,SU=jBe,AWe=cHe,IWe=to.normalizeRanks,PWe=hHe,EWe=to.removeEmptyRanks,xU=bHe,$We=SHe,CU=CHe,OWe=hWe,DWe=xWe,Dl=to,LWe=Gs.Graph,FWe=NWe;function NWe(t,e){var n=e&&e.debugTiming?Dl.time:Dl.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return GWe(t)});n("  runLayout",function(){MWe(r,n)}),n("  updateInputGraph",function(){zWe(t,r)})})}function MWe(t,e){e("    makeSpaceForEdgeLabels",function(){qWe(t)}),e("    removeSelfEdges",function(){nUe(t)}),e("    acyclic",function(){wU.run(t)}),e("    nestingGraph.run",function(){xU.run(t)}),e("    rank",function(){AWe(Dl.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){YWe(t)}),e("    removeEmptyRanks",function(){EWe(t)}),e("    nestingGraph.cleanup",function(){xU.cleanup(t)}),e("    normalizeRanks",function(){IWe(t)}),e("    assignRankMinMax",function(){XWe(t)}),e("    removeEdgeLabelProxies",function(){KWe(t)}),e("    normalize.run",function(){SU.run(t)}),e("    parentDummyChains",function(){PWe(t)}),e("    addBorderSegments",function(){$We(t)}),e("    order",function(){OWe(t)}),e("    insertSelfEdges",function(){rUe(t)}),e("    adjustCoordinateSystem",function(){CU.adjust(t)}),e("    position",function(){DWe(t)}),e("    positionSelfEdges",function(){iUe(t)}),e("    removeBorderNodes",function(){tUe(t)}),e("    normalize.undo",function(){SU.undo(t)}),e("    fixupEdgeLabelCoords",function(){QWe(t)}),e("    undoCoordinateSystem",function(){CU.undo(t)}),e("    translateGraph",function(){JWe(t)}),e("    assignNodeIntersects",function(){ZWe(t)}),e("    reversePoints",function(){eUe(t)}),e("    acyclic.undo",function(){wU.undo(t)})}function zWe(t,e){t.nodes().forEach(n=>{var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,e.children(n).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(n=>{var r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var RWe=["nodesep","edgesep","ranksep","marginx","marginy"],jWe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},VWe=["acyclicer","ranker","rankdir","align"],BWe=["width","height"],TU={width:0,height:0},HWe=["minlen","weight","width","height","labeloffset"],WWe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},UWe=["labelpos"];function GWe(t){var e=new LWe({multigraph:!0,compound:!0}),n=jC(t.graph());return e.setGraph(Object.assign({},jWe,RC(n,RWe),Dl.pick(n,VWe))),t.nodes().forEach(r=>{var i=jC(t.node(r));const o=RC(i,BWe);Object.keys(TU).forEach(a=>{o[a]===void 0&&(o[a]=TU[a])}),e.setNode(r,o),e.setParent(r,t.parent(r))}),t.edges().forEach(r=>{var i=jC(t.edge(r));e.setEdge(r,Object.assign({},WWe,RC(i,HWe),Dl.pick(i,UWe)))}),e}function qWe(t){var e=t.graph();e.ranksep/=2,t.edges().forEach(n=>{var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function YWe(t){t.edges().forEach(e=>{var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-r.rank)/2+r.rank,e};Dl.addDummyNode(t,"edge-proxy",o,"_ep")}})}function XWe(t){var e=0;t.nodes().forEach(n=>{var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank))}),t.graph().maxRank=e}function KWe(t){t.nodes().forEach(e=>{var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function JWe(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0;function l(c){var u=c.x,f=c.y,d=c.width,h=c.height;e=Math.min(e,u-d/2),n=Math.max(n,u+d/2),r=Math.min(r,f-h/2),i=Math.max(i,f+h/2)}t.nodes().forEach(c=>l(t.node(c))),t.edges().forEach(c=>{var u=t.edge(c);u.hasOwnProperty("x")&&l(u)}),e-=a,r-=s,t.nodes().forEach(c=>{var u=t.node(c);u.x-=e,u.y-=r}),t.edges().forEach(c=>{var u=t.edge(c);u.points.forEach(f=>{f.x-=e,f.y-=r}),u.hasOwnProperty("x")&&(u.x-=e),u.hasOwnProperty("y")&&(u.y-=r)}),o.width=n-e+a,o.height=i-r+s}function ZWe(t){t.edges().forEach(e=>{var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Dl.intersectRect(r,o)),n.points.push(Dl.intersectRect(i,a))})}function QWe(t){t.edges().forEach(e=>{var n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function eUe(t){t.edges().forEach(e=>{var n=t.edge(e);n.reversed&&n.points.reverse()})}function tUe(t){t.nodes().forEach(e=>{if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(n.borderLeft[n.borderLeft.length-1]),a=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})}function nUe(t){t.edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function rUe(t){var e=Dl.buildLayerMatrix(t);e.forEach(n=>{var r=0;n.forEach((i,o)=>{var a=t.node(i);a.order=o+r,(a.selfEdges||[]).forEach(s=>{Dl.addDummyNode(t,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function iUe(t){t.nodes().forEach(e=>{var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function RC(t,e){return Dl.mapValues(Dl.pick(t,e),Number)}function jC(t){var e={};return t&&Object.entries(t).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),e[n]=r}),e}var oUe=to,aUe=Gs.Graph,sUe={debugOrdering:lUe};function lUe(t){var e=oUe.buildLayerMatrix(t),n=new aUe({compound:!0,multigraph:!0}).setGraph({});return t.nodes().forEach(function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),t.edges().forEach(function(r){n.setEdge(r.v,r.w,{},r.name)}),e.forEach(function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),r.reduce(function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var cUe="1.0.2",Ole={graphlib:Gs,layout:FWe,debug:sUe,util:{time:to.time,notime:to.notime},version:cUe};const uUe=pr(Ole),fUe=rX({__proto__:null,default:uUe},[Ole]);let ci,Wr;const dUe=zt({data(){return{panX:0,panY:0,clickX:0,clickY:0,isPanning:!1,graphScale:1}},computed:{isInteractive(){return this.uiStateStore.mode===qu||this.uiStateStore.mode==j8||this.uiStateStore.mode==V8||this.uiStateStore.mode===Rv},isAddingElements(){return this.uiStateStore.mode===j8||this.uiStateStore.mode===V8},isPannableMode(){return(this.uiStateStore.mode===qu||this.uiStateStore.mode===Tp)&&!this.isPanning},isPanningMode(){return(this.uiStateStore.mode===qu||this.uiStateStore.mode===Tp)&&this.isPanning},...Mt(ta),...Mt(Ym),...Mt(Af),...Mt(Zn)},watch:{"uiStateStore.mode"(t){this.onModeChange(t)},"netStore.lastRemovedCells"(t){for(let e=0;e<t.length;e++)Wr.removeCells([Wr.getCell(t[e])])},"netStore.lastUpdatedPlace"(t){const e=Wr.getCell(t.id);e.set("tokens",t.marking.length),e.attr(".label/text",t.name)},"netStore.lastUpdatedTransition.name"(t){const e=Wr.getCell(this.netStore.lastUpdatedTransition.id);e&&e.attr(".label/text",t)},"netStore.lastFiredArcs"(t){for(let n=0;n<t.length;n++){const r=t[n],i=Wr.getCell(r.arcID);Wr.getCell(r.placeID).set("tokens",r.num);var e=We("circle",{r:5,fill:"#feb662"});let a=1;i.findView(ci).sendToken(e,a*1e3)}},"netStore.importedData"(t){if(Wr.clear(),!t.layoutData)return;const e=t.netData,n=e.transitions;for(let a=0;a<n.length;a++){const s=n[a];new lU(this.clickX,this.clickY,s.name,s.id).addTo(Wr)}const r=e.places;for(let a=0;a<r.length;a++){const s=r[a],l=new sU(this.clickX,this.clickY,s.name,s.id,s.marking.length);l.addTo(Wr),l.set("tokens",s.marking.length)}const i=e.arcs;for(let a=0;a<i.length;a++){const s=i[a],l=new aU(s.from,s.to,s.id,s.type);l.addTo(Wr),l.addVerticesTools(ci)}const o=t.layoutData;for(let a=0;a<o.cells.length;a++){const s=o.cells[a],l=Wr.getCell(s.id);s.type==="pn.Place"||s.type==="pn.Transition"?l.set("position",{x:s.position.x,y:s.position.y}):s.type==="standard.Link"&&l.vertices(s.vertices)}},"netStore.lastCreatedTransitions"(t){for(let e=0;e<t.length;e++){const n=t[e];new lU(this.clickX,this.clickY,n.name,n.id).addTo(Wr)}},"netStore.lastCreatedPlaces"(t){for(let e=0;e<t.length;e++){const n=t[e];new sU(this.clickX,this.clickY,n.name,n.id,n.marking.length).addTo(Wr)}},"netStore.lastUpdatedPlaces"(t){for(let e=0;e<t.length;e++){const n=t[e],r=Wr.getCell(n.id);r.set("tokens",n.marking.length),r.attr(".label/text",n.name)}},"netStore.lastCreatedArcs"(t){for(let e=0;e<t.length;e++){const n=t[e],r=new aU(n.from,n.to,n.id,n.type);r.addTo(Wr),r.addVerticesTools(ci)}}},mounted(){const t=fVe,e=lVe;Wr=new uf,ci=new Bje({el:document.getElementById("jointCanvas"),cellViewNamespace:{pn:t},model:Wr,width:window.innerWidth,height:window.innerHeight,gridSize:12,drawGrid:!0,background:{color:"#f6f6f6"},interactive:(r,i)=>this.isInteractive,linkPinning:!1,defaultLink:()=>new e.Link,defaultAnchor:{name:"modelCenter"},defaultConnectionPoint:{name:"boundary"},markAvailable:!0,validateConnection:(r,i,o,a,s,l)=>!(o.model.isLink()||r.model.isLink()||o.model.get("jsonnetsType")===r.model.get("jsonnetsType"))}),this.netStore.setLayout(Wr),window.onresize=function(){ci.setDimensions(window.innerWidth,window.innerHeight)},ci.on("blank:pointerclick",(r,i,o)=>{this.onPaperClick(i,o)}),ci.on("element:mouseenter",r=>{(this.uiStateStore.mode===Rv||this.uiStateStore.mode===qu)&&r.showTools()}),ci.on("element:mouseleave",r=>{r.hideTools()}),ci.on("link:mouseenter",r=>{(this.uiStateStore.mode===Rv||this.uiStateStore.mode===qu)&&r.showTools()}),ci.on("link:mouseleave",r=>{r.hideTools()}),ci.on("blank:pointerdown",(r,i,o)=>{this.onDragStart(i,o)});const n=document.getElementById("jointCanvas");n&&(n.onmousemove=r=>{this.onMouseMove(r)}),ci.on("cell:pointerup blank:pointerup",()=>{this.onDragEnd()}),ci.on("link:connect",r=>{let i=String(r.model.source().id),o=String(r.model.target().id);Wr.removeCells([r.model]),this.netStore.connect(i,o)})},methods:{scalePaper(t,e){ci.scale(t,e)},zoomOut(){this.graphScale-=.1,this.scalePaper(this.graphScale,this.graphScale)},zoomIn(){this.graphScale+=.1,this.scalePaper(this.graphScale,this.graphScale)},resetZoom(){this.graphScale=1,this.scalePaper(this.graphScale,this.graphScale)},onModeChange(t){ci.removeTools();const e=Wr.getElements();for(let n=0;n<e.length;n++)e[n].attr({body:{cursor:"auto"},label:{cursor:"auto"}});if(t===Rv){const n=Wr.getElements();for(let i=0;i<n.length;i++)n[i].addConnectTools(ci);const r=Wr.getLinks();for(let i=0;i<r.length;i++)r[i].addVerticesTools(ci)}else if(t===qu){const n=Wr.getElements();for(let i=0;i<n.length;i++)n[i].addInteractionTools(ci);const r=Wr.getLinks();for(let i=0;i<r.length;i++)r[i].addInteractionTools(ci)}else if(t===Xde)this.updateGraphLayout(),this.uiStateStore.mode=Yde;else if(t===Tp){let n=setInterval(()=>{this.uiStateStore.mode!==Tp?clearInterval(n):(this.netStore.fireAny(),this.netStore.lastFiredArcs.length===0&&(clearInterval(n),alert("Berechnung abgeschlossen.")))},1500)}},onPaperClick(t,e){this.clickX=t,this.clickY=e,this.uiStateStore.mode===j8?this.netStore.addPlace():this.uiStateStore.mode===V8&&this.netStore.addTransition()},updateGraphLayout(){ci.freeze(),x4.layout(Wr,{nodeSep:100,edgeSep:100,rankSep:100,rankDir:"LR",dagre:fUe,graphlib:sBe}),ci.translate(100,200),ci.unfreeze()},onDragStart(t,e){var n;(this.uiStateStore.mode===qu||this.uiStateStore.mode===Tp)&&(this.isPanning=!0,(n=document.getElementById("canvasContainer"))==null||n.classList.add("panning-mode"),this.panX=t*this.graphScale,this.panY=e*this.graphScale)},onDragEnd(){var t;(this.uiStateStore.mode===qu||this.uiStateStore.mode===Tp)&&((t=document.getElementById("canvasContainer"))==null||t.classList.remove("panning-mode"),this.isPanning=!1)},onMouseMove(t){this.isPanning&&ci.translate(t.offsetX-this.panX,t.offsetY-this.panY)}}});const Qr=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},hUe=t=>(Rm("data-v-377da0bb"),t=t(),jm(),t),pUe=hUe(()=>X("div",{id:"jointCanvas"},null,-1)),mUe=[pUe],gUe={id:"zoomButtons"},bUe={class:"icon is-small"},vUe={class:"icon is-small"},yUe={class:"icon is-small"};function kUe(t,e,n,r,i,o){const a=It("font-awesome-icon");return Ee(),Be(hn,null,[X("div",{id:"canvasContainer",class:Ut({"scoped-canvas-add":t.isAddingElements,"scoped-canvas-panning":t.isPanningMode,"scoped-canvas-pannable":t.isPannableMode,"elements-unmovable":!t.isInteractive})},mUe,2),X("div",gUe,[X("button",{class:"button is-small",onClick:e[0]||(e[0]=s=>t.zoomIn())},[X("span",bUe,[at(a,{icon:"fas fa-plus"})])]),X("button",{class:"button is-small",onClick:e[1]||(e[1]=s=>t.zoomOut())},[X("span",vUe,[at(a,{icon:"fas fa-minus"})])]),X("button",{class:"button is-small",onClick:e[2]||(e[2]=s=>t.resetZoom())},[X("span",yUe,[at(a,{icon:"fas fa-crosshairs"})])])])],64)}const _Ue=Qr(dUe,[["render",kUe],["__scopeId","data-v-377da0bb"]]),wUe="/assets/manual-214c6c59.png",SUe=zt({data(){return{image:wUe}},computed:{...Mt(ta)},methods:{close(){this.uiStateStore.showModal="none"}}}),xUe={class:"modal is-active"},CUe=X("div",{class:"modal-background"},null,-1),TUe={class:"modal-card jsn-modal-wide"},AUe={class:"modal-card-head"},IUe=X("p",{class:"modal-card-title"},"Manual",-1),PUe={class:"modal-card-body"},EUe={class:"content"},$Ue=LK("<h2>Get started</h2><p><b>Create a place:</b> Click on the button showing a circle, then click on the canvas to add a new place. </p><p><b>Create a transition:</b> Click on the button showing a square, then click on the canvas to add a new transition. </p><p><b>Create an arc:</b> Click on the button showing an arc. When you now hover over a place or a transition, it will show a small arc icon. Click on the icon and drag a new arc towards another place or transition. </p><p>You can click on the magic wand button to automagically layout the net.</p><h2>Edit</h2><p> Click on the cursor button to go into <b>edit mode</b>. In edit mode, when you hover over places, transitions and arcs, they will show several buttons: </p>",7),OUe={class:"columns is-vcentered"},DUe={class:"column is-narrow"},LUe=["src"],FUe=X("div",{class:"column"},[X("p",null,[X("b",null,"Delete element:"),ji(" Click on the delete button to delete the element.")]),X("p",null,[X("b",null,"Edit element:"),ji(" Click on the edit button to change the name, inscription and content of elements. ")]),X("p",null,[X("b",null,"Fire transition:"),ji(" Transitions additionally show a fire button. Click on it to make the transition fire and consume or create new tokens in the neighbouring places. If the transition is not enabled, you will receive an alert. ")])],-1),NUe=X("h2",null,"Play",-1),MUe=X("p",null,[ji(" Click on the play button to go into "),X("b",null,"play mode"),ji(". In play mode, one transition after another will fire automatically, until no transition is enabled any more. ")],-1),zUe={class:"modal-card-foot"};function RUe(t,e,n,r,i,o){return Ee(),Be("div",xUe,[CUe,X("div",TUe,[X("header",AUe,[IUe,X("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...a)=>t.close&&t.close(...a))})]),X("section",PUe,[X("div",EUe,[$Ue,X("div",OUe,[X("div",DUe,[X("img",{src:t.image,width:"300"},null,8,LUe)]),FUe]),NUe,MUe])]),X("footer",zUe,[X("button",{class:"button",onClick:e[1]||(e[1]=(...a)=>t.close&&t.close(...a))},"Close")])])])}const jUe=Qr(SUe,[["render",RUe]]),$9={log:(...t)=>{}},Ir={STRING:"String",NUMBER:"Number",TRUE:"True",FALSE:"False",NULL:"Null",OBJECT:"Object",ARRAY:"Array",PROPERTY:"Property",PROPERTY_NAME:"PropertyName",PROPERTY_COLON:"PropertyColon",JSON_TEXT:"JsonText",INVALID:"⚠"},ZL=[Ir.STRING,Ir.NUMBER,Ir.TRUE,Ir.FALSE,Ir.NULL],Dle=[Ir.OBJECT,Ir.ARRAY],AU=(t,e,n=-1)=>Bi(t).resolveInner(e,n),$P=t=>t.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1"),Nv=(t,e,n=!0)=>{const r=e?t.sliceString(e.from,e.to):"";return n?$P(r):r},Lle=t=>{var e,n;return t.name===Ir.INVALID&&(((e=t.prevSibling)===null||e===void 0?void 0:e.name)===Ir.PROPERTY_NAME||((n=t.prevSibling)===null||n===void 0?void 0:n.name)===Ir.PROPERTY_COLON)},$8=t=>ZL.includes(t.name)||Lle(t),VUe=t=>[...ZL,...Dle].includes(t.name)||Lle(t),O9=t=>{var e,n;return t.name===Ir.PROPERTY_NAME||t.name===Ir.INVALID&&(((e=t.prevSibling)===null||e===void 0?void 0:e.name)===Ir.PROPERTY||((n=t.prevSibling)===null||n===void 0?void 0:n.name)==="{")},Fle=t=>{const e=[];let n=t.firstChild;for(;n;)n&&e.push(n),n=n==null?void 0:n.nextSibling;return e},IU=t=>Fle(t).find(e=>$8(e)),BUe=t=>Fle(t).filter(e=>ZL.includes(e.name)||Dle.includes(e.name)),Nle=(t,e)=>BUe(t).findIndex(n=>n.from===e.from&&n.to===e.to),HUe={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minimum}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},WUe=Object.prototype.toString;function kn(t){const e=WUe.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();return e==="file"?"object":e}const UUe="object",GUe="array";function qUe(t,e={}){return t.replace(/\{\{\w+\}\}/g,n=>{const r=n.replace(/[{}]/g,""),i=e[r],o=kn(i);return o===UUe||o===GUe?JSON.stringify(i):i})}function YUe(t,e,n=t){var r;const i=(r=HUe[t])!==null&&r!==void 0?r:n;return qUe(i,e)}function XUe(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function KUe(t,e){return{type:"error",name:t,code:XUe(t),message:YUe(t,e),data:e}}function Ft(t){return KUe.bind(null,t)}function T4(t,e=[]){for(let n=0;n<t.length;n+=1){const r=t[n];Array.isArray(r)?T4(r,e):e.push(r)}return e}const Ub={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,floatingPointPrecision:1e4,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1}};function vy(t,e,n){const r={...e};return Object.defineProperty(r,"getOneOfOrigin",{enumerable:!1,value:()=>({index:n,schema:t})}),r}function ms(t){return(t==null?void 0:t.type)==="error"}function JUe(t){return t instanceof Promise}function Tk(t){return ms(t)||JUe(t)}const{DECLARATOR_ONEOF:W0}=Ub;function Mle(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[W0]){const a=[],s=n[W0],l=e[n[W0]];if(l===void 0)return t.errors.missingOneOfPropertyError({property:s,pointer:r});for(let c=0;c<n.oneOf.length;c+=1){const u=t.resolveRef(n.oneOf[c]),f=t.step(s,u,e,r);if(ms(f))return f;let d=T4(t.validate(l,f,r));if(d=d.filter(Tk),d.length>0)a.push(...d);else return vy(n,u,c)}return t.errors.oneOfPropertyError({property:s,value:l,pointer:r,errors:a})}const i=[],o=[];for(let a=0;a<n.oneOf.length;a+=1){const s=t.resolveRef(n.oneOf[a]);let l=T4(t.validate(e,s,r));l=l.filter(Tk),l.length>0?o.push(...l):i.push({index:a,schema:s})}return i.length===1?vy(n,i[0].schema,i[0].index):i.length>1?t.errors.multipleOneOfError({value:e,pointer:r,matches:i}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,oneOf:n.oneOf,errors:o})}function ZUe(t,e,n,r){if(n==null||e.properties==null)return-1;let i=0;const o=Object.keys(e.properties);for(let a=0;a<o.length;a+=1){const s=o[a];n[s]!=null&&t.isValid(n[s],e.properties[s],r)&&(i+=1)}return i}function $_(t,e,n=t.rootSchema,r="#"){if(e!=null&&n[W0]){const o=[],a=n[W0],s=e[n[W0]];if(s===void 0)return t.errors.missingOneOfPropertyError({property:a,pointer:r});for(let l=0;l<n.oneOf.length;l+=1){const c=t.resolveRef(n.oneOf[l]),u=t.step(a,c,e,r);if(ms(u))return u;let f=T4(t.validate(s,u,r));if(f=f.filter(Tk),f.length>0)o.push(...f);else return vy(n,c,l)}return t.errors.oneOfPropertyError({property:a,value:s,pointer:r,errors:o})}const i=[];for(let o=0;o<n.oneOf.length;o+=1){const a=t.resolveRef(n.oneOf[o]);t.isValid(e,a,r)&&i.push({schema:a,index:o})}if(i.length===1)return vy(n,i[0].schema,i[0].index);if(kn(e)==="object"){let o,a=-1,s=0;for(let l=0;l<n.oneOf.length;l+=1){const c=t.resolveRef(n.oneOf[l]),u=ZUe(t,c,e);s<u&&(s=u,o=n.oneOf[l],a=l)}return o===void 0?t.errors.oneOfError({value:JSON.stringify(e),pointer:r,oneOf:n.oneOf}):vy(n,o,a)}return i.length>1?t.errors.multipleOneOfError({matches:i,data:e,pointer:r}):t.errors.oneOfError({value:JSON.stringify(e),pointer:r,oneOf:n.oneOf})}const QUe=(t,e,n,r)=>{if(Array.isArray(e.oneOf)){const i=t.resolveOneOf(n,e,r);if(ms(i))return i}};var eGe=function(e){return tGe(e)&&!nGe(e)};function tGe(t){return!!t&&typeof t=="object"}function nGe(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||oGe(t)}var rGe=typeof Symbol=="function"&&Symbol.for,iGe=rGe?Symbol.for("react.element"):60103;function oGe(t){return t.$$typeof===iGe}function aGe(t){return Array.isArray(t)?[]:{}}function A4(t,e){return e.clone!==!1&&e.isMergeableObject(t)?yb(aGe(t),t,e):t}function sGe(t,e,n){return t.concat(e).map(function(r){return A4(r,n)})}function lGe(t,e){if(!e.customMerge)return yb;var n=e.customMerge(t);return typeof n=="function"?n:yb}function cGe(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function PU(t){return Object.keys(t).concat(cGe(t))}function zle(t,e){try{return e in t}catch{return!1}}function uGe(t,e){return zle(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function fGe(t,e,n){var r={};return n.isMergeableObject(t)&&PU(t).forEach(function(i){r[i]=A4(t[i],n)}),PU(e).forEach(function(i){uGe(t,i)||(zle(t,i)&&n.isMergeableObject(e[i])?r[i]=lGe(i,n)(t[i],e[i],n):r[i]=A4(e[i],n))}),r}function yb(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||sGe,n.isMergeableObject=n.isMergeableObject||eGe,n.cloneUnlessOtherwiseSpecified=A4;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):fGe(t,e,n):A4(e,n)}yb.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return yb(r,i,n)},{})};var dGe=yb,hGe=dGe;const Rle=pr(hGe),pGe=(t,e)=>e,QL=(t,e)=>Rle(t,e,{arrayMerge:pGe}),mGe=(t,e)=>{const n=t.concat(e);return n.filter((r,i)=>n.indexOf(r)===i)},gGe=(t,e)=>Rle(t,e,{arrayMerge:mGe});function es(t,e){const n=kn(t),r=kn(e);if(n!==r)return t;const i=gGe(t,e);return t.getOneOfOrigin?Object.defineProperty(i,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}):e.getOneOfOrigin&&Object.defineProperty(i,"getOneOfOrigin",{enumerable:!1,value:e.getOneOfOrigin}),i}function O_(t,...e){const n={};return Object.keys(t).forEach(r=>{e.includes(r)||(n[r]=t[r])}),t.getOneOfOrigin&&Object.defineProperty(n,"getOneOfOrigin",{enumerable:!1,value:t.getOneOfOrigin}),n}var bGe=Function.prototype.toString,VC=Object.create,vGe=Object.prototype.toString,yGe=function(){function t(){this._keys=[],this._values=[]}return t.prototype.has=function(e){return!!~this._keys.indexOf(e)},t.prototype.get=function(e){return this._values[this._keys.indexOf(e)]},t.prototype.set=function(e,n){this._keys.push(e),this._values.push(n)},t}();function kGe(){return new yGe}function _Ge(){return new WeakMap}var wGe=typeof WeakMap<"u"?_Ge:kGe;function eF(t){if(!t)return VC(null);var e=t.constructor;if(e===Object)return t===Object.prototype?{}:VC(t);if(~bGe.call(e).indexOf("[native code]"))try{return new e}catch{}return VC(t)}function SGe(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}function xGe(t){return t.flags}var CGe=/test/g.flags==="g"?xGe:SGe;function jle(t){var e=vGe.call(t);return e.substring(8,e.length-1)}function TGe(t){return t[Symbol.toStringTag]||jle(t)}var AGe=typeof Symbol<"u"?TGe:jle,IGe=Object.defineProperty,PGe=Object.getOwnPropertyDescriptor,Vle=Object.getOwnPropertyNames,tF=Object.getOwnPropertySymbols,Ble=Object.prototype,Hle=Ble.hasOwnProperty,EGe=Ble.propertyIsEnumerable,Wle=typeof tF=="function";function $Ge(t){return Vle(t).concat(tF(t))}var OGe=Wle?$Ge:Vle;function D_(t,e,n){for(var r=OGe(t),i=0,o=r.length,a=void 0,s=void 0;i<o;++i)if(a=r[i],!(a==="callee"||a==="caller")){if(s=PGe(t,a),!s){e[a]=n.copier(t[a],n);continue}!s.get&&!s.set&&(s.value=n.copier(s.value,n));try{IGe(e,a,s)}catch{e[a]=s.value}}return e}function DGe(t,e){var n=new e.Constructor;e.cache.set(t,n);for(var r=0,i=t.length;r<i;++r)n[r]=e.copier(t[r],e);return n}function LGe(t,e){var n=new e.Constructor;return e.cache.set(t,n),D_(t,n,e)}function Ule(t,e){return t.slice(0)}function FGe(t,e){return t.slice(0,t.size,t.type)}function NGe(t,e){return new e.Constructor(Ule(t.buffer))}function MGe(t,e){return new e.Constructor(t.getTime())}function Gle(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r,i){n.set(i,e.copier(r,e))}),n}function zGe(t,e){return D_(t,Gle(t,e),e)}function RGe(t,e){var n=eF(e.prototype);e.cache.set(t,n);for(var r in t)Hle.call(t,r)&&(n[r]=e.copier(t[r],e));return n}function jGe(t,e){var n=eF(e.prototype);e.cache.set(t,n);for(var r in t)Hle.call(t,r)&&(n[r]=e.copier(t[r],e));for(var i=tF(t),o=0,a=i.length,s=void 0;o<a;++o)s=i[o],EGe.call(t,s)&&(n[s]=e.copier(t[s],e));return n}var VGe=Wle?jGe:RGe;function BGe(t,e){var n=eF(e.prototype);return e.cache.set(t,n),D_(t,n,e)}function BC(t,e){return new e.Constructor(t.valueOf())}function HGe(t,e){var n=new e.Constructor(t.source,CGe(t));return n.lastIndex=t.lastIndex,n}function O8(t,e){return t}function qle(t,e){var n=new e.Constructor;return e.cache.set(t,n),t.forEach(function(r){n.add(e.copier(r,e))}),n}function WGe(t,e){return D_(t,qle(t,e),e)}var UGe=Array.isArray,nF=Object.assign,GGe=Object.getPrototypeOf||function(t){return t.__proto__},Yle={array:DGe,arrayBuffer:Ule,blob:FGe,dataView:NGe,date:MGe,error:O8,map:Gle,object:VGe,regExp:HGe,set:qle},qGe=nF({},Yle,{array:LGe,map:zGe,object:BGe,set:WGe});function YGe(t){return{Arguments:t.object,Array:t.array,ArrayBuffer:t.arrayBuffer,Blob:t.blob,Boolean:BC,DataView:t.dataView,Date:t.date,Error:t.error,Float32Array:t.arrayBuffer,Float64Array:t.arrayBuffer,Int8Array:t.arrayBuffer,Int16Array:t.arrayBuffer,Int32Array:t.arrayBuffer,Map:t.map,Number:BC,Object:t.object,Promise:O8,RegExp:t.regExp,Set:t.set,String:BC,WeakMap:O8,WeakSet:O8,Uint8Array:t.arrayBuffer,Uint8ClampedArray:t.arrayBuffer,Uint16Array:t.arrayBuffer,Uint32Array:t.arrayBuffer,Uint64Array:t.arrayBuffer}}function Xle(t){var e=nF({},Yle,t),n=YGe(e),r=n.Array,i=n.Object;function o(a,s){if(s.prototype=s.Constructor=void 0,!a||typeof a!="object")return a;if(s.cache.has(a))return s.cache.get(a);if(s.prototype=GGe(a),s.Constructor=s.prototype&&s.prototype.constructor,!s.Constructor||s.Constructor===Object)return i(a,s);if(UGe(a))return r(a,s);var l=n[AGe(a)];return l?l(a,s):typeof a.then=="function"?a:i(a,s)}return function(s){return o(s,{Constructor:void 0,cache:wGe(),copier:o,prototype:void 0})}}function XGe(t){return Xle(nF({},qGe,t))}XGe({});var rF=Xle({});function L_(t,e,n){if(e.if===!1)return e.else;if(e.if&&(e.then||e.else)){const r=t.validate(n,t.resolveRef(e.if));if(r.length===0&&e.then)return t.resolveRef(e.then);if(r.length!==0&&e.else)return t.resolveRef(e.else)}}const KGe=(t,e,n,r)=>{const i=L_(t,e,n);if(i)return t.validate(n,i,r)};function JGe(t,e,n){var r;const i={...(r=t.resolveRef(e))!==null&&r!==void 0?r:{}},o=L_(t,i,n);return o||O_(i,"if","then","else")}function Kle(t,e,n=t.rootSchema){let r=rF(n);for(let i=0;i<n.allOf.length;i+=1){const o=JGe(t,n.allOf[i],e);r=es(r,o),e=t.getTemplate(e,r)}return delete r.allOf,r}function Jle(t,e){const{allOf:n}=e;if(!Array.isArray(n)||n.length===0)return;let r={};return n.forEach(i=>{r=es(r,t.resolveRef(i))}),r}const ZGe=(t,e,n,r)=>{const{allOf:i}=e;if(!Array.isArray(i)||i.length===0)return;const o=[];return e.allOf.forEach(a=>{o.push(...t.validate(n,a,r))}),o};function Zle(t,e){return t==null||t.$ref==null?t:t.getRoot?t.getRoot().getRef(t):e.getRef(t)}function QGe(t,e){if(t==null||t.$ref==null)return t;const n=e.getRef(t),r=Object.assign({},n,t);return delete r.$ref,Object.defineProperty(r,"__ref",{enumerable:!1,value:t.__ref}),Object.defineProperty(r,"getRoot",{enumerable:!1,value:t.getRoot}),r}function eqe(t){return t.filter((e,n)=>t.indexOf(e)===n)}function dm(t){return kn(t)==="object"}function Qle(t,e,n){const{dependencies:r}=e;if(!dm(r)||!dm(n))return;let i=!1,o={required:[]};if(Object.keys(r).forEach(a=>{var s,l;if(n[a]==null&&!(!((s=e.required)===null||s===void 0)&&s.includes(a)||!((l=o.required)===null||l===void 0)&&l.includes(a)))return;const c=r[a];if(Array.isArray(c)){i=!0,o.required.push(...c);return}if(dm(c)){i=!0,o=es(o,t.resolveRef(c));return}}),i)return o.required=eqe(o.required),o}const tqe=(t,e,n,r)=>{if(kn(e.dependencies)!=="object")return;const i=[];return Object.keys(n).forEach(o=>{if(e.dependencies[o]===void 0||e.dependencies[o]===!0)return;if(e.dependencies[o]===!1){i.push(t.errors.missingDependencyError({pointer:r}));return}let a;const s=kn(e.dependencies[o]);if(s==="array")a=e.dependencies[o].filter(l=>n[l]===void 0).map(l=>t.errors.missingDependencyError({missingProperty:l,pointer:r}));else if(s==="object")a=t.validate(n,e.dependencies[o],r);else throw new Error(`Invalid dependency definition for ${r}/${o}. Must be string[] or schema`);i.push(...a)}),i.length>0?i:void 0},Un={additionalItemsError:Ft("AdditionalItemsError"),additionalPropertiesError:Ft("AdditionalPropertiesError"),anyOfError:Ft("AnyOfError"),allOfError:Ft("AllOfError"),constError:Ft("ConstError"),containsError:Ft("ContainsError"),containsArrayError:Ft("ContainsArrayError"),containsAnyError:Ft("ContainsAnyError"),enumError:Ft("EnumError"),forbiddenPropertyError:Ft("ForbiddenPropertyError"),formatURLError:Ft("FormatURLError"),formatURIError:Ft("FormatURIError"),formatURIReferenceError:Ft("FormatURIReferenceError"),formatURITemplateError:Ft("FormatURITemplateError"),formatDateError:Ft("FormatDateaError"),formatDateTimeError:Ft("FormatDateTimeError"),formatEmailError:Ft("FormatEmailError"),formatHostnameError:Ft("FormatHostnameError"),formatIPV4Error:Ft("FormatIPV4Error"),formatIPV4LeadingZeroError:Ft("FormatIPV4LeadingZeroError"),formatIPV6Error:Ft("FormatIPV6Error"),formatIPV6LeadingZeroError:Ft("FormatIPV6LeadingZeroError"),formatJsonPointerError:Ft("FormatJsonPointerError"),formatRegExError:Ft("FormatRegExError"),formatTimeError:Ft("FormatTimeError"),invalidSchemaError:Ft("InvalidSchemaError"),invalidDataError:Ft("InvalidDataError"),invalidTypeError:Ft("InvalidTypeError"),invalidPropertyNameError:Ft("InvalidPropertyNameError"),maximumError:Ft("MaximumError"),maxItemsError:Ft("MaxItemsError"),maxLengthError:Ft("MaxLengthError"),maxPropertiesError:Ft("MaxPropertiesError"),minimumError:Ft("MinimumError"),minItemsError:Ft("MinItemsError"),minItemsOneError:Ft("MinItemsOneError"),minLengthError:Ft("MinLengthError"),minLengthOneError:Ft("MinLengthOneError"),minPropertiesError:Ft("MinPropertiesError"),missingDependencyError:Ft("MissingDependencyError"),missingOneOfPropertyError:Ft("MissingOneOfPropertyError"),multipleOfError:Ft("MultipleOfError"),multipleOneOfError:Ft("MultipleOneOfError"),noAdditionalPropertiesError:Ft("NoAdditionalPropertiesError"),notError:Ft("NotError"),oneOfError:Ft("OneOfError"),oneOfPropertyError:Ft("OneOfPropertyError"),patternError:Ft("PatternError"),patternPropertiesError:Ft("PatternPropertiesError"),requiredPropertyError:Ft("RequiredPropertyError"),typeError:Ft("TypeError"),undefinedValueError:Ft("UndefinedValueError"),uniqueItemsError:Ft("UniqueItemsError"),unknownPropertyError:Ft("UnknownPropertyError"),valueNotEmptyError:Ft("ValueNotEmptyError")};function ece(t,e,n){if(!Array.isArray(e.anyOf)||e.anyOf.length===0)return;let r;return e.anyOf.forEach(i=>{i=t.resolveRef(i),t.isValid(n,i)&&(r=r?es(r,i):i)}),r}function tce(t,e,n=t.rootSchema,r="#"){const{anyOf:i}=n;if(!Array.isArray(i)||i.length===0)return n;const o=ece(t,n,e);if(o==null)return Un.anyOfError({value:e,pointer:r,anyOf:JSON.stringify(i)});const a=es(n,o);return O_(a,"anyOf")}const nqe=(t,e,n,r)=>{if(!(!Array.isArray(e.anyOf)||e.anyOf.length===0)){for(let i=0;i<e.anyOf.length;i+=1)if(t.isValid(n,e.anyOf[i]))return;return t.errors.anyOfError({anyOf:e.anyOf,value:n,pointer:r})}},rqe=["allOf","anyOf","oneOf","dependencies","if","then","else"];function nce(t,e,n){let r;if(e=t.resolveRef(e),e.oneOf){const c=$_(t,n,e);c&&c.type!=="error"&&(r=es(r??{},c))}const i=Jle(t,e);i&&(r=es(r??{},i));const o=ece(t,e,n);o&&(r=es(r??{},o));const a=Qle(t,e,n);a&&(r=es(r??{},a));const s=L_(t,e,n);if(s&&(r=es(r??{},s)),r==null)return;const l=nce(t,r,n);return l&&(r=es(r,l)),O_(r,...rqe)}const iqe=["allOf","anyOf","oneOf","dependencies","if","then","else"];function Ak(t,e,n){let r=nce(t,e,n);return r?(r=es(e,r),O_(r,...iqe)):e}class rce{constructor(e,n){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=e,this.typeKeywords=rF(e.typeKeywords),this.validateKeyword=Object.assign({},e.validateKeyword),this.validateType=Object.assign({},e.validateType),this.validateFormat=Object.assign({},e.validateFormat),this.errors=Object.assign({},e.errors),this.setSchema(n)}get rootSchema(){return this.__rootSchema}set rootSchema(e){e!=null&&(this.__rootSchema=this.config.compileSchema(this,e))}addRemoteSchema(e,n){this.config.addRemoteSchema(this,e,n)}compileSchema(e){var n;return this.config.compileSchema(this,e,(n=this.rootSchema)!==null&&n!==void 0?n:e)}createSchemaOf(e){return this.config.createSchemaOf(e)}each(e,n,r,i){return this.config.each(this,e,n,r,i)}eachSchema(e,n=this.rootSchema){return this.config.eachSchema(n,e)}getChildSchemaSelection(e,n){return this.config.getChildSchemaSelection(this,e,n)}getSchema(e="#",n,r){return this.config.getSchema(this,e,n,r)}getTemplate(e,n,r=this.config.templateDefaultOptions){return this.config.getTemplate(this,e,n,r)}isValid(e,n,r){return this.config.isValid(this,e,n,r)}resolveAnyOf(e,n,r){return this.config.resolveAnyOf(this,e,n,r)}resolveAllOf(e,n){return this.config.resolveAllOf(this,e,n)}resolveRef(e){return this.config.resolveRef(e,this.rootSchema)}resolveOneOf(e,n,r){return this.config.resolveOneOf(this,e,n,r)}setSchema(e){this.rootSchema=e}step(e,n,r,i){return this.config.step(this,e,n,r,i)}validate(e,n,r){return this.config.validate(this,e,n,r)}}function ice(t,e,n){n.id=n.id||e,t.remotes[e]=t.compileSchema(n)}var oce={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:ui,()=>(()=>{var n={d:(R,V)=>{for(var ie in V)n.o(V,ie)&&!n.o(R,ie)&&Object.defineProperty(R,ie,{enumerable:!0,get:V[ie]})},o:(R,V)=>Object.prototype.hasOwnProperty.call(R,V),r:R=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(R,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(R,"__esModule",{value:!0})}},r={};function i(R){return R==="#"||R===""||Array.isArray(R)&&R.length===0||!1}n.r(r),n.d(r,{default:()=>z,get:()=>d,isRoot:()=>i,join:()=>F,remove:()=>S,removeUndefinedItems:()=>C,set:()=>b,split:()=>f,splitLast:()=>D});const o=/~1/g,a=/~0/g,s=/\/+/g,l=/(^[#/]*|\/+$)/g;function c(R){return R.replace(o,"/").replace(a,"~")}function u(R){return c(decodeURIComponent(R))}function f(R){if(R==null||typeof R!="string"||i(R))return Array.isArray(R)?R:[];const V=R.indexOf("#")>=0?u:c,ie=(R=(R=R.replace(s,"/")).replace(l,"")).split("/");for(let oe=0,_e=ie.length;oe<_e;oe+=1)ie[oe]=V(ie[oe]);return ie}function d(R,V,ie=void 0){if(V==null||R==null)return ie;if(i(V))return R;const oe=h(R,f(V));return oe===void 0?ie:oe}function h(R,V){const ie=V.shift();if(R!==void 0)return ie!==void 0?h(R[ie],V):R}const m=/^\[.*\]$/,v=/^\[(.+)\]$/;function k(R,V){return R==="__proto__"||R=="constructor"&&V.length>0&&V[0]=="prototype"}function b(R,V,ie){if(V==null)return R;const oe=f(V);if(oe.length===0)return R;R==null&&(R=m.test(oe[0])?[]:{});let _e,Ae,Ie=R;for(;oe.length>1;)_e=oe.shift(),Ae=m.test(oe[0]),k(_e,oe)||(Ie=x(Ie,_e,Ae));return _e=oe.pop(),_(Ie,_e,ie),R}function _(R,V,ie){let oe;const _e=V.match(v);V==="[]"&&Array.isArray(R)?R.push(ie):_e?(oe=_e.pop(),R[oe]=ie):R[V]=ie}function x(R,V,ie){if(R[V]!=null)return R[V];const oe=ie?[]:{};return _(R,V,oe),oe}function C(R){let V=0,ie=0;for(;V+ie<R.length;)R[V+ie]===void 0&&(ie+=1),R[V]=R[V+ie],V+=1;return R.length=R.length-ie,R}function S(R,V,ie){const oe=f(V),_e=oe.pop(),Ae=d(R,oe);return Ae&&delete Ae[_e],Array.isArray(Ae)&&ie!==!0&&C(Ae),R}const g=/\/+/g,T=/~/g,P=/\//g;function $(R,V){if(R.length===0)return V?"#":"";for(let ie=0,oe=R.length;ie<oe;ie+=1)R[ie]=R[ie].replace(T,"~0").replace(P,"~1"),V&&(R[ie]=encodeURIComponent(R[ie]));return((V?"#/":"/")+R.join("/")).replace(g,"/")}function F(R,...V){const ie=[];if(Array.isArray(R))return $(R,arguments[1]===!0);const oe=arguments[arguments.length-1],_e=typeof oe=="boolean"?oe:R&&R[0]==="#";for(let Ie=0,ke=arguments.length;Ie<ke;Ie+=1)ie.push.apply(ie,f(arguments[Ie]));const Ae=[];for(let Ie=0,ke=ie.length;Ie<ke;Ie+=1)if(ie[Ie]===".."){if(Ae.length===0)return _e?"#":"";Ae.pop()}else Ae.push(ie[Ie]);return $(Ae,_e)}function D(R){const V=f(R);if(V.length===0)return typeof R=="string"&&R[0]==="#"?["#",V[0]]:["",void 0];if(V.length===1)return R[0]==="#"?["#",V[0]]:["",V[0]];const ie=V.pop();return[F(V,R[0]==="#"),ie]}const z={get:d,set:b,remove:S,join:F,split:f,splitLast:D,isRoot:i,removeUndefinedItems:C};return r})())})(oce);var Qp=oce.exports;const kb=pr(Qp);var ace={},Ms={},F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.TokenError=void 0;class oqe extends Error{constructor(e,n){if(super(e),this.message=e,this.token=n,n&&n.errors)n.errors.push(this);else throw this}inspect(){return"SyntaxError: "+this.message}}F_.TokenError=oqe;Object.defineProperty(Ms,"__esModule",{value:!0});Ms.Parser=Ms.findRuleByName=Ms.parseRuleName=Ms.escapeRegExp=Ms.readToken=void 0;const EU=/^[A-Z0-9_]+$/,$U=/(\?|\+|\*)$/,OU=/^(@|&|!)/,D9="WS",L9=F_;function OP(t,e){let n=e.exec(t);return n&&n.index==0?n[0].length==0&&e.source.length>0?null:{type:null,text:n[0],rest:t.substr(n[0].length),start:0,end:n[0].length-1,fullText:n[0],errors:[],children:[],parent:null}:null}Ms.readToken=OP;function sce(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}Ms.escapeRegExp=sce;function lce(t){t.rest="",t.children&&t.children.forEach(e=>lce(e))}function cce(t,e){t.start+=e,t.end+=e,t.children&&t.children.forEach(n=>cce(n,t.start))}function uce(t,e){e.errors&&e.errors.length&&e.errors.forEach(n=>t.push(n)),e.children&&e.children.forEach(n=>uce(t,n))}function Np(t){let e=$U.exec(t),n=OU.exec(t),r=e&&e[0]||"",i=n&&n[0]||"",o={raw:t,name:t.replace($U,"").replace(OU,""),isOptional:r=="?"||r=="*",allowRepetition:r=="+"||r=="*",atLeastOne:r=="+",lookupPositive:i=="&",lookupNegative:i=="!",pinned:i=="@",lookup:!1,isLiteral:!1};return o.isLiteral=o.name[0]=="'"||o.name[0]=='"',o.lookup=o.lookupNegative||o.lookupPositive,o}Ms.parseRuleName=Np;function fce(t,e){let n=Np(t);return e.cachedRules[n.name]||null}Ms.findRuleByName=fce;function DP(t,e){if(t.children){let n=t.children.filter(r=>r.type&&e.test(r.type));for(let r=0;r<n.length;r++){let i=t.children.indexOf(n[r]);i!=-1&&t.children.splice(i,1)}t.children.forEach(r=>DP(r,e))}}const aqe=["EOF"];class dce{constructor(e,n){this.grammarRules=e,this.options=n,this.cachedRules={},this.debug=n?n.debug===!0:!1;let r=[],i=[];if(e.forEach(o=>{let a=Np(o.name);if(a.name in this.cachedRules){r.push("Duplicated rule "+a.name);return}else this.cachedRules[a.name]=o;if(!o.bnf||!o.bnf.length){let s="Missing rule content, rule: "+o.name;r.indexOf(s)==-1&&r.push(s)}else o.bnf.forEach(s=>{if(typeof s[0]=="string"&&Np(s[0]).name==o.name){let c="Left recursion is not allowed, rule: "+o.name;r.indexOf(c)==-1&&r.push(c)}s.forEach(l=>{if(typeof l=="string"){let c=Np(l);!c.isLiteral&&i.indexOf(c.name)==-1&&aqe.indexOf(c.name)==-1&&i.push(c.name)}})});D9==o.name&&(o.implicitWs=!1),o.implicitWs&&i.indexOf(D9)==-1&&i.push(D9),o.recover&&i.indexOf(o.recover)==-1&&i.push(o.recover)}),i.forEach(o=>{o in this.cachedRules||r.push("Missing rule "+o)}),r.length)throw new Error(r.join(`
`))}getAST(e,n){n||(n=this.grammarRules.filter(i=>!i.fragment&&i.name.indexOf("%")!=0)[0].name);let r=this.parse(e,n);if(r){uce(r.errors,r),cce(r,0),DP(r,/^%/),(!this.options||!this.options.keepUpperRules)&&DP(r,EU);let i=r.rest;i&&new L9.TokenError(`Unexpected end of input: 
`+i,r),lce(r),r.rest=i}return r}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(e,n,r=0){let i=null,o=Np(n),a,s=this.debug&&!EU.test(o.name);s&&console.log(new Array(r).join("│  ")+"Trying to get "+n+" from "+JSON.stringify(e.split(`
`)[0]));let l=o.name,c=fce(o.name,this);if(o.name=="EOF"){if(e.length)return null;if(e.length==0)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!c&&o.isLiteral){let u=o.name.trim();if(u.startsWith('"')?u=JSON.parse(u):u.startsWith("'")&&(u=u.replace(/^'(.+)'$/,"$1").replace(/\\'/g,"'")),u==="")return{type:"%%EMPTY%%",text:"",rest:e,start:0,end:0,fullText:"",errors:[],children:[],parent:null};a=new RegExp(sce(u)),l=null}}catch(u){return u instanceof ReferenceError&&console.error(u),null}if(a){let u=OP(e,a);if(u)return u.type=l,u}else{let u=c.bnf;u instanceof Array&&u.forEach(f=>{if(i)return;let d=null,h={type:o.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:e};c.fragment&&(h.fragment=!0);let m=e,v=0,k=f.length>0,b=!1;for(let _=0;_<f.length;_++)if(typeof f[_]=="string"){let x=Np(f[_]);k=k&&x.isOptional;let C,S=!1;do{if(C=null,c.implicitWs&&(C=this.parse(m,x.name,r+1),!C)){let g;do if(g=this.parse(m,D9,r+1),g)h.text=h.text+g.text,h.end=h.text.length,g.parent=h,h.children.push(g),m=m.substr(g.text.length),v+=g.text.length;else break;while(g&&g.text.length)}if(C=C||this.parse(m,x.name,r+1),x.lookupNegative){if(C)return;break}if(x.lookupPositive&&!C)return;if(!C&&(x.isOptional||x.atLeastOne&&S))break;if(C&&c.pinned==_+1&&(d=C,s&&console.log(new Array(r+1).join("│  ")+"└─ "+C.type+" PINNED")),C||(C=this.parseRecovery(c,m,r+1)),!C)if(d)i=h,C={type:"SyntaxError",text:m,children:[],end:m.length,errors:[],fullText:"",parent:null,start:0,rest:""},m.length?new L9.TokenError(`Unexpected end of input. Expecting ${x.name} Got: ${m}`,C):new L9.TokenError(`Unexpected end of input. Missing ${x.name}`,C),s&&console.log(new Array(r+1).join("│  ")+"└─ "+C.type+" "+JSON.stringify(C.text));else return;if(S=!0,b=!0,C.type=="%%EMPTY%%")break;C.start+=v,C.end+=v,!x.lookupPositive&&C.type&&(C.fragment?C.children&&C.children.forEach(g=>{g.start+=v,g.end+=v,g.parent=h,h.children.push(g)}):(C.parent=h,h.children.push(C))),x.lookup&&(C.lookup=!0),s&&console.log(new Array(r+1).join("│  ")+"└─ "+C.type+" "+JSON.stringify(C.text)),!x.lookup&&!C.lookup&&(h.text=h.text+C.text,h.end=h.text.length,m=m.substr(C.text.length),v+=C.text.length),h.rest=m}while(C&&x.allowRepetition&&m.length&&!C.lookup)}else{let x=OP(m,f[_]);if(!x)return;s&&console.log(new Array(r+1).join("│  ")+"└> "+JSON.stringify(x.text)+f[_].source),b=!0,x.start+=v,x.end+=v,h.text=h.text+x.text,h.end=h.text.length,m=m.substr(x.text.length),v+=x.text.length,h.rest=m}b&&(i=h,s&&console.log(new Array(r).join("│  ")+"├<─┴< PUSHING "+i.type+" "+JSON.stringify(i.text)))}),i&&c.simplifyWhenOneChildren&&i.children.length==1&&(i=i.children[0])}return i||s&&console.log(n+" NOT RESOLVED FROM "+e),i}parseRecovery(e,n,r){if(e.recover&&n.length){let i=this.debug;i&&console.log(new Array(r+1).join("│  ")+"Trying to recover until token "+e.recover+" from "+JSON.stringify(n.split(`
`)[0]+n.split(`
`)[1]));let o={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""},a;do if(a=this.parse(n,e.recover,r+1),a){new L9.TokenError('Unexpected input: "'+o.text+`" Expecting: ${e.name}`,o);break}else o.text=o.text+n[0],o.end=o.text.length,n=n.substr(1);while(!a&&n.length>0);if(o.text.length>0&&a)return i&&console.log(new Array(r+1).join("│  ")+"Recovered text: "+JSON.stringify(o.text)),o}return null}}Ms.Parser=dce;Ms.default=dce;Object.defineProperty(ace,"__esModule",{value:!0});const uv=Ms;var LP;(function(t){t.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[[`'"'`,/[^"]*/,`'"'`],[`"'"`,/[^']*/,`"'"`]],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],t.defaultParser=new uv.Parser(t.RULES,{debug:!1});const e=/^(!|&)/,n=/(\?|\+|\*)$/,r=/^%/;function i(b,_){if(typeof b=="string"){if(e.test(b))return"";if(r.test(b)){let C=n.exec(b),S=C?C[0]+" ":"";return o(b,_)?s(b,_)+S:"("+s(b,_)+")"+S}return b}else return b.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function o(b,_){let x=uv.findRuleByName(b,_);return x&&x.bnf.length==1&&x.bnf[0].length==1&&(x.bnf[0][0]instanceof RegExp||x.bnf[0][0][0]=='"'||x.bnf[0][0][0]=="'")}function a(b,_){return b.map(x=>i(x,_)).join(" ")}function s(b,_){let x=uv.findRuleByName(b,_);return x?x.bnf.map(C=>a(C,_)).join(" | "):"RULE_NOT_FOUND {"+b+"}"}function l(b){let _=[];return b.grammarRules.forEach(x=>{if(!/^%/.test(x.name)){let C=x.recover?" /* { recoverUntil="+x.recover+" } */":"";_.push(x.name+" ::= "+s(x.name,b)+C)}}),_.join(`
`)}t.emit=l;let c=0;function u(b,_){throw console.log("reberia restar "+_+" a "+b),new Error("Difference not supported yet")}function f(b){return new RegExp(b.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function d(b,_,x){let C=null,S=[];return _.children.forEach((g,T)=>{g.type=="Minus"&&u(C,g);let P=_.children[T+1];P=P&&P.type=="PrimaryDecoration"&&P.text||"";let $="";switch(g.type){case"SubItem":let F="%"+(x+c++);h(b,g,F),S.push($+F+P);break;case"NCName":case"StringLiteral":S.push($+g.text+P);break;case"CharCode":case"CharClass":if(P||$){let D={name:"%"+(x+c++),bnf:[[f(g.text)]]};b.push(D),S.push($+D.name+P)}else S.push(f(g.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+g.type+" -> "+JSON.stringify(g.text))}C=g}),S}function h(b,_,x){let C=_.children.filter(T=>T.type=="SequenceOrDifference").map(T=>d(b,T,x)),S={name:x,bnf:C},g=null;C.forEach(T=>{g=g||T.recover,delete T.recover}),x.indexOf("%")==0&&(S.fragment=!0),g&&(S.recover=g),b.push(S)}function m(b,_=t.defaultParser){let x=_.getAST(b);if(!x)throw new Error("Could not parse "+b);if(x.errors&&x.errors.length)throw x.errors[0];let C=[];return x.children.filter(S=>S.type=="Production").map(S=>{let g=S.children.filter(T=>T.type=="NCName")[0].text;h(C,S,g)}),C}t.getRules=m;function v(b,_=t.defaultParser){return m(b.join(""),_)}t.Transform=v;class k extends uv.Parser{constructor(_,x){const C=x&&x.debugRulesParser===!0?new uv.Parser(t.RULES,{debug:!0}):t.defaultParser;super(m(_,C),x)}emitSource(){return l(this)}}t.Parser=k})(LP||(LP={}));var sqe=ace.default=LP;const lqe="[^?/{}*,()#]+",cqe=`
root ::= ("#" recursion | recursion | (query | pattern) recursion* | "#" SEP? | SEP)
recursion ::= (SEP query | pattern)*

query ::= (ESC escaped ESC | property | all | any | regex) typecheck? lookahead?
property ::= ${lqe}
regex ::= "{" [^}]+ "}"
SEP ::= "/"
all ::= "**"
any ::= "*"

typecheck ::= "?:" ("value" | "boolean" | "string" | "number" | "object" | "array")
lookahead ::= "?" expression ((andExpr | orExpr) expression)*
andExpr ::= S? "&&" S?
orExpr ::= S? "||" S?

expression ::= (exprProperty | ESC escaped ESC) ((isnot | is) (exprProperty | regex | ESC escaped ESC))*
exprProperty ::= [a-zA-Z0-9-_ $]+
escaped ::= [^"]+
is ::= ":"
isnot ::= ":!"
ESC ::= '"'

pattern ::= S? "(" (SEP query | pattern (orPattern? pattern)*)* ")" quantifier? S? lookahead?
quantifier ::= "+" | "*" | [0-9]+
orPattern ::= S? "," S?

S ::= [ ]*
`,uqe=new sqe.Parser(cqe),fqe=t=>uqe.getAST(t),Ka=0,_b=3,Ik=(t,e)=>`${t}/${e}`,hce=Object.prototype.toString,dqe=/Object|Array/,FP=t=>dqe.test(hce.call(t)),hqe=t=>hce.call(t).match(/\s([^\]]+)\]/).pop().toLowerCase();function pce(t){return new RegExp(t.text.replace(/(^{|}$)/g,""))}function pqe(t,e){Array.isArray(t)?t.forEach(e):Object.prototype.toString.call(t)==="[object Object]"&&Object.keys(t).forEach(function(n){e(t[n],n,t)})}function DU(t){return Array.isArray(t)?t.map(function(e,n){return`${n}`}):Object.prototype.toString.call(t)==="[object Object]"?Object.keys(t):[]}const jd={mem:[],get(t,e){const n=t[Ka][e];if(!jd.mem.includes(n))return FP(n)&&jd.mem.push(n),[n,e,t[Ka],Ik(t[_b],e)]},reset(){jd.mem.length=0}},NP={any(t,e){const n=e[Ka];return DU(n).map(r=>[n[r],r,n,Ik(e[_b],r)])},all(t,e){const n=[e];return pqe(e[Ka],(r,i)=>{const o=jd.get(e,i);o&&n.push(...NP.all(t,o))}),n},regex(t,e){const n=pce(t),r=e[Ka];return DU(r).filter(i=>n.test(i)).map(i=>[r[i],i,r,Ik(e[_b],i)])}},Pk={escaped:(t,e)=>Pk.property(t,e),property:(t,e)=>{const n=t.text;if(e[Ka]&&e[Ka][n]!==void 0)return[e[Ka][n],n,e[Ka],Ik(e[_b],n)]},typecheck:(t,e)=>{const n=t.text.replace(/^\?:/,"");if(n==="value")return FP(e[Ka])?void 0:e;if(hqe(e[Ka])===n)return e},lookahead:(t,e)=>{let n=!0,r=!1;return t.children.forEach(i=>{if(i.type==="expression"){const o=Pk.expression(i,e)!==void 0;n=r===!0?n||o:n&&o}else r=i.type==="orExpr"}),n?e:void 0},expression:(t,e)=>{const n=t.children[0].text,r=t.children[1],i=t.children[2],o=e[Ka];if(FP(o)!==!1)return mqe(o[n],r,i)?e:void 0}};function mqe(t,e,n){if(e===void 0)return t!==void 0;let r;const i=`${t}`;return n.type==="regex"?r=pce(n).test(i):r=i===n.text,e.type==="isnot"&&(r=r===!1&&t!==void 0),r}function gqe(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o+=1)i.push(...t(n,e[o],n,r));return i}function bqe(t,e,n,r){const i=[];for(let o=0,a=e.length;o<a;o+=1){const s=t(n,e[o],r);s&&i.push(s)}return i}function vqe(t,e,n){let r=t;return e.children.forEach(i=>{if(NP[i.type])r=gqe(NP[i.type],r,i,n);else if(Pk[i.type])r=bqe(Pk[i.type],r,i,n);else throw new Error(`Unknown filter ${i.type}`)}),r}function yqe(t,e,n){const r=[];let i=t;return e.children.forEach(o=>{if(o.type==="orPattern"){r.push(...i),i=t;return}i=iF(i,o,n)}),r.push(...i),r}function kqe(t){if(t==null)return 1;if(t==="*"||t==="+")return 1/0;const e=parseInt(t);return isNaN(e)?1:e}function _qe(t,e,n){const r=[],i=e.children.find(l=>l.type==="quantifier"),o=kqe(i&&i.text);let a=t;i&&i.text==="*"&&r.push(...a);let s=0;for(;a.length>0&&s<o;)a=yqe(a,e,n),r.push(...a),s+=1;return r}function wqe(t,e,n){let r=t;return e.children.forEach(i=>r=iF(r,i,n)),r}function iF(t,e,n){let r;return e.type==="query"?r=vqe(t,e,n):e.type==="pattern"?r=_qe(t,e,n):r=wqe(t,e,n),jd.reset(),jd.mem.push(t),r}function Sqe(t,e){return jd.reset(),jd.mem.push(t),iF([[t,null,null,"#"]],e)}const LU={value:t=>t.map(e=>e[Ka]),pointer:t=>t.map(e=>e[_b]),all:t=>t,map:t=>{const e={};return t.forEach(n=>e[n[_b]]=n[Ka]),e}};var Lm;(function(t){t.POINTER="pointer",t.VALUE="value",t.ALL="all",t.MAP="map"})(Lm||(Lm={}));L2.POINTER=Lm.POINTER;L2.VALUE=Lm.VALUE;L2.ALL=Lm.ALL;L2.MAP=Lm.MAP;function L2(t,e,n=Lm.VALUE){if(e==null)return[];e=e.replace(/(\/$)/g,""),e===""&&(e="#");const r=fqe(e);if(r==null)throw new Error(`empty ast for '${e}'`);if(r.rest!=="")throw new Error(`Failed parsing queryString from: '${r.rest}'`);const i=Sqe(t,r);return typeof n=="function"?i.map(o=>n(...o)):LU[n]?LU[n](i):i}var Ek;(function(t){t.REPLACE_ITEMS="replace",t.INSERT_ITEMS="insert"})(Ek||(Ek={}));Ek.REPLACE_ITEMS;Ek.INSERT_ITEMS;const sf={$ref:{type:!1},allOf:{type:!1,definitions:["allOf/*"]},anyOf:{type:!1,definitions:["anyOf/*"]},array:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","items","items/*","additionalItems"],validationKeywords:["minItems","maxItems","uniqueItems"],keywords:["items","additionalItems","minItems","maxItems","uniqueItems"]},boolean:{type:!0},enum:{type:!1},integer:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},not:{type:!1,definitions:["not"]},number:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minimum","maximum","multipleOf"]},null:{type:!0},object:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not","properties/*","additionalProperties","patternProperties/*","dependencies/*"],validationKeywords:["minProperties","maxProperties","required"],keywords:["properties","additionalProperties","patternProperties","dependencies","minProperties","maxProperties","required"]},oneOf:{type:!1,definitions:["oneOf/*"]},string:{type:!0,definitions:["allOf/*","anyOf/*","oneOf/*","not"],validationKeywords:["minLength","maxLength","pattern"]}},xqe=Object.keys(sf).filter(t=>sf[t].type===!1),FU=Object.prototype.hasOwnProperty;function NU(t){if(dm(t)===!1)return;if(t.enum)return"enum";if(sf[t.type]||Array.isArray(t.type))return t.type;const e=xqe.filter(n=>t[n]);if(e.length===1)return e[0];if(e.length===0){for(let n=0,r=sf.object.keywords.length;n<r;n+=1){const i=sf.object.keywords[n];if(FU.call(t,i))return"object"}for(let n=0,r=sf.array.keywords.length;n<r;n+=1){const i=sf.array.keywords[n];if(FU.call(t,i))return"array"}return}throw new Error(`Mutiple typeIds [${e.join(", ")}] matched in ${JSON.stringify(t)}`)}function Cqe(t){const e=[],n=NU(t);if(n==null)return e;let r;if(Array.isArray(n)){r={};for(let i=0,o=n.length;i<o;i+=1)Object.assign(r,sf[n[i]])}else r=sf[n];return r.definitions==null||r.definitions.forEach(i=>{L2(t,i,(o,a,s,l)=>{dm(o)&&NU(o)&&e.push({pointer:kb.join(kb.split(l),!1),def:o})})}),e}function Tqe(t,e){if(this.callback(t,e)===!0)return;Cqe(t).forEach(r=>this.nextTypeDefs(r.def,kb.join(e,r.pointer,!1)))}function F9(t,e,n,r="definitions"){const i=e[r];Object.keys(i).forEach(o=>{if(i[o]===!1||dm(i[o])){t.nextTypeDefs(i[o],kb.join(n,r,o,!1));return}})}function N_(t,e,n="#"){const r={callback:e,nextTypeDefs:Tqe};r.nextTypeDefs(t,n),t.definitions!=null&&(r.callback=(i,o)=>{e(i,o),i.definitions!=null&&F9(r,i,o)},F9(r,t,n)),t.$defs!=null&&(r.callback=(i,o)=>{e(i,o),i.definitions!=null&&F9(r,i,o)},F9(r,t,n,"$defs"))}const Aqe=/(#|\/)+$/,N9=/#$/,Iqe=/^[^:]+:\/\/[^/]+\//,Pqe=/\/[^/]*$/,Eqe=/#.*$/;function $k(t,e){return t==null&&e==null?"#":e==null?t.replace(N9,""):t==null?e.replace(N9,""):e[0]==="#"?`${t.replace(Eqe,"")}${e.replace(Aqe,"")}`:Iqe.test(e)?e.replace(N9,""):`${t.replace(Pqe,"")}/${e.replace(N9,"")}`}const fv=/(#|\/)+$/g,$qe=["",null,"#"];function Oqe(t){if($qe.includes(t))return[];if(t=t.replace(fv,""),t.indexOf("#")===-1)return[t.replace(fv,"")];if(t.indexOf("#")===0)return[t.replace(fv,"")];const e=t.split("#");return e[0]=e[0].replace(fv,""),e[1]=`#${e[1].replace(fv,"")}`,e}const Dqe=/(#|\/)+$/g,Lqe=t=>kn(t)==="object";function Zu(t,e,n){if(Lqe(n)&&(n=n.__ref||n.$ref),n==null)return e;let r;const i=n.replace(Dqe,"");if(t.remotes[i])return r=t.remotes[i],r&&r.$ref?Zu(t,e,r.$ref):r;if(t.ids[n])return r=Qp.get(e,t.ids[n]),r&&r.$ref?Zu(t,e,r.$ref):r;const o=Oqe(n);if(o.length===0)return e;if(o.length===1){if(n=o[0],t.remotes[n])return r=t.remotes[n],Zu(t,e,r.$ref);if(t.ids[n])return r=Qp.get(e,t.ids[n]),r&&r.$ref?Zu(t,e,r.$ref):r}if(o.length===2){const a=o[0];if(n=o[1],t.remotes[a])return t.remotes[a].getRef?t.remotes[a].getRef(n):Zu(t,t.remotes[a],n);if(t.ids[a])return Zu(t,Qp.get(e,t.ids[a]),n)}return r=Qp.get(e,t.ids[n]||n),r&&r.$ref?Zu(t,e,r.$ref):r}const MU="__compiled",zU="__ref",Fqe="getRef",Nqe="getRoot",Mqe=/(#|\/)+$/g;function zqe(t,e,n=e,r=!1){if(!e||e[MU]!==void 0)return e;const i={ids:{},remotes:t.remotes},o=JSON.stringify(e),a=JSON.parse(o);if(Object.defineProperty(a,MU,{enumerable:!1,value:!0}),Object.defineProperty(a,Fqe,{enumerable:!1,value:Zu.bind(null,i,a)}),r===!1&&o.includes("$ref")===!1)return a;e!==n&&Object.defineProperty(a,"definitions",{enumerable:!1,value:Object.assign({},n.definitions,n.$defs,e.definitions,e.$defs)});const s={},l=()=>a;return N_(a,(c,u)=>{var f;if(c.id){if(c.id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(u)){const k=u.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),b=Qp.get(a,k);c.id=(f=b.id)!==null&&f!==void 0?f:c.id}i.ids[c.id.replace(Mqe,"")]=u}u=`#${u}`.replace(/##+/,"#");const d=u.replace(/\/[^/]+$/,""),h=u.replace(/\/[^/]+\/[^/]+$/,""),m=s[d]||s[h],v=$k(m,c.id);s[u]=v,i.ids[v]==null&&(i.ids[v]=u),c.$ref&&!c[zU]&&(Object.defineProperty(c,zU,{enumerable:!1,value:$k(v,c.$ref)}),Object.defineProperty(c,Nqe,{enumerable:!1,value:l}))}),a}function mce(t,e,n,r=t.rootSchema,i="#"){r=t.resolveRef(r),n(r,e,i);const o=kn(e);o==="object"?Object.keys(e).forEach(a=>{const s=t.step(a,r,e,i),l=e[a];t.each(l,n,s,`${i}/${a}`)}):o==="array"&&e.forEach((a,s)=>{const l=t.step(s,r,e,i);t.each(a,n,l,`${i}/${s}`)})}var gce={exports:{}};(function(t){(function(e){e.exports.is_uri=r,e.exports.is_http_uri=i,e.exports.is_https_uri=o,e.exports.is_web_uri=a,e.exports.isUri=r,e.exports.isHttpUri=i,e.exports.isHttpsUri=o,e.exports.isWebUri=a;var n=function(s){var l=s.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return l};function r(s){if(s&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(s)&&!/%[^0-9a-f]/i.test(s)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(s)){var l=[],c="",u="",f="",d="",h="",m="";if(l=n(s),c=l[1],u=l[2],f=l[3],d=l[4],h=l[5],!!(c&&c.length&&f.length>=0)){if(u&&u.length){if(!(f.length===0||/^\//.test(f)))return}else if(/^\/\//.test(f))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(c.toLowerCase()))return m+=c+":",u&&u.length&&(m+="//"+u),m+=f,d&&d.length&&(m+="?"+d),h&&h.length&&(m+="#"+h),m}}}function i(s,l){if(r(s)){var c=[],u="",f="",d="",h="",m="",v="",k="";if(c=n(s),u=c[1],f=c[2],d=c[3],m=c[4],v=c[5],!!u){if(l){if(u.toLowerCase()!="https")return}else if(u.toLowerCase()!="http")return;if(f)return/:(\d+)$/.test(f)&&(h=f.match(/:(\d+)$/)[0],f=f.replace(/:\d+$/,"")),k+=u+":",k+="//"+f,h&&(k+=h),k+=d,m&&m.length&&(k+="?"+m),v&&v.length&&(k+="#"+v),k}}}function o(s){return i(s,!0)}function a(s){return i(s)||o(s)}})(t)})(gce);var Rqe=gce.exports;const RU=pr(Rqe),jqe=new RegExp("^([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(([Zz])|([\\+|\\-]([01][0-9]|2[0-3]):[0-5][0-9]))$"),Vqe=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,Bqe=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,Hqe=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,Wqe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Uqe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Gqe=[0,31,28,31,30,31,30,31,31,30,31,30,31],qqe=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Yqe=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,Xqe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Kqe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,bce={date:(t,e,n,r)=>{if(typeof n!="string")return;const i=n.match(Wqe);if(!i)return Un.formatDateTimeError({value:n,pointer:r});const o=+i[1],a=+i[2],s=+i[3],l=o%4===0&&(o%100!==0||o%400===0);if(!(a>=1&&a<=12&&s>=1&&s<=(a==2&&l?29:Gqe[a])))return Un.formatDateError({value:n,pointer:r})},"date-time":(t,e,n,r)=>{if(typeof n=="string")return n===""||jqe.test(n)?new Date(n).toString()==="Invalid Date"?Un.formatDateTimeError({value:n,pointer:r}):void 0:Un.formatDateTimeError({value:n,pointer:r})},email:(t,e,n,r)=>{if(typeof n!="string")return;if(n[0]==='"')return Un.formatEmailError({value:n,pointer:r});const[i,o,...a]=n.split("@");if(!i||!o||a.length!==0||i.length>64||o.length>253)return Un.formatEmailError({value:n,pointer:r});if(i[0]==="."||i.endsWith(".")||i.includes(".."))return Un.formatEmailError({value:n,pointer:r});if(!/^[a-z0-9.-]+$/i.test(o)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(i))return Un.formatEmailError({value:n,pointer:r});if(!o.split(".").every(s=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(s)))return Un.formatEmailError({value:n,pointer:r})},hostname:(t,e,n,r)=>{if(typeof n=="string"&&!(n===""||Hqe.test(n)))return Un.formatHostnameError({value:n,pointer:r})},ipv4:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return Un.formatIPV4LeadingZeroError({value:n,pointer:r});if(!(n.length<=15&&Vqe.test(n)))return Un.formatIPV4Error({value:n,pointer:r})}},ipv6:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")){if(n&&n[0]==="0")return Un.formatIPV6LeadingZeroError({value:n,pointer:r});if(!(n.length<=45&&Bqe.test(n)))return Un.formatIPV6Error({value:n,pointer:r})}},"json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!qqe.test(n))return Un.formatJsonPointerError({value:n,pointer:r})},"relative-json-pointer":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Yqe.test(n))return Un.formatJsonPointerError({value:n,pointer:r})},regex:(t,e,n,r)=>{if(typeof n=="string"&&/\\Z$/.test(n)===!1){try{new RegExp(n);return}catch{}return Un.formatRegExError({value:n,pointer:r})}if(!(typeof n=="object"||typeof n=="number"||Array.isArray(n)))return Un.formatRegExError({value:n,pointer:r})},time:(t,e,n,r)=>{if(typeof n!="string")return;const i=n.match(Uqe);if(!i)return Un.formatDateTimeError({value:n,pointer:r});const o=+i[1],a=+i[2],s=+i[3],l=!!i[5];if(!((o<=23&&a<=59&&s<=59||o==23&&a==59&&s==60)&&l))return Un.formatTimeError({value:n,pointer:r})},uri:(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!RU.isUri(n))return Un.formatURIError({value:n,pointer:r})},"uri-reference":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Xqe.test(n))return Un.formatURIReferenceError({value:n,pointer:r})},"uri-template":(t,e,n,r)=>{if(!(typeof n!="string"||n==="")&&!Kqe.test(n))return Un.formatURITemplateError({value:n,pointer:r})},url:(t,e,n,r)=>{if(!(n===""||RU.isWebUri(n)))return Un.formatURLError({value:n,pointer:r})}},Jqe={};function vce(t,e,n,r=t.rootSchema){const i=kb.split(e);return r=t.resolveRef(r),yce(t,r,i,e,n)}function yce(t,e,n,r,i=Jqe){if(n.length===0)return t.resolveRef(e);const o=n.shift();return e=t.step(o,e,i,r),ms(e)?e:(i=i[o],yce(t,e,n,`${r}/${o}`,i))}function Zqe(t){switch(kn(t)){case"string":case"array":return t.length===0;case"null":case"undefined":return!0;case"object":return Object.keys(t).length===0;default:return!1}}const Qqe={addOptionalProps:!1,removeInvalidData:!1};let lf;function HC(t,e){const{$ref:n}=t;return n==null?!0:(lf[e]==null||lf[e][n]==null?0:lf[e][n])<Ub.GET_TEMPLATE_RECURSION_LIMIT}function jU(t,e,n){const{$ref:r}=e;return r==null?e:(lf[n]=lf[n]||{},lf[n][r]=lf[n][r]||0,lf[n][r]+=1,t.resolveRef(e))}function eYe(t,e){if(t==="string")return JSON.stringify(e);if(typeof e!="string")return null;try{if(e=JSON.parse(e),typeof e===t)return e}catch{}return null}function kce(t,e,n,r){if(kn(e)!=="object")return Object.assign({pointer:r},e);if(HC(e,r)===!1&&n==null)return!1;let i=rF(jU(t,e,r));if(Array.isArray(e.anyOf)&&e.anyOf.length>0){if(HC(e.anyOf[0],`${r}/anyOf/0`)){const o=jU(t,e.anyOf[0],`${r}/anyOf/0`);i=QL(i,o),i.pointer=e.anyOf[0].$ref||i.pointer}delete i.anyOf}if(Array.isArray(e.allOf)&&e.allOf.map((a,s)=>HC(a,`${r}/allOf/${s}`)).reduceRight((a,s)=>a&&s,!0)){const a=Jle(t,e);a&&(i=es(i,a))}return i.pointer=i.pointer||e.$ref||r,i}const VU=t=>t&&typeof t=="object";function Gu(t,e,n,r,i){var o;if(n==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(e)}`);if(r==null)throw new Error("Missing pointer");let a=kce(t,n,e,r);if(!VU(a))return;if(r=a.pointer,a!=null&&a.const)return a.const;if(Array.isArray(a.oneOf))if(Zqe(e)){const u=a.oneOf[0].type||a.type||a.const&&typeof a.const||kn(e);a={...a.oneOf[0],type:u}}else{const u=$_(t,e,a);if(ms(u)){if(e!=null&&i.removeInvalidData!==!0)return e;a=a.oneOf[0],e=void 0}else u.type=(o=u.type)!==null&&o!==void 0?o:a.type,a=u}if(!VU(a)||a.type==null)return;const s=Array.isArray(a.type)?tYe(a.type,e,a.default):a.type,l=kn(e);return e!=null&&l!==s&&!(l==="number"&&s==="integer")&&(e=eYe(s,e)),BU[s]==null?i.removeInvalidData?void 0:e:BU[s](t,a,e,r,i)}function tYe(t,e,n){if(e==null){if(n!=null){const i=kn(n);if(t.includes(i))return i}return t[0]}const r=kn(e);return t.includes(r)?r:t[0]}const BU={null:(t,e,n)=>dv(e,n,null),string:(t,e,n)=>dv(e,n,""),number:(t,e,n)=>dv(e,n,0),integer:(t,e,n)=>dv(e,n,0),boolean:(t,e,n)=>dv(e,n,!1),object:(t,e,n,r,i)=>{var o;const a=e.default===void 0?{}:e.default,s={},l=(o=e.required)!==null&&o!==void 0?o:[];e.properties&&Object.keys(e.properties).forEach(f=>{const d=n==null||n[f]==null?a[f]:n[f],h=l.includes(f);(d!=null||h||i.addOptionalProps)&&(s[f]=Gu(t,d,e.properties[f],`${r}/properties/${f}`,i))});let c=Qle(t,e,s);if(c){c=es(e,c),delete c.dependencies;const f=Gu(t,n,c,`${r}/dependencies`,i);Object.assign(s,f)}n&&(i.removeInvalidData===!0&&(e.additionalProperties===!1||kn(e.additionalProperties)==="object")?kn(e.additionalProperties)==="object"&&Object.keys(n).forEach(f=>{s[f]==null&&t.isValid(n[f],e.additionalProperties)&&(s[f]=n[f])}):Object.keys(n).forEach(f=>s[f]==null&&(s[f]=n[f])));const u=L_(t,e,s);if(u){const f=Gu(t,s,{type:"object",...u},r,i);Object.assign(s,f)}return s},array:(t,e,n,r,i)=>{var o,a;if(e.items==null)return n||[];const s=e.default===void 0?[]:e.default,l=n||s,c=e.minItems||0;if(Array.isArray(e.items)){for(let f=0,d=Math.max(c??0,(a=(o=e.items)===null||o===void 0?void 0:o.length)!==null&&a!==void 0?a:0);f<d;f+=1)l[f]=Gu(t,l[f]==null?s[f]:l[f],e.items[f],`${r}/items/${f}`,i);return l}if(kn(e.items)!=="object")return l;const u=kce(t,e.items,n,r);if(u===!1)return l;if(r=u.pointer||r,u.oneOf&&l.length===0){const f=u.oneOf[0];for(let d=0;d<c;d+=1)l[d]=Gu(t,l[d]==null?s[d]:l[d],f,`${r}/oneOf/0`,i);return l}if(u.oneOf&&l.length>0){const f=Math.max(c,l.length);for(let d=0;d<f;d+=1){let h=l[d]==null?s[d]:l[d],m=$_(t,h,u);m==null||ms(m)?h!=null&&i.removeInvalidData!==!0?l[d]=h:(h=void 0,m=u.oneOf[0],l[d]=Gu(t,h,m,`${r}/oneOf/${d}`,i)):l[d]=Gu(t,h,m,`${r}/oneOf/${d}`,i)}return l}if(u.type){for(let f=0,d=Math.max(c,l.length);f<d;f+=1)l[f]=Gu(t,l[f]==null?s[f]:l[f],u,`${r}/items`,i);return l}return l}};function dv(t,e,n){return e??(t.const?t.const:t.default===void 0&&Array.isArray(t.enum)?t.enum[0]:t.default===void 0?n:t.default)}const _ce=(t,e,n=t.rootSchema,r=Qqe)=>(lf={},Gu(t,e,n,"#",r));function wce(t,e,n=t.rootSchema,r="#"){return t.validate(e,n,r).length===0}function HU(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const o=t.charCodeAt(n++);(o&64512)==56320?e.push(((i&1023)<<10)+(o&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}const WC=Ub.floatingPointPrecision,nYe=Object.prototype.hasOwnProperty,WU=(t,e)=>!(t[e]===void 0||!nYe.call(t,e)),Sce={additionalProperties:(t,e,n,r)=>{if(e.additionalProperties===!0||e.additionalProperties==null||kn(e.patternProperties)==="object"&&e.additionalProperties===!1)return;const i=[];let o=Object.keys(n).filter(s=>Ub.propertyBlacklist.includes(s)===!1);const a=Object.keys(e.properties||{});if(kn(e.patternProperties)==="object"){const s=Object.keys(e.patternProperties).map(l=>new RegExp(l));o=o.filter(l=>{for(let c=0;c<s.length;c+=1)if(s[c].test(l))return!1;return!0})}for(let s=0,l=o.length;s<l;s+=1){const c=o[s];if(a.indexOf(c)===-1){const u=dm(e.additionalProperties);if(u&&Array.isArray(e.additionalProperties.oneOf)){const f=t.resolveOneOf(n[c],e.additionalProperties,`${r}/${c}`);ms(f)?i.push(t.errors.additionalPropertiesError({schema:e.additionalProperties,property:o[s],properties:a,pointer:r,errors:f.data.errors})):i.push(...t.validate(n[c],f,r))}else u?i.push(...t.validate(n[c],e.additionalProperties,`${r}/${c}`)):i.push(t.errors.noAdditionalPropertiesError({property:o[s],properties:a,pointer:r}))}}return i},allOf:ZGe,anyOf:nqe,dependencies:tqe,enum:(t,e,n,r)=>{const i=kn(n);if(i==="object"||i==="array"){const o=JSON.stringify(n);for(let a=0;a<e.enum.length;a+=1)if(JSON.stringify(e.enum[a])===o)return}else if(e.enum.includes(n))return;return t.errors.enumError({values:e.enum,value:n,pointer:r})},format:(t,e,n,r)=>{if(t.validateFormat[e.format])return t.validateFormat[e.format](t,e,n,r)},items:(t,e,n,r)=>{if(e.items===!1)return Array.isArray(n)&&n.length===0?void 0:t.errors.invalidDataError({pointer:r,value:n});const i=[];for(let o=0;o<n.length;o+=1){const a=n[o],s=t.step(o,e,n,r);if(ms(s))return[s];const l=t.validate(a,s,`${r}/${o}`);i.push(...l)}return i},maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)){if(e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r});if(e.maximum&&e.exclusiveMaximum===!0&&e.maximum===n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r})}},maxItems:(t,e,n,r)=>{if(!isNaN(e.maxItems)&&e.maxItems<n.length)return t.errors.maxItemsError({maximum:e.maxItems,length:n.length,pointer:r})},maxLength:(t,e,n,r)=>{if(isNaN(e.maxLength))return;const i=HU(n).length;if(e.maxLength<i)return t.errors.maxLengthError({maxLength:e.maxLength,length:i,pointer:r})},maxProperties:(t,e,n,r)=>{const i=Object.keys(n).length;if(isNaN(e.maxProperties)===!1&&e.maxProperties<i)return t.errors.maxPropertiesError({maxProperties:e.maxProperties,length:i,pointer:r})},minLength:(t,e,n,r)=>{if(isNaN(e.minLength))return;const i=HU(n).length;if(e.minLength>i)return e.minLength===1?t.errors.minLengthOneError({minLength:e.minLength,length:i,pointer:r}):t.errors.minLengthError({minLength:e.minLength,length:i,pointer:r})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)){if(e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r});if(e.exclusiveMinimum===!0&&e.minimum===n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r})}},minItems:(t,e,n,r)=>{if(!isNaN(e.minItems)&&e.minItems>n.length)return e.minItems===1?t.errors.minItemsOneError({minItems:e.minItems,length:n.length,pointer:r}):t.errors.minItemsError({minItems:e.minItems,length:n.length,pointer:r})},minProperties:(t,e,n,r)=>{if(isNaN(e.minProperties))return;const i=Object.keys(n).length;if(e.minProperties>i)return t.errors.minPropertiesError({minProperties:e.minProperties,length:i,pointer:r})},multipleOf:(t,e,n,r)=>{if(!isNaN(e.multipleOf)&&n*WC%(e.multipleOf*WC)/WC!==0)return t.errors.multipleOfError({multipleOf:e.multipleOf,value:n,pointer:r})},not:(t,e,n,r)=>{const i=[];return t.validate(n,e.not,r).length===0&&i.push(t.errors.notError({value:n,not:e.not,pointer:r})),i},oneOf:QUe,pattern:(t,e,n,r)=>{if(new RegExp(e.pattern,"u").test(n)===!1)return t.errors.patternError({pattern:e.pattern,description:e.patternExample||e.pattern,received:n,pointer:r})},patternProperties:(t,e,n,r)=>{const i=e.properties||{},o=e.patternProperties;if(kn(o)!=="object")return;const a=[],s=Object.keys(n),l=Object.keys(o).map(c=>({regex:new RegExp(c),patternSchema:o[c]}));return s.forEach(c=>{let u=!1;for(let f=0,d=l.length;f<d;f+=1)if(l[f].regex.test(c)){u=!0;const h=t.validate(n[c],l[f].patternSchema,`${r}/${c}`);h&&h.length>0&&a.push(...h)}i[c]||u===!1&&e.additionalProperties===!1&&a.push(t.errors.patternPropertiesError({key:c,pointer:r,patterns:Object.keys(o).join(",")}))}),a},properties:(t,e,n,r)=>{const i=[],o=Object.keys(e.properties||{});for(let a=0;a<o.length;a+=1){const s=o[a];if(WU(n,s)){const l=t.step(s,e,n,r),c=t.validate(n[s],l,`${r}/${s}`);i.push(...c)}}return i},propertiesRequired:(t,e,n,r)=>{const i=[],o=Object.keys(e.properties||{});for(let a=0;a<o.length;a+=1){const s=o[a];if(n[s]===void 0)i.push(t.errors.requiredPropertyError({key:s,pointer:r}));else{const l=t.step(s,e,n,r),c=t.validate(n[s],l,`${r}/${s}`);i.push(...c)}}return i},required:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(i=>{if(!WU(n,i))return t.errors.requiredPropertyError({key:i,pointer:r})})},requiredNotEmpty:(t,e,n,r)=>{if(Array.isArray(e.required)!==!1)return e.required.map(i=>{if(n[i]==null||n[i]==="")return t.errors.valueNotEmptyError({property:i,pointer:`${r}/${i}`})})},uniqueItems:(t,e,n,r)=>{if((Array.isArray(n)&&e.uniqueItems)===!1)return;const i=[],o=[];return n.forEach((a,s)=>{for(let l=s+1;l<n.length;l+=1)Kre(a,n[l])&&!i.includes(l)&&(o.push(t.errors.uniqueItemsError({pointer:`${r}/${l}`,duplicatePointer:`${r}/${s}`,arrayPointer:r,value:JSON.stringify(a)})),i.push(l))}),o}};function Sa(t){const e={type:kn(t)};return e.type==="object"&&(e.properties={},Object.keys(t).forEach(n=>e.properties[n]=Sa(t[n]))),e.type==="array"&&t.length===1?e.items=Sa(t[0]):e.type==="array"&&(e.items=t.map(Sa)),e}const UU={array:(t,e,n,r,i)=>{const o=r==null?void 0:r[e],a=kn(n.items);if(a==="object")return Ak(t,n.items,o)||t.resolveRef(n.items);if(a==="array"){if(n.items[e]===!0)return Sa(o);if(n.items[e]===!1)return Un.invalidDataError({key:e,value:o,pointer:i});if(n.items[e])return t.resolveRef(n.items[e]);if(n.additionalItems===!1)return Un.additionalItemsError({key:e,value:o,pointer:i});if(n.additionalItems===!0||n.additionalItems===void 0)return Sa(o);if(kn(n.additionalItems)==="object")return n.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(n,null,4)} for ${JSON.stringify(r,null,4)}`)}return n.additionalItems!==!1&&o?Sa(o):new Error(`Invalid array schema for ${e} at ${i}`)},object:(t,e,n,r,i)=>{var o;n=Ak(t,n,r);const a=(o=n==null?void 0:n.properties)===null||o===void 0?void 0:o[e];if(a!==void 0){if(a===!1)return Un.forbiddenPropertyError({property:e,value:r,pointer:`${i}`});if(a===!0)return Sa(r==null?void 0:r[e]);const c=t.resolveRef(a);if(ms(c))return c;if(c&&Array.isArray(c.oneOf))return t.resolveOneOf(r[e],c,`${i}/${e}`);if(c)return c}const{patternProperties:s}=n;if(kn(s)==="object"){let c;const u=Object.keys(s);for(let f=0,d=u.length;f<d;f+=1)if(c=new RegExp(u[f]),c.test(e))return s[u[f]]}const{additionalProperties:l}=n;return kn(l)==="object"?n.additionalProperties:r&&(l===void 0||l===!0)?Sa(r[e]):Un.unknownPropertyError({property:e,value:r,pointer:`${i}`})}};function xce(t,e,n,r,i="#"){if(Array.isArray(n.type)){const s=kn(r);return n.type.includes(s)?UU[s](t,`${e}`,n,r,i):t.errors.typeError({value:r,pointer:i,expected:n.type,received:s})}const o=n.type||kn(r),a=UU[o];return a?a(t,`${e}`,n,r,i):new Error(`Unsupported schema type ${n.type} for key ${e}`)}function Cce(t,e,n=t.rootSchema){var r;if(n.oneOf)return n.oneOf.map(o=>t.resolveRef(o));if(!((r=n.items)===null||r===void 0)&&r.oneOf)return n.items.oneOf.map(o=>t.resolveRef(o));const i=t.step(e,n,{},"#");return ms(i)?i:[i]}const rYe={array:(t,e,n,r)=>t.typeKeywords.array.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r))};function iYe(t,e){const n=kn(t);return n==="number"&&(e==="integer"||Array.isArray(e)&&e.includes("integer"))?Number.isInteger(t)||isNaN(t)?"integer":"number":n}function Tce(t,e,n=t.rootSchema,r="#"){if(n=t.resolveRef(n),kn(n)==="boolean")return n?[]:[t.errors.invalidDataError({value:e,pointer:r})];if(ms(n))return[n];if(n.const!==void 0)return Kre(n.const,e)?[]:[t.errors.constError({value:e,expected:n.const,pointer:r})];const i=iYe(e,n.type),o=n.type||i;return i!==o&&(!Array.isArray(o)||!o.includes(i))?[t.errors.typeError({received:i,expected:o,value:e,pointer:r})]:t.validateType[i]==null?[t.errors.invalidTypeError({receivedType:i,pointer:r})]:T4(t.validateType[i](t,n,e,r)).filter(Tk)}const oYe={typeKeywords:{array:["allOf","anyOf","enum","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["enum","not","allOf","anyOf","oneOf"],object:["additionalProperties","dependencies","enum","format","minProperties","maxProperties","patternProperties","properties","required","not","oneOf","allOf","anyOf"],string:["allOf","anyOf","enum","format","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","format","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:Sce,validateType:rYe,validateFormat:bce,errors:Un,addRemoteSchema:ice,compileSchema:zqe,createSchemaOf:Sa,each:mce,eachSchema:N_,getChildSchemaSelection:Cce,getSchema:vce,getTemplate:_ce,isValid:wce,resolveAllOf:Kle,resolveAnyOf:tce,resolveOneOf:Mle,resolveRef:Zle,step:xce,validate:Tce,templateDefaultOptions:Ub.templateDefaultOptions};class Ace extends rce{constructor(e,n={}){super(QL(oYe,n),e)}}const GU="__compiled",qU="__ref",aYe="getRef",sYe="getRoot",lYe=/(#|\/)+$/g;function cYe(t,e,n=e,r=!1){if(e===!0||e===!1||e===void 0||e[GU]!==void 0)return e;const i={ids:{},remotes:t.remotes},o=JSON.stringify(e),a=JSON.parse(o);if(Object.defineProperty(a,GU,{enumerable:!1,value:!0}),Object.defineProperty(a,aYe,{enumerable:!1,value:Zu.bind(null,i,a)}),r===!1&&o.includes("$ref")===!1)return a;a!==n&&Object.defineProperty(a,"$defs",{enumerable:!0,value:Object.assign({},n.definitions,n.$defs,a.definitions,a.$defs)});const s={},l=()=>a;return N_(a,(c,u)=>{var f;if(c.$id){if(c.$id.startsWith("http")&&/(allOf|anyOf|oneOf)\/\d+$/.test(u)){const k=u.replace(/\/(allOf|anyOf|oneOf)\/\d+$/,""),b=Qp.get(a,k);c.$id=(f=b.$id)!==null&&f!==void 0?f:c.$id}i.ids[c.$id.replace(lYe,"")]=u}u=`#${u}`.replace(/##+/,"#");const d=u.replace(/\/[^/]+$/,""),h=u.replace(/\/[^/]+\/[^/]+$/,""),m=s[d]||s[h],v=$k(m,c.$id);s[u]=v,i.ids[v]==null&&(i.ids[v]=u),c.$ref&&!c[qU]&&(Object.defineProperty(c,qU,{enumerable:!1,value:$k(v,c.$ref)}),Object.defineProperty(c,sYe,{enumerable:!1,value:l}))}),a}const uYe={...Sce,contains:(t,e,n,r)=>{if(e.contains===!1)return t.errors.containsArrayError({pointer:r,value:n});if(e.contains===!0)return Array.isArray(n)&&n.length===0?t.errors.containsAnyError({pointer:r}):void 0;if(kn(e.contains)==="object"){for(let i=0;i<n.length;i+=1)if(t.isValid(n[i],e.contains))return;return t.errors.containsError({pointer:r,schema:JSON.stringify(e.contains)})}},exclusiveMaximum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMaximum)&&e.exclusiveMaximum<=n)return t.errors.maximumError({maximum:e.exclusiveMaximum,length:n,pointer:r})},exclusiveMinimum:(t,e,n,r)=>{if(!isNaN(e.exclusiveMinimum)&&e.exclusiveMinimum>=n)return t.errors.minimumError({minimum:e.exclusiveMinimum,length:n,pointer:r})},if:KGe,maximum:(t,e,n,r)=>{if(!isNaN(e.maximum)&&e.maximum&&e.maximum<n)return t.errors.maximumError({maximum:e.maximum,length:n,pointer:r})},minimum:(t,e,n,r)=>{if(!isNaN(e.minimum)&&e.minimum>n)return t.errors.minimumError({minimum:e.minimum,length:n,pointer:r})},patternProperties:(t,e,n,r)=>{const i=e.properties||{},o=e.patternProperties;if(kn(o)!=="object")return;const a=[],s=Object.keys(n),l=Object.keys(o).map(c=>({regex:new RegExp(c),patternSchema:o[c]}));return s.forEach(c=>{let u=!1;for(let f=0,d=l.length;f<d;f+=1)if(l[f].regex.test(c)){if(u=!0,l[f].patternSchema===!1){a.push(t.errors.patternPropertiesError({key:c,pointer:r,patterns:Object.keys(o).join(",")}));return}const h=t.validate(n[c],l[f].patternSchema,`${r}/${c}`);h&&h.length>0&&a.push(...h)}i[c]||u===!1&&e.additionalProperties===!1&&a.push(t.errors.patternPropertiesError({key:c,pointer:r,patterns:Object.keys(o).join(",")}))}),a},propertyNames:(t,e,n,r)=>{if(e.propertyNames===!1)return Object.keys(n).length===0?void 0:t.errors.invalidPropertyNameError({property:Object.keys(n),pointer:r,value:n});if(e.propertyNames===!0||kn(e.propertyNames)!=="object")return;const i=[],o=Object.keys(n),a={...e.propertyNames,type:"string"};return o.forEach(s=>{const l=t.validate(s,a,`${r}/${s}`);l.length>0&&i.push(t.errors.invalidPropertyNameError({property:s,pointer:r,validationError:l[0],value:n[s]}))}),i}},fYe={array:(t,e,n,r)=>t.typeKeywords.array.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),object:(t,e,n,r)=>t.typeKeywords.object.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),string:(t,e,n,r)=>t.typeKeywords.string.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),integer:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),number:(t,e,n,r)=>t.typeKeywords.number.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),boolean:(t,e,n,r)=>t.typeKeywords.boolean.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r)),null:(t,e,n,r)=>t.typeKeywords.null.filter(i=>e&&e[i]!=null).map(i=>t.validateKeyword[i](t,e,n,r))},Ice={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependencies","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:uYe,validateType:fYe,validateFormat:bce,errors:Un,addRemoteSchema:ice,compileSchema:cYe,createSchemaOf:Sa,each:mce,eachSchema:N_,getChildSchemaSelection:Cce,getSchema:vce,getTemplate:_ce,isValid:wce,resolveAllOf:Kle,resolveAnyOf:tce,resolveOneOf:Mle,resolveRef:Zle,step:xce,validate:Tce,templateDefaultOptions:Ub.templateDefaultOptions};class dYe extends rce{constructor(e,n={}){super(QL(Ice,n),e)}}({...Ice});function Pce(t,e){const n=[];for(let r=e;r!=null&&r.parent;r=r.parent)switch(r.parent.name){case Ir.PROPERTY:{const i=r.parent.getChild(Ir.PROPERTY_NAME);i&&n.unshift(Nv(t,i).replace(/[/~]/g,o=>o==="~"?"~0":"~1"));break}case Ir.ARRAY:{if(VUe(r)){const i=Nle(r.parent,r);n.unshift(`${i}`)}break}}return n.unshift(""),n.join("/")}const Ece=(t,e,n=-1)=>Pce(t.doc,Bi(t).resolve(e,n)),hYe=(t,e="json4")=>{const n=Bi(t),r=new Map;return n.iterate({enter:i=>{var o,a,s,l,c,u,f,d;if(i.name==="PropertyName"){const h=Pce(t.doc,i.node),{from:m,to:v}=i.node;if(!(!((a=(o=i.node)===null||o===void 0?void 0:o.nextSibling)===null||a===void 0)&&a.node))return r.set(h,{keyFrom:m,keyTo:v}),!0;const k=e==="json4"?(l=(s=i.node)===null||s===void 0?void 0:s.nextSibling)===null||l===void 0?void 0:l.node:(d=(f=(u=(c=i.node)===null||c===void 0?void 0:c.nextSibling)===null||u===void 0?void 0:u.node)===null||f===void 0?void 0:f.nextSibling)===null||d===void 0?void 0:d.node;if(!k)return r.set(h,{keyFrom:m,keyTo:v}),!0;const{from:b,to:_}=k;return r.set(h,{keyFrom:m,keyTo:v,valueFrom:b,valueTo:_}),!0}}}),r},YU={array:(t,e,n,r,i)=>{const o=r==null?void 0:r[e],a=kn(n.items);if(a==="object")return Ak(t,n.items,o)||t.resolveRef(n.items);if(a==="array"){if(n.items[e]===!0)return Sa(o);if(n.items[e]===!1)return Un.invalidDataError({key:e,value:o,pointer:i});if(n.items[e])return t.resolveRef(n.items[e]);if(n.additionalItems===!1)return Un.additionalItemsError({key:e,value:o,pointer:i});if(n.additionalItems===!0||n.additionalItems===void 0)return Sa(o);if(kn(n.additionalItems)==="object")return n.additionalItems;throw new Error(`Invalid schema ${JSON.stringify(n,null,4)} for ${JSON.stringify(r,null,4)}`)}return n.additionalItems!==!1&&o?Sa(o):new Error(`Invalid array schema for ${e} at ${i}`)},object:(t,e,n,r,i)=>{var o;n=Ak(t,n,r);const a=(o=n==null?void 0:n.properties)===null||o===void 0?void 0:o[e];if(a!==void 0){if(a===!1)return Un.forbiddenPropertyError({property:e,value:r,pointer:`${i}`});if(a===!0)return Sa(r==null?void 0:r[e]);const c=t.resolveRef(a);if(ms(c))return c;if(c&&Array.isArray(c.oneOf))return r===void 0||r[e]===void 0?c:t.resolveOneOf(r[e],c,`${i}/${e}`);if(c)return c}const{patternProperties:s}=n;if(kn(s)==="object"){let c;const u=Object.keys(s);for(let f=0,d=u.length;f<d;f+=1)if(c=new RegExp(u[f]),c.test(e))return s[u[f]]}const{additionalProperties:l}=n;return kn(l)==="object"?n.additionalProperties:r&&(l===void 0||l===!0)?Sa(r[e]):Un.unknownPropertyError({property:e,value:r,pointer:`${i}`})}};function pYe(t,e,n,r,i="#"){if(Array.isArray(n.type)){const s=kn(r);return n.type.includes(s)?YU[s](t,`${e}`,n,r,i):t.errors.typeError({value:r,pointer:i,expected:n.type,received:s})}const o=n.type||kn(r),a=YU[o];return a?a(t,`${e}`,n,r,i):new Error(`Unsupported schema type ${n.type} for key ${e}`)}const mYe={};function Ok(t,e,n,r=t.rootSchema){const i=kb.split(e);return r=t.resolveRef(r),$ce(t,r,i,e,n)}function $ce(t,e,n,r,i=mYe){if(n.length===0)return t.resolveRef(e);const o=n.shift();return e=pYe(t,o,e,i,r),ms(e)?e:(i=i[o],$ce(t,e,n,`${r}/${o}`,i))}function gYe(t,e){return t.startsWith('"')?`"${e}"`:t.startsWith("'")?`'${e}'`:e}class bYe{constructor(){this.completions=new Map,this.reservedKeys=new Set}reserve(e){this.reservedKeys.add(e)}add(e){this.reservedKeys.has(e.label)||this.completions.set(e.label,e)}}class vYe{constructor(e,n){this.schema=e,this.opts=n}doComplete(e){var n,r;const i={from:e.pos,to:e.pos,options:[],filter:!1},o=e.state.doc.sliceString(0);let a=AU(e.state,e.pos);const s=e.state.sliceDoc(a.from,e.pos).replace(/^("|')/,"");if(!($8(a)||O9(a))&&!e.explicit)return i;const l=Nv(e.state.doc,a),c=Nv(e.state.doc,a,!1);if(a&&($8(a)||O9(a)))i.from=a.from,i.to=a.to;else{const d=e.matchBefore(/[A-Za-z0-9._]*/),h=e.pos-l.length;$9.log("xxx","overwriteStart after",h,"ctx.pos",e.pos,"word",d,"currentWord",l,"=>",o[h-1],"..",o[h],"..",o),i.from=a.name===Ir.INVALID?(n=d==null?void 0:d.from)!==null&&n!==void 0?n:e.pos:h,i.to=e.pos}const u=new bYe;let f=!0;if(O9(a)){const d=a.parent;if(d){const h=IU(d);f=!h||h.name===Ir.INVALID&&h.from-h.to===0,$9.log("xxx","addValue",f,IU(d),a),a=(r=[d,d.parent].find(m=>(m==null?void 0:m.name)===Ir.OBJECT))!==null&&r!==void 0?r:null}}if(a&&(a.name===Ir.OBJECT||a.name===Ir.JSON_TEXT)&&O9(AU(e.state,e.pos))){if(a.from===e.pos)return i;this.getPropertyCompletions(this.schema,e,a,u,f,c)}else{const d={};this.getValueCompletions(this.schema,e,d,u)}return i.options=Array.from(u.completions.values()).filter(d=>$P(d.label).startsWith(s)),$9.log("xxx","result",i,"prefix",s,"collector.completions",u.completions,"reservedKeys",u.reservedKeys),i}applySnippetCompletion(e){return p6e(typeof e.apply!="string"?e.label:e.apply,e)}getPropertyCompletions(e,n,r,i,o,a){r.getChildren(Ir.PROPERTY).forEach(c=>{const u=Nv(n.state.doc,c.getChild(Ir.PROPERTY_NAME));i.reserve($P(u))}),this.getSchemas(e,n).forEach(c=>{if(typeof c!="object")return;const u=c.properties;u&&Object.entries(u).forEach(([d,h])=>{var m,v;if(typeof h=="object"){const k=(m=h.description)!==null&&m!==void 0?m:"",b=(v=h.type)!==null&&v!==void 0?v:"",_=Array.isArray(b)?b.toString():b,x={label:d,apply:this.getInsertTextForProperty(d,o,a,h),type:"property",detail:_,info:k};i.add(this.applySnippetCompletion(x))}});const f=c.propertyNames;if(typeof f=="object"&&(f.enum&&f.enum.forEach(d=>{const h=d==null?void 0:d.toString();if(h){const m={label:h,apply:this.getInsertTextForProperty(h,o,a),type:"property"};i.add(this.applySnippetCompletion(m))}}),f.const)){const d=f.const.toString(),h={label:d,apply:this.getInsertTextForProperty(d,o,a),type:"property"};i.add(this.applySnippetCompletion(h))}})}getInsertTextForProperty(e,n,r,i){var o;i=i&&this.expandSchemaProperty(i,this.schema);const a=((o=this.opts)===null||o===void 0?void 0:o.mode)==="json5";let s=a?gYe(r,e):`"${e}"`;if(!n)return s;s+=": ";let l,c=0;if(typeof i=="object"){if(typeof i.default<"u")l||(l=this.getInsertTextForGuessedValue(i.default,"")),c++;else if(i.enum&&(!l&&i.enum.length===1&&(l=this.getInsertTextForGuessedValue(i.enum[0],"")),c+=i.enum.length),typeof i.const<"u"&&(l||(l=this.getInsertTextForGuessedValue(i.const,"")),c++),Array.isArray(i.examples)&&i.examples.length&&(l||(l=this.getInsertTextForGuessedValue(i.examples[0],"")),c+=i.examples.length),l===void 0&&c===0){let u=Array.isArray(i.type)?i.type[0]:i.type;switch(u||(i.properties?u="object":i.items&&(u="array")),u){case"boolean":l="#{}";break;case"string":l=a?"'#{}'":'"#{}"';break;case"object":l="{#{}}";break;case"array":l="[#{}]";break;case"number":case"integer":l="#{0}";break;case"null":l="#{null}";break;default:l="#{}";break}}}return(!l||c>1)&&(l="#{}"),s+l}getInsertTextForGuessedValue(e,n=""){switch(typeof e){case"object":return e===null?"${null}"+n:this.getInsertTextForValue(e,n);case"string":{let r=JSON.stringify(e);return r=r.substr(1,r.length-2),r=this.getInsertTextForPlainText(r),'"${'+r+'}"'+n}case"number":case"boolean":return"${"+JSON.stringify(e)+"}"+n}return this.getInsertTextForValue(e,n)}getInsertTextForPlainText(e){return e.replace(/[\\$}]/g,"\\$&")}getInsertTextForValue(e,n){const r=JSON.stringify(e,null,"	");return r==="{}"?"{#{}}"+n:r==="[]"?"[#{}]"+n:this.getInsertTextForPlainText(r+n)}getValueCompletions(e,n,r,i){let o=Bi(n.state).resolveInner(n.pos,-1),a=null,s;if(o&&$8(o)&&(a=o,o=o.parent),!o){this.addSchemaValueCompletions(e,r,i);return}if(o.name===Ir.PROPERTY){const l=o.getChild(Ir.PROPERTY_NAME);l&&(s=Nv(n.state.doc,l),o=o.parent)}if(o&&(s!==void 0||o.name===Ir.ARRAY)){const l=this.getSchemas(e,n);for(const c of l){if(typeof c!="object")return;if(o.name===Ir.ARRAY&&c.items){let u=i;if(c.uniqueItems&&(u=Object.assign(Object.assign({},u),{add(f){u.completions.has(f.label)||i.add(f)},reserve(f){i.reserve(f)}})),Array.isArray(c.items)){let f=0;if(a){const h=Nle(o,a);h>=0&&(f=h)}const d=c.items[f];d&&this.addSchemaValueCompletions(d,r,u)}else this.addSchemaValueCompletions(c.items,r,u)}if(s!==void 0){let u=!1;if(c.properties){const f=c.properties[s];f&&(u=!0,this.addSchemaValueCompletions(f,r,i))}if(c.patternProperties&&!u)for(const f of Object.keys(c.patternProperties)){const d=this.extendedRegExp(f);if(d!=null&&d.test(s)){u=!0;const h=c.patternProperties[f];h&&this.addSchemaValueCompletions(h,r,i)}}if(c.additionalProperties&&!u){const f=c.additionalProperties;this.addSchemaValueCompletions(f,r,i)}}r.boolean&&(this.addBooleanValueCompletion(!0,i),this.addBooleanValueCompletion(!1,i)),r.null&&this.addNullValueCompletion(i)}}}addSchemaValueCompletions(e,n,r){typeof e=="object"&&(this.addEnumValueCompletions(e,r),this.addDefaultValueCompletions(e,r),this.collectTypes(e,n),Array.isArray(e.allOf)&&e.allOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)),Array.isArray(e.anyOf)&&e.anyOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)),Array.isArray(e.oneOf)&&e.oneOf.forEach(i=>this.addSchemaValueCompletions(i,n,r)))}addDefaultValueCompletions(e,n,r=0){let i=!1;if(typeof e.default<"u"){let o=e.type,a=e.default;for(let l=r;l>0;l--)a=[a],o="array";const s={type:o==null?void 0:o.toString(),label:this.getLabelForValue(a),detail:"Default value"};n.add(s),i=!0}Array.isArray(e.examples)&&e.examples.forEach(o=>{let a=e.type,s=o;for(let l=r;l>0;l--)s=[s],a="array";n.add({type:a==null?void 0:a.toString(),label:this.getLabelForValue(s)}),i=!0}),!i&&typeof e.items=="object"&&!Array.isArray(e.items)&&r<5&&this.addDefaultValueCompletions(e.items,n,r+1)}addEnumValueCompletions(e,n){var r,i;if(typeof e.const<"u"&&n.add({type:(r=e.type)===null||r===void 0?void 0:r.toString(),label:this.getLabelForValue(e.const),info:e.description}),Array.isArray(e.enum))for(let o=0,a=e.enum.length;o<a;o++){const s=e.enum[o];n.add({type:(i=e.type)===null||i===void 0?void 0:i.toString(),label:this.getLabelForValue(s),info:e.description})}}addBooleanValueCompletion(e,n){n.add({type:"boolean",label:e?"true":"false"})}addNullValueCompletion(e){e.add({type:"null",label:"null"})}collectTypes(e,n){if(Array.isArray(e.enum)||typeof e.const<"u")return;const r=e.type;Array.isArray(r)?r.forEach(i=>n[i]=!0):r&&(n[r]=!0)}getSchemas(e,n){const r=new dYe(this.schema);let i=Ece(n.state,n.pos),o=Ok(r,i);return(!o||o.name==="UnknownPropertyError"||o.enum||o.type==="undefined")&&(i=i.replace(/\/[^/]*$/,"/"),o=Ok(r,i)),$9.log("xxx","pointer..",JSON.stringify(i)),!i||i==="/"?[e]:this.isJsonError(o)?[]:Array.isArray(o.allOf)?[o,...o.allOf.map(a=>this.expandSchemaProperty(a,e))]:Array.isArray(o.oneOf)?[o,...o.oneOf.map(a=>this.expandSchemaProperty(a,e))]:Array.isArray(o.anyOf)?[o,...o.anyOf.map(a=>this.expandSchemaProperty(a,e))]:[o]}isJsonError(e){return e.type==="error"}expandSchemaProperty(e,n){if(typeof e=="object"&&e.$ref){const r=this.getReferenceSchema(n,e.$ref);if(typeof r=="object"){const i=Object.assign(Object.assign({},e),r);return Reflect.deleteProperty(i,"$ref"),i}}return e}getReferenceSchema(e,n){const r=n.split("/");let i=e;return r.forEach(o=>{if(o){if(o==="#"){i=e;return}typeof i=="object"&&(i=i[o])}}),i}getLabelForValue(e){return JSON.stringify(e)}getValueFromLabel(e){return JSON.parse(e)}extendedRegExp(e){let n="";e.startsWith("(?i)")&&(e=e.substring(4),n="i");try{return new RegExp(e,n+"u")}catch{try{return new RegExp(e,n)}catch{return}}}}function yYe(t,e={}){const n=new vYe(t,e);return function(i){return n.doComplete(i)}}const Dk=(t,e)=>{const n=t.length>2;let r=t.map((i,o)=>{const a="`"+(e?JSON.stringify(e(i)):i)+"`";return o===t.length-1?"or "+a:a});return n?r.join(", "):r.join(" ")};let kYe=class MP{constructor(e,n,r,i,o,a,s,l,c,u=0,f){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=s,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new MP(e,[],n,r,r,0,[],0,i?new XU(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:o}=this.p,a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let s=this.stack.length-(r-1)*3-(e&262144?6:0),l=s?this.stack[s-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=s?this.stack[s-1]:0,f=this.bufferBase+this.buffer.length-u;if(i<o.minRepeatTerm||e&131072){let d=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,d,f+4,!0)}if(e&262144)this.state=this.stack[s];else{let d=this.stack[s-3];this.state=o.getGoto(d,i,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,s=this.buffer.length;if(s==0&&a.parent&&(s=a.bufferBase-a.parent.bufferBase,a=a.parent),s>0&&a.buffer[s-4]==0&&a.buffer[s-1]>-1){if(n==r)return;if(a.buffer[s-2]>=n){a.buffer[s-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,n,r,i);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4);this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,n,r){let i=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let o=e,{parser:a}=this.p;(r>this.pos||n<=a.maxNode)&&(this.pos=r,a.stateFlag(o,1)||(this.reducePos=r)),this.pushState(o,i),this.shiftContext(n,i),n<=a.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,r){e&65536?this.reduce(e):this.shift(e,n,r)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new MP(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new _Ye(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,a;o<n.length;o+=2)(a=n[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(n[o],a);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let a=n[o+1];i.some((s,l)=>l&1&&s==a)||i.push(n[o],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.score-=200,r.push(a)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:n}=this.p;if(!n.validAction(this.state,e)){let r=e>>19,i=e&65535,o=this.stack.length-r*3;if(o<0||n.getGoto(this.stack[o],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new XU(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class XU{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}var KU;(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth",t[t.MinBigReduction=2e3]="MinBigReduction"})(KU||(KU={}));class _Ye{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Lk{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Lk(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Lk(this.stack,this.pos,this.index)}}function M9(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let o=0;for(;;){let a=t.charCodeAt(r++),s=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,s=!0),o+=l,s)break;o*=46}n?n[i++]=o:n=new e(o)}return n}class D8{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const JU=new D8;class wYe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=JU,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let a=this.ranges[--i];o-=r.from-a.to,r=a}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];o+=a.from-r.to,r=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,s=this.range;for(;s.to<=r;)s=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=JU,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class U0{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;SYe(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}U0.prototype.contextual=U0.prototype.fallback=U0.prototype.extend=!1;U0.prototype.fallback=U0.prototype.extend=!1;function SYe(t,e,n,r,i,o){let a=0,s=1<<r,{dialect:l}=n.p.parser;e:for(;s&t[a];){let c=t[a+1];for(let h=a+3;h<c;h+=2)if((t[h+1]&s)>0){let m=t[h];if(l.allows(m)&&(e.token.value==-1||e.token.value==m||xYe(m,e.token.value,i,o))){e.acceptToken(m);break}}let u=e.next,f=0,d=t[a+2];if(e.next<0&&d>f&&t[c+d*3-3]==65535&&t[c+d*3-3]==65535){a=t[c+d*3-1];continue e}for(;f<d;){let h=f+d>>1,m=c+h+(h<<1),v=t[m],k=t[m+1]||65536;if(u<v)d=h;else if(u>=k)f=h+1;else{a=t[m+2],e.advance();continue e}}break}}function ZU(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function xYe(t,e,n,r){let i=ZU(n,r,e);return i<0||ZU(n,r,t)<i}const Kl=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let UC=null;var QU;(function(t){t[t.Margin=25]="Margin"})(QU||(QU={}));function eG(t,e,n){let r=t.cursor(so.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class CYe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?eG(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?eG(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],a=this.start[n]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof Io){if(a==e){if(a<this.safeFrom)return null;let s=a+o.length;if(s<=this.safeTo){let l=o.prop(Pn.lookAhead);if(!l||s+l<this.fragment.to)return o}}this.index[n]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+o.length}}}class TYe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new D8)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,a=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&a))continue;let u=o[c],f=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||f.start!=e.pos||f.mask!=a||f.context!=s)&&(this.updateCachedToken(f,u,e),f.mask=a,f.context=s),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!u.extend&&(r=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new D8,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new D8,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let s=o.specializers[a](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){s&1?e.extended=s>>1:e.value=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:o}=e,{parser:a}=e.p,{data:s}=a;for(let l=0;l<2;l++)for(let c=a.stateSlot(o,l?2:1);;c+=3){if(s[c]==65535)if(s[c+1]==1)c=Qu(s,c+2);else{i==0&&s[c+1]==2&&(i=this.putAction(Qu(s,c+2),n,r,i));break}s[c]==n&&(i=this.putAction(Qu(s,c+1),n,r,i))}return i}}var tG;(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo",t[t.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",t[t.MaxStackCount=12]="MaxStackCount"})(tG||(tG={}));class AYe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new wYe(n,i),this.tokens=new TYe(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[kYe.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new CYe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let s=e[a];for(;;){if(this.tokens.mainToken=null,s.pos>n)r.push(s);else{if(this.advanceStack(s,r,e))continue;{i||(i=[],o=[]),i.push(s);let l=this.tokens.getMainToken(s);o.push(l.value,l.end)}}break}}if(!r.length){let a=i&&PYe(i);if(a)return this.stackToTree(a);if(this.parser.strict)throw Kl&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((s,l)=>l.score-s.score);r.length>a;)r.pop();r.some(s=>s.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let s=r[a];for(let l=a+1;l<r.length;l++){let c=r[l];if(s.sameState(c)||s.buffer.length>500&&c.buffer.length>500)if((s.score-c.score||s.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:o}=this,a=Kl?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,u=c?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!c||(f.prop(Pn.contextHash)||0)==u))return e.useNode(f,d),Kl&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof Io)||f.children.length==0||f.positions[0]>0)break;let h=f.children[0];if(h instanceof Io&&f.positions[0]==0)f=h;else break}}let s=o.stateSlot(e.state,4);if(s>0)return e.reduce(s),Kl&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(s&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],d=l[c++],h=c==l.length||!r,m=h?e:e.split();if(m.apply(u,f,d),Kl&&console.log(a+this.stackID(m)+` (via ${u&65536?`reduce of ${o.getName(u&65535)}`:"shift"} for ${o.getName(f)} @ ${i}${m==e?"":", split"})`),h)return!0;m.pos>i?n.push(m):r.push(m)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return nG(e,n),!0}}runRecovery(e,n,r){let i=null,o=!1;for(let a=0;a<e.length;a++){let s=e[a],l=n[a<<1],c=n[(a<<1)+1],u=Kl?this.stackID(s)+" -> ":"";if(s.deadEnd&&(o||(o=!0,s.restart(),Kl&&console.log(u+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let f=s.split(),d=u;for(let h=0;f.forceReduce()&&h<10&&(Kl&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));h++)Kl&&(d=this.stackID(f)+" -> ");for(let h of s.recoverByInsert(l))Kl&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>s.pos?(c==s.pos&&(c++,l=0),s.recoverByDelete(l,c),Kl&&console.log(u+this.stackID(s)+` (via recover-delete ${this.parser.getName(l)})`),nG(s,r)):(!i||i.score<s.score)&&(i=s)}return i}stackToTree(e){return e.close(),Io.build({buffer:Lk.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(UC||(UC=new WeakMap)).get(e);return n||UC.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function nG(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class IYe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Fk extends MZ{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let s=0;s<e.repeatNodeCount;s++)n.push("");let r=Object.keys(e.topRules).map(s=>e.topRules[s][1]),i=[];for(let s=0;s<n.length;s++)i.push([]);function o(s,l,c){i[s].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let s of e.nodeProps){let l=s[0];typeof l=="string"&&(l=Pn[l]);for(let c=1;c<s.length;){let u=s[c++];if(u>=0)o(u,l,s[c++]);else{let f=s[c+-u];for(let d=-u;d>0;d--)o(s[c++],l,f);c++}}}this.nodeSet=new S$(n.map((s,l)=>fs.define({name:l>=this.minRepeatTerm?void 0:s,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=LZ;let a=M9(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let s=0;s<this.specializerSpecs.length;s++)this.specialized[s]=this.specializerSpecs[s].term;this.specializers=this.specializerSpecs.map(rG),this.states=M9(e.states,Uint32Array),this.data=M9(e.stateData),this.goto=M9(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(s=>typeof s=="number"?new U0(a,s):s),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new AYe(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let a=i[o++],s=a&1,l=i[o++];if(s&&r)return l;for(let c=o+(a>>1);o<c;o++)if(i[o]==e)return l;if(s)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),a;;o+=3){if((a=r[o])==65535)if(r[o+1]==1)a=r[o=Qu(r,o+2)];else{if(r[o+1]==2)return Qu(r,o+2);break}if(a==n||a==0)return Qu(r,o+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){if(n==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Qu(this.data,r+2);else return!1;if(n==Qu(this.data,r+1))return!0}}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Qu(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((o,a)=>a&1&&o==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Fk.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(s=>s.from==r.external);if(!o)return r;let a=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=rG(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let o of e.split(" ")){let a=n.indexOf(o);a>=0&&(r[a]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let a=this.dialects[n[o]],s;(s=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new IYe(e,r,i)}static deserialize(e){return new Fk(e)}}function Qu(t,e){return t[e]|t[e+1]<<16}function PYe(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function rG(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const EYe=zZ({String:Ge.string,Number:Ge.number,"True False":Ge.bool,PropertyName:Ge.propertyName,Null:Ge.null,",":Ge.separator,"[ ]":Ge.squareBracket,"{ }":Ge.brace}),$Ye=Fk.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[EYe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),OYe=()=>t=>{try{JSON.parse(t.state.doc.toString())}catch(e){if(!(e instanceof SyntaxError))throw e;const n=DYe(e,t.state.doc);return[{from:n,message:e.message,severity:"error",to:n}]}return[]};function DYe(t,e){let n;return(n=t.message.match(/at position (\d+)/))?Math.min(+n[1],e.length):(n=t.message.match(/at line (\d+) column (\d+)/))?Math.min(e.line(+n[1]).from+ +n[2]-1,e.length):0}const Oce=p5.define({name:"json",parser:$Ye.configure({props:[BZ.add({Object:Sj({except:/^\s*\}/}),Array:Sj({except:/^\s*\]/})}),WZ.add({"Object Array":T8e})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Dce(){return new p8e(Oce)}function LYe(t){let e=null;try{e=JSON.parse(t.doc.toString())}catch{}const n=hYe(t,"json4");return{data:e,pointers:n}}const FYe=t=>{var e,n,r;return!((e=t==null?void 0:t.data)===null||e===void 0)&&e.pointer&&((n=t==null?void 0:t.data)===null||n===void 0?void 0:n.pointer)!=="#"?t.data.pointer.slice(1):!((r=t==null?void 0:t.data)===null||r===void 0)&&r.property?`/${t.data.property}`:""};function NYe(t,e){const n=new MYe(t,e);return function(i){return n.doValidation(i)}}class MYe{constructor(e,n){this.rewriteError=r=>{var i,o,a,s,l,c;return r.code==="one-of-error"?`Expected one of ${Dk((i=r==null?void 0:r.data)===null||i===void 0?void 0:i.errors,f=>f.data.expected)}`:r.code==="type-error"?`Expected \`${!((o=r==null?void 0:r.data)===null||o===void 0)&&o.expected&&Array.isArray((a=r==null?void 0:r.data)===null||a===void 0?void 0:a.expected)?Dk((s=r==null?void 0:r.data)===null||s===void 0?void 0:s.expected):(l=r==null?void 0:r.data)===null||l===void 0?void 0:l.expected}\` but received \`${(c=r==null?void 0:r.data)===null||c===void 0?void 0:c.received}\``:r.message.replaceAll("#/","").replaceAll("/",".")},this.options=Object.assign({jsonParser:LYe},n),this.schema=new Ace(e)}get schemaTitle(){var e;return(e=this.schema.getSchema().title)!==null&&e!==void 0?e:"json-schema"}doValidation(e){if(!this.schema)return[];const n=e.state.doc.toString();if(!n||n.trim().length<3)return[];const r=this.options.jsonParser(e.state);let i=[];try{i=this.schema.validate(r.data)}catch{}return i.length?i.reduce((o,a)=>{const s=FYe(a),l=r.pointers.get(s);if(l){const c=a.name==="NoAdditionalPropertiesError";o.push({from:c?l.keyFrom:l.valueFrom,to:c?l.keyTo:l.valueTo,message:this.rewriteError(a),severity:"error",source:this.schemaTitle})}return o},[]):[]}}function vp(t,e,n=[]){const r=document.createElement(t);return Object.entries(e).forEach(([i,o])=>{if(i==="text"){r.innerText=o;return}r.setAttribute(i,o)}),n.forEach(i=>r.appendChild(i)),r}function zYe(t,e){const n=new RYe(t,e);return async function(i,o,a){return n.doHover(i,o,a)}}function GC(t,e,n){return`${e}: ${Dk(t[e].map(r=>{var i;return(i=r.type)!==null&&i!==void 0?i:n.resolveRef(r).type}))}`}class RYe{constructor(e,n){this.opts=n,this.schema=new Ace(e),this.opts=Object.assign({parser:JSON.parse},this.opts)}getDataForCursor(e,n,r){const i=Ece(e.state,n,r);let o;try{o=this.opts.parser(e.state.doc.toString())}catch{}if(!i)return null;let a=Ok(this.schema,i,o);return a.type==="error"&&o!==void 0&&(a=Ok(this.schema,i,void 0),a.type==="error")?{pointer:i}:{schema:a,pointer:i}}formatMessage(e){const{message:n,typeInfo:r}=e;return n?vp("div",{class:"cm6-json-schema-hover"},[vp("div",{class:"cm6-json-schema-hover--description",text:n}),vp("div",{class:"cm6-json-schema-hover--code-wrapper"},[vp("code",{class:"cm6-json-schema-hover--code",text:r})])]):vp("div",{class:"cm6-json-schema-hover"},[vp("div",{class:"cm6-json-schema-hover--code-wrapper"},[vp("code",{class:"cm6-json-schema-hover--code",text:r})])])}getHoverTexts(e,n){let r=null,i=null;const{schema:o}=e;return o.oneOf&&(r=GC(o,"oneOf",n)),o.anyOf&&(r=GC(o,"anyOf",n)),o.allOf&&(r=GC(o,"allOf",n)),o.type&&(r=Array.isArray(o.type)?Dk(o.type):o.type),o.description&&(i=o.description),{message:i,typeInfo:r}}async doHover(e,n,r){var i,o,a,s;const l=n,c=n;try{const u=this.getDataForCursor(e,n,r);if(!(u!=null&&u.schema))return null;const d=((o=(i=this.opts)===null||i===void 0?void 0:i.getHoverTexts)!==null&&o!==void 0?o:this.getHoverTexts)(u,this.schema),m=((s=(a=this.opts)===null||a===void 0?void 0:a.formatHover)!==null&&s!==void 0?s:this.formatMessage)(d);return{pos:l,end:c,arrow:!0,above:!0,create:v=>({dom:m})}}catch{return null}}}function Lce(t){return[Dce(),Kj(OYe()),Kj(NYe(t)),Oce.data.of({autocomplete:yYe(t)}),PZ(zYe(t))]}const jYe="#e5c07b",iG="#e06c75",VYe="#56b6c2",BYe="#ffffff",HYe="#abb2bf",oG="#7d8799",WYe="#61afef",UYe="#98c379",aG="#d19a66",GYe="#c678dd",Fce=o2.define([{tag:Ge.keyword,color:GYe},{tag:[Ge.name,Ge.deleted,Ge.character,Ge.propertyName,Ge.macroName],color:iG},{tag:[Ge.function(Ge.variableName),Ge.labelName],color:WYe},{tag:[Ge.color,Ge.constant(Ge.name),Ge.standard(Ge.name)],color:aG},{tag:[Ge.definition(Ge.name),Ge.separator],color:HYe},{tag:[Ge.typeName,Ge.className,Ge.number,Ge.changed,Ge.annotation,Ge.modifier,Ge.self,Ge.namespace],color:jYe},{tag:[Ge.operator,Ge.operatorKeyword,Ge.url,Ge.escape,Ge.regexp,Ge.link,Ge.special(Ge.string)],color:VYe},{tag:[Ge.meta,Ge.comment],color:oG},{tag:Ge.strong,fontWeight:"bold"},{tag:Ge.emphasis,fontStyle:"italic"},{tag:Ge.strikethrough,textDecoration:"line-through"},{tag:Ge.link,color:oG,textDecoration:"underline"},{tag:Ge.heading,fontWeight:"bold",color:iG},{tag:[Ge.atom,Ge.bool,Ge.special(Ge.variableName)],color:aG},{tag:[Ge.processingInstruction,Ge.string,Ge.inserted],color:UYe},{tag:Ge.invalid,color:BYe}]),qYe=zt({props:{helpText:String}}),YYe={class:"dropdown is-hoverable is-left"},XYe={class:"dropdown-trigger"},KYe={class:"icon is-small is-clickable"},JYe={class:"dropdown-menu"},ZYe={class:"dropdown-content"},QYe={class:"dropdown-item"},eXe=["innerHTML"];function tXe(t,e,n,r,i,o){const a=It("font-awesome-icon");return Ee(),Be("div",YYe,[X("div",XYe,[X("span",KYe,[at(a,{icon:"fas fa-info-circle"})])]),X("div",JYe,[X("div",ZYe,[X("div",QYe,[X("p",{class:"is-size-7 has-text-weight-normal",innerHTML:t.helpText},null,8,eXe)])])])])}const ng=Qr(qYe,[["render",tXe]]),nXe=zt({components:{Codemirror:Um,HelpButton:ng},setup(){const t=Af();return{extensions:[S6({class:"CodeMirror-lint-markers"}),E$(),Wm,W$(),D$(),w$(),pee(),yt.lineWrapping,An.tabSize.of(2),P$(Fce),Lce(t.place.schema)]}},computed:{...Mt(Af)},methods:{onAddTokenClick(){this.placesStore.addToken()}}}),rXe={class:"block"},iXe={class:"field"},oXe={class:"label is-small icon-text"},aXe={class:"control is-small jsn-code"},sXe={key:0,class:"help"},lXe={key:1,class:"help is-danger"};function cXe(t,e,n,r,i,o){const a=It("HelpButton"),s=It("Codemirror");return Ee(),Be("div",rXe,[X("div",iXe,[X("label",oXe,[ji("Place marking "),at(a,{"help-text":`
                            Edit the JSON array to insert or remove data. 
                            <a href='https://www.json.org/json-en.html' target='_blank'
                            >Click here</a> for more information about JSON.
                            `}),X("button",{class:"button is-pulled-right is-small is-ghost",style:{"margin-left":"auto"},onClick:e[0]||(e[0]=(...l)=>t.onAddTokenClick&&t.onAddTokenClick(...l))},"Add token")]),X("div",aXe,[at(s,{modelValue:t.placesStore.markingString,"onUpdate:modelValue":e[1]||(e[1]=l=>t.placesStore.markingString=l),placeholder:"Edit place data.",autofocus:!0,"indent-with-tab":!0,"tab-size":2,style:{height:"400px"},extensions:t.extensions},null,8,["modelValue","extensions"])]),t.placesStore.place.hasError?ct("",!0):(Ee(),Be("p",sXe,Qt(t.placesStore.place.errorMessage)+"   ",1)),t.placesStore.place.hasError&&t.placesStore.place.errorType==="data"?(Ee(),Be("p",lXe,Qt(t.placesStore.place.errorMessage),1)):ct("",!0)])])}const Nce=Qr(nXe,[["render",cXe]]),uXe=zt({computed:{...Mt(ss),...Mt(Af),...Mt(Zn)},methods:{setPlaceType(t){const e=t.target.value;if(this.netStore.placeTypes[this.placesStore.place.id]=e,e==="custom")return;const n=this.configStore.getPlaceTypeById(e),r=JSON.stringify(n==null?void 0:n.schema,null,2),i=JSON.stringify(n==null?void 0:n.marking,null,2);this.placesStore.schemaString=r,this.placesStore.savePlaceSchema(r),this.placesStore.savePlaceMarkingFromEditor(i)}}}),fXe={class:"block"},dXe={class:"field"},hXe=X("label",{class:"label is-small"},"Node type:",-1),pXe={class:"select is-small"},mXe=["selected"],gXe=["value","selected"],bXe={class:"block"},vXe={key:0,class:"notification is-info is-light is-size-7"},yXe=["innerHTML"],kXe=X("hr",null,null,-1);function _Xe(t,e,n,r,i,o){var a;return Ee(),Be(hn,null,[X("div",fXe,[X("div",dXe,[hXe,X("div",pXe,[X("select",{onChange:e[0]||(e[0]=(...s)=>t.setPlaceType&&t.setPlaceType(...s))},[X("option",{value:"custom",selected:t.netStore.placeTypes[t.placesStore.place.id]==="custom"},"Individual",8,mXe),(Ee(!0),Be(hn,null,uo(t.configStore.placeTypes,s=>(Ee(),Be("option",{value:s.id,selected:s.id===t.netStore.placeTypes[t.placesStore.place.id]},Qt(s.schema.title),9,gXe))),256))],32)])])]),X("div",bXe,[t.netStore.placeTypes[t.placesStore.place.id]==="custom"?(Ee(),Be("div",vXe," You can enter an individual schema or marking. ")):(Ee(),Be("div",{key:1,class:"notification is-info is-light is-size-7",innerHTML:(a=t.configStore.getPlaceTypeById(t.netStore.placeTypes[t.placesStore.place.id]))==null?void 0:a.schema.description},null,8,yXe))]),kXe],64)}const wXe=Qr(uXe,[["render",_Xe]]);var Mce={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.jsonSchema=void 0,t.jsonSchema={$schema:"https://meta.json-schema.tools/",$id:"https://meta.json-schema.tools/",title:"JSONSchema",default:{},oneOf:[{$ref:"#/definitions/JSONSchemaObject"},{$ref:"#/definitions/JSONSchemaBoolean"}],definitions:{$id:{title:"$id",type:"string",format:"uri-reference"},$schema:{title:"$schema",type:"string",format:"uri"},$ref:{title:"$ref",type:"string",format:"uri-reference"},$comment:{title:"$comment",type:"string"},title:{title:"title",type:"string"},description:{title:"description",type:"string"},AlwaysTrue:!0,readOnly:{title:"readOnly",type:"boolean",default:!1},examples:{title:"examples",type:"array",items:!0},multipleOf:{title:"multipleOf",type:"number",exclusiveMinimum:0},maximum:{title:"maximum",type:"number"},exclusiveMaximum:{title:"exclusiveMaximum",type:"number"},minimum:{title:"minimum",type:"number"},exclusiveMinimum:{title:"exclusiveMinimum",type:"number"},nonNegativeInteger:{title:"nonNegativeInteger",type:"integer",minimum:0},nonNegativeIntegerDefaultZero:{title:"nonNegativeIntegerDefaultZero",type:"integer",minimum:0,default:0},pattern:{title:"pattern",type:"string",format:"regex"},JSONSchema:{$ref:"#",isCycle:!0},schemaArray:{title:"schemaArray",type:"array",minItems:1,items:{$ref:"#/definitions/JSONSchema",isCycle:!0}},items:{title:"items",anyOf:[{$ref:"#/definitions/JSONSchema",isCycle:!0},{$ref:"#/definitions/schemaArray"}],default:!0},uniqueItems:{title:"uniqueItems",type:"boolean",default:!1},string_doaGddGA:{type:"string",title:"string_doaGddGA"},stringArray:{title:"stringArray",type:"array",items:{$ref:"#/definitions/string_doaGddGA"},uniqueItems:!0,default:[]},definitions:{title:"definitions",type:"object",additionalProperties:{$ref:"#/definitions/JSONSchema",isCycle:!0},default:{}},properties:{title:"properties",type:"object",additionalProperties:{$ref:"#/definitions/JSONSchema",isCycle:!0},default:{}},patternProperties:{title:"patternProperties",type:"object",additionalProperties:{$ref:"#/definitions/JSONSchema",isCycle:!0},propertyNames:{title:"propertyNames",format:"regex"},default:{}},dependenciesSet:{title:"dependenciesSet",anyOf:[{$ref:"#/definitions/JSONSchema",isCycle:!0},{$ref:"#/definitions/stringArray"}]},dependencies:{title:"dependencies",type:"object",additionalProperties:{$ref:"#/definitions/dependenciesSet"}},enum:{title:"enum",type:"array",items:!0,minItems:1,uniqueItems:!0},simpleTypes:{title:"simpleTypes",type:"string",enum:["array","boolean","integer","null","number","object","string"]},arrayOfSimpleTypes:{title:"arrayOfSimpleTypes",type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0},type:{title:"type",anyOf:[{$ref:"#/definitions/simpleTypes"},{$ref:"#/definitions/arrayOfSimpleTypes"}]},format:{title:"format",type:"string"},contentMediaType:{title:"contentMediaType",type:"string"},contentEncoding:{title:"contentEncoding",type:"string"},JSONSchemaObject:{title:"JSONSchemaObject",type:"object",properties:{$id:{$ref:"#/definitions/$id"},$schema:{$ref:"#/definitions/$schema"},$ref:{$ref:"#/definitions/$ref"},$comment:{$ref:"#/definitions/$comment"},title:{$ref:"#/definitions/title"},description:{$ref:"#/definitions/description"},default:!0,readOnly:{$ref:"#/definitions/readOnly"},examples:{$ref:"#/definitions/examples"},multipleOf:{$ref:"#/definitions/multipleOf"},maximum:{$ref:"#/definitions/maximum"},exclusiveMaximum:{$ref:"#/definitions/exclusiveMaximum"},minimum:{$ref:"#/definitions/minimum"},exclusiveMinimum:{$ref:"#/definitions/exclusiveMinimum"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefaultZero"},pattern:{$ref:"#/definitions/pattern"},additionalItems:{$ref:"#/definitions/JSONSchema",isCycle:!0},items:{$ref:"#/definitions/items"},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefaultZero"},uniqueItems:{$ref:"#/definitions/uniqueItems"},contains:{$ref:"#/definitions/JSONSchema",isCycle:!0},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefaultZero"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#/definitions/JSONSchema",isCycle:!0},definitions:{$ref:"#/definitions/definitions"},properties:{$ref:"#/definitions/properties"},patternProperties:{$ref:"#/definitions/patternProperties"},dependencies:{$ref:"#/definitions/dependencies"},propertyNames:{$ref:"#/definitions/JSONSchema",isCycle:!0},const:!0,enum:{$ref:"#/definitions/enum"},type:{$ref:"#/definitions/type"},format:{$ref:"#/definitions/format"},contentMediaType:{$ref:"#/definitions/contentMediaType"},contentEncoding:{$ref:"#/definitions/contentEncoding"},if:{$ref:"#/definitions/JSONSchema",isCycle:!0},then:{$ref:"#/definitions/JSONSchema",isCycle:!0},else:{$ref:"#/definitions/JSONSchema",isCycle:!0},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#/definitions/JSONSchema",isCycle:!0}}},JSONSchemaBoolean:{title:"JSONSchemaBoolean",description:"Always valid if true. Never valid if false. Is constant.",type:"boolean"}},isCycle:!0},t.default=t.jsonSchema})(Mce);const SXe=pr(Mce);var xXe=typeof ui=="object"&&ui&&ui.Object===Object&&ui,zce=xXe,CXe=zce,TXe=typeof self=="object"&&self&&self.Object===Object&&self,AXe=CXe||TXe||Function("return this")(),vs=AXe,IXe=vs,PXe=IXe.Symbol,Gb=PXe,sG=Gb,Rce=Object.prototype,EXe=Rce.hasOwnProperty,$Xe=Rce.toString,hv=sG?sG.toStringTag:void 0;function OXe(t){var e=EXe.call(t,hv),n=t[hv];try{t[hv]=void 0;var r=!0}catch{}var i=$Xe.call(t);return r&&(e?t[hv]=n:delete t[hv]),i}var DXe=OXe,LXe=Object.prototype,FXe=LXe.toString;function NXe(t){return FXe.call(t)}var MXe=NXe,lG=Gb,zXe=DXe,RXe=MXe,jXe="[object Null]",VXe="[object Undefined]",cG=lG?lG.toStringTag:void 0;function BXe(t){return t==null?t===void 0?VXe:jXe:cG&&cG in Object(t)?zXe(t):RXe(t)}var wh=BXe;function HXe(t){return t!=null&&typeof t=="object"}var qs=HXe,WXe=wh,UXe=qs,GXe="[object Symbol]";function qXe(t){return typeof t=="symbol"||UXe(t)&&WXe(t)==GXe}var qb=qXe,YXe=qb;function XXe(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!YXe(a):n(a,s)))var s=a,l=o}return l}var KXe=XXe;function JXe(t,e){return t>e}var ZXe=JXe;function QXe(){this.__data__=[],this.size=0}var eKe=QXe;function tKe(t,e){return t===e||t!==t&&e!==e}var F2=tKe,nKe=F2;function rKe(t,e){for(var n=t.length;n--;)if(nKe(t[n][0],e))return n;return-1}var M_=rKe,iKe=M_,oKe=Array.prototype,aKe=oKe.splice;function sKe(t){var e=this.__data__,n=iKe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():aKe.call(e,n,1),--this.size,!0}var lKe=sKe,cKe=M_;function uKe(t){var e=this.__data__,n=cKe(e,t);return n<0?void 0:e[n][1]}var fKe=uKe,dKe=M_;function hKe(t){return dKe(this.__data__,t)>-1}var pKe=hKe,mKe=M_;function gKe(t,e){var n=this.__data__,r=mKe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var bKe=gKe,vKe=eKe,yKe=lKe,kKe=fKe,_Ke=pKe,wKe=bKe;function Yb(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yb.prototype.clear=vKe;Yb.prototype.delete=yKe;Yb.prototype.get=kKe;Yb.prototype.has=_Ke;Yb.prototype.set=wKe;var z_=Yb,SKe=z_;function xKe(){this.__data__=new SKe,this.size=0}var CKe=xKe;function TKe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var AKe=TKe;function IKe(t){return this.__data__.get(t)}var PKe=IKe;function EKe(t){return this.__data__.has(t)}var $Ke=EKe;function OKe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var zl=OKe,DKe=wh,LKe=zl,FKe="[object AsyncFunction]",NKe="[object Function]",MKe="[object GeneratorFunction]",zKe="[object Proxy]";function RKe(t){if(!LKe(t))return!1;var e=DKe(t);return e==NKe||e==MKe||e==FKe||e==zKe}var N2=RKe;const jKe=pr(N2);var VKe=vs,BKe=VKe["__core-js_shared__"],HKe=BKe,qC=HKe,uG=function(){var t=/[^.]+$/.exec(qC&&qC.keys&&qC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function WKe(t){return!!uG&&uG in t}var UKe=WKe,GKe=Function.prototype,qKe=GKe.toString;function YKe(t){if(t!=null){try{return qKe.call(t)}catch{}try{return t+""}catch{}}return""}var jce=YKe,XKe=N2,KKe=UKe,JKe=zl,ZKe=jce,QKe=/[\\^$.*+?()[\]{}|]/g,eJe=/^\[object .+?Constructor\]$/,tJe=Function.prototype,nJe=Object.prototype,rJe=tJe.toString,iJe=nJe.hasOwnProperty,oJe=RegExp("^"+rJe.call(iJe).replace(QKe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function aJe(t){if(!JKe(t)||KKe(t))return!1;var e=XKe(t)?oJe:eJe;return e.test(ZKe(t))}var sJe=aJe;function lJe(t,e){return t==null?void 0:t[e]}var cJe=lJe,uJe=sJe,fJe=cJe;function dJe(t,e){var n=fJe(t,e);return uJe(n)?n:void 0}var rg=dJe,hJe=rg,pJe=vs,mJe=hJe(pJe,"Map"),oF=mJe,gJe=rg,bJe=gJe(Object,"create"),R_=bJe,fG=R_;function vJe(){this.__data__=fG?fG(null):{},this.size=0}var yJe=vJe;function kJe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _Je=kJe,wJe=R_,SJe="__lodash_hash_undefined__",xJe=Object.prototype,CJe=xJe.hasOwnProperty;function TJe(t){var e=this.__data__;if(wJe){var n=e[t];return n===SJe?void 0:n}return CJe.call(e,t)?e[t]:void 0}var AJe=TJe,IJe=R_,PJe=Object.prototype,EJe=PJe.hasOwnProperty;function $Je(t){var e=this.__data__;return IJe?e[t]!==void 0:EJe.call(e,t)}var OJe=$Je,DJe=R_,LJe="__lodash_hash_undefined__";function FJe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=DJe&&e===void 0?LJe:e,this}var NJe=FJe,MJe=yJe,zJe=_Je,RJe=AJe,jJe=OJe,VJe=NJe;function Xb(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xb.prototype.clear=MJe;Xb.prototype.delete=zJe;Xb.prototype.get=RJe;Xb.prototype.has=jJe;Xb.prototype.set=VJe;var BJe=Xb,dG=BJe,HJe=z_,WJe=oF;function UJe(){this.size=0,this.__data__={hash:new dG,map:new(WJe||HJe),string:new dG}}var GJe=UJe;function qJe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var YJe=qJe,XJe=YJe;function KJe(t,e){var n=t.__data__;return XJe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var j_=KJe,JJe=j_;function ZJe(t){var e=JJe(this,t).delete(t);return this.size-=e?1:0,e}var QJe=ZJe,eZe=j_;function tZe(t){return eZe(this,t).get(t)}var nZe=tZe,rZe=j_;function iZe(t){return rZe(this,t).has(t)}var oZe=iZe,aZe=j_;function sZe(t,e){var n=aZe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var lZe=sZe,cZe=GJe,uZe=QJe,fZe=nZe,dZe=oZe,hZe=lZe;function Kb(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Kb.prototype.clear=cZe;Kb.prototype.delete=uZe;Kb.prototype.get=fZe;Kb.prototype.has=dZe;Kb.prototype.set=hZe;var aF=Kb,pZe=z_,mZe=oF,gZe=aF,bZe=200;function vZe(t,e){var n=this.__data__;if(n instanceof pZe){var r=n.__data__;if(!mZe||r.length<bZe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new gZe(r)}return n.set(t,e),this.size=n.size,this}var yZe=vZe,kZe=z_,_Ze=CKe,wZe=AKe,SZe=PKe,xZe=$Ke,CZe=yZe;function Jb(t){var e=this.__data__=new kZe(t);this.size=e.size}Jb.prototype.clear=_Ze;Jb.prototype.delete=wZe;Jb.prototype.get=SZe;Jb.prototype.has=xZe;Jb.prototype.set=CZe;var V_=Jb,TZe="__lodash_hash_undefined__";function AZe(t){return this.__data__.set(t,TZe),this}var IZe=AZe;function PZe(t){return this.__data__.has(t)}var EZe=PZe,$Ze=aF,OZe=IZe,DZe=EZe;function Nk(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new $Ze;++e<n;)this.add(t[e])}Nk.prototype.add=Nk.prototype.push=OZe;Nk.prototype.has=DZe;var LZe=Nk;function FZe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var NZe=FZe;function MZe(t,e){return t.has(e)}var zZe=MZe,RZe=LZe,jZe=NZe,VZe=zZe,BZe=1,HZe=2;function WZe(t,e,n,r,i,o){var a=n&BZe,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,h=n&HZe?new RZe:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var m=t[f],v=e[f];if(r)var k=a?r(v,m,f,e,t,o):r(m,v,f,t,e,o);if(k!==void 0){if(k)continue;d=!1;break}if(h){if(!jZe(e,function(b,_){if(!VZe(h,_)&&(m===b||i(m,b,n,r,o)))return h.push(_)})){d=!1;break}}else if(!(m===v||i(m,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var Vce=WZe,UZe=vs,GZe=UZe.Uint8Array,Bce=GZe;function qZe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var YZe=qZe;function XZe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var KZe=XZe,hG=Gb,pG=Bce,JZe=F2,ZZe=Vce,QZe=YZe,eQe=KZe,tQe=1,nQe=2,rQe="[object Boolean]",iQe="[object Date]",oQe="[object Error]",aQe="[object Map]",sQe="[object Number]",lQe="[object RegExp]",cQe="[object Set]",uQe="[object String]",fQe="[object Symbol]",dQe="[object ArrayBuffer]",hQe="[object DataView]",mG=hG?hG.prototype:void 0,YC=mG?mG.valueOf:void 0;function pQe(t,e,n,r,i,o,a){switch(n){case hQe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case dQe:return!(t.byteLength!=e.byteLength||!o(new pG(t),new pG(e)));case rQe:case iQe:case sQe:return JZe(+t,+e);case oQe:return t.name==e.name&&t.message==e.message;case lQe:case uQe:return t==e+"";case aQe:var s=QZe;case cQe:var l=r&tQe;if(s||(s=eQe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=nQe,a.set(t,e);var u=ZZe(s(t),s(e),r,i,o,a);return a.delete(t),u;case fQe:if(YC)return YC.call(t)==YC.call(e)}return!1}var mQe=pQe;function gQe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var sF=gQe,bQe=Array.isArray,fo=bQe;const vQe=pr(fo);var yQe=sF,kQe=fo;function _Qe(t,e,n){var r=e(t);return kQe(t)?r:yQe(r,n(t))}var Hce=_Qe;function wQe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var Wce=wQe;function SQe(){return[]}var Uce=SQe,xQe=Wce,CQe=Uce,TQe=Object.prototype,AQe=TQe.propertyIsEnumerable,gG=Object.getOwnPropertySymbols,IQe=gG?function(t){return t==null?[]:(t=Object(t),xQe(gG(t),function(e){return AQe.call(t,e)}))}:CQe,lF=IQe;function PQe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var EQe=PQe,$Qe=wh,OQe=qs,DQe="[object Arguments]";function LQe(t){return OQe(t)&&$Qe(t)==DQe}var FQe=LQe,bG=FQe,NQe=qs,Gce=Object.prototype,MQe=Gce.hasOwnProperty,zQe=Gce.propertyIsEnumerable,RQe=bG(function(){return arguments}())?bG:function(t){return NQe(t)&&MQe.call(t,"callee")&&!zQe.call(t,"callee")},M2=RQe,Mk={exports:{}};function jQe(){return!1}var VQe=jQe;Mk.exports;(function(t,e){var n=vs,r=VQe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;t.exports=c})(Mk,Mk.exports);var z2=Mk.exports,BQe=9007199254740991,HQe=/^(?:0|[1-9]\d*)$/;function WQe(t,e){var n=typeof t;return e=e??BQe,!!e&&(n=="number"||n!="symbol"&&HQe.test(t))&&t>-1&&t%1==0&&t<e}var R2=WQe,UQe=9007199254740991;function GQe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=UQe}var cF=GQe,qQe=wh,YQe=cF,XQe=qs,KQe="[object Arguments]",JQe="[object Array]",ZQe="[object Boolean]",QQe="[object Date]",eet="[object Error]",tet="[object Function]",net="[object Map]",ret="[object Number]",iet="[object Object]",oet="[object RegExp]",aet="[object Set]",set="[object String]",cet="[object WeakMap]",uet="[object ArrayBuffer]",fet="[object DataView]",det="[object Float32Array]",het="[object Float64Array]",pet="[object Int8Array]",met="[object Int16Array]",get="[object Int32Array]",bet="[object Uint8Array]",vet="[object Uint8ClampedArray]",yet="[object Uint16Array]",ket="[object Uint32Array]",Ur={};Ur[det]=Ur[het]=Ur[pet]=Ur[met]=Ur[get]=Ur[bet]=Ur[vet]=Ur[yet]=Ur[ket]=!0;Ur[KQe]=Ur[JQe]=Ur[uet]=Ur[ZQe]=Ur[fet]=Ur[QQe]=Ur[eet]=Ur[tet]=Ur[net]=Ur[ret]=Ur[iet]=Ur[oet]=Ur[aet]=Ur[set]=Ur[cet]=!1;function _et(t){return XQe(t)&&YQe(t.length)&&!!Ur[qQe(t)]}var wet=_et;function xet(t){return function(e){return t(e)}}var uF=xet,zk={exports:{}};zk.exports;(function(t,e){var n=zce,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(zk,zk.exports);var fF=zk.exports,Cet=wet,Tet=uF,vG=fF,yG=vG&&vG.isTypedArray,Aet=yG?Tet(yG):Cet,B_=Aet,Iet=EQe,Pet=M2,Eet=fo,$et=z2,Oet=R2,Det=B_,Let=Object.prototype,Fet=Let.hasOwnProperty;function Net(t,e){var n=Eet(t),r=!n&&Pet(t),i=!n&&!r&&$et(t),o=!n&&!r&&!i&&Det(t),a=n||r||i||o,s=a?Iet(t.length,String):[],l=s.length;for(var c in t)(e||Fet.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Oet(c,l)))&&s.push(c);return s}var qce=Net,Met=Object.prototype;function zet(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Met;return t===n}var H_=zet;function Ret(t,e){return function(n){return t(e(n))}}var Yce=Ret,jet=Yce,Vet=jet(Object.keys,Object),Bet=Vet,Het=H_,Wet=Bet,Uet=Object.prototype,Get=Uet.hasOwnProperty;function qet(t){if(!Het(t))return Wet(t);var e=[];for(var n in Object(t))Get.call(t,n)&&n!="constructor"&&e.push(n);return e}var dF=qet,Yet=N2,Xet=cF;function Ket(t){return t!=null&&Xet(t.length)&&!Yet(t)}var Sh=Ket,Jet=qce,Zet=dF,Qet=Sh;function ett(t){return Qet(t)?Jet(t):Zet(t)}var xh=ett;const ttt=pr(xh);var ntt=Hce,rtt=lF,itt=xh;function ott(t){return ntt(t,itt,rtt)}var Xce=ott,kG=Xce,att=1,stt=Object.prototype,ltt=stt.hasOwnProperty;function ctt(t,e,n,r,i,o){var a=n&att,s=kG(t),l=s.length,c=kG(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=s[f];if(!(a?d in e:ltt.call(e,d)))return!1}var h=o.get(t),m=o.get(e);if(h&&m)return h==e&&m==t;var v=!0;o.set(t,e),o.set(e,t);for(var k=a;++f<l;){d=s[f];var b=t[d],_=e[d];if(r)var x=a?r(_,b,d,e,t,o):r(b,_,d,t,e,o);if(!(x===void 0?b===_||i(b,_,n,r,o):x)){v=!1;break}k||(k=d=="constructor")}if(v&&!k){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(v=!1)}return o.delete(t),o.delete(e),v}var utt=ctt,ftt=rg,dtt=vs,htt=ftt(dtt,"DataView"),ptt=htt,mtt=rg,gtt=vs,btt=mtt(gtt,"Promise"),vtt=btt,ytt=rg,ktt=vs,_tt=ytt(ktt,"Set"),wtt=_tt,Stt=rg,xtt=vs,Ctt=Stt(xtt,"WeakMap"),Kce=Ctt,zP=ptt,RP=oF,jP=vtt,VP=wtt,BP=Kce,Jce=wh,Zb=jce,_G="[object Map]",Ttt="[object Object]",wG="[object Promise]",SG="[object Set]",xG="[object WeakMap]",CG="[object DataView]",Att=Zb(zP),Itt=Zb(RP),Ptt=Zb(jP),Ett=Zb(VP),$tt=Zb(BP),wp=Jce;(zP&&wp(new zP(new ArrayBuffer(1)))!=CG||RP&&wp(new RP)!=_G||jP&&wp(jP.resolve())!=wG||VP&&wp(new VP)!=SG||BP&&wp(new BP)!=xG)&&(wp=function(t){var e=Jce(t),n=e==Ttt?t.constructor:void 0,r=n?Zb(n):"";if(r)switch(r){case Att:return CG;case Itt:return _G;case Ptt:return wG;case Ett:return SG;case $tt:return xG}return e});var Qb=wp,XC=V_,Ott=Vce,Dtt=mQe,Ltt=utt,TG=Qb,AG=fo,IG=z2,Ftt=B_,Ntt=1,PG="[object Arguments]",EG="[object Array]",z9="[object Object]",Mtt=Object.prototype,$G=Mtt.hasOwnProperty;function ztt(t,e,n,r,i,o){var a=AG(t),s=AG(e),l=a?EG:TG(t),c=s?EG:TG(e);l=l==PG?z9:l,c=c==PG?z9:c;var u=l==z9,f=c==z9,d=l==c;if(d&&IG(t)){if(!IG(e))return!1;a=!0,u=!1}if(d&&!u)return o||(o=new XC),a||Ftt(t)?Ott(t,e,n,r,i,o):Dtt(t,e,l,n,r,i,o);if(!(n&Ntt)){var h=u&&$G.call(t,"__wrapped__"),m=f&&$G.call(e,"__wrapped__");if(h||m){var v=h?t.value():t,k=m?e.value():e;return o||(o=new XC),i(v,k,n,r,o)}}return d?(o||(o=new XC),Ltt(t,e,n,r,i,o)):!1}var Rtt=ztt,jtt=Rtt,OG=qs;function Zce(t,e,n,r,i){return t===e?!0:t==null||e==null||!OG(t)&&!OG(e)?t!==t&&e!==e:jtt(t,e,n,r,Zce,i)}var hF=Zce,Vtt=V_,Btt=hF,Htt=1,Wtt=2;function Utt(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],c=t[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in t))return!1}else{var f=new Vtt;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?Btt(u,c,Htt|Wtt,r,f):d))return!1}}return!0}var Gtt=Utt,qtt=zl;function Ytt(t){return t===t&&!qtt(t)}var Qce=Ytt,Xtt=Qce,Ktt=xh;function Jtt(t){for(var e=Ktt(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xtt(i)]}return e}var Ztt=Jtt;function Qtt(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var eue=Qtt,ent=Gtt,tnt=Ztt,nnt=eue;function rnt(t){var e=tnt(t);return e.length==1&&e[0][2]?nnt(e[0][0],e[0][1]):function(n){return n===t||ent(n,t,e)}}var int=rnt,ont=fo,ant=qb,snt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,lnt=/^\w*$/;function cnt(t,e){if(ont(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ant(t)?!0:lnt.test(t)||!snt.test(t)||e!=null&&t in Object(e)}var pF=cnt,tue=aF,unt="Expected a function";function mF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(unt);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(mF.Cache||tue),n}mF.Cache=tue;var fnt=mF,dnt=fnt,hnt=500;function pnt(t){var e=dnt(t,function(r){return n.size===hnt&&n.clear(),r}),n=e.cache;return e}var mnt=pnt,gnt=mnt,bnt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vnt=/\\(\\)?/g,ynt=gnt(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bnt,function(n,r,i,o){e.push(i?o.replace(vnt,"$1"):r||n)}),e}),nue=ynt;function knt(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var gF=knt,DG=Gb,_nt=gF,wnt=fo,Snt=qb,xnt=1/0,LG=DG?DG.prototype:void 0,FG=LG?LG.toString:void 0;function rue(t){if(typeof t=="string")return t;if(wnt(t))return _nt(t,rue)+"";if(Snt(t))return FG?FG.call(t):"";var e=t+"";return e=="0"&&1/t==-xnt?"-0":e}var Cnt=rue,Tnt=Cnt;function Ant(t){return t==null?"":Tnt(t)}var j2=Ant,Int=fo,Pnt=pF,Ent=nue,$nt=j2;function Ont(t,e){return Int(t)?t:Pnt(t,e)?[t]:Ent($nt(t))}var bF=Ont,Dnt=qb,Lnt=1/0;function Fnt(t){if(typeof t=="string"||Dnt(t))return t;var e=t+"";return e=="0"&&1/t==-Lnt?"-0":e}var e1=Fnt,Nnt=bF,Mnt=e1;function znt(t,e){e=Nnt(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Mnt(e[n++])];return n&&n==r?t:void 0}var iue=znt,Rnt=iue;function jnt(t,e,n){var r=t==null?void 0:Rnt(t,e);return r===void 0?n:r}var oue=jnt;const ra=pr(oue);function Vnt(t,e){return t!=null&&e in Object(t)}var Bnt=Vnt,Hnt=bF,Wnt=M2,Unt=fo,Gnt=R2,qnt=cF,Ynt=e1;function Xnt(t,e,n){e=Hnt(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Ynt(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&qnt(i)&&Gnt(a,i)&&(Unt(t)||Wnt(t)))}var aue=Xnt,Knt=Bnt,Jnt=aue;function Znt(t,e){return t!=null&&Jnt(t,e,Knt)}var Qnt=Znt,ert=hF,trt=oue,nrt=Qnt,rrt=pF,irt=Qce,ort=eue,art=e1,srt=1,lrt=2;function crt(t,e){return rrt(t)&&irt(e)?ort(art(t),e):function(n){var r=trt(n,t);return r===void 0&&r===e?nrt(n,t):ert(e,r,srt|lrt)}}var urt=crt;function frt(t){return t}var W_=frt;function drt(t){return function(e){return e==null?void 0:e[t]}}var hrt=drt,prt=iue;function mrt(t){return function(e){return prt(e,t)}}var grt=mrt,brt=hrt,vrt=grt,yrt=pF,krt=e1;function _rt(t){return yrt(t)?brt(krt(t)):vrt(t)}var wrt=_rt,Srt=int,xrt=urt,Crt=W_,Trt=fo,Art=wrt;function Irt(t){return typeof t=="function"?t:t==null?Crt:typeof t=="object"?Trt(t)?xrt(t[0],t[1]):Srt(t):Art(t)}var V2=Irt,Prt=KXe,Ert=ZXe,$rt=V2;function Ort(t,e){return t&&t.length?Prt(t,$rt(e),Ert):void 0}var Drt=Ort;const vF=pr(Drt);var Lrt=dF,Frt=Qb,Nrt=M2,Mrt=fo,zrt=Sh,Rrt=z2,jrt=H_,Vrt=B_,Brt="[object Map]",Hrt="[object Set]",Wrt=Object.prototype,Urt=Wrt.hasOwnProperty;function Grt(t){if(t==null)return!0;if(zrt(t)&&(Mrt(t)||typeof t=="string"||typeof t.splice=="function"||Rrt(t)||Vrt(t)||Nrt(t)))return!t.length;var e=Frt(t);if(e==Brt||e==Hrt)return!t.size;if(jrt(t))return!Lrt(t).length;for(var n in t)if(Urt.call(t,n))return!1;return!0}var qrt=Grt;const or=pr(qrt);function Yrt(t,e,n,r){var i=-1,o=t==null?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}var Xrt=Yrt;function Krt(t){return function(e){return t==null?void 0:t[e]}}var Jrt=Krt,Zrt=Jrt,Qrt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},eit=Zrt(Qrt),tit=eit,nit=tit,rit=j2,iit=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oit="\\u0300-\\u036f",ait="\\ufe20-\\ufe2f",sit="\\u20d0-\\u20ff",lit=oit+ait+sit,cit="["+lit+"]",uit=RegExp(cit,"g");function fit(t){return t=rit(t),t&&t.replace(iit,nit).replace(uit,"")}var dit=fit,hit=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function pit(t){return t.match(hit)||[]}var mit=pit,git=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function bit(t){return git.test(t)}var vit=bit,sue="\\ud800-\\udfff",yit="\\u0300-\\u036f",kit="\\ufe20-\\ufe2f",_it="\\u20d0-\\u20ff",wit=yit+kit+_it,lue="\\u2700-\\u27bf",cue="a-z\\xdf-\\xf6\\xf8-\\xff",Sit="\\xac\\xb1\\xd7\\xf7",xit="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Cit="\\u2000-\\u206f",Tit=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",uue="A-Z\\xc0-\\xd6\\xd8-\\xde",Ait="\\ufe0e\\ufe0f",fue=Sit+xit+Cit+Tit,due="['’]",NG="["+fue+"]",Iit="["+wit+"]",hue="\\d+",Pit="["+lue+"]",pue="["+cue+"]",mue="[^"+sue+fue+hue+lue+cue+uue+"]",Eit="\\ud83c[\\udffb-\\udfff]",$it="(?:"+Iit+"|"+Eit+")",Oit="[^"+sue+"]",gue="(?:\\ud83c[\\udde6-\\uddff]){2}",bue="[\\ud800-\\udbff][\\udc00-\\udfff]",t0="["+uue+"]",Dit="\\u200d",MG="(?:"+pue+"|"+mue+")",Lit="(?:"+t0+"|"+mue+")",zG="(?:"+due+"(?:d|ll|m|re|s|t|ve))?",RG="(?:"+due+"(?:D|LL|M|RE|S|T|VE))?",vue=$it+"?",yue="["+Ait+"]?",Fit="(?:"+Dit+"(?:"+[Oit,gue,bue].join("|")+")"+yue+vue+")*",Nit="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mit="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zit=yue+vue+Fit,Rit="(?:"+[Pit,gue,bue].join("|")+")"+zit,jit=RegExp([t0+"?"+pue+"+"+zG+"(?="+[NG,t0,"$"].join("|")+")",Lit+"+"+RG+"(?="+[NG,t0+MG,"$"].join("|")+")",t0+"?"+MG+"+"+zG,t0+"+"+RG,Mit,Nit,hue,Rit].join("|"),"g");function Vit(t){return t.match(jit)||[]}var Bit=Vit,Hit=mit,Wit=vit,Uit=j2,Git=Bit;function qit(t,e,n){return t=Uit(t),e=n?void 0:e,e===void 0?Wit(t)?Git(t):Hit(t):t.match(e)||[]}var Yit=qit,Xit=Xrt,Kit=dit,Jit=Yit,Zit="['’]",Qit=RegExp(Zit,"g");function eot(t){return function(e){return Xit(Jit(Kit(e).replace(Qit,"")),t,"")}}var tot=eot;function not(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var rot=not,iot=rot;function oot(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:iot(t,e,n)}var aot=oot,sot="\\ud800-\\udfff",lot="\\u0300-\\u036f",cot="\\ufe20-\\ufe2f",uot="\\u20d0-\\u20ff",fot=lot+cot+uot,dot="\\ufe0e\\ufe0f",hot="\\u200d",pot=RegExp("["+hot+sot+fot+dot+"]");function mot(t){return pot.test(t)}var kue=mot;function got(t){return t.split("")}var bot=got,_ue="\\ud800-\\udfff",vot="\\u0300-\\u036f",yot="\\ufe20-\\ufe2f",kot="\\u20d0-\\u20ff",_ot=vot+yot+kot,wot="\\ufe0e\\ufe0f",Sot="["+_ue+"]",HP="["+_ot+"]",WP="\\ud83c[\\udffb-\\udfff]",xot="(?:"+HP+"|"+WP+")",wue="[^"+_ue+"]",Sue="(?:\\ud83c[\\udde6-\\uddff]){2}",xue="[\\ud800-\\udbff][\\udc00-\\udfff]",Cot="\\u200d",Cue=xot+"?",Tue="["+wot+"]?",Tot="(?:"+Cot+"(?:"+[wue,Sue,xue].join("|")+")"+Tue+Cue+")*",Aot=Tue+Cue+Tot,Iot="(?:"+[wue+HP+"?",HP,Sue,xue,Sot].join("|")+")",Pot=RegExp(WP+"(?="+WP+")|"+Iot+Aot,"g");function Eot(t){return t.match(Pot)||[]}var $ot=Eot,Oot=bot,Dot=kue,Lot=$ot;function Fot(t){return Dot(t)?Lot(t):Oot(t)}var Not=Fot,Mot=aot,zot=kue,Rot=Not,jot=j2;function Vot(t){return function(e){e=jot(e);var n=zot(e)?Rot(e):void 0,r=n?n[0]:e.charAt(0),i=n?Mot(n,1).join(""):e.slice(1);return r[t]()+i}}var Bot=Vot,Hot=Bot,Wot=Hot("toUpperCase"),Uot=Wot,Got=tot,qot=Uot,Yot=Got(function(t,e,n){return t+(n?" ":"")+qot(e)}),Xot=Yot;const Aue=pr(Xot);var Kot=rg,Jot=function(){try{var t=Kot(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Iue=Jot,jG=Iue;function Zot(t,e,n){e=="__proto__"&&jG?jG(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var yF=Zot,Qot=yF,eat=F2;function tat(t,e,n){(n!==void 0&&!eat(t[e],n)||n===void 0&&!(e in t))&&Qot(t,e,n)}var Pue=tat;function nat(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var rat=nat,iat=rat,oat=iat(),Eue=oat,Rk={exports:{}};Rk.exports;(function(t,e){var n=vs,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,d=s?s(f):new c.constructor(f);return c.copy(d),d}t.exports=l})(Rk,Rk.exports);var $ue=Rk.exports,VG=Bce;function aat(t){var e=new t.constructor(t.byteLength);return new VG(e).set(new VG(t)),e}var kF=aat,sat=kF;function lat(t,e){var n=e?sat(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Oue=lat;function cat(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var B2=cat,uat=zl,BG=Object.create,fat=function(){function t(){}return function(e){if(!uat(e))return{};if(BG)return BG(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),U_=fat,dat=Yce,hat=dat(Object.getPrototypeOf,Object),_F=hat,pat=U_,mat=_F,gat=H_;function bat(t){return typeof t.constructor=="function"&&!gat(t)?pat(mat(t)):{}}var Due=bat,vat=Sh,yat=qs;function kat(t){return yat(t)&&vat(t)}var _at=kat,wat=wh,Sat=_F,xat=qs,Cat="[object Object]",Tat=Function.prototype,Aat=Object.prototype,Lue=Tat.toString,Iat=Aat.hasOwnProperty,Pat=Lue.call(Object);function Eat(t){if(!xat(t)||wat(t)!=Cat)return!1;var e=Sat(t);if(e===null)return!0;var n=Iat.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Lue.call(n)==Pat}var Fue=Eat;function $at(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Nue=$at,Oat=yF,Dat=F2,Lat=Object.prototype,Fat=Lat.hasOwnProperty;function Nat(t,e,n){var r=t[e];(!(Fat.call(t,e)&&Dat(r,n))||n===void 0&&!(e in t))&&Oat(t,e,n)}var wF=Nat,Mat=wF,zat=yF;function Rat(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=r?r(n[s],t[s],s,n,t):void 0;l===void 0&&(l=t[s]),i?zat(n,s,l):Mat(n,s,l)}return n}var H2=Rat;function jat(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Vat=jat,Bat=zl,Hat=H_,Wat=Vat,Uat=Object.prototype,Gat=Uat.hasOwnProperty;function qat(t){if(!Bat(t))return Wat(t);var e=Hat(t),n=[];for(var r in t)r=="constructor"&&(e||!Gat.call(t,r))||n.push(r);return n}var Yat=qat,Xat=qce,Kat=Yat,Jat=Sh;function Zat(t){return Jat(t)?Xat(t,!0):Kat(t)}var W2=Zat,Qat=H2,est=W2;function tst(t){return Qat(t,est(t))}var nst=tst,HG=Pue,rst=$ue,ist=Oue,ost=B2,ast=Due,WG=M2,UG=fo,sst=_at,lst=z2,cst=N2,ust=zl,fst=Fue,dst=B_,GG=Nue,hst=nst;function pst(t,e,n,r,i,o,a){var s=GG(t,n),l=GG(e,n),c=a.get(l);if(c){HG(t,n,c);return}var u=o?o(s,l,n+"",t,e,a):void 0,f=u===void 0;if(f){var d=UG(l),h=!d&&lst(l),m=!d&&!h&&dst(l);u=l,d||h||m?UG(s)?u=s:sst(s)?u=ost(s):h?(f=!1,u=rst(l,!0)):m?(f=!1,u=ist(l,!0)):u=[]:fst(l)||WG(l)?(u=s,WG(s)?u=hst(s):(!ust(s)||cst(s))&&(u=ast(l))):f=!1}f&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),HG(t,n,u)}var mst=pst,gst=V_,bst=Pue,vst=Eue,yst=mst,kst=zl,_st=W2,wst=Nue;function Mue(t,e,n,r,i){t!==e&&vst(e,function(o,a){if(i||(i=new gst),kst(o))yst(t,e,a,n,Mue,r,i);else{var s=r?r(wst(t,a),o,a+"",t,e,i):void 0;s===void 0&&(s=o),bst(t,a,s)}},_st)}var zue=Mue;function Sst(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var SF=Sst,xst=SF,qG=Math.max;function Cst(t,e,n){return e=qG(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=qG(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),xst(t,this,s)}}var Rue=Cst;function Tst(t){return function(){return t}}var Ast=Tst,Ist=Ast,YG=Iue,Pst=W_,Est=YG?function(t,e){return YG(t,"toString",{configurable:!0,enumerable:!1,value:Ist(e),writable:!0})}:Pst,$st=Est,Ost=800,Dst=16,Lst=Date.now;function Fst(t){var e=0,n=0;return function(){var r=Lst(),i=Dst-(r-n);if(n=r,i>0){if(++e>=Ost)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jue=Fst,Nst=$st,Mst=jue,zst=Mst(Nst),xF=zst,Rst=W_,jst=Rue,Vst=xF;function Bst(t,e){return Vst(jst(t,e,Rst),t+"")}var Hst=Bst,Wst=F2,Ust=Sh,Gst=R2,qst=zl;function Yst(t,e,n){if(!qst(n))return!1;var r=typeof e;return(r=="number"?Ust(n)&&Gst(e,n.length):r=="string"&&e in n)?Wst(n[e],t):!1}var Vue=Yst,Xst=Hst,Kst=Vue;function Jst(t){return Xst(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Kst(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}var Bue=Jst,Zst=zue,Qst=Bue,elt=Qst(function(t,e,n){Zst(t,e,n)}),tlt=elt;const Vd=pr(tlt);function nlt(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var CF=nlt,rlt=H2,ilt=xh;function olt(t,e){return t&&rlt(e,ilt(e),t)}var Hue=olt,alt=H2,slt=W2;function llt(t,e){return t&&alt(e,slt(e),t)}var clt=llt,ult=H2,flt=lF;function dlt(t,e){return ult(t,flt(t),e)}var hlt=dlt,plt=sF,mlt=_F,glt=lF,blt=Uce,vlt=Object.getOwnPropertySymbols,ylt=vlt?function(t){for(var e=[];t;)plt(e,glt(t)),t=mlt(t);return e}:blt,Wue=ylt,klt=H2,_lt=Wue;function wlt(t,e){return klt(t,_lt(t),e)}var Slt=wlt,xlt=Hce,Clt=Wue,Tlt=W2;function Alt(t){return xlt(t,Tlt,Clt)}var Ilt=Alt,Plt=Object.prototype,Elt=Plt.hasOwnProperty;function $lt(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Elt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Olt=$lt,Dlt=kF;function Llt(t,e){var n=e?Dlt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Flt=Llt,Nlt=/\w*$/;function Mlt(t){var e=new t.constructor(t.source,Nlt.exec(t));return e.lastIndex=t.lastIndex,e}var zlt=Mlt,XG=Gb,KG=XG?XG.prototype:void 0,JG=KG?KG.valueOf:void 0;function Rlt(t){return JG?Object(JG.call(t)):{}}var jlt=Rlt,Vlt=kF,Blt=Flt,Hlt=zlt,Wlt=jlt,Ult=Oue,Glt="[object Boolean]",qlt="[object Date]",Ylt="[object Map]",Xlt="[object Number]",Klt="[object RegExp]",Jlt="[object Set]",Zlt="[object String]",Qlt="[object Symbol]",ect="[object ArrayBuffer]",tct="[object DataView]",nct="[object Float32Array]",rct="[object Float64Array]",ict="[object Int8Array]",oct="[object Int16Array]",act="[object Int32Array]",sct="[object Uint8Array]",lct="[object Uint8ClampedArray]",cct="[object Uint16Array]",uct="[object Uint32Array]";function fct(t,e,n){var r=t.constructor;switch(e){case ect:return Vlt(t);case Glt:case qlt:return new r(+t);case tct:return Blt(t,n);case nct:case rct:case ict:case oct:case act:case sct:case lct:case cct:case uct:return Ult(t,n);case Ylt:return new r;case Xlt:case Zlt:return new r(t);case Klt:return Hlt(t);case Jlt:return new r;case Qlt:return Wlt(t)}}var dct=fct,hct=Qb,pct=qs,mct="[object Map]";function gct(t){return pct(t)&&hct(t)==mct}var bct=gct,vct=bct,yct=uF,ZG=fF,QG=ZG&&ZG.isMap,kct=QG?yct(QG):vct,_ct=kct,wct=Qb,Sct=qs,xct="[object Set]";function Cct(t){return Sct(t)&&wct(t)==xct}var Tct=Cct,Act=Tct,Ict=uF,eq=fF,tq=eq&&eq.isSet,Pct=tq?Ict(tq):Act,Ect=Pct,$ct=V_,Oct=CF,Dct=wF,Lct=Hue,Fct=clt,Nct=$ue,Mct=B2,zct=hlt,Rct=Slt,jct=Xce,Vct=Ilt,Bct=Qb,Hct=Olt,Wct=dct,Uct=Due,Gct=fo,qct=z2,Yct=_ct,Xct=zl,Kct=Ect,Jct=xh,Zct=W2,Qct=1,eut=2,tut=4,Uue="[object Arguments]",nut="[object Array]",rut="[object Boolean]",iut="[object Date]",out="[object Error]",Gue="[object Function]",aut="[object GeneratorFunction]",sut="[object Map]",lut="[object Number]",que="[object Object]",cut="[object RegExp]",uut="[object Set]",fut="[object String]",dut="[object Symbol]",hut="[object WeakMap]",put="[object ArrayBuffer]",mut="[object DataView]",gut="[object Float32Array]",but="[object Float64Array]",vut="[object Int8Array]",yut="[object Int16Array]",kut="[object Int32Array]",_ut="[object Uint8Array]",wut="[object Uint8ClampedArray]",Sut="[object Uint16Array]",xut="[object Uint32Array]",Mr={};Mr[Uue]=Mr[nut]=Mr[put]=Mr[mut]=Mr[rut]=Mr[iut]=Mr[gut]=Mr[but]=Mr[vut]=Mr[yut]=Mr[kut]=Mr[sut]=Mr[lut]=Mr[que]=Mr[cut]=Mr[uut]=Mr[fut]=Mr[dut]=Mr[_ut]=Mr[wut]=Mr[Sut]=Mr[xut]=!0;Mr[out]=Mr[Gue]=Mr[hut]=!1;function L8(t,e,n,r,i,o){var a,s=e&Qct,l=e&eut,c=e&tut;if(n&&(a=i?n(t,r,i,o):n(t)),a!==void 0)return a;if(!Xct(t))return t;var u=Gct(t);if(u){if(a=Hct(t),!s)return Mct(t,a)}else{var f=Bct(t),d=f==Gue||f==aut;if(qct(t))return Nct(t,s);if(f==que||f==Uue||d&&!i){if(a=l||d?{}:Uct(t),!s)return l?Rct(t,Fct(a,t)):zct(t,Lct(a,t))}else{if(!Mr[f])return i?t:{};a=Wct(t,f,s)}}o||(o=new $ct);var h=o.get(t);if(h)return h;o.set(t,a),Kct(t)?t.forEach(function(k){a.add(L8(k,e,n,k,t,o))}):Yct(t)&&t.forEach(function(k,b){a.set(b,L8(k,e,n,b,t,o))});var m=c?l?Vct:jct:l?Zct:Jct,v=u?void 0:m(t);return Oct(v||t,function(k,b){v&&(b=k,k=t[b]),Dct(a,b,L8(k,e,n,b,t,o))}),a}var TF=L8,Cut=TF,Tut=1,Aut=4;function Iut(t){return Cut(t,Tut|Aut)}var Put=Iut;const bc=pr(Put);var Yue={};(function(t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var o=n[i];e.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(Yue);var KC,nq;function Xue(){return nq||(nq=1,KC={}),KC}var Xi=Yue,Eut=Xue(),rq=Array.prototype.push;function $ut(t,e){return e==2?function(n,r){return t.apply(void 0,arguments)}:function(n){return t.apply(void 0,arguments)}}function JC(t,e){return e==2?function(n,r){return t(n,r)}:function(n){return t(n)}}function iq(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function Out(t){return function(e){return t({},e)}}function Dut(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[e],a=i.slice(0,e);return o&&rq.apply(a,o),e!=r&&rq.apply(a,i.slice(e+1)),t.apply(this,a)}}function ZC(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}function UP(t,e,n,r){var i=typeof e=="function",o=e===Object(e);if(o&&(r=n,n=e,e=void 0),n==null)throw new TypeError;r||(r={});var a={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},s=i?n:Eut,l="curry"in r&&r.curry,c="fixed"in r&&r.fixed,u="rearg"in r&&r.rearg,f=i?n.runInContext():void 0,d=i?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},h=d.ary,m=d.assign,v=d.clone,k=d.curry,b=d.forEach,_=d.isArray,x=d.isError,C=d.isFunction,S=d.isWeakMap,g=d.keys,T=d.rearg,P=d.toInteger,$=d.toPath,F=g(Xi.aryMethod),D={castArray:function(U){return function(){var ae=arguments[0];return _(ae)?U(iq(ae)):U.apply(void 0,arguments)}},iteratee:function(U){return function(){var ae=arguments[0],te=arguments[1],ue=U(ae,te),ce=ue.length;return a.cap&&typeof te=="number"?(te=te>2?te-2:1,ce&&ce<=te?ue:JC(ue,te)):ue}},mixin:function(U){return function(ae){var te=this;if(!C(te))return U(te,Object(ae));var ue=[];return b(g(ae),function(ce){C(ae[ce])&&ue.push([ce,te.prototype[ce]])}),U(te,Object(ae)),b(ue,function(ce){var fe=ce[1];C(fe)?te.prototype[ce[0]]=fe:delete te.prototype[ce[0]]}),te}},nthArg:function(U){return function(ae){var te=ae<0?1:P(ae)+1;return k(U(ae),te)}},rearg:function(U){return function(ae,te){var ue=te?te.length:0;return k(U(ae,te),ue)}},runInContext:function(U){return function(ae){return UP(t,U(ae),r)}}};function z(U,ae){if(a.cap){var te=Xi.iterateeRearg[U];if(te)return ke(ae,te);var ue=!i&&Xi.iterateeAry[U];if(ue)return Ie(ae,ue)}return ae}function R(U,ae,te){return l||a.curry&&te>1?k(ae,te):ae}function V(U,ae,te){if(a.fixed&&(c||!Xi.skipFixed[U])){var ue=Xi.methodSpread[U],ce=ue&&ue.start;return ce===void 0?h(ae,te):Dut(ae,ce)}return ae}function ie(U,ae,te){return a.rearg&&te>1&&(u||!Xi.skipRearg[U])?T(ae,Xi.methodRearg[U]||Xi.aryRearg[te]):ae}function oe(U,ae){ae=$(ae);for(var te=-1,ue=ae.length,ce=ue-1,fe=v(Object(U)),ve=fe;ve!=null&&++te<ue;){var B=ae[te],Y=ve[B];Y!=null&&!(C(Y)||x(Y)||S(Y))&&(ve[B]=v(te==ce?Y:Object(Y))),ve=ve[B]}return fe}function _e(U){return J.runInContext.convert(U)(void 0)}function Ae(U,ae){var te=Xi.aliasToReal[U]||U,ue=Xi.remap[te]||te,ce=r;return function(fe){var ve=i?f:d,B=i?f[ue]:ae,Y=m(m({},ce),fe);return UP(ve,te,B,Y)}}function Ie(U,ae){return se(U,function(te){return typeof te=="function"?JC(te,ae):te})}function ke(U,ae){return se(U,function(te){var ue=ae.length;return $ut(T(JC(te,ue),ae),ue)})}function se(U,ae){return function(){var te=arguments.length;if(!te)return U();for(var ue=Array(te);te--;)ue[te]=arguments[te];var ce=a.rearg?0:te-1;return ue[ce]=ae(ue[ce]),U.apply(void 0,ue)}}function ne(U,ae,te){var ue,ce=Xi.aliasToReal[U]||U,fe=ae,ve=D[ce];return ve?fe=ve(ae):a.immutable&&(Xi.mutate.array[ce]?fe=ZC(ae,iq):Xi.mutate.object[ce]?fe=ZC(ae,Out(ae)):Xi.mutate.set[ce]&&(fe=ZC(ae,oe))),b(F,function(B){return b(Xi.aryMethod[B],function(Y){if(ce==Y){var E=Xi.methodSpread[ce],M=E&&E.afterRearg;return ue=M?V(ce,ie(ce,fe,B),B):ie(ce,V(ce,fe,B),B),ue=z(ce,ue),ue=R(ce,ue,B),!1}}),!ue}),ue||(ue=fe),ue==ae&&(ue=l?k(ue,1):function(){return ae.apply(this,arguments)}),ue.convert=Ae(ce,ae),ue.placeholder=ae.placeholder=te,ue}if(!o)return ne(e,n,s);var J=n,j=[];return b(F,function(U){b(Xi.aryMethod[U],function(ae){var te=J[Xi.remap[ae]||ae];te&&j.push([ae,ne(ae,te,J)])})}),b(g(J),function(U){var ae=J[U];if(typeof ae=="function"){for(var te=j.length;te--;)if(j[te][0]==U)return;ae.convert=Ae(U,ae),j.push([U,ae])}}),b(j,function(U){J[U[0]]=U[1]}),J.convert=_e,J.placeholder=J,b(g(J),function(U){b(Xi.realToAlias[U]||[],function(ae){J[ae]=J[U]})}),J}var Lut=UP,oq=Kce,Fut=oq&&new oq,Kue=Fut,Nut=W_,aq=Kue,Mut=aq?function(t,e){return aq.set(t,e),t}:Nut,Jue=Mut,zut=U_,Rut=zl;function jut(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=zut(t.prototype),r=t.apply(n,e);return Rut(r)?r:n}}var G_=jut,Vut=G_,But=vs,Hut=1;function Wut(t,e,n){var r=e&Hut,i=Vut(t);function o(){var a=this&&this!==But&&this instanceof o?i:t;return a.apply(r?n:this,arguments)}return o}var Uut=Wut,Gut=Math.max;function qut(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,c=Gut(o-a,0),u=Array(l+c),f=!r;++s<l;)u[s]=e[s];for(;++i<a;)(f||i<o)&&(u[n[i]]=t[i]);for(;c--;)u[s++]=t[i++];return u}var Zue=qut,Yut=Math.max;function Xut(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,c=e.length,u=Yut(o-s,0),f=Array(u+c),d=!r;++i<u;)f[i]=t[i];for(var h=i;++l<c;)f[h+l]=e[l];for(;++a<s;)(d||i<o)&&(f[h+n[a]]=t[i++]);return f}var Que=Xut;function Kut(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var Jut=Kut;function Zut(){}var AF=Zut,Qut=U_,eft=AF,tft=4294967295;function jk(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tft,this.__views__=[]}jk.prototype=Qut(eft.prototype);jk.prototype.constructor=jk;var IF=jk;function nft(){}var rft=nft,sq=Kue,ift=rft,oft=sq?function(t){return sq.get(t)}:ift,efe=oft,aft={},sft=aft,lq=sft,lft=Object.prototype,cft=lft.hasOwnProperty;function uft(t){for(var e=t.name+"",n=lq[e],r=cft.call(lq,e)?n.length:0;r--;){var i=n[r],o=i.func;if(o==null||o==t)return i.name}return e}var fft=uft,dft=U_,hft=AF;function Vk(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Vk.prototype=dft(hft.prototype);Vk.prototype.constructor=Vk;var tfe=Vk,pft=IF,mft=tfe,gft=B2;function bft(t){if(t instanceof pft)return t.clone();var e=new mft(t.__wrapped__,t.__chain__);return e.__actions__=gft(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vft=bft,yft=IF,cq=tfe,kft=AF,_ft=fo,wft=qs,Sft=vft,xft=Object.prototype,Cft=xft.hasOwnProperty;function Bk(t){if(wft(t)&&!_ft(t)&&!(t instanceof yft)){if(t instanceof cq)return t;if(Cft.call(t,"__wrapped__"))return Sft(t)}return new cq(t)}Bk.prototype=kft.prototype;Bk.prototype.constructor=Bk;var Tft=Bk,Aft=IF,Ift=efe,Pft=fft,Eft=Tft;function $ft(t){var e=Pft(t),n=Eft[e];if(typeof n!="function"||!(e in Aft.prototype))return!1;if(t===n)return!0;var r=Ift(n);return!!r&&t===r[0]}var Oft=$ft,Dft=Jue,Lft=jue,Fft=Lft(Dft),nfe=Fft,Nft=/\{\n\/\* \[wrapped with (.+)\] \*/,Mft=/,? & /;function zft(t){var e=t.match(Nft);return e?e[1].split(Mft):[]}var Rft=zft,jft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function Vft(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(jft,`{
/* [wrapped with `+e+`] */
`)}var Bft=Vft;function Hft(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var rfe=Hft;function Wft(t){return t!==t}var Uft=Wft;function Gft(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qft=Gft,Yft=rfe,Xft=Uft,Kft=qft;function Jft(t,e,n){return e===e?Kft(t,e,n):Yft(t,Xft,n)}var ife=Jft,Zft=ife;function Qft(t,e){var n=t==null?0:t.length;return!!n&&Zft(t,e,0)>-1}var edt=Qft,tdt=CF,ndt=edt,rdt=1,idt=2,odt=8,adt=16,sdt=32,ldt=64,cdt=128,udt=256,fdt=512,ddt=[["ary",cdt],["bind",rdt],["bindKey",idt],["curry",odt],["curryRight",adt],["flip",fdt],["partial",sdt],["partialRight",ldt],["rearg",udt]];function hdt(t,e){return tdt(ddt,function(n){var r="_."+n[0];e&n[1]&&!ndt(t,r)&&t.push(r)}),t.sort()}var pdt=hdt,mdt=Rft,gdt=Bft,bdt=xF,vdt=pdt;function ydt(t,e,n){var r=e+"";return bdt(t,gdt(r,vdt(mdt(r),n)))}var ofe=ydt,kdt=Oft,_dt=nfe,wdt=ofe,Sdt=1,xdt=2,Cdt=4,Tdt=8,uq=32,fq=64;function Adt(t,e,n,r,i,o,a,s,l,c){var u=e&Tdt,f=u?a:void 0,d=u?void 0:a,h=u?o:void 0,m=u?void 0:o;e|=u?uq:fq,e&=~(u?fq:uq),e&Cdt||(e&=~(Sdt|xdt));var v=[t,e,i,h,f,m,d,s,l,c],k=n.apply(void 0,v);return kdt(t)&&_dt(k,v),k.placeholder=r,wdt(k,t,e)}var afe=Adt;function Idt(t){var e=t;return e.placeholder}var sfe=Idt,Pdt=B2,Edt=R2,$dt=Math.min;function Odt(t,e){for(var n=t.length,r=$dt(e.length,n),i=Pdt(t);r--;){var o=e[r];t[r]=Edt(o,n)?i[o]:void 0}return t}var Ddt=Odt,dq="__lodash_placeholder__";function Ldt(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];(a===e||a===dq)&&(t[n]=dq,o[i++]=n)}return o}var PF=Ldt,Fdt=Zue,Ndt=Que,Mdt=Jut,hq=G_,zdt=afe,Rdt=sfe,jdt=Ddt,Vdt=PF,Bdt=vs,Hdt=1,Wdt=2,Udt=8,Gdt=16,qdt=128,Ydt=512;function lfe(t,e,n,r,i,o,a,s,l,c){var u=e&qdt,f=e&Hdt,d=e&Wdt,h=e&(Udt|Gdt),m=e&Ydt,v=d?void 0:hq(t);function k(){for(var b=arguments.length,_=Array(b),x=b;x--;)_[x]=arguments[x];if(h)var C=Rdt(k),S=Mdt(_,C);if(r&&(_=Fdt(_,r,i,h)),o&&(_=Ndt(_,o,a,h)),b-=S,h&&b<c){var g=Vdt(_,C);return zdt(t,e,lfe,k.placeholder,n,_,g,s,l,c-b)}var T=f?n:this,P=d?T[t]:t;return b=_.length,s?_=jdt(_,s):m&&b>1&&_.reverse(),u&&l<b&&(_.length=l),this&&this!==Bdt&&this instanceof k&&(P=v||hq(P)),P.apply(T,_)}return k}var cfe=lfe,Xdt=SF,Kdt=G_,Jdt=cfe,Zdt=afe,Qdt=sfe,eht=PF,tht=vs;function nht(t,e,n){var r=Kdt(t);function i(){for(var o=arguments.length,a=Array(o),s=o,l=Qdt(i);s--;)a[s]=arguments[s];var c=o<3&&a[0]!==l&&a[o-1]!==l?[]:eht(a,l);if(o-=c.length,o<n)return Zdt(t,e,Jdt,i.placeholder,void 0,a,c,void 0,void 0,n-o);var u=this&&this!==tht&&this instanceof i?r:t;return Xdt(u,this,a)}return i}var rht=nht,iht=SF,oht=G_,aht=vs,sht=1;function lht(t,e,n,r){var i=e&sht,o=oht(t);function a(){for(var s=-1,l=arguments.length,c=-1,u=r.length,f=Array(u+l),d=this&&this!==aht&&this instanceof a?o:t;++c<u;)f[c]=r[c];for(;l--;)f[c++]=arguments[++s];return iht(d,i?n:this,f)}return a}var cht=lht,uht=Zue,fht=Que,pq=PF,mq="__lodash_placeholder__",QC=1,dht=2,hht=4,gq=8,pv=128,bq=256,pht=Math.min;function mht(t,e){var n=t[1],r=e[1],i=n|r,o=i<(QC|dht|pv),a=r==pv&&n==gq||r==pv&&n==bq&&t[7].length<=e[8]||r==(pv|bq)&&e[7].length<=e[8]&&n==gq;if(!(o||a))return t;r&QC&&(t[2]=e[2],i|=n&QC?0:hht);var s=e[3];if(s){var l=t[3];t[3]=l?uht(l,s,e[4]):s,t[4]=l?pq(t[3],mq):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?fht(l,s,e[6]):s,t[6]=l?pq(t[5],mq):e[6]),s=e[7],s&&(t[7]=s),r&pv&&(t[8]=t[8]==null?e[8]:pht(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var ght=mht,bht=/\s/;function vht(t){for(var e=t.length;e--&&bht.test(t.charAt(e)););return e}var yht=vht,kht=yht,_ht=/^\s+/;function wht(t){return t&&t.slice(0,kht(t)+1).replace(_ht,"")}var Sht=wht,xht=Sht,vq=zl,Cht=qb,yq=0/0,Tht=/^[-+]0x[0-9a-f]+$/i,Aht=/^0b[01]+$/i,Iht=/^0o[0-7]+$/i,Pht=parseInt;function Eht(t){if(typeof t=="number")return t;if(Cht(t))return yq;if(vq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xht(t);var n=Aht.test(t);return n||Iht.test(t)?Pht(t.slice(2),n?2:8):Tht.test(t)?yq:+t}var $ht=Eht,Oht=$ht,kq=1/0,Dht=17976931348623157e292;function Lht(t){if(!t)return t===0?t:0;if(t=Oht(t),t===kq||t===-kq){var e=t<0?-1:1;return e*Dht}return t===t?t:0}var ufe=Lht,Fht=ufe;function Nht(t){var e=Fht(t),n=e%1;return e===e?n?e-n:e:0}var q_=Nht,Mht=Jue,zht=Uut,Rht=rht,jht=cfe,Vht=cht,Bht=efe,Hht=ght,Wht=nfe,Uht=ofe,_q=q_,Ght="Expected a function",wq=1,qht=2,eT=8,tT=16,nT=32,Sq=64,xq=Math.max;function Yht(t,e,n,r,i,o,a,s){var l=e&qht;if(!l&&typeof t!="function")throw new TypeError(Ght);var c=r?r.length:0;if(c||(e&=~(nT|Sq),r=i=void 0),a=a===void 0?a:xq(_q(a),0),s=s===void 0?s:_q(s),c-=i?i.length:0,e&Sq){var u=r,f=i;r=i=void 0}var d=l?void 0:Bht(t),h=[t,e,n,r,i,u,f,o,a,s];if(d&&Hht(h,d),t=h[0],e=h[1],n=h[2],r=h[3],i=h[4],s=h[9]=h[9]===void 0?l?0:t.length:xq(h[9]-c,0),!s&&e&(eT|tT)&&(e&=~(eT|tT)),!e||e==wq)var m=zht(t,e,n);else e==eT||e==tT?m=Rht(t,e,s):(e==nT||e==(wq|nT))&&!i.length?m=Vht(t,e,n,r):m=jht.apply(void 0,h);var v=d?Mht:Wht;return Uht(v(m,h),t,e)}var EF=Yht,Xht=EF,Kht=128;function Jht(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,Xht(t,Kht,void 0,void 0,void 0,void 0,e)}var Zht=Jht,Qht=TF,ept=4;function tpt(t){return Qht(t,ept)}var npt=tpt,rpt=EF,ipt=8;function $F(t,e,n){e=n?void 0:e;var r=rpt(t,ipt,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=$F.placeholder,r}$F.placeholder={};var opt=$F,apt=wh,spt=qs,lpt=Fue,cpt="[object DOMException]",upt="[object Error]";function fpt(t){if(!spt(t))return!1;var e=apt(t);return e==upt||e==cpt||typeof t.message=="string"&&typeof t.name=="string"&&!lpt(t)}var dpt=fpt,hpt=Qb,ppt=qs,mpt="[object WeakMap]";function gpt(t){return ppt(t)&&hpt(t)==mpt}var bpt=gpt,vpt=TF,ypt=V2,kpt=1;function _pt(t){return ypt(typeof t=="function"?t:vpt(t,kpt))}var wpt=_pt,Cq=Gb,Spt=M2,xpt=fo,Tq=Cq?Cq.isConcatSpreadable:void 0;function Cpt(t){return xpt(t)||Spt(t)||!!(Tq&&t&&t[Tq])}var Tpt=Cpt,Apt=sF,Ipt=Tpt;function ffe(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Ipt),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?ffe(s,e-1,n,r,i):Apt(i,s):r||(i[i.length]=s)}return i}var Ppt=ffe,Ept=Ppt;function $pt(t){var e=t==null?0:t.length;return e?Ept(t,1):[]}var Opt=$pt,Dpt=Opt,Lpt=Rue,Fpt=xF;function Npt(t){return Fpt(Lpt(t,void 0,Dpt),t+"")}var Mpt=Npt,zpt=EF,Rpt=Mpt,jpt=256,Vpt=Rpt(function(t,e){return zpt(t,jpt,void 0,void 0,void 0,e)}),Bpt=Vpt,Hpt=gF,Wpt=B2,Upt=fo,Gpt=qb,qpt=nue,Ypt=e1,Xpt=j2;function Kpt(t){return Upt(t)?Hpt(t,Ypt):Gpt(t)?[t]:Wpt(qpt(Xpt(t)))}var Jpt=Kpt,Zpt={ary:Zht,assign:Hue,clone:npt,curry:opt,forEach:CF,isArray:fo,isError:dpt,isFunction:N2,isWeakMap:bpt,iteratee:wpt,keys:dF,rearg:Bpt,toInteger:q_,toPath:Jpt},Qpt=Lut,emt=Zpt;function tmt(t,e,n){return Qpt(emt,t,e,n)}var nmt=tmt,rT,Aq;function rmt(){if(Aq)return rT;Aq=1;var t=wF,e=bF,n=R2,r=zl,i=e1;function o(a,s,l,c){if(!r(a))return a;s=e(s,a);for(var u=-1,f=s.length,d=f-1,h=a;h!=null&&++u<f;){var m=i(s[u]),v=l;if(m==="__proto__"||m==="constructor"||m==="prototype")return a;if(u!=d){var k=h[m];v=c?c(k,m,h):void 0,v===void 0&&(v=r(k)?k:n(s[u+1])?[]:{})}t(h,m,v),h=h[m]}return a}return rT=o,rT}var iT,Iq;function imt(){if(Iq)return iT;Iq=1;var t=rmt();function e(n,r,i){return n==null?n:t(n,r,i)}return iT=e,iT}var omt=nmt,dfe=omt("set",imt());dfe.placeholder=Xue();var amt=dfe;const smt=pr(amt);var lmt=Eue,cmt=xh;function umt(t,e){return t&&lmt(t,e,cmt)}var fmt=umt,dmt=Sh;function hmt(t,e){return function(n,r){if(n==null)return n;if(!dmt(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var pmt=hmt,mmt=fmt,gmt=pmt,bmt=gmt(mmt),vmt=bmt,ymt=vmt;function kmt(t,e){var n=[];return ymt(t,function(r,i,o){e(r,i,o)&&n.push(r)}),n}var _mt=kmt,wmt=Wce,Smt=_mt,xmt=V2,Cmt=fo;function Tmt(t,e){var n=Cmt(t)?wmt:Smt;return n(t,xmt(e))}var Amt=Tmt;const Pq=pr(Amt);var Imt=hF;function Pmt(t,e){return Imt(t,e)}var Emt=Pmt;const hfe=pr(Emt);var $mt=wh,Omt=fo,Dmt=qs,Lmt="[object String]";function Fmt(t){return typeof t=="string"||!Omt(t)&&Dmt(t)&&$mt(t)==Lmt}var Nmt=Fmt,Mmt=gF;function zmt(t,e){return Mmt(e,function(n){return t[n]})}var Rmt=zmt,jmt=Rmt,Vmt=xh;function Bmt(t){return t==null?[]:jmt(t,Vmt(t))}var Hmt=Bmt,Wmt=ife,Umt=Sh,Gmt=Nmt,qmt=q_,Ymt=Hmt,Xmt=Math.max;function Kmt(t,e,n,r){t=Umt(t)?t:Ymt(t),n=n&&!r?qmt(n):0;var i=t.length;return n<0&&(n=Xmt(i+n,0)),Gmt(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Wmt(t,e,n)>-1}var Jmt=Kmt;const Zmt=pr(Jmt);var Qmt=V2,egt=Sh,tgt=xh;function ngt(t){return function(e,n,r){var i=Object(e);if(!egt(e)){var o=Qmt(n);e=tgt(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var rgt=ngt,igt=rfe,ogt=V2,agt=q_,sgt=Math.max;function lgt(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:agt(n);return i<0&&(i=sgt(r+i,0)),igt(t,ogt(e),i)}var cgt=lgt,ugt=rgt,fgt=cgt,dgt=ugt(fgt),hgt=dgt;const pfe=pr(hgt);var pgt=Math.ceil,mgt=Math.max;function ggt(t,e,n,r){for(var i=-1,o=mgt(pgt((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var bgt=ggt,vgt=bgt,ygt=Vue,oT=ufe;function kgt(t){return function(e,n,r){return r&&typeof r!="number"&&ygt(e,n,r)&&(n=r=void 0),e=oT(e),n===void 0?(n=e,e=0):n=oT(n),r=r===void 0?e<n?1:-1:oT(r),vgt(e,n,r,t)}}var _gt=kgt,wgt=_gt,Sgt=wgt(),xgt=Sgt;const Cgt=pr(xgt);var Tgt=Object.prototype,Agt=Tgt.hasOwnProperty;function Igt(t,e){return t!=null&&Agt.call(t,e)}var Pgt=Igt,Egt=Pgt,$gt=aue;function Ogt(t,e){return t!=null&&$gt(t,e,Egt)}var Dgt=Ogt;const Lgt=pr(Dgt);var GP={exports:{}},mfe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e($,F){return{validate:$,compare:F}}t.fullFormats={date:e(o,a),time:e(l,c),"date-time":e(f,d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:P,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:b,int32:{type:"number",validate:C},int64:{type:"number",validate:S},float:{type:"number",validate:g},double:{type:"number",validate:g},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,c),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function n($){return $%4===0&&($%100!==0||$%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o($){const F=r.exec($);if(!F)return!1;const D=+F[1],z=+F[2],R=+F[3];return z>=1&&z<=12&&R>=1&&R<=(z===2&&n(D)?29:i[z])}function a($,F){if($&&F)return $>F?1:$<F?-1:0}const s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l($,F){const D=s.exec($);if(!D)return!1;const z=+D[1],R=+D[2],V=+D[3],ie=D[5];return(z<=23&&R<=59&&V<=59||z===23&&R===59&&V===60)&&(!F||ie!=="")}function c($,F){if(!($&&F))return;const D=s.exec($),z=s.exec(F);if(D&&z)return $=D[1]+D[2]+D[3]+(D[4]||""),F=z[1]+z[2]+z[3]+(z[4]||""),$>F?1:$<F?-1:0}const u=/t|\s/i;function f($){const F=$.split(u);return F.length===2&&o(F[0])&&l(F[1],!0)}function d($,F){if(!($&&F))return;const[D,z]=$.split(u),[R,V]=F.split(u),ie=a(D,R);if(ie!==void 0)return ie||c(z,V)}const h=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v($){return h.test($)&&m.test($)}const k=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function b($){return k.lastIndex=0,k.test($)}const _=-(2**31),x=2**31-1;function C($){return Number.isInteger($)&&$<=x&&$>=_}function S($){return Number.isInteger($)}function g(){return!0}const T=/[^\\]\\Z/;function P($){if(T.test($))return!1;try{return new RegExp($),!0}catch{return!1}}})(mfe);var gfe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=Sie,n=_n,r=n.operators,i={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},o={message:({keyword:s,schemaCode:l})=>n.str`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>n._`{comparison: ${i[s].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:c,schemaCode:u,keyword:f,it:d}=s,{opts:h,self:m}=d;if(!h.validateFormats)return;const v=new e.KeywordCxt(d,m.RULES.all.format.definition,"format");v.$data?k():b();function k(){const x=l.scopeValue("formats",{ref:m.formats,code:h.code.formats}),C=l.const("fmt",n._`${x}[${v.schemaCode}]`);s.fail$data(n.or(n._`typeof ${C} != "object"`,n._`${C} instanceof RegExp`,n._`typeof ${C}.compare != "function"`,_(C)))}function b(){const x=v.schema,C=m.formats[x];if(!C||C===!0)return;if(typeof C!="object"||C instanceof RegExp||typeof C.compare!="function")throw new Error(`"${f}": format "${x}" does not define "compare" function`);const S=l.scopeValue("formats",{key:x,ref:C,code:h.code.formats?n._`${h.code.formats}${n.getProperty(x)}`:void 0});s.fail$data(_(S))}function _(x){return n._`${x}.compare(${c}, ${u}) ${i[f].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(t.formatLimitDefinition),s);t.default=a})(gfe);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=mfe,r=gfe,i=_n,o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(c,u={keywords:!0})=>{if(Array.isArray(u))return l(c,u,n.fullFormats,o),c;const[f,d]=u.mode==="fast"?[n.fastFormats,a]:[n.fullFormats,o],h=u.formats||n.formatNames;return l(c,h,f,d),u.keywords&&r.default(c),c};s.get=(c,u="full")=>{const d=(u==="fast"?n.fastFormats:n.fullFormats)[c];if(!d)throw new Error(`Unknown format "${c}"`);return d};function l(c,u,f,d){var h,m;(h=(m=c.opts.code).formats)!==null&&h!==void 0||(m.formats=i._`require("ajv-formats/dist/formats").${d}`);for(const v of u)c.addFormat(v,f[v])}t.exports=e=s,Object.defineProperty(e,"__esModule",{value:!0}),e.default=s})(GP,GP.exports);var Fgt=GP.exports;const Ngt=pr(Fgt),F8="additionalProperties",N8="required",Mgt=(t,e)=>{const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:(n[i]=!0,!0)})};class zgt{constructor(e){this.findOption=e,this.schemaObject=n=>{const r=this.properties(n),i={type:"object",properties:r,additionalProperties:this.findOption(r)(F8)},o=this.findOption(r)(N8);return o.length>0&&(i.required=o),i},this.properties=n=>{const r={};return Object.keys(n).reduce((i,o)=>(i[o]=this.property(n[o]),i),r)},this.property=n=>{switch(typeof n){case"string":return{type:"string"};case"boolean":return{type:"boolean"};case"number":return Number.isInteger(n)?{type:"integer"}:{type:"number"};case"object":return n==null?{type:"null"}:this.schemaObjectOrArray(n);default:return{}}},this.schemaObjectOrArray=n=>n instanceof Array?this.schemaArray(n):this.schemaObject(n),this.schemaArray=n=>{if(n.length>0){const r=n.map(this.property),i=Mgt(r,o=>JSON.stringify(o));return i.length===1?{type:"array",items:i[0]}:{type:"array",items:{oneOf:i}}}else return{type:"array",items:{}}}}}const bfe=(t,e={})=>{const n=i=>o=>{switch(o){case F8:return Object.prototype.hasOwnProperty.call(e,F8)?e[F8]:!0;case N8:return Object.prototype.hasOwnProperty.call(e,N8)?e[N8](i):Object.keys(i);default:return}};return new zgt(n).schemaObject(t)};var ku;(function(t){t.HIDE="HIDE",t.SHOW="SHOW",t.ENABLE="ENABLE",t.DISABLE="DISABLE"})(ku||(ku={}));const vfe=t=>typeof t=="object"&&t!==null&&typeof t.i18n=="string",Rgt=t=>t.type==="Group",OF=t=>t.elements!==void 0,jgt=t=>!!t&&typeof t=="object",Vgt=t=>jgt(t)&&typeof t.scope=="string",Bgt=t=>!!t&&typeof t=="object",yfe=(t,e,n)=>{const r=e+n;if(r<0||r>=t.length)return;const i=[e,r].sort((o,a)=>o-a);t.splice(i[0],2,t[i[1]],t[i[0]])},Hgt=(t,e)=>{yfe(t,e,-1)},Wgt=(t,e)=>{yfe(t,e,1)},Ugt={restrict:!1,trim:!1,showUnfocusedDescription:!1,hideRequiredAsterisk:!1},Eq=(t={})=>Vd({},Ugt,t),$q=(t=Eq(),e)=>{switch(e.type){case XF:return Eq(e.config);default:return t}},Hu=(t,e)=>t===void 0?[]:t(e)?[]:t.errors,Ggt={data:{},schema:{},uischema:void 0,errors:[],validator:void 0,ajv:void 0,validationMode:"ValidateAndShow",additionalErrors:[]},qP=(t,e)=>((Object.prototype.hasOwnProperty.call(e,"id")||Object.prototype.hasOwnProperty.call(e,"$id"))&&t.removeSchema(e),t),Oq=(t,e)=>{if(e){if(qgt(e.options))return e.options.ajv;if(e.options!==void 0&&jKe(e.options.compile))return e.options}return t.ajv?e!=null&&e.schema?qP(t.ajv,e.schema):t.ajv:obt()},qgt=t=>t?t.ajv!==void 0:!1,Dq=(t,e)=>e&&Ygt(e.options)?e.options.validationMode:t.validationMode,Ygt=t=>t?t.validationMode!==void 0:!1,Xgt=t=>t?t.additionalErrors!==void 0:!1,Lq=(t,e)=>e&&Xgt(e.options)?e.options.additionalErrors:t.additionalErrors,aT=(t=Ggt,e)=>{switch(e.type){case WF:{const n=Oq(t,e),r=Dq(t,e),i=r==="NoValidation"?void 0:n.compile(e.schema),o=Hu(i,e.data),a=Lq(t,e);return{...t,data:e.data,schema:e.schema,uischema:e.uischema,additionalErrors:a,errors:o,validator:i,ajv:n,validationMode:r}}case UF:{const n=Oq(t,e),r=Dq(t,e);let i=t.validator,o=t.errors;t.schema!==e.schema||t.validationMode!==r||t.ajv!==n?(i=r==="NoValidation"?void 0:n.compile(e.schema),o=Hu(i,e.data)):t.data!==e.data&&(o=Hu(i,e.data));const a=Lq(t,e);return t.data!==e.data||t.schema!==e.schema||t.uischema!==e.uischema||t.ajv!==n||t.errors!==o||t.validator!==i||t.validationMode!==r||t.additionalErrors!==a?{...t,data:e.data,schema:e.schema,uischema:e.uischema,ajv:n,errors:hfe(o,t.errors)?t.errors:o,validator:i,validationMode:r,additionalErrors:a}:t}case GF:{const n=e.ajv,r=t.validationMode==="NoValidation"?void 0:n.compile(t.schema),i=Hu(r,t.data);return{...t,validator:r,errors:i}}case KF:{const r=e.schema&&t.ajv&&t.validationMode!=="NoValidation"?qP(t.ajv,e.schema).compile(e.schema):t.validator,i=Hu(r,t.data);return{...t,validator:r,schema:e.schema,errors:i}}case JF:return{...t,uischema:e.uischema};case qF:{if(e.path===void 0||e.path===null)return t;if(e.path===""){const n=e.updater(bc(t.data)),r=Hu(t.validator,n);return{...t,data:n,errors:r}}else{const n=ra(t.data,e.path),r=e.updater(bc(n)),i=smt(e.path,r,t.data===void 0?{}:t.data),o=Hu(t.validator,i);return{...t,data:i,errors:o}}}case YF:return{...t,errors:e.errors};case ZF:{if(t.validationMode===e.validationMode)return t;if(e.validationMode==="NoValidation"){const n=Hu(void 0,t.data);return{...t,errors:n,validationMode:e.validationMode}}if(t.validationMode==="NoValidation"){const n=qP(t.ajv,t.schema).compile(t.schema),r=Hu(n,t.data);return{...t,validator:n,errors:r,validationMode:e.validationMode}}return{...t,validationMode:e.validationMode}}default:return t}},Kgt=t=>ra(t,"data"),Jgt=t=>ra(t,"schema"),Zgt=t=>ra(t,"uischema"),Qgt=t=>ra(t,"ajv"),e0t=t=>{switch(t.keyword){case"required":case"dependencies":return t.params.missingProperty;case"additionalProperties":return t.params.additionalProperty;default:return}},YP=t=>{let e=t.dataPath||t.instancePath||"";e=e.replace(/\//g,".");const n=e0t(t);return n!==void 0&&!e.endsWith(n)&&(e=`${e}.${n}`),e=e.replace(/^./,""),e=J_(e),e},t0t=(t,e,n)=>r=>{const i=Pq(r,o=>o.keyword==="oneOf"||o.keyword==="anyOf").map(o=>YP(o));return Pq(r,o=>{if(r0t.indexOf(o.keyword)!==-1&&!JP(o.parentSchema))return!1;const a=YP(o);let s=n(a);const l=o.parentSchema;return s&&!n0t(l)&&!JP(l)&&i.findIndex(c=>t.startsWith(c))!==-1&&(s=s&&hfe(l,e)),s})},n0t=t=>(t==null?void 0:t.type)==="object"||!!(t!=null&&t.properties),r0t=["additionalProperties","allOf","anyOf","oneOf"],kfe=(t,e,n)=>r=>{const i=r.errors??[],o=r.additionalErrors??[];return t0t(t,e,n)(r.validationMode==="ValidateAndHide"?o:[...i,...o])},i0t=(t,e)=>kfe(t,e,n=>n===t),o0t=(t,e)=>kfe(t,e,n=>n.startsWith(t+".")),DF=(t,e)=>vfe(e)?e.i18n:(t==null?void 0:t.i18n)??void 0,a0t=t=>(t==null?void 0:t.split(".").filter(e=>!/^\d+$/.test(e)).join("."))||"root",I4=(t,e,n)=>DF(t,e)??a0t(n),Hk=(t,e,n,r)=>`${I4(t,e,n)}.${r}`,s0t=(t,e)=>`${t}.${e}`,LF=(t,e)=>e,FF=(t,e,n)=>{var s;const r=Hk(t.parentSchema,n,YP(t),`error.${t.keyword}`),i=e(r,void 0,{error:t});if(i!==void 0)return i;const o=e(`error.${t.keyword}`,void 0,{error:t});if(o!==void 0)return o;const a=e(t.message,void 0,{error:t});return a!==void 0?a:t.keyword==="required"&&((s=t.message)!=null&&s.startsWith("must have required property"))?e("is a required property","is a required property",{error:t}):t.message},_fe=(t,e,n,r,i,o)=>{if(t.length>0&&n){const a=Hk(r,i,o,"error.custom"),s=n(a,void 0,{schema:r,uischema:i,path:o,errors:t});if(s!==void 0)return s}return z0t(t.map(a=>e(a,n,i)))},l0t=(t,e)=>{if(t.label===!1||(t.label===void 0||t.label===null||t.label===!0)&&!vfe(t))return;const n=typeof t.label=="string"?t.label:JSON.stringify(t.label),r=DF(void 0,t),i=typeof r=="string"?`${r}.label`:n;return e(i,n,{uischema:t})},c0t=(t,e,n,r)=>{const i={};return e.forEach(o=>{const a=s0t(n,o.key);i[o.key]=t(a,o.default(r))}),i};var Vo;(function(t){t.addTooltip="addTooltip",t.addAriaLabel="addAriaLabel",t.removeTooltip="removeTooltip",t.upAriaLabel="upAriaLabel",t.downAriaLabel="downAriaLabel",t.noSelection="noSelection",t.removeAriaLabel="removeAriaLabel",t.noDataMessage="noDataMessage",t.deleteDialogTitle="deleteDialogTitle",t.deleteDialogMessage="deleteDialogMessage",t.deleteDialogAccept="deleteDialogAccept",t.deleteDialogDecline="deleteDialogDecline",t.up="up",t.down="down"})(Vo||(Vo={}));const u0t=[{key:Vo.addTooltip,default:t=>t?`Add to ${t}`:"Add"},{key:Vo.addAriaLabel,default:t=>t?`Add to ${t} button`:"Add button"},{key:Vo.removeTooltip,default:()=>"Delete"},{key:Vo.removeAriaLabel,default:()=>"Delete button"},{key:Vo.upAriaLabel,default:()=>"Move item up"},{key:Vo.up,default:()=>"Up"},{key:Vo.down,default:()=>"Down"},{key:Vo.downAriaLabel,default:()=>"Move item down"},{key:Vo.noDataMessage,default:()=>"No data"},{key:Vo.noSelection,default:()=>"No selection"},{key:Vo.deleteDialogTitle,default:()=>"Confirm Deletion"},{key:Vo.deleteDialogMessage,default:()=>"Are you sure you want to delete the selected entry?"},{key:Vo.deleteDialogAccept,default:()=>"Yes"},{key:Vo.deleteDialogDecline,default:()=>"No"}],R9={locale:"en",translate:LF,translateError:FF},Fq=(t=R9,e)=>{switch(e.type){case tN:{const n=e.locale??R9.locale,r=e.translator??R9.translate,i=e.errorTranslator??R9.translateError;return n!==t.locale||r!==t.translate||i!==t.translateError?{...t,locale:n,translate:r,translateError:i}:t}case eN:return{...t,translate:e.translator??LF,translateError:e.errorTranslator??FF};case QF:return{...t,locale:e.locale??navigator.languages[0]};default:return t}},f0t=t=>t===void 0?LF:t.translate,d0t=t=>t===void 0?FF:t.translateError,wfe=-1,h0t=t=>!or(t)&&t.scope!==void 0,P4=t=>(e,n,r)=>{if(or(e)||!h0t(e)||or(n))return!1;const i=e.scope;if(or(i))return!1;let o=n;return BF(n,"object")&&(o=E4(n,i,r==null?void 0:r.rootSchema)),o===void 0?!1:t(o,r==null?void 0:r.rootSchema)},U2=t=>P4(e=>!or(e)&&BF(e,t)),NF=t=>P4(e=>!or(e)&&e.format===t&&BF(e,"string")),Rl=t=>e=>!or(e)&&e.type===t,Y_=(t,e)=>n=>{if(or(n))return!1;const r=n.options;return!or(r)&&r[t]===e},jl=(...t)=>(e,n,r)=>t.reduce((i,o)=>i&&o(e,n,r),!0),X_=(...t)=>(e,n,r)=>t.reduce((i,o)=>i||o(e,n,r),!1),ys=(t,e)=>(n,r,i)=>e(n,r,i)?t:wfe,p0t=jl(Rl("Control"),U2("boolean")),m0t=jl(Rl("Control"),X_(P4(t=>Object.prototype.hasOwnProperty.call(t,"enum")),P4(t=>Object.prototype.hasOwnProperty.call(t,"const")))),g0t=jl(Rl("Control"),P4(t=>JP(t))),b0t=jl(Rl("Control"),U2("integer")),v0t=jl(Rl("Control"),U2("number")),Sfe=jl(Rl("Control"),U2("string")),y0t=jl(Rl("Control"),Y_("multi",!0)),k0t=jl(Rl("Control"),X_(NF("date"),Y_("format","date"))),_0t=jl(Rl("Control"),X_(NF("time"),Y_("format","time"))),w0t=jl(Rl("Control"),X_(NF("date-time"),Y_("format","date-time"))),S0t=t=>(e,n,r)=>{const i=vF(t,o=>o.tester(e,n,r));if(i!==void 0&&i.tester(e,n,r)!==wfe)return i.uischema},x0t=(t,e,n,r,i="VerticalLayout",o,a)=>{if(o&&o.options&&o.options.detail){if(typeof o.options.detail=="string"){if(o.options.detail.toUpperCase()==="GENERATE")return typeof i=="function"?i():Mp.uiSchema(e,i)}else if(typeof o.options.detail=="object"&&o.options.detail.type&&typeof o.options.detail.type=="string")return o.options.detail}const s=S0t(t)(e,n,r);return s===void 0?typeof i=="function"?i():Mp.uiSchema(e,i,"#",a):s},xfe=(t,e)=>n=>i0t(t,e)(n.jsonforms.core),C0t=(t,e)=>n=>o0t(t,e)(n.jsonforms.core),Fm=t=>t.jsonforms.config,fh=()=>t=>f0t(ra(t,"jsonforms.i18n")),Cfe=()=>t=>d0t(ra(t,"jsonforms.i18n")),K_=t=>Kgt(ra(t,"jsonforms.core")),Wk=t=>Jgt(ra(t,"jsonforms.core")),T0t=t=>Zgt(ra(t,"jsonforms.core")),G2=t=>Qgt(ra(t,"jsonforms.core")),MF=t=>ra(t,"jsonforms.renderers"),zF=t=>ra(t,"jsonforms.cells"),RF=(t,e)=>{let n=t;return!or(t)&&!or(e)&&!e.startsWith("[")&&(n=t+"."),or(n)?e:or(e)?n:`${n}${e}`},A0t=t=>{const r=t.replace(/(anyOf|allOf|oneOf)\/[\d]\//g,"").replace(/(then|else)\//g,"").split("/").map(J_),o=r[0]==="#"||r[0]===""?2:1;return Cgt(o,r.length,2).map(a=>r[a])},Tfe=(t,e)=>{if(!Vgt(t))return e??"";const n=A0t(t.scope);return or(n)?e??"":RF(e,n.join("."))},I0t=t=>t==null?void 0:t.replace(/~/g,"~0").replace(/\//g,"~1"),J_=t=>t==null?void 0:t.replace(/~1/g,"/").replace(/~0/,"~"),XP=(t,e)=>or(e)?t:e.split(".").reduce((r,i)=>{if(!(!r||!Object.prototype.hasOwnProperty.call(r,i)))return r[i]},t),P0t=t=>t==="#"||t===void 0||t==="",E4=(t,e,n)=>{const r=e==null?void 0:e.split("/").map(J_);return M8(t,r,n)},M8=(t,e,n)=>{if(or(t))return;if(t.$ref&&(t=E4(n,t.$ref,n)),!e||e.length===0)return t;const[r,...i]=e;if(P0t(r))return M8(t,i,n);const o=ra(t,r),a=M8(o,i,n);if(a)return a;if(r==="properties"||r==="items"){let s;const l=[].concat(t.oneOf??[],t.allOf??[],t.anyOf??[],t.then??[],t.else??[]);for(const c of l)if(s=M8(c,[r,...i],n),s)break;return s}},E0t=t=>t.type==="OR",$0t=t=>t.type==="AND",O0t=t=>t.type==="LEAF",D0t=t=>Lgt(t,"schema"),Nq=(t,e)=>Tfe(t,e),KP=(t,e,n,r)=>{if($0t(e))return e.conditions.reduce((i,o)=>i&&KP(t,o,n,r),!0);if(E0t(e))return e.conditions.reduce((i,o)=>i||KP(t,o,n,r),!1);if(O0t(e))return XP(t,Nq(e,n))===e.expectedValue;if(D0t(e)){const i=XP(t,Nq(e,n));return r.validate(e.schema,i)}else return!0},Afe=(t,e,n,r)=>{const i=t.rule.condition;return KP(e,i,n,r)},L0t=(t,e,n=void 0,r)=>{const i=Afe(t,e,n,r);switch(t.rule.effect){case ku.HIDE:return!i;case ku.SHOW:return i;default:return!0}},F0t=(t,e,n=void 0,r)=>{const i=Afe(t,e,n,r);switch(t.rule.effect){case ku.DISABLE:return!i;case ku.ENABLE:return i;default:return!0}},jF=t=>!!(t.rule&&(t.rule.effect===ku.SHOW||t.rule.effect===ku.HIDE)),N0t=t=>!!(t.rule&&(t.rule.effect===ku.ENABLE||t.rule.effect===ku.DISABLE)),Z_=(t,e,n=void 0,r)=>t.rule?L0t(t,e,n,r):!0,M0t=(t,e,n=void 0,r)=>t.rule?F0t(t,e,n,r):!0,VF=(t,e,n,r,i,o)=>{var a,s,l;return(a=t==null?void 0:t.jsonforms)!=null&&a.readonly?!1:n&&N0t(n)?M0t(n,i,e==null?void 0:e.path,G2(t)):typeof((s=n==null?void 0:n.options)==null?void 0:s.readonly)=="boolean"?!n.options.readonly:typeof((l=n==null?void 0:n.options)==null?void 0:l.readOnly)=="boolean"?!n.options.readOnly:typeof(o==null?void 0:o.readonly)=="boolean"?!o.readonly:typeof(o==null?void 0:o.readOnly)=="boolean"?!o.readOnly:(r==null?void 0:r.readOnly)===!0?!1:typeof(e==null?void 0:e.enabled)=="boolean"?e.enabled:!0},z0t=t=>t==null?"":t.join(`
`),BF=(t,e)=>Zmt(Uk(t),e),Uk=t=>{if(or(t))return[];if(!or(t.type)&&typeof t.type=="string")return[t.type];if(vQe(t.type))return t.type;if(!or(t.properties)||!or(t.additionalProperties))return["object"];if(!or(t.items))return["array"];if(!or(t.allOf)){const e=pfe(t.allOf,n=>Uk(n).length!==0);if(e)return Uk(e)}return[]},Nm={schema:E4,data:XP},sT=(t,e)=>{if(e&&typeof e.title=="string")return e.title;if(typeof t.scope=="string"){const n=t.scope,r=J_(n.substr(n.lastIndexOf("/")+1));return Aue(r)}return""},R0t=(t,e)=>{const n=t.label;if(typeof n=="boolean")return j9(sT(t,e),n);if(typeof n=="string")return j9(n,!0);if(typeof n=="object"){const r=typeof n.text=="string"?n.text:sT(t,e),i=typeof n.show=="boolean"?n.show:!0;return j9(r,i)}return j9(sT(t,e),!0)},j9=(t,e)=>({text:t,show:e}),j0t=(t,e,n)=>{const r=e.split("/"),i=r[r.length-1],a=r.slice(0,r.length-2).join("/"),s=Nm.schema(t,a,n);return s!==void 0&&s.required!==void 0&&s.required.indexOf(i)!==-1},V0t=(t,e,n)=>`${t??""}${e&&!n?"*":""}`,Mq=t=>{switch(t.type){case"string":return t.format==="date-time"||t.format==="date"||t.format==="time"?new Date:"";case"integer":case"number":return 0;case"boolean":return!1;case"array":return[];case"null":return null;default:return{}}},B0t=(t,e,n,r)=>e===void 0||e!==void 0&&!t||!r&&!n,zq=(t,e,n)=>{let r=typeof t=="string"?t:JSON.stringify(t);return e&&(n?r=e(`${n}.${r}`,r):r=e(r,r)),{label:r,value:t}},H0t=(t,e,n)=>{let r=t.title??(typeof t.const=="string"?t.const:JSON.stringify(t.const));return e&&(t.i18n?r=e(t.i18n,r):n?r=e(`${n}.${r}`,r):r=e(r,r)),{label:r,value:t.const}},Q_=(t,e)=>{const{uischema:n}=e,r=K_(t),i=Tfe(n,e.path),o=e.visible===void 0||jF(n)?Z_(n,r,e.path,G2(t)):e.visible,a=n,s=e.id,l=Wk(t),c=a.scope!==void 0&&j0t(e.schema,a.scope,l),u=Nm.schema(e.schema||l,a.scope,l),f=xfe(i,u)(t),d=u!==void 0?u.description:"",h=Nm.data(r,i),m=R0t(n,u),v=m.show?m.text:"",k=Fm(t),b=VF(t,e,n,u||l,r,k),_=u??l,x=fh()(t),C=Cfe()(t),S=I4(_,n,i),g=x(Hk(_,n,i,"label"),v,{schema:_,uischema:n,path:i,errors:f}),T=x(Hk(_,n,i,"description"),d,{schema:_,uischema:n,path:i,errors:f}),P=_fe(f,C,x,_,n,i);return{data:h,description:T,errors:P,label:g,visible:o,enabled:b,id:s,path:i,required:c,uischema:n,schema:_,config:Fm(t),cells:e.cells||t.jsonforms.cells,rootSchema:l,i18nKeyPrefix:S}},ew=t=>({handleChange(e,n){t(y0(e,()=>n))}}),W0t=(t,e)=>{var i;const n=Q_(t,e),r=e.options||((i=n.schema.enum)==null?void 0:i.map(o=>zq(o,fh()(t),I4(n.schema,n.uischema,n.path))))||n.schema.const&&[zq(n.schema.const,fh()(t),I4(n.schema,n.uischema,n.path))];return{...n,options:r}},U0t=(t,e)=>{var i;const n=Q_(t,e),r=e.options||((i=n.schema.oneOf)==null?void 0:i.map(o=>H0t(o,fh()(t),I4(n.schema,n.uischema,n.path))));return{...n,options:r}},G0t=(t,e)=>{const{...n}=Q_(t,e);return{...n,uischemas:t.jsonforms.uischemas}},q0t=(t,e)=>{const{path:n,schema:r,uischema:i,i18nKeyPrefix:o,label:a,...s}=G0t(t,e),l=Nm.schema(r,"items",s.rootSchema),c=C0t(n,l)(t),u=fh()(t);return{...s,label:a,path:n,uischema:i,schema:l,childErrors:c,renderers:e.renderers||MF(t),cells:e.cells||zF(t),translations:c0t(u,u0t,o,a)}},Y0t=t=>({addItem:(e,n)=>()=>{t(y0(e,r=>r==null?[n]:(r.push(n),r)))},removeItems:(e,n)=>()=>{t(y0(e,r=>(n.sort().reverse().forEach(i=>r.splice(i,1)),r)))},moveUp:(e,n)=>()=>{t(y0(e,r=>(Hgt(r,n),r)))},moveDown:(e,n)=>()=>{t(y0(e,r=>(Wgt(r,n),r)))}}),Ife={visible:!0,enabled:!0,path:"",direction:"column"},X0t=t=>t.type==="HorizontalLayout"?"row":t.type==="VerticalLayout"?"column":Ife.direction,K0t=(t,e)=>{const n=K_(t),{uischema:r}=e,i=e.visible===void 0||jF(r)?Z_(e.uischema,n,e.path,G2(t)):e.visible,o=Nm.data(n,e.path),a=Fm(t),s=VF(t,e,r,void 0,n,a),l=fh()(t),c=Bgt(r)?l0t(r,l):void 0;return{...Ife,renderers:e.renderers||MF(t),cells:e.cells||zF(t),visible:i,enabled:s,path:e.path,data:o,uischema:e.uischema,schema:e.schema,direction:e.direction??X0t(r),config:a,label:c}},J0t=(t,e)=>({renderers:e.renderers||ra(t.jsonforms,"renderers"),cells:e.cells||ra(t.jsonforms,"cells"),schema:e.schema||Wk(t),rootSchema:Wk(t),uischema:e.uischema||T0t(t),path:e.path,enabled:e.enabled,config:Fm(t)}),Z0t=(t,e)=>{const{uischema:n}=e,r=e.visible===void 0||jF(n)?Z_(e.uischema,K_(t),e.path,G2(t)):e.visible,i=n.text,o=fh()(t),a=DF(void 0,n),s=a?`${a}.text`:i??"";return{text:o(s,i,{uischema:n}),visible:r,config:Fm(t),renderers:e.renderers||MF(t),cells:e.cells||zF(t)}},Q0t=(t,e)=>{const{id:n,schema:r,path:i,uischema:o,renderers:a,cells:s}=e,l=K_(t),c=e.visible!==void 0?e.visible:Z_(o,l,void 0,G2(t)),u=Wk(t),f=Fm(t);let d;t.jsonforms.readonly===!0?d=!1:typeof e.enabled=="boolean"?d=e.enabled:d=VF(t,e,o,r||u,l,f);const h=fh()(t),m=Cfe()(t),v=_fe(xfe(i,r)(t),m,h,r,o,i),k=or(v);return{data:Nm.data(l,i),visible:c,enabled:d,id:n,path:i,errors:v,isValid:k,schema:r,uischema:o,config:Fm(t),rootSchema:u,renderers:a,cells:s}},ebt=(t,e)=>{const n=Q0t(t,e),{renderers:r,cells:i,...o}=e;return{...n,...o,cells:i||t.jsonforms.cells||[]}},HF=new Set,Pfe=(t,e)=>e<=1?t:t+e.toString(),tbt=(t,e)=>{const n=Pfe(t,e);return!HF.has(n)},nbt=t=>{t===void 0&&(t="undefined");let e=0;for(;!tbt(t,e);)e++;const n=Pfe(t,e);return HF.add(n),n},rbt=t=>HF.delete(t),ibt=t=>{if(t.properties)return pfe(Object.keys(t.properties),e=>{const n=t.properties[e];return n.type==="string"||n.type==="number"||n.type==="integer"})},JP=t=>!!t&&Object.prototype.hasOwnProperty.call(t,"oneOf")&&t.oneOf&&t.oneOf.every(e=>e.const!==void 0),obt=t=>{const e=new xie({allErrors:!0,verbose:!0,strict:!1,...t});return Ngt(e),e},Efe=t=>({type:t,elements:[]}),z8=t=>({type:"Control",scope:t}),abt=(t,e)=>{if(!or(t)&&!OF(t)){const n=Efe(e);return n.elements.push(t),n}return t},sbt=(t,e)=>{if(!or(e)){const n=Aue(e);if(Rgt(t))t.label=n;else{const r={type:"Label",text:n};t.elements.push(r)}}},lbt=t=>!or(t)&&(!or(t.oneOf)||!or(t.anyOf)||!or(t.allOf)),ZP=(t,e,n,r,i,o)=>{if(!or(t)&&t.$ref!==void 0)return ZP(E4(o,t.$ref,o),e,n,r,i,o);if(lbt(t)){const s=z8(n);return e.push(s),s}const a=Uk(t);if(a.length===0)return null;if(a.length>1){const s=z8(n);return e.push(s),s}if(n==="#"&&a[0]==="object"){const s=Efe(i);if(e.push(s),t.properties&&ttt(t.properties).length>1&&sbt(s,r),!or(t.properties)){const l=n+"/properties";Object.keys(t.properties).map(c=>{let u=t.properties[c];const f=`${l}/${I0t(c)}`;u.$ref!==void 0&&(u=E4(o,u.$ref,o)),ZP(u,s.elements,f,c,i,o)})}return s}switch(a[0]){case"object":case"array":case"string":case"number":case"integer":case"boolean":{const s=z8(n);return e.push(s),s}default:throw new Error("Unknown type: "+JSON.stringify(t))}},$fe=(t,e="VerticalLayout",n="#",r=t)=>abt(ZP(t,[],n,"",e,r),e),Mp={jsonSchema:bfe,uiSchema:$fe,controlElement:z8},WF="jsonforms/INIT",UF="jsonforms/UPDATE_CORE",GF="jsonforms/SET_AJV",qF="jsonforms/UPDATE",YF="jsonforms/UPDATE_ERRORS",cbt="jsonforms/VALIDATE",Ofe="jsonforms/ADD_RENDERER",Dfe="jsonforms/REMOVE_RENDERER",Lfe="jsonforms/ADD_CELL",Ffe="jsonforms/REMOVE_CELL",XF="jsonforms/SET_CONFIG",Nfe="jsonforms/ADD_UI_SCHEMA",Mfe="jsonforms/REMOVE_UI_SCHEMA",KF="jsonforms/SET_SCHEMA",JF="jsonforms/SET_UISCHEMA",ZF="jsonforms/SET_VALIDATION_MODE",QF="jsonforms/SET_LOCALE",eN="jsonforms/SET_TRANSLATOR",tN="jsonforms/UPDATE_I18N",zfe="jsonforms/ADD_DEFAULT_DATA",Rfe="jsonforms/REMOVE_DEFAULT_DATA",ubt=(t,e=bfe(t),n,r)=>({type:WF,data:t,schema:e,uischema:typeof n=="object"?n:$fe(e),options:r}),fbt=(t,e,n,r)=>({type:UF,data:t,schema:e,uischema:n,options:r}),dbt=(t,e)=>({type:zfe,schemaPath:t,data:e}),hbt=t=>({type:Rfe,schemaPath:t}),pbt=t=>({type:GF,ajv:t}),y0=(t,e)=>({type:qF,path:t,updater:e}),mbt=t=>({type:YF,errors:t}),gbt=(t,e)=>({type:Ofe,tester:t,renderer:e}),bbt=(t,e)=>({type:Lfe,tester:t,cell:e}),vbt=(t,e)=>({type:Ffe,tester:t,cell:e}),ybt=(t,e)=>({type:Dfe,tester:t,renderer:e}),kbt=t=>({type:XF,config:t}),_bt=t=>({type:ZF,validationMode:t}),wbt=(t,e)=>({type:Nfe,tester:t,uischema:e}),Sbt=t=>({type:Mfe,tester:t}),xbt=t=>({type:QF,locale:t}),Cbt=t=>({type:KF,schema:t}),Tbt=(t,e)=>({type:eN,translator:t,errorTranslator:e}),Abt=(t,e,n)=>({type:tN,locale:t,translator:e,errorTranslator:n}),Ibt=t=>({type:JF,uischema:t});var Bg=Object.freeze({__proto__:null,INIT:WF,UPDATE_CORE:UF,SET_AJV:GF,UPDATE_DATA:qF,UPDATE_ERRORS:YF,VALIDATE:cbt,ADD_RENDERER:Ofe,REMOVE_RENDERER:Dfe,ADD_CELL:Lfe,REMOVE_CELL:Ffe,SET_CONFIG:XF,ADD_UI_SCHEMA:Nfe,REMOVE_UI_SCHEMA:Mfe,SET_SCHEMA:KF,SET_UISCHEMA:JF,SET_VALIDATION_MODE:ZF,SET_LOCALE:QF,SET_TRANSLATOR:eN,UPDATE_I18N:tN,ADD_DEFAULT_DATA:zfe,REMOVE_DEFAULT_DATA:Rfe,init:ubt,updateCore:fbt,registerDefaultData:dbt,unregisterDefaultData:hbt,setAjv:pbt,update:y0,updateErrors:mbt,registerRenderer:gbt,registerCell:bbt,unregisterCell:vbt,unregisterRenderer:ybt,setConfig:kbt,setValidationMode:_bt,registerUISchema:wbt,unregisterUISchema:Sbt,setLocale:xbt,setSchema:Cbt,setTranslator:Tbt,updateI18n:Abt,setUISchema:Ibt});function Rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(n),!0).forEach(function(r){Pbt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QP(t){"@babel/helpers - typeof";return QP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QP(t)}function Pbt(t,e,n){return e=Obt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ebt(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tw(t,e){if(t==null)return{};var n=Ebt(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $bt(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Obt(t){var e=$bt(t,"string");return typeof e=="symbol"?e:String(e)}var nN=zt({name:"UnknownRenderer"});function Dbt(t,e,n,r,i,o){return Ee(),Be("div",null,"No applicable renderer found.")}nN.render=Dbt;var Lbt=["control"],Fbt=["rootSchema"],Nbt=["control"],Mbt=["control"],sa=function(){return{schema:{required:!0,type:[Object,Boolean]},uischema:{required:!0,type:Object},path:{required:!0,type:String},enabled:{required:!1,type:Boolean,default:void 0},renderers:{required:!1,type:Array,default:void 0},cells:{required:!1,type:Array,default:void 0},config:{required:!1,type:Object,default:void 0}}};function ig(t,e,n){var r=Ni("jsonforms"),i=Ni("dispatch");if(!r||!i)throw"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?";var o=Tl(void 0),a=Dn(function(){return ff(ff(ff({},t),e({jsonforms:r},t)),{},{id:o.value})}),s=n==null?void 0:n(i);return JE(function(){a.value.uischema.scope&&(o.value=nbt(a.value.uischema.scope))}),X4(function(){o.value&&(rbt(o.value),o.value=void 0)}),ff({control:a},s)}var Ch=function(e){return ig(e,Q_,ew)},zbt=function(e){return ig(e,W0t,ew)},Rbt=function(e){return ig(e,U0t,ew)},jbt=function(e){return ig(e,q0t,Y0t)},jfe=function(e){var n=ig(e,K0t),r=n.control,i=tw(n,Lbt);return ff({layout:r},i)},Vbt=function(e){var n=Ni("jsonforms"),r=Ni("dispatch");if(!n||!r)throw"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?";var i=Dn(function(){return J0t({jsonforms:n},e)}),o=Dn(function(){return i.value.rootSchema}),a=Dn(function(){var s=i.value;s.rootSchema;var l=tw(s,Fbt);return l});return{renderer:a,rootSchema:o}},Bbt=function(e){var n=ig(e,Z0t),r=n.control,i=tw(n,Nbt);return ff({label:r},i)},Hbt=function(e){var n=ig(e,ebt,ew),r=n.control,i=tw(n,Mbt);return ff({cell:r},i)},q2=zt({name:"DispatchRenderer",props:ff({},sa()),setup:function(e){return Vbt(e)},computed:{determinedRenderer:function(){var e=this,n={rootSchema:this.rootSchema,config:this.config},r=vF(this.renderer.renderers,function(i){return i.tester(e.renderer.uischema,e.renderer.schema,n)});return r===void 0||r.tester(this.renderer.uischema,this.renderer.schema,n)===-1?nN:r.renderer}}});function Wbt(t,e,n,r,i,o){return Ee(),en(QE(t.determinedRenderer),DE(g6(t.renderer)),null,16)}q2.render=Wbt;var Ubt=zt({name:"DispatchCell",props:ff({},sa()),setup:function(e){return Hbt(e)},computed:{determinedCell:function(){var e=this,n={rootSchema:this.cell.rootSchema,config:this.config},r=vF(this.cell.cells,function(i){return i.tester(e.cell.uischema,e.cell.schema,n)});return r===void 0||r.tester(this.cell.uischema,this.cell.schema,n)===-1?nN:r.cell}}});function Gbt(t,e,n,r,i,o){return Ee(),en(QE(t.determinedCell),DE(g6(t.cell)),null,16)}Ubt.render=Gbt;var jq=function(e){return e&&QP(e)==="object"},qbt=hh([]),Vfe=zt({name:"JsonForms",components:{DispatchRenderer:q2},provide:function(){return{jsonforms:this.jsonforms,dispatch:this.dispatch}},props:{data:{required:!0,type:[String,Number,Boolean,Array,Object]},schema:{required:!1,type:[Object,Boolean],default:void 0},uischema:{required:!1,type:Object,default:void 0},renderers:{required:!0,type:Array},cells:{required:!1,type:Array,default:function(){return[]}},config:{required:!1,type:Object,default:void 0},readonly:{required:!1,type:Boolean,default:!1},uischemas:{required:!1,type:Array,default:function(){return[]}},validationMode:{required:!1,type:String,default:"ValidateAndShow"},ajv:{required:!1,type:Object,default:void 0},i18n:{required:!1,type:Object,default:void 0},additionalErrors:{required:!1,type:Array,default:function(){return qbt}}},emits:["change"],data:function(){var e,n,r=this,i,o,a,s=this.data,l=jq(s)?s:{},c=(e=this.schema)!==null&&e!==void 0?e:Mp.jsonSchema(l),u=(n=this.uischema)!==null&&n!==void 0?n:Mp.uiSchema(c),f=function(){var h={data:s,schema:c,uischema:u},m=aT(h,Bg.init(s,c,u,{validationMode:r.validationMode,ajv:r.ajv,additionalErrors:r.additionalErrors}));return m};return{schemaToUse:c,dataToUse:s,uischemaToUse:u,jsonforms:{core:f(),config:$q(void 0,Bg.setConfig(this.config)),i18n:Fq(this.i18n,Bg.updateI18n((i=this.i18n)===null||i===void 0?void 0:i.locale,(o=this.i18n)===null||o===void 0?void 0:o.translate,(a=this.i18n)===null||a===void 0?void 0:a.translateError)),renderers:this.renderers,cells:this.cells,uischemas:this.uischemas,readonly:this.readonly}}},computed:{coreDataToUpdate:function(){return[this.dataToUse,this.schemaToUse,this.uischemaToUse,this.validationMode,this.ajv,this.additionalErrors]},eventToEmit:function(){return{data:this.jsonforms.core.data,errors:this.jsonforms.core.errors}}},watch:{schema:function(e){var n=jq(this.data)?this.data:{};this.schemaToUse=e??Mp.jsonSchema(n),this.uischema||(this.uischemaToUse=Mp.uiSchema(this.schemaToUse))},uischema:function(e){this.uischemaToUse=e??Mp.uiSchema(this.schemaToUse)},data:function(e){this.dataToUse=e},renderers:function(e){this.jsonforms.renderers=e},cells:function(e){this.jsonforms.cells=e},uischemas:function(e){this.jsonforms.uischemas=e},config:{handler:function(e){this.jsonforms.config=$q(void 0,Bg.setConfig(e))},deep:!0},readonly:function(e){this.jsonforms.readonly=e},coreDataToUpdate:function(){this.jsonforms.core=aT(this.jsonforms.core,Bg.updateCore(this.dataToUse,this.schemaToUse,this.uischemaToUse,{validationMode:this.validationMode,ajv:this.ajv,additionalErrors:this.additionalErrors}))},eventToEmit:function(e){this.$emit("change",e)},i18n:{handler:function(e){this.jsonforms.i18n=Fq(this.jsonforms.i18n,Bg.updateI18n(e==null?void 0:e.locale,e==null?void 0:e.translate,e==null?void 0:e.translateError))},deep:!0}},mounted:function(){this.$emit("change",{data:this.jsonforms.core.data,errors:this.jsonforms.core.errors})},methods:{dispatch:function(e){this.jsonforms.core=aT(this.jsonforms.core,e)}}});function Ybt(t,e,n,r,i,o){var a=It("dispatch-renderer");return Ee(),en(a,{schema:t.jsonforms.core.schema,uischema:t.jsonforms.core.uischema,path:""},null,8,["schema","uischema"])}Vfe.render=Ybt;var Xbt=zue,Kbt=Bue,Jbt=Kbt(function(t,e,n,r){Xbt(t,e,n,r)}),Zbt=Jbt;const Qbt=pr(Zbt);function Vq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(n),!0).forEach(function(r){e1t(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e1t(t,e,n){return e=a1t(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bq(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function V9(t){return t1t(t)||n1t(t)||r1t(t)||i1t()}function t1t(t){if(Array.isArray(t))return eE(t)}function n1t(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r1t(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i1t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o1t(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a1t(t){var e=o1t(t,"string");return typeof e=="symbol"?e:String(e)}var Gk={control:{root:"control",wrapper:"wrapper",label:"label",description:"description",input:"input",error:"error",textarea:"text-area",select:"select",option:"option"},verticalLayout:{root:"vertical-layout",item:"vertical-layout-item"},horizontalLayout:{root:"horizontal-layout",item:"horizontal-layout-item"},group:{root:"group",label:"group-label",item:"group-item"},arrayList:{root:"array-list",legend:"array-list-legend",addButton:"array-list-add",label:"array-list-label",itemWrapper:"array-list-item-wrapper",noData:"array-list-no-data",item:"array-list-item",itemToolbar:"array-list-item-toolbar",itemLabel:"array-list-item-label",itemContent:"array-list-item-content",itemExpanded:"expanded",itemMoveUp:"array-list-item-move-up",itemMoveDown:"array-list-item-move-down",itemDelete:"array-list-item-delete"},label:{root:"label-element"}},s1t=function(){return{control:{},verticalLayout:{},horizontalLayout:{},group:{},arrayList:{},label:{}}},nw=function(e){var n,r,i=Ni("styles",Gk);if(!(e!=null&&(n=e.options)!==null&&n!==void 0&&n.styles))return i;var o=s1t();return i?Vd(o,i):Vd(o,Gk),e!=null&&(r=e.options)!==null&&r!==void 0&&r.styles&&Vd(o,e.options.styles),o},Hq=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.reduce(function(o,a,s){return"".concat(o).concat(a).concat(r[s]||"")},"").trim()},l1t=function(e,n){var r=bc(e);return Qbt(r,n,function(i,o){if(typeof i=="string"&&typeof o=="string")return"".concat(i," ").concat(o)}),r},Cu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(s){return s.value},r=Dn(function(){return Vd({},bc(e.control.value.config),bc(e.control.value.uischema.options))}),i=Tl(!1),o=function(l){e.handleChange(e.control.value.path,n(l.target))},a=Dn(function(){var s=e.control.value,l=s.id,c=s.description,u=s.errors,f=s.label,d=s.visible,h=s.required;return{id:l,description:c,errors:u,label:f,visible:d,required:h}});return Ci(Ci({},e),{},{styles:nw(e.control.value.uischema),isFocused:i,appliedOptions:r,controlWrapper:a,onChange:o})},Bfe=function(e){var n=Dn(function(){return Vd({},bc(e.layout.value.config),bc(e.layout.value.uischema.options))});return Ci(Ci({},e),{},{styles:nw(e.layout.value.uischema),appliedOptions:n})},c1t=function(e){var n=Dn(function(){return Vd({},bc(e.label.value.config),bc(e.label.value.uischema.options))});return Ci(Ci({},e),{},{styles:nw(e.label.value.uischema),appliedOptions:n})},u1t=function(e){var n=Dn(function(){return Vd({},bc(e.control.value.config),bc(e.control.value.uischema.options))}),r=Dn(function(){return x0t(e.control.value.uischemas,e.control.value.schema,e.control.value.uischema.scope,e.control.value.path,void 0,e.control.value.uischema,e.control.value.rootSchema)}),i=function(a){var s,l,c=(s=(l=e.control.value.uischema.options)===null||l===void 0?void 0:l.childLabelProp)!==null&&s!==void 0?s:ibt(e.control.value.schema);if(!c)return"".concat(a);var u=Nm.data(e.control.value.data,RF("".concat(a),c));return u==null||isNaN(u)?"":"".concat(u)};return Ci(Ci({},e),{},{styles:nw(e.control.value.uischema),appliedOptions:n,childUiSchema:r,childLabelForIndex:i})},Wq,Uq,Hfe=zt({name:"ArrayListElement",props:{initiallyExpanded:{required:!1,type:Boolean,default:!1},label:{required:!1,type:String,default:""},moveUpEnabled:{required:!1,type:Boolean,default:!0},moveDownEnabled:{required:!1,type:Boolean,default:!0},moveUp:{required:!1,type:Function,default:void 0},moveDown:{required:!1,type:Function,default:void 0},delete:{required:!1,type:Function,default:void 0},styles:{required:!0,type:Object}},data:function(){return{expanded:this.initiallyExpanded}},computed:{contentClasses:function(){return Hq(Wq||(Wq=Bq([""," ",""])),this.styles.arrayList.itemContent,this.expanded&&this.styles.arrayList.itemExpanded)},toolbarClasses:function(){return Hq(Uq||(Uq=Bq([""," ",""])),this.styles.arrayList.itemToolbar,this.expanded&&this.styles.arrayList.itemExpanded)}},methods:{expandClicked:function(){this.expanded=!this.expanded},moveUpClicked:function(e){var n;e.stopPropagation(),(n=this.moveUp)===null||n===void 0||n.call(this)},moveDownClicked:function(e){var n;e.stopPropagation(),(n=this.moveDown)===null||n===void 0||n.call(this)},deleteClicked:function(e){var n;e.stopPropagation(),(n=this.delete)===null||n===void 0||n.call(this)}}}),f1t=["disabled"],d1t=["disabled"];function h1t(t,e,n,r,i,o){return Ee(),Be("div",{class:Ut(t.styles.arrayList.item)},[X("div",{class:Ut(t.toolbarClasses),onClick:e[3]||(e[3]=function(){return t.expandClicked&&t.expandClicked.apply(t,arguments)})},[X("div",{class:Ut(t.styles.arrayList.itemLabel)},Qt(t.label),3),X("button",{disabled:!t.moveUpEnabled,class:Ut(t.styles.arrayList.itemMoveUp),type:"button",onClick:e[0]||(e[0]=function(){return t.moveUpClicked&&t.moveUpClicked.apply(t,arguments)})}," ↑ ",10,f1t),X("button",{disabled:!t.moveDownEnabled,class:Ut(t.styles.arrayList.itemMoveDown),type:"button",onClick:e[1]||(e[1]=function(){return t.moveDownClicked&&t.moveDownClicked.apply(t,arguments)})}," ↓ ",10,d1t),X("button",{class:Ut(t.styles.arrayList.itemDelete),type:"button",onClick:e[2]||(e[2]=function(){return t.deleteClicked&&t.deleteClicked.apply(t,arguments)})}," 🗙 ",2)],2),X("div",{class:Ut(t.contentClasses)},[t$(t.$slots,"default")],2)],2)}Hfe.render=h1t;var Wfe=zt({name:"ArrayListRenderer",components:{ArrayListElement:Hfe,DispatchRenderer:q2},props:Ci({},sa()),setup:function(e){return u1t(jbt(e))},computed:{noData:function(){return!this.control.data||this.control.data.length===0}},methods:{composePaths:RF,createDefaultValue:Mq,addButtonClick:function(){this.addItem(this.control.path,Mq(this.control.schema))()}}}),p1t={renderer:Wfe,tester:ys(2,U2("array"))};function m1t(t,e,n,r,i,o){var a=It("dispatch-renderer"),s=It("array-list-element");return t.control.visible?(Ee(),Be("fieldset",{key:0,class:Ut(t.styles.arrayList.root)},[X("legend",{class:Ut(t.styles.arrayList.legend)},[X("button",{class:Ut(t.styles.arrayList.addButton),type:"button",onClick:e[0]||(e[0]=function(){return t.addButtonClick&&t.addButtonClick.apply(t,arguments)})}," + ",2),X("label",{class:Ut(t.styles.arrayList.label)},Qt(t.control.label),3)],2),(Ee(!0),Be(hn,null,uo(t.control.data,function(l,c){return Ee(),Be("div",{key:"".concat(t.control.path,"-").concat(c),class:Ut(t.styles.arrayList.itemWrapper)},[at(s,{"move-up":t.moveUp(t.control.path,c),"move-up-enabled":c>0,"move-down":t.moveDown(t.control.path,c),"move-down-enabled":c<t.control.data.length-1,delete:t.removeItems(t.control.path,[c]),label:t.childLabelForIndex(c),styles:t.styles},{default:gs(function(){return[at(a,{schema:t.control.schema,uischema:t.childUiSchema,path:t.composePaths(t.control.path,"".concat(c)),enabled:t.control.enabled,renderers:t.control.renderers,cells:t.control.cells},null,8,["schema","uischema","path","enabled","renderers","cells"])]}),_:2},1032,["move-up","move-up-enabled","move-down","move-down-enabled","delete","label","styles"])],2)}),128)),t.noData?(Ee(),Be("div",{key:0,class:Ut(t.styles.arrayList.noData)},Qt(t.control.translations.noDataMessage),3)):ct("",!0)],2)):ct("",!0)}Wfe.render=m1t;var g1t=[p1t],Cc=zt({name:"ControlWrapper",props:{id:{required:!0,type:String},description:{required:!1,type:String,default:void 0},errors:{required:!1,type:String,default:void 0},label:{required:!1,type:String,default:void 0},appliedOptions:{required:!1,type:Object,default:void 0},visible:{required:!1,type:Boolean,default:!0},required:{required:!1,type:Boolean,default:!1},isFocused:{required:!1,type:Boolean,default:!1},styles:{required:!0,type:Object}},computed:{showDescription:function(){var e;return!B0t(this.visible,this.description,this.isFocused,!!((e=this.appliedOptions)!==null&&e!==void 0&&e.showUnfocusedDescription))},computedLabel:function(){var e;return V0t(this.label,this.required,!!((e=this.appliedOptions)!==null&&e!==void 0&&e.hideRequiredAsterisk))}}}),b1t=["id"],v1t=["for"];function y1t(t,e,n,r,i,o){return t.visible?(Ee(),Be("div",{key:0,id:t.id,class:Ut(t.styles.control.root)},[X("label",{for:t.id+"-input",class:Ut(t.styles.control.label)},Qt(t.computedLabel),11,v1t),X("div",{class:Ut(t.styles.control.wrapper)},[t$(t.$slots,"default")],2),X("div",{class:Ut(t.errors?t.styles.control.error:t.styles.control.description)},Qt(t.errors?t.errors:t.showDescription?t.description:null),3)],10,b1t)):ct("",!0)}Cc.render=y1t;var Ufe=zt({name:"StringControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.value||void 0})}}),k1t={renderer:Ufe,tester:ys(1,Sfe)},_1t=["id","value","disabled","autofocus","placeholder"];function w1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",class:Ut(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,_1t)]}),_:1},16,["styles","is-focused","applied-options"])}Ufe.render=w1t;var Gfe=zt({name:"MultiStringControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.value||void 0})}}),S1t={renderer:Gfe,tester:ys(2,jl(Sfe,y0t))},x1t=["id","value","disabled","autofocus","placeholder"];function C1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("textarea",{id:t.control.id+"-input",class:Ut(t.styles.control.textarea),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,x1t)]}),_:1},16,["styles","is-focused","applied-options"])}Gfe.render=C1t;var qfe=zt({name:"NumberControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.value===""?void 0:Number(n.value)})},computed:{step:function(){var e,n=this.appliedOptions;return(e=n.step)!==null&&e!==void 0?e:.1}}}),T1t={renderer:qfe,tester:ys(1,v0t)},A1t=["id","step","value","disabled","autofocus","placeholder"];function I1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",type:"number",step:t.step,class:Ut(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,A1t)]}),_:1},16,["styles","is-focused","applied-options"])}qfe.render=I1t;var Yfe=zt({name:"IntegerControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.value===""?void 0:parseInt(n.value,10)})}}),P1t={renderer:Yfe,tester:ys(1,b0t)},E1t=["id","value","disabled","autofocus","placeholder"];function $1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",type:"number",step:1,class:Ut(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,E1t)]}),_:1},16,["styles","is-focused","applied-options"])}Yfe.render=$1t;var Xfe=zt({name:"EnumControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(zbt(e),function(n){return n.selectedIndex===0?void 0:n.value})}}),O1t={renderer:Xfe,tester:ys(2,m0t)},D1t=["id","value","disabled","autofocus"],L1t=["value","label"];function F1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("select",{id:t.control.id+"-select",class:Ut(t.styles.control.select),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},[X("option",{key:"empty",value:"",class:Ut(t.styles.control.option)},null,2),(Ee(!0),Be(hn,null,uo(t.control.options,function(s){return Ee(),Be("option",{key:s.value,value:s.value,label:s.label,class:Ut(t.styles.control.option)},null,10,L1t)}),128))],42,D1t)]}),_:1},16,["styles","is-focused","applied-options"])}Xfe.render=F1t;var Kfe=zt({name:"EnumOneofControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Rbt(e),function(n){return n.selectedIndex===0?void 0:n.value})}}),N1t={renderer:Kfe,tester:ys(2,g0t)},M1t=["id","value","disabled","autofocus"],z1t=["value","label"];function R1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("select",{id:t.control.id+"-input",class:Ut(t.styles.control.select),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},[X("option",{key:"empty",value:"",class:Ut(t.styles.control.option)},null,2),(Ee(!0),Be(hn,null,uo(t.control.options,function(s){return Ee(),Be("option",{key:s.value,value:s.value,label:s.label,class:Ut(t.styles.control.option)},null,10,z1t)}),128))],42,M1t)]}),_:1},16,["styles","is-focused","applied-options"])}Kfe.render=R1t;var Jfe=zt({name:"DateControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.value||void 0})}}),j1t={renderer:Jfe,tester:ys(2,k0t)},V1t=["id","value","disabled","autofocus","placeholder"];function B1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",type:"date",class:Ut(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,V1t)]}),_:1},16,["styles","is-focused","applied-options"])}Jfe.render=B1t;var H1t=function(e){return e===""?void 0:e+":00.000Z"},Zfe=zt({name:"DatetimeControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return H1t(n.value)})},computed:{dataTime:function(){var e;return((e=this.control.data)!==null&&e!==void 0?e:"").substr(0,16)}}}),W1t={renderer:Zfe,tester:ys(2,w0t)},U1t=["id","value","disabled","autofocus","placeholder"];function G1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",type:"datetime-local",class:Ut(t.styles.control.input),value:t.dataTime,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,U1t)]}),_:1},16,["styles","is-focused","applied-options"])}Zfe.render=G1t;var Qfe=zt({name:"TimeControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.value||void 0})}}),q1t={renderer:Qfe,tester:ys(2,_0t)},Y1t=["id","value","disabled","autofocus","placeholder"];function X1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",type:"time",class:Ut(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,Y1t)]}),_:1},16,["styles","is-focused","applied-options"])}Qfe.render=X1t;var ede=zt({name:"BooleanControlRenderer",components:{ControlWrapper:Cc},props:Ci({},sa()),setup:function(e){return Cu(Ch(e),function(n){return n.checked})}}),K1t={renderer:ede,tester:ys(1,p0t)},J1t=["id","checked","disabled","autofocus","placeholder"];function Z1t(t,e,n,r,i,o){var a=It("control-wrapper");return Ee(),en(a,Ll(t.controlWrapper,{styles:t.styles,"is-focused":t.isFocused,"applied-options":t.appliedOptions}),{default:gs(function(){return[X("input",{id:t.control.id+"-input",type:"checkbox",class:Ut(t.styles.control.input),checked:!!t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(s){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(s){return t.isFocused=!1})},null,42,J1t)]}),_:1},16,["styles","is-focused","applied-options"])}ede.render=Z1t;var Q1t=[k1t,S1t,T1t,P1t,O1t,N1t,j1t,W1t,q1t,K1t],tde=zt({name:"LayoutRenderer",components:{DispatchRenderer:q2},props:Ci({},sa()),setup:function(e){return Bfe(jfe(e))},computed:{layoutClassObject:function(){return this.layout.direction==="row"?this.styles.horizontalLayout:this.styles.verticalLayout}}}),evt={renderer:tde,tester:ys(1,OF)};function tvt(t,e,n,r,i,o){var a=It("dispatch-renderer");return t.layout.visible?(Ee(),Be("div",{key:0,class:Ut(t.layoutClassObject.root)},[(Ee(!0),Be(hn,null,uo(t.layout.uischema.elements,function(s,l){return Ee(),Be("div",{key:"".concat(t.layout.path,"-").concat(l),class:Ut(t.layoutClassObject.item)},[at(a,{schema:t.layout.schema,uischema:s,path:t.layout.path,enabled:t.layout.enabled,renderers:t.layout.renderers,cells:t.layout.cells},null,8,["schema","uischema","path","enabled","renderers","cells"])],2)}),128))],2)):ct("",!0)}tde.render=tvt;var nde=zt({name:"GroupRenderer",components:{DispatchRenderer:q2},props:Ci({},sa()),setup:function(e){return Bfe(jfe(e))}}),nvt={renderer:nde,tester:ys(2,jl(OF,Rl("Group")))};function rvt(t,e,n,r,i,o){var a=It("dispatch-renderer");return t.layout.visible?(Ee(),Be("fieldset",{key:0,class:Ut(t.styles.group.root)},[t.layout.label?(Ee(),Be("legend",{key:0,class:Ut(t.styles.group.label)},Qt(t.layout.label),3)):ct("",!0),(Ee(!0),Be(hn,null,uo(t.layout.uischema.elements,function(s,l){return Ee(),Be("div",{key:"".concat(t.layout.path,"-").concat(l),class:Ut(t.styles.group.item)},[at(a,{schema:t.layout.schema,uischema:s,path:t.layout.path,enabled:t.layout.enabled,renderers:t.layout.renderers,cells:t.layout.cells},null,8,["schema","uischema","path","enabled","renderers","cells"])],2)}),128))],2)):ct("",!0)}nde.render=rvt;var ivt=[evt,nvt],rde=zt({name:"LabelRenderer",props:Ci({},sa()),setup:function(e){return c1t(Bbt(e))}}),ovt={renderer:rde,tester:ys(1,Rl("Label"))};function avt(t,e,n,r,i,o){return t.label.visible?(Ee(),Be("label",{key:0,class:Ut(t.styles.label.root)},Qt(t.label.text),3)):ct("",!0)}rde.render=avt;var svt=[ovt],lvt=[].concat(V9(Q1t),V9(ivt),V9(g1t),V9(svt));const cvt=l1t(Gk,{arrayList:{addButton:"is-hidden",itemContent:"expanded",itemToolbar:"is-hidden"}}),uvt=[...lvt],fvt=zt({components:{JsonForms:Vfe},provide(){const t=this.placesStore.place.schema;return t.maxItems&&t.maxItems===1?{styles:cvt}:{styles:Gk}},data(){return{renderers:Object.freeze(uvt)}},computed:{...Mt(Af),...Mt(ta)},methods:{onFormChange(t){this.placesStore.savePlaceMarkingFromForm(t.data)},onSingleTokenFormChange(t){this.placesStore.savePlaceMarkingFromForm([t.data])}}}),dvt={class:"block"};function hvt(t,e,n,r,i,o){const a=It("json-forms");return Ee(),Be("div",dvt,[t.placesStore.place.schema.maxItems!==1?(Ee(),en(a,{key:0,data:t.placesStore.formsData,schema:t.placesStore.place.schema,renderers:t.renderers,onChange:t.onFormChange},null,8,["data","schema","renderers","onChange"])):ct("",!0),t.placesStore.place.marking.length>0?(Ee(),en(a,{key:1,data:t.placesStore.formsData[0],schema:t.placesStore.place.schema.items,renderers:t.renderers,onChange:t.onSingleTokenFormChange},null,8,["data","schema","renderers","onChange"])):ct("",!0)])}const pvt=Qr(fvt,[["render",hvt]]),mvt=zt({data(){return{data:{data:null}}},computed:{...Mt(Af),...Mt(Zn),...Mt(ta),...Mt(ss)},created(){this.load()},methods:{async load(){var n;const t=(n=this.configStore.getPlaceTypeById(this.netStore.placeTypes[this.placesStore.place.id]))==null?void 0:n.externalInteraction;if(!t||t.type==="none")return;const e=await fetch(t.url);this.data=await e.json()},loadModel(t){this.netStore.import(t.model)},setPlaceData(t){var r;this.placesStore.place.name=t.name,this.placesStore.saveName();const e=(r=this.configStore.getPlaceTypeById(this.netStore.placeTypes[this.placesStore.place.id]))==null?void 0:r.externalInteraction;if(!e||e.type!=="pull")return;const n=t.marking;n[0]={...t.marking[0],...e.enforcedMarking},this.placesStore.savePlaceMarkingFromEditor(JSON.stringify(n))}}}),gvt={key:0},bvt={class:"table is-size-7 is-fullwidth"},vvt=X("thead",null,[X("th",null,"Eintrag"),X("th",null,"Aktionen")],-1),yvt=["onClick"],kvt=["onClick"],_vt=X("hr",null,null,-1);function wvt(t,e,n,r,i,o){return t.data?(Ee(),Be("div",gvt,[X("table",bvt,[vvt,X("tbody",null,[(Ee(!0),Be(hn,null,uo(t.data.data,a=>(Ee(),Be("tr",null,[X("td",null,Qt(a.name),1),X("td",null,[t.uiStateStore.uiAssistMode==="expert"?(Ee(),Be("a",{key:0,class:"mr-5",onClick:s=>t.loadModel(a)}," Modell öffnen ",8,yvt)):ct("",!0),X("a",{onClick:s=>t.setPlaceData(a)}," Laden ",8,kvt)])]))),256))])]),_vt])):ct("",!0)}const Svt=Qr(mvt,[["render",wvt]]),xvt=zt({components:{DataForm:pvt,DataEditor:Nce,DataLoader:Svt},computed:{...Mt(Af),...Mt(Zn),...Mt(ta),...Mt(ss),isDeletable(){return this.placesStore.databaseMap[this.placesStore.place.id]!==""}},watch:{"placesStore.markingString"(t){this.placesStore.savePlaceMarkingFromEditor(t)}},methods:{async deleteData(){var n;const t=(n=this.configStore.getPlaceTypeById(this.netStore.placeTypes[this.placesStore.place.id]))==null?void 0:n.externalInteraction;if(!t||t.type==="none")return;const e=this.placesStore.databaseMap[this.placesStore.place.id];!e||e===""?alert("Daten wurden bisher noch nicht veröffentlicht."):await fetch(t.url+e,{method:"DELETE"}).then(r=>r.json()).then(()=>{this.placesStore.databaseMap[this.placesStore.place.id]="",alert("Daten wurden gelöscht.")})},async publish(){var o;const t=(o=this.configStore.getPlaceTypeById(this.netStore.placeTypes[this.placesStore.place.id]))==null?void 0:o.externalInteraction;if(!t||t.type==="none")return;const e=this.placesStore.databaseMap[this.placesStore.place.id],n=JSON.parse(JSON.stringify(this.placesStore.place.marking));Zn().resetModel();const r=Zn().export(),i={name:this.placesStore.place.name,marking:n,model:JSON.parse(r)};e?await fetch(t.url+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(a=>a.json()).then(a=>{alert("Daten wurden aktualisiert (ID: "+e+").")}):await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then(a=>a.json()).then(a=>{const s=a._id;alert("Daten wurden veröffentlicht (ID: "+s+"). Das Modell wurde zurückgesetzt."),this.placesStore.databaseMap[this.placesStore.place.id]=s})}}}),Cvt={key:3,class:"block"},Tvt=["disabled"];function Avt(t,e,n,r,i,o){var c,u;const a=It("DataLoader"),s=It("DataForm"),l=It("DataEditor");return Ee(),Be(hn,null,[((c=t.configStore.getPlaceTypeById(t.netStore.placeTypes[t.placesStore.place.id]))==null?void 0:c.externalInteraction.type)==="pull"?(Ee(),en(a,{key:0})):ct("",!0),t.uiStateStore.uiAssistMode==="assisted"?(Ee(),en(s,{key:1})):t.uiStateStore.uiAssistMode==="expert"?(Ee(),en(l,{key:2})):ct("",!0),((u=t.configStore.getPlaceTypeById(t.netStore.placeTypes[t.placesStore.place.id]))==null?void 0:u.externalInteraction.type)==="push"&&t.placesStore.place.marking.length>0?(Ee(),Be("div",Cvt,[X("button",{class:"button is-pulled-right is-primary is-small",style:{"margin-left":"auto"},onClick:e[0]||(e[0]=f=>t.publish())},"Veröffentlichen"),X("button",{class:"button is-pulled-right is-danger is-small mr-2",style:{"margin-left":"auto"},onClick:e[1]||(e[1]=f=>t.deleteData()),disabled:!t.isDeletable},"Löschen",8,Tvt)])):ct("",!0)],64)}const Ivt=Qr(xvt,[["render",Avt]]);function k0(t,e,n){var r=t.get("borderRadius");if(r==null)return n?{cornerRadius:0}:null;gt(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:tn(r,function(o){return cb(o,i)})}}var B9=Math.PI*2,Gq=Math.PI/180;function ide(t,e){return fb(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ode(t,e){var n=ide(t,e),r=t.get("center"),i=t.get("radius");gt(i)||(i=[0,i]);var o=Xr(n.width,e.getWidth()),a=Xr(n.height,e.getHeight()),s=Math.min(o,a),l=Xr(i[0],s/2),c=Xr(i[1],s/2),u,f,d=t.coordinateSystem;if(d){var h=d.dataToPoint(r);u=h[0]||0,f=h[1]||0}else gt(r)||(r=[r,r]),u=Xr(r[0],o)+n.x,f=Xr(r[1],a)+n.y;return{cx:u,cy:f,r0:l,r:c}}function Pvt(t,e,n){e.eachSeriesByType(t,function(r){var i=r.getData(),o=i.mapDimension("value"),a=ide(r,n),s=ode(r,n),l=s.cx,c=s.cy,u=s.r,f=s.r0,d=-r.get("startAngle")*Gq,h=r.get("minAngle")*Gq,m=0;i.each(o,function(F){!isNaN(F)&&m++});var v=i.getSum(o),k=Math.PI/(v||m)*2,b=r.get("clockwise"),_=r.get("roseType"),x=r.get("stillShowZeroSum"),C=i.getDataExtent(o);C[0]=0;var S=B9,g=0,T=d,P=b?1:-1;if(i.setLayout({viewRect:a,r:u}),i.each(o,function(F,D){var z;if(isNaN(F)){i.setItemLayout(D,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:c,r0:f,r:_?NaN:u});return}_!=="area"?z=v===0&&x?k:F*k:z=B9/m,z<h?(z=h,S-=h):g+=F;var R=T+P*z;i.setItemLayout(D,{angle:z,startAngle:T,endAngle:R,clockwise:b,cx:l,cy:c,r0:f,r:_?ub(F,C,[f,u]):u}),T=R}),S<B9&&m)if(S<=.001){var $=B9/m;i.each(o,function(F,D){if(!isNaN(F)){var z=i.getItemLayout(D);z.angle=$,z.startAngle=d+P*D*$,z.endAngle=d+P*(D+1)*$}})}else k=S/g,T=d,i.each(o,function(F,D){if(!isNaN(F)){var z=i.getItemLayout(D),R=z.angle===h?h:F*k;z.startAngle=T,z.endAngle=T+P*R,T+=P*R}})})}function ade(t){return{seriesType:t,reset:function(e,n){var r=n.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(o){for(var a=i.getName(o),s=0;s<r.length;s++)if(!r[s].isSelected(a))return!1;return!0})}}}}var Evt=Math.PI/180;function qq(t,e,n,r,i,o,a,s,l,c){if(t.length<2)return;function u(v){for(var k=v.rB,b=k*k,_=0;_<v.list.length;_++){var x=v.list[_],C=Math.abs(x.label.y-n),S=r+x.len,g=S*S,T=Math.sqrt((1-Math.abs(C*C/b))*g),P=e+(T+x.len2)*i,$=P-x.label.x,F=x.targetTextWidth-$*i;sde(x,F,!0),x.label.x=P}}function f(v){for(var k={list:[],maxY:0},b={list:[],maxY:0},_=0;_<v.length;_++)if(v[_].labelAlignTo==="none"){var x=v[_],C=x.label.y>n?b:k,S=Math.abs(x.label.y-n);if(S>=C.maxY){var g=x.label.x-e-x.len2*i,T=r+x.len,P=Math.abs(g)<T?Math.sqrt(S*S/(1-g*g/T/T)):T;C.rB=P,C.maxY=S}C.list.push(x)}u(k),u(b)}for(var d=t.length,h=0;h<d;h++)if(t[h].position==="outer"&&t[h].labelAlignTo==="labelLine"){var m=t[h].label.x-c;t[h].linePoints[1][0]+=m,t[h].label.x=c}PEe(t,l,l+a)&&f(t)}function $vt(t,e,n,r,i,o,a,s){for(var l=[],c=[],u=Number.MAX_VALUE,f=-Number.MAX_VALUE,d=0;d<t.length;d++){var h=t[d].label;lT(t[d])||(h.x<e?(u=Math.min(u,h.x),l.push(t[d])):(f=Math.max(f,h.x),c.push(t[d])))}for(var d=0;d<t.length;d++){var m=t[d];if(!lT(m)&&m.linePoints){if(m.labelStyleWidth!=null)continue;var h=m.label,v=m.linePoints,k=void 0;m.labelAlignTo==="edge"?h.x<e?k=v[2][0]-m.labelDistance-a-m.edgeDistance:k=a+i-m.edgeDistance-v[2][0]-m.labelDistance:m.labelAlignTo==="labelLine"?h.x<e?k=u-a-m.bleedMargin:k=a+i-f-m.bleedMargin:h.x<e?k=h.x-a-m.bleedMargin:k=a+i-h.x-m.bleedMargin,m.targetTextWidth=k,sde(m,k)}}qq(c,e,n,r,1,i,o,a,s,f),qq(l,e,n,r,-1,i,o,a,s,u);for(var d=0;d<t.length;d++){var m=t[d];if(!lT(m)&&m.linePoints){var h=m.label,v=m.linePoints,b=m.labelAlignTo==="edge",_=h.style.padding,x=_?_[1]+_[3]:0,C=h.style.backgroundColor?0:x,S=m.rect.width+C,g=v[1][0]-v[2][0];b?h.x<e?v[2][0]=a+m.edgeDistance+S+m.labelDistance:v[2][0]=a+i-m.edgeDistance-S-m.labelDistance:(h.x<e?v[2][0]=h.x+m.labelDistance:v[2][0]=h.x-m.labelDistance,v[1][0]=v[2][0]+g),v[1][1]=v[2][1]=h.y}}}function sde(t,e,n){if(n===void 0&&(n=!1),t.labelStyleWidth==null){var r=t.label,i=r.style,o=t.rect,a=i.backgroundColor,s=i.padding,l=s?s[1]+s[3]:0,c=i.overflow,u=o.width+(a?0:l);if(e<u||n){var f=o.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",a)}else{var h=e-l,m=e<u?h:n?h>t.unconstrainedWidth?null:h:null;r.setStyle("width",m)}var v=r.getBoundingRect();o.width=v.width;var k=(r.style.margin||0)+2.1;o.height=v.height+k,o.y-=(o.height-f)/2}}}function lT(t){return t.position==="center"}function Ovt(t){var e=t.getData(),n=[],r,i,o=!1,a=(t.get("minShowLabelAngle")||0)*Evt,s=e.getLayout("viewRect"),l=e.getLayout("r"),c=s.width,u=s.x,f=s.y,d=s.height;function h(g){g.ignore=!0}function m(g){if(!g.ignore)return!0;for(var T in g.states)if(g.states[T].ignore===!1)return!0;return!1}e.each(function(g){var T=e.getItemGraphicEl(g),P=T.shape,$=T.getTextContent(),F=T.getTextGuideLine(),D=e.getItemModel(g),z=D.getModel("label"),R=z.get("position")||D.get(["emphasis","label","position"]),V=z.get("distanceToLabelLine"),ie=z.get("alignTo"),oe=Xr(z.get("edgeDistance"),c),_e=z.get("bleedMargin"),Ae=D.getModel("labelLine"),Ie=Ae.get("length");Ie=Xr(Ie,c);var ke=Ae.get("length2");if(ke=Xr(ke,c),Math.abs(P.endAngle-P.startAngle)<a){ye($.states,h),$.ignore=!0,F&&(ye(F.states,h),F.ignore=!0);return}if(m($)){var se=(P.startAngle+P.endAngle)/2,ne=Math.cos(se),J=Math.sin(se),j,U,ae,te;r=P.cx,i=P.cy;var ue=R==="inside"||R==="inner";if(R==="center")j=P.cx,U=P.cy,te="center";else{var ce=(ue?(P.r+P.r0)/2*ne:P.r*ne)+r,fe=(ue?(P.r+P.r0)/2*J:P.r*J)+i;if(j=ce+ne*3,U=fe+J*3,!ue){var ve=ce+ne*(Ie+l-P.r),B=fe+J*(Ie+l-P.r),Y=ve+(ne<0?-1:1)*ke,E=B;ie==="edge"?j=ne<0?u+oe:u+c-oe:j=Y+(ne<0?-V:V),U=E,ae=[[ce,fe],[ve,B],[Y,E]]}te=ue?"center":ie==="edge"?ne>0?"right":"left":ne>0?"left":"right"}var M=Math.PI,H=0,Q=z.get("rotate");if(Zr(Q))H=Q*(M/180);else if(R==="center")H=0;else if(Q==="radial"||Q===!0){var be=ne<0?-se+M:-se;H=be}else if(Q==="tangential"&&R!=="outside"&&R!=="outer"){var me=Math.atan2(ne,J);me<0&&(me=M*2+me);var Fe=J>0;Fe&&(me=M+me),H=me-M}if(o=!!H,$.x=j,$.y=U,$.rotation=H,$.setStyle({verticalAlign:"middle"}),ue){$.setStyle({align:te});var Ke=$.states.select;Ke&&(Ke.x+=$.x,Ke.y+=$.y)}else{var Le=$.getBoundingRect().clone();Le.applyTransform($.getComputedTransform());var tt=($.style.margin||0)+2.1;Le.y-=tt/2,Le.height+=tt,n.push({label:$,labelLine:F,position:R,len:Ie,len2:ke,minTurnAngle:Ae.get("minTurnAngle"),maxSurfaceAngle:Ae.get("maxSurfaceAngle"),surfaceNormal:new ln(ne,J),linePoints:ae,textAlign:te,labelDistance:V,labelAlignTo:ie,edgeDistance:oe,bleedMargin:_e,rect:Le,unconstrainedWidth:Le.width,labelStyleWidth:$.style.width})}T.setTextConfig({inside:ue})}}),!o&&t.get("avoidLabelOverlap")&&$vt(n,r,i,l,c,d,u,f);for(var v=0;v<n.length;v++){var k=n[v],b=k.label,_=k.labelLine,x=isNaN(b.x)||isNaN(b.y);if(b){b.setStyle({align:k.textAlign}),x&&(ye(b.states,h),b.ignore=!0);var C=b.states.select;C&&(C.x+=b.x,C.y+=b.y)}if(_){var S=k.linePoints;x||!S?(ye(_.states,h),_.ignore=!0):(wEe(S,k.minTurnAngle),SEe(S,k.surfaceNormal,k.maxSurfaceAngle),_.setShape({points:S}),b.__hostTarget.textGuideLineConfig={anchor:new ln(S[0][0],S[0][1])})}}}var Dvt=function(t){xr(e,t);function e(n,r,i){var o=t.call(this)||this;o.z2=2;var a=new ea;return o.setTextContent(a),o.updateData(n,r,i,!0),o}return e.prototype.updateData=function(n,r,i,o){var a=this,s=n.hostModel,l=n.getItemModel(r),c=l.getModel("emphasis"),u=n.getItemLayout(r),f=ot(k0(l.getModel("itemStyle"),u,!0),u);if(isNaN(f.startAngle)){a.setShape(f);return}if(o){a.setShape(f);var d=s.getShallow("animationType");s.ecModel.ssr?(M0(a,{scaleX:0,scaleY:0},s,{dataIndex:r,isFrom:!0}),a.originX=f.cx,a.originY=f.cy):d==="scale"?(a.shape.r=u.r0,M0(a,{shape:{r:u.r}},s,r)):i!=null?(a.setShape({startAngle:i,endAngle:i}),M0(a,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,r)):(a.shape.endAngle=u.startAngle,Cm(a,{shape:{endAngle:u.endAngle}},s,r))}else lne(a),Cm(a,{shape:f},s,r);a.useStyle(n.getItemVisual(r,"style")),CI(a,l);var h=(u.startAngle+u.endAngle)/2,m=s.get("selectedOffset"),v=Math.cos(h)*m,k=Math.sin(h)*m,b=l.getShallow("cursor");b&&a.attr("cursor",b),this._updateLabel(s,n,r),a.ensureState("emphasis").shape=ot({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},k0(c.getModel("itemStyle"),u)),ot(a.ensureState("select"),{x:v,y:k,shape:k0(l.getModel(["select","itemStyle"]),u)}),ot(a.ensureState("blur"),{shape:k0(l.getModel(["blur","itemStyle"]),u)});var _=a.getTextGuideLine(),x=a.getTextContent();_&&ot(_.ensureState("select"),{x:v,y:k}),ot(x.ensureState("select"),{x:v,y:k}),V5(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(n,r,i){var o=this,a=r.getItemModel(i),s=a.getModel("labelLine"),l=r.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;U5(o,EI(a),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:n.getFormattedLabel(i,"normal")||r.getName(i)});var f=o.getTextContent();o.setTextConfig({position:null,rotation:null}),f.attr({z2:10});var d=n.get(["label","position"]);if(d!=="outside"&&d!=="outer")o.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new U6,this.setTextGuideLine(h)),CEe(this,TEe(a),{stroke:c,opacity:D0(s.get(["lineStyle","opacity"]),u,1)})}},e}(p2),Lvt=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return e.prototype.render=function(n,r,i,o){var a=n.getData(),s=this._data,l=this.group,c;if(!s&&a.count()>0){for(var u=a.getItemLayout(0),f=1;isNaN(u&&u.startAngle)&&f<a.count();++f)u=a.getItemLayout(f);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),a.count()===0&&n.get("showEmptyCircle")){var d=new p2({shape:ode(n,i)});d.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}a.diff(s).add(function(h){var m=new Dvt(a,h,c);a.setItemGraphicEl(h,m),l.add(m)}).update(function(h,m){var v=s.getItemGraphicEl(m);v.updateData(a,h,c),v.off("click"),l.add(v),a.setItemGraphicEl(h,v)}).remove(function(h){var m=s.getItemGraphicEl(h);sne(m,n,h)}).execute(),Ovt(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=a)},e.prototype.dispose=function(){},e.prototype.containPoint=function(n,r){var i=r.getData(),o=i.getItemLayout(0);if(o){var a=n[0]-o.cx,s=n[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="pie",e}(zd);const Fvt=Lvt;function Nvt(t,e,n){e=gt(e)&&{coordDimensions:e}||ot({encodeDefine:t.getEncode()},e);var r=t.getSource(),i=e_(r,e).dimensions,o=new s4(i,t);return o.initData(r,n),o}var Mvt=function(){function t(e,n){this._getDataWithEncodedVisual=e,this._getRawData=n}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var n=this._getRawData();return n.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var n=this._getDataWithEncodedVisual();return n.indexOfName(e)},t.prototype.getItemVisual=function(e,n){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,n)},t}();const zvt=Mvt;var Rvt=no(),jvt=function(t){xr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new zvt(Er(this.getData,this),Er(this.getRawData,this)),this._defaultLabelLine(n)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Nvt(this,{coordDimensions:["value"],encodeDefaulter:Rr(eAe,this)})},e.prototype.getDataParams=function(n){var r=this.getData(),i=Rvt(r),o=i.seats;if(!o){var a=[];r.each(r.mapDimension("value"),function(l){a.push(l)}),o=i.seats=FSe(a,r.hostModel.get("percentPrecision"))}var s=t.prototype.getDataParams.call(this,n);return s.percent=o[n]||0,s.$vars.push("percent"),s},e.prototype._defaultLabelLine=function(n){vI(n,"labelLine",["show"]);var r=n.labelLine,i=n.emphasis.labelLine;r.show=r.show&&n.label.show,i.show=i.show&&n.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Am);const Vvt=jvt;function Bvt(t){return{seriesType:t,reset:function(e,n){var r=e.getData();r.filterSelf(function(i){var o=r.mapDimension("value"),a=r.get(o,i);return!(Zr(a)&&!isNaN(a)&&a<0)})}}}function Hvt(t){t.registerChartView(Fvt),t.registerSeriesModel(Vvt),HIe("pie",t.registerAction),t.registerLayout(Rr(Pvt,"pie")),t.registerProcessor(ade("pie")),t.registerProcessor(Bvt("pie"))}function Yq(t,e,n){n=n||{};var r=t.coordinateSystem,i=e.axis,o={},a=i.getAxesOnZeroOf()[0],s=i.position,l=a?"onZero":s,c=i.dim,u=r.getRect(),f=[u.x,u.x+u.width,u.y,u.y+u.height],d={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,m=c==="x"?[f[2]-h,f[3]+h]:[f[0]-h,f[1]+h];if(a){var v=a.toGlobalCoord(a.dataToCoord(0));m[d.onZero]=Math.max(Math.min(v,m[1]),m[0])}o.position=[c==="y"?m[d[l]]:f[0],c==="x"?m[d[l]]:f[3]],o.rotation=Math.PI/2*(c==="x"?0:1);var k={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=k[s],o.labelOffset=a?m[d[s]]-m[d.onZero]:0,e.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),xm(n.labelInside,e.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var b=e.get(["axisLabel","rotate"]);return o.labelRotate=l==="top"?-b:b,o.z2=1,o}var Pd=Math.PI,hm=function(){function t(e,n){this.group=new vu,this.opt=n,this.axisModel=e,mi(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new vu({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return t.prototype.hasBuilder=function(e){return!!Xq[e]},t.prototype.add=function(e){Xq[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,n,r){var i=lte(n-e),o,a;return F5(i)?(a=r>0?"top":"bottom",o="center"):F5(i-Pd)?(a=r>0?"bottom":"top",o="center"):(a="middle",i>0&&i<Pd?o=r>0?"right":"left":o=r>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:a}},t.makeAxisEventDataBase=function(e){var n={componentType:e.mainType,componentIndex:e.componentIndex};return n[e.mainType+"Index"]=e.componentIndex,n},t.isLabelSilent=function(e){var n=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||n&&n.show)},t}(),Xq={axisLine:function(t,e,n,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&t.handleAutoShown&&(i=t.handleAutoShown("axisLine")),!!i){var o=e.axis.getExtent(),a=r.transform,s=[o[0],0],l=[o[1],0],c=s[0]>l[0];a&&(fu(s,s,a),fu(l,l,a));var u=ot({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),f=new m2({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});kO(f.shape,f.style.lineWidth),f.anid="line",n.add(f);var d=e.get(["axisLine","symbol"]);if(d!=null){var h=e.get(["axisLine","symbolSize"]);Et(d)&&(d=[d,d]),(Et(h)||Zr(h))&&(h=[h,h]);var m=rPe(e.get(["axisLine","symbolOffset"])||0,h),v=h[0],k=h[1];ye([{rotate:t.rotation+Math.PI/2,offset:m[0],r:0},{rotate:t.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(b,_){if(d[_]!=="none"&&d[_]!=null){var x=MO(d[_],-v/2,-k/2,v,k,u.stroke,!0),C=b.r+b.offset,S=c?l:s;x.attr({rotation:b.rotate,x:S[0]+C*Math.cos(t.rotation),y:S[1]-C*Math.sin(t.rotation),silent:!0,z2:11}),n.add(x)}})}}},axisTickLabel:function(t,e,n,r){var i=Gvt(n,r,e,t),o=Yvt(n,r,e,t);if(Uvt(e,o,i),qvt(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var a=AEe(tn(o,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}}));EEe(a)}},axisName:function(t,e,n,r){var i=xm(t.axisName,e.get("name"));if(i){var o=e.get("nameLocation"),a=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,f=[o==="start"?c[0]-u*l:o==="end"?c[1]+u*l:(c[0]+c[1])/2,Jq(o)?t.labelOffset+a*l:0],d,h=e.get("nameRotate");h!=null&&(h=h*Pd/180);var m;Jq(o)?d=hm.innerTextLayout(t.rotation,h??t.rotation,a):(d=Wvt(t.rotation,o,h||0,c),m=t.axisNameAvailableWidth,m!=null&&(m=Math.abs(m/Math.sin(d.rotation)),!isFinite(m)&&(m=null)));var v=s.getFont(),k=e.get("nameTruncate",!0)||{},b=k.ellipsis,_=xm(t.nameTruncateMaxWidth,k.maxWidth,m),x=new ea({x:f[0],y:f[1],rotation:d.rotation,silent:hm.isLabelSilent(e),style:Cf(s,{text:i,font:v,overflow:"truncate",width:_,ellipsis:b,fill:s.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:s.get("align")||d.textAlign,verticalAlign:s.get("verticalAlign")||d.textVerticalAlign}),z2:1});if(SO({el:x,componentModel:e,itemName:i}),x.__fullText=i,x.anid="name",e.get("triggerEvent")){var C=hm.makeAxisEventDataBase(e);C.targetType="axisName",C.name=i,jr(x).eventData=C}r.add(x),x.updateTransform(),n.add(x),x.decomposeTransform()}}};function Wvt(t,e,n,r){var i=lte(n-t),o,a,s=r[0]>r[1],l=e==="start"&&!s||e!=="start"&&s;return F5(i-Pd/2)?(a=l?"bottom":"top",o="center"):F5(i-Pd*1.5)?(a=l?"top":"bottom",o="center"):(a="middle",i<Pd*1.5&&i>Pd/2?o=l?"left":"right":o=l?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:a}}function Uvt(t,e,n){if(!kEe(t.axis)){var r=t.get(["axisLabel","showMinLabel"]),i=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var o=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=n[0],u=n[1],f=n[n.length-1],d=n[n.length-2];r===!1?(sl(o),sl(c)):Kq(o,a)&&(r?(sl(a),sl(u)):(sl(o),sl(c))),i===!1?(sl(s),sl(f)):Kq(l,s)&&(i?(sl(l),sl(d)):(sl(s),sl(f)))}}function sl(t){t&&(t.ignore=!0)}function Kq(t,e){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!n||!r)){var i=Q$([]);return eO(i,i,-t.rotation),n.applyTransform(F0([],i,t.getLocalTransform())),r.applyTransform(F0([],i,e.getLocalTransform())),n.intersect(r)}}function Jq(t){return t==="middle"||t==="center"}function lde(t,e,n,r,i){for(var o=[],a=[],s=[],l=0;l<t.length;l++){var c=t[l].coord;a[0]=c,a[1]=0,s[0]=c,s[1]=n,e&&(fu(a,a,e),fu(s,s,e));var u=new m2({shape:{x1:a[0],y1:a[1],x2:s[0],y2:s[1]},style:r,z2:2,autoBatch:!0,silent:!0});kO(u.shape,u.style.lineWidth),u.anid=i+"_"+t[l].tickValue,o.push(u)}return o}function Gvt(t,e,n,r){var i=n.axis,o=n.getModel("axisTick"),a=o.get("show");if(a==="auto"&&r.handleAutoShown&&(a=r.handleAutoShown("axisTick")),!(!a||i.scale.isBlank())){for(var s=o.getModel("lineStyle"),l=r.tickDirection*o.get("length"),c=i.getTicksCoords(),u=lde(c,e.transform,l,mi(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<u.length;f++)t.add(u[f]);return u}}function qvt(t,e,n,r){var i=n.axis,o=n.getModel("minorTick");if(!(!o.get("show")||i.scale.isBlank())){var a=i.getMinorTicksCoords();if(a.length)for(var s=o.getModel("lineStyle"),l=r*o.get("length"),c=mi(s.getLineStyle(),mi(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),u=0;u<a.length;u++)for(var f=lde(a[u],e.transform,l,c,"minorticks_"+u),d=0;d<f.length;d++)t.add(f[d])}}function Yvt(t,e,n,r){var i=n.axis,o=xm(r.axisLabelShow,n.get(["axisLabel","show"]));if(!(!o||i.scale.isBlank())){var a=n.getModel("axisLabel"),s=a.get("margin"),l=i.getViewLabels(),c=(xm(r.labelRotate,a.get("rotate"))||0)*Pd/180,u=hm.innerTextLayout(r.rotation,c,r.labelDirection),f=n.getCategories&&n.getCategories(!0),d=[],h=hm.isLabelSilent(n),m=n.get("triggerEvent");return ye(l,function(v,k){var b=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(v.tickValue):v.tickValue,_=v.formattedLabel,x=v.rawLabel,C=a;if(f&&f[b]){var S=f[b];Bt(S)&&S.textStyle&&(C=new co(S.textStyle,a,n.ecModel))}var g=C.getTextColor()||n.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(b),P=new ea({x:T,y:r.labelOffset+r.labelDirection*s,rotation:u.rotation,silent:h,z2:10+(v.level||0),style:Cf(C,{text:_,align:C.getShallow("align",!0)||u.textAlign,verticalAlign:C.getShallow("verticalAlign",!0)||C.getShallow("baseline",!0)||u.textVerticalAlign,fill:Qn(g)?g(i.type==="category"?x:i.type==="value"?b+"":b,k):g})});if(P.anid="label_"+b,m){var $=hm.makeAxisEventDataBase(n);$.targetType="axisLabel",$.value=x,$.tickIndex=k,i.type==="category"&&($.dataIndex=b),jr(P).eventData=$}e.add(P),P.updateTransform(),d.push(P),t.add(P),P.decomposeTransform()}),d}}const Xvt=hm;function Kvt(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return Jvt(n,t,e),n.seriesInvolved&&Qvt(n,t),n}function Jvt(t,e,n){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),o=i.get("link",!0)||[],a=[];ye(n.getCoordinateSystems(),function(s){if(!s.axisPointerEnabled)return;var l=$4(s.model),c=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=s;var u=s.model,f=u.getModel("tooltip",r);if(ye(s.getAxes(),Rr(v,!1,null)),s.getTooltipAxes&&r&&f.get("show")){var d=f.get("trigger")==="axis",h=f.get(["axisPointer","type"])==="cross",m=s.getTooltipAxes(f.get(["axisPointer","axis"]));(d||h)&&ye(m.baseAxes,Rr(v,h?"cross":!0,d)),h&&ye(m.otherAxes,Rr(v,"cross",!1))}function v(k,b,_){var x=_.model.getModel("axisPointer",i),C=x.get("show");if(!(!C||C==="auto"&&!k&&!tE(x))){b==null&&(b=x.get("triggerTooltip")),x=k?Zvt(_,f,i,e,k,b):x;var S=x.get("snap"),g=x.get("triggerEmphasis"),T=$4(_.model),P=b||S||_.type==="category",$=t.axesInfo[T]={key:T,axis:_,coordSys:s,axisPointerModel:x,triggerTooltip:b,triggerEmphasis:g,involveSeries:P,snap:S,useHandle:tE(x),seriesModels:[],linkGroup:null};c[T]=$,t.seriesInvolved=t.seriesInvolved||P;var F=eyt(o,_);if(F!=null){var D=a[F]||(a[F]={axesInfo:{}});D.axesInfo[T]=$,D.mapper=o[F].mapper,$.linkGroup=D}}}})}function Zvt(t,e,n,r,i,o){var a=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};ye(s,function(d){l[d]=Gn(a.get(d))}),l.snap=t.type!=="category"&&!!o,a.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=a.get(["label","show"]);if(c.show=u??!0,!o){var f=l.lineStyle=a.get("crossStyle");f&&mi(c,f.textStyle)}}return t.model.getModel("axisPointer",new co(l,n,r))}function Qvt(t,e){e.eachSeries(function(n){var r=n.coordinateSystem,i=n.get(["tooltip","trigger"],!0),o=n.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||o===!1||n.get(["axisPointer","show"],!0)===!1||ye(t.coordSysAxesInfo[$4(r.model)],function(a){var s=a.axis;r.getAxis(s.dim)===s&&(a.seriesModels.push(n),a.seriesDataCount==null&&(a.seriesDataCount=0),a.seriesDataCount+=n.getData().count())})})}function eyt(t,e){for(var n=e.model,r=e.dim,i=0;i<t.length;i++){var o=t[i]||{};if(cT(o[r+"AxisId"],n.id)||cT(o[r+"AxisIndex"],n.componentIndex)||cT(o[r+"AxisName"],n.name))return i}}function cT(t,e){return t==="all"||gt(t)&&wr(t,e)>=0||t===e}function tyt(t){var e=rN(t);if(e){var n=e.axisPointerModel,r=e.axis.scale,i=n.option,o=n.get("status"),a=n.get("value");a!=null&&(a=r.parse(a));var s=tE(n);o==null&&(i.status=s?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(a==null||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),i.value=a,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function rN(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[$4(t)]}function nyt(t){var e=rN(t);return e&&e.axisPointerModel}function tE(t){return!!t.get(["handle","show"])}function $4(t){return t.type+"||"+t.id}var Zq={},ryt=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){this.axisPointerClass&&tyt(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,i,!0)},e.prototype.updateAxisPointer=function(n,r,i,o){this._doUpdateAxisPointerClass(n,i,!1)},e.prototype.remove=function(n,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(n,r){this._disposeAxisPointer(r),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(n,r,i){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=nyt(n);a?(this._axisPointer||(this._axisPointer=new o)).render(n,a,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},e.registerAxisPointerClass=function(n,r){Zq[n]=r},e.getAxisPointerClass=function(n){return n&&Zq[n]},e.type="axis",e}(lh);const iyt=ryt;var El=no();function cde(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,ude(e,n,t),ye(n,function(r){ye(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Rr(oyt,t))})}),e.wrapMethod("cloneShallow",Rr(syt,t)),ye(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Rr(ayt,t))}),Hs(n[e.dataType]===e)}function oyt(t,e){if(uyt(this)){var n=ot({},El(this).datas);n[this.dataType]=e,ude(e,n,t)}else iN(e,this.dataType,El(this).mainData,t);return e}function ayt(t,e){return t.struct&&t.struct.update(),e}function syt(t,e){return ye(El(e).datas,function(n,r){n!==e&&iN(n.cloneShallow(),r,e,t)}),e}function lyt(t){var e=El(this).mainData;return t==null||e==null?e:El(e).datas[t]}function cyt(){var t=El(this).mainData;return t==null?[{data:t}]:tn(ir(El(t).datas),function(e){return{type:e,data:El(t).datas[e]}})}function uyt(t){return El(t).mainData===t}function ude(t,e,n){El(t).datas={},ye(e,function(r,i){iN(r,i,t,n)})}function iN(t,e,n,r){El(n).datas[e]=t,El(t).mainData=n,t.dataType=e,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=t),t.getLinkedData=lyt,t.getLinkedDataAll=cyt}var fyt=function(){function t(e,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=n}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(e,n,r){Qn(e)&&(r=n,n=e,e=null),e=e||{},Et(e)&&(e={order:e});var i=e.order||"preorder",o=this[e.attr||"children"],a;i==="preorder"&&(a=n.call(r,this));for(var s=0;!a&&s<o.length;s++)o[s].eachNode(e,n,r);i==="postorder"&&n.call(r,this)},t.prototype.updateDepthAndHeight=function(e){var n=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>n&&(n=i.height)}this.height=n+1},t.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var n=0,r=this.children,i=r.length;n<i;n++){var o=r[n].getNodeById(e);if(o)return o}},t.prototype.contains=function(e){if(e===this)return!0;for(var n=0,r=this.children,i=r.length;n<i;n++){var o=r[n].contains(e);if(o)return o}},t.prototype.getAncestors=function(e){for(var n=[],r=e?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},t.prototype.getAncestorsIndices=function(){for(var e=[],n=this;n;)e.push(n.dataIndex),n=n.parentNode;return e.reverse(),e},t.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(n){e.push(n.dataIndex)}),e},t.prototype.getValue=function(e){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(e||"value"),this.dataIndex)},t.prototype.setLayout=function(e,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,n)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostTree,r=n.data.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(e,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,n)},t.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,n=0;n<e.length;++n)if(e[n]===this)return n;return-1}return-1},t.prototype.isAncestorOf=function(e){for(var n=e.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},t.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},t}(),dyt=function(){function t(e){this.type="tree",this._nodes=[],this.hostModel=e}return t.prototype.eachNode=function(e,n,r){this.root.eachNode(e,n,r)},t.prototype.getNodeByDataIndex=function(e){var n=this.data.getRawIndex(e);return this._nodes[n]},t.prototype.getNodeById=function(e){return this.root.getNodeById(e)},t.prototype.update=function(){for(var e=this.data,n=this._nodes,r=0,i=n.length;r<i;r++)n[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)n[e.getRawIndex(r)].dataIndex=r},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,n,r){var i=new t(n),o=[],a=1;s(e);function s(u,f){var d=u.value;a=Math.max(a,gt(d)?d.length:1),o.push(u);var h=new fyt(Il(u.name,""),i);f?hyt(h,f):i.root=h,i._nodes.push(h);var m=u.children;if(m)for(var v=0;v<m.length;v++)s(m[v],h)}i.root.updateDepthAndHeight(0);var l=e_(o,{coordDimensions:["value"],dimensionsCount:a}).dimensions,c=new s4(l,n);return c.initData(o),r&&r(c),cde({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},t}();function hyt(t,e){var n=e.children;t.parentNode!==e&&(n.push(t),t.parentNode=e)}const pyt=dyt;function Qq(t,e,n){if(t&&wr(e,t.type)>=0){var r=n.getData().tree.root,i=t.targetNode;if(Et(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=t.targetNodeId;if(o!=null&&(i=r.getNodeById(o)))return{node:i}}}function myt(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()}function gyt(t,e){var n=myt(t);return wr(n,e)>=0}function byt(t,e){for(var n=[];t;){var r=t.dataIndex;n.push({name:t.name,dataIndex:r,value:e.getRawValue(r)}),t=t.parentNode}return n.reverse(),n}function vyt(t){var e=t.getData(),n=e.tree,r={};n.eachNode(function(i){for(var o=i;o&&o.depth>1;)o=o.parentNode;var a=oAe(t.ecModel,o.name||o.dataIndex+"",r);i.setVisual("decal",a)})}var O4=ye,yyt=Bt,qk=-1,oN=function(){function t(e){var n=e.mappingMethod,r=e.type,i=this.option=Gn(e);this.type=r,this.mappingMethod=n,this._normalizeData=wyt[n];var o=t.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[n],n==="piecewise"?(uT(i),kyt(i)):n==="category"?i.categories?_yt(i):uT(i,!0):(Hs(n!=="linear"||i.dataExtent),uT(i))}return t.prototype.mapValueToVisual=function(e){var n=this._normalizeData(e);return this._normalizedToVisual(n,e)},t.prototype.getNormalizer=function(){return Er(this._normalizeData,this)},t.listVisualTypes=function(){return ir(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(e,n,r){Bt(e)?ye(e,n,r):n.call(r,e)},t.mapVisual=function(e,n,r){var i,o=gt(e)?[]:Bt(e)?{}:(i=!0,null);return t.eachVisual(e,function(a,s){var l=n.call(r,a,s);i?o=l:o[s]=l}),o},t.retrieveVisuals=function(e){var n={},r;return e&&O4(t.visualHandlers,function(i,o){e.hasOwnProperty(o)&&(n[o]=e[o],r=!0)}),r?n:null},t.prepareVisualTypes=function(e){if(gt(e))e=e.slice();else if(yyt(e)){var n=[];O4(e,function(r,i){n.push(i)}),e=n}else return[];return e.sort(function(r,i){return i==="color"&&r!=="color"&&r.indexOf("color")===0?1:-1}),e},t.dependsOn=function(e,n){return n==="color"?!!(e&&e.indexOf(n)===0):e===n},t.findPieceIndex=function(e,n,r){for(var i,o=1/0,a=0,s=n.length;a<s;a++){var l=n[a].value;if(l!=null){if(l===e||Et(l)&&l===e+"")return a;r&&d(l,a)}}for(var a=0,s=n.length;a<s;a++){var c=n[a],u=c.interval,f=c.close;if(u){if(u[0]===-1/0){if(W9(f[1],e,u[1]))return a}else if(u[1]===1/0){if(W9(f[0],u[0],e))return a}else if(W9(f[0],u[0],e)&&W9(f[1],e,u[1]))return a;r&&d(u[0],a),r&&d(u[1],a)}}if(r)return e===1/0?n.length-1:e===-1/0?0:i;function d(h,m){var v=Math.abs(h-e);v<o&&(o=v,i=m)}},t.visualHandlers={color:{applyVisual:mv("color"),getColorMapper:function(){var e=this.option;return Er(e.mappingMethod==="category"?function(n,r){return!r&&(n=this._normalizeData(n)),Mv.call(this,n)}:function(n,r,i){var o=!!i;return!r&&(n=this._normalizeData(n)),i=dx(n,e.parsedVisual,i),o?i:Nd(i,"rgba")},this)},_normalizedToVisual:{linear:function(e){return Nd(dx(e,this.option.parsedVisual),"rgba")},category:Mv,piecewise:function(e,n){var r=rE.call(this,n);return r==null&&(r=Nd(dx(e,this.option.parsedVisual),"rgba")),r},fixed:Sp}},colorHue:H9(function(e,n){return hx(e,n)}),colorSaturation:H9(function(e,n){return hx(e,null,n)}),colorLightness:H9(function(e,n){return hx(e,null,null,n)}),colorAlpha:H9(function(e,n){return Jwe(e,n)}),decal:{applyVisual:mv("decal"),_normalizedToVisual:{linear:null,category:Mv,piecewise:null,fixed:null}},opacity:{applyVisual:mv("opacity"),_normalizedToVisual:nE([0,1])},liftZ:{applyVisual:mv("liftZ"),_normalizedToVisual:{linear:Sp,category:Sp,piecewise:Sp,fixed:Sp}},symbol:{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("symbol",i)},_normalizedToVisual:{linear:eY,category:Mv,piecewise:function(e,n){var r=rE.call(this,n);return r==null&&(r=eY.call(this,e)),r},fixed:Sp}},symbolSize:{applyVisual:mv("symbolSize"),_normalizedToVisual:nE([0,1])}},t}();function kyt(t){var e=t.pieceList;t.hasSpecialVisual=!1,ye(e,function(n,r){n.originIndex=r,n.visual!=null&&(t.hasSpecialVisual=!0)})}function _yt(t){var e=t.categories,n=t.categoryMap={},r=t.visual;if(O4(e,function(a,s){n[a]=s}),!gt(r)){var i=[];Bt(r)?O4(r,function(a,s){var l=n[s];i[l??qk]=a}):i[qk]=r,r=fde(t,i)}for(var o=e.length-1;o>=0;o--)r[o]==null&&(delete n[e[o]],e.pop())}function uT(t,e){var n=t.visual,r=[];Bt(n)?O4(n,function(o){r.push(o)}):n!=null&&r.push(n);var i={color:1,symbol:1};!e&&r.length===1&&!i.hasOwnProperty(t.type)&&(r[1]=r[0]),fde(t,r)}function H9(t){return{applyVisual:function(e,n,r){var i=this.mapValueToVisual(e);r("color",t(n("color"),i))},_normalizedToVisual:nE([0,1])}}function eY(t){var e=this.option.visual;return e[Math.round(ub(t,[0,1],[0,e.length-1],!0))]||{}}function mv(t){return function(e,n,r){r(t,this.mapValueToVisual(e))}}function Mv(t){var e=this.option.visual;return e[this.option.loop&&t!==qk?t%e.length:t]}function Sp(){return this.option.visual[0]}function nE(t){return{linear:function(e){return ub(e,t,this.option.visual,!0)},category:Mv,piecewise:function(e,n){var r=rE.call(this,n);return r==null&&(r=ub(e,t,this.option.visual,!0)),r},fixed:Sp}}function rE(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var r=oN.findPieceIndex(t,n),i=n[r];if(i&&i.visual)return i.visual[this.type]}}function fde(t,e){return t.visual=e,t.type==="color"&&(t.parsedVisual=tn(e,function(n){var r=dc(n);return r||[0,0,0,1]})),e}var wyt={linear:function(t){return ub(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=oN.findPieceIndex(t,e,!0);if(n!=null)return ub(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e??qk},fixed:Jo};function W9(t,e,n){return t?e<=n:e<n}const Syt=oN;function Hg(t){return"_EC_"+t}var xyt=function(){function t(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,n){e=e==null?""+n:""+e;var r=this._nodesMap;if(!r[Hg(e)]){var i=new xp(e,n);return i.hostGraph=this,this.nodes.push(i),r[Hg(e)]=i,i}},t.prototype.getNodeByIndex=function(e){var n=this.data.getRawIndex(e);return this.nodes[n]},t.prototype.getNodeById=function(e){return this._nodesMap[Hg(e)]},t.prototype.addEdge=function(e,n,r){var i=this._nodesMap,o=this._edgesMap;if(Zr(e)&&(e=this.nodes[e]),Zr(n)&&(n=this.nodes[n]),e instanceof xp||(e=i[Hg(e)]),n instanceof xp||(n=i[Hg(n)]),!(!e||!n)){var a=e.id+"-"+n.id,s=new dde(e,n,r);return s.hostGraph=this,this._directed&&(e.outEdges.push(s),n.inEdges.push(s)),e.edges.push(s),e!==n&&n.edges.push(s),this.edges.push(s),o[a]=s,s}},t.prototype.getEdgeByIndex=function(e){var n=this.edgeData.getRawIndex(e);return this.edges[n]},t.prototype.getEdge=function(e,n){e instanceof xp&&(e=e.id),n instanceof xp&&(n=n.id);var r=this._edgesMap;return this._directed?r[e+"-"+n]:r[e+"-"+n]||r[n+"-"+e]},t.prototype.eachNode=function(e,n){for(var r=this.nodes,i=r.length,o=0;o<i;o++)r[o].dataIndex>=0&&e.call(n,r[o],o)},t.prototype.eachEdge=function(e,n){for(var r=this.edges,i=r.length,o=0;o<i;o++)r[o].dataIndex>=0&&r[o].node1.dataIndex>=0&&r[o].node2.dataIndex>=0&&e.call(n,r[o],o)},t.prototype.breadthFirstTraverse=function(e,n,r,i){if(n instanceof xp||(n=this._nodesMap[Hg(n)]),!!n){for(var o=r==="out"?"outEdges":r==="in"?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!e.call(i,n,null))for(var s=[n];s.length;)for(var l=s.shift(),c=l[o],a=0;a<c.length;a++){var u=c[a],f=u.node1===l?u.node2:u.node1;if(!f.__visited){if(e.call(i,f,l))return;s.push(f),f.__visited=!0}}}},t.prototype.update=function(){for(var e=this.data,n=this.edgeData,r=this.nodes,i=this.edges,o=0,a=r.length;o<a;o++)r[o].dataIndex=-1;for(var o=0,a=e.count();o<a;o++)r[e.getRawIndex(o)].dataIndex=o;n.filterSelf(function(s){var l=i[n.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(var o=0,a=n.count();o<a;o++)i[n.getRawIndex(o)].dataIndex=o},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,r=this.edges,i=0;i<n.length;i++)e.addNode(n[i].id,n[i].dataIndex);for(var i=0;i<r.length;i++){var o=r[i];e.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return e},t}(),xp=function(){function t(e,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=n??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.data.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(e.edge.push(r.dataIndex),e.node.push(r.node1.dataIndex,r.node2.dataIndex))}return e},t.prototype.getTrajectoryDataIndices=function(){for(var e=bn(),n=bn(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){e.set(i.dataIndex,!0);for(var o=[i.node1],a=[i.node2],s=0;s<o.length;){var l=o[s];s++,n.set(l.dataIndex,!0);for(var c=0;c<l.inEdges.length;c++)e.set(l.inEdges[c].dataIndex,!0),o.push(l.inEdges[c].node1)}for(s=0;s<a.length;){var u=a[s];s++,n.set(u.dataIndex,!0);for(var c=0;c<u.outEdges.length;c++)e.set(u.outEdges[c].dataIndex,!0),a.push(u.outEdges[c].node2)}}}return{edge:e.keys(),node:n.keys()}},t}(),dde=function(){function t(e,n,r){this.dataIndex=-1,this.node1=e,this.node2=n,this.dataIndex=r??-1}return t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var n=this.hostGraph,r=n.edgeData.getItemModel(this.dataIndex);return r.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var e=bn(),n=bn();e.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],o=0;o<r.length;){var a=r[o];o++,n.set(a.dataIndex,!0);for(var s=0;s<a.inEdges.length;s++)e.set(a.inEdges[s].dataIndex,!0),r.push(a.inEdges[s].node1)}for(o=0;o<i.length;){var l=i[o];o++,n.set(l.dataIndex,!0);for(var s=0;s<l.outEdges.length;s++)e.set(l.outEdges[s].dataIndex,!0),i.push(l.outEdges[s].node2)}return{edge:e.keys(),node:n.keys()}},t}();function hde(t,e){return{getValue:function(n){var r=this[t][e];return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},setVisual:function(n,r){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,r)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,r){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,r)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}wc(xp,hde("hostGraph","data"));wc(dde,hde("hostGraph","edgeData"));const Cyt=xyt;function Tyt(t,e,n,r,i){for(var o=new Cyt(r),a=0;a<t.length;a++)o.addNode(xm(t[a].id,t[a].name,a),a);for(var s=[],l=[],c=0,a=0;a<e.length;a++){var u=e[a],f=u.source,d=u.target;o.addEdge(f,d,c)&&(l.push(u),s.push(xm(Il(u.id,null),f+" > "+d)),c++)}var h=n.get("coordinateSystem"),m;if(h==="cartesian2d"||h==="polar")m=gEe(t,n);else{var v=X6.get(h),k=v?v.dimensions||[]:[];wr(k,"value")<0&&k.concat(["value"]);var b=e_(t,{coordDimensions:k,encodeDefine:n.getEncode()}).dimensions;m=new s4(b,n),m.initData(t)}var _=new s4(["value"],n);return _.initData(l,s),i&&i(m,_),cde({mainData:m,struct:o,structAttr:"graph",datas:{node:m,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var Ayt=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),Iyt=function(t){xr(e,t);function e(n){return t.call(this,n)||this}return e.prototype.getDefaultShape=function(){return new Ayt},e.prototype.buildPath=function(n,r){var i=r.extent;n.moveTo(r.x1,r.y1),n.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),r.orient==="vertical"?(n.lineTo(r.x2+i,r.y2),n.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(n.lineTo(r.x2,r.y2+i),n.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),n.closePath()},e.prototype.highlight=function(){R5(this)},e.prototype.downplay=function(){j5(this)},e}(Dr),Pyt=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n._focusAdjacencyDisabled=!1,n}return e.prototype.render=function(n,r,i){var o=this,a=n.getGraph(),s=this.group,l=n.layoutInfo,c=l.width,u=l.height,f=n.getData(),d=n.getData("edge"),h=n.get("orient");this._model=n,s.removeAll(),s.x=l.x,s.y=l.y,a.eachEdge(function(m){var v=new Iyt,k=jr(v);k.dataIndex=m.dataIndex,k.seriesIndex=n.seriesIndex,k.dataType="edge";var b=m.getModel(),_=b.getModel("lineStyle"),x=_.get("curveness"),C=m.node1.getLayout(),S=m.node1.getModel(),g=S.get("localX"),T=S.get("localY"),P=m.node2.getLayout(),$=m.node2.getModel(),F=$.get("localX"),D=$.get("localY"),z=m.getLayout(),R,V,ie,oe,_e,Ae,Ie,ke;v.shape.extent=Math.max(1,z.dy),v.shape.orient=h,h==="vertical"?(R=(g!=null?g*c:C.x)+z.sy,V=(T!=null?T*u:C.y)+C.dy,ie=(F!=null?F*c:P.x)+z.ty,oe=D!=null?D*u:P.y,_e=R,Ae=V*(1-x)+oe*x,Ie=ie,ke=V*x+oe*(1-x)):(R=(g!=null?g*c:C.x)+C.dx,V=(T!=null?T*u:C.y)+z.sy,ie=F!=null?F*c:P.x,oe=(D!=null?D*u:P.y)+z.ty,_e=R*(1-x)+ie*x,Ae=V,Ie=R*x+ie*(1-x),ke=oe),v.setShape({x1:R,y1:V,x2:ie,y2:oe,cpx1:_e,cpy1:Ae,cpx2:Ie,cpy2:ke}),v.useStyle(_.getItemStyle()),tY(v.style,h,m);var se=""+b.get("value"),ne=EI(b,"edgeLabel");U5(v,ne,{labelFetcher:{getFormattedLabel:function(U,ae,te,ue,ce,fe){return n.getFormattedLabel(U,ae,"edge",ue,D0(ce,ne.normal&&ne.normal.get("formatter"),se),fe)}},labelDataIndex:m.dataIndex,defaultText:se}),v.setTextConfig({position:"inside"});var J=b.getModel("emphasis");CI(v,b,"lineStyle",function(U){var ae=U.getItemStyle();return tY(ae,h,m),ae}),s.add(v),d.setItemGraphicEl(m.dataIndex,v);var j=J.get("focus");V5(v,j==="adjacency"?m.getAdjacentDataIndices():j==="trajectory"?m.getTrajectoryDataIndices():j,J.get("blurScope"),J.get("disabled"))}),a.eachNode(function(m){var v=m.getLayout(),k=m.getModel(),b=k.get("localX"),_=k.get("localY"),x=k.getModel("emphasis"),C=new Qo({shape:{x:b!=null?b*c:v.x,y:_!=null?_*u:v.y,width:v.dx,height:v.dy},style:k.getModel("itemStyle").getItemStyle(),z2:10});U5(C,EI(k),{labelFetcher:{getFormattedLabel:function(g,T){return n.getFormattedLabel(g,T,"node")}},labelDataIndex:m.dataIndex,defaultText:m.id}),C.disableLabelAnimation=!0,C.setStyle("fill",m.getVisual("color")),C.setStyle("decal",m.getVisual("style").decal),CI(C,k),s.add(C),f.setItemGraphicEl(m.dataIndex,C),jr(C).dataType="node";var S=x.get("focus");V5(C,S==="adjacency"?m.getAdjacentDataIndices():S==="trajectory"?m.getTrajectoryDataIndices():S,x.get("blurScope"),x.get("disabled"))}),f.eachItemGraphicEl(function(m,v){var k=f.getItemModel(v);k.get("draggable")&&(m.drift=function(b,_){o._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=_,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:n.id,dataIndex:f.getRawIndex(v),localX:this.shape.x/c,localY:this.shape.y/u})},m.ondragend=function(){o._focusAdjacencyDisabled=!1},m.draggable=!0,m.cursor="move")}),!this._data&&n.isAnimationEnabled()&&s.setClipPath(Eyt(s.getBoundingRect(),n,function(){s.removeClipPath()})),this._data=n.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(zd);function tY(t,e,n){switch(t.fill){case"source":t.fill=n.node1.getVisual("color"),t.decal=n.node1.getVisual("style").decal;break;case"target":t.fill=n.node2.getVisual("color"),t.decal=n.node2.getVisual("style").decal;break;case"gradient":var r=n.node1.getVisual("color"),i=n.node2.getVisual("color");Et(r)&&Et(i)&&(t.fill=new one(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:r,offset:0},{color:i,offset:1}]))}}function Eyt(t,e,n){var r=new Qo({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return M0(r,{shape:{width:t.width+20}},e,n),r}const $yt=Pyt;var Oyt=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.getInitialData=function(n,r){var i=n.edges||n.links,o=n.data||n.nodes,a=n.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<a.length;l++)a[l].depth!=null&&a[l].depth>=0&&(s[a[l].depth]=new co(a[l],this,r));if(o&&i){var c=Tyt(o,i,this,!0,u);return c.data}function u(f,d){f.wrapMethod("getItemModel",function(h,m){var v=h.parentModel,k=v.getData().getItemLayout(m);if(k){var b=k.depth,_=v.levelModels[b];_&&(h.parentModel=_)}return h}),d.wrapMethod("getItemModel",function(h,m){var v=h.parentModel,k=v.getGraph().getEdgeByIndex(m),b=k.node1.getLayout();if(b){var _=b.depth,x=v.levelModels[_];x&&(h.parentModel=x)}return h})}},e.prototype.setNodePosition=function(n,r){var i=this.option.data||this.option.nodes,o=i[n];o.localX=r[0],o.localY=r[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(n,r,i){function o(h){return isNaN(h)||h==null}if(i==="edge"){var a=this.getDataParams(n,i),s=a.data,l=a.value,c=s.source+" -- "+s.target;return Tm("nameValue",{name:c,value:l,noValue:o(l)})}else{var u=this.getGraph().getNodeByIndex(n),f=u.getLayout().value,d=this.getDataParams(n,i).data.name;return Tm("nameValue",{name:d!=null?d+"":null,value:f,noValue:o(f)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(n,r){var i=t.prototype.getDataParams.call(this,n,r);if(i.value==null&&r==="node"){var o=this.getGraph().getNodeByIndex(n),a=o.getLayout().value;i.value=a}return i},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Am);const Dyt=Oyt;function Lyt(t,e){t.eachSeriesByType("sankey",function(n){var r=n.get("nodeWidth"),i=n.get("nodeGap"),o=Fyt(n,e);n.layoutInfo=o;var a=o.width,s=o.height,l=n.getGraph(),c=l.nodes,u=l.edges;Myt(c);var f=Za(c,function(v){return v.getLayout().value===0}),d=f.length!==0?0:n.get("layoutIterations"),h=n.get("orient"),m=n.get("nodeAlign");Nyt(c,u,r,i,a,s,d,h,m)})}function Fyt(t,e){return fb(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Nyt(t,e,n,r,i,o,a,s,l){zyt(t,e,n,i,o,s,l),Byt(t,e,o,i,r,a,s),Jyt(t,s)}function Myt(t){ye(t,function(e){var n=Bd(e.outEdges,Yk),r=Bd(e.inEdges,Yk),i=e.getValue()||0,o=Math.max(n,r,i);e.setLayout({value:o},!0)})}function zyt(t,e,n,r,i,o,a){for(var s=[],l=[],c=[],u=[],f=0,d=0;d<e.length;d++)s[d]=1;for(var d=0;d<t.length;d++)l[d]=t[d].inEdges.length,l[d]===0&&c.push(t[d]);for(var h=-1;c.length;){for(var m=0;m<c.length;m++){var v=c[m],k=v.hostGraph.data.getRawDataItem(v.dataIndex),b=k.depth!=null&&k.depth>=0;b&&k.depth>h&&(h=k.depth),v.setLayout({depth:b?k.depth:f},!0),o==="vertical"?v.setLayout({dy:n},!0):v.setLayout({dx:n},!0);for(var _=0;_<v.outEdges.length;_++){var x=v.outEdges[_],C=e.indexOf(x);s[C]=0;var S=x.node2,g=t.indexOf(S);--l[g]===0&&u.indexOf(S)<0&&u.push(S)}}++f,c=u,u=[]}for(var d=0;d<s.length;d++)if(s[d]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var T=h>f-1?h:f-1;a&&a!=="left"&&Ryt(t,a,o,T);var P=o==="vertical"?(i-n)/T:(r-n)/T;Vyt(t,P,o)}function pde(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function Ryt(t,e,n,r){if(e==="right"){for(var i=[],o=t,a=0;o.length;){for(var s=0;s<o.length;s++){var l=o[s];l.setLayout({skNodeHeight:a},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];i.indexOf(u.node1)<0&&i.push(u.node1)}}o=i,i=[],++a}ye(t,function(f){pde(f)||f.setLayout({depth:Math.max(0,r-f.getLayout().skNodeHeight)},!0)})}else e==="justify"&&jyt(t,r)}function jyt(t,e){ye(t,function(n){!pde(n)&&!n.outEdges.length&&n.setLayout({depth:e},!0)})}function Vyt(t,e,n){ye(t,function(r){var i=r.getLayout().depth*e;n==="vertical"?r.setLayout({y:i},!0):r.setLayout({x:i},!0)})}function Byt(t,e,n,r,i,o,a){var s=Hyt(t,a);Wyt(s,e,n,r,i,a),fT(s,i,n,r,a);for(var l=1;o>0;o--)l*=.99,Uyt(s,l,a),fT(s,i,n,r,a),Kyt(s,l,a),fT(s,i,n,r,a)}function Hyt(t,e){var n=[],r=e==="vertical"?"y":"x",i=QSe(t,function(o){return o.getLayout()[r]});return i.keys.sort(function(o,a){return o-a}),ye(i.keys,function(o){n.push(i.buckets.get(o))}),n}function Wyt(t,e,n,r,i,o){var a=1/0;ye(t,function(s){var l=s.length,c=0;ye(s,function(f){c+=f.getLayout().value});var u=o==="vertical"?(r-(l-1)*i)/c:(n-(l-1)*i)/c;u<a&&(a=u)}),ye(t,function(s){ye(s,function(l,c){var u=l.getLayout().value*a;o==="vertical"?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),ye(e,function(s){var l=+s.getValue()*a;s.setLayout({dy:l},!0)})}function fT(t,e,n,r,i){var o=i==="vertical"?"x":"y";ye(t,function(a){a.sort(function(v,k){return v.getLayout()[o]-k.getLayout()[o]});for(var s,l,c,u=0,f=a.length,d=i==="vertical"?"dx":"dy",h=0;h<f;h++)l=a[h],c=u-l.getLayout()[o],c>0&&(s=l.getLayout()[o]+c,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),u=l.getLayout()[o]+l.getLayout()[d]+e;var m=i==="vertical"?r:n;if(c=u-e-m,c>0){s=l.getLayout()[o]-c,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0),u=s;for(var h=f-2;h>=0;--h)l=a[h],c=l.getLayout()[o]+l.getLayout()[d]+e-u,c>0&&(s=l.getLayout()[o]-c,i==="vertical"?l.setLayout({x:s},!0):l.setLayout({y:s},!0)),u=l.getLayout()[o]}})}function Uyt(t,e,n){ye(t.slice().reverse(),function(r){ye(r,function(i){if(i.outEdges.length){var o=Bd(i.outEdges,Gyt,n)/Bd(i.outEdges,Yk);if(isNaN(o)){var a=i.outEdges.length;o=a?Bd(i.outEdges,qyt,n)/a:0}if(n==="vertical"){var s=i.getLayout().x+(o-dh(i,n))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(o-dh(i,n))*e;i.setLayout({y:l},!0)}}})})}function Gyt(t,e){return dh(t.node2,e)*t.getValue()}function qyt(t,e){return dh(t.node2,e)}function Yyt(t,e){return dh(t.node1,e)*t.getValue()}function Xyt(t,e){return dh(t.node1,e)}function dh(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function Yk(t){return t.getValue()}function Bd(t,e,n){for(var r=0,i=t.length,o=-1;++o<i;){var a=+e(t[o],n);isNaN(a)||(r+=a)}return r}function Kyt(t,e,n){ye(t,function(r){ye(r,function(i){if(i.inEdges.length){var o=Bd(i.inEdges,Yyt,n)/Bd(i.inEdges,Yk);if(isNaN(o)){var a=i.inEdges.length;o=a?Bd(i.inEdges,Xyt,n)/a:0}if(n==="vertical"){var s=i.getLayout().x+(o-dh(i,n))*e;i.setLayout({x:s},!0)}else{var l=i.getLayout().y+(o-dh(i,n))*e;i.setLayout({y:l},!0)}}})})}function Jyt(t,e){var n=e==="vertical"?"x":"y";ye(t,function(r){r.outEdges.sort(function(i,o){return i.node2.getLayout()[n]-o.node2.getLayout()[n]}),r.inEdges.sort(function(i,o){return i.node1.getLayout()[n]-o.node1.getLayout()[n]})}),ye(t,function(r){var i=0,o=0;ye(r.outEdges,function(a){a.setLayout({sy:i},!0),i+=a.getLayout().dy}),ye(r.inEdges,function(a){a.setLayout({ty:o},!0),o+=a.getLayout().dy})})}function Zyt(t){t.eachSeriesByType("sankey",function(e){var n=e.getGraph(),r=n.nodes,i=n.edges;if(r.length){var o=1/0,a=-1/0;ye(r,function(s){var l=s.getLayout().value;l<o&&(o=l),l>a&&(a=l)}),ye(r,function(s){var l=new Syt({type:"color",mappingMethod:"linear",dataExtent:[o,a],visual:e.get("color")}),c=l.mapValueToVisual(s.getLayout().value),u=s.getModel().get(["itemStyle","color"]);u!=null?(s.setVisual("color",u),s.setVisual("style",{fill:u})):(s.setVisual("color",c),s.setVisual("style",{fill:c}))})}i.length&&ye(i,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}function Qyt(t){t.registerChartView($yt),t.registerSeriesModel(Dyt),t.registerLayout(Lyt),t.registerVisual(Zyt),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,n){n.eachComponent({mainType:"series",subType:"sankey",query:e},function(r){r.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var e4t=2,t4t=4,n4t=function(t){xr(e,t);function e(n,r,i,o){var a=t.call(this)||this;a.z2=e4t,a.textConfig={inside:!0},jr(a).seriesIndex=r.seriesIndex;var s=new ea({z2:t4t,silent:n.getModel().get(["label","silent"])});return a.setTextContent(s),a.updateData(!0,n,r,i,o),a}return e.prototype.updateData=function(n,r,i,o,a){this.node=r,r.piece=this,i=i||this._seriesModel,o=o||this._ecModel;var s=this;jr(s).dataIndex=r.dataIndex;var l=r.getModel(),c=l.getModel("emphasis"),u=r.getLayout(),f=ot({},u);f.label=null;var d=r.getVisual("style");d.lineJoin="bevel";var h=r.getVisual("decal");h&&(d.decal=Q5(h,a));var m=k0(l.getModel("itemStyle"),f,!0);ot(f,m),ye(pc,function(_){var x=s.ensureState(_),C=l.getModel([_,"itemStyle"]);x.style=C.getItemStyle();var S=k0(C,f);S&&(x.shape=S)}),n?(s.setShape(f),s.shape.r=u.r0,M0(s,{shape:{r:u.r}},i,r.dataIndex)):(Cm(s,{shape:f},i),lne(s)),s.useStyle(d),this._updateLabel(i);var v=l.getShallow("cursor");v&&s.attr("cursor",v),this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel;var k=c.get("focus"),b=k==="ancestor"?r.getAncestorsIndices():k==="descendant"?r.getDescendantIndices():k;V5(this,b,c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(n){var r=this,i=this.node.getModel(),o=i.getModel("label"),a=this.node.getLayout(),s=a.endAngle-a.startAngle,l=(a.startAngle+a.endAngle)/2,c=Math.cos(l),u=Math.sin(l),f=this,d=f.getTextContent(),h=this.node.dataIndex,m=o.get("minAngle")/180*Math.PI,v=o.get("show")&&!(m!=null&&Math.abs(s)<m);d.ignore=!v,ye(e4,function(b){var _=b==="normal"?i.getModel("label"):i.getModel([b,"label"]),x=b==="normal",C=x?d:d.ensureState(b),S=n.getFormattedLabel(h,b);x&&(S=S||r.node.name),C.style=Cf(_,{},null,b!=="normal",!0),S&&(C.style.text=S);var g=_.get("show");g!=null&&!x&&(C.ignore=!g);var T=k(_,"position"),P=x?f:f.states[b],$=P.style.fill;P.textConfig={outsideFill:_.get("color")==="inherit"?$:null,inside:T!=="outside"};var F,D=k(_,"distance")||0,z=k(_,"align");T==="outside"?(F=a.r+D,z=l>Math.PI/2?"right":"left"):!z||z==="center"?(s===2*Math.PI&&a.r0===0?F=0:F=(a.r+a.r0)/2,z="center"):z==="left"?(F=a.r0+D,l>Math.PI/2&&(z="right")):z==="right"&&(F=a.r-D,l>Math.PI/2&&(z="left")),C.style.align=z,C.style.verticalAlign=k(_,"verticalAlign")||"middle",C.x=F*c+a.cx,C.y=F*u+a.cy;var R=k(_,"rotate"),V=0;R==="radial"?(V=h0(-l),V>Math.PI/2&&V<Math.PI*1.5&&(V+=Math.PI)):R==="tangential"?(V=Math.PI/2-l,V>Math.PI/2?V-=Math.PI:V<-Math.PI/2&&(V+=Math.PI)):Zr(R)&&(V=R*Math.PI/180),C.rotation=h0(V)});function k(b,_){var x=b.get(_);return x??o.get(_)}d.dirtyStyle()},e}(p2);const nY=n4t;var iE="sunburstRootToNode",rY="sunburstHighlight",r4t="sunburstUnhighlight";function i4t(t){t.registerAction({type:iE,update:"updateView"},function(e,n){n.eachComponent({mainType:"series",subType:"sunburst",query:e},r);function r(i,o){var a=Qq(e,[iE],i);if(a){var s=i.getViewRoot();s&&(e.direction=gyt(s,a.node)?"rollUp":"drillDown"),i.resetViewRoot(a.node)}}}),t.registerAction({type:rY,update:"none"},function(e,n,r){e=ot({},e),n.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(o){var a=Qq(e,[rY],o);a&&(e.dataIndex=a.node.dataIndex)}r.dispatchAction(ot(e,{type:"highlight"}))}),t.registerAction({type:r4t,update:"updateView"},function(e,n,r){e=ot({},e),r.dispatchAction(ot(e,{type:"downplay"}))})}var o4t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i,o){var a=this;this.seriesModel=n,this.api=i,this.ecModel=r;var s=n.getData(),l=s.tree.root,c=n.getViewRoot(),u=this.group,f=n.get("renderLabelForZeroData"),d=[];c.eachNode(function(_){d.push(_)});var h=this._oldChildren||[];m(d,h),b(l,c),this._initEvents(),this._oldChildren=d;function m(_,x){if(_.length===0&&x.length===0)return;new Cre(x,_,C,C).add(S).update(S).remove(Rr(S,null)).execute();function C(g){return g.getId()}function S(g,T){var P=g==null?null:_[g],$=T==null?null:x[T];v(P,$)}}function v(_,x){if(!f&&_&&!_.getValue()&&(_=null),_!==l&&x!==l){if(x&&x.piece)_?(x.piece.updateData(!1,_,n,r,i),s.setItemGraphicEl(_.dataIndex,x.piece)):k(x);else if(_){var C=new nY(_,n,r,i);u.add(C),s.setItemGraphicEl(_.dataIndex,C)}}}function k(_){_&&_.piece&&(u.remove(_.piece),_.piece=null)}function b(_,x){x.depth>0?(a.virtualPiece?a.virtualPiece.updateData(!1,_,n,r,i):(a.virtualPiece=new nY(_,n,r,i),u.add(a.virtualPiece)),x.piece.off("click"),a.virtualPiece.on("click",function(C){a._rootToNode(x.parentNode)})):a.virtualPiece&&(u.remove(a.virtualPiece),a.virtualPiece=null)}},e.prototype._initEvents=function(){var n=this;this.group.off("click"),this.group.on("click",function(r){var i=!1,o=n.seriesModel.getViewRoot();o.eachNode(function(a){if(!i&&a.piece&&a.piece===r.target){var s=a.getModel().get("nodeClick");if(s==="rootToNode")n._rootToNode(a);else if(s==="link"){var l=a.getModel(),c=l.get("link");if(c){var u=l.get("target",!0)||"_blank";OI(c,u)}}i=!0}})})},e.prototype._rootToNode=function(n){n!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:iE,from:this.uid,seriesId:this.seriesModel.id,targetNode:n})},e.prototype.containPoint=function(n,r){var i=r.getData(),o=i.getItemLayout(0);if(o){var a=n[0]-o.cx,s=n[1]-o.cy,l=Math.sqrt(a*a+s*s);return l<=o.r&&l>=o.r0}},e.type="sunburst",e}(zd);const a4t=o4t;var s4t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.ignoreStyleOnData=!0,n}return e.prototype.getInitialData=function(n,r){var i={name:n.name,children:n.data};mde(i);var o=this._levelModels=tn(n.levels||[],function(l){return new co(l,this,r)},this),a=pyt.createTree(i,this,s);function s(l){l.wrapMethod("getItemModel",function(c,u){var f=a.getNodeByDataIndex(u),d=o[f.depth];return d&&(c.parentModel=d),c})}return a.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(n);return r.treePathInfo=byt(i,this),r},e.prototype.getLevelModel=function(n){return this._levelModels&&this._levelModels[n.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(n){n?this._viewRoot=n:n=this._viewRoot;var r=this.getRawData().tree.root;(!n||n!==r&&!r.contains(n))&&(this._viewRoot=r)},e.prototype.enableAriaDecal=function(){vyt(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Am);function mde(t){var e=0;ye(t.children,function(r){mde(r);var i=r.value;gt(i)&&(i=i[0]),e+=i});var n=t.value;gt(n)&&(n=n[0]),(n==null||isNaN(n))&&(n=e),n<0&&(n=0),gt(t.value)?t.value[0]=n:t.value=n}const l4t=s4t;var iY=Math.PI/180;function c4t(t,e,n){e.eachSeriesByType(t,function(r){var i=r.get("center"),o=r.get("radius");gt(o)||(o=[0,o]),gt(i)||(i=[i,i]);var a=n.getWidth(),s=n.getHeight(),l=Math.min(a,s),c=Xr(i[0],a),u=Xr(i[1],s),f=Xr(o[0],l/2),d=Xr(o[1],l/2),h=-r.get("startAngle")*iY,m=r.get("minAngle")*iY,v=r.getData().tree.root,k=r.getViewRoot(),b=k.depth,_=r.get("sort");_!=null&&gde(k,_);var x=0;ye(k.children,function(oe){!isNaN(oe.getValue())&&x++});var C=k.getValue(),S=Math.PI/(C||x)*2,g=k.depth>0,T=k.height-(g?-1:1),P=(d-f)/(T||1),$=r.get("clockwise"),F=r.get("stillShowZeroSum"),D=$?1:-1,z=function(oe,_e){if(oe){var Ae=_e;if(oe!==v){var Ie=oe.getValue(),ke=C===0&&F?S:Ie*S;ke<m&&(ke=m),Ae=_e+D*ke;var se=oe.depth-b-(g?-1:1),ne=f+P*se,J=f+P*(se+1),j=r.getLevelModel(oe);if(j){var U=j.get("r0",!0),ae=j.get("r",!0),te=j.get("radius",!0);te!=null&&(U=te[0],ae=te[1]),U!=null&&(ne=Xr(U,l/2)),ae!=null&&(J=Xr(ae,l/2))}oe.setLayout({angle:ke,startAngle:_e,endAngle:Ae,clockwise:$,cx:c,cy:u,r0:ne,r:J})}if(oe.children&&oe.children.length){var ue=0;ye(oe.children,function(ce){ue+=z(ce,_e+ue)})}return Ae-_e}};if(g){var R=f,V=f+P,ie=Math.PI*2;v.setLayout({angle:ie,startAngle:h,endAngle:h+ie,clockwise:$,cx:c,cy:u,r0:R,r:V})}z(k,h)})}function gde(t,e){var n=t.children||[];t.children=u4t(n,e),n.length&&ye(t.children,function(r){gde(r,e)})}function u4t(t,e){if(Qn(e)){var n=tn(t,function(i,o){var a=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return a}},index:o}});return n.sort(function(i,o){return e(i.params,o.params)}),tn(n,function(i){return t[i.index]})}else{var r=e==="asc";return t.sort(function(i,o){var a=(i.getValue()-o.getValue())*(r?1:-1);return a===0?(i.dataIndex-o.dataIndex)*(r?-1:1):a})}}function f4t(t){var e={};function n(r,i,o){for(var a=r;a&&a.depth>1;)a=a.parentNode;var s=i.getColorFromPalette(a.name||a.dataIndex+"",e);return r.depth>1&&Et(s)&&(s=lI(s,(r.depth-1)/(o-1)*.5)),s}t.eachSeriesByType("sunburst",function(r){var i=r.getData(),o=i.tree;o.eachNode(function(a){var s=a.getModel(),l=s.getModel("itemStyle").getItemStyle();l.fill||(l.fill=n(a,r,o.root.height));var c=i.ensureUniqueItemVisual(a.dataIndex,"style");ot(c,l)})})}function bde(t){t.registerChartView(a4t),t.registerSeriesModel(l4t),t.registerLayout(Rr(c4t,"sunburst")),t.registerProcessor(Rr(ade,"sunburst")),t.registerVisual(f4t),i4t(t)}var zp=no(),oY=Gn,dT=Er,d4t=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,n,r,i){var o=n.get("value"),a=n.get("status");if(this._axisModel=e,this._axisPointerModel=n,this._api=r,!(!i&&this._lastValue===o&&this._lastStatus===a)){this._lastValue=o,this._lastStatus=a;var s=this._group,l=this._handle;if(!a||a==="hide"){s&&s.hide(),l&&l.hide();return}s&&s.show(),l&&l.show();var c={};this.makeElOption(c,o,e,n,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var f=this._moveAnimation=this.determineAnimation(e,n);if(!s)s=this._group=new vu,this.createPointerEl(s,c,e,n),this.createLabelEl(s,c,e,n),r.getZr().add(s);else{var d=Rr(aY,n,f);this.updatePointerEl(s,c,d),this.updateLabelEl(s,c,d,n)}lY(s,n,!0),this._renderHandle(o)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,n){var r=n.get("animation"),i=e.axis,o=i.type==="category",a=n.get("snap");if(!a&&!o)return!1;if(r==="auto"||r==null){var s=this.animationThreshold;if(o&&i.getBandWidth()>s)return!0;if(a){var l=rN(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return r===!0},t.prototype.makeElOption=function(e,n,r,i,o){},t.prototype.createPointerEl=function(e,n,r,i){var o=n.pointer;if(o){var a=zp(e).pointerEl=new gTe[o.type](oY(n.pointer));e.add(a)}},t.prototype.createLabelEl=function(e,n,r,i){if(n.label){var o=zp(e).labelEl=new ea(oY(n.label));e.add(o),sY(o,i)}},t.prototype.updatePointerEl=function(e,n,r){var i=zp(e).pointerEl;i&&n.pointer&&(i.setStyle(n.pointer.style),r(i,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(e,n,r,i){var o=zp(e).labelEl;o&&(o.setStyle(n.label.style),r(o,{x:n.label.x,y:n.label.y}),sY(o,i))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||a==="hide"){i&&r.remove(i),this._handle=null;return}var s;this._handle||(s=!0,i=this._handle=wO(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){Eee(c.event)},onmousedown:dT(this._onHandleDragMove,this,0,0),drift:dT(this._onHandleDragMove,this),ondragend:dT(this._onHandleDragEnd,this)}),r.add(i)),lY(i,n,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=o.get("size");gt(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Xne(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,s)}},t.prototype._moveHandleToValue=function(e,n){aY(this._axisPointerModel,!n&&this._moveAnimation,this._handle,hT(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,n){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(hT(r),[e,n],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(hT(i)),zp(r).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var n=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var n=e.getZr(),r=this._group,i=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),i&&n.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),zI(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,n,r){return r=r||0,{x:e[r],y:e[1-r],width:n[r],height:n[1-r]}},t}();function aY(t,e,n,r){vde(zp(n).lastProp,r)||(zp(n).lastProp=r,e?Cm(n,r,t):(n.stopAnimation(),n.attr(r)))}function vde(t,e){if(Bt(t)&&Bt(e)){var n=!0;return ye(e,function(r,i){n=n&&vde(t[i],r)}),!!n}else return t===e}function sY(t,e){t[e.get(["label","show"])?"show":"hide"]()}function hT(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function lY(t,e,n){var r=e.get("z"),i=e.get("zlevel");t&&t.traverse(function(o){o.type!=="group"&&(r!=null&&(o.z=r),i!=null&&(o.zlevel=i),o.silent=n)})}const h4t=d4t;function p4t(t){var e=t.get("type"),n=t.getModel(e+"Style"),r;return e==="line"?(r=n.getLineStyle(),r.fill=null):e==="shadow"&&(r=n.getAreaStyle(),r.stroke=null),r}function m4t(t,e,n,r,i){var o=n.get("value"),a=yde(o,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=Y6(s.get("padding")||0),c=s.getFont(),u=tte(a,c),f=i.position,d=u.width+l[1]+l[3],h=u.height+l[0]+l[2],m=i.align;m==="right"&&(f[0]-=d),m==="center"&&(f[0]-=d/2);var v=i.verticalAlign;v==="bottom"&&(f[1]-=h),v==="middle"&&(f[1]-=h/2),g4t(f,d,h,r);var k=s.get("backgroundColor");(!k||k==="auto")&&(k=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:Cf(s,{text:a,font:c,fill:s.getTextColor(),padding:l,backgroundColor:k}),z2:10}}function g4t(t,e,n,r){var i=r.getWidth(),o=r.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function yde(t,e,n,r,i){t=e.scale.parse(t);var o=e.scale.getLabel({value:t},{precision:i.precision}),a=i.formatter;if(a){var s={value:$re(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};ye(r,function(l){var c=n.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,f=c&&c.getDataParams(u);f&&s.seriesData.push(f)}),Et(a)?o=a.replace("{value}",o):Qn(a)&&(o=a(s))}return o}function kde(t,e,n){var r=Xy();return eO(r,r,n.rotation),iI(r,r,n.position),_O([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],r)}function b4t(t,e,n,r,i,o){var a=Xvt.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get(["label","margin"]),m4t(e,r,i,o,{position:kde(r.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function v4t(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function y4t(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}var k4t=function(t){xr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(n,r,i,o,a){var s=i.axis,l=s.grid,c=o.get("type"),u=cY(l,s).getOtherAxis(s).getGlobalExtent(),f=s.toGlobalCoord(s.dataToCoord(r,!0));if(c&&c!=="none"){var d=p4t(o),h=_4t[c](s,f,u);h.style=d,n.graphicKey=h.type,n.pointer=h}var m=Yq(l.model,i);b4t(r,n,m,i,o,a)},e.prototype.getHandleTransform=function(n,r,i){var o=Yq(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var a=kde(r.axis,n,o);return{x:a[0],y:a[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(n,r,i,o){var a=i.axis,s=a.grid,l=a.getGlobalExtent(!0),c=cY(s,a).getOtherAxis(a).getGlobalExtent(),u=a.dim==="x"?0:1,f=[n.x,n.y];f[u]+=r[u],f[u]=Math.min(l[1],f[u]),f[u]=Math.max(l[0],f[u]);var d=(c[1]+c[0])/2,h=[d,d];h[u]=f[u];var m=[{verticalAlign:"middle"},{align:"center"}];return{x:f[0],y:f[1],rotation:n.rotation,cursorPoint:h,tooltipOption:m[u]}},e}(h4t);function cY(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var _4t={line:function(t,e,n){var r=v4t([e,n[0]],[e,n[1]],uY(t));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(t,e,n){var r=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:y4t([e-r/2,n[0]],[r,i],uY(t))}}};function uY(t){return t.dim==="x"?0:1}const w4t=k4t;var S4t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(wi);const x4t=S4t;var df=no(),C4t=ye;function _de(t,e,n){if(!In.node){var r=e.getZr();df(r).records||(df(r).records={}),T4t(r,e);var i=df(r).records[t]||(df(r).records[t]={});i.handler=n}}function T4t(t,e){if(df(t).initialized)return;df(t).initialized=!0,n("click",Rr(fY,"click")),n("mousemove",Rr(fY,"mousemove")),n("globalout",I4t);function n(r,i){t.on(r,function(o){var a=P4t(e);C4t(df(t).records,function(s){s&&i(s,o,a.dispatchAction)}),A4t(a.pendings,e)})}}function A4t(t,e){var n=t.showTip.length,r=t.hideTip.length,i;n?i=t.showTip[n-1]:r&&(i=t.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function I4t(t,e,n){t.handler("leave",null,n)}function fY(t,e,n,r){e.handler(t,n,r)}function P4t(t){var e={showTip:[],hideTip:[]},n=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=n,t.dispatchAction(r))};return{dispatchAction:n,pendings:e}}function oE(t,e){if(!In.node){var n=e.getZr(),r=(df(n).records||{})[t];r&&(df(n).records[t]=null)}}var E4t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){var o=r.getComponent("tooltip"),a=n.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";_de("axisPointer",i,function(s,l,c){a!=="none"&&(s==="leave"||a.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(n,r){oE("axisPointer",r)},e.prototype.dispose=function(n,r){oE("axisPointer",r)},e.type="axisPointer",e}(lh);const $4t=E4t;function wde(t,e){var n=[],r=t.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),a=f2(o,t);if(a==null||a<0||gt(a))return{point:[]};var s=o.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)if(t.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),f=u.dim,d=c.dim,h=f==="x"||f==="radius"?1:0,m=o.mapDimension(d),v=[];v[h]=o.get(m,a),v[1-h]=o.get(o.getCalculationInfo("stackResultDimension"),a),n=l.dataToPoint(v)||[]}else n=l.dataToPoint(o.getValues(tn(l.dimensions,function(b){return o.mapDimension(b)}),a))||[];else if(s){var k=s.getBoundingRect().clone();k.applyTransform(s.transform),n=[k.x+k.width/2,k.y+k.height/2]}return{point:n,el:s}}var dY=no();function O4t(t,e,n){var r=t.currTrigger,i=[t.x,t.y],o=t,a=t.dispatchAction||Er(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){R8(i)&&(i=wde({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=R8(i),c=o.axesInfo,u=s.axesInfo,f=r==="leave"||R8(i),d={},h={},m={list:[],map:{}},v={showPointer:Rr(L4t,h),showTooltip:Rr(F4t,m)};ye(s.coordSysMap,function(b,_){var x=l||b.containPoint(i);ye(s.coordSysAxesInfo[_],function(C,S){var g=C.axis,T=R4t(c,C);if(!f&&x&&(!c||T)){var P=T&&T.value;P==null&&!l&&(P=g.pointToData(i)),P!=null&&hY(C,P,v,!1,d)}})});var k={};return ye(u,function(b,_){var x=b.linkGroup;x&&!h[_]&&ye(x.axesInfo,function(C,S){var g=h[S];if(C!==b&&g){var T=g.value;x.mapper&&(T=b.axis.scale.parse(x.mapper(T,pY(C),pY(b)))),k[b.key]=T}})}),ye(k,function(b,_){hY(u[_],b,v,!0,d)}),N4t(h,u,d),M4t(m,i,t,a),z4t(u,a,n),d}}function hY(t,e,n,r,i){var o=t.axis;if(!(o.scale.isBlank()||!o.containData(e))){if(!t.involveSeries){n.showPointer(t,e);return}var a=D4t(e,t),s=a.payloadBatch,l=a.snapToValue;s[0]&&i.seriesIndex==null&&ot(i,s[0]),!r&&t.snap&&o.containData(l)&&l!=null&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,a,l)}}function D4t(t,e){var n=e.axis,r=n.dim,i=t,o=[],a=Number.MAX_VALUE,s=-1;return ye(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(r),f,d;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(u,t,n);d=h.dataIndices,f=h.nestestValue}else{if(d=l.getData().indicesOfNearest(u[0],t,n.type==="category"?.5:null),!d.length)return;f=l.getData().get(u[0],d[0])}if(!(f==null||!isFinite(f))){var m=t-f,v=Math.abs(m);v<=a&&((v<a||m>=0&&s<0)&&(a=v,s=m,i=f,o.length=0),ye(d,function(k){o.push({seriesIndex:l.seriesIndex,dataIndexInside:k,dataIndex:l.getData().getRawIndex(k)})}))}}),{payloadBatch:o,snapToValue:i}}function L4t(t,e,n,r){t[e.key]={value:n,payloadBatch:r}}function F4t(t,e,n,r){var i=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,c=$4(l),u=t.map[c];u||(u=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:r,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function N4t(t,e,n){var r=n.axesInfo=[];ye(e,function(i,o){var a=i.axisPointerModel.option,s=t[o];s?(!i.useHandle&&(a.status="show"),a.value=s.value,a.seriesDataIndices=(s.payloadBatch||[]).slice()):!i.useHandle&&(a.status="hide"),a.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:a.value})})}function M4t(t,e,n,r){if(R8(e)||!t.list.length){r({type:"hideTip"});return}var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}function z4t(t,e,n){var r=n.getZr(),i="axisPointerLastHighlights",o=dY(r)[i]||{},a=dY(r)[i]={};ye(t,function(c,u){var f=c.axisPointerModel.option;f.status==="show"&&c.triggerEmphasis&&ye(f.seriesDataIndices,function(d){var h=d.seriesIndex+" | "+d.dataIndex;a[h]=d})});var s=[],l=[];ye(o,function(c,u){!a[u]&&l.push(c)}),ye(a,function(c,u){!o[u]&&s.push(c)}),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function R4t(t,e){for(var n=0;n<(t||[]).length;n++){var r=t[n];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function pY(t){var e=t.axis.model,n={},r=n.axisDim=t.axis.dim;return n.axisIndex=n[r+"AxisIndex"]=e.componentIndex,n.axisName=n[r+"AxisName"]=e.name,n.axisId=n[r+"AxisId"]=e.id,n}function R8(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function j4t(t){iyt.registerAxisPointerClass("CartesianAxisPointer",w4t),t.registerComponentModel(x4t),t.registerComponentView($4t),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var n=e.axisPointer.link;n&&!gt(n)&&(e.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,n){e.getComponent("axisPointer").coordSysAxesInfo=Kvt(e,n)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},O4t)}function V4t(t,e){var n=Y6(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),t=new Qo({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),t}var B4t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(wi);const H4t=B4t;function Sde(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function xde(t){if(In.domSupported){for(var e=document.documentElement.style,n=0,r=t.length;n<r;n++)if(t[n]in e)return t[n]}}var Cde=xde(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),W4t=xde(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Tde(t,e){if(!t)return e;e=yne(e,!0);var n=t.indexOf(e);return t=n===-1?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function U4t(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?e?n[e]:n:null}var G4t=Tde(W4t,"transition"),aN=Tde(Cde,"transform"),q4t="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(In.transform3dSupported?"will-change:transform;":"");function Y4t(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function X4t(t,e,n){if(!Et(n)||n==="inside")return"";var r=t.get("backgroundColor"),i=t.get("borderWidth");e=n4(e);var o=Y4t(n),a=Math.max(Math.round(i)*1.5,6),s="",l=aN+":",c;wr(["left","right"],o)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c=o==="left"?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c=o==="top"?225:45)+"deg)");var u=c*Math.PI/180,f=a+i,d=f*Math.abs(Math.cos(u))+f*Math.abs(Math.sin(u)),h=Math.round(((d-Math.SQRT2*i)/2+Math.SQRT2*i-(d-f)/2)*100)/100;s+=";"+o+":-"+h+"px";var m=e+" solid "+i+"px;",v=["position:absolute;width:"+a+"px;height:"+a+"px;z-index:-1;",s+";"+l+";","border-bottom:"+m,"border-right:"+m,"background-color:"+r+";"];return'<div style="'+v.join("")+'"></div>'}function K4t(t,e){var n="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+n,i="opacity"+r+",visibility"+r;return e||(r=" "+t+"s "+n,i+=In.transformSupported?","+aN+r:",left"+r+",top"+r),G4t+":"+i}function mY(t,e,n){var r=t.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!In.transformSupported)return n?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=In.transform3dSupported,a="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return n?"top:0;left:0;"+aN+":"+a+";":[["top",0],["left",0],[Cde,a]]}function J4t(t){var e=[],n=t.get("fontSize"),r=t.getTextColor();r&&e.push("color:"+r),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(n*3/2)+"px");var i=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return i&&o&&e.push("text-shadow:"+a+"px "+s+"px "+o+"px "+i),ye(["decoration","align"],function(l){var c=t.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function Z4t(t,e,n){var r=[],i=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),u=t.getModel("textStyle"),f=qne(t,"html"),d=l+"px "+c+"px "+a+"px "+s;return r.push("box-shadow:"+d),e&&i&&r.push(K4t(i,n)),o&&r.push("background-color:"+o),ye(["width","color","radius"],function(h){var m="border-"+h,v=yne(m),k=t.get(v);k!=null&&r.push(m+":"+k+(h==="color"?"":"px"))}),r.push(J4t(u)),f!=null&&r.push("padding:"+Y6(f).join("px ")+"px"),r.join(";")+";"}function gY(t,e,n,r,i){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&dwe(t,a,document.body,r,i)}else{t[0]=r,t[1]=i;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var Q4t=function(){function t(e,n,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,In.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=n.getZr(),a=this._appendToBody=r&&r.appendToBody;gY(this._styleCoord,o,a,n.getWidth()/2,n.getHeight()/2),a?document.body.appendChild(i):e.appendChild(i),this._container=e;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=o.handler,u=o.painter.getViewportRoot();cl(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return t.prototype.update=function(e){var n=this._container,r=U4t(n,"position"),i=n.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var o=e.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=e.get("className")||""},t.prototype.show=function(e,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,o=this._styleCoord;r.innerHTML?i.cssText=q4t+Z4t(e,!this._firstShow,this._longHide)+mY(o[0],o[1],!0)+("border-color:"+n4(n)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,n,r,i,o){var a=this.el;if(e==null){a.innerHTML="";return}var s="";if(Et(o)&&r.get("trigger")==="item"&&!Sde(r)&&(s=X4t(r,i,o)),Et(e))a.innerHTML=e+s;else if(e){a.innerHTML="",gt(e)||(e=[e]);for(var l=0;l<e.length;l++)A5(e[l])&&e[l].parentNode!==a&&a.appendChild(e[l]);if(s&&a.childNodes.length){var c=document.createElement("div");c.innerHTML=s,a.appendChild(c)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},t.prototype.moveTo=function(e,n){var r=this._styleCoord;if(gY(r,this._zr,this._appendToBody,e,n),r[0]!=null&&r[1]!=null){var i=this.el.style,o=mY(r[0],r[1]);ye(o,function(a){i[a[0]]=a[1]})}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var e=this,n=this.el.style;n.visibility="hidden",n.opacity="0",In.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Er(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();const e2t=Q4t;var t2t=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),vY(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var n=e.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,n,r,i,o){var a=this;Bt(e)&&Qa(""),this.el&&this._zr.remove(this.el);var s=r.getModel("textStyle");this.el=new ea({style:{rich:n.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:s.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:qne(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),ye(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){a.el.style[c]=r.get(c)}),ye(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){a.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,n=this.el.getBoundingRect(),r=bY(e.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},t.prototype.moveTo=function(e,n){var r=this.el;if(r){var i=this._styleCoord;vY(i,this._zr,e,n),e=i[0],n=i[1];var o=r.style,a=hd(o.borderWidth||0),s=bY(o);r.x=e+a+s.left,r.y=n+a+s.top,r.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Er(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function hd(t){return Math.max(0,t)}function bY(t){var e=hd(t.shadowBlur||0),n=hd(t.shadowOffsetX||0),r=hd(t.shadowOffsetY||0);return{left:hd(e-n),right:hd(e+n),top:hd(e-r),bottom:hd(e+r)}}function vY(t,e,n,r){t[0]=n,t[1]=r,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const n2t=t2t;var r2t=new Qo({shape:{x:-1,y:-1,width:2,height:2}}),i2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.init=function(n,r){if(!(In.node||!r.getDom())){var i=n.getComponent("tooltip"),o=this._renderMode=ZSe(i.get("renderMode"));this._tooltipContent=o==="richText"?new n2t(r):new e2t(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(n,r,i){if(!(In.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=r,this._api=i;var o=this._tooltipContent;o.update(n),o.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?Xne(this,"_updatePosition",50,"fixRate"):zI(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var n=this._tooltipModel,r=n.get("triggerOn");_de("itemTooltip",this._api,Er(function(i,o,a){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(o,a):i==="leave"&&this._hide(a))},this))},e.prototype._keepShow=function(){var n=this._tooltipModel,r=this._ecModel,i=this._api,o=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&o!=="none"&&o!=="click"){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&a.manuallyShowTip(n,r,i,{x:a._lastX,y:a._lastY,dataByCoordSys:a._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(n,r,i,o){if(!(o.from===this.uid||In.node||!i.getDom())){var a=yY(o,i);this._ticket="";var s=o.dataByCoordSys,l=l2t(o,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:o.position,positionDefault:"bottom"},a)}else if(o.tooltip&&o.x!=null&&o.y!=null){var u=r2t;u.x=o.x,u.y=o.y,u.update(),jr(u).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:u},a)}else if(s)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:s,tooltipOption:o.tooltipOption},a);else if(o.seriesIndex!=null){if(this._manuallyAxisShowTip(n,r,i,o))return;var f=wde(o,r),d=f.point[0],h=f.point[1];d!=null&&h!=null&&this._tryShow({offsetX:d,offsetY:h,target:f.el,position:o.position,positionDefault:"bottom"},a)}else o.x!=null&&o.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},a))}},e.prototype.manuallyHideTip=function(n,r,i,o){var a=this._tooltipContent;this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(yY(o,i))},e.prototype._manuallyAxisShowTip=function(n,r,i,o){var a=o.seriesIndex,s=o.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(a==null||s==null||l==null)){var c=r.getSeriesByIndex(a);if(c){var u=c.getData(),f=gv([u.getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(f.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:a,dataIndex:s,position:o.position}),!0}}},e.prototype._tryShow=function(n,r){var i=n.target,o=this._tooltipModel;if(o){this._lastX=n.offsetX,this._lastY=n.offsetY;var a=n.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,n);else if(i){this._lastDataByCoordSys=null;var s,l;Ov(i,function(c){if(jr(c).dataIndex!=null)return s=c,!0;if(jr(c).tooltipConfig!=null)return l=c,!0},!0),s?this._showSeriesItemTooltip(n,s,r):l?this._showComponentItemTooltip(n,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(n,r){var i=n.get("showDelay");r=Er(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(n,r){var i=this._ecModel,o=this._tooltipModel,a=[r.offsetX,r.offsetY],s=gv([r.tooltipOption],o),l=this._renderMode,c=[],u=Tm("section",{blocks:[],noHeader:!0}),f=[],d=new Jx;ye(n,function(_){ye(_.dataByAxis,function(x){var C=i.getComponent(x.axisDim+"Axis",x.axisIndex),S=x.value;if(!(!C||S==null)){var g=yde(S,C.axis,i,x.seriesDataIndices,x.valueLabelOpt),T=Tm("section",{header:g,noHeader:!au(g),sortBlocks:!0,blocks:[]});u.blocks.push(T),ye(x.seriesDataIndices,function(P){var $=i.getSeriesByIndex(P.seriesIndex),F=P.dataIndexInside,D=$.getDataParams(F);if(!(D.dataIndex<0)){D.axisDim=x.axisDim,D.axisIndex=x.axisIndex,D.axisType=x.axisType,D.axisId=x.axisId,D.axisValue=$re(C.axis,{value:S}),D.axisValueLabel=g,D.marker=d.makeTooltipMarker("item",n4(D.color),l);var z=zB($.formatTooltip(F,!0,null)),R=z.frag;if(R){var V=gv([$],o).get("valueFormatter");T.blocks.push(V?ot({valueFormatter:V},R):R)}z.text&&f.push(z.text),c.push(D)}})}})}),u.blocks.reverse(),f.reverse();var h=r.position,m=s.get("order"),v=HB(u,d,l,m,i.get("useUTC"),s.get("textStyle"));v&&f.unshift(v);var k=l==="richText"?`

`:"<br/>",b=f.join(k);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(n,c)?this._updatePosition(s,h,a[0],a[1],this._tooltipContent,c):this._showTooltipContent(s,b,c,Math.random()+"",a[0],a[1],h,null,d)})},e.prototype._showSeriesItemTooltip=function(n,r,i){var o=this._ecModel,a=jr(r),s=a.seriesIndex,l=o.getSeriesByIndex(s),c=a.dataModel||l,u=a.dataIndex,f=a.dataType,d=c.getData(f),h=this._renderMode,m=n.positionDefault,v=gv([d.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,m?{position:m}:null),k=v.get("trigger");if(!(k!=null&&k!=="item")){var b=c.getDataParams(u,f),_=new Jx;b.marker=_.makeTooltipMarker("item",n4(b.color),h);var x=zB(c.formatTooltip(u,!1,f)),C=v.get("order"),S=v.get("valueFormatter"),g=x.frag,T=g?HB(S?ot({valueFormatter:S},g):g,_,h,C,o.get("useUTC"),v.get("textStyle")):x.text,P="item_"+c.name+"_"+u;this._showOrMove(v,function(){this._showTooltipContent(v,T,b,P,n.offsetX,n.offsetY,n.position,n.target,_)}),i({type:"showTip",dataIndexInside:u,dataIndex:d.getRawIndex(u),seriesIndex:s,from:this.uid})}},e.prototype._showComponentItemTooltip=function(n,r,i){var o=jr(r),a=o.tooltipConfig,s=a.option||{};if(Et(s)){var l=s;s={content:l,formatter:l}}var c=[s],u=this._ecModel.getComponent(o.componentMainType,o.componentIndex);u&&c.push(u),c.push({formatter:s.content});var f=n.positionDefault,d=gv(c,this._tooltipModel,f?{position:f}:null),h=d.get("content"),m=Math.random()+"",v=new Jx;this._showOrMove(d,function(){var k=Gn(d.get("formatterParams")||{});this._showTooltipContent(d,h,k,m,n.offsetX,n.offsetY,n.position,r,v)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(n,r,i,o,a,s,l,c,u){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var f=this._tooltipContent;f.setEnterable(n.get("enterable"));var d=n.get("formatter");l=l||n.get("position");var h=r,m=this._getNearestPoint([a,s],i,n.get("trigger"),n.get("borderColor")),v=m.color;if(d)if(Et(d)){var k=n.ecModel.get("useUTC"),b=gt(i)?i[0]:i,_=b&&b.axisType&&b.axisType.indexOf("time")>=0;h=d,_&&(h=vne(b.axisValue,h,k)),h=kne(h,i,!0)}else if(Qn(d)){var x=Er(function(C,S){C===this._ticket&&(f.setContent(S,u,n,v,l),this._updatePosition(n,l,a,s,f,i,c))},this);this._ticket=o,h=d(i,o,x)}else h=d;f.setContent(h,u,n,v,l),f.show(n,v),this._updatePosition(n,l,a,s,f,i,c)}},e.prototype._getNearestPoint=function(n,r,i,o){if(i==="axis"||gt(r))return{color:o||(this._renderMode==="html"?"#fff":"none")};if(!gt(r))return{color:o||r.color||r.borderColor}},e.prototype._updatePosition=function(n,r,i,o,a,s,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||n.get("position");var f=a.getSize(),d=n.get("align"),h=n.get("verticalAlign"),m=l&&l.getBoundingRect().clone();if(l&&m.applyTransform(l.transform),Qn(r)&&(r=r([i,o],s,a.el,m,{viewSize:[c,u],contentSize:f.slice()})),gt(r))i=Xr(r[0],c),o=Xr(r[1],u);else if(Bt(r)){var v=r;v.width=f[0],v.height=f[1];var k=fb(v,{width:c,height:u});i=k.x,o=k.y,d=null,h=null}else if(Et(r)&&l){var b=s2t(r,m,f,n.get("borderWidth"));i=b[0],o=b[1]}else{var b=o2t(i,o,a,c,u,d?null:20,h?null:20);i=b[0],o=b[1]}if(d&&(i-=kY(d)?f[0]/2:d==="right"?f[0]:0),h&&(o-=kY(h)?f[1]/2:h==="bottom"?f[1]:0),Sde(n)){var b=a2t(i,o,a,c,u);i=b[0],o=b[1]}a.moveTo(i,o)},e.prototype._updateContentNotChangedOnAxis=function(n,r){var i=this._lastDataByCoordSys,o=this._cbParamsList,a=!!i&&i.length===n.length;return a&&ye(i,function(s,l){var c=s.dataByAxis||[],u=n[l]||{},f=u.dataByAxis||[];a=a&&c.length===f.length,a&&ye(c,function(d,h){var m=f[h]||{},v=d.seriesDataIndices||[],k=m.seriesDataIndices||[];a=a&&d.value===m.value&&d.axisType===m.axisType&&d.axisId===m.axisId&&v.length===k.length,a&&ye(v,function(b,_){var x=k[_];a=a&&b.seriesIndex===x.seriesIndex&&b.dataIndex===x.dataIndex}),o&&ye(d.seriesDataIndices,function(b){var _=b.seriesIndex,x=r[_],C=o[_];x&&C&&C.data!==x.data&&(a=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=r,!!a},e.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},e.prototype.dispose=function(n,r){In.node||!r.getDom()||(zI(this,"_updatePosition"),this._tooltipContent.dispose(),oE("itemTooltip",r))},e.type="tooltip",e}(lh);function gv(t,e,n){var r=e.ecModel,i;n?(i=new co(n,r,r),i=new co(e.option,i,r)):i=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof co&&(a=a.get("tooltip",!0)),Et(a)&&(a={formatter:a}),a&&(i=new co(a,i,r)))}return i}function yY(t,e){return t.dispatchAction||Er(e.dispatchAction,e)}function o2t(t,e,n,r,i,o,a){var s=n.getSize(),l=s[0],c=s[1];return o!=null&&(t+l+o+2>r?t-=l+o:t+=o),a!=null&&(e+c+a>i?e-=c+a:e+=a),[t,e]}function a2t(t,e,n,r,i){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function s2t(t,e,n,r){var i=n[0],o=n[1],a=Math.ceil(Math.SQRT2*r)+8,s=0,l=0,c=e.width,u=e.height;switch(t){case"inside":s=e.x+c/2-i/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-i/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-i/2,l=e.y+u+a;break;case"left":s=e.x-i-a,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a,l=e.y+u/2-o/2}return[s,l]}function kY(t){return t==="center"||t==="middle"}function l2t(t,e,n){var r=sO(t).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var o=d2(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),a=o.models[0];if(a){var s=n.getViewOfComponentModel(a),l;if(s.group.traverse(function(c){var u=jr(c).tooltipConfig;if(u&&u.name===t.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:a.componentIndex,el:l}}}}const c2t=i2t;function sN(t){Tf(j4t),t.registerComponentModel(H4t),t.registerComponentView(c2t),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Jo),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Jo)}var u2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(wi),f2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.render=function(n,r,i){if(this.group.removeAll(),!!n.get("show")){var o=this.group,a=n.getModel("textStyle"),s=n.getModel("subtextStyle"),l=n.get("textAlign"),c=gn(n.get("textBaseline"),n.get("textVerticalAlign")),u=new ea({style:Cf(a,{text:n.get("text"),fill:a.getTextColor()},{disableBox:!0}),z2:10}),f=u.getBoundingRect(),d=n.get("subtext"),h=new ea({style:Cf(s,{text:d,fill:s.getTextColor(),y:f.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),m=n.get("link"),v=n.get("sublink"),k=n.get("triggerEvent",!0);u.silent=!m&&!k,h.silent=!v&&!k,m&&u.on("click",function(){OI(m,"_"+n.get("target"))}),v&&h.on("click",function(){OI(v,"_"+n.get("subtarget"))}),jr(u).eventData=jr(h).eventData=k?{componentType:"title",componentIndex:n.componentIndex}:null,o.add(u),d&&o.add(h);var b=o.getBoundingRect(),_=n.getBoxLayoutParams();_.width=b.width,_.height=b.height;var x=fb(_,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));l||(l=n.get("left")||n.get("right"),l==="middle"&&(l="center"),l==="right"?x.x+=x.width:l==="center"&&(x.x+=x.width/2)),c||(c=n.get("top")||n.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?x.y+=x.height:c==="middle"&&(x.y+=x.height/2),c=c||"top"),o.x=x.x,o.y=x.y,o.markRedraw();var C={align:l,verticalAlign:c};u.setStyle(C),h.setStyle(C),b=o.getBoundingRect();var S=x.margin,g=n.getItemStyle(["color","opacity"]);g.fill=n.get("backgroundColor");var T=new Qo({shape:{x:b.x-S[3],y:b.y-S[0],width:b.width+S[1]+S[3],height:b.height+S[0]+S[2],r:n.get("borderRadius")},style:g,subPixelOptimize:!0,silent:!0});o.add(T)}},e.type="title",e}(lh);function lN(t){t.registerComponentModel(u2t),t.registerComponentView(f2t)}var d2t=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},h2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return e.prototype.init=function(n,r,i){this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateSelector(n)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},e.prototype._updateSelector=function(n){var r=n.selector,i=this.ecModel;r===!0&&(r=n.selector=["all","inverse"]),gt(r)&&ye(r,function(o,a){Et(o)&&(o={type:o}),r[a]=hi(o,d2t(i,o.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<n.length;i++){var o=n[i].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(n[0].get("name"))}},e.prototype._updateData=function(n){var r=[],i=[];n.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var f=l.legendVisualProvider,d=f.getAllNames();n.isSeriesFiltered(l)||(i=i.concat(d)),d.length?r=r.concat(d):u=!0}else u=!0;u&&aO(l)&&r.push(l.name)}),this._availableNames=i;var o=this.get("data")||r,a=bn(),s=tn(o,function(l){return(Et(l)||Zr(l))&&(l={name:l}),a.get(l.name)?null:(a.set(l.name,!0),new co(l,this,this.ecModel))},this);this._data=Za(s,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(n){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var o=this._data;ye(o,function(a){r[a.get("name")]=!1})}r[n]=!0},e.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},e.prototype.toggleSelected=function(n){var r=this.option.selected;r.hasOwnProperty(n)||(r[n]=!0),this[r[n]?"unSelect":"select"](n)},e.prototype.allSelect=function(){var n=this._data,r=this.option.selected;ye(n,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var n=this._data,r=this.option.selected;ye(n,function(i){var o=i.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},e.prototype.isSelected=function(n){var r=this.option.selected;return!(r.hasOwnProperty(n)&&!r[n])&&wr(this._availableNames,n)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(wi);const aE=h2t;var Wg=Rr,sE=ye,U9=vu,p2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return e.prototype.init=function(){this.group.add(this._contentGroup=new U9),this.group.add(this._selectorGroup=new U9),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(n,r,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var a=n.get("align"),s=n.get("orient");(!a||a==="auto")&&(a=n.get("left")==="right"&&s==="vertical"?"right":"left");var l=n.get("selector",!0),c=n.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=s==="horizontal"?"end":"start"),this.renderInner(a,n,r,i,l,s,c);var u=n.getBoxLayoutParams(),f={width:i.getWidth(),height:i.getHeight()},d=n.get("padding"),h=fb(u,f,d),m=this.layoutInner(n,a,h,o,l,c),v=fb(mi({width:m.width,height:m.height},u),f,d);this.group.x=v.x-m.x,this.group.y=v.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=V4t(m,n))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(n,r,i,o,a,s,l){var c=this.getContentGroup(),u=bn(),f=r.get("selectedMode"),d=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&d.push(h.id)}),sE(r.getData(),function(h,m){var v=h.get("name");if(!this.newlineDisabled&&(v===""||v===`
`)){var k=new U9;k.newline=!0,c.add(k);return}var b=i.getSeriesByName(v)[0];if(!u.get(v))if(b){var _=b.getData(),x=_.getVisual("legendLineStyle")||{},C=_.getVisual("legendIcon"),S=_.getVisual("style"),g=this._createItem(b,v,m,h,r,n,x,S,C,f,o);g.on("click",Wg(_Y,v,null,o,d)).on("mouseover",Wg(lE,b.name,null,o,d)).on("mouseout",Wg(cE,b.name,null,o,d)),u.set(v,!0)}else i.eachRawSeries(function(T){if(!u.get(v)&&T.legendVisualProvider){var P=T.legendVisualProvider;if(!P.containName(v))return;var $=P.indexOfName(v),F=P.getItemVisual($,"style"),D=P.getItemVisual($,"legendIcon"),z=dc(F.fill);z&&z[3]===0&&(z[3]=.2,F=ot(ot({},F),{fill:Nd(z,"rgba")}));var R=this._createItem(T,v,m,h,r,n,{},F,D,f,o);R.on("click",Wg(_Y,null,v,o,d)).on("mouseover",Wg(lE,null,v,o,d)).on("mouseout",Wg(cE,null,v,o,d)),u.set(v,!0)}},this)},this),a&&this._createSelector(a,r,o,s,l)},e.prototype._createSelector=function(n,r,i,o,a){var s=this.getSelectorGroup();sE(n,function(c){var u=c.type,f=new ea({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect"})}});s.add(f);var d=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);U5(f,{normal:d,emphasis:h},{defaultText:c.title}),xI(f)})},e.prototype._createItem=function(n,r,i,o,a,s,l,c,u,f,d){var h=n.visualDrawType,m=a.get("itemWidth"),v=a.get("itemHeight"),k=a.isSelected(r),b=o.get("symbolRotate"),_=o.get("symbolKeepAspect"),x=o.get("icon");u=x||u||"roundRect";var C=m2t(u,o,l,c,h,k,d),S=new U9,g=o.getModel("textStyle");if(Qn(n.getLegendIcon)&&(!x||x==="inherit"))S.add(n.getLegendIcon({itemWidth:m,itemHeight:v,icon:u,iconRotate:b,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:_}));else{var T=x==="inherit"&&n.getData().getVisual("symbol")?b==="inherit"?n.getData().getVisual("symbolRotate"):b:0;S.add(g2t({itemWidth:m,itemHeight:v,icon:u,iconRotate:T,itemStyle:C.itemStyle,lineStyle:C.lineStyle,symbolKeepAspect:_}))}var P=s==="left"?m+5:-5,$=s,F=a.get("formatter"),D=r;Et(F)&&F?D=F.replace("{name}",r??""):Qn(F)&&(D=F(r));var z=k?g.getTextColor():o.get("inactiveColor");S.add(new ea({style:Cf(g,{text:D,x:P,y:v/2,fill:z,align:$,verticalAlign:"middle"},{inheritColor:z})}));var R=new Qo({shape:S.getBoundingRect(),invisible:!0}),V=o.getModel("tooltip");return V.get("show")&&SO({el:R,componentModel:a,itemName:r,itemTooltipOption:V.option}),S.add(R),S.eachChild(function(ie){ie.silent=!0}),R.silent=!f,this.getContentGroup().add(S),xI(S),S.__legendDataIndex=i,S},e.prototype.layoutInner=function(n,r,i,o,a,s){var l=this.getContentGroup(),c=this.getSelectorGroup();ay(n.get("orient"),l,n.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),f=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),a){ay("horizontal",c,n.get("selectorItemGap",!0));var d=c.getBoundingRect(),h=[-d.x,-d.y],m=n.get("selectorButtonGap",!0),v=n.getOrient().index,k=v===0?"width":"height",b=v===0?"height":"width",_=v===0?"y":"x";s==="end"?h[v]+=u[k]+m:f[v]+=d[k]+m,h[1-v]+=u[b]/2-d[b]/2,c.x=h[0],c.y=h[1],l.x=f[0],l.y=f[1];var x={x:0,y:0};return x[k]=u[k]+m+d[k],x[b]=Math.max(u[b],d[b]),x[_]=Math.min(0,d[_]+h[1-v]),x}else return l.x=f[0],l.y=f[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(lh);function m2t(t,e,n,r,i,o,a){function s(k,b){k.lineWidth==="auto"&&(k.lineWidth=b.lineWidth>0?2:0),sE(k,function(_,x){k[x]==="inherit"&&(k[x]=b[x])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=t.lastIndexOf("empty",0)===0?"fill":"stroke",f=l.getShallow("decal");c.decal=!f||f==="inherit"?r.decal:Q5(f,a),c.fill==="inherit"&&(c.fill=r[i]),c.stroke==="inherit"&&(c.stroke=r[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?r:n).opacity),s(c,r);var d=e.getModel("lineStyle"),h=d.getLineStyle();if(s(h,n),c.fill==="auto"&&(c.fill=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!o){var m=e.get("inactiveBorderWidth"),v=c[u];c.lineWidth=m==="auto"?r.lineWidth>0&&v?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),h.stroke=d.get("inactiveColor"),h.lineWidth=d.get("inactiveWidth")}return{itemStyle:c,lineStyle:h}}function g2t(t){var e=t.icon||"roundRect",n=MO(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function _Y(t,e,n,r){cE(t,e,n,r),n.dispatchAction({type:"legendToggleSelect",name:t??e}),lE(t,e,n,r)}function Ade(t){for(var e=t.getZr().storage.getDisplayList(),n,r=0,i=e.length;r<i&&!(n=e[r].states.emphasis);)r++;return n&&n.hoverLayer}function lE(t,e,n,r){Ade(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:r})}function cE(t,e,n,r){Ade(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:r})}const Ide=p2t;function b2t(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(n){for(var r=0;r<e.length;r++)if(!e[r].isSelected(n.name))return!1;return!0})}function bv(t,e,n){var r={},i=t==="toggleSelected",o;return n.eachComponent("legend",function(a){i&&o!=null?a[o?"select":"unSelect"](e.name):t==="allSelect"||t==="inverseSelect"?a[t]():(a[t](e.name),o=a.isSelected(e.name));var s=a.getData();ye(s,function(l){var c=l.get("name");if(!(c===`
`||c==="")){var u=a.isSelected(c);r.hasOwnProperty(c)?r[c]=r[c]&&u:r[c]=u}})}),t==="allSelect"||t==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function v2t(t){t.registerAction("legendToggleSelect","legendselectchanged",Rr(bv,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Rr(bv,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Rr(bv,"inverseSelect")),t.registerAction("legendSelect","legendselected",Rr(bv,"select")),t.registerAction("legendUnSelect","legendunselected",Rr(bv,"unSelect"))}function Pde(t){t.registerComponentModel(aE),t.registerComponentView(Ide),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,b2t),t.registerSubTypeDefaulter("legend",function(){return"plain"}),v2t(t)}var y2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n}return e.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},e.prototype.init=function(n,r,i){var o=AO(n);t.prototype.init.call(this,n,r,i),wY(this,n,o)},e.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),wY(this,this.option,n)},e.type="legend.scroll",e.defaultOption=OTe(aE.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(aE);function wY(t,e,n){var r=t.getOrient(),i=[1,1];i[r.index]=0,r4(e,n,{type:"box",ignoreSize:!!i})}const k2t=y2t;var SY=vu,pT=["width","height"],mT=["x","y"],_2t=function(t){xr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new SY),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new SY)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(n,r,i,o,a,s,l){var c=this;t.prototype.renderInner.call(this,n,r,i,o,a,s,l);var u=this._controllerGroup,f=r.get("pageIconSize",!0),d=gt(f)?f:[f,f];m("pagePrev",0);var h=r.getModel("pageTextStyle");u.add(new ea({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),m("pageNext",1);function m(v,k){var b=v+"DataIndex",_=wO(r.get("pageIcons",!0)[r.getOrient().name][k],{onclick:Er(c._pageGo,c,b,r,o)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});_.name=v,u.add(_)}},e.prototype.layoutInner=function(n,r,i,o,a,s){var l=this.getSelectorGroup(),c=n.getOrient().index,u=pT[c],f=mT[c],d=pT[1-c],h=mT[1-c];a&&ay("horizontal",l,n.get("selectorItemGap",!0));var m=n.get("selectorButtonGap",!0),v=l.getBoundingRect(),k=[-v.x,-v.y],b=Gn(i);a&&(b[u]=i[u]-v[u]-m);var _=this._layoutContentAndController(n,o,b,c,u,d,h,f);if(a){if(s==="end")k[c]+=_[u]+m;else{var x=v[u]+m;k[c]-=x,_[f]-=x}_[u]+=v[u]+m,k[1-c]+=_[h]+_[d]/2-v[d]/2,_[d]=Math.max(_[d],v[d]),_[h]=Math.min(_[h],v[h]+k[1-c]),l.x=k[0],l.y=k[1],l.markRedraw()}return _},e.prototype._layoutContentAndController=function(n,r,i,o,a,s,l,c){var u=this.getContentGroup(),f=this._containerGroup,d=this._controllerGroup;ay(n.get("orient"),u,n.get("itemGap"),o?i.width:null,o?null:i.height),ay("horizontal",d,n.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),m=d.getBoundingRect(),v=this._showController=h[a]>i[a],k=[-h.x,-h.y];r||(k[o]=u[c]);var b=[0,0],_=[-m.x,-m.y],x=gn(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(v){var C=n.get("pageButtonPosition",!0);C==="end"?_[o]+=i[a]-m[a]:b[o]+=m[a]+x}_[1-o]+=h[s]/2-m[s]/2,u.setPosition(k),f.setPosition(b),d.setPosition(_);var S={x:0,y:0};if(S[a]=v?i[a]:h[a],S[s]=Math.max(h[s],m[s]),S[l]=Math.min(0,m[l]+_[1-o]),f.__rectSize=i[a],v){var g={x:0,y:0};g[a]=Math.max(i[a]-m[a]-x,0),g[s]=S[s],f.setClipPath(new Qo({shape:g})),f.__rectSize=g[a]}else d.eachChild(function(P){P.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(n);return T.pageIndex!=null&&Cm(u,{x:T.contentPosition[0],y:T.contentPosition[1]},v?n:null),this._updatePageInfoView(n,T),S},e.prototype._pageGo=function(n,r,i){var o=this._getPageInfo(r)[n];o!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},e.prototype._updatePageInfoView=function(n,r){var i=this._controllerGroup;ye(["pagePrev","pageNext"],function(u){var f=u+"DataIndex",d=r[f]!=null,h=i.childOfName(u);h&&(h.setStyle("fill",d?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),h.cursor=d?"pointer":"default")});var o=i.childOfName("pageText"),a=n.get("pageFormatter"),s=r.pageIndex,l=s!=null?s+1:0,c=r.pageCount;o&&a&&o.setStyle("text",Et(a)?a.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):a({current:l,total:c}))},e.prototype._getPageInfo=function(n){var r=n.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,a=n.getOrient().index,s=pT[a],l=mT[a],c=this._findTargetItemIndex(r),u=i.children(),f=u[c],d=u.length,h=d?1:0,m={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!f)return m;var v=C(f);m.contentPosition[a]=-v.s;for(var k=c+1,b=v,_=v,x=null;k<=d;++k)x=C(u[k]),(!x&&_.e>b.s+o||x&&!S(x,b.s))&&(_.i>b.i?b=_:b=x,b&&(m.pageNextDataIndex==null&&(m.pageNextDataIndex=b.i),++m.pageCount)),_=x;for(var k=c-1,b=v,_=v,x=null;k>=-1;--k)x=C(u[k]),(!x||!S(_,x.s))&&b.i<_.i&&(_=b,m.pagePrevDataIndex==null&&(m.pagePrevDataIndex=b.i),++m.pageCount,++m.pageIndex),b=x;return m;function C(g){if(g){var T=g.getBoundingRect(),P=T[l]+g[l];return{s:P,e:P+T[s],i:g.__legendDataIndex}}}function S(g,T){return g.e>=T&&g.s<=T+o}},e.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var r,i=this.getContentGroup(),o;return i.eachChild(function(a,s){var l=a.__legendDataIndex;o==null&&l!=null&&(o=s),l===n&&(r=s)}),r??o},e.type="legend.scroll",e}(Ide);const w2t=_2t;function S2t(t){t.registerAction("legendScroll","legendscroll",function(e,n){var r=e.scrollDataIndex;r!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function x2t(t){Tf(Pde),t.registerComponentModel(k2t),t.registerComponentView(w2t),S2t(t)}function cN(t){Tf(Pde),Tf(x2t)}var gT=Math.sin,bT=Math.cos,Ede=Math.PI,yp=Math.PI*2,C2t=180/Ede,T2t=function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,n){this._add("M",e,n)},t.prototype.lineTo=function(e,n){this._add("L",e,n)},t.prototype.bezierCurveTo=function(e,n,r,i,o,a){this._add("C",e,n,r,i,o,a)},t.prototype.quadraticCurveTo=function(e,n,r,i){this._add("Q",e,n,r,i)},t.prototype.arc=function(e,n,r,i,o,a){this.ellipse(e,n,r,r,0,i,o,a)},t.prototype.ellipse=function(e,n,r,i,o,a,s,l){var c=s-a,u=!l,f=Math.abs(c),d=xd(f-yp)||(u?c>=yp:-c>=yp),h=c>0?c%yp:c%yp+yp,m=!1;d?m=!0:xd(f)?m=!1:m=h>=Ede==!!u;var v=e+r*bT(a),k=n+i*gT(a);this._start&&this._add("M",v,k);var b=Math.round(o*C2t);if(d){var _=1/this._p,x=(u?1:-1)*(yp-_);this._add("A",r,i,b,1,+u,e+r*bT(a+x),n+i*gT(a+x)),_>.01&&this._add("A",r,i,b,0,+u,v,k)}else{var C=e+r*bT(s),S=n+i*gT(s);this._add("A",r,i,b,+m,+u,C,S)}},t.prototype.rect=function(e,n,r,i){this._add("M",e,n),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,n,r,i,o,a,s,l,c){for(var u=[],f=this._p,d=1;d<arguments.length;d++){var h=arguments[d];if(isNaN(h)){this._invalid=!0;return}u.push(Math.round(h*f)/f)}this._d.push(e+u.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}();const $de=T2t;var yy="none",A2t=Math.round;function I2t(t){var e=t.fill;return e!=null&&e!==yy}function P2t(t){var e=t.stroke;return e!=null&&e!==yy}var uE=["lineCap","miterLimit","lineJoin"],E2t=tn(uE,function(t){return"stroke-"+t.toLowerCase()});function $2t(t,e,n,r){var i=e.opacity==null?1:e.opacity;if(n instanceof mh){t("opacity",i);return}if(I2t(e)){var o=Ky(e.fill);t("fill",o.color);var a=e.fillOpacity!=null?e.fillOpacity*o.opacity*i:o.opacity*i;(r||a<1)&&t("fill-opacity",a)}else t("fill",yy);if(P2t(e)){var s=Ky(e.stroke);t("stroke",s.color);var l=e.strokeNoScale?n.getLineScale():1,c=l?(e.lineWidth||0)/l:0,u=e.strokeOpacity!=null?e.strokeOpacity*s.opacity*i:s.opacity*i,f=e.strokeFirst;if((r||c!==1)&&t("stroke-width",c),(r||f)&&t("paint-order",f?"stroke":"fill"),(r||u<1)&&t("stroke-opacity",u),e.lineDash){var d=zO(n),h=d[0],m=d[1];h&&(m=A2t(m||0),t("stroke-dasharray",h.join(",")),(m||r)&&t("stroke-dashoffset",m))}else r&&t("stroke-dasharray",yy);for(var v=0;v<uE.length;v++){var k=uE[v];if(r||e[k]!==M5[k]){var b=e[k]||M5[k];b&&t(E2t[v],b)}}}else r&&t("stroke",yy)}var Ode="http://www.w3.org/2000/svg",Dde="http://www.w3.org/1999/xlink",O2t="http://www.w3.org/2000/xmlns/",D2t="http://www.w3.org/XML/1998/namespace";function Lde(t){return document.createElementNS(Ode,t)}function Zi(t,e,n,r,i){return{tag:t,attrs:n||{},children:r,text:i,key:e}}function L2t(t,e){var n=[];if(e)for(var r in e){var i=e[r],o=r;i!==!1&&(i!==!0&&i!=null&&(o+='="'+i+'"'),n.push(o))}return"<"+t+" "+n.join(" ")+">"}function F2t(t){return"</"+t+">"}function uN(t,e){e=e||{};var n=e.newline?`
`:"";function r(i){var o=i.children,a=i.tag,s=i.attrs,l=i.text;return L2t(a,s)+(a!=="style"?Ls(l):l||"")+(o?""+n+tn(o,function(c){return r(c)}).join(n)+n:"")+F2t(a)}return r(t)}function N2t(t,e,n){n=n||{};var r=n.newline?`
`:"",i=" {"+r,o=r+"}",a=tn(ir(t),function(l){return l+i+tn(ir(t[l]),function(c){return c+":"+t[l][c]+";"}).join(r)+o}).join(r),s=tn(ir(e),function(l){return"@keyframes "+l+i+tn(ir(e[l]),function(c){return c+i+tn(ir(e[l][c]),function(u){var f=e[l][c][u];return u==="d"&&(f='path("'+f+'")'),u+":"+f+";"}).join(r)+o}).join(r)+o}).join(r);return!a&&!s?"":["<![CDATA[",a,s,"]]>"].join(r)}function fE(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function xY(t,e,n,r){return Zi("svg","root",{width:t,height:e,xmlns:Ode,"xmlns:xlink":Dde,version:"1.1",baseProfile:"full",viewBox:r?"0 0 "+t+" "+e:!1},n)}var CY={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Cp="transform-origin";function M2t(t,e,n){var r=ot({},t.shape);ot(r,e),t.buildPath(n,r);var i=new $de;return i.reset(Xee(t)),n.rebuildPath(i,1),i.generateStr(),i.getStr()}function z2t(t,e){var n=e.originX,r=e.originY;(n||r)&&(t[Cp]=n+"px "+r+"px")}var R2t={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Fde(t,e){var n=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[n]=t,n}function j2t(t,e,n){var r=t.shape.paths,i={},o,a;if(ye(r,function(l){var c=fE(n.zrId);c.animation=!0,rw(l,{},c,!0);var u=c.cssAnims,f=c.cssNodes,d=ir(u),h=d.length;if(h){a=d[h-1];var m=u[a];for(var v in m){var k=m[v];i[v]=i[v]||{d:""},i[v].d+=k.d||""}for(var b in f){var _=f[b].animation;_.indexOf(a)>=0&&(o=_)}}}),!!o){e.d=!1;var s=Fde(i,n);return o.replace(a,s)}}function TY(t){return Et(t)?CY[t]?"cubic-bezier("+CY[t]+")":tO(t)?t:"":""}function rw(t,e,n,r){var i=t.animators,o=i.length,a=[];if(t instanceof rne){var s=j2t(t,e,n);if(s)a.push(s);else if(!o)return}else if(!o)return;for(var l={},c=0;c<o;c++){var u=i[c],f=[u.getMaxTime()/1e3+"s"],d=TY(u.getClip().easing),h=u.getDelay();d?f.push(d):f.push("linear"),h&&f.push(h/1e3+"s"),u.getLoop()&&f.push("infinite");var m=f.join(" ");l[m]=l[m]||[m,[]],l[m][1].push(u)}function v(_){var x=_[1],C=x.length,S={},g={},T={},P="animation-timing-function";function $(ue,ce,fe){for(var ve=ue.getTracks(),B=ue.getMaxTime(),Y=0;Y<ve.length;Y++){var E=ve[Y];if(E.needsAnimate()){var M=E.keyframes,H=E.propName;if(fe&&(H=fe(H)),H)for(var Q=0;Q<M.length;Q++){var be=M[Q],me=Math.round(be.time/B*100)+"%",Fe=TY(be.easing),Le=be.rawValue;(Et(Le)||Zr(Le))&&(ce[me]=ce[me]||{},ce[me][H]=be.rawValue,Fe&&(ce[me][P]=Fe))}}}}for(var F=0;F<C;F++){var D=x[F],z=D.targetName;z?z==="shape"&&$(D,g):!r&&$(D,S)}for(var R in S){var V={};ete(V,t),ot(V,S[R]);var ie=Kee(V),oe=S[R][P];T[R]=ie?{transform:ie}:{},z2t(T[R],V),oe&&(T[R][P]=oe)}var _e,Ae=!0;for(var R in g){T[R]=T[R]||{};var Ie=!_e,oe=g[R][P];Ie&&(_e=new sh);var ke=_e.len();_e.reset(),T[R].d=M2t(t,g[R],_e);var se=_e.len();if(!Ie&&ke!==se){Ae=!1;break}oe&&(T[R][P]=oe)}if(!Ae)for(var R in T)delete T[R].d;if(!r)for(var F=0;F<C;F++){var D=x[F],z=D.targetName;z==="style"&&$(D,T,function(ve){return R2t[ve]})}for(var ne=ir(T),J=!0,j,F=1;F<ne.length;F++){var U=ne[F-1],ae=ne[F];if(T[U][Cp]!==T[ae][Cp]){J=!1;break}j=T[U][Cp]}if(J&&j){for(var R in T)T[R][Cp]&&delete T[R][Cp];e[Cp]=j}if(Za(ne,function(ue){return ir(T[ue]).length>0}).length){var te=Fde(T,n);return te+" "+_[0]+" both"}}for(var k in l){var s=v(l[k]);s&&a.push(s)}if(a.length){var b=n.zrId+"-cls-"+n.cssClassIdx++;n.cssNodes["."+b]={animation:a.join(",")},e.class=b}}var D4=Math.round;function Nde(t){return t&&Et(t.src)}function Mde(t){return t&&Qn(t.toDataURL)}function fN(t,e,n,r){$2t(function(i,o){var a=i==="fill"||i==="stroke";a&&Yee(o)?Rde(e,t,i,r):a&&nO(o)?jde(n,t,i,r):t[i]=o},e,n,!1),q2t(n,t,r)}function AY(t){return xd(t[0]-1)&&xd(t[1])&&xd(t[2])&&xd(t[3]-1)}function V2t(t){return xd(t[4])&&xd(t[5])}function dN(t,e,n){if(e&&!(V2t(e)&&AY(e))){var r=n?10:1e4;t.transform=AY(e)?"translate("+D4(e[4]*r)/r+" "+D4(e[5]*r)/r+")":Zwe(e)}}function IY(t,e,n){for(var r=t.points,i=[],o=0;o<r.length;o++)i.push(D4(r[o][0]*n)/n),i.push(D4(r[o][1]*n)/n);e.points=i.join(" ")}function PY(t){return!t.smooth}function B2t(t){var e=tn(t,function(n){return typeof n=="string"?[n,n]:n});return function(n,r,i){for(var o=0;o<e.length;o++){var a=e[o],s=n[a[0]];s!=null&&(r[a[1]]=D4(s*i)/i)}}}var H2t={circle:[B2t(["cx","cy","r"])],polyline:[IY,PY],polygon:[IY,PY]};function W2t(t){for(var e=t.animators,n=0;n<e.length;n++)if(e[n].targetName==="shape")return!0;return!1}function zde(t,e){var n=t.style,r=t.shape,i=H2t[t.type],o={},a=e.animation,s="path",l=t.style.strokePercent,c=e.compress&&Xee(t)||4;if(i&&!e.willUpdate&&!(i[1]&&!i[1](r))&&!(a&&W2t(t))&&!(l<1)){s=t.type;var u=Math.pow(10,c);i[0](r,o,u)}else{var f=!t.path||t.shapeChanged();t.path||t.createPathProxy();var d=t.path;f&&(d.beginPath(),t.buildPath(d,t.shape),t.pathUpdated());var h=d.getVersion(),m=t,v=m.__svgPathBuilder;(m.__svgPathVersion!==h||!v||l!==m.__svgPathStrokePercent)&&(v||(v=m.__svgPathBuilder=new $de),v.reset(c),d.rebuildPath(v,l),v.generateStr(),m.__svgPathVersion=h,m.__svgPathStrokePercent=l),o.d=v.getStr()}return dN(o,t.transform),fN(o,n,t,e),e.animation&&rw(t,o,e),Zi(s,t.id+"",o)}function U2t(t,e){var n=t.style,r=n.image;if(r&&!Et(r)&&(Nde(r)?r=r.src:Mde(r)&&(r=r.toDataURL())),!!r){var i=n.x||0,o=n.y||0,a=n.width,s=n.height,l={href:r,width:a,height:s};return i&&(l.x=i),o&&(l.y=o),dN(l,t.transform),fN(l,n,t,e),e.animation&&rw(t,l,e),Zi("image",t.id+"",l)}}function G2t(t,e){var n=t.style,r=n.text;if(r!=null&&(r+=""),!(!r||isNaN(n.x)||isNaN(n.y))){var i=n.font||oh,o=n.x||0,a=eSe(n.y||0,j6(i),n.textBaseline),s=Qwe[n.textAlign]||n.textAlign,l={"dominant-baseline":"central","text-anchor":s};if(Ate(n)){var c="",u=n.fontStyle,f=Tte(n.fontSize);if(!parseFloat(f))return;var d=n.fontFamily||_ee,h=n.fontWeight;c+="font-size:"+f+";font-family:"+d+";",u&&u!=="normal"&&(c+="font-style:"+u+";"),h&&h!=="normal"&&(c+="font-weight:"+h+";"),l.style=c}else l.style="font: "+i;return r.match(/\s/)&&(l["xml:space"]="preserve"),o&&(l.x=o),a&&(l.y=a),dN(l,t.transform),fN(l,n,t,e),e.animation&&rw(t,l,e),Zi("text",t.id+"",l,void 0,r)}}function EY(t,e){if(t instanceof Dr)return zde(t,e);if(t instanceof mh)return U2t(t,e);if(t instanceof z5)return G2t(t,e)}function q2t(t,e,n){var r=t.style;if(tSe(r)){var i=nSe(t),o=n.shadowCache,a=o[i];if(!a){var s=t.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=r.shadowOffsetX||0,f=r.shadowOffsetY||0,d=r.shadowBlur,h=Ky(r.shadowColor),m=h.opacity,v=h.color,k=d/2/l,b=d/2/c,_=k+" "+b;a=n.zrId+"-s"+n.shadowIdx++,n.defs[a]=Zi("filter",a,{id:a,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Zi("feDropShadow","",{dx:u/l,dy:f/c,stdDeviation:_,"flood-color":v,"flood-opacity":m})]),o[i]=a}e.filter=R6(a)}}function Rde(t,e,n,r){var i=t[n],o,a={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(Gee(i))o="linearGradient",a.x1=i.x,a.y1=i.y,a.x2=i.x2,a.y2=i.y2;else if(qee(i))o="radialGradient",a.cx=gn(i.x,.5),a.cy=gn(i.y,.5),a.r=gn(i.r,.5);else return;for(var s=i.colorStops,l=[],c=0,u=s.length;c<u;++c){var f=cI(s[c].offset)*100+"%",d=s[c].color,h=Ky(d),m=h.color,v=h.opacity,k={offset:f};k["stop-color"]=m,v<1&&(k["stop-opacity"]=v),l.push(Zi("stop",c+"",k))}var b=Zi(o,"",a,l),_=uN(b),x=r.gradientCache,C=x[_];C||(C=r.zrId+"-g"+r.gradientIdx++,x[_]=C,a.id=C,r.defs[C]=Zi(o,C,a,l)),e[n]=R6(C)}function jde(t,e,n,r){var i=t.style[n],o=t.getBoundingRect(),a={},s=i.repeat,l=s==="no-repeat",c=s==="repeat-x",u=s==="repeat-y",f;if(Uee(i)){var d=i.imageWidth,h=i.imageHeight,m=void 0,v=i.image;if(Et(v)?m=v:Nde(v)?m=v.src:Mde(v)&&(m=v.toDataURL()),typeof Image>"u"){var k="Image width/height must been given explictly in svg-ssr renderer.";Hs(d,k),Hs(h,k)}else if(d==null||h==null){var b=function(F,D){if(F){var z=F.elm,R=d||D.width,V=h||D.height;F.tag==="pattern"&&(c?(V=1,R/=o.width):u&&(R=1,V/=o.height)),F.attrs.width=R,F.attrs.height=V,z&&(z.setAttribute("width",R),z.setAttribute("height",V))}},_=uO(m,null,t,function(F){l||b(g,F),b(f,F)});_&&_.width&&_.height&&(d=d||_.width,h=h||_.height)}f=Zi("image","img",{href:m,width:d,height:h}),a.width=d,a.height=h}else i.svgElement&&(f=Gn(i.svgElement),a.width=i.svgWidth,a.height=i.svgHeight);if(f){var x,C;l?x=C=1:c?(C=1,x=a.width/o.width):u?(x=1,C=a.height/o.height):a.patternUnits="userSpaceOnUse",x!=null&&!isNaN(x)&&(a.width=x),C!=null&&!isNaN(C)&&(a.height=C);var S=Kee(i);S&&(a.patternTransform=S);var g=Zi("pattern","",a,[f]),T=uN(g),P=r.patternCache,$=P[T];$||($=r.zrId+"-p"+r.patternIdx++,P[T]=$,a.id=$,g=r.defs[$]=Zi("pattern",$,a,[f])),e[n]=R6($)}}function Y2t(t,e,n){var r=n.clipPathCache,i=n.defs,o=r[t.id];if(!o){o=n.zrId+"-c"+n.clipPathIdx++;var a={id:o};r[t.id]=o,i[o]=Zi("clipPath",o,a,[zde(t,n)])}e["clip-path"]=R6(o)}function $Y(t){return document.createTextNode(t)}function Rp(t,e,n){t.insertBefore(e,n)}function OY(t,e){t.removeChild(e)}function DY(t,e){t.appendChild(e)}function Vde(t){return t.parentNode}function Bde(t){return t.nextSibling}function vT(t,e){t.textContent=e}var LY=58,X2t=120,K2t=Zi("","");function dE(t){return t===void 0}function Gc(t){return t!==void 0}function J2t(t,e,n){for(var r={},i=e;i<=n;++i){var o=t[i].key;o!==void 0&&(r[o]=i)}return r}function zv(t,e){var n=t.key===e.key,r=t.tag===e.tag;return r&&n}function L4(t){var e,n=t.children,r=t.tag;if(Gc(r)){var i=t.elm=Lde(r);if(hN(K2t,t),gt(n))for(e=0;e<n.length;++e){var o=n[e];o!=null&&DY(i,L4(o))}else Gc(t.text)&&!Bt(t.text)&&DY(i,$Y(t.text))}else t.elm=$Y(t.text);return t.elm}function Hde(t,e,n,r,i){for(;r<=i;++r){var o=n[r];o!=null&&Rp(t,L4(o),e)}}function Xk(t,e,n,r){for(;n<=r;++n){var i=e[n];if(i!=null)if(Gc(i.tag)){var o=Vde(i.elm);OY(o,i.elm)}else OY(t,i.elm)}}function hN(t,e){var n,r=e.elm,i=t&&t.attrs||{},o=e.attrs||{};if(i!==o){for(n in o){var a=o[n],s=i[n];s!==a&&(a===!0?r.setAttribute(n,""):a===!1?r.removeAttribute(n):n.charCodeAt(0)!==X2t?r.setAttribute(n,a):n==="xmlns:xlink"||n==="xmlns"?r.setAttributeNS(O2t,n,a):n.charCodeAt(3)===LY?r.setAttributeNS(D2t,n,a):n.charCodeAt(5)===LY?r.setAttributeNS(Dde,n,a):r.setAttribute(n,a))}for(n in i)n in o||r.removeAttribute(n)}}function Z2t(t,e,n){for(var r=0,i=0,o=e.length-1,a=e[0],s=e[o],l=n.length-1,c=n[0],u=n[l],f,d,h,m;r<=o&&i<=l;)a==null?a=e[++r]:s==null?s=e[--o]:c==null?c=n[++i]:u==null?u=n[--l]:zv(a,c)?(n0(a,c),a=e[++r],c=n[++i]):zv(s,u)?(n0(s,u),s=e[--o],u=n[--l]):zv(a,u)?(n0(a,u),Rp(t,a.elm,Bde(s.elm)),a=e[++r],u=n[--l]):zv(s,c)?(n0(s,c),Rp(t,s.elm,a.elm),s=e[--o],c=n[++i]):(dE(f)&&(f=J2t(e,r,o)),d=f[c.key],dE(d)?Rp(t,L4(c),a.elm):(h=e[d],h.tag!==c.tag?Rp(t,L4(c),a.elm):(n0(h,c),e[d]=void 0,Rp(t,h.elm,a.elm))),c=n[++i]);(r<=o||i<=l)&&(r>o?(m=n[l+1]==null?null:n[l+1].elm,Hde(t,m,n,i,l)):Xk(t,e,r,o))}function n0(t,e){var n=e.elm=t.elm,r=t.children,i=e.children;t!==e&&(hN(t,e),dE(e.text)?Gc(r)&&Gc(i)?r!==i&&Z2t(n,r,i):Gc(i)?(Gc(t.text)&&vT(n,""),Hde(n,null,i,0,i.length-1)):Gc(r)?Xk(n,r,0,r.length-1):Gc(t.text)&&vT(n,""):t.text!==e.text&&(Gc(r)&&Xk(n,r,0,r.length-1),vT(n,e.text)))}function Q2t(t,e){if(zv(t,e))n0(t,e);else{var n=t.elm,r=Vde(n);L4(e),r!==null&&(Rp(r,e.elm,Bde(n)),Xk(r,[t],0,0))}return e}var e7t=0,t7t=function(){function t(e,n,r){if(this.type="svg",this.refreshHover=FY(),this.configLayer=FY(),this.storage=n,this._opts=r=ot({},r),this.root=e,this._id="zr"+e7t++,this._oldVNode=xY(r.width,r.height),e&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=Lde("svg");hN(null,this._oldVNode),i.appendChild(o),e.appendChild(i)}this.resize(r.width,r.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",Q2t(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return EY(e,fE(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var n=this.storage.getDisplayList(!0),r=this._width,i=this._height,o=fE(this._id);o.animation=e.animation,o.willUpdate=e.willUpdate,o.compress=e.compress;var a=[],s=this._bgVNode=n7t(r,i,this._backgroundColor,o);s&&a.push(s);var l=e.compress?null:this._mainVNode=Zi("g","main",{},[]);this._paintList(n,o,l?l.children:a),l&&a.push(l);var c=tn(ir(o.defs),function(d){return o.defs[d]});if(c.length&&a.push(Zi("defs","defs",{},c)),e.animation){var u=N2t(o.cssNodes,o.cssAnims,{newline:!0});if(u){var f=Zi("style","stl",{},[],u);a.push(f)}}return xY(r,i,a,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},uN(this.renderToVNode({animation:gn(e.cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:gn(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,n,r){for(var i=e.length,o=[],a=0,s,l,c=0,u=0;u<i;u++){var f=e[u];if(!f.invisible){var d=f.__clipPaths,h=d&&d.length||0,m=l&&l.length||0,v=void 0;for(v=Math.max(h-1,m-1);v>=0&&!(d&&l&&d[v]===l[v]);v--);for(var k=m-1;k>v;k--)a--,s=o[a-1];for(var b=v+1;b<h;b++){var _={};Y2t(d[b],_,n);var x=Zi("g","clip-g-"+c++,_,[]);(s?s.children:r).push(x),o[a++]=x,s=x}l=d;var C=EY(f,n);C&&(s?s.children:r).push(C)}}},t.prototype.resize=function(e,n){var r=this._opts,i=this.root,o=this._viewport;if(e!=null&&(r.width=e),n!=null&&(r.height=n),i&&o&&(o.style.display="none",e=m0(i,0,r),n=m0(i,1,r),o.style.display=""),this._width!==e||this._height!==n){if(this._width=e,this._height=n,o){var a=o.style;a.width=e+"px",a.height=n+"px"}if(nO(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",e),s.setAttribute("height",n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",e),l.setAttribute("height",n))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var n=this.renderToString(),r="data:image/svg+xml;";return e?(n=iSe(n),n&&r+"base64,"+n):r+"charset=UTF-8,"+encodeURIComponent(n)},t}();function FY(t){return function(){}}function n7t(t,e,n,r){var i;if(n&&n!=="none")if(i=Zi("rect","bg",{width:t,height:e,x:"0",y:"0",id:"0"}),Yee(n))Rde({fill:n},i.attrs,"fill",r);else if(nO(n))jde({style:{fill:n},dirty:Jo,getBoundingRect:function(){return{width:t,height:e}}},i.attrs,"fill",r);else{var o=Ky(n),a=o.color,s=o.opacity;i.attrs.fill=a,s<1&&(i.attrs["fill-opacity"]=s)}return i}const r7t=t7t;function i7t(t){t.registerPainter("svg",r7t)}function NY(t,e,n){var r=Lb.createCanvas(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}var o7t=function(t){Cr(e,t);function e(n,r,i){var o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var a;i=i||L5,typeof n=="string"?a=NY(n,r,i):Bt(n)&&(a=n,n=a.id),o.id=n,o.dom=a;var s=a.style;return s&&(Iee(a),a.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),o.painter=r,o.dpr=i,o}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var n=this.dpr;this.domBack=NY("back-"+this.id,this.painter,n),this.ctxBack=this.domBack.getContext("2d"),n!==1&&this.ctxBack.scale(n,n)},e.prototype.createRepaintRects=function(n,r,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var a=[],s=this.maxRepaintRectCount,l=!1,c=new $r(0,0,0,0);function u(_){if(!(!_.isFinite()||_.isZero()))if(a.length===0){var x=new $r(0,0,0,0);x.copy(_),a.push(x)}else{for(var C=!1,S=1/0,g=0,T=0;T<a.length;++T){var P=a[T];if(P.intersect(_)){var $=new $r(0,0,0,0);$.copy(P),$.union(_),a[T]=$,C=!0;break}else if(l){c.copy(_),c.union(P);var F=_.width*_.height,D=P.width*P.height,z=c.width*c.height,R=z-F-D;R<S&&(S=R,g=T)}}if(l&&(a[g].union(_),C=!0),!C){var x=new $r(0,0,0,0);x.copy(_),a.push(x)}l||(l=a.length>=s)}}for(var f=this.__startIndex;f<this.__endIndex;++f){var d=n[f];if(d){var h=d.shouldBePainted(i,o,!0,!0),m=d.__isRendered&&(d.__dirty&Ns||!h)?d.getPrevPaintRect():null;m&&u(m);var v=h&&(d.__dirty&Ns||!d.__isRendered)?d.getPaintRect():null;v&&u(v)}}for(var f=this.__prevStartIndex;f<this.__prevEndIndex;++f){var d=r[f],h=d.shouldBePainted(i,o,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){var m=d.getPrevPaintRect();m&&u(m)}}var k;do{k=!1;for(var f=0;f<a.length;){if(a[f].isZero()){a.splice(f,1);continue}for(var b=f+1;b<a.length;)a[f].intersect(a[b])?(k=!0,a[f].union(a[b]),a.splice(b,1)):b++;f++}}while(k);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(n,r){var i=this.dpr,o=this.dom,a=o.style,s=this.domBack;a&&(a.width=n+"px",a.height=r+"px"),o.width=n*i,o.height=r*i,s&&(s.width=n*i,s.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(n,r,i){var o=this.dom,a=this.ctx,s=o.width,l=o.height;r=r||this.clearColor;var c=this.motionBlur&&!n,u=this.lastFrameAlpha,f=this.dpr,d=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,s/f,l/f));var h=this.domBack;function m(v,k,b,_){if(a.clearRect(v,k,b,_),r&&r!=="transparent"){var x=void 0;if(M6(r)){var C=r.global||r.__width===b&&r.__height===_;x=C&&r.__canvasGradient||VI(a,r,{x:0,y:0,width:b,height:_}),r.__canvasGradient=x,r.__width=b,r.__height=_}else K_e(r)&&(r.scaleX=r.scaleX||f,r.scaleY=r.scaleY||f,x=BI(a,r,{dirty:function(){d.setUnpainted(),d.__painter.refresh()}}));a.save(),a.fillStyle=x||r,a.fillRect(v,k,b,_),a.restore()}c&&(a.save(),a.globalAlpha=u,a.drawImage(h,v,k,b,_),a.restore())}!i||c?m(0,0,s,l):i.length&&ye(i,function(v){m(v.x*f,v.y*f,v.width*f,v.height*f)})},e}(wu);const yT=o7t;var MY=1e5,kp=314159,G9=.01,a7t=.001;function s7t(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function l7t(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var c7t=function(){function t(e,n,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=ot({},r||{}),this.dpr=r.devicePixelRatio||L5,this._singleCanvas=o,this.root=e;var a=e.style;a&&(Iee(e),e.innerHTML=""),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(o){var u=e,f=u.width,d=u.height;r.width!=null&&(f=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,u.width=f*this.dpr,u.height=d*this.dpr,this._width=f,this._height=d;var h=new yT(u,this,this.dpr);h.__builtin__=!0,h.initContext(),l[kp]=h,h.zlevel=kp,s.push(kp),this._domRoot=e}else{this._width=m0(e,0,r),this._height=m0(e,1,r);var c=this._domRoot=l7t(this._width,this._height);e.appendChild(c)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,e,this._redrawId);for(var o=0;o<i.length;o++){var a=i[o],s=this._layers[a];if(!s.__builtin__&&s.refresh){var l=o===0?this._backgroundColor:null;s.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var n=e.length,r=this._hoverlayer;if(r&&r.clear(),!!n){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,a=0;a<n;a++){var s=e[a];s.__inHover&&(r||(r=this._hoverlayer=this.getLayer(MY)),o||(o=r.ctx,o.save()),Kp(o,s,i,a===n-1))}o&&o.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(MY)},t.prototype.paintOne=function(e,n){ore(e,n)},t.prototype._paintList=function(e,n,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var o=this._doPaintList(e,n,r),a=o.finished,s=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(e),a)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;oI(function(){l._paintList(e,n,r,i)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(kp).ctx,n=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,n,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,n,r)})},t.prototype._doPaintList=function(e,n,r){for(var i=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&o.push(c)}for(var u=!0,f=!1,d=function(v){var k=o[v],b=k.ctx,_=a&&k.createRepaintRects(e,n,h._width,h._height),x=r?k.__startIndex:k.__drawIndex,C=!r&&k.incremental&&Date.now,S=C&&Date.now(),g=k.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(k.__startIndex===k.__endIndex)k.clear(!1,g,_);else if(x===k.__startIndex){var T=e[x];(!T.incremental||!T.notClear||r)&&k.clear(!1,g,_)}x===-1&&(console.error("For some unknown reason. drawIndex is -1"),x=k.__startIndex);var P,$=function(R){var V={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(P=x;P<k.__endIndex;P++){var ie=e[P];if(ie.__inHover&&(f=!0),i._doPaintEl(ie,k,a,R,V,P===k.__endIndex-1),C){var oe=Date.now()-S;if(oe>15)break}}V.prevElClipPaths&&b.restore()};if(_)if(_.length===0)P=k.__endIndex;else for(var F=h.dpr,D=0;D<_.length;++D){var z=_[D];b.save(),b.beginPath(),b.rect(z.x*F,z.y*F,z.width*F,z.height*F),b.clip(),$(z),b.restore()}else b.save(),$(),b.restore();k.__drawIndex=P,k.__drawIndex<k.__endIndex&&(u=!1)},h=this,m=0;m<o.length;m++)d(m);return In.wxa&&ye(this._layers,function(v){v&&v.ctx&&v.ctx.draw&&v.ctx.draw()}),{finished:u,needsRefreshHover:f}},t.prototype._doPaintEl=function(e,n,r,i,o,a){var s=n.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Kp(s,e,o,a),e.setPrevPaintRect(l))}else Kp(s,e,o,a)},t.prototype.getLayer=function(e,n){this._singleCanvas&&!this._needsManuallyCompositing&&(e=kp);var r=this._layers[e];return r||(r=new yT("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?hi(r,this._layerConfig[e],!0):this._layerConfig[e-G9]&&hi(r,this._layerConfig[e-G9],!0),n&&(r.virtual=n),this.insertLayer(e,r),r.initContext()),r},t.prototype.insertLayer=function(e,n){var r=this._layers,i=this._zlevelList,o=i.length,a=this._domRoot,s=null,l=-1;if(!r[e]&&s7t(n)){if(o>0&&e>i[0]){for(l=0;l<o-1&&!(i[l]<e&&i[l+1]>e);l++);s=r[i[l]]}if(i.splice(l+1,0,e),r[e]=n,!n.virtual)if(s){var c=s.dom;c.nextSibling?a.insertBefore(n.dom,c.nextSibling):a.appendChild(n.dom)}else a.firstChild?a.insertBefore(n.dom,a.firstChild):a.appendChild(n.dom);n.__painter=this}},t.prototype.eachLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i];e.call(n,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],a=this._layers[o];a.__builtin__&&e.call(n,a,o)}},t.prototype.eachOtherLayer=function(e,n){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],a=this._layers[o];a.__builtin__||e.call(n,a,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(f,d){f.__dirty=f.__used=!1});function n(f){o&&(o.__endIndex!==f&&(o.__dirty=!0),o.__endIndex=f)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o=null,a=0,s,l;for(l=0;l<e.length;l++){var i=e[l],c=i.zlevel,u=void 0;s!==c&&(s=c,a=0),i.incremental?(u=this.getLayer(c+a7t,this._needsManuallyCompositing),u.incremental=!0,a=1):u=this.getLayer(c+(a>0?G9:0),this._needsManuallyCompositing),u.__builtin__||K$("ZLevel "+c+" has been used by unkown layer "+u.id),u!==o&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,n(l),o=u),i.__dirty&Ns&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(f,d){!f.__used&&f.getElementCount()>0&&(f.__dirty=!0,f.__startIndex=f.__endIndex=f.__drawIndex=0),f.__dirty&&f.__drawIndex<0&&(f.__drawIndex=f.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ye(this._layers,function(n){n.setUnpainted()})},t.prototype.configLayer=function(e,n){if(n){var r=this._layerConfig;r[e]?hi(r[e],n,!0):r[e]=n;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===e||o===e+G9){var a=this._layers[o];hi(a,r[e],!0)}}}},t.prototype.delLayer=function(e){var n=this._layers,r=this._zlevelList,i=n[e];i&&(i.dom.parentNode.removeChild(i.dom),delete n[e],r.splice(wr(r,e),1))},t.prototype.resize=function(e,n){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,o=this.root;if(e!=null&&(i.width=e),n!=null&&(i.height=n),e=m0(o,0,i),n=m0(o,1,i),r.style.display="",this._width!==e||n!==this._height){r.style.width=e+"px",r.style.height=n+"px";for(var a in this._layers)this._layers.hasOwnProperty(a)&&this._layers[a].resize(e,n);this.refresh(!0)}this._width=e,this._height=n}else{if(e==null||n==null)return;this._width=e,this._height=n,this.getLayer(kp).resize(e,n)}return this},t.prototype.clearLayer=function(e){var n=this._layers[e];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[kp].dom;var n=new yT("image",this,e.pixelRatio||this.dpr);n.initContext(),n.clear(!1,e.backgroundColor||this._backgroundColor);var r=n.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=n.dom.width,o=n.dom.height;this.eachLayer(function(f){f.__builtin__?r.drawImage(f.dom,0,0,i,o):f.renderToCanvas&&(r.save(),f.renderToCanvas(r),r.restore())})}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++){var u=s[l];Kp(r,u,a,l===c-1)}return n.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();const u7t=c7t;function Wde(t){t.registerPainter("canvas",u7t)}Tf([lN,sN,cN,Hvt,i7t]);const iw=Db("indicator",{state:()=>({visualisationData:"",numberData:{},sunburstData:{},sankeyData:{}}),actions:{setVisualisationData(t){if(this.visualisationData=t,t.type==="number"){const n=+(Math.round(+(String(t.value)+"e+6"))+"e-6");this.numberData=t.description+": "+n+" "+t.unit}else t.type==="sunburst"?this.sunburstData=this.compileSunburstOption(t.value,this.compileFormatter(6,t.unit),t.description):t.type==="sankey"&&(this.sankeyData=this.compileSankeyOption(t.value,this.compileFormatter(6,t.unit)))},compileFormatter(t,e){return n=>{const r=+(Math.round(+(String(n.value)+"e+"+t))+"e-"+t);return`${n.data.name}: ${r} ${e}`}},compileSunburstOption(t,e,n,r=!0){if(r)for(let o=0;o<t.length;o++){let a=this.processContributions(t[o].children);t[o].children=a}return{title:{text:n,left:"center"},tooltip:{trigger:"item",formatter:e},legend:{orient:"vertical",left:"left",data:[]},series:[{name:n,center:["50%","50%"],type:"sunburst",emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:t,radius:[60,"80%"]}]}},compileSankeyOption(t,e,n=!0){return{series:{type:"sankey",layout:"none",nodeAlign:"right",label:{normal:{formatter:e}},emphasis:{focus:"adjacency"},data:n?this.removeDuplicates(t.data):t.data,links:t.links}}},processContributions(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(!e.find(i=>i.name==r.name))e.push(r);else{const i=e.find(o=>o.name==r.name);i.value+=r.value}}return e},removeDuplicates(t){return t.filter((n,r,i)=>r===i.findIndex(o=>o.name===n.name))}}});Tf([Qyt,Wde]);const f7t=zt({name:"Contributions",computed:{...Mt(iw)},setup(){return{option:Tl()}}});function d7t(t,e,n,r,i,o){const a=It("v-chart");return Ee(),en(a,{class:"chart",option:t.indicatorStore.sankeyData,autoresize:""},null,8,["option"])}const h7t=Qr(f7t,[["render",d7t],["__scopeId","data-v-bdba7406"]]),p7t=zt({computed:{...Mt(iw)}}),m7t={class:"block"},g7t={class:"has-text-weight-bold"};function b7t(t,e,n,r,i,o){return Ee(),Be("div",m7t,[X("p",g7t,Qt(t.indicatorStore.numberData),1)])}const v7t=Qr(p7t,[["render",b7t]]);Tf([lN,sN,cN,bde]);Tf([Wde,bde,lN,sN,cN]);const y7t=Fre,k7t=zt({name:"Contributions",provide:{[y7t]:"light"},computed:{...Mt(iw)}});function _7t(t,e,n,r,i,o){const a=It("v-chart");return Ee(),en(a,{class:"chart",option:t.indicatorStore.sunburstData,autoresize:""},null,8,["option"])}const w7t=Qr(k7t,[["render",_7t],["__scopeId","data-v-ebbe0cfa"]]),S7t=zt({components:{SankeyChart:h7t,NumberDisplay:v7t,SunburstChart:w7t},computed:{...Mt(iw),...Mt(ss),...Mt(Af),visualisations(){const t=this.placesStore.place.marking[0].$visualisations;return t||!1}},mounted(){this.visualisations&&this.indicatorStore.setVisualisationData(this.visualisations[0])},methods:{onVisualisationSelect(t){const e=Number(t.target.value);this.visualisations&&this.indicatorStore.setVisualisationData(this.visualisations[e])}}}),x7t={class:"block"},C7t={key:0,class:"field"},T7t=X("label",{class:"label is-small"},"Available visualisations and indicators:",-1),A7t={class:"select is-small"},I7t=["value"],P7t={key:1,class:"notification is-info is-light is-size-7"},E7t={class:"block"};function $7t(t,e,n,r,i,o){const a=It("NumberDisplay"),s=It("SunburstChart"),l=It("SankeyChart");return Ee(),Be(hn,null,[X("div",x7t,[t.visualisations?(Ee(),Be("div",C7t,[T7t,X("div",A7t,[X("select",{onChange:e[0]||(e[0]=(...c)=>t.onVisualisationSelect&&t.onVisualisationSelect(...c))},[(Ee(!0),Be(hn,null,uo(t.visualisations,(c,u)=>(Ee(),Be("option",{value:u},Qt(c.description),9,I7t))),256))],32)])])):(Ee(),Be("div",P7t," No visualisations available. "))]),X("div",E7t,[t.indicatorStore.visualisationData.type==="number"?(Ee(),en(a,{key:0})):t.indicatorStore.visualisationData.type==="sunburst"?(Ee(),en(s,{key:1})):t.indicatorStore.visualisationData.type==="sankey"?(Ee(),en(l,{key:2})):ct("",!0)])],64)}const O7t=Qr(S7t,[["render",$7t]]),D7t=zt({components:{PlaceTypeSelector:wXe,Codemirror:Um,DataEditor:Nce,HelpButton:ng,DataTab:Ivt,VisualisationTab:O7t},setup(t){return{extensions:[S6({class:"CodeMirror-lint-markers"}),E$(),Wm,W$(),D$(),ree(),w$(),pee(),yt.lineWrapping,An.tabSize.of(2),P$(Fce),Lce(SXe)]}},data(){return{shownTab:"data",showNameInput:!1}},computed:{...Mt(ta),...Mt(Af),...Mt(ss),...Mt(Zn)},created(){this.placesStore.loadPlace(this.uiStateStore.lastSelectedID)},watch:{"placesStore.schemaString"(t){this.placesStore.savePlaceSchema(t)}},methods:{close(){this.uiStateStore.showModal="none"},onCancelNameEdit(){this.placesStore.resetName(),this.showNameInput=!1},onNameSave(){this.placesStore.saveName(),this.showNameInput=!1},showTab(t){this.shownTab=t}}});const ow=t=>(Rm("data-v-91c35e35"),t=t(),jm(),t),L7t={class:"modal is-active"},F7t=ow(()=>X("div",{class:"modal-background"},null,-1)),N7t={class:"modal-card-head scoped-modal-header"},M7t=ow(()=>X("span",{class:"has-text-weight-bold"},"Place:",-1)),z7t={class:"ml-1"},R7t={class:"scoped-edit-button icon has-text-grey-light"},j7t={key:1,class:"level"},V7t={class:"icon is-small has-text-grey"},B7t={class:"icon is-small"},H7t=ow(()=>X("p",{class:"modal-card-title"},null,-1)),W7t={class:"tabs is-left is-small has-background-light mb-0"},U7t={class:"modal-card-body"},G7t={key:3,class:"block"},q7t={class:"field"},Y7t={class:"label is-small icon-text"},X7t={class:"control is-small jsn-code"},K7t={key:0,class:"help"},J7t={key:1,class:"help is-danger"},Z7t=ow(()=>X("footer",{class:"modal-card-foot"},null,-1));function Q7t(t,e,n,r,i,o){const a=It("font-awesome-icon"),s=It("PlaceTypeSelector"),l=It("DataTab"),c=It("VisualisationTab"),u=It("HelpButton"),f=It("Codemirror");return Ee(),Be("div",L7t,[F7t,X("div",{class:Ut(["modal-card",{"jsn-modal-wide":t.shownTab==="visualisation","jsn-modal-medium":t.shownTab!=="visualisation"}])},[X("header",N7t,[M7t,X("span",z7t,[t.showNameInput?ct("",!0):(Ee(),Be("span",{key:0,class:"is-ghost icon-text has-text-weight-bold scoped-modal-title is-clickable",onClick:e[0]||(e[0]=d=>t.showNameInput=!0)},[X("span",null,Qt(t.placesStore.place.name),1),X("span",R7t,[at(a,{icon:"fas fa-pen"})])])),t.showNameInput?(Ee(),Be("span",j7t,[Sf(X("input",{style:{width:"100px"},class:"input is-small level-item","onUpdate:modelValue":e[1]||(e[1]=d=>t.placesStore.place.name=d)},null,512),[[Zd,t.placesStore.place.name]]),X("button",{class:"ml-1 button is-small level-item",onClick:e[2]||(e[2]=(...d)=>t.onCancelNameEdit&&t.onCancelNameEdit(...d))},[X("span",V7t,[at(a,{icon:"fas fa-xmark"})])]),X("button",{onClick:e[3]||(e[3]=(...d)=>t.onNameSave&&t.onNameSave(...d)),class:"ml-1 button is-small level-item is-primary"},[X("span",B7t,[at(a,{icon:"fas fa-check"})])])])):ct("",!0)]),H7t,X("button",{class:"delete","aria-label":"close",onClick:e[4]||(e[4]=(...d)=>t.close&&t.close(...d))})]),X("div",W7t,[X("ul",null,[X("li",{class:Ut({"is-active":t.shownTab==="data"})},[X("a",{onClick:e[5]||(e[5]=()=>{t.showTab("data")})},"Data")],2),t.uiStateStore.uiAssistMode==="expert"?(Ee(),Be("li",{key:0,class:Ut({"is-active":t.shownTab==="schema"})},[X("a",{onClick:e[6]||(e[6]=()=>{t.showTab("schema")})},"Schema")],2)):ct("",!0),t.configStore.visualisationConfig.show?(Ee(),Be("li",{key:1,class:Ut({"is-active":t.shownTab==="visualisation"})},[X("a",{onClick:e[7]||(e[7]=()=>{t.showTab("visualisation")})},"Visualisation")],2)):ct("",!0)])]),X("section",U7t,[t.shownTab!=="visualisation"?(Ee(),en(s,{key:0})):ct("",!0),t.shownTab==="data"?(Ee(),en(l,{key:1})):ct("",!0),t.shownTab==="visualisation"?(Ee(),en(c,{key:2})):ct("",!0),t.shownTab==="schema"?(Ee(),Be("div",G7t,[X("div",q7t,[X("label",Y7t,[ji("Token schema "),at(u,{"help-text":`
                          Describe the structure of data tokens stored in the place with 
                          <a href='https://json-schema.org/' target='_blank'>JSON Schema</a>.
                        `})]),X("div",X7t,[at(f,{modelValue:t.placesStore.schemaString,"onUpdate:modelValue":e[8]||(e[8]=d=>t.placesStore.schemaString=d),placeholder:"Edit place schema.",autofocus:!0,"indent-with-tab":!0,"tab-size":2,style:{height:"400px"},extensions:t.extensions,disabled:t.netStore.placeTypes[t.placesStore.place.id]!=="custom"},null,8,["modelValue","extensions","disabled"])]),t.placesStore.place.hasError?ct("",!0):(Ee(),Be("p",K7t,Qt(t.placesStore.place.errorMessage),1)),t.placesStore.place.hasError&&t.placesStore.place.errorType==="schema"?(Ee(),Be("p",J7t,Qt(t.placesStore.place.errorMessage),1)):ct("",!0)])])):ct("",!0)]),Z7t],2)])}const e3t=Qr(D7t,[["render",Q7t],["__scopeId","data-v-91c35e35"]]);var Ude={exports:{}};const t3t=jre(i7e);(function(t,e){(function(n,r){t.exports=r(t3t)})(ui,function(n){return function(){var r={789:function(s){s.exports=n}},i={};function o(s){var l=i[s];if(l!==void 0)return l.exports;var c=i[s]={exports:{}};return r[s](c,c.exports,o),c.exports}o.d=function(s,l){for(var c in l)o.o(l,c)&&!o.o(s,c)&&Object.defineProperty(s,c,{enumerable:!0,get:l[c]})},o.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var a={};return function(){function s(D,z){(z==null||z>D.length)&&(z=D.length);for(var R=0,V=new Array(z);R<z;R++)V[R]=D[R];return V}function l(D,z){if(D){if(typeof D=="string")return s(D,z);var R=Object.prototype.toString.call(D).slice(8,-1);return R==="Object"&&D.constructor&&(R=D.constructor.name),R==="Map"||R==="Set"?Array.from(D):R==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(R)?s(D,z):void 0}}function c(D){return function(z){if(Array.isArray(z))return s(z)}(D)||function(z){if(typeof Symbol<"u"&&z[Symbol.iterator]!=null||z["@@iterator"]!=null)return Array.from(z)}(D)||l(D)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(D,z,R){return z in D?Object.defineProperty(D,z,{value:R,enumerable:!0,configurable:!0,writable:!0}):D[z]=R,D}o.r(a),o.d(a,{default:function(){return F}});var f=o(789),d=(0,f.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var D=this.data,z=this.onClick;return(0,f.createVNode)("span",{class:"vjs-tree-brackets",onClick:z},[D])}}),h=(0,f.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(D,z){var R=z.emit;return{uiType:(0,f.computed)(function(){return D.isMultiple?"checkbox":"radio"}),model:(0,f.computed)({get:function(){return D.checked},set:function(V){return R("update:modelValue",V)}})}},render:function(){var D=this.uiType,z=this.model,R=this.$emit;return(0,f.createVNode)("label",{class:["vjs-check-controller",z?"is-checked":""],onClick:function(V){return V.stopPropagation()}},[(0,f.createVNode)("span",{class:"vjs-check-controller-inner is-".concat(D)},null),(0,f.createVNode)("input",{checked:z,class:"vjs-check-controller-original is-".concat(D),type:D,onChange:function(){return R("change",z)}},null)])}}),m=(0,f.defineComponent)({props:{nodeType:{required:!0,type:String},onClick:Function},render:function(){var D=this.nodeType,z=this.onClick,R=D==="objectStart"||D==="arrayStart";return R||D==="objectCollapsed"||D==="arrayCollapsed"?(0,f.createVNode)("span",{class:"vjs-carets vjs-carets-".concat(R?"open":"close"),onClick:z},[(0,f.createVNode)("svg",{viewBox:"0 0 1024 1024",focusable:"false","data-icon":"caret-down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},[(0,f.createVNode)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"},null)])]):null}});function v(D){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},v(D)}function k(D){return Object.prototype.toString.call(D).slice(8,-1).toLowerCase()}function b(D){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,V=arguments.length>3?arguments[3]:void 0,ie=V||{},oe=ie.key,_e=ie.index,Ae=ie.type,Ie=Ae===void 0?"content":Ae,ke=ie.showComma,se=ke!==void 0&&ke,ne=ie.length,J=ne===void 0?1:ne,j=k(D);if(j==="array"){var U=_(D.map(function(ue,ce,fe){return b(ue,"".concat(z,"[").concat(ce,"]"),R+1,{index:ce,showComma:ce!==fe.length-1,length:J,type:Ie})}));return[b("[",z,R,{showComma:!1,key:oe,length:D.length,type:"arrayStart"})[0]].concat(U,b("]",z,R,{showComma:se,length:D.length,type:"arrayEnd"})[0])}if(j==="object"){var ae=Object.keys(D),te=_(ae.map(function(ue,ce,fe){return b(D[ue],/^[a-zA-Z_]\w*$/.test(ue)?"".concat(z,".").concat(ue):"".concat(z,'["').concat(ue,'"]'),R+1,{key:ue,showComma:ce!==fe.length-1,length:J,type:Ie})}));return[b("{",z,R,{showComma:!1,key:oe,index:_e,length:ae.length,type:"objectStart"})[0]].concat(te,b("}",z,R,{showComma:se,length:ae.length,type:"objectEnd"})[0])}return[{content:D,level:R,key:oe,index:_e,path:z,showComma:se,length:J,type:Ie}]}function _(D){if(typeof Array.prototype.flat=="function")return D.flat();for(var z=c(D),R=[];z.length;){var V=z.shift();Array.isArray(V)?z.unshift.apply(z,c(V)):R.push(V)}return R}function x(D){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(D==null)return D;if(D instanceof Date)return new Date(D);if(D instanceof RegExp)return new RegExp(D);if(v(D)!=="object")return D;if(z.get(D))return z.get(D);if(Array.isArray(D)){var R=D.map(function(oe){return x(oe,z)});return z.set(D,R),R}var V={};for(var ie in D)V[ie]=x(D[ie],z);return z.set(D,V),V}function C(D,z){var R=Object.keys(D);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(D);z&&(V=V.filter(function(ie){return Object.getOwnPropertyDescriptor(D,ie).enumerable})),R.push.apply(R,V)}return R}function S(D){for(var z=1;z<arguments.length;z++){var R=arguments[z]!=null?arguments[z]:{};z%2?C(Object(R),!0).forEach(function(V){u(D,V,R[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(R)):C(Object(R)).forEach(function(V){Object.defineProperty(D,V,Object.getOwnPropertyDescriptor(R,V))})}return D}var g={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},renderNodeKey:Function,renderNodeValue:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},showLineNumber:{type:Boolean,default:!1},selectOnClickNode:{type:Boolean,default:!0},nodeSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},showKeyValueSpace:{type:Boolean,default:!0},editable:{type:Boolean,default:!1},editableTrigger:{type:String,default:"click"},onNodeClick:{type:Function},onBracketsClick:{type:Function},onIconClick:{type:Function},onValueChange:{type:Function}},T=(0,f.defineComponent)({name:"TreeNode",props:S(S({},g),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,style:Object,onSelectedChange:{type:Function}}),emits:["nodeClick","bracketsClick","iconClick","selectedChange","valueChange"],setup:function(D,z){var R=z.emit,V=(0,f.computed)(function(){return k(D.node.content)}),ie=(0,f.computed)(function(){return"vjs-value vjs-value-".concat(V.value)}),oe=(0,f.computed)(function(){return D.showDoubleQuotes?'"'.concat(D.node.key,'"'):D.node.key}),_e=(0,f.computed)(function(){return D.selectableType==="multiple"}),Ae=(0,f.computed)(function(){return D.selectableType==="single"}),Ie=(0,f.computed)(function(){return D.nodeSelectable(D.node)&&(_e.value||Ae.value)}),ke=(0,f.reactive)({editing:!1}),se=function(ce){var fe,ve,B=(ve=(fe=ce.target)===null||fe===void 0?void 0:fe.value)==="null"?null:ve==="undefined"?void 0:ve==="true"||ve!=="false"&&(ve[0]+ve[ve.length-1]==='""'||ve[0]+ve[ve.length-1]==="''"?ve.slice(1,-1):typeof Number(ve)=="number"&&!isNaN(Number(ve))||ve==="NaN"?Number(ve):ve);R("valueChange",B,D.node.path)},ne=(0,f.computed)(function(){var ce,fe=(ce=D.node)===null||ce===void 0?void 0:ce.content;return fe===null?fe="null":fe===void 0&&(fe="undefined"),V.value==="string"?'"'.concat(fe,'"'):fe+""}),J=function(){var ce=D.renderNodeValue;return ce?ce({node:D.node,defaultValue:ne.value}):ne.value},j=function(){R("bracketsClick",!D.collapsed,D.node.path)},U=function(){R("iconClick",!D.collapsed,D.node.path)},ae=function(){R("selectedChange",D.node)},te=function(){R("nodeClick",D.node),Ie.value&&D.selectOnClickNode&&R("selectedChange",D.node)},ue=function(ce){if(D.editable&&!ke.editing){ke.editing=!0;var fe=function ve(B){var Y;B.target!==ce.target&&((Y=B.target)===null||Y===void 0?void 0:Y.parentElement)!==ce.target&&(ke.editing=!1,document.removeEventListener("click",ve))};document.removeEventListener("click",fe),document.addEventListener("click",fe)}};return function(){var ce,fe=D.node;return(0,f.createVNode)("div",{class:{"vjs-tree-node":!0,"has-selector":D.showSelectController,"has-carets":D.showIcon,"is-highlight":D.highlightSelectedNode&&D.checked},onClick:te,style:D.style},[D.showLineNumber&&(0,f.createVNode)("span",{class:"vjs-node-index"},[fe.id+1]),D.showSelectController&&Ie.value&&fe.type!=="objectEnd"&&fe.type!=="arrayEnd"&&(0,f.createVNode)(h,{isMultiple:_e.value,checked:D.checked,onChange:ae},null),(0,f.createVNode)("div",{class:"vjs-indent"},[Array.from(Array(fe.level)).map(function(ve,B){return(0,f.createVNode)("div",{key:B,class:{"vjs-indent-unit":!0,"has-line":D.showLine}},null)}),D.showIcon&&(0,f.createVNode)(m,{nodeType:fe.type,onClick:U},null)]),fe.key&&(0,f.createVNode)("span",{class:"vjs-key"},[(ce=D.renderNodeKey,ce?ce({node:D.node,defaultKey:oe.value||""}):oe.value),(0,f.createVNode)("span",{class:"vjs-colon"},[":".concat(D.showKeyValueSpace?" ":"")])]),(0,f.createVNode)("span",null,[fe.type!=="content"&&fe.content?(0,f.createVNode)(d,{data:fe.content.toString(),onClick:j},null):(0,f.createVNode)("span",{class:ie.value,onClick:!D.editable||D.editableTrigger&&D.editableTrigger!=="click"?void 0:ue,onDblclick:D.editable&&D.editableTrigger==="dblclick"?ue:void 0},[D.editable&&ke.editing?(0,f.createVNode)("input",{value:ne.value,onChange:se,style:{padding:"3px 8px",border:"1px solid #eee",boxShadow:"none",boxSizing:"border-box",borderRadius:5,fontFamily:"inherit"}},null):J()]),fe.showComma&&(0,f.createVNode)("span",null,[","]),D.showLength&&D.collapsed&&(0,f.createVNode)("span",{class:"vjs-comment"},[(0,f.createTextVNode)(" // "),fe.length,(0,f.createTextVNode)(" items ")])])])}}});function P(D,z){var R=Object.keys(D);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(D);z&&(V=V.filter(function(ie){return Object.getOwnPropertyDescriptor(D,ie).enumerable})),R.push.apply(R,V)}return R}function $(D){for(var z=1;z<arguments.length;z++){var R=arguments[z]!=null?arguments[z]:{};z%2?P(Object(R),!0).forEach(function(V){u(D,V,R[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(R)):P(Object(R)).forEach(function(V){Object.defineProperty(D,V,Object.getOwnPropertyDescriptor(R,V))})}return D}var F=(0,f.defineComponent)({name:"Tree",props:$($({},g),{},{data:{type:[String,Number,Boolean,Array,Object],default:null},deep:{type:Number,default:1/0},pathCollapsible:{type:Function,default:function(){return!1}},rootPath:{type:String,default:"root"},virtual:{type:Boolean,default:!1},height:{type:Number,default:400},itemHeight:{type:Number,default:20},selectedValue:{type:[String,Array],default:function(){return""}},collapsedOnClickBrackets:{type:Boolean,default:!0},style:Object,onSelectedChange:{type:Function}}),slots:["renderNodeKey","renderNodeValue"],emits:["nodeClick","bracketsClick","iconClick","selectedChange","update:selectedValue","update:data"],setup:function(D,z){var R=z.emit,V=z.slots,ie=(0,f.ref)(),oe=(0,f.computed)(function(){return b(D.data,D.rootPath)}),_e=function(fe){return oe.value.reduce(function(ve,B){var Y,E=B.level>=fe,M=(Y=D.pathCollapsible)===null||Y===void 0?void 0:Y.call(D,B);return B.type!=="objectStart"&&B.type!=="arrayStart"||!E&&!M?ve:$($({},ve),{},u({},B.path,1))},{})},Ae=(0,f.reactive)({translateY:0,visibleData:null,hiddenPaths:_e(D.deep)}),Ie=(0,f.computed)(function(){for(var fe=null,ve=[],B=oe.value.length,Y=0;Y<B;Y++){var E=$($({},oe.value[Y]),{},{id:Y}),M=Ae.hiddenPaths[E.path];if(fe&&fe.path===E.path){var H=fe.type==="objectStart",Q=$($($({},E),fe),{},{showComma:E.showComma,content:H?"{...}":"[...]",type:H?"objectCollapsed":"arrayCollapsed"});fe=null,ve.push(Q)}else{if(M&&!fe){fe=E;continue}if(fe)continue;ve.push(E)}}return ve}),ke=(0,f.computed)(function(){var fe=D.selectedValue;return fe&&D.selectableType==="multiple"&&Array.isArray(fe)?fe:[fe]}),se=(0,f.computed)(function(){return!D.selectableType||D.selectOnClickNode||D.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),ne=function(){var fe=Ie.value;if(D.virtual){var ve,B=D.height/D.itemHeight,Y=((ve=ie.value)===null||ve===void 0?void 0:ve.scrollTop)||0,E=Math.floor(Y/D.itemHeight),M=E<0?0:E+B>fe.length?fe.length-B:E;M<0&&(M=0);var H=M+B;Ae.translateY=M*D.itemHeight,Ae.visibleData=fe.filter(function(Q,be){return be>=M&&be<H})}else Ae.visibleData=fe},J=function(){ne()},j=function(fe){var ve,B,Y=fe.path,E=D.selectableType;if(E==="multiple"){var M=ke.value.findIndex(function(me){return me===Y}),H=c(ke.value);M!==-1?H.splice(M,1):H.push(Y),R("update:selectedValue",H),R("selectedChange",H,c(ke.value))}else if(E==="single"&&ke.value[0]!==Y){var Q=(ve=ke.value,B=1,function(me){if(Array.isArray(me))return me}(ve)||function(me,Fe){var Le=me==null?null:typeof Symbol<"u"&&me[Symbol.iterator]||me["@@iterator"];if(Le!=null){var tt,Ke,et=[],Qe=!0,pt=!1;try{for(Le=Le.call(me);!(Qe=(tt=Le.next()).done)&&(et.push(tt.value),!Fe||et.length!==Fe);Qe=!0);}catch(Rt){pt=!0,Ke=Rt}finally{try{Qe||Le.return==null||Le.return()}finally{if(pt)throw Ke}}return et}}(ve,B)||l(ve,B)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())[0],be=Y;R("update:selectedValue",be),R("selectedChange",be,Q)}},U=function(fe){R("nodeClick",fe)},ae=function(fe,ve){if(fe)Ae.hiddenPaths=$($({},Ae.hiddenPaths),{},u({},ve,1));else{var B=$({},Ae.hiddenPaths);delete B[ve],Ae.hiddenPaths=B}},te=function(fe,ve){D.collapsedOnClickBrackets&&ae(fe,ve),R("bracketsClick",fe)},ue=function(fe,ve){ae(fe,ve),R("iconClick",fe)},ce=function(fe,ve){var B=x(D.data),Y=D.rootPath;new Function("data","val","data".concat(ve.slice(Y.length),"=val"))(B,fe),R("update:data",B)};return(0,f.watchEffect)(function(){se.value&&function(fe){throw new Error("[VueJSONPretty] ".concat(fe))}(se.value)}),(0,f.watchEffect)(function(){Ie.value&&ne()}),(0,f.watch)(function(){return D.deep},function(fe){fe&&(Ae.hiddenPaths=_e(fe))}),function(){var fe,ve,B=(fe=D.renderNodeKey)!==null&&fe!==void 0?fe:V.renderNodeKey,Y=(ve=D.renderNodeValue)!==null&&ve!==void 0?ve:V.renderNodeValue,E=Ae.visibleData&&Ae.visibleData.map(function(M){return(0,f.createVNode)(T,{key:M.id,node:M,collapsed:!!Ae.hiddenPaths[M.path],showDoubleQuotes:D.showDoubleQuotes,showLength:D.showLength,checked:ke.value.includes(M.path),selectableType:D.selectableType,showLine:D.showLine,showLineNumber:D.showLineNumber,showSelectController:D.showSelectController,selectOnClickNode:D.selectOnClickNode,nodeSelectable:D.nodeSelectable,highlightSelectedNode:D.highlightSelectedNode,editable:D.editable,editableTrigger:D.editableTrigger,showIcon:D.showIcon,showKeyValueSpace:D.showKeyValueSpace,renderNodeKey:B,renderNodeValue:Y,onNodeClick:U,onBracketsClick:te,onIconClick:ue,onSelectedChange:j,onValueChange:ce,style:D.itemHeight&&D.itemHeight!==20?{lineHeight:"".concat(D.itemHeight,"px")}:{}},null)});return(0,f.createVNode)("div",{ref:ie,class:{"vjs-tree":!0,"is-virtual":D.virtual},onScroll:D.virtual?J:void 0,style:D.showLineNumber?$({paddingLeft:"".concat(12*Number(oe.value.length.toString().length),"px")},D.style):D.style},[D.virtual?(0,f.createVNode)("div",{class:"vjs-tree-list",style:{height:"".concat(D.height,"px")}},[(0,f.createVNode)("div",{class:"vjs-tree-list-holder",style:{height:"".concat(Ie.value.length*D.itemHeight,"px")}},[(0,f.createVNode)("div",{class:"vjs-tree-list-holder-inner",style:{transform:"translateY(".concat(Ae.translateY,"px)")}},[E])])]):E])}}})}(),a}()})})(Ude);var n3t=Ude.exports;const pN=pr(n3t);const r3t=zt({components:{Codemirror:Um,HelpButton:ng},setup(){return{extensions:[Wm,yt.lineWrapping]}},computed:{...Mt(Ym),...Mt(ta),...Mt(Zn),keyHasError(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].keyVar;return this.transitionsStore.keyEvaluationResults[t].hasError},keyEvaluation(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].keyVar;return this.transitionsStore.keyEvaluationResults[t].evaluation},valueHasError(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].valueVar;return this.transitionsStore.valueEvaluationResults[t].hasError},valueEvaluation(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].valueVar;return this.transitionsStore.valueEvaluationResults[t].evaluation}},watch:{"transitionsStore.outputArcs":{handler(t,e){this.transitionsStore.saveOutputSnippets(),this.transitionsStore.loadEvaluations()},deep:!0}},methods:{getShortString(t){return t.length>8?t.slice(0,8)+"...":t},getFormattedString(t){return JSON.stringify(JSON.parse(t),null,2)}}}),i3t={class:"field"},o3t={class:"label is-small"},a3t={class:"control is-small jsn-code"},s3t={key:0},l3t={key:0,class:"help is-danger"},c3t={key:1,class:"help"},u3t=["data-tooltip"],f3t={class:"field"},d3t={class:"label is-small"},h3t={class:"control is-small jsn-code"},p3t={key:0},m3t={key:0,class:"help is-danger"},g3t={key:1,class:"help"},b3t=["data-tooltip"];function v3t(t,e,n,r,i,o){const a=It("HelpButton"),s=It("font-awesome-icon"),l=It("Codemirror");return Ee(),Be(hn,null,[X("div",i3t,[X("label",o3t,[ji("Key "),at(a,{"help-text":`
                Output key variables define the field of a selected object or position in a selected array, where the corresponding output value is inserted.
              `}),X("span",{onClick:e[0]||(e[0]=()=>{t.uiStateStore.showEditor="key"}),class:"icon is-small is-pulled-right has-text-grey-light is-clickable"},[at(s,{icon:"fas fa-up-right-from-square"})])]),X("div",a3t,[at(l,{placeholder:"Define key in Jsonnet",style:{height:"50px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].keySnippet,"onUpdate:modelValue":e[1]||(e[1]=c=>t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].keySnippet=c),disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","disabled"])]),t.transitionsStore.assignmentComplete&&!t.transitionsStore.prefaceHasError?(Ee(),Be("div",s3t,[t.keyHasError?(Ee(),Be("p",l3t,"Key expression has errors.")):ct("",!0),t.keyHasError?ct("",!0):(Ee(),Be("p",c3t,[ji("Result: "),X("code",{class:"has-text-grey has-tooltip-bottom","data-tooltip":t.getFormattedString(t.keyEvaluation)},Qt(t.getShortString(t.keyEvaluation)),9,u3t)]))])):ct("",!0)]),X("div",f3t,[X("label",d3t,[ji("Value "),at(a,{"help-text":`
                Output value variables define the value that is inserted in the corresponding place.
              `}),X("span",{onClick:e[2]||(e[2]=()=>{t.uiStateStore.showEditor="value"}),class:"icon is-small is-pulled-right has-text-grey-light is-clickable"},[at(s,{icon:"fas fa-up-right-from-square"})])]),X("div",h3t,[at(l,{placeholder:"Define value in Jsonnet",style:{height:"50px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].valueSnippet,"onUpdate:modelValue":e[3]||(e[3]=c=>t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].valueSnippet=c),disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","disabled"])]),t.transitionsStore.assignmentComplete&&!t.transitionsStore.prefaceHasError?(Ee(),Be("div",p3t,[t.valueHasError?(Ee(),Be("p",m3t,"Value expression has errors.")):ct("",!0),t.valueHasError?ct("",!0):(Ee(),Be("p",g3t,[ji("Result: "),X("code",{class:"has-text-grey has-tooltip-bottom","data-tooltip":t.getFormattedString(t.valueEvaluation)},Qt(t.getShortString(t.valueEvaluation)),9,b3t)]))])):ct("",!0)])],64)}const y3t=Qr(r3t,[["render",v3t]]),k3t=zt({components:{VueJsonPretty:pN,HelpButton:ng},data(){return{showFilterInput:!1,pathDictionary:{}}},computed:{...Mt(Ym),...Mt(Zn),selectedInputValueDotsBracketsPath:{get(){const t=this.transitionsStore.selectedInputValueJsonPath;if(t==="none")return"none";const e=this.pathDictionary[t];return e||"none"},set(t){}}},created(){this.pathDictionary={}},methods:{cancelFilterEdit(){this.transitionsStore.resetInputFilter(),this.showFilterInput=!1},saveFilter(){this.transitionsStore.saveInputFilter(),this.showFilterInput=!1},onFilterInput(){this.transitionsStore.unsetCurrentInputAssignment(),this.pathDictionary={},this.transitionsStore.loadAvailableInputAssignments()},onInputPlaceSelect(){this.showFilterInput=!1,this.pathDictionary={},this.transitionsStore.loadCurrentInputAssignment()},valueSelectable(t){let e="";const n=t.path.substring(4);e=ok(n);const i=this.transitionsStore.inputArcs[this.transitionsStore.selectedInputPlaceIndex].filtered.includes(e);return i&&(this.pathDictionary[e]=t.path),i},onSelectValueClick(t,e){if(Array.isArray(t))return;const n=t.substring(4),r=ok(n);this.transitionsStore.saveSelectedAssignment(r,"input")}}});const _3t=t=>(Rm("data-v-14abc5ec"),t=t(),jm(),t),w3t={class:"card scoped-modal-side has-background-light scoped-modal-left"},S3t={class:"m-5 scoped-scrollable-outer"},x3t={key:0,class:"scoped-scrollable-container"},C3t={class:"level mb-4"},T3t={class:"level-left"},A3t={class:"level-item"},I3t={class:"field has-addons"},P3t=_3t(()=>X("p",{class:"control"},[X("a",{class:"button is-static is-small"}," Input ")],-1)),E3t={class:"control"},$3t={class:"select is-small"},O3t=["value"],D3t={key:0,class:"level-right"},L3t={class:"level-item"},F3t={class:"icon is-small has-text-warning is-clickable mr-2 has-tooltip-bottom","data-tooltip":"Some places have unselected values."},N3t={class:"level mb-4"},M3t={class:"level-left"},z3t={key:0,class:"level-item"},R3t={class:"icon mr-1 has-text-grey-light"},j3t={class:"has-text-grey"},V3t={key:1,class:"level-item"},B3t={class:"icon mr-1 has-text-grey-light"},H3t=["disabled"],W3t={class:"icon is-small has-text-grey"},U3t={class:"icon is-small"},G3t={class:"scoped-scrollable jsn-code p-2"},q3t={key:1,class:"notification is-info is-light is-size-7"};function Y3t(t,e,n,r,i,o){const a=It("font-awesome-icon"),s=It("HelpButton"),l=It("vue-json-pretty");return Ee(),Be("div",w3t,[X("section",S3t,[t.transitionsStore.inputArcs.length>0?(Ee(),Be("div",x3t,[X("div",C3t,[X("div",T3t,[X("div",A3t,[X("div",I3t,[P3t,X("p",E3t,[X("span",$3t,[Sf(X("select",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.transitionsStore.selectedInputPlaceIndex=c),onChange:e[1]||(e[1]=(...c)=>t.onInputPlaceSelect&&t.onInputPlaceSelect(...c))},[(Ee(!0),Be(hn,null,uo(t.transitionsStore.inputArcs,(c,u)=>(Ee(),Be("option",{value:u},Qt(c.name),9,O3t))),256))],544),[[K4,t.transitionsStore.selectedInputPlaceIndex]])])])])])]),t.transitionsStore.presetAssignmentComplete?ct("",!0):(Ee(),Be("div",D3t,[X("div",L3t,[X("span",F3t,[at(a,{icon:"fas fa-triangle-exclamation"})])])]))]),X("div",N3t,[X("div",M3t,[t.showFilterInput?(Ee(),Be("div",V3t,[X("span",B3t,[at(a,{icon:"fas fa-filter"})]),Sf(X("input",{onInput:e[3]||(e[3]=(...c)=>t.onFilterInput&&t.onFilterInput(...c)),style:{width:"100px"},class:"input is-small mr-1","onUpdate:modelValue":e[4]||(e[4]=c=>t.transitionsStore.inputArcs[t.transitionsStore.selectedInputPlaceIndex].filter=c),disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,40,H3t),[[Zd,t.transitionsStore.inputArcs[t.transitionsStore.selectedInputPlaceIndex].filter]]),X("button",{class:"mr-1 button is-small",onClick:e[5]||(e[5]=(...c)=>t.cancelFilterEdit&&t.cancelFilterEdit(...c))},[X("span",W3t,[at(a,{icon:"fas fa-xmark"})])]),X("button",{onClick:e[6]||(e[6]=(...c)=>t.saveFilter&&t.saveFilter(...c)),class:"button is-small is-primary"},[X("span",U3t,[at(a,{icon:"fas fa-check"})])])])):(Ee(),Be("div",z3t,[X("span",{class:"icon-text is-clickable",onClick:e[2]||(e[2]=c=>t.showFilterInput=!0)},[X("span",R3t,[at(a,{icon:"fas fa-filter"})]),X("span",j3t,Qt(t.transitionsStore.inputArcs[t.transitionsStore.selectedInputPlaceIndex].filtered.length)+" selectable values ",1),ji("   "),at(s,{class:"has-text-grey-light","help-text":`
                      You can edit the filter to make other values selectable. Filter expressions are written in 
                      <a href='https://goessner.net/articles/JSONPath/' target='_blank'>
                        JsonPath
                      </a>.
                      `})])]))])]),X("div",G3t,[(Ee(),en(l,{key:t.transitionsStore.inputDataKey,data:t.transitionsStore.inputArcs[t.transitionsStore.selectedInputPlaceIndex].marking,onSelectedChange:t.onSelectValueClick,"selected-value":t.selectedInputValueDotsBracketsPath,"selectable-type":"single","select-on-click-node":!0,"show-select-controller":!0,"node-selectable":t.valueSelectable,"show-icon":!0},null,8,["data","onSelectedChange","selected-value","node-selectable"]))])])):(Ee(),Be("div",q3t,"Transition has no input places."))])])}const X3t=Qr(k3t,[["render",Y3t],["__scopeId","data-v-14abc5ec"]]),K3t=zt({components:{VueJsonPretty:pN,HelpButton:ng},data(){return{showFilterOutput:!1,pathDictionary:{}}},computed:{...Mt(Ym),...Mt(Zn),selectedOutputValueDotsBracketsPath:{get(){const t=this.transitionsStore.selectedOutputValueJsonPath;if(t==="none")return"none";const e=this.pathDictionary[t];return e||"none"},set(t){}}},created(){this.pathDictionary={}},methods:{cancelFilterEdit(){this.transitionsStore.resetOutputFilter(),this.showFilterOutput=!1},saveFilter(){this.transitionsStore.saveOutputFilter(),this.showFilterOutput=!1},onFilterOutput(){this.transitionsStore.unsetCurrentOutputAssignment(),this.pathDictionary={},this.transitionsStore.loadAvailableOutputAssignments()},onOutputPlaceSelect(){this.showFilterOutput=!1,this.pathDictionary={},this.transitionsStore.loadCurrentOutputAssignment()},valueSelectable(t){let e="";const n=t.path.substring(4);e=ok(n);const i=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputPlaceIndex].filtered.includes(e);return i&&(this.pathDictionary[e]=t.path),i},onSelectValueClick(t,e){if(Array.isArray(t))return;const n=t.substring(4),r=ok(n);this.transitionsStore.saveSelectedAssignment(r,"output")}}});const J3t=t=>(Rm("data-v-7bf902ef"),t=t(),jm(),t),Z3t={class:"card scoped-modal-side has-background-light scoped-modal-right"},Q3t={class:"m-5 scoped-scrollable-outer"},e9t={key:0,class:"scoped-scrollable-container"},t9t={class:"level mb-4"},n9t={class:"level-left"},r9t={class:"level-item"},i9t={class:"field has-addons"},o9t=J3t(()=>X("p",{class:"control"},[X("a",{class:"button is-static is-small"}," Output ")],-1)),a9t={class:"control"},s9t={class:"select is-small"},l9t=["value"],c9t={key:0,class:"level-right"},u9t={class:"level-item"},f9t={class:"icon is-small has-text-warning is-clickable mr-2 has-tooltip-bottom","data-tooltip":"Some places have unselected values."},d9t={class:"level mb-4"},h9t={class:"level-left"},p9t={key:0,class:"level-item"},m9t={class:"icon mr-1 has-text-grey-light"},g9t={class:"has-text-grey"},b9t={key:1,class:"level-item"},v9t={class:"icon mr-1 has-text-grey-light"},y9t=["disabled"],k9t={class:"icon is-small has-text-grey"},_9t={class:"icon is-small"},w9t={class:"scoped-scrollable jsn-code p-2"},S9t={key:1,class:"notification is-info is-light is-size-7"};function x9t(t,e,n,r,i,o){const a=It("font-awesome-icon"),s=It("HelpButton"),l=It("vue-json-pretty");return Ee(),Be("div",Z3t,[X("section",Q3t,[t.transitionsStore.outputArcs.length>0?(Ee(),Be("div",e9t,[X("div",t9t,[X("div",n9t,[X("div",r9t,[X("div",i9t,[o9t,X("p",a9t,[X("span",s9t,[Sf(X("select",{"onUpdate:modelValue":e[0]||(e[0]=c=>t.transitionsStore.selectedOutputPlaceIndex=c),onChange:e[1]||(e[1]=(...c)=>t.onOutputPlaceSelect&&t.onOutputPlaceSelect(...c))},[(Ee(!0),Be(hn,null,uo(t.transitionsStore.outputArcs,(c,u)=>(Ee(),Be("option",{value:u},Qt(c.name),9,l9t))),256))],544),[[K4,t.transitionsStore.selectedOutputPlaceIndex]])])])])])]),t.transitionsStore.postsetAssignmentComplete?ct("",!0):(Ee(),Be("div",c9t,[X("div",u9t,[X("span",f9t,[at(a,{icon:"fas fa-triangle-exclamation"})])])]))]),X("div",d9t,[X("div",h9t,[t.showFilterOutput?(Ee(),Be("div",b9t,[X("span",v9t,[at(a,{icon:"fas fa-filter"})]),Sf(X("input",{onInput:e[3]||(e[3]=(...c)=>t.onFilterOutput&&t.onFilterOutput(...c)),style:{width:"100px"},class:"input is-small mr-1","onUpdate:modelValue":e[4]||(e[4]=c=>t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputPlaceIndex].filter=c),disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,40,y9t),[[Zd,t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputPlaceIndex].filter]]),X("button",{class:"mr-1 button is-small",onClick:e[5]||(e[5]=(...c)=>t.cancelFilterEdit&&t.cancelFilterEdit(...c))},[X("span",k9t,[at(a,{icon:"fas fa-xmark"})])]),X("button",{onClick:e[6]||(e[6]=(...c)=>t.saveFilter&&t.saveFilter(...c)),class:"button is-small is-primary"},[X("span",_9t,[at(a,{icon:"fas fa-check"})])])])):(Ee(),Be("div",p9t,[X("span",{class:"icon-text is-clickable",onClick:e[2]||(e[2]=c=>t.showFilterOutput=!0)},[X("span",m9t,[at(a,{icon:"fas fa-filter"})]),X("span",g9t,Qt(t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputPlaceIndex].filtered.length)+" selectable values",1),ji("   "),at(s,{class:"has-text-grey-light","help-text":`
                      You can edit the filter to make other values selectable. Filter expressions are written in 
                      <a href='https://goessner.net/articles/JSONPath/' target='_blank'>
                        JsonPath
                      </a>.
                      `})])]))])]),X("div",w9t,[(Ee(),en(l,{key:t.transitionsStore.outputDataKey,data:t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputPlaceIndex].marking,onSelectedChange:t.onSelectValueClick,"selected-value":t.selectedOutputValueDotsBracketsPath,"selectable-type":"single","select-on-click-node":!0,"show-select-controller":!0,"node-selectable":t.valueSelectable,"show-icon":!0},null,8,["data","onSelectedChange","selected-value","node-selectable"]))])])):(Ee(),Be("div",S9t,"Transition has no output places."))])])}const C9t=Qr(K3t,[["render",x9t],["__scopeId","data-v-7bf902ef"]]),T9t=zt({computed:{...Mt(ss),...Mt(Ym),...Mt(Zn)},methods:{setTransitionType(t){const e=t.target.value;if(e==="custom"){const i=this.netStore.transitionTypes[this.transitionsStore.transition.id],o=this.configStore.getTransitionTypeById(i);if(o){const a=Object.keys(o.customVariables);for(let s=0;s<a.length;s++)this.transitionsStore.removeVariable(a[s])}}this.netStore.transitionTypes[this.transitionsStore.transition.id]=e;const n=this.configStore.getTransitionTypeById(e);if(!n)return;this.transitionsStore.transition.preface=n.preface,this.transitionsStore.transition.guard=n.guard,this.transitionsStore.saveBasicInscription();for(let i=0;i<this.transitionsStore.outputArcs.length;i++){this.transitionsStore.selectedOutputSnippetIndex=i;let o=this.transitionsStore.outputArcs[i].valueSnippet,a=this.transitionsStore.outputArcs[i].keySnippet,s=o.substring(0,o.indexOf("=")+2)+n.valueSnippet,l=a.substring(0,a.indexOf("=")+2)+n.keySnippet;this.transitionsStore.outputArcs[i].valueSnippet=s,this.transitionsStore.outputArcs[i].keySnippet=l,this.transitionsStore.saveOutputSnippets(),this.transitionsStore.selectedOutputPlaceIndex=i,this.transitionsStore.outputArcs[i].filter=n.postsetFilter,this.transitionsStore.saveOutputFilter()}for(let i=0;i<this.transitionsStore.inputArcs.length;i++)this.transitionsStore.selectedInputPlaceIndex=i,this.transitionsStore.inputArcs[i].filter=n.presetFilter,this.transitionsStore.saveInputFilter();this.transitionsStore.selectedInputPlaceIndex=0,this.transitionsStore.selectedOutputPlaceIndex=0,this.transitionsStore.selectedOutputSnippetIndex=0;const r=Object.keys(n.customVariables);for(let i=0;i<r.length;i++)this.transitionsStore.updateVariable(r[i],n.customVariables[r[i]])}}}),A9t={class:"block"},I9t={class:"field"},P9t=X("label",{class:"label is-small"},"Node type:",-1),E9t={class:"select is-small"},$9t=["selected"],O9t=["value","selected"],D9t={class:"block"},L9t={key:0,class:"notification is-info is-light is-size-7"},F9t=["innerHTML"],N9t=X("hr",null,null,-1);function M9t(t,e,n,r,i,o){var a;return Ee(),Be(hn,null,[X("div",A9t,[X("div",I9t,[P9t,X("div",E9t,[X("select",{onChange:e[0]||(e[0]=(...s)=>t.setTransitionType&&t.setTransitionType(...s))},[X("option",{value:"custom",selected:t.netStore.transitionTypes[t.transitionsStore.transition.id]==="custom"},"Individual ",8,$9t),(Ee(!0),Be(hn,null,uo(t.configStore.transitionTypes,s=>(Ee(),Be("option",{value:s.id,selected:s.id===t.netStore.transitionTypes[t.transitionsStore.transition.id]},Qt(s.title),9,O9t))),256))],32)])])]),X("div",D9t,[t.netStore.transitionTypes[t.transitionsStore.transition.id]==="custom"?(Ee(),Be("div",L9t," You can enter an individual inscription. ")):(Ee(),Be("div",{key:1,class:"notification is-info is-light is-size-7",innerHTML:(a=t.configStore.getTransitionTypeById(t.netStore.transitionTypes[t.transitionsStore.transition.id]))==null?void 0:a.description},null,8,F9t))]),N9t],64)}const z9t=Qr(T9t,[["render",M9t]]),R9t=zt({components:{Codemirror:Um,VueJsonPretty:pN,SnippetInput:y3t,PostsetFilter:C9t,PresetFilter:X3t,HelpButton:ng,TransitionTypeSelector:z9t},setup(){return{extensions:[Wm]}},data(){return{showNameInput:!1}},computed:{...Mt(ta),...Mt(Zn),...Mt(Ym)},created(){this.transitionsStore.initSettings(),this.transitionsStore.loadTransition(this.uiStateStore.lastSelectedID)},watch:{"transitionsStore.transition.guard"(t){this.transitionsStore.saveBasicInscription(),this.transitionsStore.loadEvaluations()},"transitionsStore.transition.preface"(t){this.transitionsStore.saveBasicInscription(),this.transitionsStore.loadEvaluations()}},methods:{onCancelNameEdit(){this.transitionsStore.resetName(),this.showNameInput=!1},onNameSave(){this.transitionsStore.saveName(),this.showNameInput=!1},close(){this.uiStateStore.showModal="none",this.transitionsStore.unsetAssignments()},onFireClick(){this.transitionsStore.isEnabled&&this.transitionsStore.fireCurrentTransition()},getShortString(t){return t.length>8?t.slice(0,8)+"...":t},getFormattedString(t){return JSON.stringify(JSON.parse(t),null,2)},onVariableInput(t,e){e||(e="0"),this.transitionsStore.updateVariable(t,e)}}});const Pa=t=>(Rm("data-v-711130b5"),t=t(),jm(),t),j9t={class:"modal is-active"},V9t=Pa(()=>X("div",{class:"modal-background"},null,-1)),B9t={class:"scoped-modal-container"},H9t={class:"modal-card scoped-modal-center"},W9t={class:"modal-card-head"},U9t=Pa(()=>X("span",{class:"has-text-weight-bold"},"Transition:",-1)),G9t={class:"ml-1"},q9t={class:"scoped-edit-button icon has-text-grey-light"},Y9t={key:1,class:"level"},X9t={class:"icon is-small has-text-grey"},K9t={class:"icon is-small"},J9t=Pa(()=>X("p",{class:"modal-card-title"},null,-1)),Z9t={key:0,class:"modal-card-body"},Q9t={class:"block"},e8t={class:"field"},t8t={class:"label is-small"},n8t={class:"control is-small jsn-code"},r8t={key:0,class:"help is-danger"},i8t=Pa(()=>X("hr",null,null,-1)),o8t={key:0,class:"block"},a8t={class:"field"},s8t=Pa(()=>X("label",{class:"label is-small"},"Output Expressions ",-1)),l8t={class:"select is-small"},c8t=Pa(()=>X("option",{value:-1,selected:"",disabled:""},"Select output place",-1)),u8t=["value"],f8t={key:0,class:"help is-danger"},d8t={key:1,class:"block"},h8t=Pa(()=>X("div",{class:"notification is-info is-light is-size-7"},"Transition has no output places.",-1)),p8t=[h8t],m8t=Pa(()=>X("hr",null,null,-1)),g8t={class:"block"},b8t={class:"field"},v8t={class:"label is-small"},y8t={class:"control is-small jsn-code"},k8t={key:0},_8t={key:0,class:"help is-danger"},w8t={key:1,class:"help"},S8t=["data-tooltip"],x8t=Pa(()=>X("hr",null,null,-1)),C8t={class:"block"},T8t={class:"field"},A8t=Pa(()=>X("label",{class:"label is-small"},"Settings",-1)),I8t={class:"control"},P8t={class:"field"},E8t=["checked"],$8t=Pa(()=>X("label",{for:"readonly-switch"},"Only read input values",-1)),O8t={key:2,class:"block"},D8t=Pa(()=>X("div",{class:"notification is-warning is-light is-size-7"}," Select a value for each input and output place to see expression evaluations. ",-1)),L8t=[D8t],F8t={key:3,class:"block"},N8t=Pa(()=>X("div",{class:"notification is-danger is-light is-size-7"}," The transition inscription has errors. ",-1)),M8t=[N8t],z8t={key:4,class:"block"},R8t=Pa(()=>X("div",{class:"notification is-warning is-light is-size-7"}," The transition can't fire with selected values. ",-1)),j8t=[R8t],V8t={key:5,class:"block"},B8t=Pa(()=>X("div",{class:"notification is-success is-light is-size-7"}," The transition can fire with selected values. ",-1)),H8t=[B8t],W8t={key:1,class:"modal-card-body"},U8t={class:"field"},G8t={class:"label is-small"},q8t={class:"control has-icons-right"},Y8t=["value","onInput"],X8t={class:"icon is-small is-right"},K8t={key:2,class:"modal-card-foot"},J8t=["disabled"];function Z8t(t,e,n,r,i,o){const a=It("PresetFilter"),s=It("font-awesome-icon"),l=It("TransitionTypeSelector"),c=It("HelpButton"),u=It("Codemirror"),f=It("SnippetInput"),d=It("PostsetFilter");return Ee(),Be("div",j9t,[V9t,X("div",B9t,[t.uiStateStore.uiAssistMode==="expert"?(Ee(),en(a,{key:0})):ct("",!0),X("div",H9t,[X("header",W9t,[U9t,X("span",G9t,[t.showNameInput?ct("",!0):(Ee(),Be("span",{key:0,class:"is-ghost icon-text has-text-weight-bold scoped-modal-title is-clickable",onClick:e[0]||(e[0]=h=>t.showNameInput=!0)},[X("span",null,Qt(t.transitionsStore.transition.name),1),X("span",q9t,[at(s,{icon:"fas fa-pen"})])])),t.showNameInput?(Ee(),Be("span",Y9t,[Sf(X("input",{style:{width:"100px"},class:"input is-small level-item","onUpdate:modelValue":e[1]||(e[1]=h=>t.transitionsStore.transition.name=h)},null,512),[[Zd,t.transitionsStore.transition.name]]),X("button",{class:"ml-1 button is-small level-item",onClick:e[2]||(e[2]=(...h)=>t.onCancelNameEdit&&t.onCancelNameEdit(...h))},[X("span",X9t,[at(s,{icon:"fas fa-xmark"})])]),X("button",{onClick:e[3]||(e[3]=(...h)=>t.onNameSave&&t.onNameSave(...h)),class:"ml-1 button is-small level-item is-primary"},[X("span",K9t,[at(s,{icon:"fas fa-check"})])])])):ct("",!0)]),J9t,X("button",{class:"delete","aria-label":"close",onClick:e[4]||(e[4]=(...h)=>t.close&&t.close(...h))})]),t.uiStateStore.uiAssistMode==="expert"?(Ee(),Be("section",Z9t,[at(l),X("div",Q9t,[X("div",e8t,[X("label",t8t,[ji("Preface "),at(c,{"help-text":`
                                Preface is evaluated before any output expression or guard. Use it to define custom variables and functions.
                              `}),X("span",{onClick:e[5]||(e[5]=()=>{t.uiStateStore.showEditor="preface"}),class:"icon is-small is-pulled-right has-text-grey-light is-clickable"},[at(s,{icon:"fas fa-up-right-from-square"})])]),X("div",n8t,[at(u,{placeholder:"Define preface in Jsonnet",style:{height:"50px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.transition.preface,"onUpdate:modelValue":e[6]||(e[6]=h=>t.transitionsStore.transition.preface=h),disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","disabled"])]),t.transitionsStore.prefaceHasError?(Ee(),Be("p",r8t," Expression has errors. Use preface only for variable and function definitions.")):ct("",!0)])]),i8t,t.transitionsStore.outputArcs.length>0?(Ee(),Be("div",o8t,[X("div",a8t,[s8t,X("div",l8t,[Sf(X("select",{"onUpdate:modelValue":e[7]||(e[7]=h=>t.transitionsStore.selectedOutputSnippetIndex=h)},[c8t,(Ee(!0),Be(hn,null,uo(t.transitionsStore.outputArcs,(h,m)=>(Ee(),Be("option",{value:m},Qt(h.name),9,u8t))),256))],512),[[K4,t.transitionsStore.selectedOutputSnippetIndex]])]),t.transitionsStore.hasAnyOutputError?(Ee(),Be("p",f8t,"Some output expressions have errors.")):ct("",!0)]),t.transitionsStore.selectedOutputSnippetIndex!==-1?(Ee(),en(f,{key:0})):ct("",!0)])):(Ee(),Be("div",d8t,p8t)),m8t,X("div",g8t,[X("div",b8t,[X("label",v8t,[ji("Guard Expression "),at(c,{"help-text":`
                                The guard is a function that evaluates to true or false. Use it to describe rules when the transition is enabled.
                              `}),X("span",{onClick:e[8]||(e[8]=()=>{t.uiStateStore.showEditor="guard"}),class:"icon is-small is-pulled-right has-text-grey-light is-clickable"},[at(s,{icon:"fas fa-up-right-from-square"})])]),X("div",y8t,[at(u,{placeholder:"Define guard in Jsonnet",style:{height:"50px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.transition.guard,"onUpdate:modelValue":e[9]||(e[9]=h=>t.transitionsStore.transition.guard=h),disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","disabled"])]),t.transitionsStore.assignmentComplete&&!t.transitionsStore.prefaceHasError&&!t.transitionsStore.hasAnyError?(Ee(),Be("div",k8t,[t.transitionsStore.guardHasError?(Ee(),Be("p",_8t,"Guard expression has errors. ")):ct("",!0),t.transitionsStore.guardHasError?ct("",!0):(Ee(),Be("p",w8t,[ji("Result: "),X("code",{class:"has-text-grey has-tooltip-bottom","data-tooltip":t.getFormattedString(t.transitionsStore.guardEvaluation)},Qt(t.getShortString(t.transitionsStore.guardEvaluation)),9,S8t)]))])):ct("",!0)])]),x8t,X("div",C8t,[X("div",T8t,[A8t,X("div",I8t,[X("div",P8t,[X("input",{onClick:e[10]||(e[10]=h=>t.transitionsStore.switchMode()),id:"readonly-switch",type:"checkbox",name:"readonly-switch",class:"switch is-rtl is-small",checked:t.transitionsStore.transition.readonly},null,8,E8t),$8t])])])]),t.transitionsStore.assignmentComplete?t.transitionsStore.hasAnyError?(Ee(),Be("div",F8t,M8t)):t.transitionsStore.isEnabled?t.transitionsStore.isEnabled?(Ee(),Be("div",V8t,H8t)):ct("",!0):(Ee(),Be("div",z8t,j8t)):(Ee(),Be("div",O8t,L8t))])):(Ee(),Be("section",W8t,[at(l),(Ee(!0),Be(hn,null,uo(Object.entries(t.transitionsStore.transition.customVariables),([h,m])=>(Ee(),Be("div",U8t,[X("label",G8t,Qt(h),1),X("div",q8t,[X("input",{class:"input is-small",value:m,onInput:v=>{if(v.target){const k=v.target;t.onVariableInput(h,k.value)}}},null,40,Y8t),X("span",X8t,[at(s,{icon:"fas fa-percent"})])])]))),256))])),t.uiStateStore.uiAssistMode==="expert"?(Ee(),Be("footer",K8t,[X("button",{class:"button is-pulled-right is-danger is-small",disabled:!t.transitionsStore.isEnabled,style:{"margin-left":"auto"},onClick:e[11]||(e[11]=(...h)=>t.onFireClick&&t.onFireClick(...h))},"Fire!",8,J8t)])):ct("",!0)]),t.uiStateStore.uiAssistMode==="expert"?(Ee(),en(d,{key:1})):ct("",!0)])])}const Q8t=Qr(R9t,[["render",Z8t],["__scopeId","data-v-711130b5"]]),e5t=zt({computed:{...Mt(ta),...Mt(Zn),...Mt(ss)},methods:{importNet(t){this.netStore.import(t),this.close()},close(){this.uiStateStore.showModal="none"}}}),t5t={class:"modal is-active"},n5t=X("div",{class:"modal-background"},null,-1),r5t={class:"modal-card jsn-modal-wide"},i5t={class:"modal-card-head"},o5t=X("p",{class:"modal-card-title"},"Beispiele",-1),a5t={class:"modal-card-body"},s5t={class:"content"},l5t=X("div",{class:"notification is-info is-light is-size-7"}," Wählen Sie ein Beispiel-Modell aus, um es in den Editor zu laden. ",-1),c5t={class:"table is-size-7 is-fullwidth"},u5t=X("thead",null,[X("th",null,"Modell"),X("th",null,"Aktionen")],-1),f5t=["onClick"];function d5t(t,e,n,r,i,o){return Ee(),Be("div",t5t,[n5t,X("div",r5t,[X("header",i5t,[o5t,X("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...a)=>t.close&&t.close(...a))})]),X("section",a5t,[X("div",s5t,[l5t,X("div",null,[X("table",c5t,[u5t,X("tbody",null,[(Ee(!0),Be(hn,null,uo(t.configStore.examples,a=>(Ee(),Be("tr",null,[X("td",null,Qt(a.name),1),X("td",null,[X("a",{onClick:()=>{t.importNet(a.net)}},"Laden",8,f5t)])]))),256))])])])])])])])}const h5t=Qr(e5t,[["render",d5t]]),p5t=zt({components:{Codemirror:Um},props:{content:String,language:{type:String,default:"json"},class:String},setup(){return{jsonExtensions:[Dce()],jsonnetExtensions:[Wm]}}});function m5t(t,e,n,r,i,o){const a=It("Codemirror");return Ee(),Be(hn,null,[t.language==="jsonnet"?(Ee(),en(a,{key:0,modelValue:t.content,"onUpdate:modelValue":e[0]||(e[0]=s=>t.content=s),disabled:!0,autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.jsonnetExtensions,class:Ut(t.class)},null,8,["modelValue","extensions","class"])):ct("",!0),t.language==="json"?(Ee(),en(a,{key:1,modelValue:t.content,"onUpdate:modelValue":e[1]||(e[1]=s=>t.content=s),disabled:!0,autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.jsonExtensions,class:Ut(t.class)},null,8,["modelValue","extensions","class"])):ct("",!0)],64)}const g5t=Qr(p5t,[["render",m5t]]),b5t=zt({components:{StaticCodeEditor:g5t},props:{examples:{type:Array,required:!0},isTransition:Boolean},methods:{toggleAccordion(t){this.examples[t].isExpanded===!1?this.examples[t].isExpanded=!0:this.examples[t].isExpanded=!1}}});const v5t={class:"accordion"},y5t=["onClick"],k5t=["onClick"],_5t={class:"scoped-accordion-content jsn-code"};function w5t(t,e,n,r,i,o){const a=It("font-awesome-icon"),s=It("StaticCodeEditor");return Ee(),Be("div",v5t,[(Ee(!0),Be(hn,null,uo(t.examples,(l,c)=>(Ee(),Be("div",{key:c},[X("button",{class:"button is-ghost",onClick:u=>t.toggleAccordion(c)},Qt(l.question),9,y5t),X("button",{class:"button is-ghost is-pulled-right",onClick:u=>t.toggleAccordion(c)},[l.isExpanded?ct("",!0):(Ee(),en(a,{key:0,icon:"fas fa-plus-circle scoped-accordion-button"})),l.isExpanded?(Ee(),en(a,{key:1,icon:"fas fa-minus-circle scoped-accordion-button"})):ct("",!0)],8,k5t),Sf(X("div",_5t,[at(s,{class:"my-1",content:l.answer,language:"jsonnet"},null,8,["content"])],512),[[f$,l.isExpanded]])]))),128))])}const S5t=Qr(b5t,[["render",w5t],["__scopeId","data-v-617f9126"]]),x5t={student:[{id:1,name:"Alice",age:25,email:"alice@uni.edu",semester:4,lecturesNotYetDone:["Process Modeling","Database Systems"]}],request:[{id:1,lecture:"Process Modeling",serviceFee:15}],jsonnet:[{question:"Always evaluate to true (no check functionality)",answer:"true",evaluation:!0,isExpanded:!1},{question:"Comparison of two attributes of different tokens",answer:"input_somplace_token.id == output_otherplace_token.id",evaluation:!0,isExpanded:!1},{question:"Comparison of an attribute with a value",answer:"input_someplace_value.name == 'Tom'",evaluation:!1,isExpanded:!1},{question:"Compare whether value is greater or smaller",answer:"input_someplace_value.age > 18",evaluation:!0,isExpanded:!1},{question:"Combine multiple conditions",answer:`input_someplace_value.name == 'Tom' &&
 input_someplace_value.age > 18`,evaluation:!0,isExpanded:!1}]},C5t={student:[{id:1,name:"Alice",age:25,email:"alice@uni.edu",semester:4,lecturesNotYetDone:["Process Modeling","Database Systems"]}],lecture:[{id:1,lecture:"Process Modeling",serviceFee:15}],jsonnet:[{question:"Pass some static simple value as output.",answer:"local output_somplace_value = true;",evaluation:{id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Pass some static complex value as output.",answer:'local output_somplace_value = { "id": 1, "lecture": "Process Modeling" };',evaluation:{id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Pass some input value unchanged.",answer:"local output_somplace_value = input_otherplace_value;",evaluation:{id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Merge objects.",answer:"local output_someplace_value = input_otherplace_value + {email: somevariable.email};",evaluation:{email:"alice@uni.edu",id:1,lecture:"Process Modeling"},isExpanded:!1}]},T5t={student:[{id:1,name:"Alice",age:25,email:"alice@uni.edu",semester:4,lecturesNotYetDone:["Process Modeling","Database Systems"]}],lecture:[{id:1,lecture:"Process Modeling",serviceFee:15}],jsonnet:[{question:"Insert corresponding output value at a specific field of an object.",answer:'local output_someplace_key = "price";',evaluation:{id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Insert corresponding output value in the beginning of an array.",answer:"local output_someplace_key = 0;",evaluation:{email:"alice@uni.edu",id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Insert corresponding output value at the end of an array.",answer:'local output_someplace_key = "-";',evaluation:{email:"alice@uni.edu",message:"The request for Process Modeling was accepted."},isExpanded:!1},{question:"Use the key of some input value as output key.",answer:"local output_someplace_key = input_otherplace_key;",evaluation:{age:25,email:"alice@uni.edu",id:1,name:"Alice",semester:4,totalTuition:1600},isExpanded:!1}]},A5t={student:[{id:1,name:"Alice",age:25,email:"alice@uni.edu",semester:4,lecturesNotYetDone:["Process Modeling","Database Systems"]}],lecture:[{id:1,lecture:"Process Modeling",serviceFee:15}],jsonnet:[{question:"Definition of a variable",answer:"local tuitionPerSemester = 400;",evaluation:{age:25,email:"alice@uni.edu",id:1,name:"Alice",semester:4,totalTuition:1600},isExpanded:!1},{question:"Definition of a function",answer:"local calculateTotalTuition(tuitionPerSemester, numberSemester) = tuitionPerSemester * numberSemester;",evaluation:{age:25,email:"alice@uni.edu",id:1,name:"Alice",semester:4,totalTuition:1600},isExpanded:!1}]},I5t=zt({components:{Codemirror:Um,HelpButton:ng,ExampleAccordion:S5t},setup(){const t=[Wm];return{view:ru(),extensions:t}},computed:{getCurrentExample(){return this.uiStateStore.showEditor==="guard"?this.guardExamples.jsonnet:this.uiStateStore.showEditor==="value"?this.valueExamples.jsonnet:this.uiStateStore.showEditor==="key"?this.keyExamples.jsonnet:this.prefaceExamples.jsonnet},title(){return this.uiStateStore.showEditor==="guard"?this.transitionsStore.transition.name+" guard":this.uiStateStore.showEditor==="preface"?this.transitionsStore.transition.name+" preface":this.uiStateStore.showEditor==="key"?this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].name+" key":this.uiStateStore.showEditor==="value"?this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].name+" value":""},keyHasError(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].keyVar;return this.transitionsStore.keyEvaluationResults[t].hasError},keyEvaluation(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].keyVar;return this.transitionsStore.keyEvaluationResults[t].evaluation},valueHasError(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].valueVar;return this.transitionsStore.valueEvaluationResults[t].hasError},valueEvaluation(){const t=this.transitionsStore.outputArcs[this.transitionsStore.selectedOutputSnippetIndex].valueVar;return this.transitionsStore.valueEvaluationResults[t].evaluation},...Mt(ta),...Mt(Zn),...Mt(Ym)},data(){return{activeItems:[],expandedExamples:!1,guardExamples:x5t,keyExamples:T5t,valueExamples:C5t,prefaceExamples:A5t}},methods:{getVariableTooltip(t){return this.transitionsStore.variables[t]!==void 0?JSON.stringify(this.transitionsStore.variables[t],null,2):"Variable has no value assigned."},expandExamples(){this.expandedExamples=!this.expandedExamples},toggleActive(t){this.activeItems.includes(t)?this.activeItems.splice(this.activeItems.indexOf(t),1):this.activeItems.push(t)},close(){this.uiStateStore.showEditor="none"},onEditorReady(t){this.view=t.view},insertVariableName(t){const n=this.view.state.selection.ranges[0].anchor;this.view.dispatch({changes:{from:n,insert:t}})}}});const Ti=t=>(Rm("data-v-91768d95"),t=t(),jm(),t),P5t={class:"modal is-active"},E5t=Ti(()=>X("div",{class:"modal-background"},null,-1)),$5t={class:"modal-card scoped-modal jsn-modal-wide"},O5t={class:"modal-card-head"},D5t={class:"has-text-weight-bold"},L5t=Ti(()=>X("p",{class:"modal-card-title"},null,-1)),F5t={class:"modal-card-body"},N5t={class:"columns scoped-scrollable-outer"},M5t={class:"column is-one-quarter scoped-scroll-container"},z5t={class:"menu is-small scoped-scrollable"},R5t=Ti(()=>X("p",{class:"menu-label"}," Variable Explorer ",-1)),j5t={class:"menu-list"},V5t={key:0},B5t=["onClick"],H5t={key:0},W5t=["data-tooltip","onClick"],U5t=Ti(()=>X("span",{class:"has-text-weight-semibold"},"Key ",-1)),G5t=Ti(()=>X("br",null,null,-1)),q5t={class:"is-family-code"},Y5t=["data-tooltip","onClick"],X5t=Ti(()=>X("span",{class:"has-text-weight-semibold"},"Value ",-1)),K5t=Ti(()=>X("br",null,null,-1)),J5t={class:"is-family-code"},Z5t=["data-tooltip","onClick"],Q5t=Ti(()=>X("span",{class:"has-text-weight-semibold"},"Token ",-1)),ekt=Ti(()=>X("br",null,null,-1)),tkt={class:"is-family-code"},nkt={key:0},rkt=["onClick"],ikt={key:0},okt=["data-tooltip","onClick"],akt=Ti(()=>X("span",{class:"has-text-weight-semibold"},"Key ",-1)),skt=Ti(()=>X("br",null,null,-1)),lkt={class:"is-family-code"},ckt=["data-tooltip","onClick"],ukt=Ti(()=>X("span",{class:"has-text-weight-semibold"},"Value ",-1)),fkt=Ti(()=>X("br",null,null,-1)),dkt={class:"is-family-code"},hkt=["data-tooltip","onClick"],pkt=Ti(()=>X("span",{class:"has-text-weight-semibold"},"Token ",-1)),mkt=Ti(()=>X("br",null,null,-1)),gkt={class:"is-family-code"},bkt={class:"column"},vkt={class:"notification is-info is-light"},ykt={key:0},kkt={class:"block"},_kt={key:1},wkt={class:"block"},Skt={class:"block"},xkt={class:"block"},Ckt={class:"field"},Tkt={class:"label is-small"},Akt={class:"control is-small jsn-code"},Ikt={key:0,class:"block"},Pkt={key:0,class:"field"},Ekt=Ti(()=>X("label",{class:"label is-small"}," Evaluation ",-1)),$kt={key:0,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Okt={key:1,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Dkt={key:2,class:"notification is-small jsn-code jsn-code-font is-light is-success",style:{height:"200px"}},Lkt={key:3,class:"notification is-small jsn-code json-code-font is-light is-danger",style:{height:"200px"}},Fkt={key:1,class:"field"},Nkt=Ti(()=>X("label",{class:"label is-small"}," Evaluation ",-1)),Mkt={key:0,class:"notification is-small jsn-code jsn-code-font is-light is-success",style:{height:"200px"}},zkt=Ti(()=>X("span",null,"Preface seems to be fine.",-1)),Rkt=[zkt],jkt={key:1,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Vkt=Ti(()=>X("span",null,"Preface results in an error.",-1)),Bkt=[Vkt],Hkt={key:2,class:"field"},Wkt=Ti(()=>X("label",{class:"label is-small"}," Evaluation ",-1)),Ukt={key:0,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Gkt={key:1,class:"notification is-small jsn-code jsn-code-font is-light is-success",style:{height:"200px"}},qkt={key:2,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Ykt={key:3,class:"field"},Xkt=Ti(()=>X("label",{class:"label is-small"}," Evaluation ",-1)),Kkt={key:0,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Jkt={key:1,class:"notification is-small jsn-code jsn-code-font is-light is-success",style:{height:"200px"}},Zkt={key:2,class:"notification is-small jsn-code jsn-code-font is-light is-danger",style:{height:"200px"}},Qkt={key:1,class:"block"},e6t=Ti(()=>X("div",{class:"notification is-warning is-light is-size-7"}," Select a value for each input and output place to see expression evaluations. ",-1)),t6t=[e6t];function n6t(t,e,n,r,i,o){const a=It("font-awesome-icon"),s=It("ExampleAccordion"),l=It("HelpButton"),c=It("Codemirror");return Ee(),Be("div",P5t,[E5t,X("div",$5t,[X("header",O5t,[X("span",D5t,"Expression Editor: "+Qt(t.title),1),L5t,X("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...u)=>t.close&&t.close(...u))})]),X("section",F5t,[X("div",N5t,[X("div",M5t,[X("aside",z5t,[R5t,X("ul",j5t,[X("li",null,[X("a",{onClick:e[1]||(e[1]=()=>{t.toggleActive("input")})}," Input ("+Qt(t.transitionsStore.inputArcs.length)+" places) ",1),t.activeItems.includes("input")?(Ee(),Be("ul",V5t,[(Ee(!0),Be(hn,null,uo(t.transitionsStore.inputArcs,(u,f)=>(Ee(),Be("li",null,[X("a",{onClick:()=>{t.toggleActive(u.name)}},Qt(u.name),9,B5t),t.activeItems.includes(u.name)?(Ee(),Be("ul",H5t,[X("li",null,[X("a",{class:"has-tooltip-bottom","data-tooltip":t.getVariableTooltip(u.keyVar),onClick:()=>{t.insertVariableName(u.keyVar)}},[U5t,G5t,X("span",q5t,Qt(u.keyVar),1)],8,W5t)]),X("li",null,[X("a",{class:"has-tooltip-bottom","data-tooltip":t.getVariableTooltip(u.valueVar),onClick:()=>{t.insertVariableName(u.valueVar)}},[X5t,K5t,X("span",J5t,Qt(u.valueVar),1)],8,Y5t)]),X("li",null,[X("a",{class:"has-tooltip-bottom","data-tooltip":t.getVariableTooltip(u.tokenVar),onClick:()=>{t.insertVariableName(u.tokenVar)}},[Q5t,ekt,X("span",tkt,Qt(u.tokenVar),1)],8,Z5t)])])):ct("",!0)]))),256))])):ct("",!0)]),X("li",null,[X("a",{onClick:e[2]||(e[2]=()=>{t.toggleActive("output")})},"Output ("+Qt(t.transitionsStore.outputArcs.length)+" places)",1),t.activeItems.includes("output")?(Ee(),Be("ul",nkt,[(Ee(!0),Be(hn,null,uo(t.transitionsStore.outputArcs,(u,f)=>(Ee(),Be("li",null,[X("a",{onClick:()=>{t.toggleActive(u.name)}},Qt(u.name),9,rkt),t.activeItems.includes(u.name)?(Ee(),Be("ul",ikt,[X("li",null,[X("a",{class:"has-tooltip-bottom","data-tooltip":t.getVariableTooltip(u.keyVar),onClick:()=>{t.insertVariableName(u.keyVar)}},[akt,skt,X("span",lkt,Qt(u.keyVar),1)],8,okt)]),X("li",null,[X("a",{class:"has-tooltip-bottom","data-tooltip":t.getVariableTooltip(u.valueVar),onClick:()=>{t.insertVariableName(u.valueVar)}},[ukt,fkt,X("span",dkt,Qt(u.valueVar),1)],8,ckt)]),X("li",null,[X("a",{class:"has-tooltip-bottom","data-tooltip":t.getVariableTooltip(u.tokenVar),onClick:()=>{t.insertVariableName(u.tokenVar)}},[pkt,mkt,X("span",gkt,Qt(u.tokenVar),1)],8,hkt)])])):ct("",!0)]))),256))])):ct("",!0)])])])]),X("div",bkt,[X("div",vkt,[t.expandedExamples==!1?(Ee(),Be("div",ykt,[X("div",kkt,[X("span",{onClick:e[3]||(e[3]=(...u)=>t.expandExamples&&t.expandExamples(...u)),class:"icon is-clickable"},[at(a,{icon:"fas fa-plus-circle"})]),X("span",null,"Expand examples for "+Qt(t.uiStateStore.showEditor)+" expressions.",1)])])):(Ee(),Be("div",_kt,[X("div",wkt,[X("span",{onClick:e[4]||(e[4]=(...u)=>t.expandExamples&&t.expandExamples(...u)),class:"icon is-clickable"},[at(a,{icon:"fas fa-minus-circle"})]),X("span",null,"Hide examples for "+Qt(t.uiStateStore.showEditor)+" expressions.",1)]),X("div",Skt,[at(s,{examples:t.getCurrentExample},null,8,["examples"])])]))]),X("div",xkt,[X("div",Ckt,[X("label",Tkt,[ji("Expression "),at(l,{"help-text":`
                                 Expressions are written in 
                                <a href='https://jsonnet.org/' target='_blank'>
                                  Jsonnet
                                </a>. Click on variable names in the explorer to insert them at cursor position in the code.
                              `})]),X("div",Akt,[t.uiStateStore.showEditor==="guard"?(Ee(),en(c,{key:0,placeholder:"Enter guard expression ...",style:{height:"200px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.transition.guard,"onUpdate:modelValue":e[5]||(e[5]=u=>t.transitionsStore.transition.guard=u),onReady:t.onEditorReady,disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","onReady","disabled"])):ct("",!0),t.uiStateStore.showEditor==="preface"?(Ee(),en(c,{key:1,placeholder:"Enter preface ...",style:{height:"200px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.transition.preface,"onUpdate:modelValue":e[6]||(e[6]=u=>t.transitionsStore.transition.preface=u),onReady:t.onEditorReady,disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","onReady","disabled"])):ct("",!0),t.uiStateStore.showEditor==="key"?(Ee(),en(c,{key:2,placeholder:"Enter output key expression ...",style:{height:"200px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].keySnippet,"onUpdate:modelValue":e[7]||(e[7]=u=>t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].keySnippet=u),onReady:t.onEditorReady,disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","onReady","disabled"])):ct("",!0),t.uiStateStore.showEditor==="value"?(Ee(),en(c,{key:3,placeholder:"Enter output value expression ...",style:{height:"200px"},"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,modelValue:t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].valueSnippet,"onUpdate:modelValue":e[8]||(e[8]=u=>t.transitionsStore.outputArcs[t.transitionsStore.selectedOutputSnippetIndex].valueSnippet=u),onReady:t.onEditorReady,disabled:t.netStore.transitionTypes[t.transitionsStore.transition.id]!=="custom"},null,8,["extensions","modelValue","onReady","disabled"])):ct("",!0)])])]),t.transitionsStore.assignmentComplete?(Ee(),Be("div",Ikt,[t.uiStateStore.showEditor=="guard"?(Ee(),Be("div",Pkt,[Ekt,t.transitionsStore.prefaceHasError?(Ee(),Be("div",$kt," Fix errors in preface to see evaluations. ")):ct("",!0),t.transitionsStore.hasAnyOutputError?(Ee(),Be("div",Okt," Fix errors in output expressions to see evaluations. ")):t.transitionsStore.guardHasError?t.transitionsStore.guardHasError?(Ee(),Be("div",Lkt,[X("span",null,Qt(t.transitionsStore.guardEvaluation),1)])):ct("",!0):(Ee(),Be("div",Dkt,[X("span",null,Qt(JSON.stringify(JSON.parse(t.transitionsStore.guardEvaluation),null,2)),1)]))])):ct("",!0),t.uiStateStore.showEditor=="preface"?(Ee(),Be("div",Fkt,[Nkt,t.transitionsStore.prefaceHasError?ct("",!0):(Ee(),Be("div",Mkt,Rkt)),t.transitionsStore.prefaceHasError?(Ee(),Be("div",jkt,Bkt)):ct("",!0)])):ct("",!0),t.uiStateStore.showEditor=="key"?(Ee(),Be("div",Hkt,[Wkt,t.transitionsStore.prefaceHasError?(Ee(),Be("div",Ukt," Fix errors in preface to see evaluations. ")):t.keyHasError?t.keyHasError?(Ee(),Be("div",qkt,[X("span",null,Qt(t.keyEvaluation),1)])):ct("",!0):(Ee(),Be("div",Gkt,[X("span",null,Qt(t.keyEvaluation),1)]))])):ct("",!0),t.uiStateStore.showEditor=="value"?(Ee(),Be("div",Ykt,[Xkt,t.transitionsStore.prefaceHasError?(Ee(),Be("div",Kkt," Fix errors in preface to see evaluations. ")):t.valueHasError?t.valueHasError?(Ee(),Be("div",Zkt,[X("span",null,Qt(t.valueEvaluation),1)])):ct("",!0):(Ee(),Be("div",Jkt,[X("span",null,Qt(t.valueEvaluation),1)]))])):ct("",!0)])):ct("",!0),t.transitionsStore.assignmentComplete?ct("",!0):(Ee(),Be("div",Qkt,t6t))])])])])])}const r6t=Qr(I5t,[["render",n6t],["__scopeId","data-v-91768d95"]]),i6t="scope3tool",o6t="assisted",a6t="activity",s6t="scope1",l6t=!1,c6t={show:!0},u6t=[{name:"Kamera",net:{typeData:{placeTypes:{"c49b0296-19cf-4857-90c0-3f93b638b877":"start","f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d":"control","cd4b6f24-d1b8-458d-815a-5dece4b147ac":"end","bd54b190-4747-4b82-a2b0-0b4851681059":"control"},transitionTypes:{"9ab06d0d-29d3-4580-bf44-8e36194e65f1":"activity","7f9900f0-7d76-4067-b22e-391bdd91a101":"activity","a8940d72-5eff-49ae-98f3-ac64e086ff8d":"activity"}},netData:{places:[{id:"c49b0296-19cf-4857-90c0-3f93b638b877",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"c49b0296-19cf-4857-90c0-3f93b638b877"}},{id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d"}},{id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac",name:"Kamera",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac"}},{id:"bd54b190-4747-4b82-a2b0-0b4851681059",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"bd54b190-4747-4b82-a2b0-0b4851681059"}}],transitions:[{id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",name:"Montage",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"7f9900f0-7d76-4067-b22e-391bdd91a101",name:"Reinigung",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",name:"Prüfung",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_kamera_key:"local output_kamera_key = '-';"},fragmentVarSnippets:{output_kamera_value:"local output_kamera_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"2fec368f-9bd4-41f2-bfb6-fd0901c9d325",filter:"$.*",fromId:"c49b0296-19cf-4857-90c0-3f93b638b877",toId:"9ab06d0d-29d3-4580-bf44-8e36194e65f1"},{id:"03a523fd-aa6c-4f9e-aebc-b30acdb1dc04",filter:"$",fromId:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",toId:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d"},{id:"6b836a80-ac07-4b53-b0ee-7367cb417425",filter:"$.*",fromId:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",toId:"7f9900f0-7d76-4067-b22e-391bdd91a101"},{id:"3e4a241e-f6b4-49fd-963a-485682dee440",filter:"$",fromId:"7f9900f0-7d76-4067-b22e-391bdd91a101",toId:"bd54b190-4747-4b82-a2b0-0b4851681059"},{id:"aee2a50a-3045-49ff-9a60-2a4bede9ba1d",filter:"$.*",fromId:"bd54b190-4747-4b82-a2b0-0b4851681059",toId:"a8940d72-5eff-49ae-98f3-ac64e086ff8d"},{id:"12e6cf18-84f2-41cd-bff2-1a211d93754d",filter:"$",fromId:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",toId:"cd4b6f24-d1b8-458d-815a-5dece4b147ac"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:348,y:360},angle:0,id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Montage"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:696,y:360},angle:0,id:"7f9900f0-7d76-4067-b22e-391bdd91a101",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Reinigung"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1032,y:360},angle:0,id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Prüfung"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:204,y:360},angle:0,tokens:1,id:"c49b0296-19cf-4857-90c0-3f93b638b877",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:552,y:360},angle:0,tokens:0,id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1248,y:360},angle:0,tokens:0,id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Kamera"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:900,y:360},angle:0,tokens:0,id:"bd54b190-4747-4b82-a2b0-0b4851681059",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"c49b0296-19cf-4857-90c0-3f93b638b877",selector:".root"},target:{id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",selector:".root"},id:"2fec368f-9bd4-41f2-bfb6-fd0901c9d325",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",selector:".root"},target:{id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",selector:".root"},id:"03a523fd-aa6c-4f9e-aebc-b30acdb1dc04",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",selector:".root"},target:{id:"7f9900f0-7d76-4067-b22e-391bdd91a101",selector:".root"},id:"6b836a80-ac07-4b53-b0ee-7367cb417425",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f9900f0-7d76-4067-b22e-391bdd91a101",selector:".root"},target:{id:"bd54b190-4747-4b82-a2b0-0b4851681059",selector:".root"},id:"3e4a241e-f6b4-49fd-963a-485682dee440",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bd54b190-4747-4b82-a2b0-0b4851681059",selector:".root"},target:{id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",selector:".root"},id:"aee2a50a-3045-49ff-9a60-2a4bede9ba1d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",selector:".root"},target:{id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac",selector:".root"},id:"12e6cf18-84f2-41cd-bff2-1a211d93754d",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Chip",net:{typeData:{placeTypes:{"1ccfb8d3-f7b8-415c-acbb-87313e9241b3":"start","626ede19-6726-45bf-b355-341f3b2d290e":"control","c1f857bb-220a-4ea0-aa0e-82a8dae72243":"control","6437bc37-738c-4d32-8c31-5d21821116aa":"control","84c18531-ecc9-4595-a717-71ab141e17af":"control","4ce5f483-ed78-4c30-bd67-5f7f161541e7":"control","54473421-8f35-47de-b64a-bc7ae45a2ea6":"control","58d13880-c38c-4a0f-8a41-642bf69009e0":"control","74a6a016-cdc3-4a3f-833c-6561d5e8dc08":"control","0256c4d8-833a-4318-9d4b-9f1c1cd46565":"control","a6d0ebbc-4df6-4c67-bae7-a5b3f38b1454":"end","2c8c59c6-eddf-44c8-885c-f1434af4360c":"scope2"},transitionTypes:{"589f4456-a1c2-47b9-b8a9-7502d40447ad":"activity","00bf5b16-edf5-49aa-be39-5702f0657392":"activity","c4b7aad3-0472-4528-8324-95557d8a5f23":"activity","3388253a-bd47-4743-a84e-57e33bb2dd69":"activity","6649229c-dc74-49b3-81c4-16bcaf2df2de":"activity","7211dcc4-5212-4b32-b057-ea94869b20ee":"activity","9abe5df7-814c-4395-b25b-dd529fbf423f":"activity","09de952b-e9b9-484e-b277-ec53b1b18d8b":"activity","09a0982b-c37a-432b-9636-05548b0b683b":"activity","123cd5e5-f7f2-462f-8a2c-4b7d9a926b04":"activity"}},netData:{places:[{id:"1ccfb8d3-f7b8-415c-acbb-87313e9241b3",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"1ccfb8d3-f7b8-415c-acbb-87313e9241b3"}},{id:"626ede19-6726-45bf-b355-341f3b2d290e",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"626ede19-6726-45bf-b355-341f3b2d290e"}},{id:"c1f857bb-220a-4ea0-aa0e-82a8dae72243",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"c1f857bb-220a-4ea0-aa0e-82a8dae72243"}},{id:"6437bc37-738c-4d32-8c31-5d21821116aa",name:"p3",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"6437bc37-738c-4d32-8c31-5d21821116aa"}},{id:"84c18531-ecc9-4595-a717-71ab141e17af",name:"p4",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"84c18531-ecc9-4595-a717-71ab141e17af"}},{id:"4ce5f483-ed78-4c30-bd67-5f7f161541e7",name:"p5",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"4ce5f483-ed78-4c30-bd67-5f7f161541e7"}},{id:"54473421-8f35-47de-b64a-bc7ae45a2ea6",name:"p6",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"54473421-8f35-47de-b64a-bc7ae45a2ea6"}},{id:"58d13880-c38c-4a0f-8a41-642bf69009e0",name:"p7",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"58d13880-c38c-4a0f-8a41-642bf69009e0"}},{id:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08",name:"p8",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08"}},{id:"a6d0ebbc-4df6-4c67-bae7-a5b3f38b1454",name:"Chip",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"a6d0ebbc-4df6-4c67-bae7-a5b3f38b1454"}},{id:"0256c4d8-833a-4318-9d4b-9f1c1cd46565",name:"p9",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"0256c4d8-833a-4318-9d4b-9f1c1cd46565"}}],transitions:[{id:"589f4456-a1c2-47b9-b8a9-7502d40447ad",name:"Lithografie",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"00bf5b16-edf5-49aa-be39-5702f0657392",name:"Dampfphasenabscheidung",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"c4b7aad3-0472-4528-8324-95557d8a5f23",name:"Epitaxie",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"3388253a-bd47-4743-a84e-57e33bb2dd69",name:"Dotieren",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"6649229c-dc74-49b3-81c4-16bcaf2df2de",name:"Diffussion",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:"local output_p5_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"7211dcc4-5212-4b32-b057-ea94869b20ee",name:"Nassprozesse",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:"local output_p6_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"9abe5df7-814c-4395-b25b-dd529fbf423f",name:"Trockenätzen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p7_value:"local output_p7_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"09de952b-e9b9-484e-b277-ec53b1b18d8b",name:"Beschichten",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p8_key:"local output_p8_key = '-';"},fragmentVarSnippets:{output_p8_value:"local output_p8_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"09a0982b-c37a-432b-9636-05548b0b683b",name:"Polieren",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p9_key:"local output_p9_key = '-';"},fragmentVarSnippets:{output_p9_value:"local output_p9_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"123cd5e5-f7f2-462f-8a2c-4b7d9a926b04",name:"Metrologie",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_chip_key:"local output_chip_key = '-';"},fragmentVarSnippets:{output_chip_value:"local output_chip_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"1db9e399-2f4c-40df-8525-967520f257f5",filter:"$.*",fromId:"1ccfb8d3-f7b8-415c-acbb-87313e9241b3",toId:"589f4456-a1c2-47b9-b8a9-7502d40447ad"},{id:"1306fd03-766e-4c1e-accb-c2744e221301",filter:"$",fromId:"589f4456-a1c2-47b9-b8a9-7502d40447ad",toId:"626ede19-6726-45bf-b355-341f3b2d290e"},{id:"57c342a1-36ff-4b82-8fa7-fc7bc502434c",filter:"$.*",fromId:"626ede19-6726-45bf-b355-341f3b2d290e",toId:"00bf5b16-edf5-49aa-be39-5702f0657392"},{id:"54f08425-a3d5-4ab4-8b1d-bc51f5a43d73",filter:"$",fromId:"00bf5b16-edf5-49aa-be39-5702f0657392",toId:"c1f857bb-220a-4ea0-aa0e-82a8dae72243"},{id:"b0056d56-4888-40a2-8bd6-1c8cf904c29b",filter:"$.*",fromId:"c1f857bb-220a-4ea0-aa0e-82a8dae72243",toId:"c4b7aad3-0472-4528-8324-95557d8a5f23"},{id:"e1a943b2-fee8-4961-a41d-b95ba022528a",filter:"$",fromId:"c4b7aad3-0472-4528-8324-95557d8a5f23",toId:"6437bc37-738c-4d32-8c31-5d21821116aa"},{id:"bcc337af-901d-4735-b740-43b57acd8c95",filter:"$.*",fromId:"6437bc37-738c-4d32-8c31-5d21821116aa",toId:"3388253a-bd47-4743-a84e-57e33bb2dd69"},{id:"dd535a8f-7a85-4e11-9b38-adf4c307a796",filter:"$",fromId:"3388253a-bd47-4743-a84e-57e33bb2dd69",toId:"84c18531-ecc9-4595-a717-71ab141e17af"},{id:"5abc56e8-3e3e-49d1-b0b3-673eea0dd027",filter:"$.*",fromId:"84c18531-ecc9-4595-a717-71ab141e17af",toId:"6649229c-dc74-49b3-81c4-16bcaf2df2de"},{id:"692a6008-670c-4415-917f-c78b426f47f9",filter:"$",fromId:"6649229c-dc74-49b3-81c4-16bcaf2df2de",toId:"4ce5f483-ed78-4c30-bd67-5f7f161541e7"},{id:"ddc6e979-4c04-413a-b98f-99b61337c44d",filter:"$.*",fromId:"4ce5f483-ed78-4c30-bd67-5f7f161541e7",toId:"7211dcc4-5212-4b32-b057-ea94869b20ee"},{id:"d312cb51-db72-4c88-9e30-a9d0c60b5dfe",filter:"$",fromId:"7211dcc4-5212-4b32-b057-ea94869b20ee",toId:"54473421-8f35-47de-b64a-bc7ae45a2ea6"},{id:"8b54b8a8-f2bb-404d-953f-307d33f4af07",filter:"$.*",fromId:"54473421-8f35-47de-b64a-bc7ae45a2ea6",toId:"9abe5df7-814c-4395-b25b-dd529fbf423f"},{id:"493716c2-ac90-48b0-abd3-48abbdedf7b4",filter:"$",fromId:"9abe5df7-814c-4395-b25b-dd529fbf423f",toId:"58d13880-c38c-4a0f-8a41-642bf69009e0"},{id:"739a7280-ff27-440b-acd4-5e184f257175",filter:"$.*",fromId:"58d13880-c38c-4a0f-8a41-642bf69009e0",toId:"09de952b-e9b9-484e-b277-ec53b1b18d8b"},{id:"5e830217-0bbe-4cad-b36c-05405fc6282c",filter:"$",fromId:"09de952b-e9b9-484e-b277-ec53b1b18d8b",toId:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08"},{id:"de186182-5c9b-4eb2-ac70-af87d3e90b32",filter:"$.*",fromId:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08",toId:"09a0982b-c37a-432b-9636-05548b0b683b"},{id:"86640be4-3672-466a-9934-4c65d64f4087",filter:"$",fromId:"09a0982b-c37a-432b-9636-05548b0b683b",toId:"0256c4d8-833a-4318-9d4b-9f1c1cd46565"},{id:"65494ab6-bacb-419c-973a-23adb0b630c2",filter:"$.*",fromId:"0256c4d8-833a-4318-9d4b-9f1c1cd46565",toId:"123cd5e5-f7f2-462f-8a2c-4b7d9a926b04"},{id:"45fd2474-4e75-4548-83c4-6d14be8e3c97",filter:"$",fromId:"123cd5e5-f7f2-462f-8a2c-4b7d9a926b04",toId:"a6d0ebbc-4df6-4c67-bae7-a5b3f38b1454"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:300},angle:0,id:"589f4456-a1c2-47b9-b8a9-7502d40447ad",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Lithografie"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:708,y:300},angle:0,id:"00bf5b16-edf5-49aa-be39-5702f0657392",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Dampfphasenabscheidung"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1104,y:300},angle:0,id:"c4b7aad3-0472-4528-8324-95557d8a5f23",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Epitaxie"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1308,y:444},angle:0,id:"3388253a-bd47-4743-a84e-57e33bb2dd69",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"Dotieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1104,y:600},angle:0,id:"6649229c-dc74-49b3-81c4-16bcaf2df2de",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"Diffussion"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:708,y:600},angle:0,id:"7211dcc4-5212-4b32-b057-ea94869b20ee",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"Nassprozesse"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:600},angle:0,id:"9abe5df7-814c-4395-b25b-dd529fbf423f",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"Trockenätzen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:84,y:744},angle:0,id:"09de952b-e9b9-484e-b277-ec53b1b18d8b",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"Beschichten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:276,y:876},angle:0,id:"09a0982b-c37a-432b-9636-05548b0b683b",jsonnetsType:"transition",z:9,attrs:{".label":{fill:"#7a7e9b",text:"Polieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:720,y:876},angle:0,id:"123cd5e5-f7f2-462f-8a2c-4b7d9a926b04",jsonnetsType:"transition",z:10,attrs:{".label":{fill:"#7a7e9b",text:"Metrologie"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:96,y:300},angle:0,tokens:1,id:"1ccfb8d3-f7b8-415c-acbb-87313e9241b3",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:300},angle:0,tokens:0,id:"626ede19-6726-45bf-b355-341f3b2d290e",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:947,y:299},angle:0,tokens:0,id:"c1f857bb-220a-4ea0-aa0e-82a8dae72243",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1332,y:300},angle:0,tokens:0,id:"6437bc37-738c-4d32-8c31-5d21821116aa",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1332,y:600},angle:0,tokens:0,id:"84c18531-ecc9-4595-a717-71ab141e17af",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:948,y:600},angle:0,tokens:0,id:"4ce5f483-ed78-4c30-bd67-5f7f161541e7",jsonnetsType:"place",z:16,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:516,y:600},angle:0,tokens:0,id:"54473421-8f35-47de-b64a-bc7ae45a2ea6",jsonnetsType:"place",z:17,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:108,y:600},angle:0,tokens:0,id:"58d13880-c38c-4a0f-8a41-642bf69009e0",jsonnetsType:"place",z:18,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:108,y:876},angle:0,tokens:0,id:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08",jsonnetsType:"place",z:19,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p8"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:960,y:876},angle:0,tokens:0,id:"a6d0ebbc-4df6-4c67-bae7-a5b3f38b1454",jsonnetsType:"place",z:20,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Chip"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:504,y:876},angle:0,tokens:0,id:"0256c4d8-833a-4318-9d4b-9f1c1cd46565",jsonnetsType:"place",z:21,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p9"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"1ccfb8d3-f7b8-415c-acbb-87313e9241b3",selector:".root"},target:{id:"589f4456-a1c2-47b9-b8a9-7502d40447ad",selector:".root"},id:"1db9e399-2f4c-40df-8525-967520f257f5",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"589f4456-a1c2-47b9-b8a9-7502d40447ad",selector:".root"},target:{id:"626ede19-6726-45bf-b355-341f3b2d290e",selector:".root"},id:"1306fd03-766e-4c1e-accb-c2744e221301",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"626ede19-6726-45bf-b355-341f3b2d290e",selector:".root"},target:{id:"00bf5b16-edf5-49aa-be39-5702f0657392",selector:".root"},id:"57c342a1-36ff-4b82-8fa7-fc7bc502434c",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"00bf5b16-edf5-49aa-be39-5702f0657392",selector:".root"},target:{id:"c1f857bb-220a-4ea0-aa0e-82a8dae72243",selector:".root"},id:"54f08425-a3d5-4ab4-8b1d-bc51f5a43d73",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c1f857bb-220a-4ea0-aa0e-82a8dae72243",selector:".root"},target:{id:"c4b7aad3-0472-4528-8324-95557d8a5f23",selector:".root"},id:"b0056d56-4888-40a2-8bd6-1c8cf904c29b",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c4b7aad3-0472-4528-8324-95557d8a5f23",selector:".root"},target:{id:"6437bc37-738c-4d32-8c31-5d21821116aa",selector:".root"},id:"e1a943b2-fee8-4961-a41d-b95ba022528a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6437bc37-738c-4d32-8c31-5d21821116aa",selector:".root"},target:{id:"3388253a-bd47-4743-a84e-57e33bb2dd69",selector:".root"},id:"bcc337af-901d-4735-b740-43b57acd8c95",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3388253a-bd47-4743-a84e-57e33bb2dd69",selector:".root"},target:{id:"84c18531-ecc9-4595-a717-71ab141e17af",selector:".root"},id:"dd535a8f-7a85-4e11-9b38-adf4c307a796",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"84c18531-ecc9-4595-a717-71ab141e17af",selector:".root"},target:{id:"6649229c-dc74-49b3-81c4-16bcaf2df2de",selector:".root"},id:"5abc56e8-3e3e-49d1-b0b3-673eea0dd027",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6649229c-dc74-49b3-81c4-16bcaf2df2de",selector:".root"},target:{id:"4ce5f483-ed78-4c30-bd67-5f7f161541e7",selector:".root"},id:"692a6008-670c-4415-917f-c78b426f47f9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4ce5f483-ed78-4c30-bd67-5f7f161541e7",selector:".root"},target:{id:"7211dcc4-5212-4b32-b057-ea94869b20ee",selector:".root"},id:"ddc6e979-4c04-413a-b98f-99b61337c44d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7211dcc4-5212-4b32-b057-ea94869b20ee",selector:".root"},target:{id:"54473421-8f35-47de-b64a-bc7ae45a2ea6",selector:".root"},id:"d312cb51-db72-4c88-9e30-a9d0c60b5dfe",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"54473421-8f35-47de-b64a-bc7ae45a2ea6",selector:".root"},target:{id:"9abe5df7-814c-4395-b25b-dd529fbf423f",selector:".root"},id:"8b54b8a8-f2bb-404d-953f-307d33f4af07",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9abe5df7-814c-4395-b25b-dd529fbf423f",selector:".root"},target:{id:"58d13880-c38c-4a0f-8a41-642bf69009e0",selector:".root"},id:"493716c2-ac90-48b0-abd3-48abbdedf7b4",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"58d13880-c38c-4a0f-8a41-642bf69009e0",selector:".root"},target:{id:"09de952b-e9b9-484e-b277-ec53b1b18d8b",selector:".root"},id:"739a7280-ff27-440b-acd4-5e184f257175",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:36,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09de952b-e9b9-484e-b277-ec53b1b18d8b",selector:".root"},target:{id:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08",selector:".root"},id:"5e830217-0bbe-4cad-b36c-05405fc6282c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"74a6a016-cdc3-4a3f-833c-6561d5e8dc08",selector:".root"},target:{id:"09a0982b-c37a-432b-9636-05548b0b683b",selector:".root"},id:"de186182-5c9b-4eb2-ac70-af87d3e90b32",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09a0982b-c37a-432b-9636-05548b0b683b",selector:".root"},target:{id:"0256c4d8-833a-4318-9d4b-9f1c1cd46565",selector:".root"},id:"86640be4-3672-466a-9934-4c65d64f4087",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0256c4d8-833a-4318-9d4b-9f1c1cd46565",selector:".root"},target:{id:"123cd5e5-f7f2-462f-8a2c-4b7d9a926b04",selector:".root"},id:"65494ab6-bacb-419c-973a-23adb0b630c2",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:40,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"123cd5e5-f7f2-462f-8a2c-4b7d9a926b04",selector:".root"},target:{id:"a6d0ebbc-4df6-4c67-bae7-a5b3f38b1454",selector:".root"},id:"45fd2474-4e75-4548-83c4-6d14be8e3c97",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:41,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Anschluss",net:{typeData:{placeTypes:{"167bbbd6-95ec-4fd6-be40-26c1a487f170":"start","834fca4a-9079-417a-8768-afd52bcc0c94":"end","77993295-6870-418a-bd0d-b145e603292f":"control","2f69a08e-2351-4bdf-84d7-564928a829aa":"control"},transitionTypes:{"67438c44-8f16-41b3-ac44-0438014633c0":"activity","e6d19788-6dec-476e-a333-14397384d651":"activity","480049a0-4dbe-4f96-b7fc-2fdd039ed064":"activity"}},netData:{places:[{id:"167bbbd6-95ec-4fd6-be40-26c1a487f170",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"167bbbd6-95ec-4fd6-be40-26c1a487f170"}},{id:"77993295-6870-418a-bd0d-b145e603292f",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"77993295-6870-418a-bd0d-b145e603292f"}},{id:"2f69a08e-2351-4bdf-84d7-564928a829aa",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"2f69a08e-2351-4bdf-84d7-564928a829aa"}},{id:"834fca4a-9079-417a-8768-afd52bcc0c94",name:"Kameraanschluss",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"834fca4a-9079-417a-8768-afd52bcc0c94"}}],transitions:[{id:"67438c44-8f16-41b3-ac44-0438014633c0",name:"Reinigen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"e6d19788-6dec-476e-a333-14397384d651",name:"Löten",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",name:"Trennen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_kameraanschluss_key:"local output_kameraanschluss_key = '-';"},fragmentVarSnippets:{output_kameraanschluss_value:"local output_kameraanschluss_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"9005b5ac-3466-4378-8277-3332c51a2afe",filter:"$.*",fromId:"167bbbd6-95ec-4fd6-be40-26c1a487f170",toId:"67438c44-8f16-41b3-ac44-0438014633c0"},{id:"55fe0403-4136-4ace-8504-60e737ca6bef",filter:"$",fromId:"67438c44-8f16-41b3-ac44-0438014633c0",toId:"77993295-6870-418a-bd0d-b145e603292f"},{id:"e983560b-dfff-4fd4-ad18-21f9e485d471",filter:"$.*",fromId:"77993295-6870-418a-bd0d-b145e603292f",toId:"e6d19788-6dec-476e-a333-14397384d651"},{id:"c20f81e1-d19b-46b4-9262-438307da4af6",filter:"$",fromId:"e6d19788-6dec-476e-a333-14397384d651",toId:"2f69a08e-2351-4bdf-84d7-564928a829aa"},{id:"26da7c32-e6b0-4221-9a5b-2ccb9ce7560b",filter:"$.*",fromId:"2f69a08e-2351-4bdf-84d7-564928a829aa",toId:"480049a0-4dbe-4f96-b7fc-2fdd039ed064"},{id:"3826748f-3eb9-49d9-8d2a-54ae1952f284",filter:"$",fromId:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",toId:"834fca4a-9079-417a-8768-afd52bcc0c94"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:300,y:312},angle:0,id:"67438c44-8f16-41b3-ac44-0438014633c0",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Reinigen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:683,y:311},angle:0,id:"e6d19788-6dec-476e-a333-14397384d651",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Löten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1056,y:312},angle:0,id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Trennen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:312},angle:0,tokens:1,id:"167bbbd6-95ec-4fd6-be40-26c1a487f170",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:312},angle:0,tokens:0,id:"77993295-6870-418a-bd0d-b145e603292f",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:876,y:312},angle:0,tokens:0,id:"2f69a08e-2351-4bdf-84d7-564928a829aa",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1284,y:312},angle:0,tokens:0,id:"834fca4a-9079-417a-8768-afd52bcc0c94",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Kameraanschluss"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"167bbbd6-95ec-4fd6-be40-26c1a487f170",selector:".root"},target:{id:"67438c44-8f16-41b3-ac44-0438014633c0",selector:".root"},id:"9005b5ac-3466-4378-8277-3332c51a2afe",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"67438c44-8f16-41b3-ac44-0438014633c0",selector:".root"},target:{id:"77993295-6870-418a-bd0d-b145e603292f",selector:".root"},id:"55fe0403-4136-4ace-8504-60e737ca6bef",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"77993295-6870-418a-bd0d-b145e603292f",selector:".root"},target:{id:"e6d19788-6dec-476e-a333-14397384d651",selector:".root"},id:"e983560b-dfff-4fd4-ad18-21f9e485d471",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e6d19788-6dec-476e-a333-14397384d651",selector:".root"},target:{id:"2f69a08e-2351-4bdf-84d7-564928a829aa",selector:".root"},id:"c20f81e1-d19b-46b4-9262-438307da4af6",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2f69a08e-2351-4bdf-84d7-564928a829aa",selector:".root"},target:{id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",selector:".root"},id:"26da7c32-e6b0-4221-9a5b-2ccb9ce7560b",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",selector:".root"},target:{id:"834fca4a-9079-417a-8768-afd52bcc0c94",selector:".root"},id:"3826748f-3eb9-49d9-8d2a-54ae1952f284",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Leiterplatte",net:{typeData:{placeTypes:{"5309778c-2f6a-44c0-aa17-bb3f15b7a606":"start","b1987eda-8e08-4ced-b830-b6567f952ded":"control","f08869f7-1c58-44f1-a0ee-51f8d948856c":"control","4d6e9dac-bf68-4b7b-86e2-fdbbb1261448":"control","487ea0ae-a4de-43e7-bb49-5953c547398b":"control","d312e07b-ebb7-4901-baa3-4685f2ebff45":"control","d779b8e0-9388-4502-971c-bf3b4addc44e":"control","257dbecb-8cf9-4411-8f95-1c787c8333c4":"control","f5cf8f49-6389-4307-8c11-579e41685514":"control","6032860d-f236-4f7e-8be7-197934f4114b":"control","2575f3d8-5e2b-41d6-ad8f-0d085c266c07":"end"},transitionTypes:{"24b114f0-0cf6-4cac-9aad-e034420f35e3":"activity","ad131bbd-9f06-450f-92a9-02a23ff57dc9":"activity","282fe852-ee69-4f85-93c7-b8b2a3aabe06":"activity","c7c6e86a-5446-4ef5-ba45-d4547bff759d":"activity","cdfc3613-646a-45d2-80ff-d1a05eef5867":"activity","5b35b671-368c-42fc-8f5e-55acbe10d9de":"activity","5ae74711-b66a-4d67-831d-c69f190f6117":"activity","f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0":"activity","cb95ac77-e8db-4099-8e29-4ac3121c2878":"activity","6c5f99f4-2b10-4dd9-8427-bd2bd18696a1":"activity"}},netData:{places:[{id:"5309778c-2f6a-44c0-aa17-bb3f15b7a606",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"5309778c-2f6a-44c0-aa17-bb3f15b7a606"}},{id:"b1987eda-8e08-4ced-b830-b6567f952ded",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"b1987eda-8e08-4ced-b830-b6567f952ded"}},{id:"f08869f7-1c58-44f1-a0ee-51f8d948856c",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"f08869f7-1c58-44f1-a0ee-51f8d948856c"}},{id:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448",name:"p3",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448"}},{id:"487ea0ae-a4de-43e7-bb49-5953c547398b",name:"p4",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"487ea0ae-a4de-43e7-bb49-5953c547398b"}},{id:"d312e07b-ebb7-4901-baa3-4685f2ebff45",name:"p5",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"d312e07b-ebb7-4901-baa3-4685f2ebff45"}},{id:"d779b8e0-9388-4502-971c-bf3b4addc44e",name:"p6",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"d779b8e0-9388-4502-971c-bf3b4addc44e"}},{id:"257dbecb-8cf9-4411-8f95-1c787c8333c4",name:"p7",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"257dbecb-8cf9-4411-8f95-1c787c8333c4"}},{id:"6032860d-f236-4f7e-8be7-197934f4114b",name:"p9",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"6032860d-f236-4f7e-8be7-197934f4114b"}},{id:"2575f3d8-5e2b-41d6-ad8f-0d085c266c07",name:"Leiterplatte",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"2575f3d8-5e2b-41d6-ad8f-0d085c266c07"}},{id:"f5cf8f49-6389-4307-8c11-579e41685514",name:"p8",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"f5cf8f49-6389-4307-8c11-579e41685514"}}],transitions:[{id:"24b114f0-0cf6-4cac-9aad-e034420f35e3",name:"Lagenaufbau",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"ad131bbd-9f06-450f-92a9-02a23ff57dc9",name:"Laminieren",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"282fe852-ee69-4f85-93c7-b8b2a3aabe06",name:"Bohren",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"c7c6e86a-5446-4ef5-ba45-d4547bff759d",name:"Plating",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"cdfc3613-646a-45d2-80ff-d1a05eef5867",name:"Lötstoppmaske",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:"local output_p5_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"5b35b671-368c-42fc-8f5e-55acbe10d9de",name:"Lithografie",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:"local output_p6_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"5ae74711-b66a-4d67-831d-c69f190f6117",name:"Nachbearbeiten",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p7_value:"local output_p7_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0",name:"Testen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p8_key:"local output_p8_key = '-';"},fragmentVarSnippets:{output_p8_value:"local output_p8_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"cb95ac77-e8db-4099-8e29-4ac3121c2878",name:"Oberflächenfinish",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p9_key:"local output_p9_key = '-';"},fragmentVarSnippets:{output_p9_value:"local output_p9_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"6c5f99f4-2b10-4dd9-8427-bd2bd18696a1",name:"Legendendruck",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_leiterplatte_key:"local output_leiterplatte_key = '-';"},fragmentVarSnippets:{output_leiterplatte_value:"local output_leiterplatte_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"ebc2cbb5-32c4-4d19-ae03-a525b2cafe46",filter:"$.*",fromId:"5309778c-2f6a-44c0-aa17-bb3f15b7a606",toId:"24b114f0-0cf6-4cac-9aad-e034420f35e3"},{id:"189b44da-07d6-4bf6-9512-b47cc9a673f7",filter:"$",fromId:"24b114f0-0cf6-4cac-9aad-e034420f35e3",toId:"b1987eda-8e08-4ced-b830-b6567f952ded"},{id:"394700a9-4fa6-4f52-b5c5-a1ec92fbf559",filter:"$.*",fromId:"b1987eda-8e08-4ced-b830-b6567f952ded",toId:"ad131bbd-9f06-450f-92a9-02a23ff57dc9"},{id:"663eb46f-5c4e-4050-a69d-ebc8c7d17f6f",filter:"$",fromId:"ad131bbd-9f06-450f-92a9-02a23ff57dc9",toId:"f08869f7-1c58-44f1-a0ee-51f8d948856c"},{id:"8eb7b925-fd54-489c-9a8b-8c5034a857bf",filter:"$.*",fromId:"f08869f7-1c58-44f1-a0ee-51f8d948856c",toId:"282fe852-ee69-4f85-93c7-b8b2a3aabe06"},{id:"33c16aeb-6a8c-407c-b847-00e69c01c724",filter:"$",fromId:"282fe852-ee69-4f85-93c7-b8b2a3aabe06",toId:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448"},{id:"ea62e657-95a9-4e5f-97d7-ab9d18e9966d",filter:"$.*",fromId:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448",toId:"c7c6e86a-5446-4ef5-ba45-d4547bff759d"},{id:"0d1cd340-ac29-415b-bf07-c97c8dd2144c",filter:"$",fromId:"c7c6e86a-5446-4ef5-ba45-d4547bff759d",toId:"487ea0ae-a4de-43e7-bb49-5953c547398b"},{id:"ecd4967b-149e-4db8-adbb-ecbe792c50b8",filter:"$.*",fromId:"487ea0ae-a4de-43e7-bb49-5953c547398b",toId:"cdfc3613-646a-45d2-80ff-d1a05eef5867"},{id:"8d9fb05d-0763-4c85-b354-d5cd9f5e2c71",filter:"$",fromId:"cdfc3613-646a-45d2-80ff-d1a05eef5867",toId:"d312e07b-ebb7-4901-baa3-4685f2ebff45"},{id:"1cbde8e6-32f6-45e5-a766-b144951b18fc",filter:"$.*",fromId:"d312e07b-ebb7-4901-baa3-4685f2ebff45",toId:"5b35b671-368c-42fc-8f5e-55acbe10d9de"},{id:"33ad877d-e190-4b1c-8c08-994cfb8057fb",filter:"$",fromId:"5b35b671-368c-42fc-8f5e-55acbe10d9de",toId:"d779b8e0-9388-4502-971c-bf3b4addc44e"},{id:"b7df865d-b5f2-4daf-9939-eb6605863784",filter:"$.*",fromId:"d779b8e0-9388-4502-971c-bf3b4addc44e",toId:"5ae74711-b66a-4d67-831d-c69f190f6117"},{id:"6a9ed89c-33f7-4132-89db-a3f4aa9706a7",filter:"$",fromId:"5ae74711-b66a-4d67-831d-c69f190f6117",toId:"257dbecb-8cf9-4411-8f95-1c787c8333c4"},{id:"6eab3779-35ef-4ca2-a4ff-ec648fde309a",filter:"$.*",fromId:"257dbecb-8cf9-4411-8f95-1c787c8333c4",toId:"f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0"},{id:"2899503b-e44b-4994-8705-34d457f601fc",filter:"$",fromId:"f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0",toId:"f5cf8f49-6389-4307-8c11-579e41685514"},{id:"a019943d-d5e9-4a95-9172-5f7fb1564528",filter:"$.*",fromId:"f5cf8f49-6389-4307-8c11-579e41685514",toId:"cb95ac77-e8db-4099-8e29-4ac3121c2878"},{id:"12d77567-c04b-4668-a54c-cd27c8700f54",filter:"$",fromId:"cb95ac77-e8db-4099-8e29-4ac3121c2878",toId:"6032860d-f236-4f7e-8be7-197934f4114b"},{id:"71278fb4-3e78-421a-98d2-8e0fe0c1046f",filter:"$.*",fromId:"6032860d-f236-4f7e-8be7-197934f4114b",toId:"6c5f99f4-2b10-4dd9-8427-bd2bd18696a1"},{id:"fb9cf236-7666-4473-9c86-9a8679a003b3",filter:"$",fromId:"6c5f99f4-2b10-4dd9-8427-bd2bd18696a1",toId:"2575f3d8-5e2b-41d6-ad8f-0d085c266c07"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:275,y:275},angle:0,id:"24b114f0-0cf6-4cac-9aad-e034420f35e3",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Lagenaufbau"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:648,y:276},angle:0,id:"ad131bbd-9f06-450f-92a9-02a23ff57dc9",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Laminieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1068,y:276},angle:0,id:"282fe852-ee69-4f85-93c7-b8b2a3aabe06",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Bohren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1320,y:420},angle:0,id:"c7c6e86a-5446-4ef5-ba45-d4547bff759d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"Plating"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1068,y:564},angle:0,id:"cdfc3613-646a-45d2-80ff-d1a05eef5867",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"Lötstoppmaske"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:648,y:564},angle:0,id:"5b35b671-368c-42fc-8f5e-55acbe10d9de",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"Lithografie"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:264,y:564},angle:0,id:"5ae74711-b66a-4d67-831d-c69f190f6117",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"Nachbearbeiten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:72,y:744},angle:0,id:"f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"Testen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:252,y:912},angle:0,id:"cb95ac77-e8db-4099-8e29-4ac3121c2878",jsonnetsType:"transition",z:9,attrs:{".label":{fill:"#7a7e9b",text:"Oberflächenfinish"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:648,y:912},angle:0,id:"6c5f99f4-2b10-4dd9-8427-bd2bd18696a1",jsonnetsType:"transition",z:10,attrs:{".label":{fill:"#7a7e9b",text:"Legendendruck"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:108,y:276},angle:0,tokens:1,id:"5309778c-2f6a-44c0-aa17-bb3f15b7a606",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:480,y:276},angle:0,tokens:0,id:"b1987eda-8e08-4ced-b830-b6567f952ded",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:888,y:276},angle:0,tokens:0,id:"f08869f7-1c58-44f1-a0ee-51f8d948856c",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1344,y:276},angle:0,tokens:0,id:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1344,y:564},angle:0,tokens:0,id:"487ea0ae-a4de-43e7-bb49-5953c547398b",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:876,y:564},angle:0,tokens:0,id:"d312e07b-ebb7-4901-baa3-4685f2ebff45",jsonnetsType:"place",z:16,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:468,y:564},angle:0,tokens:0,id:"d779b8e0-9388-4502-971c-bf3b4addc44e",jsonnetsType:"place",z:17,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:96,y:564},angle:0,tokens:0,id:"257dbecb-8cf9-4411-8f95-1c787c8333c4",jsonnetsType:"place",z:18,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:480,y:912},angle:0,tokens:0,id:"6032860d-f236-4f7e-8be7-197934f4114b",jsonnetsType:"place",z:19,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p9"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:876,y:912},angle:0,tokens:0,id:"2575f3d8-5e2b-41d6-ad8f-0d085c266c07",jsonnetsType:"place",z:20,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Leiterplatte"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:96,y:912},angle:0,tokens:0,id:"f5cf8f49-6389-4307-8c11-579e41685514",jsonnetsType:"place",z:21,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p8"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"5309778c-2f6a-44c0-aa17-bb3f15b7a606",selector:".root"},target:{id:"24b114f0-0cf6-4cac-9aad-e034420f35e3",selector:".root"},id:"ebc2cbb5-32c4-4d19-ae03-a525b2cafe46",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"24b114f0-0cf6-4cac-9aad-e034420f35e3",selector:".root"},target:{id:"b1987eda-8e08-4ced-b830-b6567f952ded",selector:".root"},id:"189b44da-07d6-4bf6-9512-b47cc9a673f7",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"b1987eda-8e08-4ced-b830-b6567f952ded",selector:".root"},target:{id:"ad131bbd-9f06-450f-92a9-02a23ff57dc9",selector:".root"},id:"394700a9-4fa6-4f52-b5c5-a1ec92fbf559",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ad131bbd-9f06-450f-92a9-02a23ff57dc9",selector:".root"},target:{id:"f08869f7-1c58-44f1-a0ee-51f8d948856c",selector:".root"},id:"663eb46f-5c4e-4050-a69d-ebc8c7d17f6f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f08869f7-1c58-44f1-a0ee-51f8d948856c",selector:".root"},target:{id:"282fe852-ee69-4f85-93c7-b8b2a3aabe06",selector:".root"},id:"8eb7b925-fd54-489c-9a8b-8c5034a857bf",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"282fe852-ee69-4f85-93c7-b8b2a3aabe06",selector:".root"},target:{id:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448",selector:".root"},id:"33c16aeb-6a8c-407c-b847-00e69c01c724",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d6e9dac-bf68-4b7b-86e2-fdbbb1261448",selector:".root"},target:{id:"c7c6e86a-5446-4ef5-ba45-d4547bff759d",selector:".root"},id:"ea62e657-95a9-4e5f-97d7-ab9d18e9966d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c7c6e86a-5446-4ef5-ba45-d4547bff759d",selector:".root"},target:{id:"487ea0ae-a4de-43e7-bb49-5953c547398b",selector:".root"},id:"0d1cd340-ac29-415b-bf07-c97c8dd2144c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"487ea0ae-a4de-43e7-bb49-5953c547398b",selector:".root"},target:{id:"cdfc3613-646a-45d2-80ff-d1a05eef5867",selector:".root"},id:"ecd4967b-149e-4db8-adbb-ecbe792c50b8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cdfc3613-646a-45d2-80ff-d1a05eef5867",selector:".root"},target:{id:"d312e07b-ebb7-4901-baa3-4685f2ebff45",selector:".root"},id:"8d9fb05d-0763-4c85-b354-d5cd9f5e2c71",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d312e07b-ebb7-4901-baa3-4685f2ebff45",selector:".root"},target:{id:"5b35b671-368c-42fc-8f5e-55acbe10d9de",selector:".root"},id:"1cbde8e6-32f6-45e5-a766-b144951b18fc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5b35b671-368c-42fc-8f5e-55acbe10d9de",selector:".root"},target:{id:"d779b8e0-9388-4502-971c-bf3b4addc44e",selector:".root"},id:"33ad877d-e190-4b1c-8c08-994cfb8057fb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d779b8e0-9388-4502-971c-bf3b4addc44e",selector:".root"},target:{id:"5ae74711-b66a-4d67-831d-c69f190f6117",selector:".root"},id:"b7df865d-b5f2-4daf-9939-eb6605863784",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5ae74711-b66a-4d67-831d-c69f190f6117",selector:".root"},target:{id:"257dbecb-8cf9-4411-8f95-1c787c8333c4",selector:".root"},id:"6a9ed89c-33f7-4132-89db-a3f4aa9706a7",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"257dbecb-8cf9-4411-8f95-1c787c8333c4",selector:".root"},target:{id:"f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0",selector:".root"},id:"6eab3779-35ef-4ca2-a4ff-ec648fde309a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:36,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f73a9c93-3918-4ec1-9418-4c7ee1e4e1f0",selector:".root"},target:{id:"f5cf8f49-6389-4307-8c11-579e41685514",selector:".root"},id:"2899503b-e44b-4994-8705-34d457f601fc",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5cf8f49-6389-4307-8c11-579e41685514",selector:".root"},target:{id:"cb95ac77-e8db-4099-8e29-4ac3121c2878",selector:".root"},id:"a019943d-d5e9-4a95-9172-5f7fb1564528",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cb95ac77-e8db-4099-8e29-4ac3121c2878",selector:".root"},target:{id:"6032860d-f236-4f7e-8be7-197934f4114b",selector:".root"},id:"12d77567-c04b-4668-a54c-cd27c8700f54",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6032860d-f236-4f7e-8be7-197934f4114b",selector:".root"},target:{id:"6c5f99f4-2b10-4dd9-8427-bd2bd18696a1",selector:".root"},id:"71278fb4-3e78-421a-98d2-8e0fe0c1046f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:40,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6c5f99f4-2b10-4dd9-8427-bd2bd18696a1",selector:".root"},target:{id:"2575f3d8-5e2b-41d6-ad8f-0d085c266c07",selector:".root"},id:"fb9cf236-7666-4473-9c86-9a8679a003b3",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:41,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Wafer",net:{typeData:{placeTypes:{"5826fe10-c01b-486e-b213-9e33f30cf8c2":"start","8be9e972-2eba-4766-8af4-1d5e18f2f0d3":"end","6b2916e9-3c05-4b3c-8f4d-469b81cb05a9":"control","d52d8bfb-4e9e-4e45-8487-6794fb4c9c60":"control","f5c8291f-8cb8-4f85-825a-33e170c20c11":"control","f1205391-5230-47f3-b7ac-6615d1830898":"control","8d30c6c3-65d0-4485-a8cd-714ee0ba569c":"control","825401fa-60cd-497d-927e-ccd110cbd236":"control"},transitionTypes:{"83447b3c-d063-4eb3-82df-d6ac7e5838f9":"activity","be938c8c-eb3f-4019-9248-d06df11f6668":"activity","7da089da-d214-432c-a8fd-6ab38081843b":"activity","425ec761-277c-4bc6-8b63-60e651b1223e":"activity","3d887d06-6b5e-4733-b487-fb28393f995a":"activity","9df90d66-8f44-4709-aa9e-015d92d6f907":"activity","e364df88-9898-4317-9dd4-71eced03218c":"activity"}},netData:{places:[{id:"5826fe10-c01b-486e-b213-9e33f30cf8c2",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"5826fe10-c01b-486e-b213-9e33f30cf8c2"}},{id:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9"}},{id:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60"}},{id:"f5c8291f-8cb8-4f85-825a-33e170c20c11",name:"p3",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"f5c8291f-8cb8-4f85-825a-33e170c20c11"}},{id:"f1205391-5230-47f3-b7ac-6615d1830898",name:"p4",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"f1205391-5230-47f3-b7ac-6615d1830898"}},{id:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c",name:"p5",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c"}},{id:"825401fa-60cd-497d-927e-ccd110cbd236",name:"p6",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"825401fa-60cd-497d-927e-ccd110cbd236"}},{id:"8be9e972-2eba-4766-8af4-1d5e18f2f0d3",name:"Wafer",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"8be9e972-2eba-4766-8af4-1d5e18f2f0d3"}}],transitions:[{id:"83447b3c-d063-4eb3-82df-d6ac7e5838f9",name:"Siliziumpulver einschmelzen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"be938c8c-eb3f-4019-9248-d06df11f6668",name:"Reinigen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"7da089da-d214-432c-a8fd-6ab38081843b",name:"Polysilizium einschmelzen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"425ec761-277c-4bc6-8b63-60e651b1223e",name:"Czochralski-Verfahren",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"3d887d06-6b5e-4733-b487-fb28393f995a",name:"Sägen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:"local output_p5_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"9df90d66-8f44-4709-aa9e-015d92d6f907",name:"Schleifen",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:"local output_p6_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"e364df88-9898-4317-9dd4-71eced03218c",name:"Oberflächenbehandlung",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_wafer_key:"local output_wafer_key = '-';"},fragmentVarSnippets:{output_wafer_value:"local output_wafer_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"9952bbb5-ee12-47f5-9f8c-6ecc65e9978e",filter:"$.*",fromId:"5826fe10-c01b-486e-b213-9e33f30cf8c2",toId:"83447b3c-d063-4eb3-82df-d6ac7e5838f9"},{id:"98564d96-90e1-4bd7-88d1-7ea2fd0e3e6a",filter:"$",fromId:"83447b3c-d063-4eb3-82df-d6ac7e5838f9",toId:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9"},{id:"fd2ec139-fb41-47fe-801b-3bb11b1e8e25",filter:"$.*",fromId:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9",toId:"be938c8c-eb3f-4019-9248-d06df11f6668"},{id:"ae5dc3e8-7f0d-4f8a-84bd-4881cdfef516",filter:"$",fromId:"be938c8c-eb3f-4019-9248-d06df11f6668",toId:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60"},{id:"1dd9e330-42b4-4cfc-a172-e17023e63f43",filter:"$.*",fromId:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60",toId:"7da089da-d214-432c-a8fd-6ab38081843b"},{id:"da9e1ee2-3c85-4829-890c-ebdc01a38a4e",filter:"$",fromId:"7da089da-d214-432c-a8fd-6ab38081843b",toId:"f5c8291f-8cb8-4f85-825a-33e170c20c11"},{id:"bb71cb17-306f-4249-8af8-b6fbd3f72196",filter:"$.*",fromId:"f5c8291f-8cb8-4f85-825a-33e170c20c11",toId:"425ec761-277c-4bc6-8b63-60e651b1223e"},{id:"3b591ef6-51bf-4910-add7-4a58d16cc052",filter:"$",fromId:"425ec761-277c-4bc6-8b63-60e651b1223e",toId:"f1205391-5230-47f3-b7ac-6615d1830898"},{id:"d9e4a496-a108-4cd5-a4e3-5613f1cac1fb",filter:"$.*",fromId:"f1205391-5230-47f3-b7ac-6615d1830898",toId:"3d887d06-6b5e-4733-b487-fb28393f995a"},{id:"19df2ab5-08d5-4766-915d-88fd58c604ad",filter:"$",fromId:"3d887d06-6b5e-4733-b487-fb28393f995a",toId:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c"},{id:"6830cef6-fba6-47ab-9e98-831a79189874",filter:"$.*",fromId:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c",toId:"9df90d66-8f44-4709-aa9e-015d92d6f907"},{id:"01d4e222-45b7-4b90-91fd-24fb2b4b3703",filter:"$",fromId:"9df90d66-8f44-4709-aa9e-015d92d6f907",toId:"825401fa-60cd-497d-927e-ccd110cbd236"},{id:"0aa216cb-2780-478a-bfe7-0b5767c073a6",filter:"$.*",fromId:"825401fa-60cd-497d-927e-ccd110cbd236",toId:"e364df88-9898-4317-9dd4-71eced03218c"},{id:"3414b4ea-d6c5-431f-ad59-3f6a4cdc8c04",filter:"$",fromId:"e364df88-9898-4317-9dd4-71eced03218c",toId:"8be9e972-2eba-4766-8af4-1d5e18f2f0d3"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:300,y:264},angle:0,id:"83447b3c-d063-4eb3-82df-d6ac7e5838f9",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Siliziumpulver einschmelzen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:648,y:264},angle:0,id:"be938c8c-eb3f-4019-9248-d06df11f6668",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Reinigen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1032,y:264},angle:0,id:"7da089da-d214-432c-a8fd-6ab38081843b",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Polysilizium einschmelzen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1272,y:396},angle:0,id:"425ec761-277c-4bc6-8b63-60e651b1223e",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"Czochralski-Verfahren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1032,y:516},angle:0,id:"3d887d06-6b5e-4733-b487-fb28393f995a",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"Sägen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:648,y:516},angle:0,id:"9df90d66-8f44-4709-aa9e-015d92d6f907",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"Schleifen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:300,y:516},angle:0,id:"e364df88-9898-4317-9dd4-71eced03218c",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"Oberflächenbehandlung"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:264},angle:0,tokens:1,id:"5826fe10-c01b-486e-b213-9e33f30cf8c2",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:504,y:264},angle:0,tokens:0,id:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:840,y:264},angle:0,tokens:0,id:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1296,y:264},angle:0,tokens:0,id:"f5c8291f-8cb8-4f85-825a-33e170c20c11",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1296,y:516},angle:0,tokens:0,id:"f1205391-5230-47f3-b7ac-6615d1830898",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:840,y:516},angle:0,tokens:0,id:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:504,y:516},angle:0,tokens:0,id:"825401fa-60cd-497d-927e-ccd110cbd236",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:516},angle:0,tokens:0,id:"8be9e972-2eba-4766-8af4-1d5e18f2f0d3",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Wafer"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"5826fe10-c01b-486e-b213-9e33f30cf8c2",selector:".root"},target:{id:"83447b3c-d063-4eb3-82df-d6ac7e5838f9",selector:".root"},id:"9952bbb5-ee12-47f5-9f8c-6ecc65e9978e",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"83447b3c-d063-4eb3-82df-d6ac7e5838f9",selector:".root"},target:{id:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9",selector:".root"},id:"98564d96-90e1-4bd7-88d1-7ea2fd0e3e6a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6b2916e9-3c05-4b3c-8f4d-469b81cb05a9",selector:".root"},target:{id:"be938c8c-eb3f-4019-9248-d06df11f6668",selector:".root"},id:"fd2ec139-fb41-47fe-801b-3bb11b1e8e25",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"be938c8c-eb3f-4019-9248-d06df11f6668",selector:".root"},target:{id:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60",selector:".root"},id:"ae5dc3e8-7f0d-4f8a-84bd-4881cdfef516",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d52d8bfb-4e9e-4e45-8487-6794fb4c9c60",selector:".root"},target:{id:"7da089da-d214-432c-a8fd-6ab38081843b",selector:".root"},id:"1dd9e330-42b4-4cfc-a172-e17023e63f43",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7da089da-d214-432c-a8fd-6ab38081843b",selector:".root"},target:{id:"f5c8291f-8cb8-4f85-825a-33e170c20c11",selector:".root"},id:"da9e1ee2-3c85-4829-890c-ebdc01a38a4e",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5c8291f-8cb8-4f85-825a-33e170c20c11",selector:".root"},target:{id:"425ec761-277c-4bc6-8b63-60e651b1223e",selector:".root"},id:"bb71cb17-306f-4249-8af8-b6fbd3f72196",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"425ec761-277c-4bc6-8b63-60e651b1223e",selector:".root"},target:{id:"f1205391-5230-47f3-b7ac-6615d1830898",selector:".root"},id:"3b591ef6-51bf-4910-add7-4a58d16cc052",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f1205391-5230-47f3-b7ac-6615d1830898",selector:".root"},target:{id:"3d887d06-6b5e-4733-b487-fb28393f995a",selector:".root"},id:"d9e4a496-a108-4cd5-a4e3-5613f1cac1fb",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3d887d06-6b5e-4733-b487-fb28393f995a",selector:".root"},target:{id:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c",selector:".root"},id:"19df2ab5-08d5-4766-915d-88fd58c604ad",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8d30c6c3-65d0-4485-a8cd-714ee0ba569c",selector:".root"},target:{id:"9df90d66-8f44-4709-aa9e-015d92d6f907",selector:".root"},id:"6830cef6-fba6-47ab-9e98-831a79189874",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9df90d66-8f44-4709-aa9e-015d92d6f907",selector:".root"},target:{id:"825401fa-60cd-497d-927e-ccd110cbd236",selector:".root"},id:"01d4e222-45b7-4b90-91fd-24fb2b4b3703",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"825401fa-60cd-497d-927e-ccd110cbd236",selector:".root"},target:{id:"e364df88-9898-4317-9dd4-71eced03218c",selector:".root"},id:"0aa216cb-2780-478a-bfe7-0b5767c073a6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e364df88-9898-4317-9dd4-71eced03218c",selector:".root"},target:{id:"8be9e972-2eba-4766-8af4-1d5e18f2f0d3",selector:".root"},id:"3414b4ea-d6c5-431f-ad59-3f6a4cdc8c04",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}}],f6t=[{id:"activity",title:"Aktivität",description:"Eine Transition stellt eine Aktivität (wie zum Beispiel 'Löten') in Ihrem Prozessmodell dar. Fügen Sie der Aktivität Input-Stellen (Kreise) vom Typ 'Scope 1 - Emissionen', 'Scope 2 - Emissionen' oder 'Scope 3 - Emissionen' zu, um die der Aktivität zuzuordnenden Treibhausgasemissionen zu erfassen. Über das Feld 'Allokation' können Sie die berechneten Gesamt-Emissionen prozentual skalieren.",keySnippet:"'-';",valueSnippet:"{ scope: 'control', ghgFactorUnit: 'kg CO2e / Stueck', ghgFactor: totalFootprint, amount: 1, unit: 'Stueck (Stueckzahl)', type: 'Primaerdaten', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (Gewicht)' then 0.000001 else if component.unit == 'g (Gewicht)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / Stueck oder kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / Stueck oder kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{Allokation:"100"}}],d6t=[{id:"start",externalInteraction:{type:"none"},schema:{type:"array",title:"Start",description:"Um Berechnungen durchführen zu können, muss das Prozessmodell am Anfang genau einen Knoten vom Typ 'Start' haben.",maxItems:1,items:{type:"object"}},marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}]},{id:"end",externalInteraction:{type:"push",url:"https://s3t.uber.space/footprints/"},schema:{type:"array",title:"Ende",description:"Das Prozessmodell sollte am Ende einen Knoten vom Typ 'Ende' haben. Wenn eine Berechung abgeschlossen wurde, und Daten im Knoten vorhanden sind, können Sie die Daten veröffentlichen und so in das Lieferketten-Verzeichnis laden.",maxItems:1,items:{type:"object"}},marking:[]},{id:"control",externalInteraction:{type:"none"},schema:{type:"array",title:"Kontrollfluss",description:"Um Berechnungen durchführen zu können, müssen Aktivitäten miteinander mit Knoten vom Typ 'Kontrollfluss' verbunden werden.",maxItems:1,items:{type:"object"}},marking:[]},{id:"scope1",externalInteraction:{type:"none"},schema:{type:"array",title:"Scope 1 - Emissionen",description:"Wählen Sie zunächst das betreffende <b>Treibhausgas</b> im Formular aus. Als <b>Maßeinheit</b> können Sie 'mg', 'g' oder 'kg' wählen. Über den <b>Skalierungsfaktor</b> können Sie die anzurechnende <b>Menge</b> skalieren. Wenn zum Beispiel die Hälfte der angegebenen Menge angerechnet werden soll, geben Sie den <b>Skalierungsfaktor</b> '0,5' an.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",title:"Scope",enum:[1],readOnly:!0},ghg:{type:"string",title:"Treibhausgas",enum:["NF3","SF6","CF4"],default:"NF3",description:"Wählen Sie das emittierte Treibhausgas aus."},unit:{type:"string",title:"Maßeinheit für Mengenangabe",enum:["mg","g","kg"],default:"g",description:"Wählen Sie die Maßeinheit aus, in der Sie die Menge angeben möchten."},amount:{type:"number",title:"Menge",description:"Mengenangabe in mg, g oder kg für das emittierte Treibhausgas."},scalingFactor:{type:"number",title:"Skalierungsfaktor",default:1,description:"Die angegebene Menge wird mit dem Skalierungsfaktor multipliziert."},type:{type:"string",enum:["Primaerdaten"],title:"Datentyp",readOnly:!0},note:{type:"string",title:"Notiz",description:"In diesem Feld können Sie Anmerkungen hinterlegen."}},required:["scope","ghg","unit","amount","scalingFactor","type"]}},marking:[{scope:1,amount:1,unit:"g",ghg:"NF3",scalingFactor:1,type:"Primaerdaten",pds:1,note:"test"}]},{id:"scope2",externalInteraction:{type:"none"},schema:{type:"array",title:"Scope 2 - Emissionen",description:"Wählen Sie zunächst eine <b>Maßeinheit</b> ('Wh' oder 'kWh') für den angegebenen <b>Energieverbrauch</b>. Der <b>Emissionsfaktor</b> gibt an, welche Menge an Treibhausgasen <i>pro kWh</i> mit der Erzeugung der bezogenen Energie verbunden sind. Als <b>Maßeinheit für den Emissionsfaktor</b> können Sie 'mg', 'g' oder 'kg' CO2e / kWh auswählen. Über den <b>Skalierungsfaktor</b> können Sie den anzurechnenden Energieverbrauch skalieren. Wenn zum Beispiel die Hälfte der angegebenen Menge angerechnet werden soll, geben Sie den <b>Skalierungsfaktor</b> '0,5' an.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",enum:[2],title:"Scope",readOnly:!0},unit:{type:"string",enum:["Wh","kWh"],default:"kWh",title:"Maßeinheit für Energieverbrauch",description:"Wählen Sie die Maßeinheit aus, in der Sie den Energieverbrauch angeben möchten."},amount:{type:"number",title:"Energieverbrauch",description:"Mengenangabe in Wh oder kWh für den Energieverbrauch."},ghgFactorUnit:{type:"string",enum:["mg CO2e / kWh","g CO2e / kWh","kg CO2e / kWh"],default:"kg CO2e / kWh",title:"Maßeinheit für Emissionsfaktor",description:"Wählen Sie die Maßeinheit aus, in der Sie den Emissionsfaktor angeben möchten."},ghgFactor:{type:"number",title:"Emissionsfaktor",description:"Angabe der Menge an emittierten Treibhausgasen in mg, g oder kg CO2e pro kWh."},scalingFactor:{type:"number",title:"Skalierungsfaktor",default:1,description:"Der angegebene Energieverbrauch wird mit dem Skalierungsfaktor multipliziert."},type:{type:"string",enum:["Primaerdaten"],title:"Datentyp",readOnly:!0},note:{type:"string",title:"Notiz",description:"In diesem Feld können Sie Anmerkungen hinterlegen."}},required:["scope","unit","amount","ghgFactorUnit","ghgFactor","scalingFactor","type"]}},marking:[{scope:2,unit:"kWh",amount:1,ghgFactorUnit:"kg CO2e / kWh",ghgFactor:1,scalingFactor:1,type:"Primaerdaten",pds:1,note:""}]},{id:"scope3-secondary",externalInteraction:{type:"none"},schema:{type:"array",title:"Scope 3 - Emissionen (Sekundärdaten)",description:"Wählen Sie zunächst die <b>Maßeinheit</b> (entweder 'Stückzahl' oder 'Gewicht' in mg, g oder kg) für die Angabe der Menge an Material oder Komponenten. Der <b>Emissionsfaktor</b> gibt an, welche Menge an Treibhausgasen mit der Produktion des Materials oder der Komponente verbunden sind. Die Angabe des Emissionsfaktors erfolgt immer <i>pro Stück oder kg</i>. Als <b>Maßeinheit für den Emissionsfaktor</b> können Sie 'mg', 'g' oder 'kg' CO2e / Stück oder kg auswählen. Über den <b>Skalierungsfaktor</b> können Sie die anzurechnende <b>Menge</b> skalieren. Wenn zum Beispiel die Hälfte der angegebenen Menge angerechnet werden soll, geben Sie den <b>Skalierungsfaktor</b> '0,5' an.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",enum:[3],readOnly:!0},unit:{type:"string",title:"Maßeinheit für Mengenangabe",enum:["mg (Gewicht)","g (Gewicht)","kg (Gewicht)","Stueck (Stueckzahl)"],description:"Wählen Sie die Maßeinheit aus, in der Sie die Menge an Material oder Komponenten angeben möchten."},amount:{type:"number",title:"Menge",description:"Mengenangabe in Gewicht (mg, g oder kg) oder als Stückzahl."},ghgFactorUnit:{type:"string",enum:["mg CO2e / Stueck oder kg","g CO2e / Stueck oder kg","kg CO2e / Stueck oder kg"],default:"kg CO2e / Stueck oder kg",title:"Maßeinheit für Emissionsfaktor",description:"Wählen Sie die Maßeinheit aus, in der Sie den Emissionsfaktor angeben möchten."},ghgFactor:{type:"number",title:"Emissionsfaktor",description:"Angabe der Menge an emittierten Treibhausgasen in mg, g oder kg CO2e / Stück oder kg."},scalingFactor:{type:"number",title:"Skalierungsfaktor",default:1,description:"Die angegebene Menge wird mit dem Skalierungsfaktor multipliziert."},type:{type:"string",enum:["Sekundaerdaten"],title:"Datentyp",readOnly:!0},note:{type:"string",title:"Notiz",description:"In diesem Feld können Sie Anmerkungen hinterlegen."}},required:["scope","unit","amount","ghgFactorUnit","ghgFactor","scalingFactor","type"]}},marking:[{scope:3,unit:"Stueck (Stueckzahl)",amount:1,ghgFactorUnit:"kg CO2e / Stueck oder kg",ghgFactor:1,scalingFactor:1,type:"Sekundaerdaten",pds:0,note:""}]},{id:"scope3-primary",externalInteraction:{type:"pull",url:"https://s3t.uber.space/footprints/",enforcedMarking:{scope:3,title:"scope3",scalingFactor:1,fromSupplyChain:!0,note:"loaded"}},schema:{type:"array",title:"Scope 3 - Emissionen (Primärdaten)",description:"Laden Sie Primärdaten von Ihren Lieferanten aus dem Lieferkettenverzeichnis. Nach dem Laden können Sie den von ihrem Lieferanten übermittelten <b>Emissionsfaktor</b> und <b>Primärdatenanteil</b> einsehen. Es wird angenommen, dass die Angaben zu Treibhausgasemission von Ihrem Lieferanten in <i>kg CO2e pro Stück</i> erfolgen. Sie können eine <b>Mengenangabe</b> als Stückzahl vornehmen und die angegebene Menge über einen <b>Skalierungsfaktor</b> skalieren. Wenn zum Beispiel die Hälfte der angegebenen Menge angerechnet werden soll, geben Sie den <b>Skalierungsfaktor</b> '0,5' an.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",title:"Scope",enum:[3],readOnly:!0},unit:{type:"string",title:"Mengeneinheit",enum:["Stueck (Stueckzahl)"],readOnly:!0},amount:{type:"number",title:"Menge",description:"Mengenangabe als Stückzahl."},ghgFactorUnit:{type:"string",enum:["kg CO2e / Stueck"],default:"kg CO2e / Stueck",title:"Maßeinheit für Emissionsfaktor",readOnly:!0},scalingFactor:{type:"number",title:"Skalierungsfaktor",default:1,description:"Die angegebene Menge wird mit dem Skalierungsfaktor multipliziert."},ghgFactor:{type:"number",title:"Emissionsfaktor",readOnly:!0},pds:{type:"number",title:"Primaerdatenanteil",readOnly:!0},note:{type:"string",title:"Notiz",description:"In diesem Feld können Sie Anmerkungen hinterlegen."}},required:["scope","unit","amount","ghgFactorUnit","ghgFactor","scalingFactor","pds"]}},marking:[]}],Gde={name:i6t,defaultUIAssistMode:o6t,defaultTransitionType:a6t,defaultPlaceType:s6t,allowAutoLayout:l6t,visualisationConfig:c6t,examples:u6t,transitionTypes:f6t,placeTypes:d6t},h6t="Illustratives Szenario",p6t="expert",m6t="simple",g6t="simple",b6t=!0,v6t={show:!0},y6t=[{id:"simple",title:"Einfach",description:"Transition, die einfache Marken verbraucht und erzeugt.",keySnippet:"'-';",valueSnippet:"{};",preface:"",guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}},{id:"instances",title:"Prozessinstanzen",description:"Transition, die Marken mit ProzessinstanzIDs verbraucht und erzeugt.",keySnippet:"'-';",valueSnippet:"input_values[0];",preface:"",guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}},{id:"instances-ghg",title:"Prozessinstanzen (Ökologische Nachhaltigkeitsanalyse)",description:"Transition, die Marken mit ProzessinstanzIDs und Informationen zu Treibhausgasemissionen verbraucht und erzeugt.",keySnippet:"'-';",valueSnippet:`instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`,preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}},{id:"instances-social-sustainability",title:"Prozessinstanzen (Soziale Nachhaltigkeitsanalyse)",description:"Transition, die Marken mit ProzessinstanzIDs und Informationen zu sozialen Nachhaltigkeitsauswirkungen verbraucht und erzeugt.",keySnippet:"'-';",valueSnippet:`instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`,preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}}],k6t=[{id:"simple",externalInteraction:{type:"none"},schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"}},marking:[]},{id:"instances",externalInteraction:{type:"none"},schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit Prozessinstanz-IDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}},marking:[]},{id:"instances-sustainability",externalInteraction:{type:"none"},schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]}},marking:[]},{id:"inventory",externalInteraction:{type:"none"},schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]}},marking:[]}],_6t=[{name:"Nachhaltigkeitsanalyse-Sozial",net:{typeData:{placeTypes:{"4876d2d5-014f-4206-af09-170d900b0acc":"instances-sustainability","1d43ff03-0740-4ce8-9fca-d6c459704a18":"instances-sustainability","58e67779-3f56-4819-9d47-4de2a1189d47":"instances-sustainability","4528501a-f423-4bef-acf6-1975ee7766cb":"instances-sustainability","499c4196-fac1-4280-b317-33dc927a3fed":"instances-sustainability","52641fb4-fcee-41be-b8f5-d8af3da3ac8d":"instances-sustainability","73573b72-5df0-4564-81e8-9d4d20d92712":"instances-sustainability","8ca9f3ce-ee02-4ced-b29e-952277fbf3d7":"simple","f5ae0fa5-acab-4e05-83fc-751379fef9e8":"instances-sustainability","772856ca-b248-42d4-870e-88cb29d13c78":"instances-sustainability","8ca9f3ce-ee01-4ced-b29e-952277fbf3d7":"instances-sustainability","22360929-87ca-4b40-8ff1-b5fc9bce77f0":"emissions-scope2","5e4737f9-e14f-4414-b556-fa97ac5b33ce":"inventory","3cfcc9c0-4e99-4add-bb16-6fa0bbf42978":"inventory","d2367fcf-09d5-47a1-8a22-1da880f7ebee":"emissions-scope2","7cc54764-c50e-45c9-80c8-0fad982c6dcb":"inventory","ed65430f-6db7-47ed-a33a-00f3b8e1cfb5":"inventory","9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c":"inventory","124b9b41-d677-4b17-9953-1e708f341943":"emissions-scope2","bb9cfc45-953c-4e0d-930d-e2a34c833935":"inventory","6acb76b6-3e03-4056-b32d-1c885da956f5":"inventory","b2841683-d07a-4480-a162-99bf0e73315a":"simple","ca2c2c3c-f44e-40ce-ac68-e8c1e15fd949":"simple","34129aac-ce86-40ff-8abe-516d0d8820d6":"simple","4d88a40c-8b6f-42cc-beb7-55577fb473f7":"inventory","4e0f81dc-ebdd-493c-a423-3e041143701e":"custom","766c9a50-7cd8-445c-98f7-5d83344b77ea":"custom","fe15d7b8-6252-4a85-9850-e70bdd5f64a3":"inventory","c326acc4-2df8-4ca5-aa96-3f073acac234":"custom","fbbdf700-160d-43f6-9880-4a9d01cd2106":"custom","01ae64d9-13f5-45c7-892a-80d8a656c321":"emissions-scope2","ee5397c5-cab3-4d74-a7d9-627c598b19a2":"inventory","6d53ef11-aa46-4f3c-81cf-45da906a4129":"inventory","341c3fe1-9570-4c00-b77d-9f14c3c51798":"inventory","c4c90bd8-a10e-44ab-a081-014eab7a2d28":"inventory","801a9262-02ca-4cf4-bd54-32d033c1dcac":"simple","3e798139-85d4-4d0f-8a10-5f579075d635":"inventory","157c51c3-a1cc-4b46-981c-8e37bc319c9a":"inventory","cf45d7d2-9bf2-46ef-886f-221615aa8251":"inventory","141f370b-67ed-4900-a3fe-8168fc8e716f":"inventory"},transitionTypes:{"8e754bc9-f9d1-4324-9838-6ea63048046f":"instances-social-sustainability","5c3f975e-950e-48bd-b168-bdd589dbd61f":"custom","ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c":"instances-social-sustainability","f2b5e259-e916-41bd-9eda-ed593f5db96b":"instances-social-sustainability","26b1c55e-a751-4c41-a00d-dbf268342c50":"instances-social-sustainability","1a064205-ba07-47e1-8c4f-8e95f398a484":"custom","1a524b1b-f347-4f08-9f43-9a2d0aac6a8e":"instances-social-sustainability","ff42c022-b73e-4fa2-8b9f-fbe84e514647":"instances-social-sustainability","4d4cc127-90e2-4478-abe8-42f258562e43":"instances-social-sustainability"}},netData:{places:[{id:"4876d2d5-014f-4206-af09-170d900b0acc",name:"p0",marking:[{instanceID:"i0",impact:0},{instanceID:"i1",impact:0}],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"4876d2d5-014f-4206-af09-170d900b0acc"}},{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",name:"p1",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"1d43ff03-0740-4ce8-9fca-d6c459704a18"}},{id:"58e67779-3f56-4819-9d47-4de2a1189d47",name:"p3",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"58e67779-3f56-4819-9d47-4de2a1189d47"}},{id:"4528501a-f423-4bef-acf6-1975ee7766cb",name:"p2",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"4528501a-f423-4bef-acf6-1975ee7766cb"}},{id:"499c4196-fac1-4280-b317-33dc927a3fed",name:"p4",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"499c4196-fac1-4280-b317-33dc927a3fed"}},{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",name:"p7",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"}},{id:"73573b72-5df0-4564-81e8-9d4d20d92712",name:"p5",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"73573b72-5df0-4564-81e8-9d4d20d92712"}},{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",name:"p6",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"}},{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",name:"p8",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"}},{id:"772856ca-b248-42d4-870e-88cb29d13c78",name:"p9",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}},{id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",name:"Arbeitsleistung Produktion",marking:[{amount:.083,impactFactor:106e-7,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce"}},{id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978"}},{id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb"}},{id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",name:"Arbeitsleistung Transport",marking:[{amount:3.5,impactFactor:18e-6,allocationFactor:1e-4,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5"}},{id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c"}},{id:"bb9cfc45-953c-4e0d-930d-e2a34c833935",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"bb9cfc45-953c-4e0d-930d-e2a34c833935"}},{id:"6acb76b6-3e03-4056-b32d-1c885da956f5",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"6acb76b6-3e03-4056-b32d-1c885da956f5"}},{id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7"}},{id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",name:"Arbeitsleistung Büro",marking:[{amount:.017,impactFactor:874e-8,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3"}},{id:"ee5397c5-cab3-4d74-a7d9-627c598b19a2",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:.00450133,allocationFactor:585206e-10,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"ee5397c5-cab3-4d74-a7d9-627c598b19a2"}},{id:"6d53ef11-aa46-4f3c-81cf-45da906a4129",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:.00450133,allocationFactor:585206e-10,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"6d53ef11-aa46-4f3c-81cf-45da906a4129"}},{id:"341c3fe1-9570-4c00-b77d-9f14c3c51798",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:.00450133,allocationFactor:585206e-10,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"341c3fe1-9570-4c00-b77d-9f14c3c51798"}},{id:"c4c90bd8-a10e-44ab-a081-014eab7a2d28",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:.00450133,allocationFactor:585206e-10,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"c4c90bd8-a10e-44ab-a081-014eab7a2d28"}},{id:"3e798139-85d4-4d0f-8a10-5f579075d635",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:.00450133,allocationFactor:585206e-10,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"3e798139-85d4-4d0f-8a10-5f579075d635"}},{id:"157c51c3-a1cc-4b46-981c-8e37bc319c9a",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:.00450133,allocationFactor:585206e-10,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"157c51c3-a1cc-4b46-981c-8e37bc319c9a"}},{id:"cf45d7d2-9bf2-46ef-886f-221615aa8251",name:"Artikel Scope 1",marking:[{amount:1,impactFactor:8798e-10,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"cf45d7d2-9bf2-46ef-886f-221615aa8251"}},{id:"141f370b-67ed-4900-a3fe-8168fc8e716f",name:"Artikel Scope 3",marking:[{amount:1,impactFactor:26342053239799996e-23,allocationFactor:1,scope:1}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"141f370b-67ed-4900-a3fe-8168fc8e716f"}}],transitions:[{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",name:"t0: Verfügbarkeit prüfen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:`local output_p1_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",name:"t4: Versand vorbereiten",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 2;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p4_value:`local output_p4_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`,output_p7_value:`local output_p7_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",name:"t1: Produktion durchführen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:`local output_p3_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",name:"t2: Artikel reservieren",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:`local output_p2_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",name:"t3: Artikel aus Lager holen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:`local output_p3_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",name:"t8: Verkaufsprozess abschließen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"input_p6_value.instanceID == input_p8_value.instanceID",customVariables:{},keyVarSnippets:{output_p9_key:"local output_p9_key = '-';"},fragmentVarSnippets:{output_p9_value:`local output_p9_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",name:"t6: Rechnung verschicken",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:`local output_p6_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",name:"t5: Rechnung stellen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:`local output_p5_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"4d4cc127-90e2-4478-abe8-42f258562e43",name:"t7: Transportieren",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'Arbeitsunfaelle',
    'description': 'Gesundheit und Arbeitssicherheit (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p8_key:"local output_p8_key = '-';"},fragmentVarSnippets:{output_p8_value:`local output_p8_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}}],arcs:[{id:"dbf968cc-fcf7-440c-bf35-471a230c7584",filter:"$.*",fromId:"4876d2d5-014f-4206-af09-170d900b0acc",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",filter:"$",fromId:"8e754bc9-f9d1-4324-9838-6ea63048046f",toId:"1d43ff03-0740-4ce8-9fca-d6c459704a18"},{id:"ebe47cb1-5fad-4656-9064-13164107019f",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",filter:"$",fromId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"},{id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",filter:"$.*",fromId:"58e67779-3f56-4819-9d47-4de2a1189d47",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"d342db48-dab4-4660-8847-97c73f142b83",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"499c4196-fac1-4280-b317-33dc927a3fed"},{id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",filter:"$.*",fromId:"499c4196-fac1-4280-b317-33dc927a3fed",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"16cd8671-29d6-439b-bda2-c804665b8671",filter:"$",fromId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",toId:"73573b72-5df0-4564-81e8-9d4d20d92712"},{id:"e60292b6-5900-4d31-bd65-f85de6109a3f",filter:"$.*",fromId:"73573b72-5df0-4564-81e8-9d4d20d92712",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"8fda0a53-608d-4565-90a1-d427dccabeeb",filter:"$",fromId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",toId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"},{id:"14655dd5-456c-40aa-b0a2-9113005c7906",filter:"$.*",fromId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",filter:"$",fromId:"1a064205-ba07-47e1-8c4f-8e95f398a484",toId:"772856ca-b248-42d4-870e-88cb29d13c78"},{id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"},{id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",filter:"$.*",fromId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",toId:"4d4cc127-90e2-4478-abe8-42f258562e43"},{id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",filter:"$",fromId:"4d4cc127-90e2-4478-abe8-42f258562e43",toId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"},{id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",filter:"$.*",fromId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"3525627a-9d60-4727-8ded-65f859997c45",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",filter:"$",fromId:"f2b5e259-e916-41bd-9eda-ed593f5db96b",toId:"4528501a-f423-4bef-acf6-1975ee7766cb"},{id:"53a48601-e158-417e-bc80-d73899a90156",filter:"$.*",fromId:"4528501a-f423-4bef-acf6-1975ee7766cb",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"c34917fe-888d-4404-86f8-18413c4281fe",filter:"$",fromId:"26b1c55e-a751-4c41-a00d-dbf268342c50",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"},{id:"b40f5521-d3fc-4c18-a252-81f16608977e",filter:"$.*",fromId:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"5c42e3fe-28c9-4362-a784-93ad0dc2edd0",filter:"$.*",fromId:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"b566ccf0-326a-4e0f-9063-97a4175a368d",filter:"$.*",fromId:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"bf85e032-2d2a-4e9c-a139-edcf76c4125b",filter:"$.*",fromId:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",toId:"4d4cc127-90e2-4478-abe8-42f258562e43"},{id:"a92776c2-be2b-4153-8b41-f01c2662e464",filter:"$.*",fromId:"bb9cfc45-953c-4e0d-930d-e2a34c833935",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"23533fac-384e-4dac-ae7a-babe5f892895",filter:"$.*",fromId:"6acb76b6-3e03-4056-b32d-1c885da956f5",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"b9dc6a8b-6474-4f4d-bdec-02779707ca56",filter:"$.*",fromId:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"09e9aa54-7118-46b5-80d5-482edf655ae7",filter:"$.*",fromId:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"79fa0305-9adf-43ec-a002-5eafcca63155",filter:"$.*",fromId:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"38702339-fa77-4c72-9cf7-bcbfd0c7cea0",filter:"$.*",fromId:"ee5397c5-cab3-4d74-a7d9-627c598b19a2",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"83167ddc-04b4-41bd-94fa-1508712c9a70",filter:"$.*",fromId:"6d53ef11-aa46-4f3c-81cf-45da906a4129",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"cc9f4a0e-17a1-40a5-b069-3f3208f8c132",filter:"$.*",fromId:"341c3fe1-9570-4c00-b77d-9f14c3c51798",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"cf35c352-2d2f-4796-addf-381e5f58c148",filter:"$.*",fromId:"c4c90bd8-a10e-44ab-a081-014eab7a2d28",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"d3e3e1a7-15af-4161-bff5-36b6cd43443e",filter:"$.*",fromId:"3e798139-85d4-4d0f-8a10-5f579075d635",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"1d179874-112f-4bf7-97d1-998a541c0365",filter:"$.*",fromId:"157c51c3-a1cc-4b46-981c-8e37bc319c9a",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"d98ca297-164c-44e6-bf5c-c39aac3993d5",filter:"$.*",fromId:"cf45d7d2-9bf2-46ef-886f-221615aa8251",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"344573a0-38b0-4f9f-a666-a9591687e610",filter:"$.*",fromId:"141f370b-67ed-4900-a3fe-8168fc8e716f",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:276},angle:0,id:"8e754bc9-f9d1-4324-9838-6ea63048046f",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"t0: Verfügbarkeit prüfen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:636},angle:0,id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"t4: Versand vorbereiten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:144},angle:0,id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"t1: Produktion durchführen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:372},angle:0,id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"t2: Artikel reservieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:372},angle:0,id:"26b1c55e-a751-4c41-a00d-dbf268342c50",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"t3: Artikel aus Lager holen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:624},angle:0,id:"1a064205-ba07-47e1-8c4f-8e95f398a484",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"t8: Verkaufsprozess abschließen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:540},angle:0,id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"t6: Rechnung verschicken"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:540},angle:0,id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"t5: Rechnung stellen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:732},angle:0,id:"4d4cc127-90e2-4478-abe8-42f258562e43",jsonnetsType:"transition",z:9,attrs:{".label":{fill:"#7a7e9b",text:"t7: Transportieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:276},angle:0,tokens:2,id:"4876d2d5-014f-4206-af09-170d900b0acc",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p0"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:480,y:276},angle:0,tokens:0,id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1080,y:264},angle:0,tokens:0,id:"58e67779-3f56-4819-9d47-4de2a1189d47",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:372},angle:0,tokens:0,id:"4528501a-f423-4bef-acf6-1975ee7766cb",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:540},angle:0,tokens:0,id:"499c4196-fac1-4280-b317-33dc927a3fed",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:732},angle:0,tokens:0,id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:540},angle:0,tokens:0,id:"73573b72-5df0-4564-81e8-9d4d20d92712",jsonnetsType:"place",z:16,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:456,y:540},angle:0,tokens:0,id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",jsonnetsType:"place",z:17,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:444,y:732},angle:0,tokens:0,id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",jsonnetsType:"place",z:18,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p8"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:624},angle:0,tokens:0,id:"772856ca-b248-42d4-870e-88cb29d13c78",jsonnetsType:"place",z:19,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p9"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:660,y:36},angle:0,tokens:1,id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",jsonnetsType:"place",z:20,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Produktion"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:672,y:456},angle:0,tokens:1,id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",jsonnetsType:"place",z:21,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1392,y:564},angle:0,tokens:1,id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",jsonnetsType:"place",z:22,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:828},angle:0,tokens:1,id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",jsonnetsType:"place",z:23,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Transport"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:636},angle:0,tokens:1,id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",jsonnetsType:"place",z:24,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:204,y:504},angle:0,tokens:1,id:"bb9cfc45-953c-4e0d-930d-e2a34c833935",jsonnetsType:"place",z:25,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:852,y:456},angle:0,tokens:1,id:"6acb76b6-3e03-4056-b32d-1c885da956f5",jsonnetsType:"place",z:26,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:240,y:144},angle:0,tokens:1,id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",jsonnetsType:"place",z:27,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:924,y:636},angle:0,tokens:1,id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",jsonnetsType:"place",z:28,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Arbeitsleistung Büro"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:408,y:144},angle:0,tokens:1,id:"ee5397c5-cab3-4d74-a7d9-627c598b19a2",jsonnetsType:"place",z:29,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:852,y:36},angle:0,tokens:1,id:"6d53ef11-aa46-4f3c-81cf-45da906a4129",jsonnetsType:"place",z:30,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:516,y:456},angle:0,tokens:1,id:"341c3fe1-9570-4c00-b77d-9f14c3c51798",jsonnetsType:"place",z:31,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1392,y:708},angle:0,tokens:1,id:"c4c90bd8-a10e-44ab-a081-014eab7a2d28",jsonnetsType:"place",z:32,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:636},angle:0,tokens:1,id:"3e798139-85d4-4d0f-8a10-5f579075d635",jsonnetsType:"place",z:33,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:372,y:504},angle:0,tokens:1,id:"157c51c3-a1cc-4b46-981c-8e37bc319c9a",jsonnetsType:"place",z:34,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1020,y:456},angle:0,tokens:1,id:"cf45d7d2-9bf2-46ef-886f-221615aa8251",jsonnetsType:"place",z:35,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Artikel Scope 1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1152,y:456},angle:0,tokens:1,id:"141f370b-67ed-4900-a3fe-8168fc8e716f",jsonnetsType:"place",z:36,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Artikel Scope 3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4876d2d5-014f-4206-af09-170d900b0acc",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"dbf968cc-fcf7-440c-bf35-471a230c7584",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},target:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"ebe47cb1-5fad-4656-9064-13164107019f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:40,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:41,vertices:[{x:1248,y:289}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},id:"d342db48-dab4-4660-8847-97c73f142b83",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:42,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:43,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},target:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},id:"16cd8671-29d6-439b-bda2-c804665b8671",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:44,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"e60292b6-5900-4d31-bd65-f85de6109a3f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:45,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},target:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},id:"8fda0a53-608d-4565-90a1-d427dccabeeb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:46,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"14655dd5-456c-40aa-b0a2-9113005c7906",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:47,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},target:{id:"772856ca-b248-42d4-870e-88cb29d13c78",selector:".root"},id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:48,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:49,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},target:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:50,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},target:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:51,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:52,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"3525627a-9d60-4727-8ded-65f859997c45",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:53,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},target:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:54,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"53a48601-e158-417e-bc80-d73899a90156",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:55,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"c34917fe-888d-4404-86f8-18413c4281fe",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:56,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"b40f5521-d3fc-4c18-a252-81f16608977e",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:57,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"5c42e3fe-28c9-4362-a784-93ad0dc2edd0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:58,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"b566ccf0-326a-4e0f-9063-97a4175a368d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:59,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",selector:".root"},target:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},id:"bf85e032-2d2a-4e9c-a139-edcf76c4125b",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:60,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bb9cfc45-953c-4e0d-930d-e2a34c833935",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"a92776c2-be2b-4153-8b41-f01c2662e464",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:61,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6acb76b6-3e03-4056-b32d-1c885da956f5",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"23533fac-384e-4dac-ae7a-babe5f892895",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:62,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"b9dc6a8b-6474-4f4d-bdec-02779707ca56",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:63,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"09e9aa54-7118-46b5-80d5-482edf655ae7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:64,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"79fa0305-9adf-43ec-a002-5eafcca63155",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:65,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ee5397c5-cab3-4d74-a7d9-627c598b19a2",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"38702339-fa77-4c72-9cf7-bcbfd0c7cea0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:66,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6d53ef11-aa46-4f3c-81cf-45da906a4129",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"83167ddc-04b4-41bd-94fa-1508712c9a70",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:67,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"341c3fe1-9570-4c00-b77d-9f14c3c51798",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"cc9f4a0e-17a1-40a5-b069-3f3208f8c132",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:68,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c4c90bd8-a10e-44ab-a081-014eab7a2d28",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"cf35c352-2d2f-4796-addf-381e5f58c148",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:69,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3e798139-85d4-4d0f-8a10-5f579075d635",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"d3e3e1a7-15af-4161-bff5-36b6cd43443e",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:70,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"157c51c3-a1cc-4b46-981c-8e37bc319c9a",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"1d179874-112f-4bf7-97d1-998a541c0365",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:71,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf45d7d2-9bf2-46ef-886f-221615aa8251",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"d98ca297-164c-44e6-bf5c-c39aac3993d5",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:72,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"141f370b-67ed-4900-a3fe-8168fc8e716f",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"344573a0-38b0-4f9f-a666-a9591687e610",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:73,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Nachhaltigkeitsanalyse-THG",net:{typeData:{placeTypes:{"4876d2d5-014f-4206-af09-170d900b0acc":"instances-sustainability","1d43ff03-0740-4ce8-9fca-d6c459704a18":"instances-sustainability","58e67779-3f56-4819-9d47-4de2a1189d47":"instances-sustainability","4528501a-f423-4bef-acf6-1975ee7766cb":"instances-sustainability","499c4196-fac1-4280-b317-33dc927a3fed":"instances-sustainability","52641fb4-fcee-41be-b8f5-d8af3da3ac8d":"instances-sustainability","73573b72-5df0-4564-81e8-9d4d20d92712":"instances-sustainability","8ca9f3ce-ee02-4ced-b29e-952277fbf3d7":"simple","f5ae0fa5-acab-4e05-83fc-751379fef9e8":"instances-sustainability","772856ca-b248-42d4-870e-88cb29d13c78":"instances-sustainability","8ca9f3ce-ee01-4ced-b29e-952277fbf3d7":"instances-sustainability","22360929-87ca-4b40-8ff1-b5fc9bce77f0":"inventory","5e4737f9-e14f-4414-b556-fa97ac5b33ce":"inventory","3cfcc9c0-4e99-4add-bb16-6fa0bbf42978":"inventory","d2367fcf-09d5-47a1-8a22-1da880f7ebee":"emissions-scope2","7cc54764-c50e-45c9-80c8-0fad982c6dcb":"inventory","ed65430f-6db7-47ed-a33a-00f3b8e1cfb5":"inventory","9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c":"inventory","124b9b41-d677-4b17-9953-1e708f341943":"inventory","bb9cfc45-953c-4e0d-930d-e2a34c833935":"inventory","6acb76b6-3e03-4056-b32d-1c885da956f5":"inventory","b2841683-d07a-4480-a162-99bf0e73315a":"simple","ca2c2c3c-f44e-40ce-ac68-e8c1e15fd949":"simple","34129aac-ce86-40ff-8abe-516d0d8820d6":"simple","4d88a40c-8b6f-42cc-beb7-55577fb473f7":"inventory","4e0f81dc-ebdd-493c-a423-3e041143701e":"inventory","766c9a50-7cd8-445c-98f7-5d83344b77ea":"inventory","fe15d7b8-6252-4a85-9850-e70bdd5f64a3":"inventory","c326acc4-2df8-4ca5-aa96-3f073acac234":"inventory","fbbdf700-160d-43f6-9880-4a9d01cd2106":"inventory","01ae64d9-13f5-45c7-892a-80d8a656c321":"inventory","4f409ac9-20e1-48d3-a2cd-9e1b1b363b21":"inventory"},transitionTypes:{"8e754bc9-f9d1-4324-9838-6ea63048046f":"instances-ghg","5c3f975e-950e-48bd-b168-bdd589dbd61f":"custom","ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c":"instances-ghg","f2b5e259-e916-41bd-9eda-ed593f5db96b":"instances-ghg","26b1c55e-a751-4c41-a00d-dbf268342c50":"instances-ghg","1a064205-ba07-47e1-8c4f-8e95f398a484":"custom","1a524b1b-f347-4f08-9f43-9a2d0aac6a8e":"instances-ghg","ff42c022-b73e-4fa2-8b9f-fbe84e514647":"instances-ghg","4d4cc127-90e2-4478-abe8-42f258562e43":"instances-ghg"}},netData:{places:[{id:"4876d2d5-014f-4206-af09-170d900b0acc",name:"p0",marking:[{instanceID:"i0",impact:0},{instanceID:"i1",impact:0}],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"4876d2d5-014f-4206-af09-170d900b0acc"}},{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",name:"p1",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"1d43ff03-0740-4ce8-9fca-d6c459704a18"}},{id:"58e67779-3f56-4819-9d47-4de2a1189d47",name:"p3",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"58e67779-3f56-4819-9d47-4de2a1189d47"}},{id:"4528501a-f423-4bef-acf6-1975ee7766cb",name:"p2",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"4528501a-f423-4bef-acf6-1975ee7766cb"}},{id:"499c4196-fac1-4280-b317-33dc927a3fed",name:"p4",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"499c4196-fac1-4280-b317-33dc927a3fed"}},{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",name:"p7",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"}},{id:"73573b72-5df0-4564-81e8-9d4d20d92712",name:"p5",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"73573b72-5df0-4564-81e8-9d4d20d92712"}},{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",name:"p6",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"}},{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",name:"p8",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"}},{id:"772856ca-b248-42d4-870e-88cb29d13c78",name:"p9",marking:[],schema:{title:"Prozessinstanzen (Nachhaltigkeitsanalyse)",description:"Eine Stelle, die Prozessinstanzmarken mit einem Indikatorwert für Nachhaltigkeitsauswirkungen speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"},impact:{type:"number"}},required:["instanceID","impact"]},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}},{id:"22360929-87ca-4b40-8ff1-b5fc9bce77f0",name:"Energie IT",marking:[{amount:556e-6,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"22360929-87ca-4b40-8ff1-b5fc9bce77f0"}},{id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",name:"Energie Produktion",marking:[{amount:.24,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce"}},{id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",name:"Energie IT",marking:[{amount:556e-6,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978"}},{id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",name:"Energie IT",marking:[{amount:556e-6,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb"}},{id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",name:"Transportleistung",marking:[{amount:.03,impactFactor:.0532,allocationFactor:1,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5"}},{id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",name:"Energie IT",marking:[{amount:556e-6,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c"}},{id:"124b9b41-d677-4b17-9953-1e708f341943",name:"Energie IT",marking:[{amount:556e-6,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"124b9b41-d677-4b17-9953-1e708f341943"}},{id:"bb9cfc45-953c-4e0d-930d-e2a34c833935",name:"Energie IT",marking:[{amount:556e-6,impactFactor:.38,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"bb9cfc45-953c-4e0d-930d-e2a34c833935"}},{id:"6acb76b6-3e03-4056-b32d-1c885da956f5",name:"Lager Scope 2",marking:[{amount:1,impactFactor:.0912,allocationFactor:1,scope:2}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"6acb76b6-3e03-4056-b32d-1c885da956f5"}},{id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:800.3,allocationFactor:12e-8,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7"}},{id:"4e0f81dc-ebdd-493c-a423-3e041143701e",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:800.3,allocationFactor:12e-8,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"4e0f81dc-ebdd-493c-a423-3e041143701e"}},{id:"766c9a50-7cd8-445c-98f7-5d83344b77ea",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:800.3,allocationFactor:12e-8,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"766c9a50-7cd8-445c-98f7-5d83344b77ea"}},{id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:800.3,allocationFactor:12e-8,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3"}},{id:"c326acc4-2df8-4ca5-aa96-3f073acac234",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:800.3,allocationFactor:12e-8,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"c326acc4-2df8-4ca5-aa96-3f073acac234"}},{id:"fbbdf700-160d-43f6-9880-4a9d01cd2106",name:"IT-Infrastruktur",marking:[{amount:1,impactFactor:800.3,allocationFactor:12e-8,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"fbbdf700-160d-43f6-9880-4a9d01cd2106"}},{id:"01ae64d9-13f5-45c7-892a-80d8a656c321",name:"Material",marking:[{amount:.01,impactFactor:6.52,allocationFactor:1,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"01ae64d9-13f5-45c7-892a-80d8a656c321"}},{id:"4f409ac9-20e1-48d3-a2cd-9e1b1b363b21",name:"Lager Scope 3",marking:[{amount:1,impactFactor:.0652,allocationFactor:1,scope:3}],schema:{title:"Nachhaltigkeitsauswirkungen",description:"Eine Stelle, Angaben zu Nachhaltigkeitsauswirkungen einer Aktivität speichert.",type:"array",items:{type:"object",properties:{amount:{type:"number"},impactFactor:{type:"number"},allocationFactor:{type:"number"},scope:{type:"number",enum:[1,2,3]}},required:["amount","impactFactor","allocationFactor","scope"]},$id:"4f409ac9-20e1-48d3-a2cd-9e1b1b363b21"}}],transitions:[{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",name:"t0: Verfügbarkeit prüfen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:`local output_p1_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",name:"t4: Versand vorbereiten",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 2;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p4_value:`local output_p4_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`,output_p7_value:`local output_p7_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",name:"t1: Produktion durchführen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:`local output_p3_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",name:"t2: Artikel reservieren",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:`local output_p2_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",name:"t3: Artikel aus Lager holen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:`local output_p3_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",name:"t8: Verkaufsprozess abschließen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"input_p6_value.instanceID == input_p8_value.instanceID",customVariables:{},keyVarSnippets:{output_p9_key:"local output_p9_key = '-';"},fragmentVarSnippets:{output_p9_value:`local output_p9_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",name:"t6: Rechnung verschicken",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:`local output_p6_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",name:"t5: Rechnung stellen",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:`local output_p5_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}},{id:"4d4cc127-90e2-4478-abe8-42f258562e43",name:"t7: Transportieren",preface:`// general function library (these are reimplementations of missing standard functions)
 
local sumRecursive(arr, n) =
  if (n <= 0) then 0
  else sumRecursive(arr, n-1) + arr[n-1];
local sum(arr) = sumRecursive(arr, std.length(arr));
 
// helper functions and variables
 
local isInstanceToken(token) = std.objectHas(token, 'instanceID');
local instanceToken = std.filter(isInstanceToken, input_values)[0];
 
local isScope(scope, token) = std.objectHas(token, 'scope') && token.scope == scope;
 
// calculation of impact value and contributions
 
local outputAllocation = 1;
local calculateContribution(token) = 
  if isInstanceToken(token) then token.impact 
  else token.amount * token.impactFactor * token.allocationFactor;
local contributions = std.map(calculateContribution, input_values);
local impact = sum(contributions) / outputAllocation;
 
// assemble data for visualisations and indicators
 
local applyOutputAllocation(contribution) = { name: contribution.name, value: contribution.value / outputAllocation};
local assembleScope1Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][0]['children'])
  else if isScope(1,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope1ContributionArrays = std.mapWithIndex(assembleScope1Contributions, input_values);
local scope1Contributions = std.flattenArrays(scope1ContributionArrays);
 
local assembleScope2Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][1]['children'])
  else if isScope(2,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope2ContributionArrays = std.mapWithIndex(assembleScope2Contributions, input_values);
local scope2Contributions = std.flattenArrays(scope2ContributionArrays);
 
local assembleScope3Contributions(index, token) = 
  if std.objectHas(token, '$visualisations') then
    std.map(applyOutputAllocation,token['$visualisations'][1]['value'][2]['children'])
  else if isScope(3,token) then
    [{ name: input_names[index], value: contributions[index] / outputAllocation }]
  else [];
local scope3ContributionArrays = std.mapWithIndex(assembleScope3Contributions, input_values);
local scope3Contributions = std.flattenArrays(scope3ContributionArrays);
 
local visualisations =  [
  {
    'type': 'number',
    'unit': 'kg CO2e',
    'description': 'THG-Fussabdruck',
    'value': impact
  },
  {
    'type': 'sunburst',
    'unit': 'kg CO2e',
    'description': 'THG-Beiträge (Sunburst)',
    'value': [
    {
      'name': 'Scope 1',
      'children': scope1Contributions
    },
    {
      'name': 'Scope 2',
      'children': scope2Contributions
    },
    {
    'name': 'Scope 3',
    'children': scope3Contributions
    }]
  }
];`,guard:"true",customVariables:{},keyVarSnippets:{output_p8_key:"local output_p8_key = '-';"},fragmentVarSnippets:{output_p8_value:`local output_p8_value = instanceToken + {
'impact': impact,
'$visualisations': visualisations
};`}}],arcs:[{id:"dbf968cc-fcf7-440c-bf35-471a230c7584",filter:"$.*",fromId:"4876d2d5-014f-4206-af09-170d900b0acc",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",filter:"$",fromId:"8e754bc9-f9d1-4324-9838-6ea63048046f",toId:"1d43ff03-0740-4ce8-9fca-d6c459704a18"},{id:"ebe47cb1-5fad-4656-9064-13164107019f",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",filter:"$",fromId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"},{id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",filter:"$.*",fromId:"58e67779-3f56-4819-9d47-4de2a1189d47",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"d342db48-dab4-4660-8847-97c73f142b83",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"499c4196-fac1-4280-b317-33dc927a3fed"},{id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",filter:"$.*",fromId:"499c4196-fac1-4280-b317-33dc927a3fed",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"16cd8671-29d6-439b-bda2-c804665b8671",filter:"$",fromId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",toId:"73573b72-5df0-4564-81e8-9d4d20d92712"},{id:"e60292b6-5900-4d31-bd65-f85de6109a3f",filter:"$.*",fromId:"73573b72-5df0-4564-81e8-9d4d20d92712",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"8fda0a53-608d-4565-90a1-d427dccabeeb",filter:"$",fromId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",toId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"},{id:"14655dd5-456c-40aa-b0a2-9113005c7906",filter:"$.*",fromId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",filter:"$",fromId:"1a064205-ba07-47e1-8c4f-8e95f398a484",toId:"772856ca-b248-42d4-870e-88cb29d13c78"},{id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"},{id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",filter:"$.*",fromId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",toId:"4d4cc127-90e2-4478-abe8-42f258562e43"},{id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",filter:"$",fromId:"4d4cc127-90e2-4478-abe8-42f258562e43",toId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"},{id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",filter:"$.*",fromId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"3525627a-9d60-4727-8ded-65f859997c45",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",filter:"$",fromId:"f2b5e259-e916-41bd-9eda-ed593f5db96b",toId:"4528501a-f423-4bef-acf6-1975ee7766cb"},{id:"53a48601-e158-417e-bc80-d73899a90156",filter:"$.*",fromId:"4528501a-f423-4bef-acf6-1975ee7766cb",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"c34917fe-888d-4404-86f8-18413c4281fe",filter:"$",fromId:"26b1c55e-a751-4c41-a00d-dbf268342c50",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"},{id:"77bcb9ad-4637-4a8d-ae96-1e3f602c3757",filter:"$.*",fromId:"22360929-87ca-4b40-8ff1-b5fc9bce77f0",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"b40f5521-d3fc-4c18-a252-81f16608977e",filter:"$.*",fromId:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"cd7bfae8-34bf-43dc-a00b-d82665722aa7",filter:"$.*",fromId:"124b9b41-d677-4b17-9953-1e708f341943",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"5c42e3fe-28c9-4362-a784-93ad0dc2edd0",filter:"$.*",fromId:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"b566ccf0-326a-4e0f-9063-97a4175a368d",filter:"$.*",fromId:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"bf85e032-2d2a-4e9c-a139-edcf76c4125b",filter:"$.*",fromId:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",toId:"4d4cc127-90e2-4478-abe8-42f258562e43"},{id:"a92776c2-be2b-4153-8b41-f01c2662e464",filter:"$.*",fromId:"bb9cfc45-953c-4e0d-930d-e2a34c833935",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"23533fac-384e-4dac-ae7a-babe5f892895",filter:"$.*",fromId:"6acb76b6-3e03-4056-b32d-1c885da956f5",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"b9dc6a8b-6474-4f4d-bdec-02779707ca56",filter:"$.*",fromId:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"09e9aa54-7118-46b5-80d5-482edf655ae7",filter:"$.*",fromId:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"3c73e0d0-f3ca-4aed-ae6d-d7ca1602a3aa",filter:"$.*",fromId:"4e0f81dc-ebdd-493c-a423-3e041143701e",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"e17d521e-e53f-4ee3-b579-b91664d1189e",filter:"$.*",fromId:"766c9a50-7cd8-445c-98f7-5d83344b77ea",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"79fa0305-9adf-43ec-a002-5eafcca63155",filter:"$.*",fromId:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"a9b58c49-0a61-41e1-b38c-58e98d251f03",filter:"$.*",fromId:"c326acc4-2df8-4ca5-aa96-3f073acac234",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"c0c7287f-969b-466f-8ca4-15b10593c972",filter:"$.*",fromId:"fbbdf700-160d-43f6-9880-4a9d01cd2106",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"c3d4cc24-efa6-4579-a84f-1b35f99bf8db",filter:"$.*",fromId:"01ae64d9-13f5-45c7-892a-80d8a656c321",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"fd792a2c-5b7f-4f07-8f44-94c72335901a",filter:"$.*",fromId:"4f409ac9-20e1-48d3-a2cd-9e1b1b363b21",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:276},angle:0,id:"8e754bc9-f9d1-4324-9838-6ea63048046f",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"t0: Verfügbarkeit prüfen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:636},angle:0,id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"t4: Versand vorbereiten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:144},angle:0,id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"t1: Produktion durchführen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:372},angle:0,id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"t2: Artikel reservieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:372},angle:0,id:"26b1c55e-a751-4c41-a00d-dbf268342c50",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"t3: Artikel aus Lager holen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:624},angle:0,id:"1a064205-ba07-47e1-8c4f-8e95f398a484",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"t8: Verkaufsprozess abschließen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:540},angle:0,id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"t6: Rechnung verschicken"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:540},angle:0,id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"t5: Rechnung stellen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:732},angle:0,id:"4d4cc127-90e2-4478-abe8-42f258562e43",jsonnetsType:"transition",z:9,attrs:{".label":{fill:"#7a7e9b",text:"t7: Transportieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:276},angle:0,tokens:2,id:"4876d2d5-014f-4206-af09-170d900b0acc",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p0"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:480,y:276},angle:0,tokens:0,id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1080,y:264},angle:0,tokens:0,id:"58e67779-3f56-4819-9d47-4de2a1189d47",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:372},angle:0,tokens:0,id:"4528501a-f423-4bef-acf6-1975ee7766cb",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:540},angle:0,tokens:0,id:"499c4196-fac1-4280-b317-33dc927a3fed",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:732},angle:0,tokens:0,id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:540},angle:0,tokens:0,id:"73573b72-5df0-4564-81e8-9d4d20d92712",jsonnetsType:"place",z:16,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:456,y:540},angle:0,tokens:0,id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",jsonnetsType:"place",z:17,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:444,y:732},angle:0,tokens:0,id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",jsonnetsType:"place",z:18,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p8"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:624},angle:0,tokens:0,id:"772856ca-b248-42d4-870e-88cb29d13c78",jsonnetsType:"place",z:19,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p9"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:252,y:144},angle:0,tokens:1,id:"22360929-87ca-4b40-8ff1-b5fc9bce77f0",jsonnetsType:"place",z:20,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie IT"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:684,y:48},angle:0,tokens:1,id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",jsonnetsType:"place",z:21,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie Produktion"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:672,y:456},angle:0,tokens:1,id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",jsonnetsType:"place",z:22,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie IT"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1404,y:600},angle:0,tokens:1,id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",jsonnetsType:"place",z:23,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie IT"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:828},angle:0,tokens:1,id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",jsonnetsType:"place",z:24,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Transportleistung"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:660,y:636},angle:0,tokens:1,id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",jsonnetsType:"place",z:25,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie IT"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:864,y:636},angle:0,tokens:1,id:"124b9b41-d677-4b17-9953-1e708f341943",jsonnetsType:"place",z:26,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie IT"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:360,y:516},angle:0,tokens:1,id:"bb9cfc45-953c-4e0d-930d-e2a34c833935",jsonnetsType:"place",z:27,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Energie IT"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:864,y:456},angle:0,tokens:1,id:"6acb76b6-3e03-4056-b32d-1c885da956f5",jsonnetsType:"place",z:28,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Lager Scope 2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:384,y:144},angle:0,tokens:1,id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",jsonnetsType:"place",z:29,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:516,y:456},angle:0,tokens:1,id:"4e0f81dc-ebdd-493c-a423-3e041143701e",jsonnetsType:"place",z:30,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1404,y:708},angle:0,tokens:1,id:"766c9a50-7cd8-445c-98f7-5d83344b77ea",jsonnetsType:"place",z:31,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:984,y:636},angle:0,tokens:1,id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",jsonnetsType:"place",z:32,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:515,y:635},angle:0,tokens:1,id:"c326acc4-2df8-4ca5-aa96-3f073acac234",jsonnetsType:"place",z:33,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:228,y:516},angle:0,tokens:1,id:"fbbdf700-160d-43f6-9880-4a9d01cd2106",jsonnetsType:"place",z:34,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"IT-Infrastruktur"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:852,y:48},angle:0,tokens:1,id:"01ae64d9-13f5-45c7-892a-80d8a656c321",jsonnetsType:"place",z:35,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Material"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:996,y:456},angle:0,tokens:1,id:"4f409ac9-20e1-48d3-a2cd-9e1b1b363b21",jsonnetsType:"place",z:36,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Lager Scope 3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4876d2d5-014f-4206-af09-170d900b0acc",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"dbf968cc-fcf7-440c-bf35-471a230c7584",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},target:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"ebe47cb1-5fad-4656-9064-13164107019f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:40,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:41,vertices:[{x:1248,y:289}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},id:"d342db48-dab4-4660-8847-97c73f142b83",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:42,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:43,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},target:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},id:"16cd8671-29d6-439b-bda2-c804665b8671",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:44,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"e60292b6-5900-4d31-bd65-f85de6109a3f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:45,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},target:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},id:"8fda0a53-608d-4565-90a1-d427dccabeeb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:46,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"14655dd5-456c-40aa-b0a2-9113005c7906",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:47,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},target:{id:"772856ca-b248-42d4-870e-88cb29d13c78",selector:".root"},id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:48,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:49,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},target:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:50,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},target:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:51,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:52,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"3525627a-9d60-4727-8ded-65f859997c45",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:53,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},target:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:54,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"53a48601-e158-417e-bc80-d73899a90156",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:55,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"c34917fe-888d-4404-86f8-18413c4281fe",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:56,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"22360929-87ca-4b40-8ff1-b5fc9bce77f0",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"77bcb9ad-4637-4a8d-ae96-1e3f602c3757",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:57,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5e4737f9-e14f-4414-b556-fa97ac5b33ce",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"b40f5521-d3fc-4c18-a252-81f16608977e",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:58,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"124b9b41-d677-4b17-9953-1e708f341943",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"cd7bfae8-34bf-43dc-a00b-d82665722aa7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:59,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9f8ae18b-e462-4844-8e5a-2ddd0ab5e53c",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"5c42e3fe-28c9-4362-a784-93ad0dc2edd0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:60,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7cc54764-c50e-45c9-80c8-0fad982c6dcb",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"b566ccf0-326a-4e0f-9063-97a4175a368d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:61,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ed65430f-6db7-47ed-a33a-00f3b8e1cfb5",selector:".root"},target:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},id:"bf85e032-2d2a-4e9c-a139-edcf76c4125b",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:62,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bb9cfc45-953c-4e0d-930d-e2a34c833935",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"a92776c2-be2b-4153-8b41-f01c2662e464",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:63,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6acb76b6-3e03-4056-b32d-1c885da956f5",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"23533fac-384e-4dac-ae7a-babe5f892895",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:64,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3cfcc9c0-4e99-4add-bb16-6fa0bbf42978",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"b9dc6a8b-6474-4f4d-bdec-02779707ca56",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:65,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d88a40c-8b6f-42cc-beb7-55577fb473f7",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"09e9aa54-7118-46b5-80d5-482edf655ae7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:66,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4e0f81dc-ebdd-493c-a423-3e041143701e",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"3c73e0d0-f3ca-4aed-ae6d-d7ca1602a3aa",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:67,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"766c9a50-7cd8-445c-98f7-5d83344b77ea",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"e17d521e-e53f-4ee3-b579-b91664d1189e",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:68,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fe15d7b8-6252-4a85-9850-e70bdd5f64a3",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"79fa0305-9adf-43ec-a002-5eafcca63155",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:69,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c326acc4-2df8-4ca5-aa96-3f073acac234",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"a9b58c49-0a61-41e1-b38c-58e98d251f03",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:70,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fbbdf700-160d-43f6-9880-4a9d01cd2106",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"c0c7287f-969b-466f-8ca4-15b10593c972",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:71,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"01ae64d9-13f5-45c7-892a-80d8a656c321",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"c3d4cc24-efa6-4579-a84f-1b35f99bf8db",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:72,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4f409ac9-20e1-48d3-a2cd-9e1b1b363b21",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"fd792a2c-5b7f-4f07-8f44-94c72335901a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:73,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Prozessinstanzen",net:{typeData:{placeTypes:{"4876d2d5-014f-4206-af09-170d900b0acc":"instances","1d43ff03-0740-4ce8-9fca-d6c459704a18":"instances","58e67779-3f56-4819-9d47-4de2a1189d47":"instances","4528501a-f423-4bef-acf6-1975ee7766cb":"instances","499c4196-fac1-4280-b317-33dc927a3fed":"instances","52641fb4-fcee-41be-b8f5-d8af3da3ac8d":"instances","73573b72-5df0-4564-81e8-9d4d20d92712":"instances","8ca9f3ce-ee02-4ced-b29e-952277fbf3d7":"simple","f5ae0fa5-acab-4e05-83fc-751379fef9e8":"instances","772856ca-b248-42d4-870e-88cb29d13c78":"instances","8ca9f3ce-ee01-4ced-b29e-952277fbf3d7":"instances"},transitionTypes:{"8e754bc9-f9d1-4324-9838-6ea63048046f":"instances","5c3f975e-950e-48bd-b168-bdd589dbd61f":"instances","ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c":"instances","f2b5e259-e916-41bd-9eda-ed593f5db96b":"instances","26b1c55e-a751-4c41-a00d-dbf268342c50":"instances","1a064205-ba07-47e1-8c4f-8e95f398a484":"custom","1a524b1b-f347-4f08-9f43-9a2d0aac6a8e":"instances","ff42c022-b73e-4fa2-8b9f-fbe84e514647":"instances","4d4cc127-90e2-4478-abe8-42f258562e43":"instances"}},netData:{places:[{id:"4876d2d5-014f-4206-af09-170d900b0acc",name:"p0",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4876d2d5-014f-4206-af09-170d900b0acc"}},{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",name:"p1",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"1d43ff03-0740-4ce8-9fca-d6c459704a18"}},{id:"58e67779-3f56-4819-9d47-4de2a1189d47",name:"p3",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"58e67779-3f56-4819-9d47-4de2a1189d47"}},{id:"4528501a-f423-4bef-acf6-1975ee7766cb",name:"p2",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4528501a-f423-4bef-acf6-1975ee7766cb"}},{id:"499c4196-fac1-4280-b317-33dc927a3fed",name:"p4",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"499c4196-fac1-4280-b317-33dc927a3fed"}},{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",name:"p7",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"}},{id:"73573b72-5df0-4564-81e8-9d4d20d92712",name:"p5",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"73573b72-5df0-4564-81e8-9d4d20d92712"}},{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",name:"p6",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"}},{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",name:"p8",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"}},{id:"772856ca-b248-42d4-870e-88cb29d13c78",name:"p9",marking:[],schema:{title:"Prozessinstanzen",description:"Eine Stelle, die Marken mit ProzessinstanzIDs speichert.",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}}],transitions:[{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",name:"t0: Verfügbarkeit prüfen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",name:"t4: Versand vorbereiten",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_values[0];",output_p7_value:"local output_p7_value = input_values[0];"}},{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",name:"t1: Produktion durchführen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_values[0];"}},{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",name:"t2: Artikel reservieren",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",name:"t3: Artikel aus Lager holen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_values[0];"}},{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",name:"t8: Verkaufsprozess abschließen",preface:"",guard:"input_p6_value.instanceID == input_p8_value.instanceID",customVariables:{},keyVarSnippets:{output_p9_key:"local output_p9_key = '-';"},fragmentVarSnippets:{output_p9_value:"local output_p9_value = input_values[0];"}},{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",name:"t6: Rechnung verschicken",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:"local output_p6_value = input_values[0];"}},{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",name:"t5: Rechnung stellen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:"local output_p5_value = input_values[0];"}},{id:"4d4cc127-90e2-4478-abe8-42f258562e43",name:"t7: Transportieren",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p8_key:"local output_p8_key = '-';"},fragmentVarSnippets:{output_p8_value:"local output_p8_value = input_values[0];"}}],arcs:[{id:"dbf968cc-fcf7-440c-bf35-471a230c7584",filter:"$.*",fromId:"4876d2d5-014f-4206-af09-170d900b0acc",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",filter:"$",fromId:"8e754bc9-f9d1-4324-9838-6ea63048046f",toId:"1d43ff03-0740-4ce8-9fca-d6c459704a18"},{id:"ebe47cb1-5fad-4656-9064-13164107019f",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",filter:"$",fromId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"},{id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",filter:"$.*",fromId:"58e67779-3f56-4819-9d47-4de2a1189d47",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"d342db48-dab4-4660-8847-97c73f142b83",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"499c4196-fac1-4280-b317-33dc927a3fed"},{id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",filter:"$.*",fromId:"499c4196-fac1-4280-b317-33dc927a3fed",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"16cd8671-29d6-439b-bda2-c804665b8671",filter:"$",fromId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",toId:"73573b72-5df0-4564-81e8-9d4d20d92712"},{id:"e60292b6-5900-4d31-bd65-f85de6109a3f",filter:"$.*",fromId:"73573b72-5df0-4564-81e8-9d4d20d92712",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"8fda0a53-608d-4565-90a1-d427dccabeeb",filter:"$",fromId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",toId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"},{id:"14655dd5-456c-40aa-b0a2-9113005c7906",filter:"$.*",fromId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",filter:"$",fromId:"1a064205-ba07-47e1-8c4f-8e95f398a484",toId:"772856ca-b248-42d4-870e-88cb29d13c78"},{id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"},{id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",filter:"$.*",fromId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",toId:"4d4cc127-90e2-4478-abe8-42f258562e43"},{id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",filter:"$",fromId:"4d4cc127-90e2-4478-abe8-42f258562e43",toId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"},{id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",filter:"$.*",fromId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"3525627a-9d60-4727-8ded-65f859997c45",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",filter:"$",fromId:"f2b5e259-e916-41bd-9eda-ed593f5db96b",toId:"4528501a-f423-4bef-acf6-1975ee7766cb"},{id:"53a48601-e158-417e-bc80-d73899a90156",filter:"$.*",fromId:"4528501a-f423-4bef-acf6-1975ee7766cb",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"c34917fe-888d-4404-86f8-18413c4281fe",filter:"$",fromId:"26b1c55e-a751-4c41-a00d-dbf268342c50",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:276},angle:0,id:"8e754bc9-f9d1-4324-9838-6ea63048046f",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"t0: Verfügbarkeit prüfen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:636},angle:0,id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"t4: Versand vorbereiten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:144},angle:0,id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"t1: Produktion durchführen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:372},angle:0,id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"t2: Artikel reservieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:372},angle:0,id:"26b1c55e-a751-4c41-a00d-dbf268342c50",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"t3: Artikel aus Lager holen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:624},angle:0,id:"1a064205-ba07-47e1-8c4f-8e95f398a484",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"t8: Verkaufsprozess abschließen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:540},angle:0,id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"t6: Rechnung verschicken"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:540},angle:0,id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"t5: Rechnung stellen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:732},angle:0,id:"4d4cc127-90e2-4478-abe8-42f258562e43",jsonnetsType:"transition",z:9,attrs:{".label":{fill:"#7a7e9b",text:"t7: Transportieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:276},angle:0,tokens:2,id:"4876d2d5-014f-4206-af09-170d900b0acc",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p0"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:480,y:276},angle:0,tokens:0,id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1080,y:264},angle:0,tokens:0,id:"58e67779-3f56-4819-9d47-4de2a1189d47",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:372},angle:0,tokens:0,id:"4528501a-f423-4bef-acf6-1975ee7766cb",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:540},angle:0,tokens:0,id:"499c4196-fac1-4280-b317-33dc927a3fed",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:732},angle:0,tokens:0,id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:540},angle:0,tokens:0,id:"73573b72-5df0-4564-81e8-9d4d20d92712",jsonnetsType:"place",z:16,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:456,y:540},angle:0,tokens:0,id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",jsonnetsType:"place",z:17,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:444,y:732},angle:0,tokens:0,id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",jsonnetsType:"place",z:18,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p8"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:624},angle:0,tokens:0,id:"772856ca-b248-42d4-870e-88cb29d13c78",jsonnetsType:"place",z:19,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p9"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4876d2d5-014f-4206-af09-170d900b0acc",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"dbf968cc-fcf7-440c-bf35-471a230c7584",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},target:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"ebe47cb1-5fad-4656-9064-13164107019f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[{x:1248,y:289}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},id:"d342db48-dab4-4660-8847-97c73f142b83",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},target:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},id:"16cd8671-29d6-439b-bda2-c804665b8671",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"e60292b6-5900-4d31-bd65-f85de6109a3f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},target:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},id:"8fda0a53-608d-4565-90a1-d427dccabeeb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"14655dd5-456c-40aa-b0a2-9113005c7906",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},target:{id:"772856ca-b248-42d4-870e-88cb29d13c78",selector:".root"},id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},target:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},target:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"3525627a-9d60-4727-8ded-65f859997c45",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:36,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},target:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"53a48601-e158-417e-bc80-d73899a90156",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"c34917fe-888d-4404-86f8-18413c4281fe",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Netzstruktur",net:{typeData:{placeTypes:{"4876d2d5-014f-4206-af09-170d900b0acc":"simple","1d43ff03-0740-4ce8-9fca-d6c459704a18":"simple","58e67779-3f56-4819-9d47-4de2a1189d47":"simple","4528501a-f423-4bef-acf6-1975ee7766cb":"simple","499c4196-fac1-4280-b317-33dc927a3fed":"simple","52641fb4-fcee-41be-b8f5-d8af3da3ac8d":"simple","73573b72-5df0-4564-81e8-9d4d20d92712":"simple","8ca9f3ce-ee02-4ced-b29e-952277fbf3d7":"simple","f5ae0fa5-acab-4e05-83fc-751379fef9e8":"simple","772856ca-b248-42d4-870e-88cb29d13c78":"simple"},transitionTypes:{"8e754bc9-f9d1-4324-9838-6ea63048046f":"simple","5c3f975e-950e-48bd-b168-bdd589dbd61f":"simple","ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c":"simple","f2b5e259-e916-41bd-9eda-ed593f5db96b":"simple","26b1c55e-a751-4c41-a00d-dbf268342c50":"simple","1a064205-ba07-47e1-8c4f-8e95f398a484":"simple","1a524b1b-f347-4f08-9f43-9a2d0aac6a8e":"simple","ff42c022-b73e-4fa2-8b9f-fbe84e514647":"simple","4d4cc127-90e2-4478-abe8-42f258562e43":"simple"}},netData:{places:[{id:"4876d2d5-014f-4206-af09-170d900b0acc",name:"p0",marking:[{}],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"4876d2d5-014f-4206-af09-170d900b0acc"}},{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",name:"p1",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"1d43ff03-0740-4ce8-9fca-d6c459704a18"}},{id:"58e67779-3f56-4819-9d47-4de2a1189d47",name:"p3",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}},{id:"4528501a-f423-4bef-acf6-1975ee7766cb",name:"p2",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"4528501a-f423-4bef-acf6-1975ee7766cb"}},{id:"499c4196-fac1-4280-b317-33dc927a3fed",name:"p4",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}},{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",name:"p7",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"}},{id:"73573b72-5df0-4564-81e8-9d4d20d92712",name:"p5",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"73573b72-5df0-4564-81e8-9d4d20d92712"}},{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",name:"p6",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}},{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",name:"p8",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}},{id:"772856ca-b248-42d4-870e-88cb29d13c78",name:"p9",marking:[],schema:{title:"Einfach",description:"Eine Stelle, die einfache Marken (leere Objekte) speichert.",type:"array",items:{type:"object"},$id:"772856ca-b248-42d4-870e-88cb29d13c78"}}],transitions:[{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",name:"t0: Verfügbarkeit prüfen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = {};"}},{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",name:"t4: Versand vorbereiten",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = {};",output_p7_value:"local output_p7_value = {};"}},{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",name:"t1: Produktion durchführen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = {};"}},{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",name:"t2: Artikel reservieren",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = {};"}},{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",name:"t3: Artikel aus Lager holen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = {};"}},{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",name:"t8: Verkaufsprozess abschließen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p9_key:"local output_p9_key = '-';"},fragmentVarSnippets:{output_p9_value:"local output_p9_value = {};"}},{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",name:"t6: Rechnung verschicken",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p6_value:"local output_p6_value = {};"}},{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",name:"t5: Rechnung stellen",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:"local output_p5_value = {};"}},{id:"4d4cc127-90e2-4478-abe8-42f258562e43",name:"t7: Transportieren",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p8_key:"local output_p8_key = '-';"},fragmentVarSnippets:{output_p8_value:"local output_p8_value = {};"}}],arcs:[{id:"dbf968cc-fcf7-440c-bf35-471a230c7584",filter:"$.*",fromId:"4876d2d5-014f-4206-af09-170d900b0acc",toId:"8e754bc9-f9d1-4324-9838-6ea63048046f"},{id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",filter:"$",fromId:"8e754bc9-f9d1-4324-9838-6ea63048046f",toId:"1d43ff03-0740-4ce8-9fca-d6c459704a18"},{id:"ebe47cb1-5fad-4656-9064-13164107019f",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c"},{id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",filter:"$",fromId:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"},{id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",filter:"$.*",fromId:"58e67779-3f56-4819-9d47-4de2a1189d47",toId:"5c3f975e-950e-48bd-b168-bdd589dbd61f"},{id:"d342db48-dab4-4660-8847-97c73f142b83",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"499c4196-fac1-4280-b317-33dc927a3fed"},{id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",filter:"$.*",fromId:"499c4196-fac1-4280-b317-33dc927a3fed",toId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647"},{id:"16cd8671-29d6-439b-bda2-c804665b8671",filter:"$",fromId:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",toId:"73573b72-5df0-4564-81e8-9d4d20d92712"},{id:"e60292b6-5900-4d31-bd65-f85de6109a3f",filter:"$.*",fromId:"73573b72-5df0-4564-81e8-9d4d20d92712",toId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e"},{id:"8fda0a53-608d-4565-90a1-d427dccabeeb",filter:"$",fromId:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",toId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7"},{id:"14655dd5-456c-40aa-b0a2-9113005c7906",filter:"$.*",fromId:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",filter:"$",fromId:"1a064205-ba07-47e1-8c4f-8e95f398a484",toId:"772856ca-b248-42d4-870e-88cb29d13c78"},{id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",filter:"$",fromId:"5c3f975e-950e-48bd-b168-bdd589dbd61f",toId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d"},{id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",filter:"$.*",fromId:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",toId:"4d4cc127-90e2-4478-abe8-42f258562e43"},{id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",filter:"$",fromId:"4d4cc127-90e2-4478-abe8-42f258562e43",toId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8"},{id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",filter:"$.*",fromId:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",toId:"1a064205-ba07-47e1-8c4f-8e95f398a484"},{id:"3525627a-9d60-4727-8ded-65f859997c45",filter:"$.*",fromId:"1d43ff03-0740-4ce8-9fca-d6c459704a18",toId:"f2b5e259-e916-41bd-9eda-ed593f5db96b"},{id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",filter:"$",fromId:"f2b5e259-e916-41bd-9eda-ed593f5db96b",toId:"4528501a-f423-4bef-acf6-1975ee7766cb"},{id:"53a48601-e158-417e-bc80-d73899a90156",filter:"$.*",fromId:"4528501a-f423-4bef-acf6-1975ee7766cb",toId:"26b1c55e-a751-4c41-a00d-dbf268342c50"},{id:"c34917fe-888d-4404-86f8-18413c4281fe",filter:"$",fromId:"26b1c55e-a751-4c41-a00d-dbf268342c50",toId:"58e67779-3f56-4819-9d47-4de2a1189d47"}]},layoutData:{cells:[{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:276},angle:0,tokens:1,id:"4876d2d5-014f-4206-af09-170d900b0acc",jsonnetsType:"place",z:1,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p0"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:276},angle:0,id:"8e754bc9-f9d1-4324-9838-6ea63048046f",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"t0: Verfügbarkeit prüfen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4876d2d5-014f-4206-af09-170d900b0acc",selector:".root"},target:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},id:"dbf968cc-fcf7-440c-bf35-471a230c7584",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:3,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:480,y:276},angle:0,tokens:0,id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1080,y:264},angle:0,tokens:0,id:"58e67779-3f56-4819-9d47-4de2a1189d47",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:372},angle:0,tokens:0,id:"4528501a-f423-4bef-acf6-1975ee7766cb",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:636},angle:0,id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"t4: Versand vorbereiten"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:144},angle:0,id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"t1: Produktion durchführen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:372},angle:0,id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",jsonnetsType:"transition",z:9,attrs:{".label":{fill:"#7a7e9b",text:"t2: Artikel reservieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:372},angle:0,id:"26b1c55e-a751-4c41-a00d-dbf268342c50",jsonnetsType:"transition",z:10,attrs:{".label":{fill:"#7a7e9b",text:"t3: Artikel aus Lager holen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:540},angle:0,tokens:0,id:"499c4196-fac1-4280-b317-33dc927a3fed",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:732},angle:0,tokens:0,id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:540},angle:0,tokens:0,id:"73573b72-5df0-4564-81e8-9d4d20d92712",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:456,y:540},angle:0,tokens:0,id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:444,y:732},angle:0,tokens:0,id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p8"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:624},angle:0,tokens:0,id:"772856ca-b248-42d4-870e-88cb29d13c78",jsonnetsType:"place",z:16,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p9"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:624},angle:0,id:"1a064205-ba07-47e1-8c4f-8e95f398a484",jsonnetsType:"transition",z:17,attrs:{".label":{fill:"#7a7e9b",text:"t8: Verkaufsprozess abschließen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:588,y:540},angle:0,id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",jsonnetsType:"transition",z:18,attrs:{".label":{fill:"#7a7e9b",text:"t6: Rechnung verschicken"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:540},angle:0,id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",jsonnetsType:"transition",z:19,attrs:{".label":{fill:"#7a7e9b",text:"t5: Rechnung stellen"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:732,y:732},angle:0,id:"4d4cc127-90e2-4478-abe8-42f258562e43",jsonnetsType:"transition",z:20,attrs:{".label":{fill:"#7a7e9b",text:"t7: Transportieren"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"8e754bc9-f9d1-4324-9838-6ea63048046f",selector:".root"},target:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},id:"d920242a-64a3-4bd7-bfd0-01ec77be49ac",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},id:"ebe47cb1-5fad-4656-9064-13164107019f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ce46dfb7-5437-4e7a-ae61-58bfe7e5ff5c",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"108d81cb-cbc8-490e-85e9-424f6f1b55f8",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},target:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},id:"bda372bd-0083-40f5-b4b2-bd708d2e4402",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[{x:1248,y:289}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},id:"d342db48-dab4-4660-8847-97c73f142b83",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"499c4196-fac1-4280-b317-33dc927a3fed",selector:".root"},target:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},id:"cfce7d5a-db54-4b2d-997a-d2ad04fa4bf0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ff42c022-b73e-4fa2-8b9f-fbe84e514647",selector:".root"},target:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},id:"16cd8671-29d6-439b-bda2-c804665b8671",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"73573b72-5df0-4564-81e8-9d4d20d92712",selector:".root"},target:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},id:"e60292b6-5900-4d31-bd65-f85de6109a3f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a524b1b-f347-4f08-9f43-9a2d0aac6a8e",selector:".root"},target:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},id:"8fda0a53-608d-4565-90a1-d427dccabeeb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8ca9f3ce-ee01-4ced-b29e-952277fbf3d7",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"14655dd5-456c-40aa-b0a2-9113005c7906",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},target:{id:"772856ca-b248-42d4-870e-88cb29d13c78",selector:".root"},id:"b45a639f-4fbf-47bf-8ded-10f66ec6f792",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5c3f975e-950e-48bd-b168-bdd589dbd61f",selector:".root"},target:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},id:"1e011651-7c7a-430e-a52e-2fc0ffe514db",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"52641fb4-fcee-41be-b8f5-d8af3da3ac8d",selector:".root"},target:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},id:"42cc1c6c-5cac-4653-a8aa-8453320cdea8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4cc127-90e2-4478-abe8-42f258562e43",selector:".root"},target:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},id:"faa16a48-a017-4fe2-a4e4-2ccc6db0cbb9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5ae0fa5-acab-4e05-83fc-751379fef9e8",selector:".root"},target:{id:"1a064205-ba07-47e1-8c4f-8e95f398a484",selector:".root"},id:"ac8f1222-aff3-4f3d-ba1d-2a8ea8fc0c69",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d43ff03-0740-4ce8-9fca-d6c459704a18",selector:".root"},target:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},id:"3525627a-9d60-4727-8ded-65f859997c45",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:36,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f2b5e259-e916-41bd-9eda-ed593f5db96b",selector:".root"},target:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},id:"f0ba74cb-a5c6-4817-b97e-224ffadfbc9f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4528501a-f423-4bef-acf6-1975ee7766cb",selector:".root"},target:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},id:"53a48601-e158-417e-bc80-d73899a90156",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"26b1c55e-a751-4c41-a00d-dbf268342c50",selector:".root"},target:{id:"58e67779-3f56-4819-9d47-4de2a1189d47",selector:".root"},id:"c34917fe-888d-4404-86f8-18413c4281fe",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}}],qde={name:h6t,defaultUIAssistMode:p6t,defaultTransitionType:m6t,defaultPlaceType:g6t,allowAutoLayout:b6t,visualisationConfig:v6t,transitionTypes:y6t,placeTypes:k6t,examples:_6t},w6t=zt({computed:{...Mt(ta),...Mt(Zn),...Mt(ss)},methods:{close(){this.uiStateStore.showModal="none"},onUserModeClick(t){this.uiStateStore.uiAssistMode=t},setConfig(t){const e=t.target.value;Vt().clear(),this.netStore.transitions=[],this.netStore.places=[],this.netStore.importedData={},e==="default"?this.configStore.resetConfig():e==="scope3tool"?this.configStore.loadConfig(Gde):e==="scenario"?this.configStore.loadConfig(qde):e==="uploaded"&&(this.configStore.resetConfig(),this.configStore.name="uploaded")},readFile(t){Aie(t,this.importConfig)},importConfig(t){let e=JSON.parse(t);ss().loadConfig(e,!0)}}}),S6t={class:"modal is-active"},x6t=X("div",{class:"modal-background"},null,-1),C6t={class:"modal-card jsn-modal-wide"},T6t={class:"modal-card-head"},A6t=X("p",{class:"modal-card-title"},"Settings",-1),I6t={class:"modal-card-body"},P6t={class:"content"},E6t={class:"block"},$6t={class:"field"},O6t=X("label",{class:"label is-small"},"Configuration:",-1),D6t={class:"select is-small"},L6t=["selected"],F6t=["selected"],N6t=["selected"],M6t=["selected"],z6t={key:0,class:"field"},R6t=X("label",{class:"label is-small"},"Upload config file:",-1),j6t={class:"block is-flex is-justify-content-center"},V6t={class:"field has-addons"},B6t={class:"control"},H6t=X("span",null,"Assisted",-1),W6t=[H6t],U6t={class:"control"},G6t=X("span",null,"Expert",-1),q6t=[G6t];function Y6t(t,e,n,r,i,o){return Ee(),Be("div",S6t,[x6t,X("div",C6t,[X("header",T6t,[A6t,X("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...a)=>t.close&&t.close(...a))})]),X("section",I6t,[X("div",P6t,[X("div",E6t,[X("div",$6t,[O6t,X("div",D6t,[X("select",{onChange:e[1]||(e[1]=(...a)=>t.setConfig&&t.setConfig(...a))},[X("option",{value:"default",selected:t.configStore.name==="default"},"Default",8,L6t),X("option",{value:"scope3tool",selected:t.configStore.name==="scope3tool"},"Scope3tool ",8,F6t),X("option",{value:"scenario",selected:t.configStore.name==="scenario"},"Scenario ",8,N6t),X("option",{value:"uploaded",selected:t.configStore.name==="uploaded"},"Upload custom ...",8,M6t)],32)])]),t.configStore.name==="uploaded"?(Ee(),Be("div",z6t,[R6t,X("input",{class:"button is-small",style:{"margin-left":"15px"},type:"file",name:"configfile",onChange:e[2]||(e[2]=a=>{t.readFile(a)})},null,32)])):ct("",!0)]),X("div",j6t,[X("div",V6t,[X("p",B6t,[X("button",{onClick:e[3]||(e[3]=a=>t.onUserModeClick("assisted")),class:Ut(["button is-small",t.uiStateStore.uiAssistMode==="assisted"?"is-primary":""])},W6t,2)]),X("p",U6t,[X("button",{onClick:e[4]||(e[4]=a=>t.onUserModeClick("expert")),class:Ut(["button is-small",t.uiStateStore.uiAssistMode==="expert"?"is-primary":""])},q6t,2)])])])])])])])}const X6t=Qr(w6t,[["render",Y6t]]),K6t=zt({props:{icon:String,mode:{type:String,required:!0},callback:Function},computed:{notActive(){return this.mode!==this.uiStateStore.mode},...Mt(ta)},methods:{onClick(){this.callback===void 0?this.uiStateStore.setMode(this.mode):(this.uiStateStore.setMode(this.mode),this.callback())}}});const J6t={class:"icon is-small"};function Z6t(t,e,n,r,i,o){const a=It("font-awesome-icon");return Ee(),Be("button",{class:Ut(["button is-primary",{"is-outlined":t.notActive}]),onClick:e[0]||(e[0]=u$((...s)=>t.onClick&&t.onClick(...s),["stop"]))},[X("span",J6t,[at(a,{icon:t.icon},null,8,["icon"])])],2)}const ld=Qr(K6t,[["render",Z6t],["__scopeId","data-v-9cb724c1"]]),Q6t={id:"menu"},e_t={style:{position:"absolute",bottom:"5px",right:"5px"}},t_t={style:{position:"absolute",bottom:"5px",left:"5px"}},Yde="MODE_NONE",j8="MODE_ADD_PLACE",V8="MODE_ADD_TRANSITION",qu="MODE_MOVE",Rv="MODE_CONNECT_START",Xde="MODE_LAYOUT",n_t="MODE_EXPORT",Tp="MODE_PLAY",r_t="MODE_HELP",i_t=zt({__name:"App",setup(t){const e=ta(),n=ss();function r(){return Zn().export()}function i(o){let a;o==="1"||(a=JSON.parse(o)),Zn().import(a)}return(o,a)=>{const s=It("RouterView");return Ee(),Be(hn,null,[at(_Ue),X("div",Q6t,[at(ld,{icon:"fas fa-circle",mode:j8}),at(ld,{icon:"fas fa-square",mode:V8}),at(ld,{icon:"fas fa-arrow-right",mode:Rv}),ii(n).allowAutoLayout?(Ee(),en(ld,{key:0,icon:"fas fa-wand-magic-sparkles",mode:Xde})):ct("",!0),at(ld,{icon:"fas fa-mouse-pointer",mode:qu}),at(ld,{icon:"fas fa-play-circle",mode:Tp}),at(ld,{icon:"fas fa-file-arrow-down",mode:n_t,callback:()=>{ii(kFe)(r(),"export.json","application/json")}},null,8,["callback"]),X("input",{class:"button is-primary is-outlined",style:{"margin-left":"15px"},type:"file",name:"netfile",onChange:a[0]||(a[0]=l=>{ii(Aie)(l,i)})},null,32),ii(n).examples&&ii(n).examples.length>0?(Ee(),Be("button",{key:1,style:{"margin-left":"15px"},onClick:a[1]||(a[1]=u$(()=>{ii(e).setModal("examples")},["stop"])),class:"button is-primary is-outlined"}," Examples ")):ct("",!0),at(ld,{icon:"fas fa-question",mode:r_t,callback:()=>{ii(e).showModal="help"}},null,8,["callback"])]),ii(e).showModal==="transition"?(Ee(),en(Q8t,{key:0})):ct("",!0),ii(e).showModal==="place"?(Ee(),en(e3t,{key:1})):ct("",!0),ii(e).showEditor!=="none"?(Ee(),en(r6t,{key:2})):ct("",!0),ii(e).showModal==="help"?(Ee(),en(jUe,{key:3})):ct("",!0),ii(e).showModal==="examples"?(Ee(),en(h5t,{key:4})):ct("",!0),ii(e).showModal==="settings"?(Ee(),en(X6t,{key:5})):ct("",!0),at(s),X("div",e_t,[X("a",{onClick:a[2]||(a[2]=l=>ii(Zn)().resetModel())},"Reset Model")]),X("div",t_t,[X("a",{onClick:a[3]||(a[3]=()=>{ii(e).showModal="settings"})},"Settings")])],64)}}});/*!
  * vue-router v4.2.0
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const r0=typeof window<"u";function o_t(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const hr=Object.assign;function kT(t,e){const n={};for(const r in e){const i=e[r];n[r]=vc(i)?i.map(t):t(i)}return n}const ky=()=>{},vc=Array.isArray,a_t=/\/$/,s_t=t=>t.replace(a_t,"");function _T(t,e,n="/"){let r,i={},o="",a="";const s=e.indexOf("#");let l=e.indexOf("?");return s<l&&s>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,s>-1?s:e.length),i=t(o)),s>-1&&(r=r||e.slice(0,s),a=e.slice(s,e.length)),r=f_t(r??e,n),{fullPath:r+(o&&"?")+o+a,path:r,query:i,hash:a}}function l_t(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function zY(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function c_t(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&wb(e.matched[r],n.matched[i])&&Kde(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function wb(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Kde(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!u_t(t[n],e[n]))return!1;return!0}function u_t(t,e){return vc(t)?RY(t,e):vc(e)?RY(e,t):t===e}function RY(t,e){return vc(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function f_t(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,a,s;for(a=0;a<r.length;a++)if(s=r[a],s!==".")if(s==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(a-(a===r.length?1:0)).join("/")}var F4;(function(t){t.pop="pop",t.push="push"})(F4||(F4={}));var _y;(function(t){t.back="back",t.forward="forward",t.unknown=""})(_y||(_y={}));function d_t(t){if(!t)if(r0){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),s_t(t)}const h_t=/^[^#]+#/;function p_t(t,e){return t.replace(h_t,"#")+e}function m_t(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const aw=()=>({left:window.pageXOffset,top:window.pageYOffset});function g_t(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=m_t(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function jY(t,e){return(history.state?history.state.position-e:-1)+t}const hE=new Map;function b_t(t,e){hE.set(t,e)}function v_t(t){const e=hE.get(t);return hE.delete(t),e}let y_t=()=>location.protocol+"//"+location.host;function Jde(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let s=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(s);return l[0]!=="/"&&(l="/"+l),zY(l,"")}return zY(n,t)+r+i}function k_t(t,e,n,r){let i=[],o=[],a=null;const s=({state:d})=>{const h=Jde(t,location),m=n.value,v=e.value;let k=0;if(d){if(n.value=h,e.value=d,a&&a===m){a=null;return}k=v?d.position-v.position:0}else r(h);i.forEach(b=>{b(n.value,m,{delta:k,type:F4.pop,direction:k?k>0?_y.forward:_y.back:_y.unknown})})};function l(){a=n.value}function c(d){i.push(d);const h=()=>{const m=i.indexOf(d);m>-1&&i.splice(m,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(hr({},d.state,{scroll:aw()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function VY(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?aw():null}}function __t(t){const{history:e,location:n}=window,r={value:Jde(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:y_t()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function a(l,c){const u=hr({},e.state,VY(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),r.value=l}function s(l,c){const u=hr({},i.value,e.state,{forward:l,scroll:aw()});o(u.current,u,!0);const f=hr({},VY(r.value,l,null),{position:u.position+1},c);o(l,f,!1),r.value=l}return{location:r,state:i,push:s,replace:a}}function w_t(t){t=d_t(t);const e=__t(t),n=k_t(t,e.state,e.location,e.replace);function r(o,a=!0){a||n.pauseListeners(),history.go(o)}const i=hr({location:"",base:t,go:r,createHref:p_t.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function S_t(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),w_t(t)}function x_t(t){return typeof t=="string"||t&&typeof t=="object"}function Zde(t){return typeof t=="string"||typeof t=="symbol"}const cd={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qde=Symbol("");var BY;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(BY||(BY={}));function Sb(t,e){return hr(new Error,{type:t,[Qde]:!0},e)}function Wu(t,e){return t instanceof Error&&Qde in t&&(e==null||!!(t.type&e))}const HY="[^/]+?",C_t={sensitive:!1,strict:!1,start:!0,end:!0},T_t=/[.+*?^${}()[\]/\\]/g;function A_t(t,e){const n=hr({},C_t,e),r=[];let i=n.start?"^":"";const o=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let f=0;f<c.length;f++){const d=c[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(i+="/"),i+=d.value.replace(T_t,"\\$&"),h+=40;else if(d.type===1){const{value:m,repeatable:v,optional:k,regexp:b}=d;o.push({name:m,repeatable:v,optional:k});const _=b||HY;if(_!==HY){h+=10;try{new RegExp(`(${_})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+C.message)}}let x=v?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;f||(x=k&&c.length<2?`(?:/${x})`:"/"+x),k&&(x+="?"),i+=x,h+=20,k&&(h+=-8),v&&(h+=-20),_===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");function s(c){const u=c.match(a),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",m=o[d-1];f[m.name]=h&&m.repeatable?h.split("/"):h}return f}function l(c){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:m,repeatable:v,optional:k}=h,b=m in c?c[m]:"";if(vc(b)&&!v)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=vc(b)?b.join("/"):b;if(!_)if(k)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=_}}return u||"/"}return{re:a,score:r,keys:o,parse:s,stringify:l}}function I_t(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function P_t(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=I_t(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(WY(r))return 1;if(WY(i))return-1}return i.length-r.length}function WY(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const E_t={type:0,value:""},$_t=/[a-zA-Z0-9_]/;function O_t(t){if(!t)return[[]];if(t==="/")return[[E_t]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${c}": ${h}`)}let n=0,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s=0,l,c="",u="";function f(){c&&(n===0?o.push({type:0,value:c}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;s<t.length;){if(l=t[s++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&f(),a()):l===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:$_t.test(l)?d():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&s--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),a(),i}function D_t(t,e,n){const r=A_t(O_t(t.path),n),i=hr(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function L_t(t,e){const n=[],r=new Map;e=qY({strict:!1,end:!0,sensitive:!1},e);function i(u){return r.get(u)}function o(u,f,d){const h=!d,m=F_t(u);m.aliasOf=d&&d.record;const v=qY(e,u),k=[m];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of x)k.push(hr({},m,{components:d?d.record.components:m.components,path:C,aliasOf:d?d.record:m}))}let b,_;for(const x of k){const{path:C}=x;if(f&&C[0]!=="/"){const S=f.record.path,g=S[S.length-1]==="/"?"":"/";x.path=f.record.path+(C&&g+C)}if(b=D_t(x,f,v),d?d.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),h&&u.name&&!GY(b)&&a(u.name)),m.children){const S=m.children;for(let g=0;g<S.length;g++)o(S[g],b,d&&d.children[g])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&l(b)}return _?()=>{a(_)}:ky}function a(u){if(Zde(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(a),u.alias.forEach(a))}}function s(){return n}function l(u){let f=0;for(;f<n.length&&P_t(u,n[f])>=0&&(u.record.path!==n[f].record.path||!ehe(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!GY(u)&&r.set(u.record.name,u)}function c(u,f){let d,h={},m,v;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Sb(1,{location:u});v=d.record.name,h=hr(UY(f.params,d.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&UY(u.params,d.keys.map(_=>_.name))),m=d.stringify(h)}else if("path"in u)m=u.path,d=n.find(_=>_.re.test(m)),d&&(h=d.parse(m),v=d.record.name);else{if(d=f.name?r.get(f.name):n.find(_=>_.re.test(f.path)),!d)throw Sb(1,{location:u,currentLocation:f});v=d.record.name,h=hr({},f.params,u.params),m=d.stringify(h)}const k=[];let b=d;for(;b;)k.unshift(b.record),b=b.parent;return{name:v,path:m,params:h,matched:k,meta:M_t(k)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:c,removeRoute:a,getRoutes:s,getRecordMatcher:i}}function UY(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function F_t(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:N_t(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function N_t(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function GY(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function M_t(t){return t.reduce((e,n)=>hr(e,n.meta),{})}function qY(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function ehe(t,e){return e.children.some(n=>n===t||ehe(t,n))}const the=/#/g,z_t=/&/g,R_t=/\//g,j_t=/=/g,V_t=/\?/g,nhe=/\+/g,B_t=/%5B/g,H_t=/%5D/g,rhe=/%5E/g,W_t=/%60/g,ihe=/%7B/g,U_t=/%7C/g,ohe=/%7D/g,G_t=/%20/g;function mN(t){return encodeURI(""+t).replace(U_t,"|").replace(B_t,"[").replace(H_t,"]")}function q_t(t){return mN(t).replace(ihe,"{").replace(ohe,"}").replace(rhe,"^")}function pE(t){return mN(t).replace(nhe,"%2B").replace(G_t,"+").replace(the,"%23").replace(z_t,"%26").replace(W_t,"`").replace(ihe,"{").replace(ohe,"}").replace(rhe,"^")}function Y_t(t){return pE(t).replace(j_t,"%3D")}function X_t(t){return mN(t).replace(the,"%23").replace(V_t,"%3F")}function K_t(t){return t==null?"":X_t(t).replace(R_t,"%2F")}function Kk(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function J_t(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(nhe," "),a=o.indexOf("="),s=Kk(a<0?o:o.slice(0,a)),l=a<0?null:Kk(o.slice(a+1));if(s in e){let c=e[s];vc(c)||(c=e[s]=[c]),c.push(l)}else e[s]=l}return e}function YY(t){let e="";for(let n in t){const r=t[n];if(n=Y_t(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vc(r)?r.map(o=>o&&pE(o)):[r&&pE(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function Z_t(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vc(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Q_t=Symbol(""),XY=Symbol(""),gN=Symbol(""),ahe=Symbol(""),mE=Symbol("");function vv(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function bd(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,s)=>{const l=f=>{f===!1?s(Sb(4,{from:n,to:e})):f instanceof Error?s(f):x_t(f)?s(Sb(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},c=t.call(r&&r.instances[i],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(f=>s(f))})}function wT(t,e,n,r){const i=[];for(const o of t)for(const a in o.components){let s=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ewt(s)){const c=(s.__vccOpts||s)[e];c&&i.push(bd(c,n,r,o,a))}else{let l=s();i.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const u=o_t(c)?c.default:c;o.components[a]=u;const d=(u.__vccOpts||u)[e];return d&&bd(d,n,r,o,a)()}))}}return i}function ewt(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function KY(t){const e=Ni(gN),n=Ni(ahe),r=Dn(()=>e.resolve(ii(t.to))),i=Dn(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(wb.bind(null,u));if(d>-1)return d;const h=JY(l[c-2]);return c>1&&JY(u)===h&&f[f.length-1].path!==h?f.findIndex(wb.bind(null,l[c-2])):d}),o=Dn(()=>i.value>-1&&iwt(n.params,r.value.params)),a=Dn(()=>i.value>-1&&i.value===n.matched.length-1&&Kde(n.params,r.value.params));function s(l={}){return rwt(l)?e[ii(t.replace)?"replace":"push"](ii(t.to)).catch(ky):Promise.resolve()}return{route:r,href:Dn(()=>r.value.href),isActive:o,isExactActive:a,navigate:s}}const twt=zt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:KY,setup(t,{slots:e}){const n=hh(KY(t)),{options:r}=Ni(gN),i=Dn(()=>({[ZY(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ZY(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:Kd("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),nwt=twt;function rwt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function iwt(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vc(i)||i.length!==r.length||r.some((o,a)=>o!==i[a]))return!1}return!0}function JY(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ZY=(t,e,n)=>t??e??n,owt=zt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Ni(mE),i=Dn(()=>t.route||r.value),o=Ni(XY,0),a=Dn(()=>{let c=ii(o);const{matched:u}=i.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),s=Dn(()=>i.value.matched[a.value]);Uv(XY,Dn(()=>a.value+1)),Uv(Q_t,s),Uv(mE,i);const l=Tl();return Si(()=>[l.value,s.value,t.name],([c,u,f],[d,h,m])=>{u&&(u.instances[f]=c,h&&h!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),c&&u&&(!h||!wb(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,f=s.value,d=f&&f.components[u];if(!d)return QY(n.default,{Component:d,route:c});const h=f.props[u],m=h?h===!0?c.params:typeof h=="function"?h(c):h:null,k=Kd(d,hr({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return QY(n.default,{Component:k,route:c})||k}}});function QY(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const awt=owt;function swt(t){const e=L_t(t.routes,t),n=t.parseQuery||J_t,r=t.stringifyQuery||YY,i=t.history,o=vv(),a=vv(),s=vv(),l=ru(cd);let c=cd;r0&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=kT.bind(null,te=>""+te),f=kT.bind(null,K_t),d=kT.bind(null,Kk);function h(te,ue){let ce,fe;return Zde(te)?(ce=e.getRecordMatcher(te),fe=ue):fe=te,e.addRoute(fe,ce)}function m(te){const ue=e.getRecordMatcher(te);ue&&e.removeRoute(ue)}function v(){return e.getRoutes().map(te=>te.record)}function k(te){return!!e.getRecordMatcher(te)}function b(te,ue){if(ue=hr({},ue||l.value),typeof te=="string"){const E=_T(n,te,ue.path),M=e.resolve({path:E.path},ue),H=i.createHref(E.fullPath);return hr(E,M,{params:d(M.params),hash:Kk(E.hash),redirectedFrom:void 0,href:H})}let ce;if("path"in te)ce=hr({},te,{path:_T(n,te.path,ue.path).path});else{const E=hr({},te.params);for(const M in E)E[M]==null&&delete E[M];ce=hr({},te,{params:f(E)}),ue.params=f(ue.params)}const fe=e.resolve(ce,ue),ve=te.hash||"";fe.params=u(d(fe.params));const B=l_t(r,hr({},te,{hash:q_t(ve),path:fe.path})),Y=i.createHref(B);return hr({fullPath:B,hash:ve,query:r===YY?Z_t(te.query):te.query||{}},fe,{redirectedFrom:void 0,href:Y})}function _(te){return typeof te=="string"?_T(n,te,l.value.path):hr({},te)}function x(te,ue){if(c!==te)return Sb(8,{from:ue,to:te})}function C(te){return T(te)}function S(te){return C(hr(_(te),{replace:!0}))}function g(te){const ue=te.matched[te.matched.length-1];if(ue&&ue.redirect){const{redirect:ce}=ue;let fe=typeof ce=="function"?ce(te):ce;return typeof fe=="string"&&(fe=fe.includes("?")||fe.includes("#")?fe=_(fe):{path:fe},fe.params={}),hr({query:te.query,hash:te.hash,params:"path"in fe?{}:te.params},fe)}}function T(te,ue){const ce=c=b(te),fe=l.value,ve=te.state,B=te.force,Y=te.replace===!0,E=g(ce);if(E)return T(hr(_(E),{state:typeof E=="object"?hr({},ve,E.state):ve,force:B,replace:Y}),ue||ce);const M=ce;M.redirectedFrom=ue;let H;return!B&&c_t(r,fe,ce)&&(H=Sb(16,{to:M,from:fe}),se(fe,fe,!0,!1)),(H?Promise.resolve(H):F(M,fe)).catch(Q=>Wu(Q)?Wu(Q,2)?Q:ke(Q):Ae(Q,M,fe)).then(Q=>{if(Q){if(Wu(Q,2))return T(hr({replace:Y},_(Q.to),{state:typeof Q.to=="object"?hr({},ve,Q.to.state):ve,force:B}),ue||M)}else Q=z(M,fe,!0,Y,ve);return D(M,fe,Q),Q})}function P(te,ue){const ce=x(te,ue);return ce?Promise.reject(ce):Promise.resolve()}function $(te){const ue=j.values().next().value;return ue&&typeof ue.runWithContext=="function"?ue.runWithContext(te):te()}function F(te,ue){let ce;const[fe,ve,B]=lwt(te,ue);ce=wT(fe.reverse(),"beforeRouteLeave",te,ue);for(const E of fe)E.leaveGuards.forEach(M=>{ce.push(bd(M,te,ue))});const Y=P.bind(null,te,ue);return ce.push(Y),ae(ce).then(()=>{ce=[];for(const E of o.list())ce.push(bd(E,te,ue));return ce.push(Y),ae(ce)}).then(()=>{ce=wT(ve,"beforeRouteUpdate",te,ue);for(const E of ve)E.updateGuards.forEach(M=>{ce.push(bd(M,te,ue))});return ce.push(Y),ae(ce)}).then(()=>{ce=[];for(const E of te.matched)if(E.beforeEnter&&!ue.matched.includes(E))if(vc(E.beforeEnter))for(const M of E.beforeEnter)ce.push(bd(M,te,ue));else ce.push(bd(E.beforeEnter,te,ue));return ce.push(Y),ae(ce)}).then(()=>(te.matched.forEach(E=>E.enterCallbacks={}),ce=wT(B,"beforeRouteEnter",te,ue),ce.push(Y),ae(ce))).then(()=>{ce=[];for(const E of a.list())ce.push(bd(E,te,ue));return ce.push(Y),ae(ce)}).catch(E=>Wu(E,8)?E:Promise.reject(E))}function D(te,ue,ce){for(const fe of s.list())$(()=>fe(te,ue,ce))}function z(te,ue,ce,fe,ve){const B=x(te,ue);if(B)return B;const Y=ue===cd,E=r0?history.state:{};ce&&(fe||Y?i.replace(te.fullPath,hr({scroll:Y&&E&&E.scroll},ve)):i.push(te.fullPath,ve)),l.value=te,se(te,ue,ce,Y),ke()}let R;function V(){R||(R=i.listen((te,ue,ce)=>{if(!U.listening)return;const fe=b(te),ve=g(fe);if(ve){T(hr(ve,{replace:!0}),fe).catch(ky);return}c=fe;const B=l.value;r0&&b_t(jY(B.fullPath,ce.delta),aw()),F(fe,B).catch(Y=>Wu(Y,12)?Y:Wu(Y,2)?(T(Y.to,fe).then(E=>{Wu(E,20)&&!ce.delta&&ce.type===F4.pop&&i.go(-1,!1)}).catch(ky),Promise.reject()):(ce.delta&&i.go(-ce.delta,!1),Ae(Y,fe,B))).then(Y=>{Y=Y||z(fe,B,!1),Y&&(ce.delta&&!Wu(Y,8)?i.go(-ce.delta,!1):ce.type===F4.pop&&Wu(Y,20)&&i.go(-1,!1)),D(fe,B,Y)}).catch(ky)}))}let ie=vv(),oe=vv(),_e;function Ae(te,ue,ce){ke(te);const fe=oe.list();return fe.length?fe.forEach(ve=>ve(te,ue,ce)):console.error(te),Promise.reject(te)}function Ie(){return _e&&l.value!==cd?Promise.resolve():new Promise((te,ue)=>{ie.add([te,ue])})}function ke(te){return _e||(_e=!te,V(),ie.list().forEach(([ue,ce])=>te?ce(te):ue()),ie.reset()),te}function se(te,ue,ce,fe){const{scrollBehavior:ve}=t;if(!r0||!ve)return Promise.resolve();const B=!ce&&v_t(jY(te.fullPath,0))||(fe||!ce)&&history.state&&history.state.scroll||null;return Ib().then(()=>ve(te,ue,B)).then(Y=>Y&&g_t(Y)).catch(Y=>Ae(Y,te,ue))}const ne=te=>i.go(te);let J;const j=new Set,U={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,hasRoute:k,getRoutes:v,resolve:b,options:t,push:C,replace:S,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:oe.add,isReady:Ie,install(te){const ue=this;te.component("RouterLink",nwt),te.component("RouterView",awt),te.config.globalProperties.$router=ue,Object.defineProperty(te.config.globalProperties,"$route",{enumerable:!0,get:()=>ii(l)}),r0&&!J&&l.value===cd&&(J=!0,C(i.location).catch(ve=>{}));const ce={};for(const ve in cd)ce[ve]=Dn(()=>l.value[ve]);te.provide(gN,ue),te.provide(ahe,hh(ce)),te.provide(mE,l);const fe=te.unmount;j.add(te),te.unmount=function(){j.delete(te),j.size<1&&(c=cd,R&&R(),R=null,l.value=cd,J=!1,_e=!1),fe()}}};function ae(te){return te.reduce((ue,ce)=>ue.then(()=>$(ce)),Promise.resolve())}return U}function lwt(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let a=0;a<o;a++){const s=e.matched[a];s&&(t.matched.find(c=>wb(c,s))?r.push(s):n.push(s));const l=t.matched[a];l&&(e.matched.find(c=>wb(c,l))||i.push(l))}return[n,r,i]}const cwt="Control Flow",uwt="expert",fwt="instances",dwt="instances",hwt=!0,pwt={show:!1},mwt=[{id:"instances",title:"Process instances",description:"Transition that creates and consumes tokens with process instance IDs.",keySnippet:"'-';",valueSnippet:"input_values[0];",preface:"",guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}}],gwt=[{id:"instances",externalInteraction:{type:"none"},schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}},marking:[]},{id:"instances-helper",externalInteraction:{type:"none"},schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]}},marking:[{data:[]}]}],bwt=[{name:"wcp-1-sequence",net:{typeData:{placeTypes:{"813c7bbb-90f4-4706-8361-964d1aba6f8b":"instances","0390ee47-71d9-47e5-91cf-719617154924":"instances","da881857-3fde-411f-a0df-ccfeec496c44":"instances"},transitionTypes:{"a1f3a773-7dc1-41d6-8e5b-b7794db7e023":"instances","eac5c899-5d30-45f9-963f-445986224292":"instances"}},netData:{places:[{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"813c7bbb-90f4-4706-8361-964d1aba6f8b"}},{id:"0390ee47-71d9-47e5-91cf-719617154924",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0390ee47-71d9-47e5-91cf-719617154924"}},{id:"da881857-3fde-411f-a0df-ccfeec496c44",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da881857-3fde-411f-a0df-ccfeec496c44"}}],transitions:[{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"eac5c899-5d30-45f9-963f-445986224292",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"da14286a-3830-45c8-b2e1-fa8591d38362",filter:"$.*",fromId:"813c7bbb-90f4-4706-8361-964d1aba6f8b",toId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023"},{id:"684de183-1d8e-4355-b0dc-fe3b9440f4ab",filter:"$",fromId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",toId:"0390ee47-71d9-47e5-91cf-719617154924"},{id:"a4d0acab-d859-4070-8aef-10cdc2ba41a2",filter:"$.*",fromId:"0390ee47-71d9-47e5-91cf-719617154924",toId:"eac5c899-5d30-45f9-963f-445986224292"},{id:"e6a06239-6a81-4506-94c6-9e1b3ec196e5",filter:"$",fromId:"eac5c899-5d30-45f9-963f-445986224292",toId:"da881857-3fde-411f-a0df-ccfeec496c44"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"eac5c899-5d30-45f9-963f-445986224292",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",jsonnetsType:"place",z:3,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"0390ee47-71d9-47e5-91cf-719617154924",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"da881857-3fde-411f-a0df-ccfeec496c44",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",selector:".root"},target:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},id:"da14286a-3830-45c8-b2e1-fa8591d38362",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:6,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},target:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},id:"684de183-1d8e-4355-b0dc-fe3b9440f4ab",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:7,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},target:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},id:"a4d0acab-d859-4070-8aef-10cdc2ba41a2",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},target:{id:"da881857-3fde-411f-a0df-ccfeec496c44",selector:".root"},id:"e6a06239-6a81-4506-94c6-9e1b3ec196e5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-2-parallel-split",net:{typeData:{placeTypes:{"813c7bbb-90f4-4706-8361-964d1aba6f8b":"instances","0390ee47-71d9-47e5-91cf-719617154924":"instances","917e7887-291f-4e7e-b2d8-65cfea828b16":"instances","da881857-3fde-411f-a0df-ccfeec496c44":"instances","93ecbd79-cced-4403-9189-4f70436f4215":"instances"},transitionTypes:{"a1f3a773-7dc1-41d6-8e5b-b7794db7e023":"instances","eac5c899-5d30-45f9-963f-445986224292":"instances","32532c0f-75d7-4ee9-a0c2-d4e22f7f651d":"instances"}},netData:{places:[{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"813c7bbb-90f4-4706-8361-964d1aba6f8b"}},{id:"0390ee47-71d9-47e5-91cf-719617154924",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0390ee47-71d9-47e5-91cf-719617154924"}},{id:"da881857-3fde-411f-a0df-ccfeec496c44",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da881857-3fde-411f-a0df-ccfeec496c44"}},{id:"917e7887-291f-4e7e-b2d8-65cfea828b16",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"917e7887-291f-4e7e-b2d8-65cfea828b16"}},{id:"93ecbd79-cced-4403-9189-4f70436f4215",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"93ecbd79-cced-4403-9189-4f70436f4215"}}],transitions:[{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];",output_p2_value:"local output_p2_value = input_values[0];"}},{id:"eac5c899-5d30-45f9-963f-445986224292",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_values[0];"}}],arcs:[{id:"da14286a-3830-45c8-b2e1-fa8591d38362",filter:"$.*",fromId:"813c7bbb-90f4-4706-8361-964d1aba6f8b",toId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023"},{id:"684de183-1d8e-4355-b0dc-fe3b9440f4ab",filter:"$",fromId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",toId:"0390ee47-71d9-47e5-91cf-719617154924"},{id:"a4d0acab-d859-4070-8aef-10cdc2ba41a2",filter:"$.*",fromId:"0390ee47-71d9-47e5-91cf-719617154924",toId:"eac5c899-5d30-45f9-963f-445986224292"},{id:"e6a06239-6a81-4506-94c6-9e1b3ec196e5",filter:"$",fromId:"eac5c899-5d30-45f9-963f-445986224292",toId:"da881857-3fde-411f-a0df-ccfeec496c44"},{id:"a796eb2b-0c23-4ffa-a10e-423dd3d866fa",filter:"$",fromId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",toId:"917e7887-291f-4e7e-b2d8-65cfea828b16"},{id:"345a2753-565b-4159-a27f-46e9cbadd6fe",filter:"$.*",fromId:"917e7887-291f-4e7e-b2d8-65cfea828b16",toId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d"},{id:"db43819f-7825-49ff-9cbf-6cb86bca40fc",filter:"$",fromId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",toId:"93ecbd79-cced-4403-9189-4f70436f4215"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:156,y:72},angle:0,id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"eac5c899-5d30-45f9-963f-445986224292",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"0390ee47-71d9-47e5-91cf-719617154924",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"da881857-3fde-411f-a0df-ccfeec496c44",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"917e7887-291f-4e7e-b2d8-65cfea828b16",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"93ecbd79-cced-4403-9189-4f70436f4215",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",selector:".root"},target:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},id:"da14286a-3830-45c8-b2e1-fa8591d38362",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},target:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},id:"684de183-1d8e-4355-b0dc-fe3b9440f4ab",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},target:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},id:"a4d0acab-d859-4070-8aef-10cdc2ba41a2",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},target:{id:"da881857-3fde-411f-a0df-ccfeec496c44",selector:".root"},id:"e6a06239-6a81-4506-94c6-9e1b3ec196e5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},target:{id:"917e7887-291f-4e7e-b2d8-65cfea828b16",selector:".root"},id:"a796eb2b-0c23-4ffa-a10e-423dd3d866fa",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"917e7887-291f-4e7e-b2d8-65cfea828b16",selector:".root"},target:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},id:"345a2753-565b-4159-a27f-46e9cbadd6fe",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},target:{id:"93ecbd79-cced-4403-9189-4f70436f4215",selector:".root"},id:"db43819f-7825-49ff-9cbf-6cb86bca40fc",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-3-synchronization",net:{typeData:{placeTypes:{"ae98496d-0fe2-4caf-93ac-2a4886169fd4":"instances","813c7bbb-90f4-4706-8361-964d1aba6f8b":"instances"},transitionTypes:{"eac5c899-5d30-45f9-963f-445986224292":"instances","a1f3a773-7dc1-41d6-8e5b-b7794db7e023":"instances","32532c0f-75d7-4ee9-a0c2-d4e22f7f651d":"custom"}},netData:{places:[{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"813c7bbb-90f4-4706-8361-964d1aba6f8b"}},{id:"0390ee47-71d9-47e5-91cf-719617154924",name:"p1",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"0390ee47-71d9-47e5-91cf-719617154924"}},{id:"da881857-3fde-411f-a0df-ccfeec496c44",name:"o1",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"da881857-3fde-411f-a0df-ccfeec496c44"}},{id:"917e7887-291f-4e7e-b2d8-65cfea828b16",name:"p2",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"917e7887-291f-4e7e-b2d8-65cfea828b16"}},{id:"ae98496d-0fe2-4caf-93ac-2a4886169fd4",name:"i2",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"ae98496d-0fe2-4caf-93ac-2a4886169fd4"}}],transitions:[{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';",output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = {};",output_p1_value:"local output_p1_value = input_values[0];"}},{id:"eac5c899-5d30-45f9-963f-445986224292",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = {};",output_p2_value:"local output_p2_value = input_values[0];"}},{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",name:"C",preface:"",guard:"input_p2_token.instanceID == input_p1_token.instanceID",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';",output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = {};",output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"da14286a-3830-45c8-b2e1-fa8591d38362",filter:"$.*",fromId:"813c7bbb-90f4-4706-8361-964d1aba6f8b",toId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023"},{id:"345a2753-565b-4159-a27f-46e9cbadd6fe",filter:"$.*",fromId:"917e7887-291f-4e7e-b2d8-65cfea828b16",toId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d"},{id:"1e2d86c8-f74d-491a-bb5e-d01f7ed6de7d",filter:"$",fromId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",toId:"0390ee47-71d9-47e5-91cf-719617154924"},{id:"4e82c891-bafb-4c87-95d0-936788a0b292",filter:"$.*",fromId:"ae98496d-0fe2-4caf-93ac-2a4886169fd4",toId:"eac5c899-5d30-45f9-963f-445986224292"},{id:"731b1661-5ec0-4d36-a193-6240c3e4dc6b",filter:"$",fromId:"eac5c899-5d30-45f9-963f-445986224292",toId:"917e7887-291f-4e7e-b2d8-65cfea828b16"},{id:"f9c3b92f-5f9c-48b8-8d68-f50bf5c3d22c",filter:"$.*",fromId:"0390ee47-71d9-47e5-91cf-719617154924",toId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d"},{id:"f78f8bfa-aad1-46c5-9a82-6ee977e57090",filter:"$",fromId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",toId:"da881857-3fde-411f-a0df-ccfeec496c44"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:150},angle:0,id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"eac5c899-5d30-45f9-963f-445986224292",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:75},angle:0,id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:150},angle:0,tokens:1,id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"0390ee47-71d9-47e5-91cf-719617154924",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:75},angle:0,tokens:0,id:"da881857-3fde-411f-a0df-ccfeec496c44",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"917e7887-291f-4e7e-b2d8-65cfea828b16",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"ae98496d-0fe2-4caf-93ac-2a4886169fd4",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",selector:".root"},target:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},id:"da14286a-3830-45c8-b2e1-fa8591d38362",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"917e7887-291f-4e7e-b2d8-65cfea828b16",selector:".root"},target:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},id:"345a2753-565b-4159-a27f-46e9cbadd6fe",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},target:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},id:"1e2d86c8-f74d-491a-bb5e-d01f7ed6de7d",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ae98496d-0fe2-4caf-93ac-2a4886169fd4",selector:".root"},target:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},id:"4e82c891-bafb-4c87-95d0-936788a0b292",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},target:{id:"917e7887-291f-4e7e-b2d8-65cfea828b16",selector:".root"},id:"731b1661-5ec0-4d36-a193-6240c3e4dc6b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},target:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},id:"f9c3b92f-5f9c-48b8-8d68-f50bf5c3d22c",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},target:{id:"da881857-3fde-411f-a0df-ccfeec496c44",selector:".root"},id:"f78f8bfa-aad1-46c5-9a82-6ee977e57090",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-4-exclusive-choice-1",net:{typeData:{placeTypes:{"813c7bbb-90f4-4706-8361-964d1aba6f8b":"instances","0390ee47-71d9-47e5-91cf-719617154924":"instances","da881857-3fde-411f-a0df-ccfeec496c44":"instances","93ecbd79-cced-4403-9189-4f70436f4215":"instances"},transitionTypes:{"a1f3a773-7dc1-41d6-8e5b-b7794db7e023":"instances","eac5c899-5d30-45f9-963f-445986224292":"custom","32532c0f-75d7-4ee9-a0c2-d4e22f7f651d":"custom"}},netData:{places:[{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"813c7bbb-90f4-4706-8361-964d1aba6f8b"}},{id:"0390ee47-71d9-47e5-91cf-719617154924",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0390ee47-71d9-47e5-91cf-719617154924"}},{id:"da881857-3fde-411f-a0df-ccfeec496c44",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da881857-3fde-411f-a0df-ccfeec496c44"}},{id:"93ecbd79-cced-4403-9189-4f70436f4215",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"93ecbd79-cced-4403-9189-4f70436f4215"}}],transitions:[{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"eac5c899-5d30-45f9-963f-445986224292",name:"B",preface:"",guard:"input_p1_value.cond == true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",name:"C",preface:"",guard:"input_p1_value.cond == false",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_values[0];"}}],arcs:[{id:"da14286a-3830-45c8-b2e1-fa8591d38362",filter:"$.*",fromId:"813c7bbb-90f4-4706-8361-964d1aba6f8b",toId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023"},{id:"684de183-1d8e-4355-b0dc-fe3b9440f4ab",filter:"$",fromId:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",toId:"0390ee47-71d9-47e5-91cf-719617154924"},{id:"a4d0acab-d859-4070-8aef-10cdc2ba41a2",filter:"$.*",fromId:"0390ee47-71d9-47e5-91cf-719617154924",toId:"eac5c899-5d30-45f9-963f-445986224292"},{id:"e6a06239-6a81-4506-94c6-9e1b3ec196e5",filter:"$",fromId:"eac5c899-5d30-45f9-963f-445986224292",toId:"da881857-3fde-411f-a0df-ccfeec496c44"},{id:"db43819f-7825-49ff-9cbf-6cb86bca40fc",filter:"$",fromId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",toId:"93ecbd79-cced-4403-9189-4f70436f4215"},{id:"162c89dd-d135-4b7d-9c5f-7d7a660b8add",filter:"$.*",fromId:"0390ee47-71d9-47e5-91cf-719617154924",toId:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:156,y:72},angle:0,id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"eac5c899-5d30-45f9-963f-445986224292",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:156},angle:0,id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:72},angle:0,tokens:0,id:"0390ee47-71d9-47e5-91cf-719617154924",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"da881857-3fde-411f-a0df-ccfeec496c44",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:156},angle:0,tokens:0,id:"93ecbd79-cced-4403-9189-4f70436f4215",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"813c7bbb-90f4-4706-8361-964d1aba6f8b",selector:".root"},target:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},id:"da14286a-3830-45c8-b2e1-fa8591d38362",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a1f3a773-7dc1-41d6-8e5b-b7794db7e023",selector:".root"},target:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},id:"684de183-1d8e-4355-b0dc-fe3b9440f4ab",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},target:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},id:"a4d0acab-d859-4070-8aef-10cdc2ba41a2",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"eac5c899-5d30-45f9-963f-445986224292",selector:".root"},target:{id:"da881857-3fde-411f-a0df-ccfeec496c44",selector:".root"},id:"e6a06239-6a81-4506-94c6-9e1b3ec196e5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},target:{id:"93ecbd79-cced-4403-9189-4f70436f4215",selector:".root"},id:"db43819f-7825-49ff-9cbf-6cb86bca40fc",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0390ee47-71d9-47e5-91cf-719617154924",selector:".root"},target:{id:"32532c0f-75d7-4ee9-a0c2-d4e22f7f651d",selector:".root"},id:"162c89dd-d135-4b7d-9c5f-7d7a660b8add",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-4-exclusive-choice-2",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","da423599-d447-48d5-a250-e0e12a6933f7":"instances","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances-helper","fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd":"instances-helper"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","21635c6b-77c8-461c-955a-cdeca2098346":"custom","916ce7e1-8086-40b1-a508-79bfa944d5e4":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",name:"p2",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_values[0];"}},{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"local cond = true;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = 'data';",output_p2_key:"local output_p2_key = 'data';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = if cond then [input_values[0]] else [];",output_p2_value:"local output_p2_value = if cond then [] else [input_values[0]];"}}],arcs:[{id:"7a5e9dd4-d284-4812-9215-b1d410283508",filter:"$.*.data.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"f214d583-17a1-4b31-b742-4d725576ac97",filter:"$",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"d0047c45-9b80-4758-bf92-563024870259",filter:"$",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"4aa61b1b-da24-4c86-84ed-f8ae46b02840",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd"},{id:"bf0b75cb-3e90-4e58-a289-18e29afb3fa1",filter:"$.*.data.*",fromId:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:1,id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"7a5e9dd4-d284-4812-9215-b1d410283508",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"f214d583-17a1-4b31-b742-4d725576ac97",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"d0047c45-9b80-4758-bf92-563024870259",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",selector:".root"},id:"4aa61b1b-da24-4c86-84ed-f8ae46b02840",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"bf0b75cb-3e90-4e58-a289-18e29afb3fa1",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-5-simple-merge",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"instances","e42ae73f-dab5-4ac7-a964-035d84488642":"instances","916ce7e1-8086-40b1-a508-79bfa944d5e4":"instances"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"o1",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"aa1d066d-6839-4181-9a09-df999df3065b",name:"i2",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"aa1d066d-6839-4181-9a09-df999df3065b"}}],transitions:[{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"e42ae73f-dab5-4ac7-a964-035d84488642",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}}],arcs:[{id:"2e7d9ed9-013b-478d-9c88-432048685ca1",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"},{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"d0047c45-9b80-4758-bf92-563024870259",filter:"$",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"659a01c7-9a17-4ad6-9610-161efbd0fb20",filter:"$.*",fromId:"aa1d066d-6839-4181-9a09-df999df3065b",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"cce33106-d270-4f42-9cd1-4396bb03a327",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:75},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:150},angle:0,id:"e42ae73f-dab5-4ac7-a964-035d84488642",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:75},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:75},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:150},angle:0,tokens:0,id:"aa1d066d-6839-4181-9a09-df999df3065b",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"2e7d9ed9-013b-478d-9c88-432048685ca1",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"d0047c45-9b80-4758-bf92-563024870259",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"659a01c7-9a17-4ad6-9610-161efbd0fb20",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"cce33106-d270-4f42-9cd1-4396bb03a327",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-6-multi-choice",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","c554c549-e1bf-4198-86bb-e91e8d379851":"instances-helper","a8782e54-9075-4f83-bd7a-bad00f1ad52e":"instances-helper"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","21635c6b-77c8-461c-955a-cdeca2098346":"custom","916ce7e1-8086-40b1-a508-79bfa944d5e4":"custom"}},netData:{places:[{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"o1",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"o2",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"c554c549-e1bf-4198-86bb-e91e8d379851",name:"p1",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"c554c549-e1bf-4198-86bb-e91e8d379851"}},{id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",name:"p2",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_values[0];"}},{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:`local cond1 = true;
local cond2 = true;`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = 'data';",output_p2_key:"local output_p2_key = 'data';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = if cond1 then [input_values[0]] else [];",output_p2_value:"local output_p2_value = if cond2 then [input_values[0]] else [];"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"f214d583-17a1-4b31-b742-4d725576ac97",filter:"$",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"d0047c45-9b80-4758-bf92-563024870259",filter:"$",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"fd967bad-3c47-4cc8-a8a6-f0558297937b",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"c554c549-e1bf-4198-86bb-e91e8d379851"},{id:"42483988-a6c9-4005-937f-38f94c92cbba",filter:"$.*.data.*",fromId:"c554c549-e1bf-4198-86bb-e91e8d379851",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"5a229bd5-1a05-4b1d-84de-dd1114d1b133",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"a8782e54-9075-4f83-bd7a-bad00f1ad52e"},{id:"da8ae6dd-7369-47f5-a2bb-b03d54285791",filter:"$.*.data.*",fromId:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"c554c549-e1bf-4198-86bb-e91e8d379851",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:1,id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"f214d583-17a1-4b31-b742-4d725576ac97",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"d0047c45-9b80-4758-bf92-563024870259",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"c554c549-e1bf-4198-86bb-e91e8d379851",selector:".root"},id:"fd967bad-3c47-4cc8-a8a6-f0558297937b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c554c549-e1bf-4198-86bb-e91e8d379851",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"42483988-a6c9-4005-937f-38f94c92cbba",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",selector:".root"},id:"5a229bd5-1a05-4b1d-84de-dd1114d1b133",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"da8ae6dd-7369-47f5-a2bb-b03d54285791",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-7-structured-synchronizing-merge",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances-helper","fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd":"instances-helper","da423599-d447-48d5-a250-e0e12a6933f7":"instances","7054ad4b-c443-4bed-a34f-dc2f6ddbfadc":"instances-helper","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances-helper","34f80a9a-1c47-40ea-91d0-abcaa377a824":"instances"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","21635c6b-77c8-461c-955a-cdeca2098346":"custom","ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75":"custom","916ce7e1-8086-40b1-a508-79bfa944d5e4":"custom","3cfe10c5-36a9-4563-bdc9-c67752ca2450":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"p3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"p5",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",name:"p2",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd"}},{id:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc",name:"p4",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc"}},{id:"34f80a9a-1c47-40ea-91d0-abcaa377a824",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"34f80a9a-1c47-40ea-91d0-abcaa377a824"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_values[0];"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p5_value:"local output_p5_value = input_values[0];"}},{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:`local cond1 = false;
local cond2 = true;`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = 'data';",output_p2_key:"local output_p2_key = 'data';",output_p4_key:"local output_p4_key = 'data';",output_p5_key:"local output_p5_key = 'data';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = if cond1 then [input_values[0]] else [];",output_p2_value:"local output_p2_value = if cond2 then [input_values[0]] else [];",output_p4_value:"local output_p4_value = if cond1 then [] else [input_values[0]];",output_p5_value:"local output_p5_value = if cond2 then [] else [input_values[0]];"}},{id:"ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75",name:"D",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_values[0];"}},{id:"3cfe10c5-36a9-4563-bdc9-c67752ca2450",name:"E",preface:"",guard:"input_p5_value.instanceID == input_p4_value.instanceID",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"7a5e9dd4-d284-4812-9215-b1d410283508",filter:"$.*.data.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"f214d583-17a1-4b31-b742-4d725576ac97",filter:"$",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"d0047c45-9b80-4758-bf92-563024870259",filter:"$.*.data",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"4aa61b1b-da24-4c86-84ed-f8ae46b02840",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd"},{id:"bf0b75cb-3e90-4e58-a289-18e29afb3fa1",filter:"$.*.data.*",fromId:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"},{id:"920c7d78-54f8-47ef-a3a4-744ad1863f04",filter:"$.*",fromId:"da423599-d447-48d5-a250-e0e12a6933f7",toId:"ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75"},{id:"84fd9f27-f63d-43fe-bd03-16cdb5d25de4",filter:"$.*.data",fromId:"ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75",toId:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc"},{id:"e9f8984b-f799-440b-9f0c-8119c85d6e09",filter:"$.*.data.*",fromId:"176bb657-9538-45c2-840e-c9f0a92b1f19",toId:"3cfe10c5-36a9-4563-bdc9-c67752ca2450"},{id:"67475711-cba2-4f6f-ba46-990b0ac7d6f8",filter:"$.*.data.*",fromId:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc",toId:"3cfe10c5-36a9-4563-bdc9-c67752ca2450"},{id:"2dc787b3-0ed2-4d2e-9496-3b3e30cab454",filter:"$",fromId:"3cfe10c5-36a9-4563-bdc9-c67752ca2450",toId:"34f80a9a-1c47-40ea-91d0-abcaa377a824"},{id:"4190dd68-8ada-4040-b39c-2c0e8ed53e4b",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc"},{id:"be9ab897-3d60-4b23-ba55-6740d9157f28",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:660,y:156},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:840,y:0},angle:0,id:"ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:75},angle:0,id:"3cfe10c5-36a9-4563-bdc9-c67752ca2450",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:0},angle:0,tokens:1,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:0},angle:0,tokens:0,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1044,y:156},angle:0,tokens:1,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:156},angle:0,tokens:1,id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1044,y:0},angle:0,tokens:1,id:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1400,y:75},angle:0,tokens:0,id:"34f80a9a-1c47-40ea-91d0-abcaa377a824",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"7a5e9dd4-d284-4812-9215-b1d410283508",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"f214d583-17a1-4b31-b742-4d725576ac97",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"d0047c45-9b80-4758-bf92-563024870259",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",selector:".root"},id:"4aa61b1b-da24-4c86-84ed-f8ae46b02840",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"bf0b75cb-3e90-4e58-a289-18e29afb3fa1",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},target:{id:"ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75",selector:".root"},id:"920c7d78-54f8-47ef-a3a4-744ad1863f04",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ad5cdfb3-fcc3-417d-a7dc-40854b7a3a75",selector:".root"},target:{id:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc",selector:".root"},id:"84fd9f27-f63d-43fe-bd03-16cdb5d25de4",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},target:{id:"3cfe10c5-36a9-4563-bdc9-c67752ca2450",selector:".root"},id:"e9f8984b-f799-440b-9f0c-8119c85d6e09",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc",selector:".root"},target:{id:"3cfe10c5-36a9-4563-bdc9-c67752ca2450",selector:".root"},id:"67475711-cba2-4f6f-ba46-990b0ac7d6f8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3cfe10c5-36a9-4563-bdc9-c67752ca2450",selector:".root"},target:{id:"34f80a9a-1c47-40ea-91d0-abcaa377a824",selector:".root"},id:"2dc787b3-0ed2-4d2e-9496-3b3e30cab454",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"7054ad4b-c443-4bed-a34f-dc2f6ddbfadc",selector:".root"},id:"4190dd68-8ada-4040-b39c-2c0e8ed53e4b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[{x:200,y:-48},{x:1069,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"be9ab897-3d60-4b23-ba55-6740d9157f28",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[{x:200,y:252},{x:1069,y:252}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-8-multi-merge",net:{typeData:{placeTypes:{"d6866b7c-b02e-4504-99b2-5b6def861690":"instances","fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd":"instances","da423599-d447-48d5-a250-e0e12a6933f7":"custom","b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5":"custom"},transitionTypes:{"21635c6b-77c8-461c-955a-cdeca2098346":"instances","916ce7e1-8086-40b1-a508-79bfa944d5e4":"instances","2cf66206-3274-44a9-b9e9-91aa141b59db":"instances"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"p1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",name:"i2",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd"}},{id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';",output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = {};",output_p1_value:"local output_p1_value = input_values[0];"}},{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"6ab7b842-a2de-4637-a9b6-0d4a6929f6b0",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"7315d428-e4e0-49f6-ab78-52e02ed1ae10",filter:"$.*",fromId:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"},{id:"2b0af833-6528-40a4-a777-44cedafeee4c",filter:"$",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"18a388bf-3b53-4495-b55b-c1a956795295",filter:"$",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"9511f11c-df82-44aa-b210-d4d34016ee60",filter:"$.*",fromId:"da423599-d447-48d5-a250-e0e12a6933f7",toId:"2cf66206-3274-44a9-b9e9-91aa141b59db"},{id:"c6837683-df34-4624-8a2d-1eff05e14048",filter:"$",fromId:"2cf66206-3274-44a9-b9e9-91aa141b59db",toId:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:815,y:71},angle:0,id:"2cf66206-3274-44a9-b9e9-91aa141b59db",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:72},angle:0,tokens:0,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:1,id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:996,y:72},angle:0,tokens:0,id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"6ab7b842-a2de-4637-a9b6-0d4a6929f6b0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fac5fa6c-b428-4541-b8e8-ccd7cc1ad3dd",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"7315d428-e4e0-49f6-ab78-52e02ed1ae10",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"2b0af833-6528-40a4-a777-44cedafeee4c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"18a388bf-3b53-4495-b55b-c1a956795295",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},target:{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",selector:".root"},id:"9511f11c-df82-44aa-b210-d4d34016ee60",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",selector:".root"},target:{id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5",selector:".root"},id:"c6837683-df34-4624-8a2d-1eff05e14048",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-9-structured-discriminator",net:{typeData:{placeTypes:{"05cb35a6-0ee6-4f5a-9f70-55d671fdbd52":"instances","4f9b7d1b-4df4-4b05-a06a-ded2a75aeac8":"instances","da423599-d447-48d5-a250-e0e12a6933f7":"custom"},transitionTypes:{"21635c6b-77c8-461c-955a-cdeca2098346":"custom","2cf66206-3274-44a9-b9e9-91aa141b59db":"custom","d080a7be-ed5b-47bc-b8e2-32e225378e9d":"custom"}},netData:{places:[{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"p1",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5",name:"o1",marking:[],schema:{type:"array",items:{type:"object",properties:{case_id:{type:"number"}},required:["case_id"]},$id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5"}},{id:"05cb35a6-0ee6-4f5a-9f70-55d671fdbd52",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"05cb35a6-0ee6-4f5a-9f70-55d671fdbd52"}},{id:"4f9b7d1b-4df4-4b05-a06a-ded2a75aeac8",name:"i2",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4f9b7d1b-4df4-4b05-a06a-ded2a75aeac8"}},{id:"88b542ca-39ee-4130-8f21-a553105af5ee",name:"p2",marking:[{}],schema:{type:"array",items:{type:"object"},$id:"88b542ca-39ee-4130-8f21-a553105af5ee"}},{id:"65401d91-7811-46a7-8eac-d524d686fd76",name:"p3",marking:[],schema:{type:"array",items:{type:"object",properties:{case_id:{type:"number"}},required:["case_id"]},$id:"65401d91-7811-46a7-8eac-d524d686fd76"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"A1",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"A2",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';",output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = {};",output_p1_value:"local output_p1_value = input_i2_value;"}},{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];",output_p3_value:"local output_p3_value = {};"}},{id:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",name:"reset",preface:"local m = 2;",guard:"std.length(input_p1_value) == m-1",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';",output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = {};",output_p1_value:"local output_p1_value = [];"}}],arcs:[{id:"2b0af833-6528-40a4-a777-44cedafeee4c",filter:"$.*",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"18a388bf-3b53-4495-b55b-c1a956795295",filter:"$.*",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"9511f11c-df82-44aa-b210-d4d34016ee60",filter:"$.*.*",fromId:"da423599-d447-48d5-a250-e0e12a6933f7",toId:"2cf66206-3274-44a9-b9e9-91aa141b59db"},{id:"c6837683-df34-4624-8a2d-1eff05e14048",filter:"$",fromId:"2cf66206-3274-44a9-b9e9-91aa141b59db",toId:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5"},{id:"e80aec19-94df-4197-a6cf-0e868d444cd6",filter:"$.*",fromId:"05cb35a6-0ee6-4f5a-9f70-55d671fdbd52",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"66fd766f-00ef-45b0-9c19-37fbd16a8086",filter:"$.*",fromId:"4f9b7d1b-4df4-4b05-a06a-ded2a75aeac8",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"},{id:"04824514-daea-486a-8cf4-ec1f9c5c7b24",filter:"$",fromId:"2cf66206-3274-44a9-b9e9-91aa141b59db",toId:"65401d91-7811-46a7-8eac-d524d686fd76"},{id:"3fec9fef-f96d-479a-aec6-4ddd62d38225",filter:"$.*",fromId:"da423599-d447-48d5-a250-e0e12a6933f7",toId:"d080a7be-ed5b-47bc-b8e2-32e225378e9d"},{id:"0114ad54-bc56-41f0-9347-391dc4690128",filter:"$.*",fromId:"65401d91-7811-46a7-8eac-d524d686fd76",toId:"d080a7be-ed5b-47bc-b8e2-32e225378e9d"},{id:"9c4e5d96-d01b-4636-9a23-0fdc30a72d68",filter:"$",fromId:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",toId:"88b542ca-39ee-4130-8f21-a553105af5ee"},{id:"bb9212e5-0cd8-4ac4-8885-c8c61f4fbcba",filter:"$.*",fromId:"88b542ca-39ee-4130-8f21-a553105af5ee",toId:"2cf66206-3274-44a9-b9e9-91aa141b59db"},{id:"65618930-4497-4f45-9eed-1f6e06fd867e",filter:"$",fromId:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",toId:"da423599-d447-48d5-a250-e0e12a6933f7"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A1"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:156},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"A2"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:864,y:72},angle:0,id:"2cf66206-3274-44a9-b9e9-91aa141b59db",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:672,y:276},angle:0,id:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"reset"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:72},angle:0,tokens:1,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1068,y:72},angle:0,tokens:0,id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:372,y:0},angle:0,tokens:1,id:"05cb35a6-0ee6-4f5a-9f70-55d671fdbd52",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:372,y:156},angle:0,tokens:1,id:"4f9b7d1b-4df4-4b05-a06a-ded2a75aeac8",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:804,y:168},angle:0,tokens:1,id:"88b542ca-39ee-4130-8f21-a553105af5ee",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:888,y:276},angle:0,tokens:0,id:"65401d91-7811-46a7-8eac-d524d686fd76",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"2b0af833-6528-40a4-a777-44cedafeee4c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"18a388bf-3b53-4495-b55b-c1a956795295",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},target:{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",selector:".root"},id:"9511f11c-df82-44aa-b210-d4d34016ee60",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",selector:".root"},target:{id:"b9fcc13e-4e34-481f-b1f3-99f4a39e0ea5",selector:".root"},id:"c6837683-df34-4624-8a2d-1eff05e14048",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"05cb35a6-0ee6-4f5a-9f70-55d671fdbd52",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"e80aec19-94df-4197-a6cf-0e868d444cd6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4f9b7d1b-4df4-4b05-a06a-ded2a75aeac8",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"66fd766f-00ef-45b0-9c19-37fbd16a8086",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",selector:".root"},target:{id:"65401d91-7811-46a7-8eac-d524d686fd76",selector:".root"},id:"04824514-daea-486a-8cf4-ec1f9c5c7b24",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},target:{id:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",selector:".root"},id:"3fec9fef-f96d-479a-aec6-4ddd62d38225",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"65401d91-7811-46a7-8eac-d524d686fd76",selector:".root"},target:{id:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",selector:".root"},id:"0114ad54-bc56-41f0-9347-391dc4690128",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",selector:".root"},target:{id:"88b542ca-39ee-4130-8f21-a553105af5ee",selector:".root"},id:"9c4e5d96-d01b-4636-9a23-0fdc30a72d68",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"88b542ca-39ee-4130-8f21-a553105af5ee",selector:".root"},target:{id:"2cf66206-3274-44a9-b9e9-91aa141b59db",selector:".root"},id:"bb9212e5-0cd8-4ac4-8885-c8c61f4fbcba",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d080a7be-ed5b-47bc-b8e2-32e225378e9d",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"65618930-4497-4f45-9eed-1f6e06fd867e",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-10-arbitrary-cycles",net:{typeData:{placeTypes:{"b6c99528-918b-48fe-baaa-e220dff993c1":"instances","9001137b-0e25-4313-87d2-7ca2a461dd35":"instances-helper","68168c8c-b9a4-4b7d-9736-b6f5d0602b46":"instances-helper","50819521-47d4-457e-ac23-c1a1daaa74ce":"instances-helper","1d8b3707-1d85-474f-b5de-8bd12af9f1cf":"instances-helper"},transitionTypes:{"0a70f002-7d6e-4aaa-97d0-41c596278a4d":"custom","46be00c0-1225-4209-af77-f27def72be3d":"custom","d94f9dd3-70f6-4664-81a5-e14b40fe96f5":"custom","ada1bdce-4b47-42d3-9a26-a860a7fbebc6":"instances","bdc979d2-e28b-4857-9cc1-298c3b7793e1":"custom","5526b8ac-df46-46a6-a575-16b93aab4bf0":"custom"}},netData:{places:[{id:"b6c99528-918b-48fe-baaa-e220dff993c1",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"b6c99528-918b-48fe-baaa-e220dff993c1"}},{id:"9001137b-0e25-4313-87d2-7ca2a461dd35",name:"p1",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"9001137b-0e25-4313-87d2-7ca2a461dd35"}},{id:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46",name:"p2",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46"}},{id:"6bfc6c71-6da2-4743-bb54-ad131e869f9e",name:"p3",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"6bfc6c71-6da2-4743-bb54-ad131e869f9e"}},{id:"3ead9aeb-e022-4f13-952b-1d56ba656707",name:"p4",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"3ead9aeb-e022-4f13-952b-1d56ba656707"}},{id:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf",name:"p5",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf"}},{id:"50819521-47d4-457e-ac23-c1a1daaa74ce",name:"o1",marking:[{data:[]}],schema:{title:"Process instances (helper)",description:"Place that stores tokens with process instance IDs within a helper construction.",type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}}},required:["data"]},$id:"50819521-47d4-457e-ac23-c1a1daaa74ce"}}],transitions:[{id:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",name:"A",preface:"local cond1 = true;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = 'data';",output_p2_key:"local output_p2_key = 'data';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = if cond1 then [input_values[0]] else [];",output_p2_value:"local output_p2_value = if cond1 then [] else [input_values[0]];"}},{id:"46be00c0-1225-4209-af77-f27def72be3d",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_values[0];"}},{id:"d94f9dd3-70f6-4664-81a5-e14b40fe96f5",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_values[0];"}},{id:"ada1bdce-4b47-42d3-9a26-a860a7fbebc6",name:"D",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_values[0];"}},{id:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",name:"E",preface:"local cond2 = true;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = 'data';",output_p5_key:"local output_p5_key = 'data';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = if cond2 then [] else [input_values[0]];",output_p5_value:"local output_p5_value = if cond2 then [input_values[0]] else [];"}},{id:"5526b8ac-df46-46a6-a575-16b93aab4bf0",name:"F",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_values[0];"}}],arcs:[{id:"85157855-d788-4585-8697-9b5ba0d0cdb3",filter:"$.*",fromId:"b6c99528-918b-48fe-baaa-e220dff993c1",toId:"0a70f002-7d6e-4aaa-97d0-41c596278a4d"},{id:"16df941e-16f5-470a-8e8f-6dbc63f9beea",filter:"$.*",fromId:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",toId:"9001137b-0e25-4313-87d2-7ca2a461dd35"},{id:"31e14679-a0ce-4f99-ad7b-5fd907da2d16",filter:"$.*",fromId:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",toId:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46"},{id:"18e21528-cbe7-4e9e-8403-048c2142dcac",filter:"$.*.data.*",fromId:"9001137b-0e25-4313-87d2-7ca2a461dd35",toId:"46be00c0-1225-4209-af77-f27def72be3d"},{id:"2df586ef-e19f-4a8f-9318-739a294cfccf",filter:"$.*.data.*",fromId:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46",toId:"d94f9dd3-70f6-4664-81a5-e14b40fe96f5"},{id:"fbeaa7d7-d410-42b1-bbde-bf43df90a2d2",filter:"$",fromId:"46be00c0-1225-4209-af77-f27def72be3d",toId:"6bfc6c71-6da2-4743-bb54-ad131e869f9e"},{id:"dfac896b-4618-4107-b4ac-d2ab812494b5",filter:"$.*",fromId:"6bfc6c71-6da2-4743-bb54-ad131e869f9e",toId:"ada1bdce-4b47-42d3-9a26-a860a7fbebc6"},{id:"f5cae7eb-e588-425b-9348-a130364b8529",filter:"$",fromId:"ada1bdce-4b47-42d3-9a26-a860a7fbebc6",toId:"3ead9aeb-e022-4f13-952b-1d56ba656707"},{id:"90bdaece-87b1-482a-ab09-f4c0927e0bc0",filter:"$.*",fromId:"3ead9aeb-e022-4f13-952b-1d56ba656707",toId:"bdc979d2-e28b-4857-9cc1-298c3b7793e1"},{id:"251b0a55-afeb-43e0-aa09-3e980ba9a5c5",filter:"$.*",fromId:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",toId:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf"},{id:"4c2c203e-78a5-4f70-bfa6-ab2ca8b2b046",filter:"$.*.data.*",fromId:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf",toId:"5526b8ac-df46-46a6-a575-16b93aab4bf0"},{id:"1fd305a8-2430-41fc-a83f-03c27bc9dafc",filter:"$.*",fromId:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",toId:"50819521-47d4-457e-ac23-c1a1daaa74ce"},{id:"ac26a7df-4efe-4f6d-8a21-9dcb20299a7b",filter:"$",fromId:"d94f9dd3-70f6-4664-81a5-e14b40fe96f5",toId:"3ead9aeb-e022-4f13-952b-1d56ba656707"},{id:"8faa4d33-11da-474b-9298-e7ce1c24e569",filter:"$",fromId:"5526b8ac-df46-46a6-a575-16b93aab4bf0",toId:"6bfc6c71-6da2-4743-bb54-ad131e869f9e"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:225},angle:0,id:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:516,y:168},angle:0,id:"46be00c0-1225-4209-af77-f27def72be3d",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:516,y:288},angle:0,id:"d94f9dd3-70f6-4664-81a5-e14b40fe96f5",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:864,y:168},angle:0,id:"ada1bdce-4b47-42d3-9a26-a860a7fbebc6",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1224,y:168},angle:0,id:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1584,y:168},angle:0,id:"5526b8ac-df46-46a6-a575-16b93aab4bf0",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"F"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:225},angle:0,tokens:1,id:"b6c99528-918b-48fe-baaa-e220dff993c1",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:372,y:168},angle:0,tokens:1,id:"9001137b-0e25-4313-87d2-7ca2a461dd35",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:372,y:288},angle:0,tokens:1,id:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:708,y:168},angle:0,tokens:0,id:"6bfc6c71-6da2-4743-bb54-ad131e869f9e",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1080,y:168},angle:0,tokens:0,id:"3ead9aeb-e022-4f13-952b-1d56ba656707",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1440,y:168},angle:0,tokens:1,id:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1248,y:276},angle:0,tokens:1,id:"50819521-47d4-457e-ac23-c1a1daaa74ce",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"b6c99528-918b-48fe-baaa-e220dff993c1",selector:".root"},target:{id:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",selector:".root"},id:"85157855-d788-4585-8697-9b5ba0d0cdb3",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",selector:".root"},target:{id:"9001137b-0e25-4313-87d2-7ca2a461dd35",selector:".root"},id:"16df941e-16f5-470a-8e8f-6dbc63f9beea",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0a70f002-7d6e-4aaa-97d0-41c596278a4d",selector:".root"},target:{id:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46",selector:".root"},id:"31e14679-a0ce-4f99-ad7b-5fd907da2d16",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9001137b-0e25-4313-87d2-7ca2a461dd35",selector:".root"},target:{id:"46be00c0-1225-4209-af77-f27def72be3d",selector:".root"},id:"18e21528-cbe7-4e9e-8403-048c2142dcac",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"68168c8c-b9a4-4b7d-9736-b6f5d0602b46",selector:".root"},target:{id:"d94f9dd3-70f6-4664-81a5-e14b40fe96f5",selector:".root"},id:"2df586ef-e19f-4a8f-9318-739a294cfccf",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"46be00c0-1225-4209-af77-f27def72be3d",selector:".root"},target:{id:"6bfc6c71-6da2-4743-bb54-ad131e869f9e",selector:".root"},id:"fbeaa7d7-d410-42b1-bbde-bf43df90a2d2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6bfc6c71-6da2-4743-bb54-ad131e869f9e",selector:".root"},target:{id:"ada1bdce-4b47-42d3-9a26-a860a7fbebc6",selector:".root"},id:"dfac896b-4618-4107-b4ac-d2ab812494b5",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ada1bdce-4b47-42d3-9a26-a860a7fbebc6",selector:".root"},target:{id:"3ead9aeb-e022-4f13-952b-1d56ba656707",selector:".root"},id:"f5cae7eb-e588-425b-9348-a130364b8529",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3ead9aeb-e022-4f13-952b-1d56ba656707",selector:".root"},target:{id:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",selector:".root"},id:"90bdaece-87b1-482a-ab09-f4c0927e0bc0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",selector:".root"},target:{id:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf",selector:".root"},id:"251b0a55-afeb-43e0-aa09-3e980ba9a5c5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1d8b3707-1d85-474f-b5de-8bd12af9f1cf",selector:".root"},target:{id:"5526b8ac-df46-46a6-a575-16b93aab4bf0",selector:".root"},id:"4c2c203e-78a5-4f70-bfa6-ab2ca8b2b046",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bdc979d2-e28b-4857-9cc1-298c3b7793e1",selector:".root"},target:{id:"50819521-47d4-457e-ac23-c1a1daaa74ce",selector:".root"},id:"1fd305a8-2430-41fc-a83f-03c27bc9dafc",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d94f9dd3-70f6-4664-81a5-e14b40fe96f5",selector:".root"},target:{id:"3ead9aeb-e022-4f13-952b-1d56ba656707",selector:".root"},id:"ac26a7df-4efe-4f6d-8a21-9dcb20299a7b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[{x:1105,y:313}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"5526b8ac-df46-46a6-a575-16b93aab4bf0",selector:".root"},target:{id:"6bfc6c71-6da2-4743-bb54-ad131e869f9e",selector:".root"},id:"8faa4d33-11da-474b-9298-e7ce1c24e569",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[{x:1634,y:48},{x:733,y:48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-12-multiple-instances-without-synchronization",net:{typeData:{placeTypes:{"05b7210c-fa9b-460e-a727-fc1cf702ddc2":"instances","4a329980-2d99-4131-b360-bff0a9f6558b":"instances","91a2b9a8-c58b-41b4-9a57-deb170134a22":"instances","b65302ec-6528-499a-95da-176bd81a343a":"instances","336cc0bd-e6da-4dfc-9913-ef121b76212b":"custom","b54d4a4b-6f5b-429c-998f-b6dfcee4ca0c":"custom"},transitionTypes:{"1e1e0879-3ff6-495b-9928-231d696b0846":"instances","13893056-0038-4f4d-aafc-c6297b1402ce":"custom"}},netData:{places:[{id:"4a329980-2d99-4131-b360-bff0a9f6558b",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4a329980-2d99-4131-b360-bff0a9f6558b"}},{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",name:"p3",marking:[[]],schema:{type:"array",maxItems:1,minItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"336cc0bd-e6da-4dfc-9913-ef121b76212b"}},{id:"05b7210c-fa9b-460e-a727-fc1cf702ddc2",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"05b7210c-fa9b-460e-a727-fc1cf702ddc2"}},{id:"91a2b9a8-c58b-41b4-9a57-deb170134a22",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"91a2b9a8-c58b-41b4-9a57-deb170134a22"}},{id:"b65302ec-6528-499a-95da-176bd81a343a",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"b65302ec-6528-499a-95da-176bd81a343a"}},{id:"b54d4a4b-6f5b-429c-998f-b6dfcee4ca0c",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"b54d4a4b-6f5b-429c-998f-b6dfcee4ca0c"}}],transitions:[{id:"13893056-0038-4f4d-aafc-c6297b1402ce",name:"create_instances",preface:"local numinsts = 3;",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_p3_value + std.repeat([input_values[0]],numinsts);",output_p2_value:"local output_p2_value = input_values[0];"}},{id:"1e1e0879-3ff6-495b-9928-231d696b0846",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"58c2d190-5a52-45dc-ab29-2e320c8305ed",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_p2_value;"}},{id:"497c2dce-e557-45c0-812e-03541a269d0f",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p3_value;"}}],arcs:[{id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",filter:"$.*",fromId:"4a329980-2d99-4131-b360-bff0a9f6558b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"336cc0bd-e6da-4dfc-9913-ef121b76212b"},{id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",filter:"$.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"b37836d5-9522-47c1-ae13-7aa72def7d8d",filter:"$.*",fromId:"05b7210c-fa9b-460e-a727-fc1cf702ddc2",toId:"1e1e0879-3ff6-495b-9928-231d696b0846"},{id:"7b6a21d8-06bd-4c76-9844-c4346864196f",filter:"$",fromId:"1e1e0879-3ff6-495b-9928-231d696b0846",toId:"4a329980-2d99-4131-b360-bff0a9f6558b"},{id:"09af0ed6-ae2e-4318-9fe7-240e0b402004",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"91a2b9a8-c58b-41b4-9a57-deb170134a22"},{id:"cb3e02c0-d267-47ea-943b-77ddd249c856",filter:"$.*",fromId:"91a2b9a8-c58b-41b4-9a57-deb170134a22",toId:"58c2d190-5a52-45dc-ab29-2e320c8305ed"},{id:"0b00ce7c-fde2-4fa2-935b-3a898c4ebe04",filter:"$",fromId:"58c2d190-5a52-45dc-ab29-2e320c8305ed",toId:"b65302ec-6528-499a-95da-176bd81a343a"},{id:"d82a34c6-5924-4cce-9a85-26f8a4083757",filter:"$.*.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"497c2dce-e557-45c0-812e-03541a269d0f"},{id:"a285602a-e427-46a3-97fb-951cd314b16f",filter:"$",fromId:"497c2dce-e557-45c0-812e-03541a269d0f",toId:"b54d4a4b-6f5b-429c-998f-b6dfcee4ca0c"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:540,y:360},angle:0,id:"13893056-0038-4f4d-aafc-c6297b1402ce",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"create_instances"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:228,y:360},angle:0,id:"1e1e0879-3ff6-495b-9928-231d696b0846",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:804,y:360},angle:0,id:"58c2d190-5a52-45dc-ab29-2e320c8305ed",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:804,y:228},angle:0,id:"497c2dce-e557-45c0-812e-03541a269d0f",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:408,y:360},angle:0,tokens:0,id:"4a329980-2d99-4131-b360-bff0a9f6558b",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:564,y:228},angle:0,tokens:1,id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:107,y:359},angle:0,tokens:1,id:"05b7210c-fa9b-460e-a727-fc1cf702ddc2",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:719,y:359},angle:0,tokens:0,id:"91a2b9a8-c58b-41b4-9a57-deb170134a22",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:959,y:359},angle:0,tokens:0,id:"b65302ec-6528-499a-95da-176bd81a343a",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:960,y:228},angle:0,tokens:0,id:"b54d4a4b-6f5b-429c-998f-b6dfcee4ca0c",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4a329980-2d99-4131-b360-bff0a9f6558b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"05b7210c-fa9b-460e-a727-fc1cf702ddc2",selector:".root"},target:{id:"1e1e0879-3ff6-495b-9928-231d696b0846",selector:".root"},id:"b37836d5-9522-47c1-ae13-7aa72def7d8d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1e1e0879-3ff6-495b-9928-231d696b0846",selector:".root"},target:{id:"4a329980-2d99-4131-b360-bff0a9f6558b",selector:".root"},id:"7b6a21d8-06bd-4c76-9844-c4346864196f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"91a2b9a8-c58b-41b4-9a57-deb170134a22",selector:".root"},id:"09af0ed6-ae2e-4318-9fe7-240e0b402004",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"91a2b9a8-c58b-41b4-9a57-deb170134a22",selector:".root"},target:{id:"58c2d190-5a52-45dc-ab29-2e320c8305ed",selector:".root"},id:"cb3e02c0-d267-47ea-943b-77ddd249c856",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"58c2d190-5a52-45dc-ab29-2e320c8305ed",selector:".root"},target:{id:"b65302ec-6528-499a-95da-176bd81a343a",selector:".root"},id:"0b00ce7c-fde2-4fa2-935b-3a898c4ebe04",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"497c2dce-e557-45c0-812e-03541a269d0f",selector:".root"},id:"d82a34c6-5924-4cce-9a85-26f8a4083757",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"497c2dce-e557-45c0-812e-03541a269d0f",selector:".root"},target:{id:"b54d4a4b-6f5b-429c-998f-b6dfcee4ca0c",selector:".root"},id:"a285602a-e427-46a3-97fb-951cd314b16f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp13-multiple-instances-with-a-priori-design-time-knowledge",net:{typeData:{placeTypes:{"4a329980-2d99-4131-b360-bff0a9f6558b":"instances","3f6af269-c42c-4c65-80a2-f438e5453561":"instances"},transitionTypes:{"13893056-0038-4f4d-aafc-c6297b1402ce":"custom","9ee0c29d-678d-4cc4-9145-ab6b8d753419":"custom","9e5f7abd-4fae-466c-a739-d34d5f3f21c3":"custom"}},netData:{places:[{id:"4a329980-2d99-4131-b360-bff0a9f6558b",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4a329980-2d99-4131-b360-bff0a9f6558b"}},{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",name:"p1",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"336cc0bd-e6da-4dfc-9913-ef121b76212b"}},{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",name:"p2",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"}},{id:"3f6af269-c42c-4c65-80a2-f438e5453561",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3f6af269-c42c-4c65-80a2-f438e5453561"}}],transitions:[{id:"13893056-0038-4f4d-aafc-c6297b1402ce",name:"A",preface:"local numinsts = 3;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_p1_value + std.repeat([input_i1_value],numinsts);"}},{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",name:"B",preface:"local numinsts = 3;",guard:"std.length(input_p2_value) == numinsts",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value[0];",output_p2_value:"local output_p2_value = [];"}}],arcs:[{id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",filter:"$.*",fromId:"4a329980-2d99-4131-b360-bff0a9f6558b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"336cc0bd-e6da-4dfc-9913-ef121b76212b"},{id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",filter:"$.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"d58114cd-35d6-41f2-9e68-430688d23d16",filter:"$.*.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419"},{id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",filter:"$.*",fromId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",filter:"$.*",fromId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"},{id:"fbc51860-5454-4213-9f22-a99c146f18a5",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"3f6af269-c42c-4c65-80a2-f438e5453561"},{id:"f60265ce-746f-4ce2-9820-c8cf1d864355",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"13893056-0038-4f4d-aafc-c6297b1402ce",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"4a329980-2d99-4131-b360-bff0a9f6558b",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:1,id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"3f6af269-c42c-4c65-80a2-f438e5453561",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4a329980-2d99-4131-b360-bff0a9f6558b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},id:"d58114cd-35d6-41f2-9e68-430688d23d16",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"3f6af269-c42c-4c65-80a2-f438e5453561",selector:".root"},id:"fbc51860-5454-4213-9f22-a99c146f18a5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"f60265ce-746f-4ce2-9820-c8cf1d864355",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-14-multiple-instances-with-a-priori-run-time-knowledge",net:{typeData:{placeTypes:{},transitionTypes:{"9ee0c29d-678d-4cc4-9145-ab6b8d753419":"custom"}},netData:{places:[{id:"4a329980-2d99-4131-b360-bff0a9f6558b",name:"i1",marking:[{instance_id:0,numinst:3}],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"},numinst:{type:"number"}},required:["instance_id","numinst"]},$id:"4a329980-2d99-4131-b360-bff0a9f6558b"}},{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",name:"p1",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"336cc0bd-e6da-4dfc-9913-ef121b76212b"}},{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",name:"p2",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"}},{id:"3f6af269-c42c-4c65-80a2-f438e5453561",name:"o1",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"3f6af269-c42c-4c65-80a2-f438e5453561"}},{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",name:"p3",marking:[],schema:{type:"array",items:{type:"number"},$id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"}}],transitions:[{id:"13893056-0038-4f4d-aafc-c6297b1402ce",name:"A",preface:"local numinsts = input_i1_value.numinst;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_p1_value + std.repeat([input_i1_value],numinsts);",output_p3_value:"local output_p3_value = numinsts;"}},{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",name:"B",preface:"local numinsts = input_p3_value;",guard:"std.length(input_p2_value) >= 1",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value[0];",output_p2_value:"local output_p2_value = [];"}}],arcs:[{id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",filter:"$.*",fromId:"4a329980-2d99-4131-b360-bff0a9f6558b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"336cc0bd-e6da-4dfc-9913-ef121b76212b"},{id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",filter:"$.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"d58114cd-35d6-41f2-9e68-430688d23d16",filter:"$.*.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419"},{id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",filter:"$.*",fromId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",filter:"$.*",fromId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"},{id:"fbc51860-5454-4213-9f22-a99c146f18a5",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"3f6af269-c42c-4c65-80a2-f438e5453561"},{id:"f60265ce-746f-4ce2-9820-c8cf1d864355",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"ec17067d-1200-44c9-a109-ab2a6856d0f7",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"},{id:"1fa5fa2a-c751-410c-8eff-7ab2d000340f",filter:"$.*",fromId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"13893056-0038-4f4d-aafc-c6297b1402ce",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"4a329980-2d99-4131-b360-bff0a9f6558b",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:1,id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"3f6af269-c42c-4c65-80a2-f438e5453561",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:527,y:119},angle:0,tokens:0,id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4a329980-2d99-4131-b360-bff0a9f6558b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},id:"d58114cd-35d6-41f2-9e68-430688d23d16",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"3f6af269-c42c-4c65-80a2-f438e5453561",selector:".root"},id:"fbc51860-5454-4213-9f22-a99c146f18a5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"f60265ce-746f-4ce2-9820-c8cf1d864355",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},id:"ec17067d-1200-44c9-a109-ab2a6856d0f7",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[{x:200,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"1fa5fa2a-c751-410c-8eff-7ab2d000340f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[{x:900,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-15-multiple-instances-without-a-priori-run-time-knowledge",net:{typeData:{placeTypes:{"4a329980-2d99-4131-b360-bff0a9f6558b":"instances","336cc0bd-e6da-4dfc-9913-ef121b76212b":"custom","8d54be5b-8a86-4fa5-ad3f-e723d8f9197f":"custom","3f6af269-c42c-4c65-80a2-f438e5453561":"instances","50536fcc-91c1-49c8-a9dc-ba3356410b1b":"custom"},transitionTypes:{"13893056-0038-4f4d-aafc-c6297b1402ce":"custom","66d90a00-bf4f-48ab-a984-8c43d9c9c8ff":"custom","9ee0c29d-678d-4cc4-9145-ab6b8d753419":"custom","9e5f7abd-4fae-466c-a739-d34d5f3f21c3":"custom"}},netData:{places:[{id:"4a329980-2d99-4131-b360-bff0a9f6558b",name:"i1",marking:[{instanceID:"i0",numinst:3}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4a329980-2d99-4131-b360-bff0a9f6558b"}},{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",name:"p1",marking:[[]],schema:{type:"array",maxItems:1,minItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"336cc0bd-e6da-4dfc-9913-ef121b76212b"}},{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",name:"p2",marking:[[]],schema:{type:"array",maxItems:1,minItems:1,items:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}},$id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"}},{id:"3f6af269-c42c-4c65-80a2-f438e5453561",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3f6af269-c42c-4c65-80a2-f438e5453561"}},{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",name:"p4",marking:[],schema:{type:"array",items:{type:"number"},$id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"}},{id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",name:"p3",marking:[],schema:{type:"array",items:{type:"object"},$id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1"}}],transitions:[{id:"13893056-0038-4f4d-aafc-c6297b1402ce",name:"A",preface:"local numinst = input_i1_value.numinst;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p4_key:"local output_p4_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_p1_value + std.repeat([{ instanceID: input_i1_value.instanceID} ],numinst);",output_p4_value:"local output_p4_value = numinst;",output_p3_value:"local output_p3_value = { instanceID: input_i1_value.instanceID };"}},{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",name:"B",preface:"local numinst = input_p4_value;",guard:`
std.length(input_p2_value) == numinst`,customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value[0];",output_p2_value:"local output_p2_value = [];"}},{id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",name:"add_instance",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';",output_p1_key:"local output_p1_key = '-';",output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = input_p3_value;",output_p1_value:"local output_p1_value = input_p3_value;",output_p4_value:"local output_p4_value = input_p4_value + 1;"}}],arcs:[{id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",filter:"$.*",fromId:"4a329980-2d99-4131-b360-bff0a9f6558b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"336cc0bd-e6da-4dfc-9913-ef121b76212b"},{id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",filter:"$.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"d58114cd-35d6-41f2-9e68-430688d23d16",filter:"$.*.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419"},{id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",filter:"$.*",fromId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",filter:"$.*",fromId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"},{id:"fbc51860-5454-4213-9f22-a99c146f18a5",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"3f6af269-c42c-4c65-80a2-f438e5453561"},{id:"f60265ce-746f-4ce2-9820-c8cf1d864355",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"ec17067d-1200-44c9-a109-ab2a6856d0f7",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"},{id:"1fa5fa2a-c751-410c-8eff-7ab2d000340f",filter:"$.*",fromId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"},{id:"7da7dd44-70a0-4a68-90d3-b1dfc52735f1",filter:"$",fromId:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",toId:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1"},{id:"9856b91f-d780-4070-b793-cfbb34514ad5",filter:"$.*",fromId:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",toId:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff"},{id:"cb5bd675-cf84-43f4-b75d-32f456da263a",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1"},{id:"8b566813-d35d-4e55-9ff4-22a61d91e486",filter:"$.*",fromId:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"},{id:"7d81b258-d324-4886-b7ab-d64be11015bb",filter:"$.*",fromId:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",toId:"336cc0bd-e6da-4dfc-9913-ef121b76212b"},{id:"a815982b-8258-4791-9184-45b8cd36bc85",filter:"$.*",fromId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",toId:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff"},{id:"7003d41c-204e-4287-848b-05aae071697a",filter:"$",fromId:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",toId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"13893056-0038-4f4d-aafc-c6297b1402ce",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:216},angle:0,id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"add_instance"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"4a329980-2d99-4131-b360-bff0a9f6558b",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:1,id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"3f6af269-c42c-4c65-80a2-f438e5453561",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:527,y:119},angle:0,tokens:0,id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:312},angle:0,tokens:0,id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4a329980-2d99-4131-b360-bff0a9f6558b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},id:"d58114cd-35d6-41f2-9e68-430688d23d16",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"3f6af269-c42c-4c65-80a2-f438e5453561",selector:".root"},id:"fbc51860-5454-4213-9f22-a99c146f18a5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"f60265ce-746f-4ce2-9820-c8cf1d864355",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},id:"ec17067d-1200-44c9-a109-ab2a6856d0f7",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[{x:200,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"1fa5fa2a-c751-410c-8eff-7ab2d000340f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[{x:900,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",selector:".root"},target:{id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",selector:".root"},id:"7da7dd44-70a0-4a68-90d3-b1dfc52735f1",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",selector:".root"},target:{id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",selector:".root"},id:"9856b91f-d780-4070-b793-cfbb34514ad5",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",selector:".root"},id:"cb5bd675-cf84-43f4-b75d-32f456da263a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[{x:200,y:337}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"05bfbe7a-bb3b-47b3-8935-5e70994fa9c1",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"8b566813-d35d-4e55-9ff4-22a61d91e486",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[{x:900,y:337}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",selector:".root"},target:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},id:"7d81b258-d324-4886-b7ab-d64be11015bb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[{x:375,y:241}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},target:{id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",selector:".root"},id:"a815982b-8258-4791-9184-45b8cd36bc85",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"66d90a00-bf4f-48ab-a984-8c43d9c9c8ff",selector:".root"},target:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},id:"7003d41c-204e-4287-848b-05aae071697a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-16-deferred-choice",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances","da423599-d447-48d5-a250-e0e12a6933f7":"instances","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"instances","21635c6b-77c8-461c-955a-cdeca2098346":"instances","916ce7e1-8086-40b1-a508-79bfa944d5e4":"instances"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_values[0];"}},{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}}],arcs:[{id:"7a5e9dd4-d284-4812-9215-b1d410283508",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"2e7d9ed9-013b-478d-9c88-432048685ca1",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"},{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"f214d583-17a1-4b31-b742-4d725576ac97",filter:"$",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"d0047c45-9b80-4758-bf92-563024870259",filter:"$",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:75},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"7a5e9dd4-d284-4812-9215-b1d410283508",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"2e7d9ed9-013b-478d-9c88-432048685ca1",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"f214d583-17a1-4b31-b742-4d725576ac97",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"d0047c45-9b80-4758-bf92-563024870259",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-17-interleaved-parallel-routing",net:{typeData:{placeTypes:{"314b3ca7-6bc6-414d-bc7f-e00c8aef39f4":"instances","eb4b4d1d-637a-44ad-815c-8f0578528c13":"instances","a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6":"instances","4d4899bf-443b-4a91-8fb3-a3efd369995e":"custom","f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71":"instances","a0cc5cc8-213a-4471-bdc5-c25b46271775":"instances","8b55be25-8d73-4569-b837-18f5dfee03c7":"instances","36bd8c21-3d31-4add-9076-feee790846c3":"instances"},transitionTypes:{"09a04197-b285-40f1-97f8-0d03257d76b1":"instances","248137d9-4bf9-481f-9089-ef396150c978":"custom","d917036c-b368-49bd-86bd-0a4a5d69c526":"custom","71401408-ab35-4a6b-9ee0-1c3c02c2a158":"custom","c520a256-3267-400b-8b1a-eaa68ae9c17e":"instances"}},netData:{places:[{id:"314b3ca7-6bc6-414d-bc7f-e00c8aef39f4",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"314b3ca7-6bc6-414d-bc7f-e00c8aef39f4"}},{id:"eb4b4d1d-637a-44ad-815c-8f0578528c13",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"eb4b4d1d-637a-44ad-815c-8f0578528c13"}},{id:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6"}},{id:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71",name:"p4",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71"}},{id:"36bd8c21-3d31-4add-9076-feee790846c3",name:"p5",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"36bd8c21-3d31-4add-9076-feee790846c3"}},{id:"a0cc5cc8-213a-4471-bdc5-c25b46271775",name:"p6",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"a0cc5cc8-213a-4471-bdc5-c25b46271775"}},{id:"8b55be25-8d73-4569-b837-18f5dfee03c7",name:"p7",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"8b55be25-8d73-4569-b837-18f5dfee03c7"}},{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",name:"p3",marking:[{}],schema:{type:"array",maxItems:1,items:{type:"object"},$id:"4d4899bf-443b-4a91-8fb3-a3efd369995e"}}],transitions:[{id:"09a04197-b285-40f1-97f8-0d03257d76b1",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];",output_p2_value:"local output_p2_value = input_values[0];"}},{id:"248137d9-4bf9-481f-9089-ef396150c978",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';",output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = {};",output_p4_value:"local output_p4_value = input_values[0];"}},{id:"d917036c-b368-49bd-86bd-0a4a5d69c526",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';",output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = {};",output_p5_value:"local output_p5_value = input_values[0];"}},{id:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",name:"D",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p3_key:"local output_p3_key = '-';",output_p6_key:"local output_p6_key = '-';"},fragmentVarSnippets:{output_p3_value:"local output_p3_value = {};",output_p6_value:"local output_p6_value = input_values[0];"}},{id:"c520a256-3267-400b-8b1a-eaa68ae9c17e",name:"E",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p7_key:"local output_p7_key = '-';"},fragmentVarSnippets:{output_p7_value:"local output_p7_value = input_values[0];"}}],arcs:[{id:"2dc7d662-16d1-486a-b3d2-d4c0a76927d6",filter:"$.*",fromId:"314b3ca7-6bc6-414d-bc7f-e00c8aef39f4",toId:"09a04197-b285-40f1-97f8-0d03257d76b1"},{id:"c5503279-9fc5-436f-9993-58aac0d386a6",filter:"$",fromId:"09a04197-b285-40f1-97f8-0d03257d76b1",toId:"eb4b4d1d-637a-44ad-815c-8f0578528c13"},{id:"921573eb-c289-4643-8c35-10317d5b8ad3",filter:"$.*",fromId:"eb4b4d1d-637a-44ad-815c-8f0578528c13",toId:"248137d9-4bf9-481f-9089-ef396150c978"},{id:"b82649d3-6c13-4cf4-a535-5e842c9a2b57",filter:"$",fromId:"248137d9-4bf9-481f-9089-ef396150c978",toId:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71"},{id:"22ecfb21-5e90-4253-acd5-0715e049830d",filter:"$.*",fromId:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71",toId:"71401408-ab35-4a6b-9ee0-1c3c02c2a158"},{id:"fb147892-fd3e-4f0f-b813-63a91e8093a2",filter:"$",fromId:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",toId:"a0cc5cc8-213a-4471-bdc5-c25b46271775"},{id:"a6c7b3b0-d4a3-4f96-a7d7-e41212ea4562",filter:"$.*",fromId:"a0cc5cc8-213a-4471-bdc5-c25b46271775",toId:"c520a256-3267-400b-8b1a-eaa68ae9c17e"},{id:"f2fee1cd-de95-4e8d-aab7-95e3ec3c30cd",filter:"$",fromId:"c520a256-3267-400b-8b1a-eaa68ae9c17e",toId:"8b55be25-8d73-4569-b837-18f5dfee03c7"},{id:"e3e7265b-ee60-4465-804b-e292f3fc6e49",filter:"$",fromId:"09a04197-b285-40f1-97f8-0d03257d76b1",toId:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6"},{id:"6de97561-eee8-40d2-be2f-46c5420f8f6d",filter:"$.*",fromId:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6",toId:"d917036c-b368-49bd-86bd-0a4a5d69c526"},{id:"b54cabdf-d876-4fe7-9775-93b1240b8875",filter:"$",fromId:"d917036c-b368-49bd-86bd-0a4a5d69c526",toId:"36bd8c21-3d31-4add-9076-feee790846c3"},{id:"8f562508-4999-4400-bd49-39f5d5cdc266",filter:"$.*",fromId:"36bd8c21-3d31-4add-9076-feee790846c3",toId:"c520a256-3267-400b-8b1a-eaa68ae9c17e"},{id:"2142bc87-38a6-4906-9e9c-dd77eff2f5cd",filter:"$",fromId:"248137d9-4bf9-481f-9089-ef396150c978",toId:"4d4899bf-443b-4a91-8fb3-a3efd369995e"},{id:"c5b320fe-31c3-4fb4-a00a-4aecb9e6ae8d",filter:"$.*",fromId:"4d4899bf-443b-4a91-8fb3-a3efd369995e",toId:"d917036c-b368-49bd-86bd-0a4a5d69c526"},{id:"60819707-1e10-4a58-b567-06f973260dbe",filter:"$",fromId:"d917036c-b368-49bd-86bd-0a4a5d69c526",toId:"4d4899bf-443b-4a91-8fb3-a3efd369995e"},{id:"36db6687-2a67-475c-a996-9dad8bf97fc8",filter:"$.*",fromId:"4d4899bf-443b-4a91-8fb3-a3efd369995e",toId:"248137d9-4bf9-481f-9089-ef396150c978"},{id:"f7d83c73-3104-48b1-9f6d-4febe6932138",filter:"$.*",fromId:"4d4899bf-443b-4a91-8fb3-a3efd369995e",toId:"71401408-ab35-4a6b-9ee0-1c3c02c2a158"},{id:"6af82a09-fa02-4864-bcc1-5f7d8a54caeb",filter:"$",fromId:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",toId:"4d4899bf-443b-4a91-8fb3-a3efd369995e"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:250},angle:0,id:"09a04197-b285-40f1-97f8-0d03257d76b1",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:125},angle:0,id:"248137d9-4bf9-481f-9089-ef396150c978",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:372},angle:0,id:"d917036c-b368-49bd-86bd-0a4a5d69c526",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:852,y:120},angle:0,id:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1188,y:240},angle:0,id:"c520a256-3267-400b-8b1a-eaa68ae9c17e",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:250},angle:0,tokens:1,id:"314b3ca7-6bc6-414d-bc7f-e00c8aef39f4",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:125},angle:0,tokens:0,id:"eb4b4d1d-637a-44ad-815c-8f0578528c13",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:372},angle:0,tokens:0,id:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:708,y:120},angle:0,tokens:0,id:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:372},angle:0,tokens:0,id:"36bd8c21-3d31-4add-9076-feee790846c3",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1056,y:120},angle:0,tokens:0,id:"a0cc5cc8-213a-4471-bdc5-c25b46271775",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p6"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1404,y:240},angle:0,tokens:0,id:"8b55be25-8d73-4569-b837-18f5dfee03c7",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p7"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:252},angle:0,tokens:1,id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"314b3ca7-6bc6-414d-bc7f-e00c8aef39f4",selector:".root"},target:{id:"09a04197-b285-40f1-97f8-0d03257d76b1",selector:".root"},id:"2dc7d662-16d1-486a-b3d2-d4c0a76927d6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09a04197-b285-40f1-97f8-0d03257d76b1",selector:".root"},target:{id:"eb4b4d1d-637a-44ad-815c-8f0578528c13",selector:".root"},id:"c5503279-9fc5-436f-9993-58aac0d386a6",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"eb4b4d1d-637a-44ad-815c-8f0578528c13",selector:".root"},target:{id:"248137d9-4bf9-481f-9089-ef396150c978",selector:".root"},id:"921573eb-c289-4643-8c35-10317d5b8ad3",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"248137d9-4bf9-481f-9089-ef396150c978",selector:".root"},target:{id:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71",selector:".root"},id:"b82649d3-6c13-4cf4-a535-5e842c9a2b57",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f149a286-f5f6-4a04-a7ce-6e9f9e6d9a71",selector:".root"},target:{id:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",selector:".root"},id:"22ecfb21-5e90-4253-acd5-0715e049830d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",selector:".root"},target:{id:"a0cc5cc8-213a-4471-bdc5-c25b46271775",selector:".root"},id:"fb147892-fd3e-4f0f-b813-63a91e8093a2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a0cc5cc8-213a-4471-bdc5-c25b46271775",selector:".root"},target:{id:"c520a256-3267-400b-8b1a-eaa68ae9c17e",selector:".root"},id:"a6c7b3b0-d4a3-4f96-a7d7-e41212ea4562",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c520a256-3267-400b-8b1a-eaa68ae9c17e",selector:".root"},target:{id:"8b55be25-8d73-4569-b837-18f5dfee03c7",selector:".root"},id:"f2fee1cd-de95-4e8d-aab7-95e3ec3c30cd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09a04197-b285-40f1-97f8-0d03257d76b1",selector:".root"},target:{id:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6",selector:".root"},id:"e3e7265b-ee60-4465-804b-e292f3fc6e49",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a18e6c22-4b68-490e-b42f-5ba3c4c2fdd6",selector:".root"},target:{id:"d917036c-b368-49bd-86bd-0a4a5d69c526",selector:".root"},id:"6de97561-eee8-40d2-be2f-46c5420f8f6d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d917036c-b368-49bd-86bd-0a4a5d69c526",selector:".root"},target:{id:"36bd8c21-3d31-4add-9076-feee790846c3",selector:".root"},id:"b54cabdf-d876-4fe7-9775-93b1240b8875",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"36bd8c21-3d31-4add-9076-feee790846c3",selector:".root"},target:{id:"c520a256-3267-400b-8b1a-eaa68ae9c17e",selector:".root"},id:"8f562508-4999-4400-bd49-39f5d5cdc266",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"248137d9-4bf9-481f-9089-ef396150c978",selector:".root"},target:{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",selector:".root"},id:"2142bc87-38a6-4906-9e9c-dd77eff2f5cd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",selector:".root"},target:{id:"d917036c-b368-49bd-86bd-0a4a5d69c526",selector:".root"},id:"c5b320fe-31c3-4fb4-a00a-4aecb9e6ae8d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d917036c-b368-49bd-86bd-0a4a5d69c526",selector:".root"},target:{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",selector:".root"},id:"60819707-1e10-4a58-b567-06f973260dbe",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",selector:".root"},target:{id:"248137d9-4bf9-481f-9089-ef396150c978",selector:".root"},id:"36db6687-2a67-475c-a996-9dad8bf97fc8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",selector:".root"},target:{id:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",selector:".root"},id:"f7d83c73-3104-48b1-9f6d-4febe6932138",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"71401408-ab35-4a6b-9ee0-1c3c02c2a158",selector:".root"},target:{id:"4d4899bf-443b-4a91-8fb3-a3efd369995e",selector:".root"},id:"6af82a09-fa02-4864-bcc1-5f7d8a54caeb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-18-milestone",net:{typeData:{placeTypes:{"9e887082-aa42-4443-b65b-e16b81716a92":"instances","7246f89a-657b-4ae8-8d3e-696d8cd17e76":"instances","90161beb-de6e-432c-a0e8-58830a8a54ac":"instances","a8ccc157-ec92-45f9-ad64-765f55990205":"instances","aa203481-492b-4fc8-bd97-eef846930efd":"instances"},transitionTypes:{"976bb27f-22da-4175-a36f-02c2d7c14140":"instances","c29b65f2-1ae1-4805-8389-0e46323116bb":"custom","f9e1fa27-7906-433e-a503-43f7775cf0b4":"instances"}},netData:{places:[{id:"9e887082-aa42-4443-b65b-e16b81716a92",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"9e887082-aa42-4443-b65b-e16b81716a92"}},{id:"90161beb-de6e-432c-a0e8-58830a8a54ac",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"90161beb-de6e-432c-a0e8-58830a8a54ac"}},{id:"a8ccc157-ec92-45f9-ad64-765f55990205",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"a8ccc157-ec92-45f9-ad64-765f55990205"}},{id:"7246f89a-657b-4ae8-8d3e-696d8cd17e76",name:"i2",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"7246f89a-657b-4ae8-8d3e-696d8cd17e76"}},{id:"aa203481-492b-4fc8-bd97-eef846930efd",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"aa203481-492b-4fc8-bd97-eef846930efd"}}],transitions:[{id:"c29b65f2-1ae1-4805-8389-0e46323116bb",name:"A",preface:"",guard:"input_p1_value == input_i2_value",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];",output_o2_value:"local output_o2_value = input_values[0];"}},{id:"976bb27f-22da-4175-a36f-02c2d7c14140",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"f9e1fa27-7906-433e-a503-43f7775cf0b4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"7d1134ce-9f7f-461f-9dd2-8c49615f6f2a",filter:"$.*",fromId:"9e887082-aa42-4443-b65b-e16b81716a92",toId:"976bb27f-22da-4175-a36f-02c2d7c14140"},{id:"d1b32d43-34ca-4ede-9c95-883625578b73",filter:"$",fromId:"976bb27f-22da-4175-a36f-02c2d7c14140",toId:"90161beb-de6e-432c-a0e8-58830a8a54ac"},{id:"8ffe9902-d676-4123-85c6-318fdd106f97",filter:"$.*",fromId:"90161beb-de6e-432c-a0e8-58830a8a54ac",toId:"f9e1fa27-7906-433e-a503-43f7775cf0b4"},{id:"906eff96-b58d-48c7-8481-1e2bd6e17734",filter:"$",fromId:"f9e1fa27-7906-433e-a503-43f7775cf0b4",toId:"a8ccc157-ec92-45f9-ad64-765f55990205"},{id:"3fea5bea-d9b6-4024-a461-461f88ec8e8a",filter:"$.*",fromId:"7246f89a-657b-4ae8-8d3e-696d8cd17e76",toId:"c29b65f2-1ae1-4805-8389-0e46323116bb"},{id:"8afd6079-4bed-4ba1-9a5c-761b7ede9144",filter:"$",fromId:"c29b65f2-1ae1-4805-8389-0e46323116bb",toId:"aa203481-492b-4fc8-bd97-eef846930efd"},{id:"b74a0473-1440-40eb-b7eb-5e2b1180b709",filter:"$.*",fromId:"90161beb-de6e-432c-a0e8-58830a8a54ac",toId:"c29b65f2-1ae1-4805-8389-0e46323116bb"},{id:"2fd7f738-0fb8-4314-a437-7000587084af",filter:"$",fromId:"c29b65f2-1ae1-4805-8389-0e46323116bb",toId:"90161beb-de6e-432c-a0e8-58830a8a54ac"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:324,y:144},angle:0,id:"c29b65f2-1ae1-4805-8389-0e46323116bb",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"976bb27f-22da-4175-a36f-02c2d7c14140",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"f9e1fa27-7906-433e-a503-43f7775cf0b4",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"9e887082-aa42-4443-b65b-e16b81716a92",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:0},angle:0,tokens:0,id:"90161beb-de6e-432c-a0e8-58830a8a54ac",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:0},angle:0,tokens:0,id:"a8ccc157-ec92-45f9-ad64-765f55990205",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:144},angle:0,tokens:1,id:"7246f89a-657b-4ae8-8d3e-696d8cd17e76",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:144},angle:0,tokens:0,id:"aa203481-492b-4fc8-bd97-eef846930efd",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"9e887082-aa42-4443-b65b-e16b81716a92",selector:".root"},target:{id:"976bb27f-22da-4175-a36f-02c2d7c14140",selector:".root"},id:"7d1134ce-9f7f-461f-9dd2-8c49615f6f2a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"976bb27f-22da-4175-a36f-02c2d7c14140",selector:".root"},target:{id:"90161beb-de6e-432c-a0e8-58830a8a54ac",selector:".root"},id:"d1b32d43-34ca-4ede-9c95-883625578b73",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"90161beb-de6e-432c-a0e8-58830a8a54ac",selector:".root"},target:{id:"f9e1fa27-7906-433e-a503-43f7775cf0b4",selector:".root"},id:"8ffe9902-d676-4123-85c6-318fdd106f97",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f9e1fa27-7906-433e-a503-43f7775cf0b4",selector:".root"},target:{id:"a8ccc157-ec92-45f9-ad64-765f55990205",selector:".root"},id:"906eff96-b58d-48c7-8481-1e2bd6e17734",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7246f89a-657b-4ae8-8d3e-696d8cd17e76",selector:".root"},target:{id:"c29b65f2-1ae1-4805-8389-0e46323116bb",selector:".root"},id:"3fea5bea-d9b6-4024-a461-461f88ec8e8a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c29b65f2-1ae1-4805-8389-0e46323116bb",selector:".root"},target:{id:"aa203481-492b-4fc8-bd97-eef846930efd",selector:".root"},id:"8afd6079-4bed-4ba1-9a5c-761b7ede9144",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"90161beb-de6e-432c-a0e8-58830a8a54ac",selector:".root"},target:{id:"c29b65f2-1ae1-4805-8389-0e46323116bb",selector:".root"},id:"b74a0473-1440-40eb-b7eb-5e2b1180b709",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[{x:348,y:84}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c29b65f2-1ae1-4805-8389-0e46323116bb",selector:".root"},target:{id:"90161beb-de6e-432c-a0e8-58830a8a54ac",selector:".root"},id:"2fd7f738-0fb8-4314-a437-7000587084af",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[{x:396,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-19-cancel-task",net:{typeData:{placeTypes:{"81e55242-1ae5-4d9c-abf1-335319e58c45":"instances","efbaba99-19f8-4b9f-a603-d4ae4daf11e9":"instances","ea18b33e-983c-4d91-a826-f88c4bc4a1e9":"instances","1838bbaf-0c1e-4772-a5c4-cac58c3a8293":"instances"},transitionTypes:{"e6add7c9-1f27-4bbc-9326-406785f025a2":"instances","8222b163-8ba5-4cff-afb1-58a4be6e1fd9":"instances","2f8d2954-5f88-402b-9fca-f621cf5fe91b":"instances","b7198d40-29b4-4094-8434-faa76feec0b1":"instances"}},netData:{places:[{id:"81e55242-1ae5-4d9c-abf1-335319e58c45",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"81e55242-1ae5-4d9c-abf1-335319e58c45"}},{id:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9"}},{id:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9"}},{id:"1838bbaf-0c1e-4772-a5c4-cac58c3a8293",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"1838bbaf-0c1e-4772-a5c4-cac58c3a8293"}}],transitions:[{id:"e6add7c9-1f27-4bbc-9326-406785f025a2",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"8222b163-8ba5-4cff-afb1-58a4be6e1fd9",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"2f8d2954-5f88-402b-9fca-f621cf5fe91b",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"b7198d40-29b4-4094-8434-faa76feec0b1",name:"cancel B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{},fragmentVarSnippets:{}}],arcs:[{id:"83c058d1-dad8-41ce-a784-a2b30a24c683",filter:"$.*",fromId:"81e55242-1ae5-4d9c-abf1-335319e58c45",toId:"e6add7c9-1f27-4bbc-9326-406785f025a2"},{id:"a0646ad4-fe8a-4f20-9c81-b3254ec65800",filter:"$",fromId:"e6add7c9-1f27-4bbc-9326-406785f025a2",toId:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9"},{id:"67754629-a8e5-49d8-a499-cf12f69a25b8",filter:"$.*",fromId:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",toId:"8222b163-8ba5-4cff-afb1-58a4be6e1fd9"},{id:"79668e04-0d81-4b48-85d3-b2880068c2e4",filter:"$",fromId:"8222b163-8ba5-4cff-afb1-58a4be6e1fd9",toId:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9"},{id:"36d39b44-aa3f-460c-a5aa-78f3a4059169",filter:"$.*",fromId:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9",toId:"2f8d2954-5f88-402b-9fca-f621cf5fe91b"},{id:"c496fd09-376f-4c2b-98f6-2ced0deb1beb",filter:"$",fromId:"2f8d2954-5f88-402b-9fca-f621cf5fe91b",toId:"1838bbaf-0c1e-4772-a5c4-cac58c3a8293"},{id:"588fbad8-b95a-47d5-a0e3-9eddca5a67e6",filter:"$.*",fromId:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",toId:"b7198d40-29b4-4094-8434-faa76feec0b1"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:156,y:72},angle:0,id:"e6add7c9-1f27-4bbc-9326-406785f025a2",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:480,y:72},angle:0,id:"8222b163-8ba5-4cff-afb1-58a4be6e1fd9",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:852,y:72},angle:0,id:"2f8d2954-5f88-402b-9fca-f621cf5fe91b",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:372,y:264},angle:0,id:"b7198d40-29b4-4094-8434-faa76feec0b1",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"cancel B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:72},angle:0,tokens:1,id:"81e55242-1ae5-4d9c-abf1-335319e58c45",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:72},angle:0,tokens:0,id:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:72},angle:0,tokens:0,id:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1056,y:72},angle:0,tokens:0,id:"1838bbaf-0c1e-4772-a5c4-cac58c3a8293",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"81e55242-1ae5-4d9c-abf1-335319e58c45",selector:".root"},target:{id:"e6add7c9-1f27-4bbc-9326-406785f025a2",selector:".root"},id:"83c058d1-dad8-41ce-a784-a2b30a24c683",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e6add7c9-1f27-4bbc-9326-406785f025a2",selector:".root"},target:{id:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",selector:".root"},id:"a0646ad4-fe8a-4f20-9c81-b3254ec65800",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",selector:".root"},target:{id:"8222b163-8ba5-4cff-afb1-58a4be6e1fd9",selector:".root"},id:"67754629-a8e5-49d8-a499-cf12f69a25b8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8222b163-8ba5-4cff-afb1-58a4be6e1fd9",selector:".root"},target:{id:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9",selector:".root"},id:"79668e04-0d81-4b48-85d3-b2880068c2e4",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ea18b33e-983c-4d91-a826-f88c4bc4a1e9",selector:".root"},target:{id:"2f8d2954-5f88-402b-9fca-f621cf5fe91b",selector:".root"},id:"36d39b44-aa3f-460c-a5aa-78f3a4059169",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2f8d2954-5f88-402b-9fca-f621cf5fe91b",selector:".root"},target:{id:"1838bbaf-0c1e-4772-a5c4-cac58c3a8293",selector:".root"},id:"c496fd09-376f-4c2b-98f6-2ced0deb1beb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"efbaba99-19f8-4b9f-a603-d4ae4daf11e9",selector:".root"},target:{id:"b7198d40-29b4-4094-8434-faa76feec0b1",selector:".root"},id:"588fbad8-b95a-47d5-a0e3-9eddca5a67e6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wcp-20-cancel-case",net:{typeData:{placeTypes:{"3f19fbbc-f17e-47d4-99ae-89125afa28a5":"instances","a07e7572-d9c3-4cff-b495-71623a51545f":"custom","542ac944-5d8f-4247-8629-2a405137edb8":"instances","3e072607-28d6-4fa5-b9a9-2a770eac3a7e":"instances","63f87a02-a604-47a0-892b-fad47560c2d3":"instances","1c9bf083-6787-407d-a28b-4972e75870dc":"instances"},transitionTypes:{"e8461377-1f64-4330-b1c7-1ca0e4efb253":"instances","18448fae-c567-4aaa-8db1-4b831716383d":"custom","f7dcd03b-d6f4-4969-b9b5-ac5887647de8":"custom","ba779927-f2ba-4868-8e31-a2b2029deda8":"custom","f3285a9a-bb66-4ef2-a47b-e216e7852111":"custom","92f1ebf0-1b37-4db4-9473-1784969caa96":"custom"}},netData:{places:[{id:"3f19fbbc-f17e-47d4-99ae-89125afa28a5",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3f19fbbc-f17e-47d4-99ae-89125afa28a5"}},{id:"5d00f306-84c0-4d0a-b902-481908cbce1c",name:"o1",marking:[],schema:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"},successful:{type:"boolean"}},required:["instance_id"]},$id:"5d00f306-84c0-4d0a-b902-481908cbce1c"}},{id:"542ac944-5d8f-4247-8629-2a405137edb8",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"542ac944-5d8f-4247-8629-2a405137edb8"}},{id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",name:"p3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e"}},{id:"1c9bf083-6787-407d-a28b-4972e75870dc",name:"p4",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"1c9bf083-6787-407d-a28b-4972e75870dc"}},{id:"63f87a02-a604-47a0-892b-fad47560c2d3",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"63f87a02-a604-47a0-892b-fad47560c2d3"}},{id:"a07e7572-d9c3-4cff-b495-71623a51545f",name:"Cancel",marking:[{}],schema:{type:"array",items:{type:"object"},$id:"a07e7572-d9c3-4cff-b495-71623a51545f"}}],transitions:[{id:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",name:"C1",preface:"",guard:"input_p1_value == input_p3_value",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p1_value + { successful: false };"}},{id:"e8461377-1f64-4330-b1c7-1ca0e4efb253",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];",output_p3_value:"local output_p3_value = input_values[0];"}},{id:"dd424cf6-9fee-4de4-a4c7-c5dbd2a4c7e5",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_p3_value;"}},{id:"ba779927-f2ba-4868-8e31-a2b2029deda8",name:"C2",preface:"",guard:"input_p3_value == input_p2_value",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p3_value + { successful: false };"}},{id:"556c3f67-2fad-4d52-b705-f00e6694cc4b",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_p1_value;"}},{id:"18448fae-c567-4aaa-8db1-4b831716383d",name:"D",preface:"",guard:"input_p2_value == input_p4_value",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value + { successful: true };"}},{id:"f3285a9a-bb66-4ef2-a47b-e216e7852111",name:"C3",preface:"",guard:"input_p1_value == input_p4_value",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p1_value + { successful: false };"}},{id:"92f1ebf0-1b37-4db4-9473-1784969caa96",name:"C4",preface:"",guard:"input_p2_value == input_p4_value",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value + { successful: false };"}}],arcs:[{id:"a2ccf91c-dd61-46d7-9ab5-49b1c478b644",filter:"$.*",fromId:"3f19fbbc-f17e-47d4-99ae-89125afa28a5",toId:"e8461377-1f64-4330-b1c7-1ca0e4efb253"},{id:"4b6a5b67-ac41-49c3-bec4-0ea54fbc22d2",filter:"$",fromId:"e8461377-1f64-4330-b1c7-1ca0e4efb253",toId:"542ac944-5d8f-4247-8629-2a405137edb8"},{id:"3d23bc32-bc50-442e-a5d4-3a3cf712192e",filter:"$",fromId:"e8461377-1f64-4330-b1c7-1ca0e4efb253",toId:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e"},{id:"2ee5b813-bd6e-407c-8b54-899ecbdd103d",filter:"$.*",fromId:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",toId:"dd424cf6-9fee-4de4-a4c7-c5dbd2a4c7e5"},{id:"30a39d3c-d05a-403f-81a8-8b259299fc0d",filter:"$",fromId:"dd424cf6-9fee-4de4-a4c7-c5dbd2a4c7e5",toId:"1c9bf083-6787-407d-a28b-4972e75870dc"},{id:"0ce56dd3-971d-4395-8801-a9c61220138a",filter:"$.*",fromId:"542ac944-5d8f-4247-8629-2a405137edb8",toId:"556c3f67-2fad-4d52-b705-f00e6694cc4b"},{id:"aa054652-71af-43f7-b1dd-d9395abb53ff",filter:"$",fromId:"556c3f67-2fad-4d52-b705-f00e6694cc4b",toId:"63f87a02-a604-47a0-892b-fad47560c2d3"},{id:"ac992ca1-0a5b-4e1a-97b9-2e02f667a2e0",filter:"$.*",fromId:"63f87a02-a604-47a0-892b-fad47560c2d3",toId:"18448fae-c567-4aaa-8db1-4b831716383d"},{id:"06c605d1-6477-42cf-b031-36cf76dcfe37",filter:"$",fromId:"18448fae-c567-4aaa-8db1-4b831716383d",toId:"5d00f306-84c0-4d0a-b902-481908cbce1c"},{id:"78c832c8-f145-4d58-97fb-936b4abf7316",filter:"$.*",fromId:"542ac944-5d8f-4247-8629-2a405137edb8",toId:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8"},{id:"1e6ace2f-336f-4a68-b17c-d6b4683b59c8",filter:"$.*",fromId:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",toId:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8"},{id:"028c94bb-1b70-439c-9b00-18516ce5bbe8",filter:"$.*",fromId:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",toId:"ba779927-f2ba-4868-8e31-a2b2029deda8"},{id:"ef66302c-1ed6-42f0-ae45-a0685e942a9b",filter:"$.*",fromId:"1c9bf083-6787-407d-a28b-4972e75870dc",toId:"18448fae-c567-4aaa-8db1-4b831716383d"},{id:"45e08092-c08e-4c99-94cc-ef6f0215e438",filter:"$.*",fromId:"542ac944-5d8f-4247-8629-2a405137edb8",toId:"f3285a9a-bb66-4ef2-a47b-e216e7852111"},{id:"32c93ca0-7010-4546-93c2-b6427f1e4967",filter:"$.*",fromId:"1c9bf083-6787-407d-a28b-4972e75870dc",toId:"f3285a9a-bb66-4ef2-a47b-e216e7852111"},{id:"30740af8-5be6-48d3-90d2-b586fa4a3dcc",filter:"$.*",fromId:"63f87a02-a604-47a0-892b-fad47560c2d3",toId:"ba779927-f2ba-4868-8e31-a2b2029deda8"},{id:"87d863b0-ccfa-41ee-ade3-0843d3cf68b8",filter:"$.*",fromId:"63f87a02-a604-47a0-892b-fad47560c2d3",toId:"92f1ebf0-1b37-4db4-9473-1784969caa96"},{id:"f59e5398-625e-4ed8-855e-c28d9f36e3e0",filter:"$.*",fromId:"1c9bf083-6787-407d-a28b-4972e75870dc",toId:"92f1ebf0-1b37-4db4-9473-1784969caa96"},{id:"d87b3112-2793-4ccf-9f1a-25db87ea1c3a",filter:"$.*",fromId:"a07e7572-d9c3-4cff-b495-71623a51545f",toId:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8"},{id:"172d8db7-53ee-4972-9efd-12b5d24ef6e0",filter:"$.*",fromId:"a07e7572-d9c3-4cff-b495-71623a51545f",toId:"ba779927-f2ba-4868-8e31-a2b2029deda8"},{id:"e3317e20-27fd-44a8-8d5d-406012b7c02e",filter:"$.*",fromId:"a07e7572-d9c3-4cff-b495-71623a51545f",toId:"f3285a9a-bb66-4ef2-a47b-e216e7852111"},{id:"a0c1f429-6502-4604-bf70-526bf8d32348",filter:"$.*",fromId:"a07e7572-d9c3-4cff-b495-71623a51545f",toId:"92f1ebf0-1b37-4db4-9473-1784969caa96"},{id:"7f63edf6-55dc-492d-990c-aee60aa63da7",filter:"$",fromId:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",toId:"5d00f306-84c0-4d0a-b902-481908cbce1c"},{id:"5cfed9f4-43ca-4e59-b772-1402a9c557d9",filter:"$",fromId:"ba779927-f2ba-4868-8e31-a2b2029deda8",toId:"5d00f306-84c0-4d0a-b902-481908cbce1c"},{id:"cd6c211a-4796-4c99-bb4b-8ef2c46e65fb",filter:"$",fromId:"f3285a9a-bb66-4ef2-a47b-e216e7852111",toId:"5d00f306-84c0-4d0a-b902-481908cbce1c"},{id:"b44e9f1c-917c-43bc-8d82-bbd6d33babf6",filter:"$",fromId:"92f1ebf0-1b37-4db4-9473-1784969caa96",toId:"5d00f306-84c0-4d0a-b902-481908cbce1c"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:288,y:-168},angle:0,id:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"C1"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:200,y:75},angle:0,id:"e8461377-1f64-4330-b1c7-1ca0e4efb253",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:552,y:156},angle:0,id:"dd424cf6-9fee-4de4-a4c7-c5dbd2a4c7e5",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:480,y:-168},angle:0,id:"ba779927-f2ba-4868-8e31-a2b2029deda8",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"C2"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:552,y:12},angle:0,id:"556c3f67-2fad-4d52-b705-f00e6694cc4b",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:900,y:72},angle:0,id:"18448fae-c567-4aaa-8db1-4b831716383d",jsonnetsType:"transition",z:6,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:648,y:-168},angle:0,id:"f3285a9a-bb66-4ef2-a47b-e216e7852111",jsonnetsType:"transition",z:7,attrs:{".label":{fill:"#7a7e9b",text:"C3"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:804,y:-168},angle:0,id:"92f1ebf0-1b37-4db4-9473-1784969caa96",jsonnetsType:"transition",z:8,attrs:{".label":{fill:"#7a7e9b",text:"C4"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:25,y:75},angle:0,tokens:1,id:"3f19fbbc-f17e-47d4-99ae-89125afa28a5",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1080,y:72},angle:0,tokens:0,id:"5d00f306-84c0-4d0a-b902-481908cbce1c",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:396,y:12},angle:0,tokens:0,id:"542ac944-5d8f-4247-8629-2a405137edb8",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:396,y:156},angle:0,tokens:0,id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:156},angle:0,tokens:0,id:"1c9bf083-6787-407d-a28b-4972e75870dc",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:756,y:12},angle:0,tokens:0,id:"63f87a02-a604-47a0-892b-fad47560c2d3",jsonnetsType:"place",z:14,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:576,y:-288},angle:0,tokens:1,id:"a07e7572-d9c3-4cff-b495-71623a51545f",jsonnetsType:"place",z:15,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Cancel"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"3f19fbbc-f17e-47d4-99ae-89125afa28a5",selector:".root"},target:{id:"e8461377-1f64-4330-b1c7-1ca0e4efb253",selector:".root"},id:"a2ccf91c-dd61-46d7-9ab5-49b1c478b644",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e8461377-1f64-4330-b1c7-1ca0e4efb253",selector:".root"},target:{id:"542ac944-5d8f-4247-8629-2a405137edb8",selector:".root"},id:"4b6a5b67-ac41-49c3-bec4-0ea54fbc22d2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e8461377-1f64-4330-b1c7-1ca0e4efb253",selector:".root"},target:{id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",selector:".root"},id:"3d23bc32-bc50-442e-a5d4-3a3cf712192e",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",selector:".root"},target:{id:"dd424cf6-9fee-4de4-a4c7-c5dbd2a4c7e5",selector:".root"},id:"2ee5b813-bd6e-407c-8b54-899ecbdd103d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"dd424cf6-9fee-4de4-a4c7-c5dbd2a4c7e5",selector:".root"},target:{id:"1c9bf083-6787-407d-a28b-4972e75870dc",selector:".root"},id:"30a39d3c-d05a-403f-81a8-8b259299fc0d",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"542ac944-5d8f-4247-8629-2a405137edb8",selector:".root"},target:{id:"556c3f67-2fad-4d52-b705-f00e6694cc4b",selector:".root"},id:"0ce56dd3-971d-4395-8801-a9c61220138a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"556c3f67-2fad-4d52-b705-f00e6694cc4b",selector:".root"},target:{id:"63f87a02-a604-47a0-892b-fad47560c2d3",selector:".root"},id:"aa054652-71af-43f7-b1dd-d9395abb53ff",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"63f87a02-a604-47a0-892b-fad47560c2d3",selector:".root"},target:{id:"18448fae-c567-4aaa-8db1-4b831716383d",selector:".root"},id:"ac992ca1-0a5b-4e1a-97b9-2e02f667a2e0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"18448fae-c567-4aaa-8db1-4b831716383d",selector:".root"},target:{id:"5d00f306-84c0-4d0a-b902-481908cbce1c",selector:".root"},id:"06c605d1-6477-42cf-b031-36cf76dcfe37",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"542ac944-5d8f-4247-8629-2a405137edb8",selector:".root"},target:{id:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",selector:".root"},id:"78c832c8-f145-4d58-97fb-936b4abf7316",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",selector:".root"},target:{id:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",selector:".root"},id:"1e6ace2f-336f-4a68-b17c-d6b4683b59c8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3e072607-28d6-4fa5-b9a9-2a770eac3a7e",selector:".root"},target:{id:"ba779927-f2ba-4868-8e31-a2b2029deda8",selector:".root"},id:"028c94bb-1b70-439c-9b00-18516ce5bbe8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c9bf083-6787-407d-a28b-4972e75870dc",selector:".root"},target:{id:"18448fae-c567-4aaa-8db1-4b831716383d",selector:".root"},id:"ef66302c-1ed6-42f0-ae45-a0685e942a9b",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"542ac944-5d8f-4247-8629-2a405137edb8",selector:".root"},target:{id:"f3285a9a-bb66-4ef2-a47b-e216e7852111",selector:".root"},id:"45e08092-c08e-4c99-94cc-ef6f0215e438",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c9bf083-6787-407d-a28b-4972e75870dc",selector:".root"},target:{id:"f3285a9a-bb66-4ef2-a47b-e216e7852111",selector:".root"},id:"32c93ca0-7010-4546-93c2-b6427f1e4967",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"63f87a02-a604-47a0-892b-fad47560c2d3",selector:".root"},target:{id:"ba779927-f2ba-4868-8e31-a2b2029deda8",selector:".root"},id:"30740af8-5be6-48d3-90d2-b586fa4a3dcc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"63f87a02-a604-47a0-892b-fad47560c2d3",selector:".root"},target:{id:"92f1ebf0-1b37-4db4-9473-1784969caa96",selector:".root"},id:"87d863b0-ccfa-41ee-ade3-0843d3cf68b8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c9bf083-6787-407d-a28b-4972e75870dc",selector:".root"},target:{id:"92f1ebf0-1b37-4db4-9473-1784969caa96",selector:".root"},id:"f59e5398-625e-4ed8-855e-c28d9f36e3e0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a07e7572-d9c3-4cff-b495-71623a51545f",selector:".root"},target:{id:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",selector:".root"},id:"d87b3112-2793-4ccf-9f1a-25db87ea1c3a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a07e7572-d9c3-4cff-b495-71623a51545f",selector:".root"},target:{id:"ba779927-f2ba-4868-8e31-a2b2029deda8",selector:".root"},id:"172d8db7-53ee-4972-9efd-12b5d24ef6e0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a07e7572-d9c3-4cff-b495-71623a51545f",selector:".root"},target:{id:"f3285a9a-bb66-4ef2-a47b-e216e7852111",selector:".root"},id:"e3317e20-27fd-44a8-8d5d-406012b7c02e",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:36,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a07e7572-d9c3-4cff-b495-71623a51545f",selector:".root"},target:{id:"92f1ebf0-1b37-4db4-9473-1784969caa96",selector:".root"},id:"a0c1f429-6502-4604-bf70-526bf8d32348",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:37,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f7dcd03b-d6f4-4969-b9b5-ac5887647de8",selector:".root"},target:{id:"5d00f306-84c0-4d0a-b902-481908cbce1c",selector:".root"},id:"7f63edf6-55dc-492d-990c-aee60aa63da7",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:38,vertices:[{x:338,y:-336},{x:1105,y:-336}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ba779927-f2ba-4868-8e31-a2b2029deda8",selector:".root"},target:{id:"5d00f306-84c0-4d0a-b902-481908cbce1c",selector:".root"},id:"5cfed9f4-43ca-4e59-b772-1402a9c557d9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:39,vertices:[{x:530,y:-336},{x:1105,y:-336}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f3285a9a-bb66-4ef2-a47b-e216e7852111",selector:".root"},target:{id:"5d00f306-84c0-4d0a-b902-481908cbce1c",selector:".root"},id:"cd6c211a-4796-4c99-bb4b-8ef2c46e65fb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:40,vertices:[{x:698,y:-336},{x:1105,y:-336}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"92f1ebf0-1b37-4db4-9473-1784969caa96",selector:".root"},target:{id:"5d00f306-84c0-4d0a-b902-481908cbce1c",selector:".root"},id:"b44e9f1c-917c-43bc-8d82-bbd6d33babf6",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:41,vertices:[{x:854,y:-336},{x:1105,y:-336}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}}],vwt={name:cwt,defaultUIAssistMode:uwt,defaultTransitionType:fwt,defaultPlaceType:dwt,allowAutoLayout:hwt,visualisationConfig:pwt,transitionTypes:mwt,placeTypes:gwt,examples:bwt},ywt="Data Flow",kwt="expert",_wt="instances",wwt="instances",Swt=!0,xwt={show:!1},Cwt=[{id:"instances",title:"Process instances",description:"Transition that creates and consumes tokens with process instance IDs.",keySnippet:"'-';",valueSnippet:"input_values[0];",preface:"",guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}}],Twt=[{id:"instances",externalInteraction:{type:"none"},schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}},marking:[]}],Awt=[{name:"wdp-1-task-data",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances","0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50":"instances","d9be0aea-bf99-42a4-9939-9c385313a3d9":"instances","aa1d066d-6839-4181-9a09-df999df3065b":"instances","cdd83440-d8bb-461c-8f7f-c5ae18765abd":"instances"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","274f143d-b1ea-4486-8f64-cef318eb4f9e":"custom","e42ae73f-dab5-4ac7-a964-035d84488642":"custom","4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc":"custom","c42140c7-2ad6-4ab9-8915-71683493eb0d":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"p3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"aa1d066d-6839-4181-9a09-df999df3065b",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"aa1d066d-6839-4181-9a09-df999df3065b"}},{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"}},{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",name:"p4",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"}},{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",name:"p5",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d9be0aea-bf99-42a4-9939-9c385313a3d9"}}],transitions:[{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"local X = 3.14;",guard:"X == 3.14",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];",output_p3_value:"local output_p3_value = input_values[0];"}},{id:"e42ae73f-dab5-4ac7-a964-035d84488642",name:"B",preface:"local X = 8.6495;",guard:"X == 8.6495",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = {};",output_p2_value:"local output_p2_value = input_values[0];"}},{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",name:"D",preface:"local X = 2005;",guard:"X == 2005",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p5_key:"local output_p5_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = {};",output_p5_value:"local output_p5_value = input_values[0];"}},{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",name:"E",preface:"local X = 304;",guard:"X == 304",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",name:"C",preface:"local X = 1982;",guard:"X == 1982",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_values[0];"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"aa1d066d-6839-4181-9a09-df999df3065b"},{id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",filter:"$.*",fromId:"aa1d066d-6839-4181-9a09-df999df3065b",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"fe908ccd-0434-42ff-9649-be751f134161",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"},{id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",filter:"$.*",fromId:"176bb657-9538-45c2-840e-c9f0a92b1f19",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"},{id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",filter:"$.*",fromId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"d9be0aea-bf99-42a4-9939-9c385313a3d9"},{id:"d78f6781-5b42-4960-9475-3430b2d57f39",filter:"$.*",fromId:"d9be0aea-bf99-42a4-9939-9c385313a3d9",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"e42ae73f-dab5-4ac7-a964-035d84488642",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:150},angle:0,id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:75},angle:0,id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1044,y:0},angle:0,tokens:0,id:"aa1d066d-6839-4181-9a09-df999df3065b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1400,y:75},angle:0,tokens:0,id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:150},angle:0,tokens:0,id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",selector:".root"},id:"fe908ccd-0434-42ff-9649-be751f134161",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"d78f6781-5b42-4960-9475-3430b2d57f39",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-3-block-data",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances","0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50":"instances","aa1d066d-6839-4181-9a09-df999df3065b":"instances","d9be0aea-bf99-42a4-9939-9c385313a3d9":"instances","cdd83440-d8bb-461c-8f7f-c5ae18765abd":"instances","62d02268-8800-4fac-8d8c-cc520d780b28":"instances"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","274f143d-b1ea-4486-8f64-cef318eb4f9e":"instances","c42140c7-2ad6-4ab9-8915-71683493eb0d":"instances","e42ae73f-dab5-4ac7-a964-035d84488642":"custom","4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"p3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"aa1d066d-6839-4181-9a09-df999df3065b",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"aa1d066d-6839-4181-9a09-df999df3065b"}},{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"}},{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",name:"p4",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"}},{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",name:"p5",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d9be0aea-bf99-42a4-9939-9c385313a3d9"}},{id:"62d02268-8800-4fac-8d8c-cc520d780b28",name:"X",marking:[{instanceID:"i0",value:3.14}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"62d02268-8800-4fac-8d8c-cc520d780b28"}}],transitions:[{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"local X = input_x_value.value;",guard:"input_i1_value.instanceID == input_x_value.instanceID",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';",output_x_key:"local output_x_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value;",output_p3_value:"local output_p3_value = input_i1_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"e42ae73f-dab5-4ac7-a964-035d84488642",name:"B",preface:"local X = input_x_value.value;",guard:"input_p1_value.instanceID == input_x_value.instanceID",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';",output_x_key:"local output_x_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = {};",output_p2_value:"local output_p2_value = input_p1_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",name:"D",preface:"local X = input_x_value.value;",guard:"input_p4_value.instanceID == input_x_value.instanceID",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p5_key:"local output_p5_key = '-';",output_x_key:"local output_x_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = {};",output_p5_value:"local output_p5_value = input_p4_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",name:"E",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}},{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_values[0];"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"aa1d066d-6839-4181-9a09-df999df3065b"},{id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",filter:"$.*",fromId:"aa1d066d-6839-4181-9a09-df999df3065b",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"fe908ccd-0434-42ff-9649-be751f134161",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"},{id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",filter:"$.*",fromId:"176bb657-9538-45c2-840e-c9f0a92b1f19",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"},{id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",filter:"$.*",fromId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"d9be0aea-bf99-42a4-9939-9c385313a3d9"},{id:"d78f6781-5b42-4960-9475-3430b2d57f39",filter:"$.*",fromId:"d9be0aea-bf99-42a4-9939-9c385313a3d9",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"a63ceb6f-aec8-471d-a330-3382884ccee7",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"8a8df166-4897-49c8-84e1-948f6adb7354",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"c86cef02-da14-43f0-8804-6f45f0355c26",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"86878acb-7db3-4555-9b38-6ac06792322b",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"e42ae73f-dab5-4ac7-a964-035d84488642",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:150},angle:0,id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:72},angle:0,id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"aa1d066d-6839-4181-9a09-df999df3065b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1380,y:72},angle:0,tokens:0,id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:150},angle:0,tokens:0,id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:768,y:-192},angle:0,tokens:1,id:"62d02268-8800-4fac-8d8c-cc520d780b28",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"X"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",selector:".root"},id:"fe908ccd-0434-42ff-9649-be751f134161",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"d78f6781-5b42-4960-9475-3430b2d57f39",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"a63ceb6f-aec8-471d-a330-3382884ccee7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"8a8df166-4897-49c8-84e1-948f6adb7354",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[{x:900,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"c86cef02-da14-43f0-8804-6f45f0355c26",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[{x:793,y:96},{x:900,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[{x:900,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"86878acb-7db3-4555-9b38-6ac06792322b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[{x:900,y:96},{x:793,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-4-12-13-to-from-multiple-instance-task",net:{typeData:{placeTypes:{"4a329980-2d99-4131-b360-bff0a9f6558b":"instances","50536fcc-91c1-49c8-a9dc-ba3356410b1b":"instances","3f6af269-c42c-4c65-80a2-f438e5453561":"instances","336cc0bd-e6da-4dfc-9913-ef121b76212b":"custom","8d54be5b-8a86-4fa5-ad3f-e723d8f9197f":"custom"},transitionTypes:{"13893056-0038-4f4d-aafc-c6297b1402ce":"custom","9ee0c29d-678d-4cc4-9145-ab6b8d753419":"custom","9e5f7abd-4fae-466c-a739-d34d5f3f21c3":"custom"}},netData:{places:[{id:"4a329980-2d99-4131-b360-bff0a9f6558b",name:"i1",marking:[{instanceID:"i0",data:[34,22,19,99]}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4a329980-2d99-4131-b360-bff0a9f6558b"}},{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",name:"p1",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}},$id:"336cc0bd-e6da-4dfc-9913-ef121b76212b"}},{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",name:"p2",marking:[[]],schema:{type:"array",maxItems:1,items:{type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}},$id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"}},{id:"3f6af269-c42c-4c65-80a2-f438e5453561",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3f6af269-c42c-4c65-80a2-f438e5453561"}},{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",name:"p3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"}}],transitions:[{id:"13893056-0038-4f4d-aafc-c6297b1402ce",name:"A",preface:"local numinsts = std.length(input_i1_value.data);",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_p1_value + [{instanceID: input_i1_value.instanceID, X: X} for X in input_i1_value.data];",output_p3_value:"local output_p3_value = { instanceID: input_i1_value.instanceID, numinsts: numinsts };"}},{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",name:"B",preface:`local numinsts = input_p3_value.numinsts;
local instanceID = input_p3_value.instanceID;
local X_values = [std.toString(el.X) for el in input_p2_value];

local findInstance(token) = token.instanceID == instanceID;
local findOtherInstance(token) = token.instanceID != instanceID;

local instances = std.filter(findInstance, input_p2_value);
local other_instances = std.filter(findOtherInstance, input_p2_value);`,guard:"std.length(instances) == numinsts",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_o1_value:'local output_o1_value = { instanceID: input_p2_value[0].instanceID, X:  std.join("", X_values)};',output_p2_value:"local output_p2_value = other_instances;"}}],arcs:[{id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",filter:"$.*",fromId:"4a329980-2d99-4131-b360-bff0a9f6558b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"336cc0bd-e6da-4dfc-9913-ef121b76212b"},{id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",filter:"$.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"13893056-0038-4f4d-aafc-c6297b1402ce"},{id:"d58114cd-35d6-41f2-9e68-430688d23d16",filter:"$.*.*",fromId:"336cc0bd-e6da-4dfc-9913-ef121b76212b",toId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419"},{id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",filter:"$.*",fromId:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",filter:"$.*",fromId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"},{id:"fbc51860-5454-4213-9f22-a99c146f18a5",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"3f6af269-c42c-4c65-80a2-f438e5453561"},{id:"f60265ce-746f-4ce2-9820-c8cf1d864355",filter:"$",fromId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",toId:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f"},{id:"ec17067d-1200-44c9-a109-ab2a6856d0f7",filter:"$",fromId:"13893056-0038-4f4d-aafc-c6297b1402ce",toId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b"},{id:"1fa5fa2a-c751-410c-8eff-7ab2d000340f",filter:"$.*",fromId:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",toId:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"13893056-0038-4f4d-aafc-c6297b1402ce",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"4a329980-2d99-4131-b360-bff0a9f6558b",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:1,id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:1,id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"3f6af269-c42c-4c65-80a2-f438e5453561",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:527,y:119},angle:0,tokens:0,id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4a329980-2d99-4131-b360-bff0a9f6558b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"c9ebec7b-fb6e-49d8-9a03-124e7f117ddc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},id:"868d070f-edf2-4604-a21b-6fa8bd9fce1c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},id:"51ea16d3-bcbe-4bf3-87bd-6bd6e6818568",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"336cc0bd-e6da-4dfc-9913-ef121b76212b",selector:".root"},target:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},id:"d58114cd-35d6-41f2-9e68-430688d23d16",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9ee0c29d-678d-4cc4-9145-ab6b8d753419",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"d7491670-b0fb-4cc5-b47c-02128ff1e70a",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"3dad3bc7-4f0f-41c3-bc07-46c162d01d02",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"3f6af269-c42c-4c65-80a2-f438e5453561",selector:".root"},id:"fbc51860-5454-4213-9f22-a99c146f18a5",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},target:{id:"8d54be5b-8a86-4fa5-ad3f-e723d8f9197f",selector:".root"},id:"f60265ce-746f-4ce2-9820-c8cf1d864355",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"13893056-0038-4f4d-aafc-c6297b1402ce",selector:".root"},target:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},id:"ec17067d-1200-44c9-a109-ab2a6856d0f7",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[{x:200,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"50536fcc-91c1-49c8-a9dc-ba3356410b1b",selector:".root"},target:{id:"9e5f7abd-4fae-466c-a739-d34d5f3f21c3",selector:".root"},id:"1fa5fa2a-c751-410c-8eff-7ab2d000340f",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[{x:900,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-5-case-data",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"custom","176bb657-9538-45c2-840e-c9f0a92b1f19":"custom","d6866b7c-b02e-4504-99b2-5b6def861690":"custom","0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50":"custom","aa1d066d-6839-4181-9a09-df999df3065b":"custom","d9be0aea-bf99-42a4-9939-9c385313a3d9":"custom","cdd83440-d8bb-461c-8f7f-c5ae18765abd":"custom","62d02268-8800-4fac-8d8c-cc520d780b28":"custom"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","274f143d-b1ea-4486-8f64-cef318eb4f9e":"custom","e42ae73f-dab5-4ac7-a964-035d84488642":"custom","4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc":"custom","c42140c7-2ad6-4ab9-8915-71683493eb0d":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"p3",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"aa1d066d-6839-4181-9a09-df999df3065b",name:"p2",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"aa1d066d-6839-4181-9a09-df999df3065b"}},{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"}},{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",name:"p4",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"}},{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",name:"p5",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d9be0aea-bf99-42a4-9939-9c385313a3d9"}},{id:"62d02268-8800-4fac-8d8c-cc520d780b28",name:"X",marking:[{instanceID:"i0",value:"patt"},{instanceID:"i1",value:"fry"}],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"62d02268-8800-4fac-8d8c-cc520d780b28"}}],transitions:[{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"local X = input_x_value;",guard:`input_i1_value.instanceID == input_x_value.instanceID &&
input_x_value.instanceID == output_x_value.instanceID`,customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value;",output_p3_value:"local output_p3_value = input_i1_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"e42ae73f-dab5-4ac7-a964-035d84488642",name:"B",preface:"local X = input_x_value;",guard:`input_p1_value.instanceID == input_x_value.instanceID &&
input_x_value.instanceID == output_x_value.instanceID`,customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = {};",output_p2_value:"local output_p2_value = input_p1_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",name:"D",preface:"local X = input_x_value;",guard:`input_p4_value.instanceID == input_x_value.instanceID &&
input_x_value.instanceID == output_x_value.instanceID
`,customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p5_key:"local output_p5_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = {};",output_p5_value:"local output_p5_value = input_p4_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",name:"E",preface:"local X = input_x_value;",guard:`input_p2_value.instanceID == input_x_value.instanceID &&
input_x_value.instanceID == output_x_value.instanceID &&
input_p2_value.instanceID == input_p5_value.instanceID`,customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value;",output_x_value:"local output_x_value = input_x_value;"}},{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",name:"C",preface:"local X = input_x_value;",guard:`input_p3_value.instanceID == input_x_value.instanceID &&
input_x_value.instanceID == output_x_value.instanceID`,customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_p3_value;",output_x_value:"local output_x_value = input_x_value;"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"aa1d066d-6839-4181-9a09-df999df3065b"},{id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",filter:"$.*",fromId:"aa1d066d-6839-4181-9a09-df999df3065b",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"fe908ccd-0434-42ff-9649-be751f134161",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"},{id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",filter:"$.*",fromId:"176bb657-9538-45c2-840e-c9f0a92b1f19",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"},{id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",filter:"$.*",fromId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"d9be0aea-bf99-42a4-9939-9c385313a3d9"},{id:"d78f6781-5b42-4960-9475-3430b2d57f39",filter:"$.*",fromId:"d9be0aea-bf99-42a4-9939-9c385313a3d9",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"a63ceb6f-aec8-471d-a330-3382884ccee7",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"8a8df166-4897-49c8-84e1-948f6adb7354",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"c86cef02-da14-43f0-8804-6f45f0355c26",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"86878acb-7db3-4555-9b38-6ac06792322b",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"e49e8ab4-9478-4722-8d31-3b034a376042",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"c3683467-0a12-4c73-bfa7-084221727b5a",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"e8939af9-d6be-4316-9d2a-e89d8145ad8a",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"a88601ee-a53d-4d67-81ca-e61374f0fc62",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"e42ae73f-dab5-4ac7-a964-035d84488642",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:150},angle:0,id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:75},angle:0,id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:2,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"aa1d066d-6839-4181-9a09-df999df3065b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1400,y:75},angle:0,tokens:0,id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:150},angle:0,tokens:0,id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:768,y:-192},angle:0,tokens:2,id:"62d02268-8800-4fac-8d8c-cc520d780b28",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"X"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",selector:".root"},id:"fe908ccd-0434-42ff-9649-be751f134161",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"d78f6781-5b42-4960-9475-3430b2d57f39",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"a63ceb6f-aec8-471d-a330-3382884ccee7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"8a8df166-4897-49c8-84e1-948f6adb7354",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[{x:864,y:-108}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"c86cef02-da14-43f0-8804-6f45f0355c26",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[{x:793,y:96},{x:900,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[{x:864,y:-108}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"86878acb-7db3-4555-9b38-6ac06792322b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[{x:900,y:96},{x:793,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"e49e8ab4-9478-4722-8d31-3b034a376042",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[{x:550,y:-48},{x:684,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"c3683467-0a12-4c73-bfa7-084221727b5a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[{x:684,y:-48},{x:550,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"e8939af9-d6be-4316-9d2a-e89d8145ad8a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[{x:1250,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"a88601ee-a53d-4d67-81ca-e61374f0fc62",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[{x:1250,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-6-folder-data",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"custom","742ce3ad-bf88-4657-973f-3846f53cfeac":"custom","cc2ee570-a09e-42a0-b70b-77cd2c6525ed":"custom","92d19a65-4181-4592-8eb4-9dc09285f9b5":"custom","323fd570-6709-486a-99f6-f549758609b3":"custom"},transitionTypes:{"0eb565cb-bef8-4a0d-97db-80dd83cefdbb":"custom"}},netData:{places:[{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instance_id:0,access_folder_1:!0,access_folder_2:!1},{instance_id:1,access_folder_1:!1,access_folder_2:!0},{instance_id:2,access_folder_1:!0,access_folder_2:!1},{instance_id:3,access_folder_1:!0,access_folder_2:!0}],schema:{type:"array",items:{type:"object",properties:{instanceID:{type:"number"},access_folder_1:{type:"boolean"},access_folder_2:{type:"boolean"}},required:["instance_id","access_folder_1","access_folder_2"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"742ce3ad-bf88-4657-973f-3846f53cfeac",name:"p1",marking:[],schema:{type:"array",items:{type:"object",properties:{instanceID:{type:"number"},access_folder_1:{type:"boolean"},access_folder_2:{type:"boolean"}},required:["instance_id","access_folder_1","access_folder_2"]},$id:"742ce3ad-bf88-4657-973f-3846f53cfeac"}},{id:"cc2ee570-a09e-42a0-b70b-77cd2c6525ed",name:"o1",marking:[],schema:{type:"array",items:{type:"object",properties:{instanceID:{type:"number"},access_folder_1:{type:"boolean"},access_folder_2:{type:"boolean"}},required:["instance_id","access_folder_1","access_folder_2"]},$id:"cc2ee570-a09e-42a0-b70b-77cd2c6525ed"}},{id:"323fd570-6709-486a-99f6-f549758609b3",name:"folder_1",marking:[{X:8.698}],schema:{type:"array",items:{type:"object"},$id:"323fd570-6709-486a-99f6-f549758609b3"}},{id:"92d19a65-4181-4592-8eb4-9dc09285f9b5",name:"folder_2",marking:[{Z:"type"}],schema:{type:"array",items:{type:"object"},$id:"92d19a65-4181-4592-8eb4-9dc09285f9b5"}}],transitions:[{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",name:"A",preface:`local X = if input_i1_token.access_folder_1 then input_folder_1_value.X else false;
local Z = if input_i1_token.access_folder_2 then input_folder_2_value.Z else false;`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_folder_1_key:"local output_folder_1_key = '-';",output_folder_2_key:"local output_folder_2_key = '-';"},fragmentVarSnippets:{output_p1_value:`local output_p1_value = {
  instance_id: input_i1_value.instance_id,
  [if X != false then 'X']: X,
  [if Z != false then 'Z']: Z,
  access_folder_1: input_i1_value.access_folder_1,
  access_folder_2: input_i1_value.access_folder_2
};`,output_folder_1_value:"local output_folder_1_value = input_folder_1_value;",output_folder_2_value:"local output_folder_2_value = input_folder_2_value;"}},{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",name:"B",preface:`local X = if input_p1_token.access_folder_1 then input_folder_1_value.X else false;
local Z = if input_p1_token.access_folder_2 then input_folder_2_value.Z else false;`,guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_folder_1_key:"local output_folder_1_key = '-';",output_folder_2_key:"local output_folder_2_key = '-';"},fragmentVarSnippets:{output_o1_value:`local output_o1_value = {
  instance_id: input_p1_value.instance_id,
  [if X != false then 'X']: X,
  [if Z != false then 'Z']: Z,
  access_folder_1: input_p1_value.access_folder_1,
  access_folder_2: input_p1_value.access_folder_2
};`,output_folder_1_value:"local output_folder_1_value = input_folder_1_value;",output_folder_2_value:"local output_folder_2_value = input_folder_2_value;"}}],arcs:[{id:"e615e6cc-7f0a-4ac1-911d-431c7797fa4c",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb"},{id:"129c1fa1-43a4-40c0-ae63-8e0a086c26cc",filter:"$",fromId:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",toId:"742ce3ad-bf88-4657-973f-3846f53cfeac"},{id:"b8ad94ef-96ae-4b17-ba7c-63831159f69a",filter:"$.*",fromId:"742ce3ad-bf88-4657-973f-3846f53cfeac",toId:"cc6643bd-3585-481f-9a5e-d6f1f6142421"},{id:"84ad1a23-69a8-4d59-a9b8-e940dede5180",filter:"$",fromId:"cc6643bd-3585-481f-9a5e-d6f1f6142421",toId:"cc2ee570-a09e-42a0-b70b-77cd2c6525ed"},{id:"d63e0de7-46a4-49f8-b913-c9eb5d593722",filter:"$.*",fromId:"323fd570-6709-486a-99f6-f549758609b3",toId:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb"},{id:"775cd2f8-c0f4-492a-a1d2-bfeab6c2f990",filter:"$",fromId:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",toId:"323fd570-6709-486a-99f6-f549758609b3"},{id:"73428269-e358-4335-b47b-54ff74364f33",filter:"$",fromId:"cc6643bd-3585-481f-9a5e-d6f1f6142421",toId:"323fd570-6709-486a-99f6-f549758609b3"},{id:"980044d1-b26b-450e-ba07-50497964d760",filter:"$.*",fromId:"323fd570-6709-486a-99f6-f549758609b3",toId:"cc6643bd-3585-481f-9a5e-d6f1f6142421"},{id:"182df07e-0166-4ffd-9e7b-4ec0a5b6f703",filter:"$",fromId:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",toId:"92d19a65-4181-4592-8eb4-9dc09285f9b5"},{id:"b59054fe-a1db-41a3-9ea3-81a81f6dbfd7",filter:"$.*",fromId:"92d19a65-4181-4592-8eb4-9dc09285f9b5",toId:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb"},{id:"2e25068a-cc6c-4a53-b13e-a666c6142091",filter:"$.*",fromId:"92d19a65-4181-4592-8eb4-9dc09285f9b5",toId:"cc6643bd-3585-481f-9a5e-d6f1f6142421"},{id:"de693834-eb8d-4a8b-9d36-cc1753e91dcb",filter:"$",fromId:"cc6643bd-3585-481f-9a5e-d6f1f6142421",toId:"92d19a65-4181-4592-8eb4-9dc09285f9b5"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:156,y:0},angle:0,id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:4,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:3,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"742ce3ad-bf88-4657-973f-3846f53cfeac",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"cc2ee570-a09e-42a0-b70b-77cd2c6525ed",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:168},angle:0,tokens:1,id:"323fd570-6709-486a-99f6-f549758609b3",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"folder_1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:348,y:-168},angle:0,tokens:1,id:"92d19a65-4181-4592-8eb4-9dc09285f9b5",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"folder_2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",selector:".root"},id:"e615e6cc-7f0a-4ac1-911d-431c7797fa4c",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",selector:".root"},target:{id:"742ce3ad-bf88-4657-973f-3846f53cfeac",selector:".root"},id:"129c1fa1-43a4-40c0-ae63-8e0a086c26cc",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"742ce3ad-bf88-4657-973f-3846f53cfeac",selector:".root"},target:{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",selector:".root"},id:"b8ad94ef-96ae-4b17-ba7c-63831159f69a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",selector:".root"},target:{id:"cc2ee570-a09e-42a0-b70b-77cd2c6525ed",selector:".root"},id:"84ad1a23-69a8-4d59-a9b8-e940dede5180",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"323fd570-6709-486a-99f6-f549758609b3",selector:".root"},target:{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",selector:".root"},id:"d63e0de7-46a4-49f8-b913-c9eb5d593722",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[{x:206,y:193}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",selector:".root"},target:{id:"323fd570-6709-486a-99f6-f549758609b3",selector:".root"},id:"775cd2f8-c0f4-492a-a1d2-bfeab6c2f990",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[{x:206,y:193}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",selector:".root"},target:{id:"323fd570-6709-486a-99f6-f549758609b3",selector:".root"},id:"73428269-e358-4335-b47b-54ff74364f33",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[{x:550,y:193}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"323fd570-6709-486a-99f6-f549758609b3",selector:".root"},target:{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",selector:".root"},id:"980044d1-b26b-450e-ba07-50497964d760",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[{x:550,y:193}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",selector:".root"},target:{id:"92d19a65-4181-4592-8eb4-9dc09285f9b5",selector:".root"},id:"182df07e-0166-4ffd-9e7b-4ec0a5b6f703",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[{x:206,y:-143}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"92d19a65-4181-4592-8eb4-9dc09285f9b5",selector:".root"},target:{id:"0eb565cb-bef8-4a0d-97db-80dd83cefdbb",selector:".root"},id:"b59054fe-a1db-41a3-9ea3-81a81f6dbfd7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[{x:206,y:-143}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"92d19a65-4181-4592-8eb4-9dc09285f9b5",selector:".root"},target:{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",selector:".root"},id:"2e25068a-cc6c-4a53-b13e-a666c6142091",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[{x:550,y:-143}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cc6643bd-3585-481f-9a5e-d6f1f6142421",selector:".root"},target:{id:"92d19a65-4181-4592-8eb4-9dc09285f9b5",selector:".root"},id:"de693834-eb8d-4a8b-9d36-cc1753e91dcb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[{x:550,y:-143}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-7-workflow-data",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"custom","176bb657-9538-45c2-840e-c9f0a92b1f19":"custom","0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50":"custom","d6866b7c-b02e-4504-99b2-5b6def861690":"custom","aa1d066d-6839-4181-9a09-df999df3065b":"custom","d9be0aea-bf99-42a4-9939-9c385313a3d9":"custom","cdd83440-d8bb-461c-8f7f-c5ae18765abd":"custom","62d02268-8800-4fac-8d8c-cc520d780b28":"custom"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom","274f143d-b1ea-4486-8f64-cef318eb4f9e":"custom","e42ae73f-dab5-4ac7-a964-035d84488642":"custom","4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc":"custom","c42140c7-2ad6-4ab9-8915-71683493eb0d":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"p3",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"aa1d066d-6839-4181-9a09-df999df3065b",name:"p2",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"aa1d066d-6839-4181-9a09-df999df3065b"}},{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"}},{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",name:"p4",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"}},{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",name:"p5",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d9be0aea-bf99-42a4-9939-9c385313a3d9"}},{id:"62d02268-8800-4fac-8d8c-cc520d780b28",name:"X",marking:[{value:"patt"}],schema:{type:"array",items:{type:"object"},$id:"62d02268-8800-4fac-8d8c-cc520d780b28"}}],transitions:[{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value + { X: X };",output_p3_value:"local output_p3_value = input_i1_value + { X: X };",output_x_value:"local output_x_value = input_x_value;"}},{id:"e42ae73f-dab5-4ac7-a964-035d84488642",name:"B",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = {};",output_p2_value:"local output_p2_value = input_p1_value + { X: X };",output_x_value:"local output_x_value = input_x_value;"}},{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",name:"D",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p5_key:"local output_p5_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = {};",output_p5_value:"local output_p5_value = input_p4_value + { X: X };",output_x_value:"local output_x_value = input_x_value;"}},{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",name:"E",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value + { X: X };",output_x_value:"local output_x_value = input_x_value;"}},{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",name:"C",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_x_key:"local output_x_key = '-';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_p3_value + { X: X };",output_x_value:"local output_x_value = input_x_value;"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"aa1d066d-6839-4181-9a09-df999df3065b"},{id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",filter:"$.*",fromId:"aa1d066d-6839-4181-9a09-df999df3065b",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"fe908ccd-0434-42ff-9649-be751f134161",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"},{id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",filter:"$.*",fromId:"176bb657-9538-45c2-840e-c9f0a92b1f19",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"},{id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",filter:"$.*",fromId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"d9be0aea-bf99-42a4-9939-9c385313a3d9"},{id:"d78f6781-5b42-4960-9475-3430b2d57f39",filter:"$.*",fromId:"d9be0aea-bf99-42a4-9939-9c385313a3d9",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"a63ceb6f-aec8-471d-a330-3382884ccee7",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"8a8df166-4897-49c8-84e1-948f6adb7354",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"c86cef02-da14-43f0-8804-6f45f0355c26",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"86878acb-7db3-4555-9b38-6ac06792322b",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"8336d72e-82e1-47ba-a31d-179b8881714f",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"d5a794ff-16b0-4e8c-a97a-5ae13842d506",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"869de229-0f2d-4765-98f7-8f343afd2e2d",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"54116ef4-a4e8-4649-8db1-eb4cabd235b4",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"e42ae73f-dab5-4ac7-a964-035d84488642",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:150},angle:0,id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:75},angle:0,id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:2,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"aa1d066d-6839-4181-9a09-df999df3065b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1400,y:75},angle:0,tokens:0,id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:150},angle:0,tokens:0,id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:768,y:-192},angle:0,tokens:1,id:"62d02268-8800-4fac-8d8c-cc520d780b28",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"X"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",selector:".root"},id:"fe908ccd-0434-42ff-9649-be751f134161",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"d78f6781-5b42-4960-9475-3430b2d57f39",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"a63ceb6f-aec8-471d-a330-3382884ccee7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"8a8df166-4897-49c8-84e1-948f6adb7354",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[{x:864,y:-120}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"c86cef02-da14-43f0-8804-6f45f0355c26",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[{x:793,y:96},{x:900,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[{x:864,y:-120}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"86878acb-7db3-4555-9b38-6ac06792322b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[{x:900,y:96},{x:793,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"8336d72e-82e1-47ba-a31d-179b8881714f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[{x:550,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"d5a794ff-16b0-4e8c-a97a-5ae13842d506",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[{x:1250,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"869de229-0f2d-4765-98f7-8f343afd2e2d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[{x:550,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"54116ef4-a4e8-4649-8db1-eb4cabd235b4",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[{x:1250,y:-168}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-9-task-to-task",net:{typeData:{placeTypes:{"ae74623b-51e8-45e8-a671-8d518fb56433":"instances","9e7fc974-7759-46d1-ab54-32583eb1a691":"instances","b204dfb8-c999-4ff2-b107-8bab92b5787b":"instances","2e5246bc-98a2-40a3-b6ce-1f2a8c17e87b":"instances"},transitionTypes:{"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34":"custom","6b7cbeac-016a-4b95-929e-ded2cfa79887":"custom","f5a307c7-ec41-4853-8af2-653e62dc8df7":"custom"}},netData:{places:[{id:"ae74623b-51e8-45e8-a671-8d518fb56433",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"ae74623b-51e8-45e8-a671-8d518fb56433"}},{id:"9e7fc974-7759-46d1-ab54-32583eb1a691",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"9e7fc974-7759-46d1-ab54-32583eb1a691"}},{id:"b204dfb8-c999-4ff2-b107-8bab92b5787b",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"b204dfb8-c999-4ff2-b107-8bab92b5787b"}},{id:"2e5246bc-98a2-40a3-b6ce-1f2a8c17e87b",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"2e5246bc-98a2-40a3-b6ce-1f2a8c17e87b"}}],transitions:[{id:"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34",name:"A",preface:`local X = 3.14;
local Y = "h2o";`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value + { X: X, Y: Y };"}},{id:"6b7cbeac-016a-4b95-929e-ded2cfa79887",name:"B",preface:`local X = input_p1_value.X;
local Y = input_p1_value.Y;`,guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_p1_value + { X: X, Y: Y };"}},{id:"f5a307c7-ec41-4853-8af2-653e62dc8df7",name:"C",preface:`local X = input_p2_value.X;
local Y = input_p2_value.Y;`,guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value + { X: X, Y: Y };"}}],arcs:[{id:"7c9c2d14-0e56-4422-8fbd-de26fe9e9feb",filter:"$.*",fromId:"ae74623b-51e8-45e8-a671-8d518fb56433",toId:"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34"},{id:"43cf2722-132e-4c62-a460-73812f60836f",filter:"$",fromId:"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34",toId:"9e7fc974-7759-46d1-ab54-32583eb1a691"},{id:"625803a5-a0a3-4d67-96a4-7e7abefca926",filter:"$.*",fromId:"9e7fc974-7759-46d1-ab54-32583eb1a691",toId:"6b7cbeac-016a-4b95-929e-ded2cfa79887"},{id:"cda2be5b-30b6-4bd6-93b4-abf01396de13",filter:"$",fromId:"6b7cbeac-016a-4b95-929e-ded2cfa79887",toId:"b204dfb8-c999-4ff2-b107-8bab92b5787b"},{id:"4b223f6f-6fe2-4eab-a4b4-e273fa426261",filter:"$.*",fromId:"b204dfb8-c999-4ff2-b107-8bab92b5787b",toId:"f5a307c7-ec41-4853-8af2-653e62dc8df7"},{id:"fa4601d9-bdc9-406a-b2e4-1438a4b74f14",filter:"$",fromId:"f5a307c7-ec41-4853-8af2-653e62dc8df7",toId:"2e5246bc-98a2-40a3-b6ce-1f2a8c17e87b"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"6b7cbeac-016a-4b95-929e-ded2cfa79887",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"f5a307c7-ec41-4853-8af2-653e62dc8df7",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"ae74623b-51e8-45e8-a671-8d518fb56433",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"9e7fc974-7759-46d1-ab54-32583eb1a691",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"b204dfb8-c999-4ff2-b107-8bab92b5787b",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"2e5246bc-98a2-40a3-b6ce-1f2a8c17e87b",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"ae74623b-51e8-45e8-a671-8d518fb56433",selector:".root"},target:{id:"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34",selector:".root"},id:"7c9c2d14-0e56-4422-8fbd-de26fe9e9feb",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"69c3fdd1-e99c-45ca-9e71-cb4aa47f4c34",selector:".root"},target:{id:"9e7fc974-7759-46d1-ab54-32583eb1a691",selector:".root"},id:"43cf2722-132e-4c62-a460-73812f60836f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9e7fc974-7759-46d1-ab54-32583eb1a691",selector:".root"},target:{id:"6b7cbeac-016a-4b95-929e-ded2cfa79887",selector:".root"},id:"625803a5-a0a3-4d67-96a4-7e7abefca926",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"6b7cbeac-016a-4b95-929e-ded2cfa79887",selector:".root"},target:{id:"b204dfb8-c999-4ff2-b107-8bab92b5787b",selector:".root"},id:"cda2be5b-30b6-4bd6-93b4-abf01396de13",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"b204dfb8-c999-4ff2-b107-8bab92b5787b",selector:".root"},target:{id:"f5a307c7-ec41-4853-8af2-653e62dc8df7",selector:".root"},id:"4b223f6f-6fe2-4eab-a4b4-e273fa426261",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f5a307c7-ec41-4853-8af2-653e62dc8df7",selector:".root"},target:{id:"2e5246bc-98a2-40a3-b6ce-1f2a8c17e87b",selector:".root"},id:"fa4601d9-bdc9-406a-b2e4-1438a4b74f14",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-14-case-to-case",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","62d02268-8800-4fac-8d8c-cc520d780b28":"custom","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances","d6866b7c-b02e-4504-99b2-5b6def861690":"instances","0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50":"instances","aa1d066d-6839-4181-9a09-df999df3065b":"instances","d9be0aea-bf99-42a4-9939-9c385313a3d9":"instances","cdd83440-d8bb-461c-8f7f-c5ae18765abd":"instances"},transitionTypes:{"274f143d-b1ea-4486-8f64-cef318eb4f9e":"custom","e42ae73f-dab5-4ac7-a964-035d84488642":"custom","4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc":"custom","c42140c7-2ad6-4ab9-8915-71683493eb0d":"custom"}},netData:{places:[{id:"d6866b7c-b02e-4504-99b2-5b6def861690",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d6866b7c-b02e-4504-99b2-5b6def861690"}},{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"p3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"aa1d066d-6839-4181-9a09-df999df3065b",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"aa1d066d-6839-4181-9a09-df999df3065b"}},{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"}},{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",name:"p4",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"}},{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",name:"p5",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d9be0aea-bf99-42a4-9939-9c385313a3d9"}},{id:"62d02268-8800-4fac-8d8c-cc520d780b28",name:"X",marking:[{value:"patt"}],schema:{type:"array",items:{type:"object",properties:{value:{type:"string"}},required:["value"]},$id:"62d02268-8800-4fac-8d8c-cc520d780b28"}}],transitions:[{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p3_key:"local output_p3_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value + { X: X };",output_p3_value:"local output_p3_value = input_i1_value + { X: X };",output_x_value:"local output_x_value = X;"}},{id:"e42ae73f-dab5-4ac7-a964-035d84488642",name:"B",preface:`
local X = input_x_value;`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_p2_key:"local output_p2_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = {};",output_p2_value:"local output_p2_value = input_p1_value + { X: X };",output_x_value:"local output_x_value = X;"}},{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",name:"D",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_p5_key:"local output_p5_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = {};",output_p5_value:"local output_p5_value = input_p4_value + { X: X };",output_x_value:"local output_x_value = X;"}},{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",name:"E",preface:"local X = input_x_value;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value + { X: X };",output_x_value:"local output_x_value = X;"}},{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",name:'C (change X to "fry")',preface:'local X = if input_p3_value.instanceID == "i0" then input_x_value else "fry";',guard:"true",customVariables:{},keyVarSnippets:{output_p4_key:"local output_p4_key = '-';",output_x_key:"local output_x_key = 'value';"},fragmentVarSnippets:{output_p4_value:"local output_p4_value = input_p3_value + { X: X };",output_x_value:"local output_x_value = X;"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"d6866b7c-b02e-4504-99b2-5b6def861690"},{id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",filter:"$.*",fromId:"d6866b7c-b02e-4504-99b2-5b6def861690",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"aa1d066d-6839-4181-9a09-df999df3065b"},{id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",filter:"$.*",fromId:"aa1d066d-6839-4181-9a09-df999df3065b",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"fe908ccd-0434-42ff-9649-be751f134161",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"cdd83440-d8bb-461c-8f7f-c5ae18765abd"},{id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",filter:"$",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",filter:"$.*",fromId:"176bb657-9538-45c2-840e-c9f0a92b1f19",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50"},{id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",filter:"$.*",fromId:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"d9be0aea-bf99-42a4-9939-9c385313a3d9"},{id:"d78f6781-5b42-4960-9475-3430b2d57f39",filter:"$.*",fromId:"d9be0aea-bf99-42a4-9939-9c385313a3d9",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"},{id:"a63ceb6f-aec8-471d-a330-3382884ccee7",filter:"$.*.value",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"8a8df166-4897-49c8-84e1-948f6adb7354",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"e42ae73f-dab5-4ac7-a964-035d84488642"},{id:"c86cef02-da14-43f0-8804-6f45f0355c26",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc"},{id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",filter:"$",fromId:"e42ae73f-dab5-4ac7-a964-035d84488642",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"86878acb-7db3-4555-9b38-6ac06792322b",filter:"$",fromId:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"8336d72e-82e1-47ba-a31d-179b8881714f",filter:"$",fromId:"274f143d-b1ea-4486-8f64-cef318eb4f9e",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"d5a794ff-16b0-4e8c-a97a-5ae13842d506",filter:"$",fromId:"c42140c7-2ad6-4ab9-8915-71683493eb0d",toId:"62d02268-8800-4fac-8d8c-cc520d780b28"},{id:"869de229-0f2d-4765-98f7-8f343afd2e2d",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"274f143d-b1ea-4486-8f64-cef318eb4f9e"},{id:"54116ef4-a4e8-4649-8db1-eb4cabd235b4",filter:"$.*",fromId:"62d02268-8800-4fac-8d8c-cc520d780b28",toId:"c42140c7-2ad6-4ab9-8915-71683493eb0d"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:75},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"e42ae73f-dab5-4ac7-a964-035d84488642",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:150},angle:0,id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1200,y:75},angle:0,id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"E"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:150},angle:0,id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",jsonnetsType:"transition",z:5,attrs:{".label":{fill:"#7a7e9b",text:'C (change X to "fry")'},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d6866b7c-b02e-4504-99b2-5b6def861690",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:75},angle:0,tokens:2,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:150},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"aa1d066d-6839-4181-9a09-df999df3065b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1400,y:75},angle:0,tokens:0,id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:150},angle:0,tokens:0,id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:150},angle:0,tokens:0,id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",jsonnetsType:"place",z:12,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p5"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:768,y:-192},angle:0,tokens:1,id:"62d02268-8800-4fac-8d8c-cc520d780b28",jsonnetsType:"place",z:13,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"X"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},id:"495fd96b-01b9-4661-b353-8c5ca1cd3afd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d6866b7c-b02e-4504-99b2-5b6def861690",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"eaa3e2f7-d5f0-4dfd-8877-fb438f79b911",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},id:"1f2458a5-fafc-4d5d-a3bd-1753a859bfae",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"aa1d066d-6839-4181-9a09-df999df3065b",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"ea07e256-788c-4414-aca6-2b0b9accd9cc",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"cdd83440-d8bb-461c-8f7f-c5ae18765abd",selector:".root"},id:"fe908ccd-0434-42ff-9649-be751f134161",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"bbdd6284-dd1e-4d68-84c1-eea4af8a09dd",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"93b8aa6b-4881-4646-af1f-bb83ed2817ac",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},id:"7ba1f8cb-9e81-408e-ba38-1ebe070185df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"0c7cbbe2-f570-44e4-be0b-3e66dd4fbf50",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"4a21a6c7-a137-4de0-8329-bce283cc7c43",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},id:"358b5e54-2f8a-47e7-9bdb-9084cb37ac42",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d9be0aea-bf99-42a4-9939-9c385313a3d9",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"d78f6781-5b42-4960-9475-3430b2d57f39",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"a63ceb6f-aec8-471d-a330-3382884ccee7",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},id:"8a8df166-4897-49c8-84e1-948f6adb7354",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[{x:864,y:-120}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},id:"c86cef02-da14-43f0-8804-6f45f0355c26",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[{x:793,y:96},{x:900,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"f0f7a495-08ad-4fcc-85b9-84fc174493fb",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[{x:200,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e42ae73f-dab5-4ac7-a964-035d84488642",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"dfff8a5d-876b-4d68-b51b-fc25ae30bea2",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:30,vertices:[{x:864,y:-120}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"4df2e8e7-44f3-4ed7-aac8-bc6bcb36c7fc",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"86878acb-7db3-4555-9b38-6ac06792322b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:31,vertices:[{x:900,y:96},{x:793,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"8336d72e-82e1-47ba-a31d-179b8881714f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:32,vertices:[{x:550,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},target:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},id:"d5a794ff-16b0-4e8c-a97a-5ae13842d506",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:33,vertices:[{x:1250,y:-167}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"274f143d-b1ea-4486-8f64-cef318eb4f9e",selector:".root"},id:"869de229-0f2d-4765-98f7-8f343afd2e2d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:34,vertices:[{x:550,y:-48}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"62d02268-8800-4fac-8d8c-cc520d780b28",selector:".root"},target:{id:"c42140c7-2ad6-4ab9-8915-71683493eb0d",selector:".root"},id:"54116ef4-a4e8-4649-8db1-eb4cabd235b4",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:35,vertices:[{x:1250,y:-168}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-27-28-data-transfer-by-value",net:{typeData:{placeTypes:{"6f246a7f-f5e9-4989-a3b8-5c459f409841":"instances","09235a13-f4b1-44c9-b618-8e821ffe14a6":"instances","d1488ada-faa0-44ef-8d13-13591dd400ac":"instances","8b84971e-d322-49ed-a8e2-d96a4b1b7742":"instances"},transitionTypes:{"d291b915-c476-4a7f-9d52-497f7f674d88":"custom","a92c2e45-02a6-4015-8768-fea23cecca8d":"custom","34cd1cf1-1a26-4abc-b3f7-ccfe8165069d":"custom"}},netData:{places:[{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"6f246a7f-f5e9-4989-a3b8-5c459f409841"}},{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"09235a13-f4b1-44c9-b618-8e821ffe14a6"}},{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d1488ada-faa0-44ef-8d13-13591dd400ac"}},{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"}}],transitions:[{id:"d291b915-c476-4a7f-9d52-497f7f674d88",name:"A",preface:"local X = 56;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0] + { Y: X };"}},{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",name:"B",preface:"local Y = input_p1_value.Y;",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0] + { Z: Y };"}},{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",name:"C",preface:"local Z = input_p2_value.Z;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0] + { Z: Z };"}}],arcs:[{id:"2ed67a98-efba-40c5-ae40-733f1def4a86",filter:"$.*",fromId:"6f246a7f-f5e9-4989-a3b8-5c459f409841",toId:"d291b915-c476-4a7f-9d52-497f7f674d88"},{id:"3950614a-7f91-443f-b832-60356c41b880",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"09235a13-f4b1-44c9-b618-8e821ffe14a6"},{id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",filter:"$.*",fromId:"09235a13-f4b1-44c9-b618-8e821ffe14a6",toId:"a92c2e45-02a6-4015-8768-fea23cecca8d"},{id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",filter:"$",fromId:"a92c2e45-02a6-4015-8768-fea23cecca8d",toId:"d1488ada-faa0-44ef-8d13-13591dd400ac"},{id:"963e1f02-4ecd-4e39-b0ae-ced9bbbffcaa",filter:"$.*",fromId:"d1488ada-faa0-44ef-8d13-13591dd400ac",toId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d"},{id:"e2ae029d-b3ac-4026-844d-dd298ab9526c",filter:"$",fromId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",toId:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"d291b915-c476-4a7f-9d52-497f7f674d88",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"a92c2e45-02a6-4015-8768-fea23cecca8d",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d1488ada-faa0-44ef-8d13-13591dd400ac",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",selector:".root"},target:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},id:"2ed67a98-efba-40c5-ae40-733f1def4a86",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},id:"3950614a-7f91-443f-b832-60356c41b880",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},target:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},target:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},target:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},id:"963e1f02-4ecd-4e39-b0ae-ced9bbbffcaa",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},target:{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",selector:".root"},id:"e2ae029d-b3ac-4026-844d-dd298ab9526c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-29-data-transfer-copy-in-copy-out",net:{typeData:{placeTypes:{"6f246a7f-f5e9-4989-a3b8-5c459f409841":"instances","09235a13-f4b1-44c9-b618-8e821ffe14a6":"instances","d1488ada-faa0-44ef-8d13-13591dd400ac":"instances","8b84971e-d322-49ed-a8e2-d96a4b1b7742":"instances","7f92d634-c3a4-4dba-8233-3f9054e2724b":"custom"},transitionTypes:{"d291b915-c476-4a7f-9d52-497f7f674d88":"custom","a92c2e45-02a6-4015-8768-fea23cecca8d":"custom","34cd1cf1-1a26-4abc-b3f7-ccfe8165069d":"custom"}},netData:{places:[{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"6f246a7f-f5e9-4989-a3b8-5c459f409841"}},{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"09235a13-f4b1-44c9-b618-8e821ffe14a6"}},{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d1488ada-faa0-44ef-8d13-13591dd400ac"}},{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"}},{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",name:"data repository",marking:[{X:"ocean",Y:"steak",Z:"deck"}],schema:{type:"array",items:{type:"object"},$id:"7f92d634-c3a4-4dba-8233-3f9054e2724b"}}],transitions:[{id:"d291b915-c476-4a7f-9d52-497f7f674d88",name:"A",preface:"local X = input_dataRepository_value.X;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_dataRepository_key:"local output_dataRepository_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value + { X: X };",output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value + { X: X };"}},{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",name:"B",preface:"local X = input_dataRepository_value.X;",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';",output_dataRepository_key:"local output_dataRepository_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_p1_value + { X: X };",output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value + { X: X };"}},{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",name:"C",preface:"local Z = input_dataRepository_value.Z;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_dataRepository_key:"local output_dataRepository_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value + { Z: Z };",output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value + { Z: Z };"}}],arcs:[{id:"2ed67a98-efba-40c5-ae40-733f1def4a86",filter:"$.*",fromId:"6f246a7f-f5e9-4989-a3b8-5c459f409841",toId:"d291b915-c476-4a7f-9d52-497f7f674d88"},{id:"3950614a-7f91-443f-b832-60356c41b880",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"09235a13-f4b1-44c9-b618-8e821ffe14a6"},{id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",filter:"$.*",fromId:"09235a13-f4b1-44c9-b618-8e821ffe14a6",toId:"a92c2e45-02a6-4015-8768-fea23cecca8d"},{id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",filter:"$",fromId:"a92c2e45-02a6-4015-8768-fea23cecca8d",toId:"d1488ada-faa0-44ef-8d13-13591dd400ac"},{id:"963e1f02-4ecd-4e39-b0ae-ced9bbbffcaa",filter:"$.*",fromId:"d1488ada-faa0-44ef-8d13-13591dd400ac",toId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d"},{id:"e2ae029d-b3ac-4026-844d-dd298ab9526c",filter:"$",fromId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",toId:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"},{id:"4267ed15-6cc1-40b6-b3bc-388bbebb815d",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"a92c2e45-02a6-4015-8768-fea23cecca8d"},{id:"39a98b0f-6767-4a03-b80f-9fbc07f58b4f",filter:"$",fromId:"a92c2e45-02a6-4015-8768-fea23cecca8d",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"},{id:"d6cc7060-718f-4d49-8807-4f793bcb2d3b",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"},{id:"2f739416-efd7-4216-82dc-290d61408652",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"d291b915-c476-4a7f-9d52-497f7f674d88"},{id:"0f9ce2ab-37e6-4877-b527-b0697fcff097",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d"},{id:"5703e666-e99f-4a59-9ce5-e2ce0df3410b",filter:"$",fromId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"d291b915-c476-4a7f-9d52-497f7f674d88",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:0},angle:0,id:"a92c2e45-02a6-4015-8768-fea23cecca8d",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d1488ada-faa0-44ef-8d13-13591dd400ac",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:-156},angle:0,tokens:1,id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"data repository"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",selector:".root"},target:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},id:"2ed67a98-efba-40c5-ae40-733f1def4a86",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},id:"3950614a-7f91-443f-b832-60356c41b880",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},target:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},target:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},target:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},id:"963e1f02-4ecd-4e39-b0ae-ced9bbbffcaa",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},target:{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",selector:".root"},id:"e2ae029d-b3ac-4026-844d-dd298ab9526c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},id:"4267ed15-6cc1-40b6-b3bc-388bbebb815d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"39a98b0f-6767-4a03-b80f-9fbc07f58b4f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"d6cc7060-718f-4d49-8807-4f793bcb2d3b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},id:"2f739416-efd7-4216-82dc-290d61408652",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},id:"0f9ce2ab-37e6-4877-b527-b0697fcff097",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"5703e666-e99f-4a59-9ce5-e2ce0df3410b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-31-data-transfer-by-reference-with-lock",net:{typeData:{placeTypes:{},transitionTypes:{}},netData:{places:[{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",name:"i1",marking:[{instance_id:0}],schema:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"6f246a7f-f5e9-4989-a3b8-5c459f409841"}},{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",name:"p1",marking:[],schema:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"09235a13-f4b1-44c9-b618-8e821ffe14a6"}},{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",name:"p2",marking:[],schema:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"d1488ada-faa0-44ef-8d13-13591dd400ac"}},{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",name:"o1",marking:[],schema:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"}},{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",name:"data repository",marking:[{X:8.6498,N:"AB01"}],schema:{type:"array",items:{type:"object",properties:{X:{type:"number"}},required:["X"]},$id:"7f92d634-c3a4-4dba-8233-3f9054e2724b"}},{id:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8",name:"p3",marking:[],schema:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8"}},{id:"7f074c12-11be-4738-aa7a-f5913a85ac1e",name:"p4",marking:[],schema:{type:"array",items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]},$id:"7f074c12-11be-4738-aa7a-f5913a85ac1e"}}],transitions:[{id:"d291b915-c476-4a7f-9d52-497f7f674d88",name:"A",preface:`local ref = "X";
local X = input_dataRepository_value[ref];`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_dataRepository_key:"local output_dataRepository_key = '-';",output_p3_key:"local output_p3_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value + { ref: ref, X: X };",output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value;",output_p3_value:"local output_p3_value = input_i1_value + { ref: ref, X: X };"}},{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",name:"B",preface:`local ref = input_p1_value.ref;
local X = input_dataRepository_value[ref];`,guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';",output_dataRepository_key:"local output_dataRepository_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_p1_value + { ref: ref, X: X };",output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value;"}},{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",name:"C",preface:`local ref = input_p3_value.ref;
local X = input_dataRepository_value[ref];`,guard:"true",customVariables:{},keyVarSnippets:{output_dataRepository_key:"local output_dataRepository_key = '-';",output_p4_key:"local output_p4_key = '-';"},fragmentVarSnippets:{output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value;",output_p4_value:"local output_p4_value = input_p3_value + { ref: ref, X: X };"}},{id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",name:"D",preface:`local ref = input_p2_value.ref;
local X = input_dataRepository_value[ref];`,guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_dataRepository_key:"local output_dataRepository_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p2_value;",output_dataRepository_value:"local output_dataRepository_value = input_dataRepository_value;"}}],arcs:[{id:"2ed67a98-efba-40c5-ae40-733f1def4a86",filter:"$.*",fromId:"6f246a7f-f5e9-4989-a3b8-5c459f409841",toId:"d291b915-c476-4a7f-9d52-497f7f674d88"},{id:"3950614a-7f91-443f-b832-60356c41b880",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"09235a13-f4b1-44c9-b618-8e821ffe14a6"},{id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",filter:"$.*",fromId:"09235a13-f4b1-44c9-b618-8e821ffe14a6",toId:"a92c2e45-02a6-4015-8768-fea23cecca8d"},{id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",filter:"$",fromId:"a92c2e45-02a6-4015-8768-fea23cecca8d",toId:"d1488ada-faa0-44ef-8d13-13591dd400ac"},{id:"4267ed15-6cc1-40b6-b3bc-388bbebb815d",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"a92c2e45-02a6-4015-8768-fea23cecca8d"},{id:"39a98b0f-6767-4a03-b80f-9fbc07f58b4f",filter:"$",fromId:"a92c2e45-02a6-4015-8768-fea23cecca8d",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"},{id:"6813d598-cc2d-42c3-88e9-7cc533ae2e81",filter:"$.*",fromId:"d1488ada-faa0-44ef-8d13-13591dd400ac",toId:"18c3785e-4c51-416c-b4f1-4d10c1cb2116"},{id:"2094194e-2bbc-4a1c-8c13-253fa8f49a6f",filter:"$",fromId:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",toId:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"},{id:"9ab03ff5-82da-40e2-89af-a539cf2f6d14",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"},{id:"bf232f55-fa34-4495-a157-ab1d4e93e5e9",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"d291b915-c476-4a7f-9d52-497f7f674d88"},{id:"323455fe-3ef5-438a-8abb-89754bd0ed7d",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"18c3785e-4c51-416c-b4f1-4d10c1cb2116"},{id:"91dcfd7b-792e-44b9-a5f5-a665fb6f918c",filter:"$",fromId:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"},{id:"d929dfe3-a315-4cc6-be3b-5609cb6c6a25",filter:"$",fromId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",toId:"7f92d634-c3a4-4dba-8233-3f9054e2724b"},{id:"004a7228-9c4a-432d-bbd7-9728fef82579",filter:"$.*",fromId:"7f92d634-c3a4-4dba-8233-3f9054e2724b",toId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d"},{id:"48935a95-7f9a-4835-9f27-8bce716f5527",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8"},{id:"db0d3dae-f8d6-4f52-b659-bf0fa4b77fab",filter:"$.*",fromId:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8",toId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d"},{id:"a9b61078-8ba6-40ee-8759-658202d889ae",filter:"$",fromId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",toId:"7f074c12-11be-4738-aa7a-f5913a85ac1e"},{id:"00df35c6-79f7-40f9-bebe-4f0f4cbea027",filter:"$.*",fromId:"7f074c12-11be-4738-aa7a-f5913a85ac1e",toId:"18c3785e-4c51-416c-b4f1-4d10c1cb2116"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"d291b915-c476-4a7f-9d52-497f7f674d88",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:-72},angle:0,id:"a92c2e45-02a6-4015-8768-fea23cecca8d",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:96},angle:0,id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:828,y:0},angle:0,id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:360,y:-72},angle:0,tokens:0,id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:-72},angle:0,tokens:0,id:"d1488ada-faa0-44ef-8d13-13591dd400ac",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:996,y:0},angle:0,tokens:0,id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:-228},angle:0,tokens:1,id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"data repository"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:360,y:96},angle:0,tokens:0,id:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:696,y:96},angle:0,tokens:0,id:"7f074c12-11be-4738-aa7a-f5913a85ac1e",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p4"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",selector:".root"},target:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},id:"2ed67a98-efba-40c5-ae40-733f1def4a86",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},id:"3950614a-7f91-443f-b832-60356c41b880",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},target:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},target:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},id:"4267ed15-6cc1-40b6-b3bc-388bbebb815d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"39a98b0f-6767-4a03-b80f-9fbc07f58b4f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},target:{id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",selector:".root"},id:"6813d598-cc2d-42c3-88e9-7cc533ae2e81",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",selector:".root"},target:{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",selector:".root"},id:"2094194e-2bbc-4a1c-8c13-253fa8f49a6f",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"9ab03ff5-82da-40e2-89af-a539cf2f6d14",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},id:"bf232f55-fa34-4495-a157-ab1d4e93e5e9",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",selector:".root"},id:"323455fe-3ef5-438a-8abb-89754bd0ed7d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:22,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"91dcfd7b-792e-44b9-a5f5-a665fb6f918c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:23,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},target:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},id:"d929dfe3-a315-4cc6-be3b-5609cb6c6a25",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:24,vertices:[{x:648,y:24},{x:648,y:-84}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f92d634-c3a4-4dba-8233-3f9054e2724b",selector:".root"},target:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},id:"004a7228-9c4a-432d-bbd7-9728fef82579",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:25,vertices:[{x:648,y:-84},{x:648,y:24}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8",selector:".root"},id:"48935a95-7f9a-4835-9f27-8bce716f5527",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:26,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2a8acd55-6011-4b8f-8318-a55b5cdeadd8",selector:".root"},target:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},id:"db0d3dae-f8d6-4f52-b659-bf0fa4b77fab",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:27,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},target:{id:"7f074c12-11be-4738-aa7a-f5913a85ac1e",selector:".root"},id:"a9b61078-8ba6-40ee-8759-658202d889ae",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:28,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f074c12-11be-4738-aa7a-f5913a85ac1e",selector:".root"},target:{id:"18c3785e-4c51-416c-b4f1-4d10c1cb2116",selector:".root"},id:"00df35c6-79f7-40f9-bebe-4f0f4cbea027",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:29,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-32-33-data-transfer-input-and-output",net:{typeData:{placeTypes:{"6f246a7f-f5e9-4989-a3b8-5c459f409841":"custom","09235a13-f4b1-44c9-b618-8e821ffe14a6":"instances","d1488ada-faa0-44ef-8d13-13591dd400ac":"instances","8b84971e-d322-49ed-a8e2-d96a4b1b7742":"instances"},transitionTypes:{"d291b915-c476-4a7f-9d52-497f7f674d88":"instances","34cd1cf1-1a26-4abc-b3f7-ccfe8165069d":"instances","a92c2e45-02a6-4015-8768-fea23cecca8d":"custom"}},netData:{places:[{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",name:"i1",marking:[{instanceID:"i0",X:657}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"6f246a7f-f5e9-4989-a3b8-5c459f409841"}},{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"09235a13-f4b1-44c9-b618-8e821ffe14a6"}},{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",name:"p2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"d1488ada-faa0-44ef-8d13-13591dd400ac"}},{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"}}],transitions:[{id:"d291b915-c476-4a7f-9d52-497f7f674d88",name:"A",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_values[0];"}},{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",name:"B",preface:`local times10(x) = x * 10;
local divideBy2(x) = x / 2;

local X_in = times10(input_p1_value.X);
local X_out = divideBy2(X_in);`,guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_p1_value + { X: X_out };"}},{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"2ed67a98-efba-40c5-ae40-733f1def4a86",filter:"$.*",fromId:"6f246a7f-f5e9-4989-a3b8-5c459f409841",toId:"d291b915-c476-4a7f-9d52-497f7f674d88"},{id:"3950614a-7f91-443f-b832-60356c41b880",filter:"$",fromId:"d291b915-c476-4a7f-9d52-497f7f674d88",toId:"09235a13-f4b1-44c9-b618-8e821ffe14a6"},{id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",filter:"$.*",fromId:"09235a13-f4b1-44c9-b618-8e821ffe14a6",toId:"a92c2e45-02a6-4015-8768-fea23cecca8d"},{id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",filter:"$",fromId:"a92c2e45-02a6-4015-8768-fea23cecca8d",toId:"d1488ada-faa0-44ef-8d13-13591dd400ac"},{id:"963e1f02-4ecd-4e39-b0ae-ced9bbbffcaa",filter:"$.*",fromId:"d1488ada-faa0-44ef-8d13-13591dd400ac",toId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d"},{id:"e2ae029d-b3ac-4026-844d-dd298ab9526c",filter:"$",fromId:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",toId:"8b84971e-d322-49ed-a8e2-d96a4b1b7742"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"d291b915-c476-4a7f-9d52-497f7f674d88",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:0},angle:0,id:"a92c2e45-02a6-4015-8768-fea23cecca8d",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:850,y:0},angle:0,id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:1,id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"d1488ada-faa0-44ef-8d13-13591dd400ac",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1050,y:0},angle:0,tokens:0,id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"6f246a7f-f5e9-4989-a3b8-5c459f409841",selector:".root"},target:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},id:"2ed67a98-efba-40c5-ae40-733f1def4a86",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d291b915-c476-4a7f-9d52-497f7f674d88",selector:".root"},target:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},id:"3950614a-7f91-443f-b832-60356c41b880",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"09235a13-f4b1-44c9-b618-8e821ffe14a6",selector:".root"},target:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},id:"b0cc730f-ea6b-4659-b6f0-a5c7c329f7e6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a92c2e45-02a6-4015-8768-fea23cecca8d",selector:".root"},target:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},id:"c69cce68-a0e8-446b-8e61-dccf5636c6ec",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"d1488ada-faa0-44ef-8d13-13591dd400ac",selector:".root"},target:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},id:"963e1f02-4ecd-4e39-b0ae-ced9bbbffcaa",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"34cd1cf1-1a26-4abc-b3f7-ccfe8165069d",selector:".root"},target:{id:"8b84971e-d322-49ed-a8e2-d96a4b1b7742",selector:".root"},id:"e2ae029d-b3ac-4026-844d-dd298ab9526c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-34-task-precondition-data-existence",net:{typeData:{placeTypes:{"4067502d-8770-47c0-b2a0-74931ae0ef10":"custom","fb4f9ebd-440e-4522-be5a-857d3ee7b1e0":"custom","3b8efff9-bc8b-4762-af6c-035fe4aa3b59":"custom","5ea146b7-ad3b-45f3-bcab-46fa18591433":"custom"},transitionTypes:{"8bebac45-0b78-44f4-896a-e8fbca7a982b":"custom","9d248820-5fd4-4389-abfd-7e71bb77bf4b":"custom","1c75e7f2-5f0f-46b3-8b41-26323cc826b9":"custom"}},netData:{places:[{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4067502d-8770-47c0-b2a0-74931ae0ef10"}},{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",name:"p1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"}},{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",name:"p2",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"}},{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}}],transitions:[{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",name:"A",preface:`local X = 8.6498;
local Z = "ocean";`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:'local output_p1_value = input_values[0] + { X: X,  [if (input_i1_value.instanceID == "i1") then "Z"]: Z};'}},{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",name:"B",preface:"local Z = input_p1_value.Z;",guard:"true",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",name:"C",preface:"local X = input_p2_value.X;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",filter:"$.*",fromId:"4067502d-8770-47c0-b2a0-74931ae0ef10",toId:"8bebac45-0b78-44f4-896a-e8fbca7a982b"},{id:"715254aa-a834-4c8c-b5c0-c472213ed90b",filter:"$",fromId:"8bebac45-0b78-44f4-896a-e8fbca7a982b",toId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"},{id:"10ab1ea8-5830-462d-a894-45041e057b48",filter:"$.[?(@.Z)]",fromId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",toId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b"},{id:"8b75f772-875e-42cd-a8b9-3a1533329e46",filter:"$",fromId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",toId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"},{id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",filter:"$.*",fromId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",toId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9"},{id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",filter:"$",fromId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",toId:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:840,y:0},angle:0,id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:2,id:"4067502d-8770-47c0-b2a0-74931ae0ef10",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1032,y:0},angle:0,tokens:0,id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",selector:".root"},target:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},target:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},id:"715254aa-a834-4c8c-b5c0-c472213ed90b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},target:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},id:"10ab1ea8-5830-462d-a894-45041e057b48",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},target:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},id:"8b75f772-875e-42cd-a8b9-3a1533329e46",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},target:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},target:{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",selector:".root"},id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-35-task-precondition-data-value",net:{typeData:{placeTypes:{"4067502d-8770-47c0-b2a0-74931ae0ef10":"custom","fb4f9ebd-440e-4522-be5a-857d3ee7b1e0":"custom","3b8efff9-bc8b-4762-af6c-035fe4aa3b59":"custom","5ea146b7-ad3b-45f3-bcab-46fa18591433":"custom"},transitionTypes:{"8bebac45-0b78-44f4-896a-e8fbca7a982b":"custom","9d248820-5fd4-4389-abfd-7e71bb77bf4b":"custom","1c75e7f2-5f0f-46b3-8b41-26323cc826b9":"custom"}},netData:{places:[{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4067502d-8770-47c0-b2a0-74931ae0ef10"}},{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",name:"p1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"}},{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",name:"p2",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"}},{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}}],transitions:[{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",name:"A",preface:`local X = 8.6498;
local Z = "ocean";`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:'local output_p1_value = input_i1_value + { X: X,  [if (input_i1_value.instanceID == "i1") then "Z"]: Z};'}},{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",name:"B",preface:"",guard:'std.objectHas(output_p2_value,"Z")',customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",name:"C",preface:"local X = input_p2_value.X;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",filter:"$.*",fromId:"4067502d-8770-47c0-b2a0-74931ae0ef10",toId:"8bebac45-0b78-44f4-896a-e8fbca7a982b"},{id:"715254aa-a834-4c8c-b5c0-c472213ed90b",filter:"$",fromId:"8bebac45-0b78-44f4-896a-e8fbca7a982b",toId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"},{id:"10ab1ea8-5830-462d-a894-45041e057b48",filter:"$.*",fromId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",toId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b"},{id:"8b75f772-875e-42cd-a8b9-3a1533329e46",filter:"$",fromId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",toId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"},{id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",filter:"$.*",fromId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",toId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9"},{id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",filter:"$",fromId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",toId:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:840,y:0},angle:0,id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:2,id:"4067502d-8770-47c0-b2a0-74931ae0ef10",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1032,y:0},angle:0,tokens:0,id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",selector:".root"},target:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},target:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},id:"715254aa-a834-4c8c-b5c0-c472213ed90b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},target:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},id:"10ab1ea8-5830-462d-a894-45041e057b48",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},target:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},id:"8b75f772-875e-42cd-a8b9-3a1533329e46",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},target:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},target:{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",selector:".root"},id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-36-task-postcondition-data-existence",net:{typeData:{placeTypes:{"4067502d-8770-47c0-b2a0-74931ae0ef10":"custom","fb4f9ebd-440e-4522-be5a-857d3ee7b1e0":"custom","3b8efff9-bc8b-4762-af6c-035fe4aa3b59":"custom","5ea146b7-ad3b-45f3-bcab-46fa18591433":"custom"},transitionTypes:{"8bebac45-0b78-44f4-896a-e8fbca7a982b":"custom","9d248820-5fd4-4389-abfd-7e71bb77bf4b":"custom","1c75e7f2-5f0f-46b3-8b41-26323cc826b9":"custom"}},netData:{places:[{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4067502d-8770-47c0-b2a0-74931ae0ef10"}},{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",name:"p1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"}},{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",name:"p2",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"}},{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",name:"o1",marking:[],schema:{title:"Process instances (unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}}],transitions:[{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",name:"A",preface:`local X = 8.6498;
local Z = "ocean";`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:'local output_p1_value = input_i1_value + { X: X,  [if (input_i1_value.instanceID == "i1") then "Z"]: Z};'}},{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",name:"B",preface:"",guard:'std.objectHas(output_p2_value,"Z")',customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",name:"C",preface:"local X = input_p2_value.X;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",filter:"$.*",fromId:"4067502d-8770-47c0-b2a0-74931ae0ef10",toId:"8bebac45-0b78-44f4-896a-e8fbca7a982b"},{id:"715254aa-a834-4c8c-b5c0-c472213ed90b",filter:"$",fromId:"8bebac45-0b78-44f4-896a-e8fbca7a982b",toId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"},{id:"10ab1ea8-5830-462d-a894-45041e057b48",filter:"$.*",fromId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",toId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b"},{id:"8b75f772-875e-42cd-a8b9-3a1533329e46",filter:"$",fromId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",toId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"},{id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",filter:"$.*",fromId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",toId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9"},{id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",filter:"$",fromId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",toId:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:840,y:0},angle:0,id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:2,id:"4067502d-8770-47c0-b2a0-74931ae0ef10",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1032,y:0},angle:0,tokens:0,id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",selector:".root"},target:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},target:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},id:"715254aa-a834-4c8c-b5c0-c472213ed90b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},target:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},id:"10ab1ea8-5830-462d-a894-45041e057b48",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},target:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},id:"8b75f772-875e-42cd-a8b9-3a1533329e46",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},target:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},target:{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",selector:".root"},id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-37-task-postcondition-data-value",net:{typeData:{placeTypes:{"4067502d-8770-47c0-b2a0-74931ae0ef10":"custom","fb4f9ebd-440e-4522-be5a-857d3ee7b1e0":"custom","3b8efff9-bc8b-4762-af6c-035fe4aa3b59":"custom","5ea146b7-ad3b-45f3-bcab-46fa18591433":"custom"},transitionTypes:{"8bebac45-0b78-44f4-896a-e8fbca7a982b":"custom","9d248820-5fd4-4389-abfd-7e71bb77bf4b":"custom","1c75e7f2-5f0f-46b3-8b41-26323cc826b9":"custom"}},netData:{places:[{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",name:"i1",marking:[{instanceID:"i0"},{instanceID:"i1"}],schema:{title:"Process instances^(unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4067502d-8770-47c0-b2a0-74931ae0ef10"}},{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",name:"p1",marking:[],schema:{title:"Process instances^(unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"}},{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",name:"p2",marking:[],schema:{title:"Process instances^(unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"}},{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",name:"o1",marking:[],schema:{title:"Process instances^(unsafe)",description:"Place that stores tokens with process instance IDs (unsafe).",type:"array",items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}}],transitions:[{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",name:"A",preface:"local X = 8.6498;",guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:'local output_p1_value = input_i1_value + { X: if (input_i1_value.instanceID == "i1") then 8.6498 else 10};'}},{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",name:"B",preface:"",guard:"output_p2_value.X >= 10",customVariables:{},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = input_values[0];"}},{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",name:"C",preface:"local X = input_p2_value.X;",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_values[0];"}}],arcs:[{id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",filter:"$.*",fromId:"4067502d-8770-47c0-b2a0-74931ae0ef10",toId:"8bebac45-0b78-44f4-896a-e8fbca7a982b"},{id:"715254aa-a834-4c8c-b5c0-c472213ed90b",filter:"$",fromId:"8bebac45-0b78-44f4-896a-e8fbca7a982b",toId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0"},{id:"10ab1ea8-5830-462d-a894-45041e057b48",filter:"$.*",fromId:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",toId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b"},{id:"8b75f772-875e-42cd-a8b9-3a1533329e46",filter:"$",fromId:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",toId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59"},{id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",filter:"$.*",fromId:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",toId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9"},{id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",filter:"$",fromId:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",toId:"5ea146b7-ad3b-45f3-bcab-46fa18591433"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:500,y:0},angle:0,id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:840,y:0},angle:0,id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:0},angle:0,tokens:2,id:"4067502d-8770-47c0-b2a0-74931ae0ef10",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:350,y:0},angle:0,tokens:0,id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:700,y:0},angle:0,tokens:0,id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1032,y:0},angle:0,tokens:0,id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"4067502d-8770-47c0-b2a0-74931ae0ef10",selector:".root"},target:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},id:"3fc8aa75-7639-4a1d-a7be-6352735ccfb6",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"8bebac45-0b78-44f4-896a-e8fbca7a982b",selector:".root"},target:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},id:"715254aa-a834-4c8c-b5c0-c472213ed90b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"fb4f9ebd-440e-4522-be5a-857d3ee7b1e0",selector:".root"},target:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},id:"10ab1ea8-5830-462d-a894-45041e057b48",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9d248820-5fd4-4389-abfd-7e71bb77bf4b",selector:".root"},target:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},id:"8b75f772-875e-42cd-a8b9-3a1533329e46",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"3b8efff9-bc8b-4762-af6c-035fe4aa3b59",selector:".root"},target:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},id:"e5f4c12c-0127-4b3c-b903-e23e7a2df26a",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"1c75e7f2-5f0f-46b3-8b41-26323cc826b9",selector:".root"},target:{id:"5ea146b7-ad3b-45f3-bcab-46fa18591433",selector:".root"},id:"e32df1a1-0699-4d2b-a224-fd3a15de37df",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-39-data-based-task-trigger",net:{typeData:{placeTypes:{"cb7259e2-73e9-46b9-ac7a-81e2acca3118":"instances","cff8f223-18c2-4578-b964-21c37c044e7e":"instances","847297d8-1ffd-4833-9ad7-ff6d4a8cc0b4":"instances","bc66dd08-9f0e-4b5a-8a66-db129e9c5c19":"instances","61d1c322-aeea-4ac1-8703-66ac579edd8e":"instances","ef7d6a94-f371-4469-8cb6-9332beee1c03":"custom"},transitionTypes:{"bee44bc0-9817-469d-8ff3-1da192c7b233":"custom","7eb67725-1713-4716-8d04-7d36c5ab32e3":"custom","e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87":"custom"}},netData:{places:[{id:"cb7259e2-73e9-46b9-ac7a-81e2acca3118",name:"i1",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cb7259e2-73e9-46b9-ac7a-81e2acca3118"}},{id:"cff8f223-18c2-4578-b964-21c37c044e7e",name:"p1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"cff8f223-18c2-4578-b964-21c37c044e7e"}},{id:"61d1c322-aeea-4ac1-8703-66ac579edd8e",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"61d1c322-aeea-4ac1-8703-66ac579edd8e"}},{id:"847297d8-1ffd-4833-9ad7-ff6d4a8cc0b4",name:"i2",marking:[{instanceID:"i0"}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"847297d8-1ffd-4833-9ad7-ff6d4a8cc0b4"}},{id:"bc66dd08-9f0e-4b5a-8a66-db129e9c5c19",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"bc66dd08-9f0e-4b5a-8a66-db129e9c5c19"}},{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",name:"data storage",marking:[{X:30}],schema:{type:"array",items:{type:"object"},$id:"ef7d6a94-f371-4469-8cb6-9332beee1c03"}}],transitions:[{id:"bee44bc0-9817-469d-8ff3-1da192c7b233",name:"A",preface:"",guard:"input_dataStorage_value.X < 3",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';",output_dataStorage_key:"local output_dataStorage_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = input_i1_value;",output_dataStorage_value:"local output_dataStorage_value = input_dataStorage_value;"}},{id:"7eb67725-1713-4716-8d04-7d36c5ab32e3",name:"B",preface:"",guard:"input_dataStorage_value.X > 25",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';",output_dataStorage_key:"local output_dataStorage_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p1_value;",output_dataStorage_value:"local output_dataStorage_value = input_dataStorage_value;"}},{id:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",name:"C",preface:"",guard:"input_dataStorage_value.X > 25",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';",output_dataStorage_key:"local output_dataStorage_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_i2_value;",output_dataStorage_value:"local output_dataStorage_value = input_dataStorage_value;"}}],arcs:[{id:"1c975e23-e2f4-4111-8b7d-4af4cf188582",filter:"$.*",fromId:"cb7259e2-73e9-46b9-ac7a-81e2acca3118",toId:"bee44bc0-9817-469d-8ff3-1da192c7b233"},{id:"f900b451-9849-4bc1-bbe3-60ac5bb06dd8",filter:"$",fromId:"bee44bc0-9817-469d-8ff3-1da192c7b233",toId:"cff8f223-18c2-4578-b964-21c37c044e7e"},{id:"258d8198-b8e0-4fd6-9ff2-539a36eb70b4",filter:"$.*",fromId:"cff8f223-18c2-4578-b964-21c37c044e7e",toId:"7eb67725-1713-4716-8d04-7d36c5ab32e3"},{id:"131d9c42-01a2-40a7-a699-d81d41ab7e0d",filter:"$",fromId:"7eb67725-1713-4716-8d04-7d36c5ab32e3",toId:"61d1c322-aeea-4ac1-8703-66ac579edd8e"},{id:"61511c2b-f9ab-4113-b261-ef171a976578",filter:"$.*",fromId:"847297d8-1ffd-4833-9ad7-ff6d4a8cc0b4",toId:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87"},{id:"943bd6d5-3bb0-44fc-a85f-457289ffb690",filter:"$",fromId:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",toId:"bc66dd08-9f0e-4b5a-8a66-db129e9c5c19"},{id:"cccdab35-b7d6-4896-b967-0c51caa463c9",filter:"$",fromId:"bee44bc0-9817-469d-8ff3-1da192c7b233",toId:"ef7d6a94-f371-4469-8cb6-9332beee1c03"},{id:"05ffa528-9e3f-4506-b60c-9d8dc33e2e26",filter:"$.*",fromId:"ef7d6a94-f371-4469-8cb6-9332beee1c03",toId:"bee44bc0-9817-469d-8ff3-1da192c7b233"},{id:"76ea0354-81d1-4485-9974-e8d7483b1344",filter:"$.*",fromId:"ef7d6a94-f371-4469-8cb6-9332beee1c03",toId:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87"},{id:"e27b3476-0799-4525-ae42-2621c521cb51",filter:"$",fromId:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",toId:"ef7d6a94-f371-4469-8cb6-9332beee1c03"},{id:"fba9d123-a1f2-4ecc-b16c-bf0b9a6d7aed",filter:"$.*",fromId:"ef7d6a94-f371-4469-8cb6-9332beee1c03",toId:"7eb67725-1713-4716-8d04-7d36c5ab32e3"},{id:"84c36b4b-e37c-46f1-952a-71f9b3037189",filter:"$",fromId:"7eb67725-1713-4716-8d04-7d36c5ab32e3",toId:"ef7d6a94-f371-4469-8cb6-9332beee1c03"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:419,y:287},angle:0,id:"bee44bc0-9817-469d-8ff3-1da192c7b233",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:840,y:288},angle:0,id:"7eb67725-1713-4716-8d04-7d36c5ab32e3",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:636,y:456},angle:0,id:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:251,y:287},angle:0,tokens:1,id:"cb7259e2-73e9-46b9-ac7a-81e2acca3118",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:659,y:287},angle:0,tokens:0,id:"cff8f223-18c2-4578-b964-21c37c044e7e",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1032,y:288},angle:0,tokens:0,id:"61d1c322-aeea-4ac1-8703-66ac579edd8e",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:504,y:456},angle:0,tokens:1,id:"847297d8-1ffd-4833-9ad7-ff6d4a8cc0b4",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:815,y:455},angle:0,tokens:0,id:"bc66dd08-9f0e-4b5a-8a66-db129e9c5c19",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:660,y:132},angle:0,tokens:1,id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"data storage"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"cb7259e2-73e9-46b9-ac7a-81e2acca3118",selector:".root"},target:{id:"bee44bc0-9817-469d-8ff3-1da192c7b233",selector:".root"},id:"1c975e23-e2f4-4111-8b7d-4af4cf188582",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bee44bc0-9817-469d-8ff3-1da192c7b233",selector:".root"},target:{id:"cff8f223-18c2-4578-b964-21c37c044e7e",selector:".root"},id:"f900b451-9849-4bc1-bbe3-60ac5bb06dd8",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cff8f223-18c2-4578-b964-21c37c044e7e",selector:".root"},target:{id:"7eb67725-1713-4716-8d04-7d36c5ab32e3",selector:".root"},id:"258d8198-b8e0-4fd6-9ff2-539a36eb70b4",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7eb67725-1713-4716-8d04-7d36c5ab32e3",selector:".root"},target:{id:"61d1c322-aeea-4ac1-8703-66ac579edd8e",selector:".root"},id:"131d9c42-01a2-40a7-a699-d81d41ab7e0d",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"847297d8-1ffd-4833-9ad7-ff6d4a8cc0b4",selector:".root"},target:{id:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",selector:".root"},id:"61511c2b-f9ab-4113-b261-ef171a976578",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",selector:".root"},target:{id:"bc66dd08-9f0e-4b5a-8a66-db129e9c5c19",selector:".root"},id:"943bd6d5-3bb0-44fc-a85f-457289ffb690",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bee44bc0-9817-469d-8ff3-1da192c7b233",selector:".root"},target:{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",selector:".root"},id:"cccdab35-b7d6-4896-b967-0c51caa463c9",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",selector:".root"},target:{id:"bee44bc0-9817-469d-8ff3-1da192c7b233",selector:".root"},id:"05ffa528-9e3f-4506-b60c-9d8dc33e2e26",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",selector:".root"},target:{id:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",selector:".root"},id:"76ea0354-81d1-4485-9974-e8d7483b1344",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[{x:744,y:264},{x:744,y:372}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e670fbf4-c4cc-4d91-9a5d-dfd0d3c1cb87",selector:".root"},target:{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",selector:".root"},id:"e27b3476-0799-4525-ae42-2621c521cb51",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[{x:744,y:372},{x:744,y:264}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",selector:".root"},target:{id:"7eb67725-1713-4716-8d04-7d36c5ab32e3",selector:".root"},id:"fba9d123-a1f2-4ecc-b16c-bf0b9a6d7aed",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7eb67725-1713-4716-8d04-7d36c5ab32e3",selector:".root"},target:{id:"ef7d6a94-f371-4469-8cb6-9332beee1c03",selector:".root"},id:"84c36b4b-e37c-46f1-952a-71f9b3037189",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"wdp-40-data-based-routing",net:{typeData:{placeTypes:{"172eab8f-6c1b-43da-917b-9fe04efbe785":"instances","c554c549-e1bf-4198-86bb-e91e8d379851":"custom","a8782e54-9075-4f83-bd7a-bad00f1ad52e":"custom","be6eda6b-c4b2-4947-8d0b-74844f9e16d1":"custom","da423599-d447-48d5-a250-e0e12a6933f7":"instances","176bb657-9538-45c2-840e-c9f0a92b1f19":"instances","ccde6ad6-3ea0-485f-b0b5-53d745eaebbd":"instances"},transitionTypes:{"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941":"custom"}},netData:{places:[{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",name:"i1",marking:[{instanceID:"i0",X:3}],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"172eab8f-6c1b-43da-917b-9fe04efbe785"}},{id:"da423599-d447-48d5-a250-e0e12a6933f7",name:"o1",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"da423599-d447-48d5-a250-e0e12a6933f7"}},{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",name:"o2",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"176bb657-9538-45c2-840e-c9f0a92b1f19"}},{id:"c554c549-e1bf-4198-86bb-e91e8d379851",name:"p1",marking:[{data:[]}],schema:{type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}}}},$id:"c554c549-e1bf-4198-86bb-e91e8d379851"}},{id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",name:"p2",marking:[{data:[]}],schema:{type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}}}},$id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e"}},{id:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1",name:"p3",marking:[{data:[]}],schema:{type:"array",maxItems:1,items:{type:"object",properties:{data:{type:"array",maxItems:1,items:{type:"object",properties:{instance_id:{type:"number"}},required:["instance_id"]}}}},$id:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1"}},{id:"ccde6ad6-3ea0-485f-b0b5-53d745eaebbd",name:"o3",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"ccde6ad6-3ea0-485f-b0b5-53d745eaebbd"}}],transitions:[{id:"21635c6b-77c8-461c-955a-cdeca2098346",name:"B",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o1_key:"local output_o1_key = '-';"},fragmentVarSnippets:{output_o1_value:"local output_o1_value = input_p1_value;"}},{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",name:"C",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o2_key:"local output_o2_key = '-';"},fragmentVarSnippets:{output_o2_value:"local output_o2_value = input_p2_value;"}},{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",name:"A",preface:`local X = input_i1_value.X;
local cond1 = X > 3;
local cond2 = X >= 3;
local cond3 = X < 3;`,guard:"true",customVariables:{},keyVarSnippets:{output_p1_key:"local output_p1_key = 'data';",output_p2_key:"local output_p2_key = 'data';",output_p3_key:"local output_p3_key = 'data';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = if cond1 then [input_i1_value] else [];",output_p2_value:"local output_p2_value = if cond2 then [input_i1_value] else [];",output_p3_value:"local output_p3_value = if cond3 then [input_i1_value] else [];"}},{id:"495aaa55-cec5-4dbb-94f5-8fb628964b2c",name:"D",preface:"",guard:"true",customVariables:{},keyVarSnippets:{output_o3_key:"local output_o3_key = '-';"},fragmentVarSnippets:{output_o3_value:"local output_o3_value = {};"}}],arcs:[{id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",filter:"$.*",fromId:"172eab8f-6c1b-43da-917b-9fe04efbe785",toId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941"},{id:"f214d583-17a1-4b31-b742-4d725576ac97",filter:"$",fromId:"21635c6b-77c8-461c-955a-cdeca2098346",toId:"da423599-d447-48d5-a250-e0e12a6933f7"},{id:"d0047c45-9b80-4758-bf92-563024870259",filter:"$",fromId:"916ce7e1-8086-40b1-a508-79bfa944d5e4",toId:"176bb657-9538-45c2-840e-c9f0a92b1f19"},{id:"fd967bad-3c47-4cc8-a8a6-f0558297937b",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"c554c549-e1bf-4198-86bb-e91e8d379851"},{id:"42483988-a6c9-4005-937f-38f94c92cbba",filter:"$.*.data.*",fromId:"c554c549-e1bf-4198-86bb-e91e8d379851",toId:"21635c6b-77c8-461c-955a-cdeca2098346"},{id:"5a229bd5-1a05-4b1d-84de-dd1114d1b133",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"a8782e54-9075-4f83-bd7a-bad00f1ad52e"},{id:"da8ae6dd-7369-47f5-a2bb-b03d54285791",filter:"$.*.data.*",fromId:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",toId:"916ce7e1-8086-40b1-a508-79bfa944d5e4"},{id:"a74f4d9a-7844-46a8-8b3e-fd02d1ce5bef",filter:"$.*",fromId:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",toId:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1"},{id:"43f43130-c4a8-4c8a-bc72-b70b409798c8",filter:"$.*.data.*",fromId:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1",toId:"495aaa55-cec5-4dbb-94f5-8fb628964b2c"},{id:"609991e6-af99-4420-8a17-fdc4cb8c4d23",filter:"$",fromId:"495aaa55-cec5-4dbb-94f5-8fb628964b2c",toId:"ccde6ad6-3ea0-485f-b0b5-53d745eaebbd"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:0},angle:0,id:"21635c6b-77c8-461c-955a-cdeca2098346",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"B"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:144},angle:0,id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"C"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:156,y:144},angle:0,id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"A"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:504,y:300},angle:0,id:"495aaa55-cec5-4dbb-94f5-8fb628964b2c",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"D"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:12,y:144},angle:0,tokens:1,id:"172eab8f-6c1b-43da-917b-9fe04efbe785",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"i1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:708,y:0},angle:0,tokens:0,id:"da423599-d447-48d5-a250-e0e12a6933f7",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:708,y:144},angle:0,tokens:0,id:"176bb657-9538-45c2-840e-c9f0a92b1f19",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:360,y:0},angle:0,tokens:1,id:"c554c549-e1bf-4198-86bb-e91e8d379851",jsonnetsType:"place",z:8,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:360,y:144},angle:0,tokens:1,id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",jsonnetsType:"place",z:9,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:360,y:300},angle:0,tokens:1,id:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1",jsonnetsType:"place",z:10,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:708,y:300},angle:0,tokens:0,id:"ccde6ad6-3ea0-485f-b0b5-53d745eaebbd",jsonnetsType:"place",z:11,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"o3"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"172eab8f-6c1b-43da-917b-9fe04efbe785",selector:".root"},target:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},id:"ccfeabc8-781d-43bd-a83d-98aaedb230c0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},target:{id:"da423599-d447-48d5-a250-e0e12a6933f7",selector:".root"},id:"f214d583-17a1-4b31-b742-4d725576ac97",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},target:{id:"176bb657-9538-45c2-840e-c9f0a92b1f19",selector:".root"},id:"d0047c45-9b80-4758-bf92-563024870259",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:14,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"c554c549-e1bf-4198-86bb-e91e8d379851",selector:".root"},id:"fd967bad-3c47-4cc8-a8a6-f0558297937b",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:15,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c554c549-e1bf-4198-86bb-e91e8d379851",selector:".root"},target:{id:"21635c6b-77c8-461c-955a-cdeca2098346",selector:".root"},id:"42483988-a6c9-4005-937f-38f94c92cbba",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:16,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",selector:".root"},id:"5a229bd5-1a05-4b1d-84de-dd1114d1b133",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:17,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a8782e54-9075-4f83-bd7a-bad00f1ad52e",selector:".root"},target:{id:"916ce7e1-8086-40b1-a508-79bfa944d5e4",selector:".root"},id:"da8ae6dd-7369-47f5-a2bb-b03d54285791",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:18,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"cf282fc7-03f0-4d24-8b2f-52d2e1ecb941",selector:".root"},target:{id:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1",selector:".root"},id:"a74f4d9a-7844-46a8-8b3e-fd02d1ce5bef",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:19,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"be6eda6b-c4b2-4947-8d0b-74844f9e16d1",selector:".root"},target:{id:"495aaa55-cec5-4dbb-94f5-8fb628964b2c",selector:".root"},id:"43f43130-c4a8-4c8a-bc72-b70b409798c8",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:20,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"495aaa55-cec5-4dbb-94f5-8fb628964b2c",selector:".root"},target:{id:"ccde6ad6-3ea0-485f-b0b5-53d745eaebbd",selector:".root"},id:"609991e6-af99-4420-8a17-fdc4cb8c4d23",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:21,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}}],Iwt={name:ywt,defaultUIAssistMode:kwt,defaultTransitionType:_wt,defaultPlaceType:wwt,allowAutoLayout:Swt,visualisationConfig:xwt,transitionTypes:Cwt,placeTypes:Twt,examples:Awt},Pwt="Data Flow (Substructures)",Ewt="expert",$wt="instances",Owt="instances",Dwt=!0,Lwt={show:!1},Fwt=[{id:"instances",title:"Process instances",description:"Transition that creates and consumes tokens with process instance IDs.",keySnippet:"'-';",valueSnippet:"input_values[0];",preface:"",guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{}}],Nwt=[{id:"instances",externalInteraction:{type:"none"},schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]}},marking:[]}],Mwt=[{name:"smp-1-2-insert-delete-substructure",net:{typeData:{placeTypes:{"93294661-9171-46f0-802e-49a9e9dfdc63":"custom","da404193-63a9-4a6e-bec6-ce55572575ee":"custom","4bbb0f1a-8651-4f68-905c-c557905789e4":"instances"},transitionTypes:{"c9cdbe57-597f-4025-82c4-cc4324e9dffc":"custom"}},netData:{places:[{id:"93294661-9171-46f0-802e-49a9e9dfdc63",name:"Flight Request",marking:[{flightNo:135,name:"Newman",date:"11/15/94"}],schema:{type:"array",items:{type:"object"},$id:"93294661-9171-46f0-802e-49a9e9dfdc63"}},{id:"da404193-63a9-4a6e-bec6-ce55572575ee",name:"Flight",marking:[{flightNo:135,passengers:[{seatNo:1,name:"Ford"},{seatNo:2,name:"Jones"},{seatNo:3,name:"Smith"},{seatNo:4,name:"Johnson"},{seatNo:5,name:"Brown"},{seatNo:6,name:"Taylor"},{seatNo:7,name:"Anderson"},{seatNo:8,name:"Thomas"},{seatNo:9,name:"Jackson"},{seatNo:10,name:"White"},{seatNo:11,name:"Harris"},{seatNo:12,name:"Martin"},{seatNo:13,name:"Thompson"},{seatNo:14,name:"Garcia"},{seatNo:15,name:"Martinez"},{seatNo:16,name:"Robinson"},{seatNo:17,name:"Clark"},{seatNo:18,name:"Rodriguez"},{seatNo:19,name:"Lewis"},{seatNo:20,name:"Lee"},{seatNo:21,name:"Walker"},{seatNo:22,name:"Hall"},{seatNo:23,name:"Allen"},{seatNo:24,name:"Young"},{seatNo:25,name:"Hernandez"},{seatNo:26,name:"King"},{seatNo:27,name:"Wright"},{seatNo:28,name:"Lopez"},{seatNo:29,name:"Hill"},{seatNo:30,name:"Scott"},{seatNo:31,name:"Green"},{seatNo:32,name:"Adams"},{seatNo:33,name:"Baker"},{seatNo:34,name:"Gonzalez"},{seatNo:35,name:"Nelson"},{seatNo:36,name:"Carter"},{seatNo:37,name:"Mitchell"},{seatNo:38,name:"Perez"},{seatNo:39,name:"Roberts"},{seatNo:40,name:"Turner"},{seatNo:41,name:"Phillips"},{seatNo:42,name:"Campbell"},{seatNo:43,name:"Parker"},{seatNo:44,name:"Evans"},{seatNo:45,name:"Edwards"},{seatNo:46,name:"Collins"},{seatNo:47,name:"Stewart"},{seatNo:48,name:"Sanchez"},{seatNo:49,name:"Morris"},{seatNo:50,name:"Rogers"},{seatNo:51,name:"Reed"},{seatNo:52,name:"Cook"},{seatNo:53,name:"Morgan"},{seatNo:54,name:"Bell"},{seatNo:55,name:"Murphy"},{seatNo:56,name:"Bailey"},{seatNo:57,name:"Rivera"},{seatNo:58,name:"Cooper"},{seatNo:59,name:"Richardson"},{seatNo:60,name:"Cox"},{seatNo:61,name:"Howard"},{seatNo:62,name:"Ward"},{seatNo:63,name:"Torres"},{seatNo:64,name:"Peterson"},{seatNo:65,name:"Gray"},{seatNo:66,name:"Ramirez"},{seatNo:67,name:"James"},{seatNo:68,name:"Watson"},{seatNo:69,name:"Brooks"},{seatNo:70,name:"Kelly"},{seatNo:71,name:"Sanders"},{seatNo:72,name:"Price"},{seatNo:73,name:"Bennett"},{seatNo:74,name:"Wood"},{seatNo:75,name:"Barnes"},{seatNo:76,name:"Ross"},{seatNo:77,name:"Henderson"},{seatNo:78,name:"Coleman"},{seatNo:79,name:"Jenkins"},{seatNo:80,name:"Perry"},{seatNo:81,name:"Powell"},{seatNo:82,name:"Long"},{seatNo:83,name:"Patterson"},{seatNo:84,name:"Hughes"},{seatNo:85,name:"Flores"},{seatNo:86,name:"Washington"},{seatNo:87,name:"Butler"},{seatNo:88,name:"Simmons"},{seatNo:89,name:"Foster"},{seatNo:90,name:"Gonzales"},{seatNo:91,name:"Bryant"},{seatNo:92,name:"Alexander"},{seatNo:93,name:"Russell"},{seatNo:94,name:"Griffin"},{seatNo:95,name:"Diaz"},{seatNo:96,name:"Hayes"},{seatNo:97,name:"Myers"},{seatNo:98,name:"Ford"},{seatNo:99,name:"Hamilton"},{seatNo:100,name:"Graham"},{seatNo:101,name:"Sullivan"},{seatNo:102,name:"Wallace"},{seatNo:103,name:"Woods"},{seatNo:104,name:"Cole"},{seatNo:105,name:"West"},{seatNo:106,name:"Jordan"},{seatNo:107,name:"Owens"},{seatNo:108,name:"Reynolds"},{seatNo:109,name:"Fisher"},{seatNo:110,name:"Ellis"},{seatNo:111,name:"Harrison"},{seatNo:112,name:"Gibson"},{seatNo:113,name:"Mcdonald"},{seatNo:114,name:"Cruz"},{seatNo:115,name:"Marshall"},{seatNo:116,name:"Ortiz"},{seatNo:117,name:"Gomez"},{seatNo:118,name:"Murray"},{seatNo:119,name:"Freeman"},{seatNo:120,name:"Green"}],availableSeats:[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235],price:820,date:"11/15/94"}],schema:{type:"array",items:{type:"object"},$id:"da404193-63a9-4a6e-bec6-ce55572575ee"}},{id:"4bbb0f1a-8651-4f68-905c-c557905789e4",name:"Flight Reservation",marking:[],schema:{title:"Process instances",description:"Place that stores tokens with process instance IDs.",type:"array",maxItems:1,items:{type:"object",properties:{instanceID:{type:"string"}},required:["instanceID"]},$id:"4bbb0f1a-8651-4f68-905c-c557905789e4"}}],transitions:[{id:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",name:"Accept-flight-reservation",preface:"",guard:`input_flightRequest_token.flightNo == input_flight_token.flightNo &&
input_flightRequest_token.date == input_flightRequest_token.date`,customVariables:{},keyVarSnippets:{output_flightReservation_key:"local output_flightReservation_key = '-';",output_flight_key:"local output_flight_key = '-';"},fragmentVarSnippets:{output_flightReservation_value:`local output_flightReservation_value = {
  flightNo: input_flight_token.flightNo,
  name: input_flightRequest_token.name,
  date: input_flight_token.date,
  price: input_flight_token.price
};`,output_flight_value:`local output_flight_value = {
  seatNo: input_flight_value,
  name: input_flightRequest_value.name
};`}}],arcs:[{id:"2c9ebdbc-91d2-4f00-843f-3c822886d668",filter:"$.*",fromId:"93294661-9171-46f0-802e-49a9e9dfdc63",toId:"c9cdbe57-597f-4025-82c4-cc4324e9dffc"},{id:"a2a90434-7c08-4284-afb2-a82b4095da58",filter:"$.*.availableSeats.*",fromId:"da404193-63a9-4a6e-bec6-ce55572575ee",toId:"c9cdbe57-597f-4025-82c4-cc4324e9dffc"},{id:"5a88ae79-9472-44e5-853a-f3191281365c",filter:"$.*.passengers",fromId:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",toId:"da404193-63a9-4a6e-bec6-ce55572575ee"},{id:"88818d5d-d7a3-46ab-87ad-e01ad21a1021",filter:"$",fromId:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",toId:"4bbb0f1a-8651-4f68-905c-c557905789e4"}]},layoutData:{cells:[{type:"pn.Place",size:{width:50,height:50},position:{x:-12,y:-36},angle:0,tokens:1,id:"93294661-9171-46f0-802e-49a9e9dfdc63",jsonnetsType:"place",z:1,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Flight Request"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:-12,y:144},angle:0,tokens:1,id:"da404193-63a9-4a6e-bec6-ce55572575ee",jsonnetsType:"place",z:2,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Flight"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:372,y:48},angle:0,tokens:0,id:"4bbb0f1a-8651-4f68-905c-c557905789e4",jsonnetsType:"place",z:3,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Flight Reservation"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:50},angle:0,id:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"Accept-flight-reservation"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"93294661-9171-46f0-802e-49a9e9dfdc63",selector:".root"},target:{id:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",selector:".root"},id:"2c9ebdbc-91d2-4f00-843f-3c822886d668",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:5,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"da404193-63a9-4a6e-bec6-ce55572575ee",selector:".root"},target:{id:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",selector:".root"},id:"a2a90434-7c08-4284-afb2-a82b4095da58",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:6,vertices:[{x:120,y:144}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",selector:".root"},target:{id:"da404193-63a9-4a6e-bec6-ce55572575ee",selector:".root"},id:"5a88ae79-9472-44e5-853a-f3191281365c",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:7,vertices:[{x:84,y:96}],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"c9cdbe57-597f-4025-82c4-cc4324e9dffc",selector:".root"},target:{id:"4bbb0f1a-8651-4f68-905c-c557905789e4",selector:".root"},id:"88818d5d-d7a3-46ab-87ad-e01ad21a1021",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"smp-3-concurrent-manipulation-of-substructures",net:{typeData:{placeTypes:{"421aa912-0b08-4c33-8d76-10766db1b262":"custom"},transitionTypes:{"5cab3aeb-d3e6-4497-ad91-0f47e599260c":"custom","2b6cb65f-bb5b-4aa7-a4e2-84179ac4e276":"custom","a36fb1e0-ed99-40c8-9cf3-5f0712141f19":"custom"}},netData:{places:[{id:"421aa912-0b08-4c33-8d76-10766db1b262",name:"Hotel",marking:[{name:"hotel1",availableRooms:["r1","r7","r22"]},{name:"hotel2",availableRooms:["r6","r9","r12","r13"]}],schema:{type:"array",items:{type:"object"},$id:"421aa912-0b08-4c33-8d76-10766db1b262"}}],transitions:[{id:"5cab3aeb-d3e6-4497-ad91-0f47e599260c",name:"Remove Hotel",preface:"",guard:"true",customVariables:{},keyVarSnippets:{},fragmentVarSnippets:{}},{id:"2b6cb65f-bb5b-4aa7-a4e2-84179ac4e276",name:"Hotel Reservation 1",preface:"",guard:"true",customVariables:{},keyVarSnippets:{},fragmentVarSnippets:{}},{id:"a36fb1e0-ed99-40c8-9cf3-5f0712141f19",name:"Hotel Reservation 2",preface:"",guard:"true",customVariables:{},keyVarSnippets:{},fragmentVarSnippets:{}}],arcs:[{id:"a1e92450-aa6d-422e-b486-518dc46a0418",filter:"$.*",fromId:"421aa912-0b08-4c33-8d76-10766db1b262",toId:"5cab3aeb-d3e6-4497-ad91-0f47e599260c"},{id:"1cedb822-44d4-4316-ba9a-60ae7a0b4b37",filter:"$.*.availableRooms.*",fromId:"421aa912-0b08-4c33-8d76-10766db1b262",toId:"2b6cb65f-bb5b-4aa7-a4e2-84179ac4e276"},{id:"8abfa0a0-9d3c-4b18-84dc-0256b054b1e0",filter:"$.*.availableRooms.*",fromId:"421aa912-0b08-4c33-8d76-10766db1b262",toId:"a36fb1e0-ed99-40c8-9cf3-5f0712141f19"}]},layoutData:{cells:[{type:"pn.Place",size:{width:50,height:50},position:{x:0,y:150},angle:0,tokens:2,id:"421aa912-0b08-4c33-8d76-10766db1b262",jsonnetsType:"place",z:1,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Hotel"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:0},angle:0,id:"5cab3aeb-d3e6-4497-ad91-0f47e599260c",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Remove Hotel"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:150},angle:0,id:"2b6cb65f-bb5b-4aa7-a4e2-84179ac4e276",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Hotel Reservation 1"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:150,y:300},angle:0,id:"a36fb1e0-ed99-40c8-9cf3-5f0712141f19",jsonnetsType:"transition",z:4,attrs:{".label":{fill:"#7a7e9b",text:"Hotel Reservation 2"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"421aa912-0b08-4c33-8d76-10766db1b262",selector:".root"},target:{id:"5cab3aeb-d3e6-4497-ad91-0f47e599260c",selector:".root"},id:"a1e92450-aa6d-422e-b486-518dc46a0418",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:5,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"421aa912-0b08-4c33-8d76-10766db1b262",selector:".root"},target:{id:"2b6cb65f-bb5b-4aa7-a4e2-84179ac4e276",selector:".root"},id:"1cedb822-44d4-4316-ba9a-60ae7a0b4b37",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:6,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"421aa912-0b08-4c33-8d76-10766db1b262",selector:".root"},target:{id:"a36fb1e0-ed99-40c8-9cf3-5f0712141f19",selector:".root"},id:"8abfa0a0-9d3c-4b18-84dc-0256b054b1e0",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:7,attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}}],zwt={name:Pwt,defaultUIAssistMode:Ewt,defaultTransitionType:$wt,defaultPlaceType:Owt,allowAutoLayout:Dwt,visualisationConfig:Lwt,transitionTypes:Fwt,placeTypes:Nwt,examples:Mwt},Rwt="scope3tool",jwt="assisted",Vwt="activity",Bwt="scope1",Hwt=!1,Wwt={show:!0},Uwt=[{name:"Camera",net:{typeData:{placeTypes:{"c49b0296-19cf-4857-90c0-3f93b638b877":"start","f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d":"control","cd4b6f24-d1b8-458d-815a-5dece4b147ac":"end","bd54b190-4747-4b82-a2b0-0b4851681059":"control"},transitionTypes:{"9ab06d0d-29d3-4580-bf44-8e36194e65f1":"activity","7f9900f0-7d76-4067-b22e-391bdd91a101":"activity","a8940d72-5eff-49ae-98f3-ac64e086ff8d":"activity"}},netData:{places:[{id:"c49b0296-19cf-4857-90c0-3f93b638b877",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"c49b0296-19cf-4857-90c0-3f93b638b877"}},{id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d"}},{id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac",name:"Camera",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac"}},{id:"bd54b190-4747-4b82-a2b0-0b4851681059",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"bd54b190-4747-4b82-a2b0-0b4851681059"}}],transitions:[{id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",name:"Assembly",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"7f9900f0-7d76-4067-b22e-391bdd91a101",name:"Cleaning",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",name:"Check",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_camera_key:"local output_camera_key = '-';"},fragmentVarSnippets:{output_camera_value:"local output_camera_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"2fec368f-9bd4-41f2-bfb6-fd0901c9d325",filter:"$.*",fromId:"c49b0296-19cf-4857-90c0-3f93b638b877",toId:"9ab06d0d-29d3-4580-bf44-8e36194e65f1"},{id:"03a523fd-aa6c-4f9e-aebc-b30acdb1dc04",filter:"$",fromId:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",toId:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d"},{id:"6b836a80-ac07-4b53-b0ee-7367cb417425",filter:"$.*",fromId:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",toId:"7f9900f0-7d76-4067-b22e-391bdd91a101"},{id:"3e4a241e-f6b4-49fd-963a-485682dee440",filter:"$",fromId:"7f9900f0-7d76-4067-b22e-391bdd91a101",toId:"bd54b190-4747-4b82-a2b0-0b4851681059"},{id:"aee2a50a-3045-49ff-9a60-2a4bede9ba1d",filter:"$.*",fromId:"bd54b190-4747-4b82-a2b0-0b4851681059",toId:"a8940d72-5eff-49ae-98f3-ac64e086ff8d"},{id:"12e6cf18-84f2-41cd-bff2-1a211d93754d",filter:"$",fromId:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",toId:"cd4b6f24-d1b8-458d-815a-5dece4b147ac"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:348,y:360},angle:0,id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Assembly"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:696,y:360},angle:0,id:"7f9900f0-7d76-4067-b22e-391bdd91a101",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Cleaning"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1032,y:360},angle:0,id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Check"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:204,y:360},angle:0,tokens:1,id:"c49b0296-19cf-4857-90c0-3f93b638b877",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:552,y:360},angle:0,tokens:0,id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1248,y:360},angle:0,tokens:0,id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Camera"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:900,y:360},angle:0,tokens:0,id:"bd54b190-4747-4b82-a2b0-0b4851681059",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"c49b0296-19cf-4857-90c0-3f93b638b877",selector:".root"},target:{id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",selector:".root"},id:"2fec368f-9bd4-41f2-bfb6-fd0901c9d325",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"9ab06d0d-29d3-4580-bf44-8e36194e65f1",selector:".root"},target:{id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",selector:".root"},id:"03a523fd-aa6c-4f9e-aebc-b30acdb1dc04",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"f1f4dfea-5277-4c6a-88f2-b76d3a12ce5d",selector:".root"},target:{id:"7f9900f0-7d76-4067-b22e-391bdd91a101",selector:".root"},id:"6b836a80-ac07-4b53-b0ee-7367cb417425",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"7f9900f0-7d76-4067-b22e-391bdd91a101",selector:".root"},target:{id:"bd54b190-4747-4b82-a2b0-0b4851681059",selector:".root"},id:"3e4a241e-f6b4-49fd-963a-485682dee440",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"bd54b190-4747-4b82-a2b0-0b4851681059",selector:".root"},target:{id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",selector:".root"},id:"aee2a50a-3045-49ff-9a60-2a4bede9ba1d",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"a8940d72-5eff-49ae-98f3-ac64e086ff8d",selector:".root"},target:{id:"cd4b6f24-d1b8-458d-815a-5dece4b147ac",selector:".root"},id:"12e6cf18-84f2-41cd-bff2-1a211d93754d",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}},{name:"Connector",net:{typeData:{placeTypes:{"167bbbd6-95ec-4fd6-be40-26c1a487f170":"start","834fca4a-9079-417a-8768-afd52bcc0c94":"end","77993295-6870-418a-bd0d-b145e603292f":"control","2f69a08e-2351-4bdf-84d7-564928a829aa":"control"},transitionTypes:{"67438c44-8f16-41b3-ac44-0438014633c0":"activity","e6d19788-6dec-476e-a333-14397384d651":"activity","480049a0-4dbe-4f96-b7fc-2fdd039ed064":"activity"}},netData:{places:[{id:"167bbbd6-95ec-4fd6-be40-26c1a487f170",name:"Start",marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}],schema:{type:"array",title:"start",maxItems:1,items:{type:"object"},$id:"167bbbd6-95ec-4fd6-be40-26c1a487f170"}},{id:"77993295-6870-418a-bd0d-b145e603292f",name:"p1",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"77993295-6870-418a-bd0d-b145e603292f"}},{id:"2f69a08e-2351-4bdf-84d7-564928a829aa",name:"p2",marking:[],schema:{type:"array",title:"control",maxItems:1,items:{type:"object"},$id:"2f69a08e-2351-4bdf-84d7-564928a829aa"}},{id:"834fca4a-9079-417a-8768-afd52bcc0c94",name:"Connector",marking:[],schema:{type:"array",title:"end",maxItems:1,items:{type:"object"},$id:"834fca4a-9079-417a-8768-afd52bcc0c94"}}],transitions:[{id:"67438c44-8f16-41b3-ac44-0438014633c0",name:"Cleaning",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p1_key:"local output_p1_key = '-';"},fragmentVarSnippets:{output_p1_value:"local output_p1_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"e6d19788-6dec-476e-a333-14397384d651",name:"Soldering",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_p2_key:"local output_p2_key = '-';"},fragmentVarSnippets:{output_p2_value:"local output_p2_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}},{id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",name:"Cutting",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",customVariables:{Allokation:"100"},keyVarSnippets:{output_connector_key:"local output_connector_key = '-';"},fragmentVarSnippets:{output_connector_value:"local output_connector_value = { scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };"}}],arcs:[{id:"9005b5ac-3466-4378-8277-3332c51a2afe",filter:"$.*",fromId:"167bbbd6-95ec-4fd6-be40-26c1a487f170",toId:"67438c44-8f16-41b3-ac44-0438014633c0"},{id:"55fe0403-4136-4ace-8504-60e737ca6bef",filter:"$",fromId:"67438c44-8f16-41b3-ac44-0438014633c0",toId:"77993295-6870-418a-bd0d-b145e603292f"},{id:"e983560b-dfff-4fd4-ad18-21f9e485d471",filter:"$.*",fromId:"77993295-6870-418a-bd0d-b145e603292f",toId:"e6d19788-6dec-476e-a333-14397384d651"},{id:"c20f81e1-d19b-46b4-9262-438307da4af6",filter:"$",fromId:"e6d19788-6dec-476e-a333-14397384d651",toId:"2f69a08e-2351-4bdf-84d7-564928a829aa"},{id:"26da7c32-e6b0-4221-9a5b-2ccb9ce7560b",filter:"$.*",fromId:"2f69a08e-2351-4bdf-84d7-564928a829aa",toId:"480049a0-4dbe-4f96-b7fc-2fdd039ed064"},{id:"3826748f-3eb9-49d9-8d2a-54ae1952f284",filter:"$",fromId:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",toId:"834fca4a-9079-417a-8768-afd52bcc0c94"}]},layoutData:{cells:[{type:"pn.Transition",size:{width:100,height:50},position:{x:300,y:312},angle:0,id:"67438c44-8f16-41b3-ac44-0438014633c0",jsonnetsType:"transition",z:1,attrs:{".label":{fill:"#7a7e9b",text:"Cleaning"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:683,y:311},angle:0,id:"e6d19788-6dec-476e-a333-14397384d651",jsonnetsType:"transition",z:2,attrs:{".label":{fill:"#7a7e9b",text:"Soldering"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Transition",size:{width:100,height:50},position:{x:1056,y:312},angle:0,id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",jsonnetsType:"transition",z:3,attrs:{".label":{fill:"#7a7e9b",text:"Cutting"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:132,y:312},angle:0,tokens:1,id:"167bbbd6-95ec-4fd6-be40-26c1a487f170",jsonnetsType:"place",z:4,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Start"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:528,y:312},angle:0,tokens:0,id:"77993295-6870-418a-bd0d-b145e603292f",jsonnetsType:"place",z:5,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p1"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:876,y:312},angle:0,tokens:0,id:"2f69a08e-2351-4bdf-84d7-564928a829aa",jsonnetsType:"place",z:6,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"p2"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"pn.Place",size:{width:50,height:50},position:{x:1284,y:312},angle:0,tokens:0,id:"834fca4a-9079-417a-8768-afd52bcc0c94",jsonnetsType:"place",z:7,attrs:{".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".label":{fill:"#7a7e9b",text:"Connector"},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":0,"ref-y":0,"y-alignment":-.2},body:{cursor:"auto"},label:{cursor:"auto"}}},{type:"standard.Link",source:{id:"167bbbd6-95ec-4fd6-be40-26c1a487f170",selector:".root"},target:{id:"67438c44-8f16-41b3-ac44-0438014633c0",selector:".root"},id:"9005b5ac-3466-4378-8277-3332c51a2afe",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:8,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"67438c44-8f16-41b3-ac44-0438014633c0",selector:".root"},target:{id:"77993295-6870-418a-bd0d-b145e603292f",selector:".root"},id:"55fe0403-4136-4ace-8504-60e737ca6bef",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:9,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"77993295-6870-418a-bd0d-b145e603292f",selector:".root"},target:{id:"e6d19788-6dec-476e-a333-14397384d651",selector:".root"},id:"e983560b-dfff-4fd4-ad18-21f9e485d471",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:10,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"e6d19788-6dec-476e-a333-14397384d651",selector:".root"},target:{id:"2f69a08e-2351-4bdf-84d7-564928a829aa",selector:".root"},id:"c20f81e1-d19b-46b4-9262-438307da4af6",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:11,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"2f69a08e-2351-4bdf-84d7-564928a829aa",selector:".root"},target:{id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",selector:".root"},id:"26da7c32-e6b0-4221-9a5b-2ccb9ce7560b",jsonnetsType:"preset",connector:{name:"straight",args:{cornerType:"cubic"}},z:12,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}},{type:"standard.Link",source:{id:"480049a0-4dbe-4f96-b7fc-2fdd039ed064",selector:".root"},target:{id:"834fca4a-9079-417a-8768-afd52bcc0c94",selector:".root"},id:"3826748f-3eb9-49d9-8d2a-54ae1952f284",jsonnetsType:"postset",connector:{name:"straight",args:{cornerType:"cubic"}},z:13,vertices:[],attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}]}}}],Gwt=[{id:"activity",title:"Activity",description:"A transition represents an activity (e.g. 'Soldering') in a process model. You can add inventory-places (circles) of type 'Scope 1 - Emissions', 'Scope 2 - Emissions' or 'Scope 3 - Emissions', to collect data about activity-specific GHG emissions. The field 'allocation' is used to procentually scale all inputs.",keySnippet:"'-';",valueSnippet:"{ scope: 'control', ghgFactorUnit: 'kg CO2e / piece', ghgFactor: totalFootprint, amount: 1, unit: 'Pieces', type: 'Primary', pds: outputPDS, footprintContributions: footprintContributions, sankeyNodes: sankeyNodes,sankeyLinks: sankeyLinks, nodeName: transition_name, '$visualisations': visualisations };",preface:`// calculations
// ghg factors in kg CO2e per g
local ghgFactors = { 'NF3': 13.4, 'SF6': 18.3, 'CF4': 5.3};
local calculateFootprint(component) = component.amount  * (if component.scope == 1 then (if component.unit == 'mg' then 0.001 else if component.unit == 'kg' then 1000 else 1) * ghgFactors[component.ghg] * component.scalingFactor else if component.scope == 2 then (if component.unit == 'Wh' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'g CO2e / kWh' then 0.001 else if component.ghgFactorUnit == 'mg CO2e / kWh' then 0.000001 else 1) * component.scalingFactor else if component.scope == 3 then (if component.unit == 'mg (weight)' then 0.000001 else if component.unit == 'g (weight)' then 0.001 else 1) * component.ghgFactor * (if component.ghgFactorUnit == 'mg CO2e / piece or kg' then 0.000001 else if component.ghgFactorUnit == 'g CO2e / piece or kg' then 0.001 else 1) * component.scalingFactor else component.ghgFactor) * Allokation / 100;
local individualFootprints = std.map(calculateFootprint,input_values);
// calculate Scope 1-Emissions
local generateScope1Contribution(index,element) = if (element.scope == 1) then { name: input_names[index], value: individualFootprints[index] };
local sum(arr, n) = if (n <= 0) then 0 else sum(arr, n-1) + arr[n-1];
local totalFootprint = sum(individualFootprints, std.length(individualFootprints));
local calculatePCFShare(partFootprint) = if totalFootprint > 0 then partFootprint/totalFootprint else 0;
local footprintShares = std.map(calculatePCFShare,individualFootprints);
local calculatePrimaryDataShare(index) = footprintShares[index] * input_values[index].pds;
local primaryDataShares = std.map(calculatePrimaryDataShare,std.range(0,std.length(input_values)-1));
local outputPDS = sum(primaryDataShares,std.length(primaryDataShares));
// for each emission input (not start or control-flow place) an object containing name and ghg-emission as value is created
local generateFootprintContribution(index,element) = if ((element.scope != 'start') && (element.scope != 'control')) then { name: input_names[index], value: individualFootprints[index] };
local generateScope2Contribution(index,element) = if (element.scope == 2) then { name: input_names[index], value: individualFootprints[index] };
local generateScope3Contribution(index,element) = if (element.scope == 3) then { name: input_names[index], value: individualFootprints[index] };
local filterNull(element) = element != null;
local footprintContributionsFromThisTransition = std.filter(filterNull,std.mapWithIndex(generateFootprintContribution,input_values));
local scope1FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope1Contribution,input_values));
local scope2FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope2Contribution,input_values));
local scope3FromThisTransition = std.filter(filterNull,std.mapWithIndex(generateScope3Contribution,input_values));
// fetch contributions from incoming places
local filterControl(element) = element.scope == 'control';
local incomingControlPlaces = std.filter(filterControl, input_values);
local getContribution(element) = element.footprintContributions;
local getScope1Contribution(element) = element.footprintContributions['1'];
local getScope2Contribution(element) = element.footprintContributions['2'];
local getScope3Contribution(element) = element.footprintContributions['3'];
local incomingScope1Contributions = std.flattenArrays(std.map(getScope1Contribution,incomingControlPlaces));
local incomingScope2Contributions = std.flattenArrays(std.map(getScope2Contribution,incomingControlPlaces));
local incomingScope3Contributions = std.flattenArrays(std.map(getScope3Contribution,incomingControlPlaces));
local footprintContributions = { '1': incomingScope1Contributions + scope1FromThisTransition, '2': incomingScope2Contributions + scope2FromThisTransition,'3': incomingScope3Contributions + scope3FromThisTransition};
local scope1Contributions = incomingScope1Contributions + scope1FromThisTransition;
local scope2Contributions = incomingScope2Contributions + scope2FromThisTransition;
local scope3Contributions = incomingScope3Contributions + scope3FromThisTransition;
// for each incoming place
local generateSankeyNode(index,element) = if (input_values[index].scope != 'control') && (input_values[index].scope != 'start') then { name: element }; local getNodes(element) = element.sankeyNodes;
local incomingNodes = std.flattenArrays(std.map(getNodes,incomingControlPlaces));
local sankeyNodes = incomingNodes + std.filter(filterNull,std.mapWithIndex(generateSankeyNode,input_names)) + [{ name: transition_name }];
//currently assuming we have exactly one output place
local generateSankeyLink(element) = { source: element.name, value: element.value, target: transition_name };
local getLinks(element) = element.sankeyLinks;
local incomingLinks = std.flattenArrays(std.map(getLinks,incomingControlPlaces));
local controlLink = if std.length(incomingControlPlaces) > 0 then [{ source: incomingControlPlaces[0].nodeName, target: transition_name, value: incomingControlPlaces[0].ghgFactor }] else [];
local sankeyLinks = incomingLinks + std.map(generateSankeyLink,footprintContributionsFromThisTransition) + controlLink;
// Visualisations:
local visualisations = [{
'type': 'number',
'unit': 'kg CO2e',
'description': 'THG-Fussabdruck',
'value': totalFootprint
},
{
'type': 'sunburst',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sunburst)',
'value': [
{
'name': 'Scope 1',
'children': scope1Contributions
},
{
'name': 'Scope 2',
'children': scope2Contributions
},
{
'name': 'Scope 3',
'children': scope3Contributions
}
]
}
,{
'type': 'sankey',
'unit': 'kg CO2e',
'description': 'THG-Beiträge (Sankey)',
'value': {
'data': sankeyNodes,
'links': sankeyLinks
}
},
{
'type': 'number',
'unit': '%',
'description': 'Primärdatenanteil',
'value': outputPDS * 100
}];`,guard:"true",presetFilter:"$.*",postsetFilter:"$",customVariables:{Allokation:"100"}}],qwt=[{id:"start",externalInteraction:{type:"none"},schema:{type:"array",title:"Start",description:"The process model must have exactly one place of type 'Start'.",maxItems:1,items:{type:"object"}},marking:[{amount:1,ghgFactor:0,scope:"start",pds:0}]},{id:"end",externalInteraction:{type:"push",url:"https://s3t.uber.space/footprints/"},schema:{type:"array",title:"End",description:"The process model must have exactly one place of type 'End'. When the simulation has finished, you can load the containing data into the supply-chain repository.",maxItems:1,items:{type:"object"}},marking:[]},{id:"control",externalInteraction:{type:"none"},schema:{type:"array",title:"Control Flow",description:"Activities must be connected by places of type 'Control Flow'.",maxItems:1,items:{type:"object"}},marking:[]},{id:"scope1",externalInteraction:{type:"none"},schema:{type:"array",title:"Scope 1 - Emissions",description:"First choose a <b>greenhouse gas</b> in the form. As <b>unit</b> you can choose 'mg', 'g' oder 'kg'. The <b>scaling factor</b> can be used to scale/allocate the given <b>amount</b> to one activity instance.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",title:"Scope",enum:[1],readOnly:!0},ghg:{type:"string",title:"Greenhouse Gas",enum:["NF3","SF6","CF4"],default:"NF3",description:"Select a greenhouse gas."},unit:{type:"string",title:"Unit",enum:["mg","g","kg"],default:"g",description:"Select the unit of measurement for the given amount."},amount:{type:"number",title:"Amount",description:"Amount in mg, g or kg for given greenhouse gas."},scalingFactor:{type:"number",title:"Scaling factor",default:1,description:"Given amount is multiplied with scaling factor."},type:{type:"string",enum:["Primary"],title:"Data type",readOnly:!0},note:{type:"string",title:"Note",description:"Enter notes for documentation."}},required:["scope","ghg","unit","amount","scalingFactor","type"]}},marking:[{scope:1,amount:1,unit:"g",ghg:"NF3",scalingFactor:1,type:"Primary",pds:1,note:""}]},{id:"scope2",externalInteraction:{type:"none"},schema:{type:"array",title:"Scope 2 - Emissions",description:"First choose a  <b>Unit</b> ('Wh' or 'kWh') for the provided <b>Energy use</b>. The <b>Emission factor</b> measures, measures the amount of greenhouse gases <i>per kWh</i>. You can choose 'mg', 'g' or 'kg' CO2e / kWh as <b>Unit for the emission factor</b>. The <b>Scaling factor</b> can be used to scale/allocate the given <b>amount</b> to one activity instance.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",enum:[2],title:"Scope",readOnly:!0},unit:{type:"string",enum:["Wh","kWh"],default:"kWh",title:"Unit for energy use",description:"Choose unit for energy use."},amount:{type:"number",title:"Energy use",description:"Amount of energy used."},ghgFactorUnit:{type:"string",enum:["mg CO2e / kWh","g CO2e / kWh","kg CO2e / kWh"],default:"kg CO2e / kWh",title:"Unit for emission factor",description:"Choose unit for emission factor."},ghgFactor:{type:"number",title:"Emission factor",description:"Amount of emitted greenhouse gases in mg, g or kg CO2e per kWh."},scalingFactor:{type:"number",title:"Scaling factor",default:1,description:"Given amount is multiplied with scaling factor."},type:{type:"string",enum:["Primary"],title:"Datentyp",readOnly:!0},note:{type:"string",title:"Note",description:"Enter notes for documentation."}},required:["scope","unit","amount","ghgFactorUnit","ghgFactor","scalingFactor","type"]}},marking:[{scope:2,unit:"kWh",amount:1,ghgFactorUnit:"kg CO2e / kWh",ghgFactor:1,scalingFactor:1,type:"Primary",pds:1,note:""}]},{id:"scope3-secondary",externalInteraction:{type:"none"},schema:{type:"array",title:"Scope 3 - Emissions (Secondary data)",description:"First choose a <b>Unit</b> (Either 'pieces' or 'weight' in mg, g oder kg) for the provided amount of material or components. The <b>Emission factor</b> measures ther amount of greenhouse gases that are associated with the production of the material or component. The emission factor is always measured <i>per piece or kg</i>. You can choose 'mg', 'g' oder 'kg' CO2e / Stück or kg <b>Unit for the emission factor</b>. The <b>Scaling factor</b> can be used to scale/allocate the given <b>amount</b> to one activity instance.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",enum:[3],readOnly:!0},unit:{type:"string",title:"Unit",enum:["mg (weight)","g (weight)","kg (weight)","Pieces"],description:"Choose a unit for the given amount of components or material."},amount:{type:"number",title:"Amount",description:"Amount in weight (mg, g or kg) or pieces."},ghgFactorUnit:{type:"string",enum:["mg CO2e / piece or kg","g CO2e / piece or kg","kg CO2e / piece or kg"],default:"kg CO2e / piece or kg",title:"Unit for emission factor",description:"Choose unit for emission factor."},ghgFactor:{type:"number",title:"Emission factor",description:"Amount of emitted greenhouse gases in mg, g or kg CO2e / piece or kg."},scalingFactor:{type:"number",title:"Scaling factor",default:1,description:"Given amount is multiplied with scaling factor."},type:{type:"string",enum:["Secondary"],title:"Data type",readOnly:!0},note:{type:"string",title:"Notiz",description:"Enter notes for documentation."}},required:["scope","unit","amount","ghgFactorUnit","ghgFactor","scalingFactor","type"]}},marking:[{scope:3,unit:"Pieces",amount:1,ghgFactorUnit:"kg CO2e / piece or kg",ghgFactor:1,scalingFactor:1,type:"Secondary",pds:0,note:""}]},{id:"scope3-primary",externalInteraction:{type:"pull",url:"https://s3t.uber.space/footprints/",enforcedMarking:{scope:3,title:"scope3",scalingFactor:1,fromSupplyChain:!0,note:"loaded"}},schema:{type:"array",title:"Scope 3 - Emissions (Primary data)",description:"Load data from supply chain repository.",maxItems:1,items:{type:"object",properties:{scope:{type:"number",title:"Scope",enum:[3],readOnly:!0},unit:{type:"string",title:"Unit",enum:["Pieces"],readOnly:!0},amount:{type:"number",title:"Amount",description:"Amount in pieces."},ghgFactorUnit:{type:"string",enum:["kg CO2e / piece"],default:"kg CO2e / piece",title:"Unit for emission factor",readOnly:!0},scalingFactor:{type:"number",title:"Scaling factor",default:1,description:"Given amount is multiplied with scaling factor."},ghgFactor:{type:"number",title:"Emission factor",readOnly:!0},pds:{type:"number",title:"Share of primary data",readOnly:!0},note:{type:"string",title:"Note",description:"Enter notes for documentation."}},required:["scope","unit","amount","ghgFactorUnit","ghgFactor","scalingFactor","pds"]}},marking:[]}],Ywt={name:Rwt,defaultUIAssistMode:jwt,defaultTransitionType:Vwt,defaultPlaceType:Bwt,allowAutoLayout:Hwt,visualisationConfig:Wwt,examples:Uwt,transitionTypes:Gwt,placeTypes:qwt},Xwt=zt({computed:{...Mt(ss),...Mt(Zn)},mounted(){const t=this.$route.params.configID;t==="scope3tool"?this.configStore.loadConfig(Gde):t==="scenario"?this.configStore.loadConfig(qde):t==="controlflow"?this.configStore.loadConfig(vwt):t==="dataflow"?this.configStore.loadConfig(Iwt):t==="substructures"?this.configStore.loadConfig(zwt):t==="hectorschool"&&this.configStore.loadConfig(Ywt);const e=this.$route.params.modelID;if(e){const n=this.configStore.examples.find(r=>r.name===e);n&&this.netStore.import(n.net)}}});function Kwt(t,e,n,r,i,o){return null}const eX=Qr(Xwt,[["render",Kwt]]),Jwt=swt({history:S_t("/"),routes:[{path:"/:configID",name:"config",component:eX},{path:"/:configID/:modelID",name:"model",component:eX}]});Bve.add(h_e,c_e,d_e,m_e,i_e,a_e,e_e,l_e,__e,v_e,T_e,Z6e,n_e,f_e,p_e,g_e,u_e,I_e,S_e,A_e,t_e,x_e,w_e,k_e,y_e);const Y2=oJ(i_t).component("font-awesome-icon",p7e);Y2.use(Jwt);Y2.use(E_e());Y2.use(K6e,{extensions:[]});Y2.component("v-chart",KEe);Y2.mount("#app");
