var IX=Object.defineProperty;var DX=(t,e,n)=>e in t?IX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ii=(t,e,n)=>(DX(t,typeof e!="symbol"?e+"":e,n),n),BS=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var it=(t,e,n)=>(BS(t,e,"read from private field"),n?n.call(t):e.get(t)),Rr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Za=(t,e,n,r)=>(BS(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),sm=(t,e,n,r)=>({set _(i){Za(t,e,i,n)},get _(){return it(t,e,r)}}),_l=(t,e,n)=>(BS(t,e,"access private method"),n);function h4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){_i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_(t){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$_(t)}function LX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function FX(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mP(t,e){return BX(t)||zX(t,e)||d4(t,e)||qX()}function Gg(t){return jX(t)||VX(t)||d4(t)||UX()}function jX(t){if(Array.isArray(t))return DE(t)}function BX(t){if(Array.isArray(t))return t}function VX(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,o=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function d4(t,e){if(t){if(typeof t=="string")return DE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DE(t,e)}}function DE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UX(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var MR=function(){},gP={},p4={},m4=null,g4={mark:MR,measure:MR};try{typeof window<"u"&&(gP=window),typeof document<"u"&&(p4=document),typeof MutationObserver<"u"&&(m4=MutationObserver),typeof performance<"u"&&(g4=performance)}catch{}var HX=gP.navigator||{},NR=HX.userAgent,IR=NR===void 0?"":NR,Dc=gP,Pr=p4,DR=m4,y0=g4;Dc.document;var Fu=!!Pr.documentElement&&!!Pr.head&&typeof Pr.addEventListener=="function"&&typeof Pr.createElement=="function",v4=~IR.indexOf("MSIE")||~IR.indexOf("Trident/"),_0,b0,w0,S0,x0,Ou="___FONT_AWESOME___",LE=16,y4="fa",_4="svg-inline--fa",ah="data-fa-i2svg",FE="data-fa-pseudo-element",WX="data-fa-pseudo-element-pending",vP="data-prefix",yP="data-icon",LR="fontawesome-i2svg",GX="async",KX=["HTML","HEAD","STYLE","SCRIPT"],b4=function(){try{return!0}catch{return!1}}(),Er="classic",Vr="sharp",_P=[Er,Vr];function Kg(t){return new Proxy(t,{get:function(n,r){return r in n?n[r]:n[Er]}})}var sg=Kg((_0={},_i(_0,Er,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),_i(_0,Vr,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),_0)),ag=Kg((b0={},_i(b0,Er,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),_i(b0,Vr,{solid:"fass",regular:"fasr",light:"fasl"}),b0)),og=Kg((w0={},_i(w0,Er,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),_i(w0,Vr,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),w0)),YX=Kg((S0={},_i(S0,Er,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),_i(S0,Vr,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),S0)),JX=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,w4="fa-layers-text",XX=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,QX=Kg((x0={},_i(x0,Er,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),_i(x0,Vr,{900:"fass",400:"fasr",300:"fasl"}),x0)),S4=[1,2,3,4,5,6,7,8,9,10],ZX=S4.concat([11,12,13,14,15,16,17,18,19,20]),eQ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Wf={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},lg=new Set;Object.keys(ag[Er]).map(lg.add.bind(lg));Object.keys(ag[Vr]).map(lg.add.bind(lg));var tQ=[].concat(_P,Gg(lg),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Wf.GROUP,Wf.SWAP_OPACITY,Wf.PRIMARY,Wf.SECONDARY]).concat(S4.map(function(t){return"".concat(t,"x")})).concat(ZX.map(function(t){return"w-".concat(t)})),Dm=Dc.FontAwesomeConfig||{};function nQ(t){var e=Pr.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function rQ(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}if(Pr&&typeof Pr.querySelector=="function"){var iQ=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];iQ.forEach(function(t){var e=mP(t,2),n=e[0],r=e[1],i=rQ(nQ(n));i!=null&&(Dm[r]=i)})}var x4={styleDefault:"solid",familyDefault:"classic",cssPrefix:y4,replacementClass:_4,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Dm.familyPrefix&&(Dm.cssPrefix=Dm.familyPrefix);var Wd=yt(yt({},x4),Dm);Wd.autoReplaceSvg||(Wd.observeMutations=!1);var Pt={};Object.keys(x4).forEach(function(t){Object.defineProperty(Pt,t,{enumerable:!0,set:function(n){Wd[t]=n,Lm.forEach(function(r){return r(Pt)})},get:function(){return Wd[t]}})});Object.defineProperty(Pt,"familyPrefix",{enumerable:!0,set:function(e){Wd.cssPrefix=e,Lm.forEach(function(n){return n(Pt)})},get:function(){return Wd.cssPrefix}});Dc.FontAwesomeConfig=Pt;var Lm=[];function sQ(t){return Lm.push(t),function(){Lm.splice(Lm.indexOf(t),1)}}var nc=LE,Nl={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function aQ(t){if(!(!t||!Fu)){var e=Pr.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Pr.head.childNodes,r=null,i=n.length-1;i>-1;i--){var s=n[i],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=s)}return Pr.head.insertBefore(e,r),t}}var oQ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function ug(){for(var t=12,e="";t-- >0;)e+=oQ[Math.random()*62|0];return e}function dp(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function bP(t){return t.classList?dp(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(e){return e})}function E4(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function lQ(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,'="').concat(E4(t[n]),'" ')},"").trim()}function r1(t){return Object.keys(t||{}).reduce(function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")},"")}function wP(t){return t.size!==Nl.size||t.x!==Nl.x||t.y!==Nl.y||t.rotate!==Nl.rotate||t.flipX||t.flipY}function uQ(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),o="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(a," ").concat(o)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function cQ(t){var e=t.transform,n=t.width,r=n===void 0?LE:n,i=t.height,s=i===void 0?LE:i,a=t.startCentered,o=a===void 0?!1:a,l="";return o&&v4?l+="translate(".concat(e.x/nc-r/2,"em, ").concat(e.y/nc-s/2,"em) "):o?l+="translate(calc(-50% + ".concat(e.x/nc,"em), calc(-50% + ").concat(e.y/nc,"em)) "):l+="translate(".concat(e.x/nc,"em, ").concat(e.y/nc,"em) "),l+="scale(".concat(e.size/nc*(e.flipX?-1:1),", ").concat(e.size/nc*(e.flipY?-1:1),") "),l+="rotate(".concat(e.rotate,"deg) "),l}var fQ=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function $4(){var t=y4,e=_4,n=Pt.cssPrefix,r=Pt.replacementClass,i=fQ;if(n!==t||r!==e){var s=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),o=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(r))}return i}var FR=!1;function VS(){Pt.autoAddCss&&!FR&&(aQ($4()),FR=!0)}var hQ={mixout:function(){return{dom:{css:$4,insertCss:VS}}},hooks:function(){return{beforeDOMElementCreation:function(){VS()},beforeI2svg:function(){VS()}}}},Ru=Dc||{};Ru[Ou]||(Ru[Ou]={});Ru[Ou].styles||(Ru[Ou].styles={});Ru[Ou].hooks||(Ru[Ou].hooks={});Ru[Ou].shims||(Ru[Ou].shims=[]);var Ho=Ru[Ou],A4=[],dQ=function t(){Pr.removeEventListener("DOMContentLoaded",t),A_=1,A4.map(function(e){return e()})},A_=!1;Fu&&(A_=(Pr.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Pr.readyState),A_||Pr.addEventListener("DOMContentLoaded",dQ));function pQ(t){Fu&&(A_?setTimeout(t,0):A4.push(t))}function Yg(t){var e=t.tag,n=t.attributes,r=n===void 0?{}:n,i=t.children,s=i===void 0?[]:i;return typeof t=="string"?E4(t):"<".concat(e," ").concat(lQ(r),">").concat(s.map(Yg).join(""),"</").concat(e,">")}function jR(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var mQ=function(e,n){return function(r,i,s,a){return e.call(n,r,i,s,a)}},zS=function(e,n,r,i){var s=Object.keys(e),a=s.length,o=i!==void 0?mQ(n,i):n,l,u,c;for(r===void 0?(l=1,c=e[s[0]]):(l=0,c=r);l<a;l++)u=s[l],c=o(c,e[u],u,e);return c};function gQ(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function jE(t){var e=gQ(t);return e.length===1?e[0].toString(16):null}function vQ(t,e){var n=t.length,r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function BR(t){return Object.keys(t).reduce(function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e},{})}function BE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.skipHooks,i=r===void 0?!1:r,s=BR(e);typeof Ho.hooks.addPack=="function"&&!i?Ho.hooks.addPack(t,BR(e)):Ho.styles[t]=yt(yt({},Ho.styles[t]||{}),s),t==="fas"&&BE("fa",e)}var E0,$0,A0,gd=Ho.styles,yQ=Ho.shims,_Q=(E0={},_i(E0,Er,Object.values(og[Er])),_i(E0,Vr,Object.values(og[Vr])),E0),SP=null,P4={},T4={},C4={},k4={},O4={},bQ=($0={},_i($0,Er,Object.keys(sg[Er])),_i($0,Vr,Object.keys(sg[Vr])),$0);function wQ(t){return~tQ.indexOf(t)}function SQ(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!wQ(i)?i:null}var R4=function(){var e=function(s){return zS(gd,function(a,o,l){return a[l]=zS(o,s,{}),a},{})};P4=e(function(i,s,a){if(s[3]&&(i[s[3]]=a),s[2]){var o=s[2].filter(function(l){return typeof l=="number"});o.forEach(function(l){i[l.toString(16)]=a})}return i}),T4=e(function(i,s,a){if(i[a]=a,s[2]){var o=s[2].filter(function(l){return typeof l=="string"});o.forEach(function(l){i[l]=a})}return i}),O4=e(function(i,s,a){var o=s[2];return i[a]=a,o.forEach(function(l){i[l]=a}),i});var n="far"in gd||Pt.autoFetchSvg,r=zS(yQ,function(i,s){var a=s[0],o=s[1],l=s[2];return o==="far"&&!n&&(o="fas"),typeof a=="string"&&(i.names[a]={prefix:o,iconName:l}),typeof a=="number"&&(i.unicodes[a.toString(16)]={prefix:o,iconName:l}),i},{names:{},unicodes:{}});C4=r.names,k4=r.unicodes,SP=i1(Pt.styleDefault,{family:Pt.familyDefault})};sQ(function(t){SP=i1(t.styleDefault,{family:Pt.familyDefault})});R4();function xP(t,e){return(P4[t]||{})[e]}function xQ(t,e){return(T4[t]||{})[e]}function Gf(t,e){return(O4[t]||{})[e]}function M4(t){return C4[t]||{prefix:null,iconName:null}}function EQ(t){var e=k4[t],n=xP("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Lc(){return SP}var EP=function(){return{prefix:null,iconName:null,rest:[]}};function i1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.family,r=n===void 0?Er:n,i=sg[r][t],s=ag[r][t]||ag[r][i],a=t in Ho.styles?t:null;return s||a||null}var VR=(A0={},_i(A0,Er,Object.keys(og[Er])),_i(A0,Vr,Object.keys(og[Vr])),A0);function s1(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.skipLookups,i=r===void 0?!1:r,s=(e={},_i(e,Er,"".concat(Pt.cssPrefix,"-").concat(Er)),_i(e,Vr,"".concat(Pt.cssPrefix,"-").concat(Vr)),e),a=null,o=Er;(t.includes(s[Er])||t.some(function(u){return VR[Er].includes(u)}))&&(o=Er),(t.includes(s[Vr])||t.some(function(u){return VR[Vr].includes(u)}))&&(o=Vr);var l=t.reduce(function(u,c){var f=SQ(Pt.cssPrefix,c);if(gd[c]?(c=_Q[o].includes(c)?YX[o][c]:c,a=c,u.prefix=c):bQ[o].indexOf(c)>-1?(a=c,u.prefix=i1(c,{family:o})):f?u.iconName=f:c!==Pt.replacementClass&&c!==s[Er]&&c!==s[Vr]&&u.rest.push(c),!i&&u.prefix&&u.iconName){var d=a==="fa"?M4(u.iconName):{},v=Gf(u.prefix,u.iconName);d.prefix&&(a=null),u.iconName=d.iconName||v||u.iconName,u.prefix=d.prefix||u.prefix,u.prefix==="far"&&!gd.far&&gd.fas&&!Pt.autoFetchSvg&&(u.prefix="fas")}return u},EP());return(t.includes("fa-brands")||t.includes("fab"))&&(l.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(l.prefix="fad"),!l.prefix&&o===Vr&&(gd.fass||Pt.autoFetchSvg)&&(l.prefix="fass",l.iconName=Gf(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||a==="fa")&&(l.prefix=Lc()||"fas"),l}var $Q=function(){function t(){LX(this,t),this.definitions={}}return FX(t,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){n.definitions[o]=yt(yt({},n.definitions[o]||{}),a[o]),BE(o,a[o]);var l=og[Er][o];l&&BE(l,a[o]),R4()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(s){var a=i[s],o=a.prefix,l=a.iconName,u=a.icon,c=u[2];n[o]||(n[o]={}),c.length>0&&c.forEach(function(f){typeof f=="string"&&(n[o][f]=u)}),n[o][l]=u}),n}}]),t}(),zR=[],vd={},Ad={},AQ=Object.keys(Ad);function PQ(t,e){var n=e.mixoutsTo;return zR=t,vd={},Object.keys(Ad).forEach(function(r){AQ.indexOf(r)===-1&&delete Ad[r]}),zR.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(a){typeof i[a]=="function"&&(n[a]=i[a]),$_(i[a])==="object"&&Object.keys(i[a]).forEach(function(o){n[a]||(n[a]={}),n[a][o]=i[a][o]})}),r.hooks){var s=r.hooks();Object.keys(s).forEach(function(a){vd[a]||(vd[a]=[]),vd[a].push(s[a])})}r.provides&&r.provides(Ad)}),n}function VE(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=vd[t]||[];return s.forEach(function(a){e=a.apply(null,[e].concat(r))}),e}function oh(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=vd[t]||[];i.forEach(function(s){s.apply(null,n)})}function Mu(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return Ad[t]?Ad[t].apply(null,e):void 0}function zE(t){t.prefix==="fa"&&(t.prefix="fas");var e=t.iconName,n=t.prefix||Lc();if(e)return e=Gf(n,e)||e,jR(N4.definitions,n,e)||jR(Ho.styles,n,e)}var N4=new $Q,TQ=function(){Pt.autoReplaceSvg=!1,Pt.observeMutations=!1,oh("noAuto")},CQ={i2svg:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Fu?(oh("beforeI2svg",e),Mu("pseudoElements2svg",e),Mu("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot;Pt.autoReplaceSvg===!1&&(Pt.autoReplaceSvg=!0),Pt.observeMutations=!0,pQ(function(){OQ({autoReplaceSvgRoot:n}),oh("watch",e)})}},kQ={icon:function(e){if(e===null)return null;if($_(e)==="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Gf(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){var n=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=i1(e[0]);return{prefix:r,iconName:Gf(r,n)||n}}if(typeof e=="string"&&(e.indexOf("".concat(Pt.cssPrefix,"-"))>-1||e.match(JX))){var i=s1(e.split(" "),{skipLookups:!0});return{prefix:i.prefix||Lc(),iconName:Gf(i.prefix,i.iconName)||i.iconName}}if(typeof e=="string"){var s=Lc();return{prefix:s,iconName:Gf(s,e)||e}}}},Na={noAuto:TQ,config:Pt,dom:CQ,parse:kQ,library:N4,findIconDefinition:zE,toHtml:Yg},OQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.autoReplaceSvgRoot,r=n===void 0?Pr:n;(Object.keys(Ho.styles).length>0||Pt.autoFetchSvg)&&Fu&&Pt.autoReplaceSvg&&Na.dom.i2svg({node:r})};function a1(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(r){return Yg(r)})}}),Object.defineProperty(t,"node",{get:function(){if(Fu){var r=Pr.createElement("div");return r.innerHTML=t.html,r.children}}}),t}function RQ(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,s=t.styles,a=t.transform;if(wP(a)&&n.found&&!r.found){var o=n.width,l=n.height,u={x:o/l/2,y:.5};i.style=r1(yt(yt({},s),{},{"transform-origin":"".concat(u.x+a.x/16,"em ").concat(u.y+a.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}function MQ(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,s=t.symbol,a=s===!0?"".concat(e,"-").concat(Pt.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:yt(yt({},i),{},{id:a}),children:r}]}]}function $P(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,s=t.iconName,a=t.transform,o=t.symbol,l=t.title,u=t.maskId,c=t.titleId,f=t.extra,d=t.watchable,v=d===void 0?!1:d,_=r.found?r:n,S=_.width,b=_.height,y=i==="fak",A=[Pt.replacementClass,s?"".concat(Pt.cssPrefix,"-").concat(s):""].filter(function(D){return f.classes.indexOf(D)===-1}).filter(function(D){return D!==""||!!D}).concat(f.classes).join(" "),R={children:[],attributes:yt(yt({},f.attributes),{},{"data-prefix":i,"data-icon":s,class:A,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(S," ").concat(b)})},M=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(S/b*16*.0625,"em")}:{};v&&(R.attributes[ah]=""),l&&(R.children.push({tag:"title",attributes:{id:R.attributes["aria-labelledby"]||"title-".concat(c||ug())},children:[l]}),delete R.attributes.title);var $=yt(yt({},R),{},{prefix:i,iconName:s,main:n,mask:r,maskId:u,transform:a,symbol:o,styles:yt(yt({},M),f.styles)}),p=r.found&&n.found?Mu("generateAbstractMask",$)||{children:[],attributes:{}}:Mu("generateAbstractIcon",$)||{children:[],attributes:{}},x=p.children,T=p.attributes;return $.children=x,$.attributes=T,o?MQ($):RQ($)}function UR(t){var e=t.content,n=t.width,r=t.height,i=t.transform,s=t.title,a=t.extra,o=t.watchable,l=o===void 0?!1:o,u=yt(yt(yt({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});l&&(u[ah]="");var c=yt({},a.styles);wP(i)&&(c.transform=cQ({transform:i,startCentered:!0,width:n,height:r}),c["-webkit-transform"]=c.transform);var f=r1(c);f.length>0&&(u.style=f);var d=[];return d.push({tag:"span",attributes:u,children:[e]}),s&&d.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),d}function NQ(t){var e=t.content,n=t.title,r=t.extra,i=yt(yt(yt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),s=r1(r.styles);s.length>0&&(i.style=s);var a=[];return a.push({tag:"span",attributes:i,children:[e]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var US=Ho.styles;function UE(t){var e=t[0],n=t[1],r=t.slice(4),i=mP(r,1),s=i[0],a=null;return Array.isArray(s)?a={tag:"g",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(Wf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(Wf.SECONDARY),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Pt.cssPrefix,"-").concat(Wf.PRIMARY),fill:"currentColor",d:s[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:s}},{found:!0,width:e,height:n,icon:a}}var IQ={found:!1,width:512,height:512};function DQ(t,e){!b4&&!Pt.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function qE(t,e){var n=e;return e==="fa"&&Pt.styleDefault!==null&&(e=Lc()),new Promise(function(r,i){if(Mu("missingIconAbstract"),n==="fa"){var s=M4(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&US[e]&&US[e][t]){var a=US[e][t];return r(UE(a))}DQ(t,e),r(yt(yt({},IQ),{},{icon:Pt.showMissingIcons&&t?Mu("missingIconAbstract")||{}:{}}))})}var qR=function(){},HE=Pt.measurePerformance&&y0&&y0.mark&&y0.measure?y0:{mark:qR,measure:qR},$m='FA "6.4.0"',LQ=function(e){return HE.mark("".concat($m," ").concat(e," begins")),function(){return I4(e)}},I4=function(e){HE.mark("".concat($m," ").concat(e," ends")),HE.measure("".concat($m," ").concat(e),"".concat($m," ").concat(e," begins"),"".concat($m," ").concat(e," ends"))},AP={begin:LQ,end:I4},Vy=function(){};function HR(t){var e=t.getAttribute?t.getAttribute(ah):null;return typeof e=="string"}function FQ(t){var e=t.getAttribute?t.getAttribute(vP):null,n=t.getAttribute?t.getAttribute(yP):null;return e&&n}function jQ(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(Pt.replacementClass)}function BQ(){if(Pt.autoReplaceSvg===!0)return zy.replace;var t=zy[Pt.autoReplaceSvg];return t||zy.replace}function VQ(t){return Pr.createElementNS("http://www.w3.org/2000/svg",t)}function zQ(t){return Pr.createElement(t)}function D4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.ceFn,r=n===void 0?t.tag==="svg"?VQ:zQ:n;if(typeof t=="string")return Pr.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach(function(a){i.setAttribute(a,t.attributes[a])});var s=t.children||[];return s.forEach(function(a){i.appendChild(D4(a,{ceFn:r}))}),i}function UQ(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var zy={replace:function(e){var n=e[0];if(n.parentNode)if(e[1].forEach(function(i){n.parentNode.insertBefore(D4(i),n)}),n.getAttribute(ah)===null&&Pt.keepOriginalSource){var r=Pr.createComment(UQ(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(e){var n=e[0],r=e[1];if(~bP(n).indexOf(Pt.replacementClass))return zy.replace(e);var i=new RegExp("".concat(Pt.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var s=r[0].attributes.class.split(" ").reduce(function(o,l){return l===Pt.replacementClass||l.match(i)?o.toSvg.push(l):o.toNode.push(l),o},{toNode:[],toSvg:[]});r[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=r.map(function(o){return Yg(o)}).join(`
`);n.setAttribute(ah,""),n.innerHTML=a}};function WR(t){t()}function L4(t,e){var n=typeof e=="function"?e:Vy;if(t.length===0)n();else{var r=WR;Pt.mutateApproach===GX&&(r=Dc.requestAnimationFrame||WR),r(function(){var i=BQ(),s=AP.begin("mutate");t.map(i),s(),n()})}}var PP=!1;function F4(){PP=!0}function WE(){PP=!1}var P_=null;function GR(t){if(DR&&Pt.observeMutations){var e=t.treeCallback,n=e===void 0?Vy:e,r=t.nodeCallback,i=r===void 0?Vy:r,s=t.pseudoElementsCallback,a=s===void 0?Vy:s,o=t.observeMutationsRoot,l=o===void 0?Pr:o;P_=new DR(function(u){if(!PP){var c=Lc();dp(u).forEach(function(f){if(f.type==="childList"&&f.addedNodes.length>0&&!HR(f.addedNodes[0])&&(Pt.searchPseudoElements&&a(f.target),n(f.target)),f.type==="attributes"&&f.target.parentNode&&Pt.searchPseudoElements&&a(f.target.parentNode),f.type==="attributes"&&HR(f.target)&&~eQ.indexOf(f.attributeName))if(f.attributeName==="class"&&FQ(f.target)){var d=s1(bP(f.target)),v=d.prefix,_=d.iconName;f.target.setAttribute(vP,v||c),_&&f.target.setAttribute(yP,_)}else jQ(f.target)&&i(f.target)})}}),Fu&&P_.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function qQ(){P_&&P_.disconnect()}function HQ(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce(function(r,i){var s=i.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(r[a]=o.join(":").trim()),r},{})),n}function WQ(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"",i=s1(bP(t));return i.prefix||(i.prefix=Lc()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=xQ(i.prefix,t.innerText)||xP(i.prefix,jE(t.innerText))),!i.iconName&&Pt.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function GQ(t){var e=dp(t.attributes).reduce(function(i,s){return i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i},{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return Pt.autoA11y&&(n?e["aria-labelledby"]="".concat(Pt.replacementClass,"-title-").concat(r||ug()):(e["aria-hidden"]="true",e.focusable="false")),e}function KQ(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Nl,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function KR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=WQ(t),r=n.iconName,i=n.prefix,s=n.rest,a=GQ(t),o=VE("parseNodeAttributes",{},t),l=e.styleParser?HQ(t):[];return yt({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:i,transform:Nl,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:l,attributes:a}},o)}var YQ=Ho.styles;function j4(t){var e=Pt.autoReplaceSvg==="nest"?KR(t,{styleParser:!1}):KR(t);return~e.extra.classes.indexOf(w4)?Mu("generateLayersText",t,e):Mu("generateSvgReplacementMutation",t,e)}var Fc=new Set;_P.map(function(t){Fc.add("fa-".concat(t))});Object.keys(sg[Er]).map(Fc.add.bind(Fc));Object.keys(sg[Vr]).map(Fc.add.bind(Fc));Fc=Gg(Fc);function YR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Fu)return Promise.resolve();var n=Pr.documentElement.classList,r=function(f){return n.add("".concat(LR,"-").concat(f))},i=function(f){return n.remove("".concat(LR,"-").concat(f))},s=Pt.autoFetchSvg?Fc:_P.map(function(c){return"fa-".concat(c)}).concat(Object.keys(YQ));s.includes("fa")||s.push("fa");var a=[".".concat(w4,":not([").concat(ah,"])")].concat(s.map(function(c){return".".concat(c,":not([").concat(ah,"])")})).join(", ");if(a.length===0)return Promise.resolve();var o=[];try{o=dp(t.querySelectorAll(a))}catch{}if(o.length>0)r("pending"),i("complete");else return Promise.resolve();var l=AP.begin("onTree"),u=o.reduce(function(c,f){try{var d=j4(f);d&&c.push(d)}catch(v){b4||v.name==="MissingIcon"&&console.error(v)}return c},[]);return new Promise(function(c,f){Promise.all(u).then(function(d){L4(d,function(){r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),c()})}).catch(function(d){l(),f(d)})})}function JQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;j4(t).then(function(n){n&&L4([n],e)})}function XQ(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=(e||{}).icon?e:zE(e||{}),i=n.mask;return i&&(i=(i||{}).icon?i:zE(i||{})),t(r,yt(yt({},n),{},{mask:i}))}}var QQ=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.transform,i=r===void 0?Nl:r,s=n.symbol,a=s===void 0?!1:s,o=n.mask,l=o===void 0?null:o,u=n.maskId,c=u===void 0?null:u,f=n.title,d=f===void 0?null:f,v=n.titleId,_=v===void 0?null:v,S=n.classes,b=S===void 0?[]:S,y=n.attributes,A=y===void 0?{}:y,R=n.styles,M=R===void 0?{}:R;if(e){var $=e.prefix,p=e.iconName,x=e.icon;return a1(yt({type:"icon"},e),function(){return oh("beforeDOMElementCreation",{iconDefinition:e,params:n}),Pt.autoA11y&&(d?A["aria-labelledby"]="".concat(Pt.replacementClass,"-title-").concat(_||ug()):(A["aria-hidden"]="true",A.focusable="false")),$P({icons:{main:UE(x),mask:l?UE(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:$,iconName:p,transform:yt(yt({},Nl),i),symbol:a,title:d,maskId:c,titleId:_,extra:{attributes:A,styles:M,classes:b}})})}},ZQ={mixout:function(){return{icon:XQ(QQ)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=YR,n.nodeCallback=JQ,n}}},provides:function(e){e.i2svg=function(n){var r=n.node,i=r===void 0?Pr:r,s=n.callback,a=s===void 0?function(){}:s;return YR(i,a)},e.generateSvgReplacementMutation=function(n,r){var i=r.iconName,s=r.title,a=r.titleId,o=r.prefix,l=r.transform,u=r.symbol,c=r.mask,f=r.maskId,d=r.extra;return new Promise(function(v,_){Promise.all([qE(i,o),c.iconName?qE(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(S){var b=mP(S,2),y=b[0],A=b[1];v([n,$P({icons:{main:y,mask:A},prefix:o,iconName:i,transform:l,symbol:u,maskId:f,title:s,titleId:a,extra:d,watchable:!0})])}).catch(_)})},e.generateAbstractIcon=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.transform,o=n.styles,l=r1(o);l.length>0&&(i.style=l);var u;return wP(a)&&(u=Mu("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),r.push(u||s.icon),{children:r,attributes:i}}}},eZ={mixout:function(){return{layer:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.classes,s=i===void 0?[]:i;return a1({type:"layer"},function(){oh("beforeDOMElementCreation",{assembler:n,params:r});var a=[];return n(function(o){Array.isArray(o)?o.map(function(l){a=a.concat(l.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Pt.cssPrefix,"-layers")].concat(Gg(s)).join(" ")},children:a}]})}}}},tZ={mixout:function(){return{counter:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.title,s=i===void 0?null:i,a=r.classes,o=a===void 0?[]:a,l=r.attributes,u=l===void 0?{}:l,c=r.styles,f=c===void 0?{}:c;return a1({type:"counter",content:n},function(){return oh("beforeDOMElementCreation",{content:n,params:r}),NQ({content:n.toString(),title:s,extra:{attributes:u,styles:f,classes:["".concat(Pt.cssPrefix,"-layers-counter")].concat(Gg(o))}})})}}}},nZ={mixout:function(){return{text:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.transform,s=i===void 0?Nl:i,a=r.title,o=a===void 0?null:a,l=r.classes,u=l===void 0?[]:l,c=r.attributes,f=c===void 0?{}:c,d=r.styles,v=d===void 0?{}:d;return a1({type:"text",content:n},function(){return oh("beforeDOMElementCreation",{content:n,params:r}),UR({content:n,transform:yt(yt({},Nl),s),title:o,extra:{attributes:f,styles:v,classes:["".concat(Pt.cssPrefix,"-layers-text")].concat(Gg(u))}})})}}},provides:function(e){e.generateLayersText=function(n,r){var i=r.title,s=r.transform,a=r.extra,o=null,l=null;if(v4){var u=parseInt(getComputedStyle(n).fontSize,10),c=n.getBoundingClientRect();o=c.width/u,l=c.height/u}return Pt.autoA11y&&!i&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,UR({content:n.innerHTML,width:o,height:l,transform:s,title:i,extra:a,watchable:!0})])}}},rZ=new RegExp('"',"ug"),JR=[1105920,1112319];function iZ(t){var e=t.replace(rZ,""),n=vQ(e,0),r=n>=JR[0]&&n<=JR[1],i=e.length===2?e[0]===e[1]:!1;return{value:jE(i?e[0]:e),isSecondary:r||i}}function XR(t,e){var n="".concat(WX).concat(e.replace(":","-"));return new Promise(function(r,i){if(t.getAttribute(n)!==null)return r();var s=dp(t.children),a=s.filter(function(x){return x.getAttribute(FE)===e})[0],o=Dc.getComputedStyle(t,e),l=o.getPropertyValue("font-family").match(XX),u=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!l)return t.removeChild(a),r();if(l&&c!=="none"&&c!==""){var f=o.getPropertyValue("content"),d=~["Sharp"].indexOf(l[2])?Vr:Er,v=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?ag[d][l[2].toLowerCase()]:QX[d][u],_=iZ(f),S=_.value,b=_.isSecondary,y=l[0].startsWith("FontAwesome"),A=xP(v,S),R=A;if(y){var M=EQ(S);M.iconName&&M.prefix&&(A=M.iconName,v=M.prefix)}if(A&&!b&&(!a||a.getAttribute(vP)!==v||a.getAttribute(yP)!==R)){t.setAttribute(n,R),a&&t.removeChild(a);var $=KQ(),p=$.extra;p.attributes[FE]=e,qE(A,v).then(function(x){var T=$P(yt(yt({},$),{},{icons:{main:x,mask:EP()},prefix:v,iconName:R,extra:p,watchable:!0})),D=Pr.createElement("svg");e==="::before"?t.insertBefore(D,t.firstChild):t.appendChild(D),D.outerHTML=T.map(function(C){return Yg(C)}).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function sZ(t){return Promise.all([XR(t,"::before"),XR(t,"::after")])}function aZ(t){return t.parentNode!==document.head&&!~KX.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(FE)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function QR(t){if(Fu)return new Promise(function(e,n){var r=dp(t.querySelectorAll("*")).filter(aZ).map(sZ),i=AP.begin("searchPseudoElements");F4(),Promise.all(r).then(function(){i(),WE(),e()}).catch(function(){i(),WE(),n()})})}var oZ={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=QR,n}}},provides:function(e){e.pseudoElements2svg=function(n){var r=n.node,i=r===void 0?Pr:r;Pt.searchPseudoElements&&QR(i)}}},ZR=!1,lZ={mixout:function(){return{dom:{unwatch:function(){F4(),ZR=!0}}}},hooks:function(){return{bootstrap:function(){GR(VE("mutationObserverCallbacks",{}))},noAuto:function(){qQ()},watch:function(n){var r=n.observeMutationsRoot;ZR?WE():GR(VE("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},eM=function(e){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce(function(r,i){var s=i.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&o==="h")return r.flipX=!0,r;if(a&&o==="v")return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(a){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o;break}return r},n)},uZ={mixout:function(){return{parse:{transform:function(n){return eM(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=eM(i)),n}}},provides:function(e){e.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,s=n.containerWidth,a=n.iconWidth,o={transform:"translate(".concat(s/2," 256)")},l="translate(".concat(i.x*32,", ").concat(i.y*32,") "),u="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),c="rotate(".concat(i.rotate," 0 0)"),f={transform:"".concat(l," ").concat(u," ").concat(c)},d={transform:"translate(".concat(a/2*-1," -256)")},v={outer:o,inner:f,path:d};return{tag:"g",attributes:yt({},v.outer),children:[{tag:"g",attributes:yt({},v.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:yt(yt({},r.icon.attributes),v.path)}]}]}}}},qS={x:0,y:0,width:"100%",height:"100%"};function tM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function cZ(t){return t.tag==="g"?t.children:[t]}var fZ={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),s=i?s1(i.split(" ").map(function(a){return a.trim()})):EP();return s.prefix||(s.prefix=Lc()),n.mask=s,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(e){e.generateAbstractMask=function(n){var r=n.children,i=n.attributes,s=n.main,a=n.mask,o=n.maskId,l=n.transform,u=s.width,c=s.icon,f=a.width,d=a.icon,v=uQ({transform:l,containerWidth:f,iconWidth:u}),_={tag:"rect",attributes:yt(yt({},qS),{},{fill:"white"})},S=c.children?{children:c.children.map(tM)}:{},b={tag:"g",attributes:yt({},v.inner),children:[tM(yt({tag:c.tag,attributes:yt(yt({},c.attributes),v.path)},S))]},y={tag:"g",attributes:yt({},v.outer),children:[b]},A="mask-".concat(o||ug()),R="clip-".concat(o||ug()),M={tag:"mask",attributes:yt(yt({},qS),{},{id:A,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[_,y]},$={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:cZ(d)},M]};return r.push($,{tag:"rect",attributes:yt({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(A,")")},qS)}),{children:r,attributes:i}}}},hZ={provides:function(e){var n=!1;Dc.matchMedia&&(n=Dc.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:yt(yt({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=yt(yt({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:yt(yt({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||o.children.push({tag:"animate",attributes:yt(yt({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:yt(yt({},a),{},{values:"1;0;1;1;0;1;"})}),r.push(o),r.push({tag:"path",attributes:yt(yt({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:yt(yt({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:yt(yt({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:yt(yt({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},dZ={hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol"),s=i===null?!1:i===""?!0:i;return n.symbol=s,n}}}},pZ=[hQ,ZQ,eZ,tZ,nZ,oZ,lZ,uZ,fZ,hZ,dZ];PQ(pZ,{mixoutsTo:Na});Na.noAuto;Na.config;var mZ=Na.library;Na.dom;var GE=Na.parse;Na.findIconDefinition;Na.toHtml;var gZ=Na.icon;Na.layer;Na.text;Na.counter;function TP(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const xr={},Pd=[],Yo=()=>{},vZ=()=>!1,yZ=/^on[^a-z]/,o1=t=>yZ.test(t),CP=t=>t.startsWith("onUpdate:"),Ti=Object.assign,kP=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_Z=Object.prototype.hasOwnProperty,Ln=(t,e)=>_Z.call(t,e),Vt=Array.isArray,Td=t=>Jg(t)==="[object Map]",l1=t=>Jg(t)==="[object Set]",nM=t=>Jg(t)==="[object Date]",on=t=>typeof t=="function",ni=t=>typeof t=="string",cg=t=>typeof t=="symbol",yr=t=>t!==null&&typeof t=="object",B4=t=>yr(t)&&on(t.then)&&on(t.catch),V4=Object.prototype.toString,Jg=t=>V4.call(t),bZ=t=>Jg(t).slice(8,-1),z4=t=>Jg(t)==="[object Object]",OP=t=>ni(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Uy=TP(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),u1=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},wZ=/-(\w)/g,Hl=u1(t=>t.replace(wZ,(e,n)=>n?n.toUpperCase():"")),SZ=/\B([A-Z])/g,pp=u1(t=>t.replace(SZ,"-$1").toLowerCase()),c1=u1(t=>t.charAt(0).toUpperCase()+t.slice(1)),HS=u1(t=>t?`on${c1(t)}`:""),fg=(t,e)=>!Object.is(t,e),qy=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},T_=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},C_=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let rM;const KE=()=>rM||(rM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function f1(t){if(Vt(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ni(r)?AZ(r):f1(r);if(i)for(const s in i)e[s]=i[s]}return e}else{if(ni(t))return t;if(yr(t))return t}}const xZ=/;(?![^(]*\))/g,EZ=/:([^]+)/,$Z=new RegExp("\\/\\*.*?\\*\\/","gs");function AZ(t){const e={};return t.replace($Z,"").split(xZ).forEach(n=>{if(n){const r=n.split(EZ);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ht(t){let e="";if(ni(t))e=t;else if(Vt(t))for(let n=0;n<t.length;n++){const r=Ht(t[n]);r&&(e+=r+" ")}else if(yr(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function U4(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ni(e)&&(t.class=Ht(e)),n&&(t.style=f1(n)),t}const PZ="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TZ=TP(PZ);function q4(t){return!!t||t===""}function CZ(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=h1(t[r],e[r]);return n}function h1(t,e){if(t===e)return!0;let n=nM(t),r=nM(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=cg(t),r=cg(e),n||r)return t===e;if(n=Vt(t),r=Vt(e),n||r)return n&&r?CZ(t,e):!1;if(n=yr(t),r=yr(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const a in t){const o=t.hasOwnProperty(a),l=e.hasOwnProperty(a);if(o&&!l||!o&&l||!h1(t[a],e[a]))return!1}}return String(t)===String(e)}function kZ(t,e){return t.findIndex(n=>h1(n,e))}const fs=t=>ni(t)?t:t==null?"":Vt(t)||yr(t)&&(t.toString===V4||!on(t.toString))?JSON.stringify(t,H4,2):String(t),H4=(t,e)=>e&&e.__v_isRef?H4(t,e.value):Td(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:l1(e)?{[`Set(${e.size})`]:[...e.values()]}:yr(e)&&!Vt(e)&&!z4(e)?String(e):e;let Pa;class W4{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pa,!e&&Pa&&(this.index=(Pa.scopes||(Pa.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Pa;try{return Pa=this,e()}finally{Pa=n}}}on(){Pa=this}off(){Pa=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function G4(t){return new W4(t)}function OZ(t,e=Pa){e&&e.active&&e.effects.push(t)}function K4(){return Pa}function RZ(t){Pa&&Pa.cleanups.push(t)}const RP=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Y4=t=>(t.w&jc)>0,J4=t=>(t.n&jc)>0,MZ=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=jc},NZ=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Y4(i)&&!J4(i)?i.delete(t):e[n++]=i,i.w&=~jc,i.n&=~jc}e.length=n}},k_=new WeakMap;let Am=0,jc=1;const YE=30;let Bo;const eh=Symbol(""),JE=Symbol("");class MP{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,OZ(this,r)}run(){if(!this.active)return this.fn();let e=Bo,n=Ac;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Bo,Bo=this,Ac=!0,jc=1<<++Am,Am<=YE?MZ(this):iM(this),this.fn()}finally{Am<=YE&&NZ(this),jc=1<<--Am,Bo=this.parent,Ac=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Bo===this?this.deferStop=!0:this.active&&(iM(this),this.onStop&&this.onStop(),this.active=!1)}}function iM(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ac=!0;const X4=[];function mp(){X4.push(Ac),Ac=!1}function gp(){const t=X4.pop();Ac=t===void 0?!0:t}function ha(t,e,n){if(Ac&&Bo){let r=k_.get(t);r||k_.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=RP()),Q4(i)}}function Q4(t,e){let n=!1;Am<=YE?J4(t)||(t.n|=jc,n=!Y4(t)):n=!t.has(Bo),n&&(t.add(Bo),Bo.deps.push(t))}function Nu(t,e,n,r,i,s){const a=k_.get(t);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(n==="length"&&Vt(t)){const l=Number(r);a.forEach((u,c)=>{(c==="length"||c>=l)&&o.push(u)})}else switch(n!==void 0&&o.push(a.get(n)),e){case"add":Vt(t)?OP(n)&&o.push(a.get("length")):(o.push(a.get(eh)),Td(t)&&o.push(a.get(JE)));break;case"delete":Vt(t)||(o.push(a.get(eh)),Td(t)&&o.push(a.get(JE)));break;case"set":Td(t)&&o.push(a.get(eh));break}if(o.length===1)o[0]&&XE(o[0]);else{const l=[];for(const u of o)u&&l.push(...u);XE(RP(l))}}function XE(t,e){const n=Vt(t)?t:[...t];for(const r of n)r.computed&&sM(r);for(const r of n)r.computed||sM(r)}function sM(t,e){(t!==Bo||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function IZ(t,e){var n;return(n=k_.get(t))==null?void 0:n.get(e)}const DZ=TP("__proto__,__v_isRef,__isVue"),Z4=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(cg)),LZ=NP(),FZ=NP(!1,!0),jZ=NP(!0),aM=BZ();function BZ(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=kn(this);for(let s=0,a=this.length;s<a;s++)ha(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(kn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){mp();const r=kn(this)[e].apply(this,n);return gp(),r}}),t}function VZ(t){const e=kn(this);return ha(e,"has",t),e.hasOwnProperty(t)}function NP(t=!1,e=!1){return function(r,i,s){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&s===(t?e?ree:ij:e?rj:nj).get(r))return r;const a=Vt(r);if(!t){if(a&&Ln(aM,i))return Reflect.get(aM,i,s);if(i==="hasOwnProperty")return VZ}const o=Reflect.get(r,i,s);return(cg(i)?Z4.has(i):DZ(i))||(t||ha(r,"get",i),e)?o:ti(o)?a&&OP(i)?o:o.value:yr(o)?t?sj(o):p1(o):o}}const zZ=ej(),UZ=ej(!0);function ej(t=!1){return function(n,r,i,s){let a=n[r];if(Gd(a)&&ti(a)&&!ti(i))return!1;if(!t&&(!O_(i)&&!Gd(i)&&(a=kn(a),i=kn(i)),!Vt(n)&&ti(a)&&!ti(i)))return a.value=i,!0;const o=Vt(n)&&OP(r)?Number(r)<n.length:Ln(n,r),l=Reflect.set(n,r,i,s);return n===kn(s)&&(o?fg(i,a)&&Nu(n,"set",r,i):Nu(n,"add",r,i)),l}}function qZ(t,e){const n=Ln(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&Nu(t,"delete",e,void 0),r}function HZ(t,e){const n=Reflect.has(t,e);return(!cg(e)||!Z4.has(e))&&ha(t,"has",e),n}function WZ(t){return ha(t,"iterate",Vt(t)?"length":eh),Reflect.ownKeys(t)}const tj={get:LZ,set:zZ,deleteProperty:qZ,has:HZ,ownKeys:WZ},GZ={get:jZ,set(t,e){return!0},deleteProperty(t,e){return!0}},KZ=Ti({},tj,{get:FZ,set:UZ}),IP=t=>t,d1=t=>Reflect.getPrototypeOf(t);function P0(t,e,n=!1,r=!1){t=t.__v_raw;const i=kn(t),s=kn(e);n||(e!==s&&ha(i,"get",e),ha(i,"get",s));const{has:a}=d1(i),o=r?IP:n?FP:hg;if(a.call(i,e))return o(t.get(e));if(a.call(i,s))return o(t.get(s));t!==i&&t.get(e)}function T0(t,e=!1){const n=this.__v_raw,r=kn(n),i=kn(t);return e||(t!==i&&ha(r,"has",t),ha(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function C0(t,e=!1){return t=t.__v_raw,!e&&ha(kn(t),"iterate",eh),Reflect.get(t,"size",t)}function oM(t){t=kn(t);const e=kn(this);return d1(e).has.call(e,t)||(e.add(t),Nu(e,"add",t,t)),this}function lM(t,e){e=kn(e);const n=kn(this),{has:r,get:i}=d1(n);let s=r.call(n,t);s||(t=kn(t),s=r.call(n,t));const a=i.call(n,t);return n.set(t,e),s?fg(e,a)&&Nu(n,"set",t,e):Nu(n,"add",t,e),this}function uM(t){const e=kn(this),{has:n,get:r}=d1(e);let i=n.call(e,t);i||(t=kn(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&Nu(e,"delete",t,void 0),s}function cM(){const t=kn(this),e=t.size!==0,n=t.clear();return e&&Nu(t,"clear",void 0,void 0),n}function k0(t,e){return function(r,i){const s=this,a=s.__v_raw,o=kn(a),l=e?IP:t?FP:hg;return!t&&ha(o,"iterate",eh),a.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function O0(t,e,n){return function(...r){const i=this.__v_raw,s=kn(i),a=Td(s),o=t==="entries"||t===Symbol.iterator&&a,l=t==="keys"&&a,u=i[t](...r),c=n?IP:e?FP:hg;return!e&&ha(s,"iterate",l?JE:eh),{next(){const{value:f,done:d}=u.next();return d?{value:f,done:d}:{value:o?[c(f[0]),c(f[1])]:c(f),done:d}},[Symbol.iterator](){return this}}}}function rc(t){return function(...e){return t==="delete"?!1:this}}function YZ(){const t={get(s){return P0(this,s)},get size(){return C0(this)},has:T0,add:oM,set:lM,delete:uM,clear:cM,forEach:k0(!1,!1)},e={get(s){return P0(this,s,!1,!0)},get size(){return C0(this)},has:T0,add:oM,set:lM,delete:uM,clear:cM,forEach:k0(!1,!0)},n={get(s){return P0(this,s,!0)},get size(){return C0(this,!0)},has(s){return T0.call(this,s,!0)},add:rc("add"),set:rc("set"),delete:rc("delete"),clear:rc("clear"),forEach:k0(!0,!1)},r={get(s){return P0(this,s,!0,!0)},get size(){return C0(this,!0)},has(s){return T0.call(this,s,!0)},add:rc("add"),set:rc("set"),delete:rc("delete"),clear:rc("clear"),forEach:k0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=O0(s,!1,!1),n[s]=O0(s,!0,!1),e[s]=O0(s,!1,!0),r[s]=O0(s,!0,!0)}),[t,n,e,r]}const[JZ,XZ,QZ,ZZ]=YZ();function DP(t,e){const n=e?t?ZZ:QZ:t?XZ:JZ;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ln(n,i)&&i in r?n:r,i,s)}const eee={get:DP(!1,!1)},tee={get:DP(!1,!0)},nee={get:DP(!0,!1)},nj=new WeakMap,rj=new WeakMap,ij=new WeakMap,ree=new WeakMap;function iee(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function see(t){return t.__v_skip||!Object.isExtensible(t)?0:iee(bZ(t))}function p1(t){return Gd(t)?t:LP(t,!1,tj,eee,nj)}function aee(t){return LP(t,!1,KZ,tee,rj)}function sj(t){return LP(t,!0,GZ,nee,ij)}function LP(t,e,n,r,i){if(!yr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const a=see(t);if(a===0)return t;const o=new Proxy(t,a===2?r:n);return i.set(t,o),o}function Pc(t){return Gd(t)?Pc(t.__v_raw):!!(t&&t.__v_isReactive)}function Gd(t){return!!(t&&t.__v_isReadonly)}function O_(t){return!!(t&&t.__v_isShallow)}function aj(t){return Pc(t)||Gd(t)}function kn(t){const e=t&&t.__v_raw;return e?kn(e):t}function Kd(t){return T_(t,"__v_skip",!0),t}const hg=t=>yr(t)?p1(t):t,FP=t=>yr(t)?sj(t):t;function oj(t){Ac&&Bo&&(t=kn(t),Q4(t.dep||(t.dep=RP())))}function lj(t,e){t=kn(t);const n=t.dep;n&&XE(n)}function ti(t){return!!(t&&t.__v_isRef===!0)}function m1(t){return uj(t,!1)}function Fm(t){return uj(t,!0)}function uj(t,e){return ti(t)?t:new oee(t,e)}class oee{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:kn(e),this._value=n?e:hg(e)}get value(){return oj(this),this._value}set value(e){const n=this.__v_isShallow||O_(e)||Gd(e);e=n?e:kn(e),fg(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:hg(e),lj(this))}}function Xs(t){return ti(t)?t.value:t}const lee={get:(t,e,n)=>Xs(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return ti(i)&&!ti(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function cj(t){return Pc(t)?t:new Proxy(t,lee)}function uee(t){const e=Vt(t)?new Array(t.length):{};for(const n in t)e[n]=fee(t,n);return e}class cee{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return IZ(kn(this._object),this._key)}}function fee(t,e,n){const r=t[e];return ti(r)?r:new cee(t,e,n)}class hee{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new MP(e,()=>{this._dirty||(this._dirty=!0,lj(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=kn(this);return oj(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function dee(t,e,n=!1){let r,i;const s=on(t);return s?(r=t,i=Yo):(r=t.get,i=t.set),new hee(r,i,s||!i,n)}function Tc(t,e,n,r){let i;try{i=r?t(...r):t()}catch(s){g1(s,e,n)}return i}function Jo(t,e,n,r){if(on(t)){const s=Tc(t,e,n,r);return s&&B4(s)&&s.catch(a=>{g1(a,e,n)}),s}const i=[];for(let s=0;s<t.length;s++)i.push(Jo(t[s],e,n,r));return i}function g1(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const a=e.proxy,o=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](t,a,o)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Tc(l,null,10,[t,a,o]);return}}pee(t,n,i,r)}function pee(t,e,n,r=!0){console.error(t)}let dg=!1,QE=!1;const us=[];let kl=0;const Cd=[];let pu=null,Rf=0;const fj=Promise.resolve();let jP=null;function hj(t){const e=jP||fj;return t?e.then(this?t.bind(this):t):e}function mee(t){let e=kl+1,n=us.length;for(;e<n;){const r=e+n>>>1;pg(us[r])<t?e=r+1:n=r}return e}function BP(t){(!us.length||!us.includes(t,dg&&t.allowRecurse?kl+1:kl))&&(t.id==null?us.push(t):us.splice(mee(t.id),0,t),dj())}function dj(){!dg&&!QE&&(QE=!0,jP=fj.then(mj))}function gee(t){const e=us.indexOf(t);e>kl&&us.splice(e,1)}function vee(t){Vt(t)?Cd.push(...t):(!pu||!pu.includes(t,t.allowRecurse?Rf+1:Rf))&&Cd.push(t),dj()}function fM(t,e=dg?kl+1:0){for(;e<us.length;e++){const n=us[e];n&&n.pre&&(us.splice(e,1),e--,n())}}function pj(t){if(Cd.length){const e=[...new Set(Cd)];if(Cd.length=0,pu){pu.push(...e);return}for(pu=e,pu.sort((n,r)=>pg(n)-pg(r)),Rf=0;Rf<pu.length;Rf++)pu[Rf]();pu=null,Rf=0}}const pg=t=>t.id==null?1/0:t.id,yee=(t,e)=>{const n=pg(t)-pg(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function mj(t){QE=!1,dg=!0,us.sort(yee);const e=Yo;try{for(kl=0;kl<us.length;kl++){const n=us[kl];n&&n.active!==!1&&Tc(n,null,14)}}finally{kl=0,us.length=0,pj(),dg=!1,jP=null,(us.length||Cd.length)&&mj()}}function _ee(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||xr;let i=n;const s=e.startsWith("update:"),a=s&&e.slice(7);if(a&&a in r){const c=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:d}=r[c]||xr;d&&(i=n.map(v=>ni(v)?v.trim():v)),f&&(i=n.map(C_))}let o,l=r[o=HS(e)]||r[o=HS(Hl(e))];!l&&s&&(l=r[o=HS(pp(e))]),l&&Jo(l,t,6,i);const u=r[o+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,Jo(u,t,6,i)}}function gj(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let a={},o=!1;if(!on(t)){const l=u=>{const c=gj(u,e,!0);c&&(o=!0,Ti(a,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!o?(yr(t)&&r.set(t,null),null):(Vt(s)?s.forEach(l=>a[l]=null):Ti(a,s),yr(t)&&r.set(t,a),a)}function v1(t,e){return!t||!o1(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ln(t,e[0].toLowerCase()+e.slice(1))||Ln(t,pp(e))||Ln(t,e))}let Hi=null,y1=null;function R_(t){const e=Hi;return Hi=t,y1=t&&t.type.__scopeId||null,e}function _1(t){y1=t}function b1(){y1=null}function _o(t,e=Hi,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&SM(-1);const s=R_(e);let a;try{a=t(...i)}finally{R_(s),r._d&&SM(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function WS(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[a],slots:o,attrs:l,emit:u,render:c,renderCache:f,data:d,setupState:v,ctx:_,inheritAttrs:S}=t;let b,y;const A=R_(t);try{if(n.shapeFlag&4){const M=i||r;b=Tl(c.call(M,M,f,s,v,d,_)),y=l}else{const M=e;b=Tl(M.length>1?M(s,{attrs:l,slots:o,emit:u}):M(s,null)),y=e.props?l:bee(l)}}catch(M){Vm.length=0,g1(M,t,1),b=_t(Bc)}let R=b;if(y&&S!==!1){const M=Object.keys(y),{shapeFlag:$}=R;M.length&&$&7&&(a&&M.some(CP)&&(y=wee(y,a)),R=Yd(R,y))}return n.dirs&&(R=Yd(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),b=R,R_(A),b}const bee=t=>{let e;for(const n in t)(n==="class"||n==="style"||o1(n))&&((e||(e={}))[n]=t[n]);return e},wee=(t,e)=>{const n={};for(const r in t)(!CP(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function See(t,e,n){const{props:r,children:i,component:s}=t,{props:a,children:o,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?hM(r,a,u):!!a;if(l&8){const c=e.dynamicProps;for(let f=0;f<c.length;f++){const d=c[f];if(a[d]!==r[d]&&!v1(u,d))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===a?!1:r?a?hM(r,a,u):!0:!!a;return!1}function hM(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!v1(n,s))return!0}return!1}function xee({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Eee=t=>t.__isSuspense;function $ee(t,e){e&&e.pendingBranch?Vt(t)?e.effects.push(...t):e.effects.push(t):vee(t)}const R0={};function Ta(t,e,n){return vj(t,e,n)}function vj(t,e,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:a}=xr){var o;const l=K4()===((o=Pi)==null?void 0:o.scope)?Pi:null;let u,c=!1,f=!1;if(ti(t)?(u=()=>t.value,c=O_(t)):Pc(t)?(u=()=>t,r=!0):Vt(t)?(f=!0,c=t.some(M=>Pc(M)||O_(M)),u=()=>t.map(M=>{if(ti(M))return M.value;if(Pc(M))return Kf(M);if(on(M))return Tc(M,l,2)})):on(t)?e?u=()=>Tc(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return d&&d(),Jo(t,l,3,[v])}:u=Yo,e&&r){const M=u;u=()=>Kf(M())}let d,v=M=>{d=A.onStop=()=>{Tc(M,l,4)}},_;if(vg)if(v=Yo,e?n&&Jo(e,l,3,[u(),f?[]:void 0,v]):u(),i==="sync"){const M=pte();_=M.__watcherHandles||(M.__watcherHandles=[])}else return Yo;let S=f?new Array(t.length).fill(R0):R0;const b=()=>{if(A.active)if(e){const M=A.run();(r||c||(f?M.some(($,p)=>fg($,S[p])):fg(M,S)))&&(d&&d(),Jo(e,l,3,[M,S===R0?void 0:f&&S[0]===R0?[]:S,v]),S=M)}else A.run()};b.allowRecurse=!!e;let y;i==="sync"?y=b:i==="post"?y=()=>Zs(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),y=()=>BP(b));const A=new MP(u,y);e?n?b():S=A.run():i==="post"?Zs(A.run.bind(A),l&&l.suspense):A.run();const R=()=>{A.stop(),l&&l.scope&&kP(l.scope.effects,A)};return _&&_.push(R),R}function Aee(t,e,n){const r=this.proxy,i=ni(t)?t.includes(".")?yj(r,t):()=>r[t]:t.bind(r,r);let s;on(e)?s=e:(s=e.handler,n=e);const a=Pi;Jd(this);const o=vj(i,s.bind(r),n);return a?Jd(a):th(),o}function yj(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Kf(t,e){if(!yr(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ti(t))Kf(t.value,e);else if(Vt(t))for(let n=0;n<t.length;n++)Kf(t[n],e);else if(l1(t)||Td(t))t.forEach(n=>{Kf(n,e)});else if(z4(t))for(const n in t)Kf(t[n],e);return t}function mg(t,e){const n=Hi;if(n===null)return t;const r=E1(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,o,l,u=xr]=e[s];a&&(on(a)&&(a={mounted:a,updated:a}),a.deep&&Kf(o),i.push({dir:a,instance:r,value:o,oldValue:void 0,arg:l,modifiers:u}))}return t}function Ef(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let a=0;a<i.length;a++){const o=i[a];s&&(o.oldValue=s[a].value);let l=o.dir[r];l&&(mp(),Jo(l,n,8,[t.el,o,t,e]),gp())}}function In(t,e){return on(t)?(()=>Ti({name:t.name},e,{setup:t}))():t}const jm=t=>!!t.type.__asyncLoader,_j=t=>t.type.__isKeepAlive;function Pee(t,e){bj(t,"a",e)}function Tee(t,e){bj(t,"da",e)}function bj(t,e,n=Pi){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(w1(e,r,n),n){let i=n.parent;for(;i&&i.parent;)_j(i.parent.vnode)&&Cee(r,e,n,i),i=i.parent}}function Cee(t,e,n,r){const i=w1(e,t,r,!0);VP(()=>{kP(r[e],i)},n)}function w1(t,e,n=Pi,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;mp(),Jd(n);const o=Jo(e,n,t,a);return th(),gp(),o});return r?i.unshift(s):i.push(s),s}}const ju=t=>(e,n=Pi)=>(!vg||t==="sp")&&w1(t,(...r)=>e(...r),n),wj=ju("bm"),Sj=ju("m"),kee=ju("bu"),Oee=ju("u"),xj=ju("bum"),VP=ju("um"),Ree=ju("sp"),Mee=ju("rtg"),Nee=ju("rtc");function Iee(t,e=Pi){w1("ec",t,e)}const zP="components";function tn(t,e){return Aj(zP,t,!0,e)||t}const Ej=Symbol.for("v-ndc");function $j(t){return ni(t)?Aj(zP,t,!1)||t:t||Ej}function Aj(t,e,n=!0,r=!1){const i=Hi||Pi;if(i){const s=i.type;if(t===zP){const o=fte(s,!1);if(o&&(o===e||o===Hl(e)||o===c1(Hl(e))))return s}const a=dM(i[t]||s[t],e)||dM(i.appContext[t],e);return!a&&r?s:a}}function dM(t,e){return t&&(t[e]||t[Hl(e)]||t[c1(Hl(e))])}function ho(t,e,n,r){let i;const s=n&&n[r];if(Vt(t)||ni(t)){i=new Array(t.length);for(let a=0,o=t.length;a<o;a++)i[a]=e(t[a],a,void 0,s&&s[a])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s&&s[a])}else if(yr(t))if(t[Symbol.iterator])i=Array.from(t,(a,o)=>e(a,o,void 0,s&&s[o]));else{const a=Object.keys(t);i=new Array(a.length);for(let o=0,l=a.length;o<l;o++){const u=a[o];i[o]=e(t[u],u,o,s&&s[o])}}else i=[];return n&&(n[r]=i),i}function Pj(t,e,n={},r,i){if(Hi.isCE||Hi.parent&&jm(Hi.parent)&&Hi.parent.isCE)return e!=="default"&&(n.name=e),_t("slot",n,r&&r());let s=t[e];s&&s._c&&(s._d=!1),ot();const a=s&&Tj(s(n)),o=sr(fr,{key:n.key||a&&a.key||`_${e}`},a||(r?r():[]),a&&t._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),s&&s._c&&(s._d=!0),o}function Tj(t){return t.some(e=>I_(e)?!(e.type===Bc||e.type===fr&&!Tj(e.children)):!0)?t:null}const ZE=t=>t?jj(t)?E1(t)||t.proxy:ZE(t.parent):null,Bm=Ti(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ZE(t.parent),$root:t=>ZE(t.root),$emit:t=>t.emit,$options:t=>UP(t),$forceUpdate:t=>t.f||(t.f=()=>BP(t.update)),$nextTick:t=>t.n||(t.n=hj.bind(t.proxy)),$watch:t=>Aee.bind(t)}),GS=(t,e)=>t!==xr&&!t.__isScriptSetup&&Ln(t,e),Dee={get({_:t},e){const{ctx:n,setupState:r,data:i,props:s,accessCache:a,type:o,appContext:l}=t;let u;if(e[0]!=="$"){const v=a[e];if(v!==void 0)switch(v){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(GS(r,e))return a[e]=1,r[e];if(i!==xr&&Ln(i,e))return a[e]=2,i[e];if((u=t.propsOptions[0])&&Ln(u,e))return a[e]=3,s[e];if(n!==xr&&Ln(n,e))return a[e]=4,n[e];e$&&(a[e]=0)}}const c=Bm[e];let f,d;if(c)return e==="$attrs"&&ha(t,"get",e),c(t);if((f=o.__cssModules)&&(f=f[e]))return f;if(n!==xr&&Ln(n,e))return a[e]=4,n[e];if(d=l.config.globalProperties,Ln(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return GS(i,e)?(i[e]=n,!0):r!==xr&&Ln(r,e)?(r[e]=n,!0):Ln(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},a){let o;return!!n[a]||t!==xr&&Ln(t,a)||GS(e,a)||(o=s[0])&&Ln(o,a)||Ln(r,a)||Ln(Bm,a)||Ln(i.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ln(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function pM(t){return Vt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let e$=!0;function Lee(t){const e=UP(t),n=t.proxy,r=t.ctx;e$=!1,e.beforeCreate&&mM(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:f,mounted:d,beforeUpdate:v,updated:_,activated:S,deactivated:b,beforeDestroy:y,beforeUnmount:A,destroyed:R,unmounted:M,render:$,renderTracked:p,renderTriggered:x,errorCaptured:T,serverPrefetch:D,expose:C,inheritAttrs:U,components:G,directives:se,filters:re}=e;if(u&&Fee(u,r,null),a)for(const Ae in a){const Ie=a[Ae];on(Ie)&&(r[Ae]=Ie.bind(n))}if(i){const Ae=i.call(n,n);yr(Ae)&&(t.data=p1(Ae))}if(e$=!0,s)for(const Ae in s){const Ie=s[Ae],Me=on(Ie)?Ie.bind(n,n):on(Ie.get)?Ie.get.bind(n,n):Yo,ae=!on(Ie)&&on(Ie.set)?Ie.set.bind(n):Yo,H=gi({get:Me,set:ae});Object.defineProperty(r,Ae,{enumerable:!0,configurable:!0,get:()=>H.value,set:X=>H.value=X})}if(o)for(const Ae in o)Cj(o[Ae],r,n,Ae);if(l){const Ae=on(l)?l.call(n):l;Reflect.ownKeys(Ae).forEach(Ie=>{qee(Ie,Ae[Ie])})}c&&mM(c,t,"c");function Pe(Ae,Ie){Vt(Ie)?Ie.forEach(Me=>Ae(Me.bind(n))):Ie&&Ae(Ie.bind(n))}if(Pe(wj,f),Pe(Sj,d),Pe(kee,v),Pe(Oee,_),Pe(Pee,S),Pe(Tee,b),Pe(Iee,T),Pe(Nee,p),Pe(Mee,x),Pe(xj,A),Pe(VP,M),Pe(Ree,D),Vt(C))if(C.length){const Ae=t.exposed||(t.exposed={});C.forEach(Ie=>{Object.defineProperty(Ae,Ie,{get:()=>n[Ie],set:Me=>n[Ie]=Me})})}else t.exposed||(t.exposed={});$&&t.render===Yo&&(t.render=$),U!=null&&(t.inheritAttrs=U),G&&(t.components=G),se&&(t.directives=se)}function Fee(t,e,n=Yo){Vt(t)&&(t=t$(t));for(const r in t){const i=t[r];let s;yr(i)?"default"in i?s=Xo(i.from||r,i.default,!0):s=Xo(i.from||r):s=Xo(i),ti(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):e[r]=s}}function mM(t,e,n){Jo(Vt(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Cj(t,e,n,r){const i=r.includes(".")?yj(n,r):()=>n[r];if(ni(t)){const s=e[t];on(s)&&Ta(i,s)}else if(on(t))Ta(i,t.bind(n));else if(yr(t))if(Vt(t))t.forEach(s=>Cj(s,e,n,r));else{const s=on(t.handler)?t.handler.bind(n):e[t.handler];on(s)&&Ta(i,s,t)}}function UP(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,o=s.get(e);let l;return o?l=o:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>M_(l,u,a,!0)),M_(l,e,a)),yr(e)&&s.set(e,l),l}function M_(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&M_(t,s,n,!0),i&&i.forEach(a=>M_(t,a,n,!0));for(const a in e)if(!(r&&a==="expose")){const o=jee[a]||n&&n[a];t[a]=o?o(t[a],e[a]):e[a]}return t}const jee={data:gM,props:vM,emits:vM,methods:Pm,computed:Pm,beforeCreate:$s,created:$s,beforeMount:$s,mounted:$s,beforeUpdate:$s,updated:$s,beforeDestroy:$s,beforeUnmount:$s,destroyed:$s,unmounted:$s,activated:$s,deactivated:$s,errorCaptured:$s,serverPrefetch:$s,components:Pm,directives:Pm,watch:Vee,provide:gM,inject:Bee};function gM(t,e){return e?t?function(){return Ti(on(t)?t.call(this,this):t,on(e)?e.call(this,this):e)}:e:t}function Bee(t,e){return Pm(t$(t),t$(e))}function t$(t){if(Vt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $s(t,e){return t?[...new Set([].concat(t,e))]:e}function Pm(t,e){return t?Ti(Object.create(null),t,e):e}function vM(t,e){return t?Vt(t)&&Vt(e)?[...new Set([...t,...e])]:Ti(Object.create(null),pM(t),pM(e??{})):e}function Vee(t,e){if(!t)return e;if(!e)return t;const n=Ti(Object.create(null),t);for(const r in e)n[r]=$s(t[r],e[r]);return n}function kj(){return{app:null,config:{isNativeTag:vZ,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zee=0;function Uee(t,e){return function(r,i=null){on(r)||(r=Ti({},r)),i!=null&&!yr(i)&&(i=null);const s=kj(),a=new Set;let o=!1;const l=s.app={_uid:zee++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:mte,get config(){return s.config},set config(u){},use(u,...c){return a.has(u)||(u&&on(u.install)?(a.add(u),u.install(l,...c)):on(u)&&(a.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,f){if(!o){const d=_t(r,i);return d.appContext=s,c&&e?e(d,u):t(d,u,f),o=!0,l._container=u,u.__vue_app__=l,E1(d.component)||d.component.proxy}},unmount(){o&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){N_=l;try{return u()}finally{N_=null}}};return l}}let N_=null;function qee(t,e){if(Pi){let n=Pi.provides;const r=Pi.parent&&Pi.parent.provides;r===n&&(n=Pi.provides=Object.create(r)),n[t]=e}}function Xo(t,e,n=!1){const r=Pi||Hi;if(r||N_){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:N_._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&on(e)?e.call(r&&r.proxy):e}}function Hee(t,e,n,r=!1){const i={},s={};T_(s,x1,1),t.propsDefaults=Object.create(null),Oj(t,e,i,s);for(const a in t.propsOptions[0])a in i||(i[a]=void 0);n?t.props=r?i:aee(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Wee(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:a}}=t,o=kn(i),[l]=t.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=t.vnode.dynamicProps;for(let f=0;f<c.length;f++){let d=c[f];if(v1(t.emitsOptions,d))continue;const v=e[d];if(l)if(Ln(s,d))v!==s[d]&&(s[d]=v,u=!0);else{const _=Hl(d);i[_]=n$(l,o,_,v,t,!1)}else v!==s[d]&&(s[d]=v,u=!0)}}}else{Oj(t,e,i,s)&&(u=!0);let c;for(const f in o)(!e||!Ln(e,f)&&((c=pp(f))===f||!Ln(e,c)))&&(l?n&&(n[f]!==void 0||n[c]!==void 0)&&(i[f]=n$(l,o,f,void 0,t,!0)):delete i[f]);if(s!==o)for(const f in s)(!e||!Ln(e,f))&&(delete s[f],u=!0)}u&&Nu(t,"set","$attrs")}function Oj(t,e,n,r){const[i,s]=t.propsOptions;let a=!1,o;if(e)for(let l in e){if(Uy(l))continue;const u=e[l];let c;i&&Ln(i,c=Hl(l))?!s||!s.includes(c)?n[c]=u:(o||(o={}))[c]=u:v1(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(s){const l=kn(n),u=o||xr;for(let c=0;c<s.length;c++){const f=s[c];n[f]=n$(i,l,f,u[f],t,!Ln(u,f))}}return a}function n$(t,e,n,r,i,s){const a=t[n];if(a!=null){const o=Ln(a,"default");if(o&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&on(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Jd(i),r=u[n]=l.call(null,e),th())}else r=l}a[0]&&(s&&!o?r=!1:a[1]&&(r===""||r===pp(n))&&(r=!0))}return r}function Rj(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,a={},o=[];let l=!1;if(!on(t)){const c=f=>{l=!0;const[d,v]=Rj(f,e,!0);Ti(a,d),v&&o.push(...v)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return yr(t)&&r.set(t,Pd),Pd;if(Vt(s))for(let c=0;c<s.length;c++){const f=Hl(s[c]);yM(f)&&(a[f]=xr)}else if(s)for(const c in s){const f=Hl(c);if(yM(f)){const d=s[c],v=a[f]=Vt(d)||on(d)?{type:d}:Ti({},d);if(v){const _=wM(Boolean,v.type),S=wM(String,v.type);v[0]=_>-1,v[1]=S<0||_<S,(_>-1||Ln(v,"default"))&&o.push(f)}}}const u=[a,o];return yr(t)&&r.set(t,u),u}function yM(t){return t[0]!=="$"}function _M(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function bM(t,e){return _M(t)===_M(e)}function wM(t,e){return Vt(e)?e.findIndex(n=>bM(n,t)):on(e)&&bM(e,t)?0:-1}const Mj=t=>t[0]==="_"||t==="$stable",qP=t=>Vt(t)?t.map(Tl):[Tl(t)],Gee=(t,e,n)=>{if(e._n)return e;const r=_o((...i)=>qP(e(...i)),n);return r._c=!1,r},Nj=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Mj(i))continue;const s=t[i];if(on(s))e[i]=Gee(i,s,r);else if(s!=null){const a=qP(s);e[i]=()=>a}}},Ij=(t,e)=>{const n=qP(e);t.slots.default=()=>n},Kee=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=kn(e),T_(e,"_",n)):Nj(e,t.slots={})}else t.slots={},e&&Ij(t,e);T_(t.slots,x1,1)},Yee=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,a=xr;if(r.shapeFlag&32){const o=e._;o?n&&o===1?s=!1:(Ti(i,e),!n&&o===1&&delete i._):(s=!e.$stable,Nj(e,i)),a=e}else e&&(Ij(t,e),a={default:1});if(s)for(const o in i)!Mj(o)&&!(o in a)&&delete i[o]};function r$(t,e,n,r,i=!1){if(Vt(t)){t.forEach((d,v)=>r$(d,e&&(Vt(e)?e[v]:e),n,r,i));return}if(jm(r)&&!i)return;const s=r.shapeFlag&4?E1(r.component)||r.component.proxy:r.el,a=i?null:s,{i:o,r:l}=t,u=e&&e.r,c=o.refs===xr?o.refs={}:o.refs,f=o.setupState;if(u!=null&&u!==l&&(ni(u)?(c[u]=null,Ln(f,u)&&(f[u]=null)):ti(u)&&(u.value=null)),on(l))Tc(l,o,12,[a,c]);else{const d=ni(l),v=ti(l);if(d||v){const _=()=>{if(t.f){const S=d?Ln(f,l)?f[l]:c[l]:l.value;i?Vt(S)&&kP(S,s):Vt(S)?S.includes(s)||S.push(s):d?(c[l]=[s],Ln(f,l)&&(f[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else d?(c[l]=a,Ln(f,l)&&(f[l]=a)):v&&(l.value=a,t.k&&(c[t.k]=a))};a?(_.id=-1,Zs(_,n)):_()}}}const Zs=$ee;function Jee(t){return Xee(t)}function Xee(t,e){const n=KE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:f,nextSibling:d,setScopeId:v=Yo,insertStaticContent:_}=t,S=(Y,Q,N,F=null,q=null,ie=null,ge=!1,ve=null,Te=!!Q.dynamicChildren)=>{if(Y===Q)return;Y&&!am(Y,Q)&&(F=ue(Y),X(Y,q,ie,!0),Y=null),Q.patchFlag===-2&&(Te=!1,Q.dynamicChildren=null);const{type:Ne,ref:Be,shapeFlag:Xe}=Q;switch(Ne){case S1:b(Y,Q,N,F);break;case Bc:y(Y,Q,N,F);break;case Hy:Y==null&&A(Q,N,F,ge);break;case fr:G(Y,Q,N,F,q,ie,ge,ve,Te);break;default:Xe&1?$(Y,Q,N,F,q,ie,ge,ve,Te):Xe&6?se(Y,Q,N,F,q,ie,ge,ve,Te):(Xe&64||Xe&128)&&Ne.process(Y,Q,N,F,q,ie,ge,ve,Te,ke)}Be!=null&&q&&r$(Be,Y&&Y.ref,ie,Q||Y,!Q)},b=(Y,Q,N,F)=>{if(Y==null)r(Q.el=o(Q.children),N,F);else{const q=Q.el=Y.el;Q.children!==Y.children&&u(q,Q.children)}},y=(Y,Q,N,F)=>{Y==null?r(Q.el=l(Q.children||""),N,F):Q.el=Y.el},A=(Y,Q,N,F)=>{[Y.el,Y.anchor]=_(Y.children,Q,N,F,Y.el,Y.anchor)},R=({el:Y,anchor:Q},N,F)=>{let q;for(;Y&&Y!==Q;)q=d(Y),r(Y,N,F),Y=q;r(Q,N,F)},M=({el:Y,anchor:Q})=>{let N;for(;Y&&Y!==Q;)N=d(Y),i(Y),Y=N;i(Q)},$=(Y,Q,N,F,q,ie,ge,ve,Te)=>{ge=ge||Q.type==="svg",Y==null?p(Q,N,F,q,ie,ge,ve,Te):D(Y,Q,q,ie,ge,ve,Te)},p=(Y,Q,N,F,q,ie,ge,ve)=>{let Te,Ne;const{type:Be,props:Xe,shapeFlag:Je,transition:Ze,dirs:ut}=Y;if(Te=Y.el=a(Y.type,ie,Xe&&Xe.is,Xe),Je&8?c(Te,Y.children):Je&16&&T(Y.children,Te,null,F,q,ie&&Be!=="foreignObject",ge,ve),ut&&Ef(Y,null,F,"created"),x(Te,Y,Y.scopeId,ge,F),Xe){for(const Ot in Xe)Ot!=="value"&&!Uy(Ot)&&s(Te,Ot,null,Xe[Ot],ie,Y.children,F,q,J);"value"in Xe&&s(Te,"value",null,Xe.value),(Ne=Xe.onVnodeBeforeMount)&&bl(Ne,F,Y)}ut&&Ef(Y,null,F,"beforeMount");const xt=(!q||q&&!q.pendingBranch)&&Ze&&!Ze.persisted;xt&&Ze.beforeEnter(Te),r(Te,Q,N),((Ne=Xe&&Xe.onVnodeMounted)||xt||ut)&&Zs(()=>{Ne&&bl(Ne,F,Y),xt&&Ze.enter(Te),ut&&Ef(Y,null,F,"mounted")},q)},x=(Y,Q,N,F,q)=>{if(N&&v(Y,N),F)for(let ie=0;ie<F.length;ie++)v(Y,F[ie]);if(q){let ie=q.subTree;if(Q===ie){const ge=q.vnode;x(Y,ge,ge.scopeId,ge.slotScopeIds,q.parent)}}},T=(Y,Q,N,F,q,ie,ge,ve,Te=0)=>{for(let Ne=Te;Ne<Y.length;Ne++){const Be=Y[Ne]=ve?dc(Y[Ne]):Tl(Y[Ne]);S(null,Be,Q,N,F,q,ie,ge,ve)}},D=(Y,Q,N,F,q,ie,ge)=>{const ve=Q.el=Y.el;let{patchFlag:Te,dynamicChildren:Ne,dirs:Be}=Q;Te|=Y.patchFlag&16;const Xe=Y.props||xr,Je=Q.props||xr;let Ze;N&&$f(N,!1),(Ze=Je.onVnodeBeforeUpdate)&&bl(Ze,N,Q,Y),Be&&Ef(Q,Y,N,"beforeUpdate"),N&&$f(N,!0);const ut=q&&Q.type!=="foreignObject";if(Ne?C(Y.dynamicChildren,Ne,ve,N,F,ut,ie):ge||Ie(Y,Q,ve,null,N,F,ut,ie,!1),Te>0){if(Te&16)U(ve,Q,Xe,Je,N,F,q);else if(Te&2&&Xe.class!==Je.class&&s(ve,"class",null,Je.class,q),Te&4&&s(ve,"style",Xe.style,Je.style,q),Te&8){const xt=Q.dynamicProps;for(let Ot=0;Ot<xt.length;Ot++){const mt=xt[Ot],zt=Xe[mt],Hn=Je[mt];(Hn!==zt||mt==="value")&&s(ve,mt,zt,Hn,q,Y.children,N,F,J)}}Te&1&&Y.children!==Q.children&&c(ve,Q.children)}else!ge&&Ne==null&&U(ve,Q,Xe,Je,N,F,q);((Ze=Je.onVnodeUpdated)||Be)&&Zs(()=>{Ze&&bl(Ze,N,Q,Y),Be&&Ef(Q,Y,N,"updated")},F)},C=(Y,Q,N,F,q,ie,ge)=>{for(let ve=0;ve<Q.length;ve++){const Te=Y[ve],Ne=Q[ve],Be=Te.el&&(Te.type===fr||!am(Te,Ne)||Te.shapeFlag&70)?f(Te.el):N;S(Te,Ne,Be,null,F,q,ie,ge,!0)}},U=(Y,Q,N,F,q,ie,ge)=>{if(N!==F){if(N!==xr)for(const ve in N)!Uy(ve)&&!(ve in F)&&s(Y,ve,N[ve],null,ge,Q.children,q,ie,J);for(const ve in F){if(Uy(ve))continue;const Te=F[ve],Ne=N[ve];Te!==Ne&&ve!=="value"&&s(Y,ve,Ne,Te,ge,Q.children,q,ie,J)}"value"in F&&s(Y,"value",N.value,F.value)}},G=(Y,Q,N,F,q,ie,ge,ve,Te)=>{const Ne=Q.el=Y?Y.el:o(""),Be=Q.anchor=Y?Y.anchor:o("");let{patchFlag:Xe,dynamicChildren:Je,slotScopeIds:Ze}=Q;Ze&&(ve=ve?ve.concat(Ze):Ze),Y==null?(r(Ne,N,F),r(Be,N,F),T(Q.children,N,Be,q,ie,ge,ve,Te)):Xe>0&&Xe&64&&Je&&Y.dynamicChildren?(C(Y.dynamicChildren,Je,N,q,ie,ge,ve),(Q.key!=null||q&&Q===q.subTree)&&Dj(Y,Q,!0)):Ie(Y,Q,N,Be,q,ie,ge,ve,Te)},se=(Y,Q,N,F,q,ie,ge,ve,Te)=>{Q.slotScopeIds=ve,Y==null?Q.shapeFlag&512?q.ctx.activate(Q,N,F,ge,Te):re(Q,N,F,q,ie,ge,Te):ye(Y,Q,Te)},re=(Y,Q,N,F,q,ie,ge)=>{const ve=Y.component=ste(Y,F,q);if(_j(Y)&&(ve.ctx.renderer=ke),ote(ve),ve.asyncDep){if(q&&q.registerDep(ve,Pe),!Y.el){const Te=ve.subTree=_t(Bc);y(null,Te,Q,N)}return}Pe(ve,Y,Q,N,q,ie,ge)},ye=(Y,Q,N)=>{const F=Q.component=Y.component;if(See(Y,Q,N))if(F.asyncDep&&!F.asyncResolved){Ae(F,Q,N);return}else F.next=Q,gee(F.update),F.update();else Q.el=Y.el,F.vnode=Q},Pe=(Y,Q,N,F,q,ie,ge)=>{const ve=()=>{if(Y.isMounted){let{next:Be,bu:Xe,u:Je,parent:Ze,vnode:ut}=Y,xt=Be,Ot;$f(Y,!1),Be?(Be.el=ut.el,Ae(Y,Be,ge)):Be=ut,Xe&&qy(Xe),(Ot=Be.props&&Be.props.onVnodeBeforeUpdate)&&bl(Ot,Ze,Be,ut),$f(Y,!0);const mt=WS(Y),zt=Y.subTree;Y.subTree=mt,S(zt,mt,f(zt.el),ue(zt),Y,q,ie),Be.el=mt.el,xt===null&&xee(Y,mt.el),Je&&Zs(Je,q),(Ot=Be.props&&Be.props.onVnodeUpdated)&&Zs(()=>bl(Ot,Ze,Be,ut),q)}else{let Be;const{el:Xe,props:Je}=Q,{bm:Ze,m:ut,parent:xt}=Y,Ot=jm(Q);if($f(Y,!1),Ze&&qy(Ze),!Ot&&(Be=Je&&Je.onVnodeBeforeMount)&&bl(Be,xt,Q),$f(Y,!0),Xe&&We){const mt=()=>{Y.subTree=WS(Y),We(Xe,Y.subTree,Y,q,null)};Ot?Q.type.__asyncLoader().then(()=>!Y.isUnmounted&&mt()):mt()}else{const mt=Y.subTree=WS(Y);S(null,mt,N,F,Y,q,ie),Q.el=mt.el}if(ut&&Zs(ut,q),!Ot&&(Be=Je&&Je.onVnodeMounted)){const mt=Q;Zs(()=>bl(Be,xt,mt),q)}(Q.shapeFlag&256||xt&&jm(xt.vnode)&&xt.vnode.shapeFlag&256)&&Y.a&&Zs(Y.a,q),Y.isMounted=!0,Q=N=F=null}},Te=Y.effect=new MP(ve,()=>BP(Ne),Y.scope),Ne=Y.update=()=>Te.run();Ne.id=Y.uid,$f(Y,!0),Ne()},Ae=(Y,Q,N)=>{Q.component=Y;const F=Y.vnode.props;Y.vnode=Q,Y.next=null,Wee(Y,Q.props,F,N),Yee(Y,Q.children,N),mp(),fM(),gp()},Ie=(Y,Q,N,F,q,ie,ge,ve,Te=!1)=>{const Ne=Y&&Y.children,Be=Y?Y.shapeFlag:0,Xe=Q.children,{patchFlag:Je,shapeFlag:Ze}=Q;if(Je>0){if(Je&128){ae(Ne,Xe,N,F,q,ie,ge,ve,Te);return}else if(Je&256){Me(Ne,Xe,N,F,q,ie,ge,ve,Te);return}}Ze&8?(Be&16&&J(Ne,q,ie),Xe!==Ne&&c(N,Xe)):Be&16?Ze&16?ae(Ne,Xe,N,F,q,ie,ge,ve,Te):J(Ne,q,ie,!0):(Be&8&&c(N,""),Ze&16&&T(Xe,N,F,q,ie,ge,ve,Te))},Me=(Y,Q,N,F,q,ie,ge,ve,Te)=>{Y=Y||Pd,Q=Q||Pd;const Ne=Y.length,Be=Q.length,Xe=Math.min(Ne,Be);let Je;for(Je=0;Je<Xe;Je++){const Ze=Q[Je]=Te?dc(Q[Je]):Tl(Q[Je]);S(Y[Je],Ze,N,null,q,ie,ge,ve,Te)}Ne>Be?J(Y,q,ie,!0,!1,Xe):T(Q,N,F,q,ie,ge,ve,Te,Xe)},ae=(Y,Q,N,F,q,ie,ge,ve,Te)=>{let Ne=0;const Be=Q.length;let Xe=Y.length-1,Je=Be-1;for(;Ne<=Xe&&Ne<=Je;){const Ze=Y[Ne],ut=Q[Ne]=Te?dc(Q[Ne]):Tl(Q[Ne]);if(am(Ze,ut))S(Ze,ut,N,null,q,ie,ge,ve,Te);else break;Ne++}for(;Ne<=Xe&&Ne<=Je;){const Ze=Y[Xe],ut=Q[Je]=Te?dc(Q[Je]):Tl(Q[Je]);if(am(Ze,ut))S(Ze,ut,N,null,q,ie,ge,ve,Te);else break;Xe--,Je--}if(Ne>Xe){if(Ne<=Je){const Ze=Je+1,ut=Ze<Be?Q[Ze].el:F;for(;Ne<=Je;)S(null,Q[Ne]=Te?dc(Q[Ne]):Tl(Q[Ne]),N,ut,q,ie,ge,ve,Te),Ne++}}else if(Ne>Je)for(;Ne<=Xe;)X(Y[Ne],q,ie,!0),Ne++;else{const Ze=Ne,ut=Ne,xt=new Map;for(Ne=ut;Ne<=Je;Ne++){const er=Q[Ne]=Te?dc(Q[Ne]):Tl(Q[Ne]);er.key!=null&&xt.set(er.key,Ne)}let Ot,mt=0;const zt=Je-ut+1;let Hn=!1,Cr=0;const Zn=new Array(zt);for(Ne=0;Ne<zt;Ne++)Zn[Ne]=0;for(Ne=Ze;Ne<=Xe;Ne++){const er=Y[Ne];if(mt>=zt){X(er,q,ie,!0);continue}let yn;if(er.key!=null)yn=xt.get(er.key);else for(Ot=ut;Ot<=Je;Ot++)if(Zn[Ot-ut]===0&&am(er,Q[Ot])){yn=Ot;break}yn===void 0?X(er,q,ie,!0):(Zn[yn-ut]=Ne+1,yn>=Cr?Cr=yn:Hn=!0,S(er,Q[yn],N,null,q,ie,ge,ve,Te),mt++)}const ci=Hn?Qee(Zn):Pd;for(Ot=ci.length-1,Ne=zt-1;Ne>=0;Ne--){const er=ut+Ne,yn=Q[er],_n=er+1<Be?Q[er+1].el:F;Zn[Ne]===0?S(null,yn,N,_n,q,ie,ge,ve,Te):Hn&&(Ot<0||Ne!==ci[Ot]?H(yn,N,_n,2):Ot--)}}},H=(Y,Q,N,F,q=null)=>{const{el:ie,type:ge,transition:ve,children:Te,shapeFlag:Ne}=Y;if(Ne&6){H(Y.component.subTree,Q,N,F);return}if(Ne&128){Y.suspense.move(Q,N,F);return}if(Ne&64){ge.move(Y,Q,N,ke);return}if(ge===fr){r(ie,Q,N);for(let Xe=0;Xe<Te.length;Xe++)H(Te[Xe],Q,N,F);r(Y.anchor,Q,N);return}if(ge===Hy){R(Y,Q,N);return}if(F!==2&&Ne&1&&ve)if(F===0)ve.beforeEnter(ie),r(ie,Q,N),Zs(()=>ve.enter(ie),q);else{const{leave:Xe,delayLeave:Je,afterLeave:Ze}=ve,ut=()=>r(ie,Q,N),xt=()=>{Xe(ie,()=>{ut(),Ze&&Ze()})};Je?Je(ie,ut,xt):xt()}else r(ie,Q,N)},X=(Y,Q,N,F=!1,q=!1)=>{const{type:ie,props:ge,ref:ve,children:Te,dynamicChildren:Ne,shapeFlag:Be,patchFlag:Xe,dirs:Je}=Y;if(ve!=null&&r$(ve,null,N,Y,!0),Be&256){Q.ctx.deactivate(Y);return}const Ze=Be&1&&Je,ut=!jm(Y);let xt;if(ut&&(xt=ge&&ge.onVnodeBeforeUnmount)&&bl(xt,Q,Y),Be&6)I(Y.component,N,F);else{if(Be&128){Y.suspense.unmount(N,F);return}Ze&&Ef(Y,null,Q,"beforeUnmount"),Be&64?Y.type.remove(Y,Q,N,q,ke,F):Ne&&(ie!==fr||Xe>0&&Xe&64)?J(Ne,Q,N,!1,!0):(ie===fr&&Xe&384||!q&&Be&16)&&J(Te,Q,N),F&&V(Y)}(ut&&(xt=ge&&ge.onVnodeUnmounted)||Ze)&&Zs(()=>{xt&&bl(xt,Q,Y),Ze&&Ef(Y,null,Q,"unmounted")},N)},V=Y=>{const{type:Q,el:N,anchor:F,transition:q}=Y;if(Q===fr){k(N,F);return}if(Q===Hy){M(Y);return}const ie=()=>{i(N),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(Y.shapeFlag&1&&q&&!q.persisted){const{leave:ge,delayLeave:ve}=q,Te=()=>ge(N,ie);ve?ve(Y.el,ie,Te):Te()}else ie()},k=(Y,Q)=>{let N;for(;Y!==Q;)N=d(Y),i(Y),Y=N;i(Q)},I=(Y,Q,N)=>{const{bum:F,scope:q,update:ie,subTree:ge,um:ve}=Y;F&&qy(F),q.stop(),ie&&(ie.active=!1,X(ge,Y,Q,N)),ve&&Zs(ve,Q),Zs(()=>{Y.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&Y.asyncDep&&!Y.asyncResolved&&Y.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},J=(Y,Q,N,F=!1,q=!1,ie=0)=>{for(let ge=ie;ge<Y.length;ge++)X(Y[ge],Q,N,F,q)},ue=Y=>Y.shapeFlag&6?ue(Y.component.subTree):Y.shapeFlag&128?Y.suspense.next():d(Y.anchor||Y.el),_e=(Y,Q,N)=>{Y==null?Q._vnode&&X(Q._vnode,null,null,!0):S(Q._vnode||null,Y,Q,null,null,null,N),fM(),pj(),Q._vnode=Y},ke={p:S,um:X,m:H,r:V,mt:re,mc:T,pc:Ie,pbc:C,n:ue,o:t};let Ve,We;return e&&([Ve,We]=e(ke)),{render:_e,hydrate:Ve,createApp:Uee(_e,Ve)}}function $f({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Dj(t,e,n=!1){const r=t.children,i=e.children;if(Vt(r)&&Vt(i))for(let s=0;s<r.length;s++){const a=r[s];let o=i[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[s]=dc(i[s]),o.el=a.el),n||Dj(a,o)),o.type===S1&&(o.el=a.el)}}function Qee(t){const e=t.slice(),n=[0];let r,i,s,a,o;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,t[n[o]]<u?s=o+1:a=o;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=e[a];return n}const Zee=t=>t.__isTeleport,fr=Symbol.for("v-fgt"),S1=Symbol.for("v-txt"),Bc=Symbol.for("v-cmt"),Hy=Symbol.for("v-stc"),Vm=[];let Wo=null;function ot(t=!1){Vm.push(Wo=t?null:[])}function ete(){Vm.pop(),Wo=Vm[Vm.length-1]||null}let gg=1;function SM(t){gg+=t}function Lj(t){return t.dynamicChildren=gg>0?Wo||Pd:null,ete(),gg>0&&Wo&&Wo.push(t),t}function Mt(t,e,n,r,i,s){return Lj(le(t,e,n,r,i,s,!0))}function sr(t,e,n,r,i){return Lj(_t(t,e,n,r,i,!0))}function I_(t){return t?t.__v_isVNode===!0:!1}function am(t,e){return t.type===e.type&&t.key===e.key}const x1="__vInternal",Fj=({key:t})=>t??null,Wy=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ni(t)||ti(t)||on(t)?{i:Hi,r:t,k:e,f:!!n}:t:null);function le(t,e=null,n=null,r=0,i=null,s=t===fr?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fj(e),ref:e&&Wy(e),scopeId:y1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Hi};return o?(WP(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=ni(n)?8:16),gg>0&&!a&&Wo&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Wo.push(l),l}const _t=tte;function tte(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===Ej)&&(t=Bc),I_(t)){const o=Yd(t,e,!0);return n&&WP(o,n),gg>0&&!s&&Wo&&(o.shapeFlag&6?Wo[Wo.indexOf(t)]=o:Wo.push(o)),o.patchFlag|=-2,o}if(hte(t)&&(t=t.__vccOpts),e){e=HP(e);let{class:o,style:l}=e;o&&!ni(o)&&(e.class=Ht(o)),yr(l)&&(aj(l)&&!Vt(l)&&(l=Ti({},l)),e.style=f1(l))}const a=ni(t)?1:Eee(t)?128:Zee(t)?64:yr(t)?4:on(t)?2:0;return le(t,e,n,r,i,a,s,!0)}function HP(t){return t?aj(t)||x1 in t?Ti({},t):t:null}function Yd(t,e,n=!1){const{props:r,ref:i,patchFlag:s,children:a}=t,o=e?rl(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:o,key:o&&Fj(o),ref:e&&e.ref?n&&i?Vt(i)?i.concat(Wy(e)):[i,Wy(e)]:Wy(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==fr?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yd(t.ssContent),ssFallback:t.ssFallback&&Yd(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function vi(t=" ",e=0){return _t(S1,null,t,e)}function nte(t,e){const n=_t(Hy,null,t);return n.staticCount=e,n}function mr(t="",e=!1){return e?(ot(),sr(Bc,null,t)):_t(Bc,null,t)}function Tl(t){return t==null||typeof t=="boolean"?_t(Bc):Vt(t)?_t(fr,null,t.slice()):typeof t=="object"?dc(t):_t(S1,null,String(t))}function dc(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yd(t)}function WP(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Vt(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),WP(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(x1 in e)?e._ctx=Hi:i===3&&Hi&&(Hi.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else on(e)?(e={default:e,_ctx:Hi},n=32):(e=String(e),r&64?(n=16,e=[vi(e)]):n=8);t.children=e,t.shapeFlag|=n}function rl(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Ht([e.class,r.class]));else if(i==="style")e.style=f1([e.style,r.style]);else if(o1(i)){const s=e[i],a=r[i];a&&s!==a&&!(Vt(s)&&s.includes(a))&&(e[i]=s?[].concat(s,a):a)}else i!==""&&(e[i]=r[i])}return e}function bl(t,e,n,r=null){Jo(t,e,7,[n,r])}const rte=kj();let ite=0;function ste(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||rte,s={uid:ite++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new W4(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rj(r,i),emitsOptions:gj(r,i),emit:null,emitted:null,propsDefaults:xr,inheritAttrs:r.inheritAttrs,ctx:xr,data:xr,props:xr,attrs:xr,slots:xr,refs:xr,setupState:xr,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=_ee.bind(null,s),t.ce&&t.ce(s),s}let Pi=null;const ate=()=>Pi||Hi;let GP,Kh,xM="__VUE_INSTANCE_SETTERS__";(Kh=KE()[xM])||(Kh=KE()[xM]=[]),Kh.push(t=>Pi=t),GP=t=>{Kh.length>1?Kh.forEach(e=>e(t)):Kh[0](t)};const Jd=t=>{GP(t),t.scope.on()},th=()=>{Pi&&Pi.scope.off(),GP(null)};function jj(t){return t.vnode.shapeFlag&4}let vg=!1;function ote(t,e=!1){vg=e;const{props:n,children:r}=t.vnode,i=jj(t);Hee(t,n,i,e),Kee(t,r);const s=i?lte(t,e):void 0;return vg=!1,s}function lte(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Kd(new Proxy(t.ctx,Dee));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?cte(t):null;Jd(t),mp();const s=Tc(r,t,0,[t.props,i]);if(gp(),th(),B4(s)){if(s.then(th,th),e)return s.then(a=>{EM(t,a,e)}).catch(a=>{g1(a,t,0)});t.asyncDep=s}else EM(t,s,e)}else Bj(t,e)}function EM(t,e,n){on(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yr(e)&&(t.setupState=cj(e)),Bj(t,n)}let $M;function Bj(t,e,n){const r=t.type;if(!t.render){if(!e&&$M&&!r.render){const i=r.template||UP(t).template;if(i){const{isCustomElement:s,compilerOptions:a}=t.appContext.config,{delimiters:o,compilerOptions:l}=r,u=Ti(Ti({isCustomElement:s,delimiters:o},a),l);r.render=$M(i,u)}}t.render=r.render||Yo}Jd(t),mp(),Lee(t),gp(),th()}function ute(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return ha(t,"get","$attrs"),e[n]}}))}function cte(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return ute(t)},slots:t.slots,emit:t.emit,expose:e}}function E1(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(cj(Kd(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Bm)return Bm[n](t)},has(e,n){return n in e||n in Bm}}))}function fte(t,e=!0){return on(t)?t.displayName||t.name:t.name||e&&t.__name}function hte(t){return on(t)&&"__vccOpts"in t}const gi=(t,e)=>dee(t,e,vg);function Vj(t,e,n){const r=arguments.length;return r===2?yr(e)&&!Vt(e)?I_(e)?_t(t,null,[e]):_t(t,e):_t(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&I_(n)&&(n=[n]),_t(t,e,n))}const dte=Symbol.for("v-scx"),pte=()=>Xo(dte),mte="3.3.2",gte="http://www.w3.org/2000/svg",Mf=typeof document<"u"?document:null,AM=Mf&&Mf.createElement("template"),vte={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Mf.createElementNS(gte,t):Mf.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Mf.createTextNode(t),createComment:t=>Mf.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Mf.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const a=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{AM.innerHTML=r?`<svg>${t}</svg>`:t;const o=AM.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function yte(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function _te(t,e,n){const r=t.style,i=ni(n);if(n&&!i){if(e&&!ni(e))for(const s in e)n[s]==null&&i$(r,s,"");for(const s in n)i$(r,s,n[s])}else{const s=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=s)}}const PM=/\s*!important$/;function i$(t,e,n){if(Vt(n))n.forEach(r=>i$(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=bte(t,e);PM.test(n)?t.setProperty(pp(r),n.replace(PM,""),"important"):t[r]=n}}const TM=["Webkit","Moz","ms"],KS={};function bte(t,e){const n=KS[e];if(n)return n;let r=Hl(e);if(r!=="filter"&&r in t)return KS[e]=r;r=c1(r);for(let i=0;i<TM.length;i++){const s=TM[i]+r;if(s in t)return KS[e]=s}return e}const CM="http://www.w3.org/1999/xlink";function wte(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(CM,e.slice(6,e.length)):t.setAttributeNS(CM,e,n);else{const s=TZ(e);n==null||s&&!q4(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function Ste(t,e,n,r,i,s,a){if(e==="innerHTML"||e==="textContent"){r&&a(r,i,s),t[e]=n??"";return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){t._value=n;const u=o==="OPTION"?t.getAttribute("value"):t.value,c=n??"";u!==c&&(t.value=c),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=q4(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function Nf(t,e,n,r){t.addEventListener(e,n,r)}function xte(t,e,n,r){t.removeEventListener(e,n,r)}function Ete(t,e,n,r,i=null){const s=t._vei||(t._vei={}),a=s[e];if(r&&a)a.value=r;else{const[o,l]=$te(e);if(r){const u=s[e]=Tte(r,i);Nf(t,o,u,l)}else a&&(xte(t,o,a,l),s[e]=void 0)}}const kM=/(?:Once|Passive|Capture)$/;function $te(t){let e;if(kM.test(t)){e={};let r;for(;r=t.match(kM);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):pp(t.slice(2)),e]}let YS=0;const Ate=Promise.resolve(),Pte=()=>YS||(Ate.then(()=>YS=0),YS=Date.now());function Tte(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Jo(Cte(r,n.value),e,5,[r])};return n.value=t,n.attached=Pte(),n}function Cte(t,e){if(Vt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const OM=/^on[a-z]/,kte=(t,e,n,r,i=!1,s,a,o,l)=>{e==="class"?yte(t,r,i):e==="style"?_te(t,n,r):o1(e)?CP(e)||Ete(t,e,n,r,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ote(t,e,r,i))?Ste(t,e,r,s,a,o,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),wte(t,e,r,i))};function Ote(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&OM.test(e)&&on(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||OM.test(e)&&ni(n)?!1:e in t}const D_=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Vt(e)?n=>qy(e,n):e};function Rte(t){t.target.composing=!0}function RM(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const KP={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t._assign=D_(i);const s=r||i.props&&i.props.type==="number";Nf(t,e?"change":"input",a=>{if(a.target.composing)return;let o=t.value;n&&(o=o.trim()),s&&(o=C_(o)),t._assign(o)}),n&&Nf(t,"change",()=>{t.value=t.value.trim()}),e||(Nf(t,"compositionstart",Rte),Nf(t,"compositionend",RM),Nf(t,"change",RM))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t._assign=D_(s),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(i||t.type==="number")&&C_(t.value)===e))return;const a=e??"";t.value!==a&&(t.value=a)}},Mte={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=l1(e);Nf(t,"change",()=>{const s=Array.prototype.filter.call(t.options,a=>a.selected).map(a=>n?C_(L_(a)):L_(a));t._assign(t.multiple?i?new Set(s):s:s[0])}),t._assign=D_(r)},mounted(t,{value:e}){MM(t,e)},beforeUpdate(t,e,n){t._assign=D_(n)},updated(t,{value:e}){MM(t,e)}};function MM(t,e){const n=t.multiple;if(!(n&&!Vt(e)&&!l1(e))){for(let r=0,i=t.options.length;r<i;r++){const s=t.options[r],a=L_(s);if(n)Vt(e)?s.selected=kZ(e,a)>-1:s.selected=e.has(a);else if(h1(L_(s),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function L_(t){return"_value"in t?t._value:t.value}const Nte=["ctrl","shift","alt","meta"],Ite={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Nte.some(n=>t[`${n}Key`]&&!e.includes(n))},YP=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const s=Ite[e[i]];if(s&&s(n,e))return}return t(n,...r)},Dte={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):om(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),om(t,!0),r.enter(t)):r.leave(t,()=>{om(t,!1)}):om(t,e))},beforeUnmount(t,{value:e}){om(t,e)}};function om(t,e){t.style.display=e?t._vod:"none"}const Lte=Ti({patchProp:kte},vte);let NM;function Fte(){return NM||(NM=Jee(Lte))}const jte=(...t)=>{const e=Fte().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Bte(r);if(!i)return;const s=e._component;!on(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const a=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},e};function Bte(t){return ni(t)?document.querySelector(t):t}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){Qs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_(t){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F_(t)}function Qs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vte(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zte(t,e){if(t==null)return{};var n=Vte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Ute=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zj={exports:{}};(function(t){(function(e){var n=function(y,A,R){if(!u(A)||f(A)||d(A)||v(A)||l(A))return A;var M,$=0,p=0;if(c(A))for(M=[],p=A.length;$<p;$++)M.push(n(y,A[$],R));else{M={};for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(M[y(x,R)]=n(y,A[x],R))}return M},r=function(y,A){A=A||{};var R=A.separator||"_",M=A.split||/(?=[A-Z])/;return y.split(M).join(R)},i=function(y){return _(y)?y:(y=y.replace(/[\-_\s]+(.)?/g,function(A,R){return R?R.toUpperCase():""}),y.substr(0,1).toLowerCase()+y.substr(1))},s=function(y){var A=i(y);return A.substr(0,1).toUpperCase()+A.substr(1)},a=function(y,A){return r(y,A).toLowerCase()},o=Object.prototype.toString,l=function(y){return typeof y=="function"},u=function(y){return y===Object(y)},c=function(y){return o.call(y)=="[object Array]"},f=function(y){return o.call(y)=="[object Date]"},d=function(y){return o.call(y)=="[object RegExp]"},v=function(y){return o.call(y)=="[object Boolean]"},_=function(y){return y=y-0,y===y},S=function(y,A){var R=A&&"process"in A?A.process:A;return typeof R!="function"?y:function(M,$){return R(M,y,$)}},b={camelize:i,decamelize:a,pascalize:s,depascalize:a,camelizeKeys:function(y,A){return n(S(i,A),y)},decamelizeKeys:function(y,A){return n(S(a,A),y,A)},pascalizeKeys:function(y,A){return n(S(s,A),y)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=b:e.humps=b})(Ute)})(zj);var qte=zj.exports,Hte=["class","style"];function Wte(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=qte.camelize(n.slice(0,r)),s=n.slice(r+1).trim();return e[i]=s,e},{})}function Gte(t){return t.split(/\s+/).reduce(function(e,n){return e[n]=!0,e},{})}function Uj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(l){return Uj(l)}),i=Object.keys(t.attributes||{}).reduce(function(l,u){var c=t.attributes[u];switch(u){case"class":l.class=Gte(c);break;case"style":l.style=Wte(c);break;default:l.attrs[u]=c}return l},{attrs:{},class:{},style:{}});n.class;var s=n.style,a=s===void 0?{}:s,o=zte(n,Hte);return Vj(t.tag,wu(wu(wu({},e),{},{class:i.class,style:wu(wu({},i.style),a)},i.attrs),o),r)}var qj=!1;try{qj=!0}catch{}function Kte(){if(!qj&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function JS(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Qs({},t,e):{}}function Yte(t){var e,n=(e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip":t.flip===!0,"fa-flip-horizontal":t.flip==="horizontal"||t.flip==="both","fa-flip-vertical":t.flip==="vertical"||t.flip==="both"},Qs(e,"fa-".concat(t.size),t.size!==null),Qs(e,"fa-rotate-".concat(t.rotation),t.rotation!==null),Qs(e,"fa-pull-".concat(t.pull),t.pull!==null),Qs(e,"fa-swap-opacity",t.swapOpacity),Qs(e,"fa-bounce",t.bounce),Qs(e,"fa-shake",t.shake),Qs(e,"fa-beat",t.beat),Qs(e,"fa-fade",t.fade),Qs(e,"fa-beat-fade",t.beatFade),Qs(e,"fa-flash",t.flash),Qs(e,"fa-spin-pulse",t.spinPulse),Qs(e,"fa-spin-reverse",t.spinReverse),e);return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function DM(t){if(t&&F_(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(GE.icon)return GE.icon(t);if(t===null)return null;if(F_(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}var Jte=In({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(e){return[!0,!1,"horizontal","vertical","both"].indexOf(e)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(e){return["right","left"].indexOf(e)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(e){return[90,180,270].indexOf(Number.parseInt(e,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(e){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(e)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(e,n){var r=n.attrs,i=gi(function(){return DM(e.icon)}),s=gi(function(){return JS("classes",Yte(e))}),a=gi(function(){return JS("transform",typeof e.transform=="string"?GE.transform(e.transform):e.transform)}),o=gi(function(){return JS("mask",DM(e.mask))}),l=gi(function(){return gZ(i.value,wu(wu(wu(wu({},s.value),a.value),o.value),{},{symbol:e.symbol,title:e.title}))});Ta(l,function(c){if(!c)return Kte("Could not find one or more icon(s)",i.value,o.value)},{immediate:!0});var u=gi(function(){return l.value?Uj(l.value.abstract[0],{},r):null});return function(){return u.value}}});class Gn{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Ol.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){let r=[];return this.decompose(e,n,r,0),Ol.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new zm(this),s=new zm(e);for(let a=n,o=n;;){if(i.next(a),s.next(a),a=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new zm(this,e)}iterRange(e,n=this.length){return new Hj(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Wj(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Gn.empty:e.length<=32?new Qr(e):Ol.from(Qr.split(e,[]))}}class Qr extends Gn{constructor(e,n=Xte(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let a=this.text[s],o=i+a.length;if((n?r:o)>=e)return new Qte(i,o,r,a);i=o+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new Qr(LM(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),o=Gy(s.text,a.text.slice(),0,s.length);if(o.length<=32)r.push(new Qr(o,a.length+s.length));else{let l=o.length>>1;r.push(new Qr(o.slice(0,l)),new Qr(o.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof Qr))return super.replace(e,n,r);let i=Gy(this.text,Gy(r.text,LM(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new Qr(i,s):Ol.from(Qr.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,a=0;s<=n&&a<this.text.length;a++){let o=this.text[a],l=s+o.length;s>e&&a&&(i+=r),e<l&&n>s&&(i+=o.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new Qr(r,i)),r=[],i=-1);return i>-1&&n.push(new Qr(r,i)),n}}class Ol extends Gn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let a=this.children[s],o=i+a.length,l=r+a.lines-1;if((n?l:o)>=e)return a.lineInner(e,n,r,i);i=o+1,r=l+1}}decompose(e,n,r,i){for(let s=0,a=0;a<=n&&s<this.children.length;s++){let o=this.children[s],l=a+o.length;if(e<=l&&n>=a){let u=i&((a<=e?1:0)|(l>=n?2:0));a>=e&&l<=n&&!u?r.push(o):o.decompose(e-a,n-a,r,u)}a=l+1}}replace(e,n,r){if(r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let a=this.children[i],o=s+a.length;if(e>=s&&n<=o){let l=a.replace(e-s,n-s,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>5-1&&l.lines>u>>5+1){let c=this.children.slice();return c[i]=l,new Ol(c,this.length-(n-e)+r.length)}return super.replace(s,o,l)}s=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){let i="";for(let s=0,a=0;s<this.children.length&&a<=n;s++){let o=this.children[s],l=a+o.length;a>e&&s&&(i+=r),e<l&&n>a&&(i+=o.sliceString(e-a,n-a,r)),a=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Ol))return 0;let r=0,[i,s,a,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==a||s==o)return r;let l=this.children[i],u=e.children[s];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let v of e)r+=v.lines;if(r<32){let v=[];for(let _ of e)_.flatten(v);return new Qr(v,n)}let i=Math.max(32,r>>5),s=i<<1,a=i>>1,o=[],l=0,u=-1,c=[];function f(v){let _;if(v.lines>s&&v instanceof Ol)for(let S of v.children)f(S);else v.lines>a&&(l>a||!l)?(d(),o.push(v)):v instanceof Qr&&l&&(_=c[c.length-1])instanceof Qr&&v.lines+_.lines<=32?(l+=v.lines,u+=v.length+1,c[c.length-1]=new Qr(_.text.concat(v.text),_.length+1+v.length)):(l+v.lines>i&&d(),l+=v.lines,u+=v.length+1,c.push(v))}function d(){l!=0&&(o.push(c.length==1?c[0]:Ol.from(c,u)),u=-1,l=c.length=0)}for(let v of e)f(v);return d(),o.length==1?o[0]:new Ol(o,n)}}Gn.empty=new Qr([""],0);function Xte(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Gy(t,e,n=0,r=1e9){for(let i=0,s=0,a=!0;s<t.length&&i<=r;s++){let o=t[s],l=i+o.length;l>=n&&(l>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),a?(e[e.length-1]+=o,a=!1):e.push(o)),i=l+1}return e}function LM(t,e,n){return Gy(t,[""],e,n)}class zm{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Qr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],a=s>>1,o=i instanceof Qr?i.text.length:i.children.length;if(a==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Qr){let l=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Qr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Hj{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new zm(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Wj{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Gn.prototype[Symbol.iterator]=function(){return this.iter()},zm.prototype[Symbol.iterator]=Hj.prototype[Symbol.iterator]=Wj.prototype[Symbol.iterator]=function(){return this});let Qte=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}},kd="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<kd.length;t++)kd[t]+=kd[t-1];function Zte(t){for(let e=1;e<kd.length;e+=2)if(kd[e]>t)return kd[e-1]<=t;return!1}function FM(t){return t>=127462&&t<=127487}const jM=8205;function Ms(t,e,n=!0,r=!0){return(n?Gj:ene)(t,e,r)}function Gj(t,e,n){if(e==t.length)return e;e&&Kj(t.charCodeAt(e))&&Yj(t.charCodeAt(e-1))&&e--;let r=ji(t,e);for(e+=ao(r);e<t.length;){let i=ji(t,e);if(r==jM||i==jM||n&&Zte(i))e+=ao(i),r=i;else if(FM(i)){let s=0,a=e-2;for(;a>=0&&FM(ji(t,a));)s++,a-=2;if(s%2==0)break;e+=2}else break}return e}function ene(t,e,n){for(;e>0;){let r=Gj(t,e-2,n);if(r<e)return r;e--}return 0}function Kj(t){return t>=56320&&t<57344}function Yj(t){return t>=55296&&t<56320}function ji(t,e){let n=t.charCodeAt(e);if(!Yj(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Kj(r)?(n-55296<<10)+(r-56320)+65536:n}function JP(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ao(t){return t<65536?1:2}const s$=/\r\n?|\n/;var Rs=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Rs||(Rs={}));class Bl{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,s),i+=s):i+=a,r+=s}}iterChangedRanges(e,n=!1){a$(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Bl(e)}composeDesc(e){return this.empty?e:e.empty?this:Jj(this,e)}mapDesc(e,n=!1){return e.empty?this:o$(this,e,n)}mapPos(e,n=-1,r=Rs.Simple){let i=0,s=0;for(let a=0;a<this.sections.length;){let o=this.sections[a++],l=this.sections[a++],u=i+o;if(l<0){if(u>e)return s+(e-i);s+=o}else{if(r!=Rs.Simple&&u>=e&&(r==Rs.TrackDel&&i<e&&u>e||r==Rs.TrackBefore&&i<e||r==Rs.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!o)return e==i||n<0?s:s+l;s+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],a=this.sections[r++],o=i+s;if(a>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Bl(e)}static create(e){return new Bl(e)}}class mi extends Bl{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return a$(this,(n,r,i,s,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return o$(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let a=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(Gn.empty);r.push(a?e.slice(s,s+a):Gn.empty)}s+=a}return new mi(n,r)}compose(e){return this.empty?e:e.empty?this:Jj(this,e,!0)}map(e,n=!1){return e.empty?this:o$(this,e,n,!0)}iterChanges(e,n=!1){a$(this,e,n)}get desc(){return Bl.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new yg(this);e:for(let a=0,o=0;;){let l=a==e.length?1e9:e[a++];for(;o<l||o==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-o);os(i,c,-1);let f=s.ins==-1?-1:s.off==0?s.ins:0;os(n,c,f),f>0&&_c(r,n,s.text),s.forward(c),o+=c}let u=e[a++];for(;o<u;){if(s.done)break e;let c=Math.min(s.len,u-o);os(n,c,-1),os(i,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),o+=c}}return{changes:new mi(n,r),filtered:Bl.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],a=0,o=null;function l(c=!1){if(!c&&!i.length)return;a<n&&os(i,n-a,-1);let f=new mi(i,s);o=o?o.compose(f.map(o)):f,i=[],s=[],a=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof mi){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),o=o?o.compose(c.map(o)):c}else{let{from:f,to:d=f,insert:v}=c;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let _=v?typeof v=="string"?Gn.of(v.split(r||s$)):v:Gn.empty,S=_.length;if(f==d&&S==0)return;f<a&&l(),f>a&&os(i,f-a,-1),os(i,d-f,S),_c(s,i,_),a=d}}return u(e),l(!o),o}static empty(e){return new mi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((a,o)=>o&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(Gn.empty);r[i]=Gn.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new mi(n,r)}static createSet(e,n){return new mi(e,n)}}function os(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function _c(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Gn.empty);t.push(n)}}function a$(t,e,n){let r=t.inserted;for(let i=0,s=0,a=0;a<t.sections.length;){let o=t.sections[a++],l=t.sections[a++];if(l<0)i+=o,s+=o;else{let u=i,c=s,f=Gn.empty;for(;u+=o,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)o=t.sections[a++],l=t.sections[a++];e(i,u,s,c,f),i=u,s=c}}}function o$(t,e,n,r=!1){let i=[],s=r?[]:null,a=new yg(t),o=new yg(e);for(let l=-1;;)if(a.ins==-1&&o.ins==-1){let u=Math.min(a.len,o.len);os(i,u,-1),a.forward(u),o.forward(u)}else if(o.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(o.len<a.len||o.len==a.len&&!n))){let u=o.len;for(os(i,o.ins,-1);u;){let c=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=c&&(os(i,0,a.ins),s&&_c(s,i,a.text),l=a.i),a.forward(c),u-=c}o.next()}else if(a.ins>=0){let u=0,c=a.len;for(;c;)if(o.ins==-1){let f=Math.min(c,o.len);u+=f,c-=f,o.forward(f)}else if(o.ins==0&&o.len<c)c-=o.len,o.next();else break;os(i,u,l<a.i?a.ins:0),s&&l<a.i&&_c(s,i,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&o.done)return s?mi.createSet(i,s):Bl.create(i);throw new Error("Mismatched change set lengths")}}function Jj(t,e,n=!1){let r=[],i=n?[]:null,s=new yg(t),a=new yg(e);for(let o=!1;;){if(s.done&&a.done)return i?mi.createSet(r,i):Bl.create(r);if(s.ins==0)os(r,s.len,0,o),s.next();else if(a.len==0&&!a.done)os(r,0,a.ins,o),i&&_c(i,r,a.text),a.next();else{if(s.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,a.len),u=r.length;if(s.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;os(r,l,c,o),i&&c&&_c(i,r,a.text)}else a.ins==-1?(os(r,s.off?0:s.len,l,o),i&&_c(i,r,s.textBit(l))):(os(r,s.off?0:s.len,a.off?0:a.ins,o),i&&!a.off&&_c(i,r,a.text));o=(s.ins>l||a.ins>=0&&a.len>l)&&(o||r.length>u),s.forward2(l),a.forward(l)}}}}class yg{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Gn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Gn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Yf{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Yf(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return nt.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return nt.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return nt.range(e.anchor,e.head)}static create(e,n,r){return new Yf(e,n,r)}}class nt{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:nt.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new nt([this.main],0)}addRange(e,n=!0){return nt.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,nt.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new nt(e.ranges.map(n=>Yf.fromJSON(n)),e.main)}static single(e,n=e){return new nt([nt.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return nt.normalized(e.slice(),n);r=s.to}return new nt(e,n)}static cursor(e,n=0,r,i){return Yf.create(e,e,(n==0?0:n<0?4:8)|(r==null?3:Math.min(2,r))|(i??33554431)<<5)}static range(e,n,r,i){let s=(r??33554431)<<5|(i==null?3:Math.min(2,i));return n<e?Yf.create(n,e,24|s):Yf.create(e,n,(n>e?4:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],a=e[i-1];if(s.empty?s.from<=a.to:s.from<a.to){let o=a.from,l=Math.max(s.to,a.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?nt.range(l,o):nt.range(o,l))}}return new nt(e,n)}}function Xj(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let XP=0;class $t{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=XP++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new $t(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:QP),!!e.static,e.enables)}of(e){return new Ky([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ky(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Ky(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function QP(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Ky{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=XP++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,a=e[s]>>1,o=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||c.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||l$(f,c)){let v=r(f);if(o?!BM(v,f.values[a],i):!i(v,f.values[a]))return f.values[a]=v,1}return 0},reconfigure:(f,d)=>{let v,_=d.config.address[s];if(_!=null){let S=B_(d,_);if(this.dependencies.every(b=>b instanceof $t?d.facet(b)===f.facet(b):b instanceof Ki?d.field(b,!1)==f.field(b,!1):!0)||(o?BM(v=r(f),S,i):i(v=r(f),S)))return f.values[a]=S,0}else v=r(f);return f.values[a]=v,1}}}}function BM(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function l$(t,e){let n=!1;for(let r of e)Um(t,r)&1&&(n=!0);return n}function tne(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),a=t[e.id]>>1;function o(l){let u=[];for(let c=0;c<r.length;c++){let f=B_(l,r[c]);if(i[c]==2)for(let d of f)u.push(d);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)Um(l,u);return l.values[a]=o(l),1},update(l,u){if(!l$(l,s))return 0;let c=o(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,u){let c=l$(l,r),f=u.config.facets[e.id],d=u.facet(e);if(f&&!c&&QP(n,f))return l.values[a]=d,0;let v=o(l);return e.compare(v,d)?(l.values[a]=d,0):(l.values[a]=v,1)}}}const VM=$t.define({static:!0});class Ki{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new Ki(XP++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(VM).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],a=this.updateF(s,i);return this.compareF(s,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,VM.of({field:this,create:e})]}get extension(){return this}}const If={lowest:4,low:3,default:2,high:1,highest:0};function lm(t){return e=>new Qj(e,t)}const vp={highest:lm(If.highest),high:lm(If.high),default:lm(If.default),low:lm(If.low),lowest:lm(If.lowest)};class Qj{constructor(e,n){this.inner=e,this.prec=n}}class Xg{of(e){return new u$(this,e)}reconfigure(e){return Xg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class u${constructor(e,n){this.compartment=e,this.inner=n}}class j_{constructor(e,n,r,i,s,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),a=new Map;for(let d of nne(e,n,a))d instanceof Ki?i.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let o=Object.create(null),l=[],u=[];for(let d of i)o[d.id]=u.length<<1,u.push(v=>d.slot(v));let c=r==null?void 0:r.config.facets;for(let d in s){let v=s[d],_=v[0].facet,S=c&&c[d]||[];if(v.every(b=>b.type==0))if(o[_.id]=l.length<<1|1,QP(S,v))l.push(r.facet(_));else{let b=_.combine(v.map(y=>y.value));l.push(r&&_.compare(b,r.facet(_))?r.facet(_):b)}else{for(let b of v)b.type==0?(o[b.id]=l.length<<1|1,l.push(b.value)):(o[b.id]=u.length<<1,u.push(y=>b.dynamicSlot(y)));o[_.id]=u.length<<1,u.push(b=>tne(b,_,v))}}let f=u.map(d=>d(o));return new j_(e,a,f,o,l,s)}}function nne(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(a,o){let l=i.get(a);if(l!=null){if(l<=o)return;let u=r[l].indexOf(a);u>-1&&r[l].splice(u,1),a instanceof u$&&n.delete(a.compartment)}if(i.set(a,o),Array.isArray(a))for(let u of a)s(u,o);else if(a instanceof u$){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;n.set(a.compartment,u),s(u,o)}else if(a instanceof Qj)s(a.inner,a.prec);else if(a instanceof Ki)r[o].push(a),a.provides&&s(a.provides,o);else if(a instanceof Ky)r[o].push(a),a.facet.extensions&&s(a.facet.extensions,If.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,o)}}return s(t,If.default),r.reduce((a,o)=>a.concat(o))}function Um(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function B_(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const Zj=$t.define(),e5=$t.define({combine:t=>t.some(e=>e),static:!0}),t5=$t.define({combine:t=>t.length?t[0]:void 0,static:!0}),n5=$t.define(),r5=$t.define(),i5=$t.define(),s5=$t.define({combine:t=>t.length?t[0]:!1});class Bu{constructor(e,n){this.type=e,this.value=n}static define(){return new rne}}class rne{of(e){return new Bu(this,e)}}class ine{constructor(e){this.map=e}of(e){return new un(this,e)}}class un{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new un(this.type,n)}is(e){return this.type==e}static define(e={}){return new ine(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}un.reconfigure=un.define();un.appendConfig=un.define();class yi{constructor(e,n,r,i,s,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=a,this._doc=null,this._state=null,r&&Xj(r,n.newLength),s.some(o=>o.type==yi.time)||(this.annotations=s.concat(yi.time.of(Date.now())))}static create(e,n,r,i,s,a){return new yi(e,n,r,i,s,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(yi.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}yi.time=Bu.define();yi.userEvent=Bu.define();yi.addToHistory=Bu.define();yi.remote=Bu.define();function sne(t,e){let n=[];for(let r=0,i=0;;){let s,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],a=t[r++];else if(i<e.length)s=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function a5(t,e,n){var r;let i,s,a;return n?(i=e.changes,s=mi.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:un.mapEffects(t.effects,i).concat(un.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function c$(t,e,n){let r=e.selection,i=Od(e.annotations);return e.userEvent&&(i=i.concat(yi.userEvent.of(e.userEvent))),{changes:e.changes instanceof mi?e.changes:mi.of(e.changes||[],n,t.facet(t5)),selection:r&&(r instanceof nt?r:nt.single(r.anchor,r.head)),effects:Od(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function o5(t,e,n){let r=c$(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let a=!!e[s].sequential;r=a5(r,c$(t,e[s],a?r.changes.newLength:t.doc.length),a)}let i=yi.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return one(n?ane(i):i)}function ane(t){let e=t.startState,n=!0;for(let i of e.facet(n5)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:sne(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=mi.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,s=a.filtered.mapDesc(a.changes).invertedDesc}t=yi.create(e,i,t.selection&&t.selection.map(s),un.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(r5);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof yi?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof yi?t=s[0]:t=o5(e,Od(s),!1)}return t}function one(t){let e=t.startState,n=e.facet(i5),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=a5(r,c$(e,s,t.changes.newLength),!0))}return r==t?t:yi.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const lne=[];function Od(t){return t==null?lne:Array.isArray(t)?t:[t]}var Mr=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Mr||(Mr={}));const une=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let f$;try{f$=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function cne(t){if(f$)return f$.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||une.test(n)))return!0}return!1}function fne(t){return e=>{if(!/\S/.test(e))return Mr.Space;if(cne(e))return Mr.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Mr.Word;return Mr.Other}}class Cn{constructor(e,n,r,i,s,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,a&&(a._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Um(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Um(this,r),B_(this,r)}update(...e){return o5(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Xg.reconfigure)?(n&&(i=new Map,n.compartments.forEach((o,l)=>i.set(l,o)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(un.reconfigure)?(n=null,r=a.value):a.is(un.appendConfig)&&(n=null,r=Od(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=j_.resolve(r,i,this),s=new Cn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(o,l)=>l.reconfigure(o,this),null).values),new Cn(n,e.newDoc,e.newSelection,s,(a,o)=>o.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:nt.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],a=Od(r.effects);for(let o=1;o<n.ranges.length;o++){let l=e(n.ranges[o]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<o;d++)s[d]=s[d].map(c);let f=i.mapDesc(u,!0);s.push(l.range.map(f)),i=i.compose(c),a=un.mapEffects(a,c).concat(un.mapEffects(Od(l.effects),f))}return{changes:i,selection:nt.create(s,n.mainIndex),effects:a}}changes(e=[]){return e instanceof mi?e:mi.of(e,this.doc.length,this.facet(Cn.lineSeparator))}toText(e){return Gn.of(e.split(this.facet(Cn.lineSeparator)||s$))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Um(this,n),B_(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Ki&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let a=r[s],o=e[s];i.push(a.init(l=>a.spec.fromJSON(o,l)))}}return Cn.create({doc:e.doc,selection:nt.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=j_.resolve(e.extensions||[],new Map),r=e.doc instanceof Gn?e.doc:Gn.of((e.doc||"").split(n.staticFacet(Cn.lineSeparator)||s$)),i=e.selection?e.selection instanceof nt?e.selection:nt.single(e.selection.anchor,e.selection.head):nt.single(0);return Xj(i,r.length),n.staticFacet(e5)||(i=i.asSingle()),new Cn(n,r,i,n.dynamicSlots.map(()=>null),(s,a)=>a.create(s),null)}get tabSize(){return this.facet(Cn.tabSize)}get lineBreak(){return this.facet(Cn.lineSeparator)||`
`}get readOnly(){return this.facet(s5)}phrase(e,...n){for(let r of this.facet(Cn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(Zj))for(let a of s(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return fne(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),a=e-r,o=e-r;for(;a>0;){let l=Ms(n,a,!1);if(s(n.slice(l,a))!=Mr.Word)break;a=l}for(;o<i;){let l=Ms(n,o);if(s(n.slice(o,l))!=Mr.Word)break;o=l}return a==o?null:nt.range(a+r,o+r)}}Cn.allowMultipleSelections=e5;Cn.tabSize=$t.define({combine:t=>t.length?t[0]:4});Cn.lineSeparator=t5;Cn.readOnly=s5;Cn.phrases=$t.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Cn.languageData=Zj;Cn.changeFilter=n5;Cn.transactionFilter=r5;Cn.transactionExtender=i5;Xg.reconfigure=un.define();function Kl(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let a=i[s],o=r[s];if(o===void 0)r[s]=a;else if(!(o===a||a===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](o,a);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class lh{eq(e){return this==e}range(e,n=e){return h$.create(e,n,this)}}lh.prototype.startSide=lh.prototype.endSide=0;lh.prototype.point=!1;lh.prototype.mapMode=Rs.TrackDel;let h$=class l5{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new l5(e,n,r)}};function d$(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class ZP{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let a=i,o=s.length;;){if(a==o)return a;let l=a+o>>1,u=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return u>=0?a:o;u>=0?o=l:a=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,s);s<a;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],a=-1,o=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d,v;if(c==f){let _=n.mapPos(c,u.startSide,u.mapMode);if(_==null||(d=v=_,u.startSide!=u.endSide&&(v=n.mapPos(c,u.endSide),v<d)))continue}else if(d=n.mapPos(c,u.startSide),v=n.mapPos(f,u.endSide),d>v||d==v&&u.startSide>0&&u.endSide<=0)continue;(v-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(o=Math.max(o,v-d)),r.push(u),i.push(d-a),s.push(v-a))}return{mapped:r.length?new ZP(i,s,r,o):null,pos:a}}}class tr{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new tr(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(d$)),this.isEmpty)return n.length?tr.of(n):this;let o=new u5(this,null,-1).goto(0),l=0,u=[],c=new Vc;for(;o.value||l<n.length;)if(l<n.length&&(o.from-n[l].from||o.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(o.chunkIndex)<n[l].from)&&(!a||i>this.chunkEnd(o.chunkIndex)||s<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!a||i>o.to||s<o.from||a(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||u.push(h$.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?tr.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let o=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(o,o+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(o));else if(u===!0){let{mapped:c,pos:f}=l.map(o,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let s=this.nextLayer.map(e);return n.length==0?s:new tr(r,n,s||tr.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],a=this.chunk[i];if(n>=s&&e<=s+a.length&&a.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return _g.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return _g.from(e).goto(n)}static compare(e,n,r,i,s=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),o=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=s),l=zM(a,o,r),u=new um(a,l,s),c=new um(o,l,s);r.iterGaps((f,d,v)=>UM(u,f,c,d,v,i)),r.empty&&r.length==0&&UM(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=1e9-1);let s=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),a=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=a.length)return!1;if(!s.length)return!0;let o=zM(s,a),l=new um(s,o,0).goto(r),u=new um(a,o,0).goto(r);for(;;){if(l.to!=u.to||!p$(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,s=-1){let a=new um(e,null,s).goto(n),o=n,l=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let c=a.activeForPoint(a.to),f=a.pointFrom<n?c.length+1:Math.min(c.length,l);i.point(o,u,a.point,c,f,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>o&&(i.span(o,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);o=a.to,a.next()}}static of(e,n=!1){let r=new Vc;for(let i of e instanceof h$?[e]:n?hne(e):e)r.add(i.from,i.to,i.value);return r.finish()}}tr.empty=new tr([],[],null,-1);function hne(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(d$(e,r)>0)return t.slice().sort(d$);e=r}return t}tr.empty.nextLayer=tr.empty;class Vc{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new ZP(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Vc)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(tr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=tr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function zM(t,e,n){let r=new Map;for(let s of t)for(let a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&r.set(s.chunk[a],s.chunkPos[a]);let i=new Set;for(let s of e)for(let a=0;a<s.chunk.length;a++){let o=r.get(s.chunk[a]);o!=null&&(n?n.mapPos(o):o)==s.chunkPos[a]&&!(n!=null&&n.touchesRange(o,o+s.chunk[a].length))&&i.add(s.chunk[a])}return i}class u5{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class _g{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let a=e[s];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new u5(a,n,r,s));return i.length==1?i[0]:new _g(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)XS(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)XS(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),XS(this.heap,0)}}}function XS(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class um{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=_g.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){M0(this.active,e),M0(this.activeTo,e),M0(this.activeRank,e),this.minActive=qM(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=s;)n++;N0(this.active,n,r),N0(this.activeTo,n,i),N0(this.activeRank,n,s),e&&N0(e,n,this.cursor.from),this.minActive=qM(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&M0(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function UM(t,e,n,r,i,s){t.goto(e),n.goto(r);let a=r+i,o=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,f=Math.min(c,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&p$(t.activeForPoint(t.to+l),n.activeForPoint(n.to))||s.comparePoint(o,f,t.point,n.point):f>o&&!p$(t.active,n.active)&&s.compareRange(o,f,t.active,n.active),c>a)break;o=c,u<=0&&t.next(),u>=0&&n.next()}}function p$(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function M0(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function N0(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function qM(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Qg(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Ms(t,i));return r}function m$(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=Ms(t,i)}return r===!0?-1:t.length}const g$="",HM=typeof Symbol>"u"?"__"+g$:Symbol.for(g$),v$=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),WM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class zc{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function s(a,o,l,u){let c=[],f=/^@(\w+)\b/.exec(a[0]),d=f&&f[1]=="keyframes";if(f&&o==null)return l.push(a[0]+";");for(let v in o){let _=o[v];if(/&/.test(v))s(v.split(/,\s*/).map(S=>a.map(b=>S.replace(/&/,b))).reduce((S,b)=>S.concat(b)),_,l);else if(_&&typeof _=="object"){if(!f)throw new RangeError("The value of a property ("+v+") should be a primitive value.");s(i(v),_,c,d)}else _!=null&&c.push(v.replace(/_.*/,"").replace(/[A-Z]/g,S=>"-"+S.toLowerCase())+": "+_+";")}(c.length||d)&&l.push((r&&!f&&!u?a.map(r):a).join(", ")+" {"+c.join(" ")+"}")}for(let a in e)s(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=WM[HM]||1;return WM[HM]=e+1,g$+e.toString(36)}static mount(e,n){(e[v$]||new dne(e)).mount(Array.isArray(n)?n:[n])}}let GM=new Map;class dne{constructor(e){let n=e.ownerDocument||e,r=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&r.CSSStyleSheet){let i=GM.get(n);if(i)return e.adoptedStyleSheets=[i.sheet,...e.adoptedStyleSheets],e[v$]=i;this.sheet=new r.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],GM.set(n,this)}else{this.styleTag=n.createElement("style");let i=e.head||e;i.insertBefore(this.styleTag,i.firstChild)}this.modules=[],e[v$]=this}mount(e){let n=this.sheet,r=0,i=0;for(let s=0;s<e.length;s++){let a=e[s],o=this.modules.indexOf(a);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),o==-1){if(this.modules.splice(i++,0,a),n)for(let l=0;l<a.rules.length;l++)n.insertRule(a.rules[l],r++)}else{for(;i<o;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!n){let s="";for(let a=0;a<this.modules.length;a++)s+=this.modules[a].getRules()+`
`;this.styleTag.textContent=s}}}var Uc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},KM=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),pne=typeof navigator<"u"&&/Mac/.test(navigator.platform),mne=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),gne=pne||KM&&+KM[1]<57;for(var Bi=0;Bi<10;Bi++)Uc[48+Bi]=Uc[96+Bi]=String(Bi);for(var Bi=1;Bi<=24;Bi++)Uc[Bi+111]="F"+Bi;for(var Bi=65;Bi<=90;Bi++)Uc[Bi]=String.fromCharCode(Bi+32),bg[Bi]=String.fromCharCode(Bi);for(var QS in Uc)bg.hasOwnProperty(QS)||(bg[QS]=Uc[QS]);function vne(t){var e=gne&&(t.ctrlKey||t.altKey||t.metaKey)||mne&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?bg:Uc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function V_(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Xd(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function yne(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Yy(t,e){if(!e.anchorNode)return!1;try{return Xd(t,e.anchorNode)}catch{return!1}}function Qd(t){return t.nodeType==3?Zd(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function z_(t,e,n,r){return n?YM(t,e,n,r,-1)||YM(t,e,n,r,1):!1}function U_(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function YM(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:qc(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=U_(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?qc(t):0}else return!1}}function qc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $1(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function _ne(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function bne(t,e,n,r,i,s,a,o){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t;c;)if(c.nodeType==1){let f,d=c==l.body;if(d)f=_ne(u);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let S=c.getBoundingClientRect();f={left:S.left,right:S.left+c.clientWidth,top:S.top,bottom:S.top+c.clientHeight}}let v=0,_=0;if(i=="nearest")e.top<f.top?(_=-(f.top-e.top+a),n>0&&e.bottom>f.bottom+_&&(_=e.bottom-f.bottom+_+a)):e.bottom>f.bottom&&(_=e.bottom-f.bottom+a,n<0&&e.top-_<f.top&&(_=-(f.top+_-e.top+a)));else{let S=e.bottom-e.top,b=f.bottom-f.top;_=(i=="center"&&S<=b?e.top+S/2-b/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-b+a)-f.top}if(r=="nearest"?e.left<f.left?(v=-(f.left-e.left+s),n>0&&e.right>f.right+v&&(v=e.right-f.right+v+s)):e.right>f.right&&(v=e.right-f.right+s,n<0&&e.left<f.left+v&&(v=-(f.left+v-e.left+s))):v=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==o?e.left-s:e.right-(f.right-f.left)+s)-f.left,v||_)if(d)u.scrollBy(v,_);else{let S=0,b=0;if(_){let y=c.scrollTop;c.scrollTop+=_,b=c.scrollTop-y}if(v){let y=c.scrollLeft;c.scrollLeft+=v,S=c.scrollLeft-y}e={left:e.left-S,top:e.top-b,right:e.right-S,bottom:e.bottom-b},S&&Math.abs(S-v)<1&&(r="nearest"),b&&Math.abs(b-_)<1&&(i="nearest")}if(d)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function wne(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class Sne{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?qc(n):0),r,Math.min(e.focusOffset,r?qc(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let Yh=null;function c5(t){if(t.setActive)return t.setActive();if(Yh)return t.focus(Yh);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(Yh==null?{get preventScroll(){return Yh={preventScroll:!0},!0}}:void 0),!Yh){Yh=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let JM;function Zd(t,e,n=e){let r=JM||(JM=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Rd(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let s=new KeyboardEvent("keyup",r);return s.synthetic=!0,t.dispatchEvent(s),i.defaultPrevented||s.defaultPrevented}function xne(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function f5(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Ene(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,qc(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=qc(n))}else{if(n==t)return!0;r=U_(n),n=n.parentNode}}class Wi{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Wi(e.parentNode,U_(e),n)}static after(e,n){return new Wi(e.parentNode,U_(e)+1,n)}}const e2=[];class vr{constructor(){this.parent=null,this.dom=null,this.dirty=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.dirty&2){let r=this.dom,i=null,s;for(let a of this.children){if(a.dirty){if(!a.dom&&(s=i?i.nextSibling:r.firstChild)){let o=vr.get(s);(!o||!o.parent&&o.canReuseDOM(a))&&a.reuseDOM(s)}a.sync(e,n),a.dirty=0}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=a.dom&&(n.written=!0),a.dom.parentNode==r)for(;s&&s!=a.dom;)s=XM(s);else r.insertBefore(a.dom,s);i=a.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=XM(s)}else if(this.dirty&1)for(let r of this.children)r.dirty&&(r.sync(e,n),r.dirty=0)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=qc(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!vr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let a=this.children[i];if(a.dom==r)return s;s+=a.length+a.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,a=-1,o=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],d=u+f.length;if(u<e&&d>n)return f.domBoundsAround(e,n,u);if(d>=e&&i==-1&&(i=l,s=u),u>n&&f.dom.parentNode==this.dom){a=l,o=c;break}c=d,u=d+f.breakAfter}return{from:s,to:o<0?r+this.length:o,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.dirty|=2),n.dirty&1)return;n.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=e2){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&s.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new h5(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor}getSide(){return 0}destroy(){this.parent=null}}vr.prototype.breakAfter=0;function XM(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class h5{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function d5(t,e,n,r,i,s,a,o,l){let{children:u}=t,c=u.length?u[e]:null,f=s.length?s[s.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&c&&!a&&!d&&s.length<2&&c.merge(n,i,s.length?f:null,n==0,o,l))){if(r<u.length){let v=u[r];v&&i<v.length?(e==r&&(v=v.split(i),i=0),!d&&f&&v.merge(0,i,f,!0,0,l)?s[s.length-1]=v:(i&&v.merge(0,i,null,!1,0,l),s.push(v))):v!=null&&v.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&s.length&&c.merge(n,c.length,s[0],!1,o,0)?c.breakAfter=s.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,o,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:o;else if(u[e].become(s[0]))e++,s.shift(),o=s.length?0:l;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,o,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function p5(t,e,n,r,i,s){let a=t.childCursor(),{i:o,off:l}=a.findPos(n,1),{i:u,off:c}=a.findPos(e,-1),f=e-n;for(let d of r)f+=d.length;t.length+=f,d5(t,u,c,o,l,r,0,i,s)}let Ra=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},y$=typeof document<"u"?document:{documentElement:{style:{}}};const _$=/Edge\/(\d+)/.exec(Ra.userAgent),m5=/MSIE \d/.test(Ra.userAgent),b$=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ra.userAgent),A1=!!(m5||b$||_$),QM=!A1&&/gecko\/(\d+)/i.test(Ra.userAgent),ZS=!A1&&/Chrome\/(\d+)/.exec(Ra.userAgent),ZM="webkitFontSmoothing"in y$.documentElement.style,g5=!A1&&/Apple Computer/.test(Ra.vendor),eN=g5&&(/Mobile\/\w+/.test(Ra.userAgent)||Ra.maxTouchPoints>2);var Et={mac:eN||/Mac/.test(Ra.platform),windows:/Win/.test(Ra.platform),linux:/Linux|X11/.test(Ra.platform),ie:A1,ie_version:m5?y$.documentMode||6:b$?+b$[1]:_$?+_$[1]:0,gecko:QM,gecko_version:QM?+(/Firefox\/(\d+)/.exec(Ra.userAgent)||[0,0])[1]:0,chrome:!!ZS,chrome_version:ZS?+ZS[1]:0,ios:eN,android:/Android\b/.test(Ra.userAgent),webkit:ZM,safari:g5,webkit_version:ZM?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:y$.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const $ne=256;class uh extends vr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return r&&(!(r instanceof uh)||this.length-(n-e)+r.length>$ne)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new uh(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Wi(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return w$(this.dom,e,n)}}class Iu extends vr{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(f5(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e,n){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,a){return r&&(!(r instanceof Iu&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&a<=0)?!1:(p5(this,e,n,r?r.children:[],s-1,a-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let o of this.children){let l=r+o.length;l>e&&n.push(r<e?o.split(e-r):o),i<0&&r>=e&&(i=s),r=l,s++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Iu(this.mark,n,a)}domAtPos(e){return w5(this,e)}coordsAt(e,n){return x5(this,e,n)}}function w$(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,a=0;e==0&&n<0||e==r&&n>=0?Et.chrome||Et.gecko||(e?(i--,a=1):s<r&&(s++,a=-1)):n<0?i--:s<r&&s++;let o=Zd(t,i,s).getClientRects();if(!o.length)return null;let l=o[(a?a<0:n>=0)?0:o.length-1];return Et.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(o,u=>u.width)||l),a?$1(l,a<0):l||null}class bc extends vr{static create(e,n,r){return new(e.customView||bc)(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=bc.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,n,r,i,s,a){return r&&(!(r instanceof bc)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof bc&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Gn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Gn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Wi.before(this.dom):Wi.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;for(let a=e>0?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=e>0?-1:1);return this.length?s:$1(s,this.side>0)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class v5 extends bc{domAtPos(e){let{topView:n,text:r}=this.widget;return n?S$(e,0,n,r,this.length-n.length,(i,s)=>i.domAtPos(s),(i,s)=>new Wi(i,Math.min(s,i.nodeValue.length))):new Wi(r,Math.min(e,r.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,n){let{topView:r,text:i}=this.widget;return r?_5(e,n,r,i,this.length-r.length):Math.min(n,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,n){let{topView:r,text:i}=this.widget;return r?S$(e,n,r,i,this.length-r.length,(s,a,o)=>s.coordsAt(a,o),(s,a,o)=>w$(s,a,o)):w$(i,e,n)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}canReuseDOM(){return!0}}function S$(t,e,n,r,i,s,a){if(n instanceof Iu){for(let o=n.dom.firstChild;o;o=o.nextSibling){let l=vr.get(o);if(l){let u=Xd(o,r),c=l.length+(u?i:0);if(t<c||t==c&&l.getSide()<=0)return u?S$(t,e,l,r,i,s,a):s(l,t,e);t-=c}else{let u=y5(t,e,o,a);if(typeof u!="number")return u;t=u}}return s(n,n.length,-1)}else return n.dom==r?a(r,t,e):s(n,t,e)}function y5(t,e,n,r){if(n.nodeType==3){let i=n.nodeValue.length;if(t<=i)return r(n,t,e);t-=i}else if(n.nodeType==1&&n.contentEditable!="false")for(let i=n.firstChild;i;i=i.nextSibling){let s=y5(t,e,i,r);if(typeof s!="number")return s;t=s}return t}function _5(t,e,n,r,i){if(n instanceof Iu){let s=0;for(let a=n.dom.firstChild;a;a=a.nextSibling){let o=vr.get(a);if(o){let l=Xd(a,r);if(Xd(a,t))return s+(l?_5(t,e,o,r,i):o.localPosFromDOM(t,e));s+=o.length+(l?i:0)}else{let l=b5(t,e,a);if(l.result!=null)return s+l.result;s+=l.size}}}else if(n.dom==r)return Math.min(e,r.nodeValue.length);return n.localPosFromDOM(t,e)}function b5(t,e,n){if(n.nodeType==3)return t==n?{result:e}:{size:n.nodeValue.length};if(n.nodeType==1&&n.contentEditable!="false"){let r=0;for(let i=n.firstChild,s=0;;i=i.nextSibling,s++){if(t==n&&s==e)return{result:r};if(!i)return{size:r};let a=b5(t,e,i);if(a.result!=null)return{result:e+a.result};r+=a.size}}else return n.contains(t)?{result:0}:{size:0}}class ep extends vr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof ep&&e.side==this.side}split(){return new ep(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Wi.before(this.dom):Wi.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Gn.empty}get isHidden(){return!0}}uh.prototype.children=bc.prototype.children=ep.prototype.children=e2;function w5(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let a=r[i],o=s+a.length;if(!(o==s&&a.getSide()<=0)){if(e>s&&e<o&&a.dom.parentNode==n)return a.domAtPos(e-s);if(e<=s)break;s=o}}for(let s=i;s>0;s--){let a=r[s-1];if(a.dom.parentNode==n)return a.domAtPos(a.length)}for(let s=i;s<r.length;s++){let a=r[s];if(a.dom.parentNode==n)return a.domAtPos(0)}return new Wi(n,0)}function S5(t,e,n){let r,{children:i}=t;n>0&&e instanceof Iu&&i.length&&(r=i[i.length-1])instanceof Iu&&r.mark.eq(e.mark)?S5(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function x5(t,e,n){let r=null,i=-1,s=null,a=-1;function o(u,c){for(let f=0,d=0;f<u.children.length&&d<=c;f++){let v=u.children[f],_=d+v.length;_>=c&&(v.children.length?o(v,c-d):(!s||s.isHidden&&n>0)&&(_>c||d==_&&v.getSide()>0)?(s=v,a=c-d):(d<c||d==_&&v.getSide()<0&&!v.isHidden)&&(r=v,i=c-d)),d=_}}o(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:a),n):Ane(t)}function Ane(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Qd(e);return n[n.length-1]||null}function x$(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}function t2(t,e){if(t==e)return!0;if(!t||!e)return!1;let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i of n)if(r.indexOf(i)==-1||t[i]!==e[i])return!1;return!0}function E$(t,e,n){let r=null;if(e)for(let i in e)n&&i in n||t.removeAttribute(r=i);if(n)for(let i in n)e&&e[i]==n[i]||t.setAttribute(r=i,n[i]);return!!r}class Vu{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get customView(){return null}get isHidden(){return!1}destroy(e){}}var zr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(zr||(zr={}));class It extends lh{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new P1(e)}static widget(e){let n=e.side||0,r=!!e.block;return n+=r?n>0?3e8:-4e8:n>0?1e8:-1e8,new ch(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:a}=E5(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new ch(e,r,i,n,e.widget||null,!0)}static line(e){return new Zg(e)}static set(e,n=!1){return tr.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}It.none=tr.empty;class P1 extends It{constructor(e){let{start:n,end:r}=E5(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof P1&&this.tagName==e.tagName&&this.class==e.class&&t2(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}P1.prototype.point=!1;class Zg extends It{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Zg&&this.spec.class==e.spec.class&&t2(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Zg.prototype.mapMode=Rs.TrackBefore;Zg.prototype.point=!0;class ch extends It{constructor(e,n,r,i,s,a){super(n,r,s,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?Rs.TrackBefore:Rs.TrackAfter:Rs.TrackDel}get type(){return this.startSide<this.endSide?zr.WidgetRange:this.startSide<=0?zr.WidgetBefore:zr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof ch&&Pne(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}ch.prototype.point=!0;function E5(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Pne(t,e){return t==e||!!(t&&e&&t.compare(e))}function $$(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Ns extends vr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,a){if(r){if(!(r instanceof Ns))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),p5(this,e,n,r?r.children:[],s,a),!0}split(e){let n=new Ns;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){t2(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){S5(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=x$(n,this.attrs||{})),r&&(this.attrs=x$({class:r},this.attrs||{}))}domAtPos(e){return w5(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e,n){var r;this.dom?this.dirty&4&&(f5(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(E$(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&vr.get(i)instanceof Iu;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=vr.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Et.ios||!this.children.some(s=>s instanceof uh))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof uh)||/[^ -~]/.test(r.text))return null;let i=Qd(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=x5(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let a=(s-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}get type(){return zr.Text}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],a=i+s.length;if(a>=n){if(s instanceof Ns)return s;if(a>n)break}i=a+s.breakAfter}return null}}class nh extends vr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.type=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,a){return r&&(!(r instanceof nh)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Wi.before(this.dom):Wi.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new nh(this.widget,n,this.type);return r.breakAfter=this.breakAfter,r}get children(){return e2}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Gn.empty}domBoundsAround(){return null}become(e){return e instanceof nh&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.type=e.type,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class n2{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof nh&&e.type==zr.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new Ns),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(I0(new ep(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:a,done:o}=this.cursor.next(this.skip);if(this.skip=0,o)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(I0(new uh(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,a){if(this.disallowBlockEffectsFor[a]&&r instanceof ch){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=n-e;if(r instanceof ch)if(r.block){let{type:l}=r;l==zr.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new nh(r.widget||new tN("div"),o,l))}else{let l=bc.create(r.widget||new tN("span"),o,o?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(I0(new ep(1),i),s),s=i.length+Math.max(0,s-i.length)),f.append(I0(l,i),s),this.atCursorPos=c,this.pendingBuffer=c?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let a=new n2(e,n,r,s);return a.openEnd=tr.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function I0(t,e){for(let n of e)t=new Iu(n,[t],t.length);return t}class tN extends Vu{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}const $5=$t.define(),A5=$t.define(),P5=$t.define(),T5=$t.define(),A$=$t.define(),C5=$t.define(),k5=$t.define(),O5=$t.define({combine:t=>t.some(e=>e)}),R5=$t.define({combine:t=>t.some(e=>e)});class q_{constructor(e,n="nearest",r="nearest",i=5,s=5){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s}map(e){return e.empty?this:new q_(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const nN=un.define({map:(t,e)=>t.map(e)});function fo(t,e,n){let r=t.facet(T5);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const T1=$t.define({combine:t=>t.length?t[0]:!0});let Tne=0;const Tm=$t.define();class ui{constructor(e,n,r,i){this.id=e,this.create=n,this.domEventHandlers=r,this.extension=i(this)}static define(e,n){const{eventHandlers:r,provide:i,decorations:s}=n||{};return new ui(Tne++,e,r,a=>{let o=[Tm.of(a)];return s&&o.push(wg.of(l=>{let u=l.plugin(a);return u?s(u):It.none})),i&&o.push(i(a)),o})}static fromClass(e,n){return ui.define(r=>new e(r),n)}}class ex{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(fo(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){fo(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){fo(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const M5=$t.define(),r2=$t.define(),wg=$t.define(),i2=$t.define(),N5=$t.define();function I5(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(N5)){let a=s(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Cm=$t.define();class Vl{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Vl(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,a=0,o=0;;i++){let l=i==e.length?null:e[i],u=a-o,c=l?l.fromB:1e9;for(;s<n.length&&n[s]<c;){let f=n[s],d=n[s+1],v=Math.max(o,f),_=Math.min(c,d);if(v<=_&&new Vl(v+u,_+u,v,_).addToSet(r),d>c)break;s+=2}if(!l)return r;new Vl(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,o=l.toB}}}class H_{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=mi.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,a,o,l)=>i.push(new Vl(s,a,o,l))),this.changedRanges=i}static create(e,n,r){return new H_(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var Dr=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Dr||(Dr={}));const P$=Dr.LTR,Cne=Dr.RTL;function D5(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const kne=D5("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),One=D5("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),T$=Object.create(null),wl=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);T$[e]=n,T$[n]=-e}function Rne(t){return t<=247?kne[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?One[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8203?256:64336<=t&&t<=65023?4:t==8204?256:1}const Mne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Md{get dir(){return this.level%2?Cne:P$}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}static find(e,n,r,i){let s=-1;for(let a=0;a<e.length;a++){let o=e[a];if(o.from<=n&&o.to>=n){if(o.level==r)return a;(s<0||(i!=0?i<0?o.from<n:o.to>n:e[s].level>o.level))&&(s=a)}}if(s<0)throw new RangeError("Index out of range");return s}}const Ir=[];function Nne(t,e){let n=t.length,r=e==P$?1:2,i=e==P$?2:1;if(!t||r==1&&!Mne.test(t))return L5(n);for(let a=0,o=r,l=r;a<n;a++){let u=Rne(t.charCodeAt(a));u==512?u=o:u==8&&l==4&&(u=16),Ir[a]=u==4?2:u,u&7&&(l=u),o=u}for(let a=0,o=r,l=r;a<n;a++){let u=Ir[a];if(u==128)a<n-1&&o==Ir[a+1]&&o&24?u=Ir[a]=o:Ir[a]=256;else if(u==64){let c=a+1;for(;c<n&&Ir[c]==64;)c++;let f=a&&o==8||c<n&&Ir[c]==8?l==1?1:8:256;for(let d=a;d<c;d++)Ir[d]=f;a=c-1}else u==8&&l==1&&(Ir[a]=1);o=u,u&7&&(l=u)}for(let a=0,o=0,l=0,u,c,f;a<n;a++)if(c=T$[u=t.charCodeAt(a)])if(c<0){for(let d=o-3;d>=0;d-=3)if(wl[d+1]==-c){let v=wl[d+2],_=v&2?r:v&4?v&1?i:r:0;_&&(Ir[a]=Ir[wl[d]]=_),o=d;break}}else{if(wl.length==189)break;wl[o++]=a,wl[o++]=u,wl[o++]=l}else if((f=Ir[a])==2||f==1){let d=f==r;l=d?0:1;for(let v=o-3;v>=0;v-=3){let _=wl[v+2];if(_&2)break;if(d)wl[v+2]|=2;else{if(_&4)break;wl[v+2]|=4}}}for(let a=0;a<n;a++)if(Ir[a]==256){let o=a+1;for(;o<n&&Ir[o]==256;)o++;let l=(a?Ir[a-1]:r)==1,u=(o<n?Ir[o]:r)==1,c=l==u?l?1:2:r;for(let f=a;f<o;f++)Ir[f]=c;a=o-1}let s=[];if(r==1)for(let a=0;a<n;){let o=a,l=Ir[a++]!=1;for(;a<n&&l==(Ir[a]!=1);)a++;if(l)for(let u=a;u>o;){let c=u,f=Ir[--u]!=2;for(;u>o&&f==(Ir[u-1]!=2);)u--;s.push(new Md(u,c,f?2:1))}else s.push(new Md(o,a,0))}else for(let a=0;a<n;){let o=a,l=Ir[a++]==2;for(;a<n&&l==(Ir[a]==2);)a++;s.push(new Md(o,a,l?1:2))}return s}function L5(t){return[new Md(0,t,0)]}let F5="";function Ine(t,e,n,r,i){var s;let a=r.head-t.from,o=-1;if(a==0){if(!i||!t.length)return null;e[0].level!=n&&(a=e[0].side(!1,n),o=0)}else if(a==t.length){if(i)return null;let d=e[e.length-1];d.level!=n&&(a=d.side(!0,n),o=e.length-1)}o<0&&(o=Md.find(e,a,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc));let l=e[o];a==l.side(i,n)&&(l=e[o+=i?1:-1],a=l.side(!i,n));let u=i==(l.dir==n),c=Ms(t.text,a,u);if(F5=t.text.slice(Math.min(a,c),Math.max(a,c)),c!=l.side(i,n))return nt.cursor(c+t.from,u?-1:1,l.level);let f=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return!f&&l.level!=n?nt.cursor(i?t.to:t.from,i?-1:1,n):f&&f.level<l.level?nt.cursor(f.side(!i,n)+t.from,i?1:-1,f.level):nt.cursor(c+t.from,i?-1:1,l.level)}const yd="";class j5{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(Cn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=yd}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==n)break;let o=vr.get(i),l=vr.get(a);(o&&l?o.breakAfter:(o?o.breakAfter:rN(i))||rN(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,a=1,o;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(o=i.exec(n))&&(s=o.index,a=o[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);r=s+a}}readNode(e){if(e.cmIgnore)return;let n=vr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+Math.min(n,r.offset))}}function rN(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class iN{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class sN extends vr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.compositionDeco=It.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Ns],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Vl(0,0,0,e.state.doc.length)],0)}update(e){let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:a,toA:o})=>o<this.minWidthFrom||a>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=It.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Lne(this.view,e.changes)),(Et.ie||Et.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let r=this.decorations,i=this.updateDeco(),s=Vne(r,i,e.changes);return n=Vl.extendWithRanges(n,s),this.dirty==0&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n);let{observer:r}=this.view;r.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Et.chrome||Et.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.dirty=0,s&&(s.written||r.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof nh&&s.widget instanceof aN&&i.push(s.dom);r.updateGaps(i)}updateChildren(e,n){let r=this.childCursor(n);for(let i=e.length-1;;i--){let s=i>=0?e[i]:null;if(!s)break;let{fromA:a,toA:o,fromB:l,toB:u}=s,{content:c,breakAtStart:f,openStart:d,openEnd:v}=n2.build(this.view.state.doc,l,u,this.decorations,this.dynamicDecorationMap),{i:_,off:S}=r.findPos(o,1),{i:b,off:y}=r.findPos(a,-1);d5(this,b,y,_,S,c,f,d,v)}}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&Yy(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let a=this.forceSelection;this.forceSelection=!1;let o=this.view.state.selection.main,l=this.domAtPos(o.anchor),u=o.empty?l:this.domAtPos(o.head);if(Et.gecko&&o.empty&&!this.compositionDeco.size&&Dne(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new Wi(f,0),a=!0}let c=this.view.observer.selectionRange;(a||!c.focusNode||!z_(l.node,l.offset,c.anchorNode,c.anchorOffset)||!z_(u.node,u.offset,c.focusNode,c.focusOffset))&&(this.view.observer.ignore(()=>{Et.android&&Et.chrome&&this.dom.contains(c.focusNode)&&zne(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=V_(this.view.root);if(f)if(o.empty){if(Et.gecko){let d=jne(l.node,l.offset);if(d&&d!=3){let v=V5(l.node,l.offset,d==1?1:-1);v&&(l=new Wi(v,d==1?0:v.nodeValue.length))}}f.collapse(l.node,l.offset),o.bidiLevel!=null&&c.cursorBidiLevel!=null&&(c.cursorBidiLevel=o.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();o.anchor>o.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new Wi(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new Wi(c.focusNode,c.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let{view:e}=this,n=e.state.selection.main,r=V_(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=Ns.find(this,n.head);if(!a)return;let o=a.posAtStart;if(n.head==o||n.head==o+a.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,s)}nearest(e){for(let n=e;n;){let r=vr.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Ns)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){for(let r=this.length,i=this.children.length-1;;i--){let s=this.children[i],a=r-s.breakAfter-s.length;if(e>a||e==a&&s.type!=zr.WidgetBefore&&s.type!=zr.WidgetAfter&&(!i||n==2||this.children[i-1].breakAfter||this.children[i-1].type==zr.WidgetBefore&&n>-2))return s.coordsAt(e-a,n);r=a}}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,a=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,l=this.view.textDirection==Dr.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],d=u+f.length;if(d>i)break;if(u>=r){let v=f.dom.getBoundingClientRect();if(n.push(v.height),a){let _=f.dom.lastChild,S=_?Qd(_):[];if(S.length){let b=S[S.length-1],y=l?b.right-v.left:v.right-b.left;y>o&&(o=y,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Dr.RTL:Dr.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Ns){let a=s.measureTextSize();if(a)return a}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Qd(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new h5(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],a=s?s.from-1:this.length;if(a>r){let o=n.lineBlockAt(a).bottom-n.lineBlockAt(r).top;e.push(It.replace({widget:new aN(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!s)break;r=s.to+1}return It.set(e)}updateDeco(){let e=this.view.state.facet(wg).map((n,r)=>(this.dynamicDecorationMap[r]=typeof n=="function")?n(this.view):n);for(let n=e.length;n<e.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=I5(this.view),a={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom};bne(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==Dr.LTR)}}function Dne(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class aN extends Vu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function B5(t){let e=t.observer.selectionRange,n=e.focusNode&&V5(e.focusNode,e.focusOffset,0);if(!n)return null;let r=t.docView.nearest(n);if(!r)return null;if(r instanceof Ns){let i=n;for(;i.parentNode!=r.dom;)i=i.parentNode;let s=i.previousSibling;for(;s&&!vr.get(s);)s=s.previousSibling;let a=s?vr.get(s).posAtEnd:r.posAtStart;return{from:a,to:a,node:i,text:n}}else{for(;;){let{parent:s}=r;if(!s)return null;if(s instanceof Ns)break;r=s}let i=r.posAtStart;return{from:i,to:i+r.length,node:r.dom,text:n}}}function Lne(t,e){let n=B5(t);if(!n)return It.none;let{from:r,to:i,node:s,text:a}=n,o=e.mapPos(r,1),l=Math.max(o,e.mapPos(i,-1)),{state:u}=t,c=s.nodeType==3?s.nodeValue:new j5([],u).readRange(s.firstChild,null).text;if(c.indexOf(yd)>-1)return It.none;if(l-o<c.length)if(u.doc.sliceString(o,Math.min(u.doc.length,o+c.length))==c)l=o+c.length;else if(u.doc.sliceString(Math.max(0,l-c.length),l)==c)o=l-c.length;else return It.none;else if(u.doc.sliceString(o,l)!=c)return It.none;let f=vr.get(s);return f instanceof v5?f=f.widget.topView:f&&(f.parent=null),It.set(It.replace({widget:new Fne(s,a,f),inclusive:!0}).range(o,l))}class Fne extends Vu{constructor(e,n,r){super(),this.top=e,this.text=n,this.topView=r}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return v5}}function V5(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=qc(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return r;if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function jne(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}class Bne{constructor(){this.changes=[]}compareRange(e,n){$$(e,n,this.changes)}comparePoint(e,n){$$(e,n,this.changes)}}function Vne(t,e,n){let r=new Bne;return tr.compare(t,e,n,r),r.changes}function zne(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Une(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return nt.cursor(e);s==0?n=1:s==i.length&&(n=-1);let a=s,o=s;n<0?a=Ms(i.text,s,!1):o=Ms(i.text,s);let l=r(i.text.slice(a,o));for(;a>0;){let u=Ms(i.text,a,!1);if(r(i.text.slice(u,a))!=l)break;a=u}for(;o<i.length;){let u=Ms(i.text,o);if(r(i.text.slice(o,u))!=l)break;o=u}return nt.range(a+i.from,o+i.from)}function qne(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Hne(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function tx(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function oN(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function lN(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function C$(t,e,n){let r,i,s,a,o=!1,l,u,c,f;for(let _=t.firstChild;_;_=_.nextSibling){let S=Qd(_);for(let b=0;b<S.length;b++){let y=S[b];i&&tx(i,y)&&(y=oN(lN(y,i.bottom),i.top));let A=qne(e,y),R=Hne(n,y);if(A==0&&R==0)return _.nodeType==3?uN(_,e,n):C$(_,e,n);if(!r||a>R||a==R&&s>A){r=_,i=y,s=A,a=R;let M=R?n<y.top?-1:1:A?e<y.left?-1:1:0;o=!M||(M>0?b<S.length-1:b>0)}A==0?n>y.bottom&&(!c||c.bottom<y.bottom)?(l=_,c=y):n<y.top&&(!f||f.top>y.top)&&(u=_,f=y):c&&tx(c,y)?c=lN(c,y.bottom):f&&tx(f,y)&&(f=oN(f,y.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return uN(r,d,n);if(o&&r.contentEditable!="false")return C$(r,d,n);let v=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:v}}function uN(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,a=0;for(let o=0;o<r;o++){let l=Zd(t,o,o+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;a||(a=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<s){let d=e>=(c.left+c.right)/2,v=d;if((Et.chrome||Et.gecko)&&Zd(t,o).getBoundingClientRect().left==c.right&&(v=!d),f<=0)return{node:t,offset:o+(v?1:0)};i=o+(v?1:0),s=f}}}return{node:t,offset:i>-1?i:a>0?t.nodeValue.length:0}}function z5(t,e,n,r=-1){var i,s;let a=t.contentDOM.getBoundingClientRect(),o=a.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,d=f-o;if(d<0)return 0;if(d>u)return t.state.doc.length;for(let M=t.defaultLineHeight/2,$=!1;l=t.elementAtHeight(d),l.type!=zr.Text;)for(;d=r>0?l.bottom+M:l.top-M,!(d>=0&&d<=u);){if($)return n?null:0;$=!0,r=-r}f=o+d;let v=l.from;if(v<t.viewport.from)return t.viewport.from==0?0:n?null:cN(t,a,l,c,f);if(v>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:cN(t,a,l,c,f);let _=t.dom.ownerDocument,S=t.root.elementFromPoint?t.root:_,b=S.elementFromPoint(c,f);b&&!t.contentDOM.contains(b)&&(b=null),b||(c=Math.max(a.left+1,Math.min(a.right-1,c)),b=S.elementFromPoint(c,f),b&&!t.contentDOM.contains(b)&&(b=null));let y,A=-1;if(b&&((i=t.docView.nearest(b))===null||i===void 0?void 0:i.isEditable)!=!1){if(_.caretPositionFromPoint){let M=_.caretPositionFromPoint(c,f);M&&({offsetNode:y,offset:A}=M)}else if(_.caretRangeFromPoint){let M=_.caretRangeFromPoint(c,f);M&&({startContainer:y,startOffset:A}=M,(!t.contentDOM.contains(y)||Et.safari&&Wne(y,A,c)||Et.chrome&&Gne(y,A,c))&&(y=void 0))}}if(!y||!t.docView.dom.contains(y)){let M=Ns.find(t.docView,v);if(!M)return d>l.top+l.height/2?l.to:l.from;({node:y,offset:A}=C$(M.dom,c,f))}let R=t.docView.nearest(y);if(!R)return null;if(R.isWidget&&((s=R.dom)===null||s===void 0?void 0:s.nodeType)==1){let M=R.dom.getBoundingClientRect();return e.y<M.top||e.y<=M.bottom&&e.x<=(M.left+M.right)/2?R.posAtStart:R.posAtEnd}else return R.localPosFromDOM(y,A)+R.posAtStart}function cN(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=Math.floor((i-n.top)/t.defaultLineHeight);s+=o*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+m$(a,s,t.state.tabSize)}function Wne(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Zd(t,r-1,r).getBoundingClientRect().left>n}function Gne(t,e,n){if(e!=0)return!1;for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():Zd(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function Kne(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=!r||!t.lineWrapping?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let l=t.dom.getBoundingClientRect(),u=t.textDirectionAt(i.from),c=t.posAtCoords({x:n==(u==Dr.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return nt.cursor(c,n?-1:1)}let a=Ns.find(t.docView,e.head),o=a?n?a.posAtEnd:a.posAtStart:n?i.to:i.from;return nt.cursor(o,n?-1:1)}function fN(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let o=e,l=null;;){let u=Ine(i,s,a,o,n),c=F5;if(!u){if(i.number==(n?t.state.doc.lines:1))return o;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),u=nt.cursor(n?i.from:i.to)}if(l){if(!l(c))return o}else{if(!r)return u;l=r(c)}o=u}}function Yne(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let a=r(s);return i==Mr.Space&&(i=a),i==a}}function Jne(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return nt.cursor(i,e.assoc);let a=e.goalColumn,o,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i),c=t.documentTop;if(u)a==null&&(a=u.left-l.left),o=s<0?u.top:u.bottom;else{let v=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-v.from))),o=(s<0?v.top:v.bottom)+c}let f=l.left+a,d=r??t.defaultLineHeight>>1;for(let v=0;;v+=10){let _=o+(d+v)*s,S=z5(t,{x:f,y:_},!1,s);if(_<l.top||_>l.bottom||(s<0?S<i:S>i))return nt.cursor(S,e.assoc,void 0,a)}}function Jy(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,a,o)=>{if(e>s&&e<a){let l=r||n||(e-s<a-e?-1:1);e=l<0?s:a,r=l}});if(!r)return e}}function nx(t,e,n){let r=Jy(t.state.facet(i2).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:nt.cursor(r,r<n.from?1:-1)}class Xne{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null;let n=(r,i)=>{this.ignoreDuringComposition(i)||i.type=="keydown"&&this.keydown(e,i)||(this.mustFlushObserver(i)&&e.observer.forceFlush(),this.runCustomHandlers(i.type,e,i)?i.preventDefault():r(e,i))};for(let r in oi){let i=oi[r];e.contentDOM.addEventListener(r,s=>{hN(e,s)&&n(i,s)},k$[r]),this.registeredEvents.push(r)}e.scrollDOM.addEventListener("mousedown",r=>{if(r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&(n(oi.mousedown,r),!r.defaultPrevented&&r.button==2)){let i=e.contentDOM.style.minHeight;e.contentDOM.style.minHeight="100%",setTimeout(()=>e.contentDOM.style.minHeight=i,200)}}),e.scrollDOM.addEventListener("drop",r=>{r.target==e.scrollDOM&&r.clientY>e.contentDOM.getBoundingClientRect().bottom&&n(oi.drop,r)}),Et.chrome&&Et.chrome_version==102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,Et.safari&&e.contentDOM.addEventListener("input",()=>null)}ensureHandlers(e,n){var r;let i;this.customHandlers=[];for(let s of n)if(i=(r=s.update(e).spec)===null||r===void 0?void 0:r.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:i});for(let a in i)this.registeredEvents.indexOf(a)<0&&a!="scroll"&&(this.registeredEvents.push(a),e.contentDOM.addEventListener(a,o=>{hN(e,o)&&this.runCustomHandlers(a,e,o)&&o.preventDefault()}))}}runCustomHandlers(e,n,r){for(let i of this.customHandlers){let s=i.handlers[e];if(s)try{if(s.call(i.plugin,r,n)||r.defaultPrevented)return!0}catch(a){fo(n.state,a)}}return!1}runScrollHandlers(e,n){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;for(let r of this.customHandlers){let i=r.handlers.scroll;if(i)try{i.call(r.plugin,n,e)}catch(s){fo(e.state,s)}}}keydown(e,n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(n.keyCode!=27&&q5.indexOf(n.keyCode)<0&&(e.inputState.lastEscPress=0),Et.android&&Et.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return e.observer.delayAndroidKey(n.key,n.keyCode),!0;let r;return Et.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((r=U5.find(i=>i.keyCode==n.keyCode))&&!n.ctrlKey||Qne.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=r||n,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let n=this.pendingIOSKey;return n?(this.pendingIOSKey=void 0,Rd(e.contentDOM,n.key,n.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Et.safari&&!Et.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const U5=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Qne="dthko",q5=[16,17,18,20,91,92,224,225],D0=6;function L0(t){return Math.max(0,t)*.7+8}class Zne{constructor(e,n,r,i){this.view=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=wne(e.contentDOM),this.atoms=e.state.facet(i2).map(a=>a(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Cn.allowMultipleSelections)&&ere(e,n),this.dragMove=tre(e,n),this.dragging=nre(e,n)&&K5(n)==1?null:!1}start(e){this.dragging===!1&&(e.preventDefault(),this.select(e))}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging!==!1)return;this.select(this.lastEvent=e);let r=0,i=0,s=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=I5(this.view);e.clientX-a.left<=s.left+D0?r=-L0(s.left-e.clientX):e.clientX+a.right>=s.right-D0&&(r=L0(e.clientX-s.right)),e.clientY-a.top<=s.top+D0?i=-L0(s.top-e.clientY):e.clientY+a.bottom>=s.bottom-D0&&(i=L0(e.clientY-s.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let a=Jy(this.atoms,i.from,0);a!=i.from&&(s=nt.cursor(a,-1))}else{let a=Jy(this.atoms,i.from,-1),o=Jy(this.atoms,i.to,1);(a!=i.from||o!=i.to)&&(s=nt.range(i.from==i.anchor?a:o,i.from==i.head?a:o))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?nt.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection)||r.main.assoc!=n.state.selection.main.assoc)&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function ere(t,e){let n=t.state.facet($5);return n.length?n[0](e):Et.mac?e.metaKey:e.ctrlKey}function tre(t,e){let n=t.state.facet(A5);return n.length?n[0](e):Et.mac?!e.altKey:!e.ctrlKey}function nre(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=V_(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let a=i[s];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function hN(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=vr.get(n))&&r.ignoreEvent(e))return!1;return!0}const oi=Object.create(null),k$=Object.create(null),H5=Et.ie&&Et.ie_version<15||Et.ios&&Et.webkit_version<604;function rre(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),W5(t,n.value)},50)}function W5(t,e){let{state:n}=t,r,i=1,s=n.toText(e),a=s.lines==n.selection.ranges.length;if(O$!=null&&n.selection.ranges.every(l=>l.empty)&&O$==s.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((a?s.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:nt.cursor(u.from+f.length)}})}else a?r=n.changeByRange(l=>{let u=s.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:nt.cursor(l.from+u.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}oi.keydown=(t,e)=>{t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now())};oi.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};oi.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};k$.touchstart=k$.touchmove={passive:!0};oi.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return;let n=null;for(let r of t.state.facet(P5))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=are(t,e)),n){let r=t.root.activeElement!=t.contentDOM;t.inputState.startMouseSelection(new Zne(t,e,n,r)),r&&t.observer.ignore(()=>c5(t.contentDOM)),t.inputState.mouseSelection&&t.inputState.mouseSelection.start(e)}};function dN(t,e,n,r){if(r==1)return nt.cursor(e,n);if(r==2)return Une(t.state,e,n);{let i=Ns.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:s.from,o=i?i.posAtEnd:s.to;return o<t.state.doc.length&&o==s.to&&o++,nt.range(a,o)}}let G5=(t,e)=>t>=e.top&&t<=e.bottom,pN=(t,e,n)=>G5(e,n)&&t>=n.left&&t<=n.right;function ire(t,e,n,r){let i=Ns.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let a=i.coordsAt(s,-1);if(a&&pN(n,r,a))return-1;let o=i.coordsAt(s,1);return o&&pN(n,r,o)?1:a&&G5(r,a)?-1:1}function mN(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:ire(t,n,e.clientX,e.clientY)}}const sre=Et.ie&&Et.ie_version<=11;let gN=null,vN=0,yN=0;function K5(t){if(!sre)return t.detail;let e=gN,n=yN;return gN=t,yN=Date.now(),vN=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(vN+1)%3:1}function are(t,e){let n=mN(t,e),r=K5(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,a,o){let l=mN(t,s),u,c=dN(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!a){let f=dN(t,n.pos,n.bias,r),d=Math.min(f.from,c.from),v=Math.max(f.to,c.to);c=d<c.from?nt.range(d,v):nt.range(v,d)}return a?i.replaceRange(i.main.extend(c.from,c.to)):o&&r==1&&i.ranges.length>1&&(u=ore(i,l.pos))?u:o?i.addRange(c):nt.create([c])}}}function ore(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return nt.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}oi.dragstart=(t,e)=>{let{selection:{main:n}}=t.state,{mouseSelection:r}=t.inputState;r&&(r.dragging=n),e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove")};function _N(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=t.inputState,a=r&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,o={from:i,insert:n},l=t.state.changes(a?[a,o]:o);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"})}oi.drop=(t,e)=>{if(!e.dataTransfer)return;if(t.state.readOnly)return e.preventDefault();let n=e.dataTransfer.files;if(n&&n.length){e.preventDefault();let r=Array(n.length),i=0,s=()=>{++i==n.length&&_N(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let o=new FileReader;o.onerror=s,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[a]=o.result),s()},o.readAsText(n[a])}}else _N(t,e,e.dataTransfer.getData("Text"),!0)};oi.paste=(t,e)=>{if(t.state.readOnly)return e.preventDefault();t.observer.flush();let n=H5?null:e.clipboardData;n?(W5(t,n.getData("text/plain")||n.getData("text/uri-text")),e.preventDefault()):rre(t)};function lre(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function ure(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let a=t.doc.lineAt(s);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let O$=null;oi.copy=oi.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=ure(t.state);if(!n&&!i)return;O$=i?n:null;let s=H5?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",n)):lre(t,n),e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"})};const Y5=Bu.define();function J5(t,e){let n=[];for(let r of t.facet(k5)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:Y5.of(!0)}):null}function X5(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=J5(t.state,e);n?t.dispatch(n):t.update([])}},10)}oi.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),X5(t)};oi.blur=t=>{t.observer.clearSelectionRange(),X5(t)};oi.compositionstart=oi.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};oi.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Et.chrome&&Et.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.compositionDeco.size&&t.update([])},50)};oi.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};oi.beforeinput=(t,e)=>{var n;let r;if(Et.chrome&&Et.android&&(r=U5.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}};const bN=["pre-wrap","normal","pre-line","break-spaces"];class cre{constructor(e){this.lineWrapping=e,this.doc=Gn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return bN.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,a){let o=bN.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let u=0;u<a.length;u++){let c=a[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class fre{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Su{constructor(e,n,r,i,s,a){this.from=e,this.length=n,this.top=r,this.height=i,this.children=s,this.deco=a}get type(){var e,n,r;return(r=(e=this.children)!==null&&e!==void 0?e:(n=this.deco)===null||n===void 0?void 0:n.type)!==null&&r!==void 0?r:zr.Text}get widget(){return this.deco&&this.deco.widget}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let n=(this.children||[this]).concat(e.children||[e]);return new Su(this.from,this.length+e.length,this.top,this.height+e.height,n,null)}}var Sr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Sr||(Sr={}));const Xy=.001;class Ls{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>Xy&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return Ls.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,a=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:l,toA:u,fromB:c,toB:f}=i[o],d=s.lineAt(l,Sr.ByPosNoHeight,r.setDoc(n),0,0),v=d.to>=u?d:s.lineAt(u,Sr.ByPosNoHeight,r,0,0);for(f+=v.to-u,u=v.to;o>0&&d.from<=i[o-1].toA;)l=i[o-1].fromA,c=i[o-1].fromB,o--,l<d.from&&(d=s.lineAt(l,Sr.ByPosNoHeight,r,0,0));c+=d.from-l,l=d.from;let _=s2.build(r.setDoc(a),e,c,f);s=s.replace(l,u,_)}return s.updateHeight(r,0)}static empty(){return new Ca(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(s>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,s-=o.size}else break;else if(i<s){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(s+=o.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new hre(Ls.of(e.slice(0,n)),a,Ls.of(e.slice(r)))}}Ls.prototype.size=1;class Q5 extends Ls{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Su(i,this.length,r,this.height,null,this.deco)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,a){e<=s+this.length&&n>=s&&a(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ca extends Q5{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Ca||i instanceof Fi&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Fi?i=new Ca(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ls.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Fi extends Ls{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,a,o=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);a=l/s,this.length>s+1&&(o=(this.height-l)/(this.length-s-1))}else a=this.height/s;return{firstLine:r,lastLine:i,perLine:a,perChar:o}}blockAt(e,n,r,i){let{firstLine:s,lastLine:a,perLine:o,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),c=n.doc.lineAt(u),f=o+c.length*l,d=Math.max(r,e-f/2);return new Su(c.from,c.length,d,f,null,null)}else{let u=Math.max(0,Math.min(a-s,Math.floor((e-r)/o))),{from:c,length:f}=n.doc.line(s+u);return new Su(c,f,r+o*u,o,null,null)}}lineAt(e,n,r,i,s){if(n==Sr.ByHeight)return this.blockAt(e,r,i,s);if(n==Sr.ByPosNoHeight){let{from:v,to:_}=r.doc.lineAt(e);return new Su(v,_-v,0,0,null,null)}let{firstLine:a,perLine:o,perChar:l}=this.heightMetrics(r,s),u=r.doc.lineAt(e),c=o+u.length*l,f=u.number-a,d=i+o*f+l*(u.from-s-f);return new Su(u.from,u.length,Math.max(i,Math.min(d,i+this.height-c)),c,null,null)}forEachLine(e,n,r,i,s,a){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(r,s);for(let c=e,f=i;c<=n;){let d=r.doc.lineAt(c);if(c==e){let _=d.number-o;f+=l*_+u*(e-s-_)}let v=l+u*d.length;a(new Su(d.from,d.length,f,v,null,null)),f+=v,c=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof Fi?r[r.length-1]=new Fi(s.length+i):r.push(null,new Fi(i-1))}if(e>0){let s=r[0];s instanceof Fi?r[0]=new Fi(e+s.length):r.unshift(new Fi(e-1),null)}return Ls.of(r)}decomposeLeft(e,n){n.push(new Fi(e-1),null)}decomposeRight(e,n){n.push(null,new Fi(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],o=Math.max(n,i.from),l=-1;for(i.from>n&&a.push(new Fi(i.from-n-1).updateHeight(e,n));o<=s&&i.more;){let c=e.doc.lineAt(o).length;a.length&&a.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=Xy&&(l=-2);let d=new Ca(c,f);d.outdated=!1,a.push(d),o+=c+1}o<=s&&a.push(null,new Fi(s-o).updateHeight(e,o));let u=Ls.of(a);return(l<0||Math.abs(u.height-this.height)>=Xy||Math.abs(l-this.heightMetrics(e,n).perLine)>=Xy)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class hre extends Ls{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let a=i+this.left.height,o=s+this.left.length+this.break,l=n==Sr.ByHeight?e<a:e<o,u=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,a,o);if(this.break||(l?u.to<o:u.from>o))return u;let c=n==Sr.ByPosNoHeight?Sr.ByPosNoHeight:Sr.ByPos;return l?u.join(this.right.lineAt(o,c,r,a,o)):this.left.lineAt(o,c,r,i,s).join(u)}forEachLine(e,n,r,i,s,a){let o=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,a),n>=l&&this.right.forEachLine(e,n,r,o,l,a);else{let u=this.lineAt(l,Sr.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,a),u.to>=e&&u.from<=n&&a(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,o,l,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let a=s.length;for(let o of r)s.push(o);if(e>0&&wN(s,a-1),n<this.length){let o=s.length;this.decomposeRight(n,s),wN(s,o)}return Ls.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Ls.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:a}=this,o=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=o+a.length&&i.more?l=a=a.updateHeight(e,o,r,i):a.updateHeight(e,o,r),l?this.balanced(s,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function wN(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Fi&&(r=t[e+1])instanceof Fi&&t.splice(e-1,3,new Fi(n.length+1+r.length))}const dre=5;class s2{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ca?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ca(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new Q5(s,i,r)):(s||i>=dre)&&this.addLineDeco(i,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ca(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Fi(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ca)return e;let n=new Ca(0,-1);return this.nodes.push(n),n}addBlock(e){var n;this.enterLine();let r=(n=e.deco)===null||n===void 0?void 0:n.type;r==zr.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,r!=zr.WidgetBefore&&(this.covering=e)}addLineDeco(e,n){let r=this.ensureLine();r.length+=n,r.collapsed+=n,r.widgetHeight=Math.max(r.widgetHeight,e),this.writtenTo=this.pos=this.pos+n}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ca)&&!this.isCovered?this.nodes.push(new Ca(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Ca&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new s2(r,e);return tr.spans(n,r,i,s,0),s.finish(r)}}function pre(t,e,n){let r=new mre;return tr.compare(t,e,n,r,0),r.changes}class mre{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&$$(e,n,this.changes,5)}}function gre(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),o=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let d=c.getBoundingClientRect();s=Math.max(s,d.left),a=Math.min(a,d.right),o=Math.max(o,d.top),l=u==t.parentNode?d.bottom:Math.min(l,d.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-n.left,right:Math.max(s,a)-n.left,top:o-(n.top+e),bottom:Math.max(o,l)-(n.top+e)}}function vre(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class rx{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e){return It.replace({widget:new yre(this.size,e)}).range(this.from,this.to)}}class yre extends Vu{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class SN{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=xN,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Dr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(r2).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new cre(n),this.stateDeco=e.facet(wg).filter(r=>typeof r!="function"),this.heightMap=Ls.empty().applyChanges(this.stateDeco,Gn.empty,this.heightOracle.setDoc(e.doc),[new Vl(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=It.set(this.lineGaps.map(r=>r.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:a})=>i>=s&&i<=a)){let{from:s,to:a}=this.lineBlockAt(i);e.push(new F0(s,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?xN:new wre(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:km(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(wg).filter(u=>typeof u!="function");let i=e.changedRanges,s=Vl.extendWithRanges(i,pre(r,this.stateDeco,e?e.changes:mi.empty(this.state.doc.length))),a=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=a&&(e.flags|=2);let o=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<o.from||n.range.head>o.to)||!this.viewportIsAppropriate(o))&&(o=this.getViewport(0,n));let l=!e.changes.empty||e.flags&2||o.from!=this.viewport.from||o.to!=this.viewport.to;this.viewport=o,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(R5)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Dr.RTL:Dr.LTR;let a=this.heightOracle.mustRefreshForWrapping(s),o=n.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let u=0,c=0,f=parseInt(r.paddingTop)||0,d=parseInt(r.paddingBottom)||0;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let v=(this.printing?vre:gre)(n,this.paddingTop),_=v.top-this.pixelViewport.top,S=v.bottom-this.pixelViewport.bottom;this.pixelViewport=v;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=o.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let R=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(R)&&(a=!0),a||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:M,charWidth:$,textHeight:p}=e.docView.measureTextSize();a=M>0&&i.refresh(s,M,$,p,y/$,R),a&&(e.docView.minWidth=0,u|=8)}_>0&&S>0?c=Math.max(_,S):_<0&&S<0&&(c=Math.min(_,S)),i.heightChanged=!1;for(let M of this.viewports){let $=M.from==this.viewport.from?R:e.docView.measureVisibleLineHeights(M);this.heightMap=(a?Ls.empty().applyChanges(this.stateDeco,Gn.empty,this.heightOracle,[new Vl(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new fre(M.from,$))}i.heightChanged&&(u|=2)}let A=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return A&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||A)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:a,visibleBottom:o}=this,l=new F0(i.lineAt(a-r*1e3,Sr.ByHeight,s,0,0).from,i.lineAt(o+(1-r)*1e3,Sr.ByHeight,s,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,Sr.ByPos,s,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?d=f.top:d=f.bottom-c,l=new F0(i.lineAt(d-1e3/2,Sr.ByHeight,s,0,0).from,i.lineAt(d+c+1e3/2,Sr.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new F0(this.heightMap.lineAt(r,Sr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Sr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Sr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Sr.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:o}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=o+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&s<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new rx(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,a=i<<1;if(this.defaultTextDirection!=Dr.LTR&&!r)return[];let o=[],l=(u,c,f,d)=>{if(c-u<s)return;let v=this.state.selection.main,_=[v.from];v.empty||_.push(v.to);for(let b of _)if(b>u&&b<c){l(u,b-10,f,d),l(b+10,c,f,d);return}let S=bre(e,b=>b.from>=f.from&&b.to<=f.to&&Math.abs(b.from-u)<s&&Math.abs(b.to-c)<s&&!_.some(y=>b.from<y&&b.to>y));if(!S){if(c<f.to&&n&&r&&n.visibleRanges.some(b=>b.from<=c&&b.to>=c)){let b=n.moveToLineBoundary(nt.cursor(c),!1,!0).head;b>u&&(c=b)}S=new rx(u,c,this.gapSize(f,u,c,d))}o.push(S)};for(let u of this.viewportLines){if(u.length<a)continue;let c=_re(u.from,u.to,this.stateDeco);if(c.total<a)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,v;if(r){let _=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,S,b;if(f!=null){let y=B0(c,f),A=((this.visibleBottom-this.visibleTop)/2+_)/u.height;S=y-A,b=y+A}else S=(this.visibleTop-u.top-_)/u.height,b=(this.visibleBottom-u.top+_)/u.height;d=j0(c,S),v=j0(c,b)}else{let _=c.total*this.heightOracle.charWidth,S=i*this.heightOracle.charWidth,b,y;if(f!=null){let A=B0(c,f),R=((this.pixelViewport.right-this.pixelViewport.left)/2+S)/_;b=A-R,y=A+R}else b=(this.pixelViewport.left-S)/_,y=(this.pixelViewport.right+S)/_;d=j0(c,b),v=j0(c,y)}d>u.from&&l(u.from,d,u,c),v<u.to&&l(v,u.to,u,c)}return o}gapSize(e,n,r,i){let s=B0(i,r)-B0(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){rx.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=It.set(e.map(n=>n.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];tr.spans(e,this.viewport.from,this.viewport.to,{span(i,s){n.push({from:i,to:s})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,s)=>i.from!=n[s].from||i.to!=n[s].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||km(this.heightMap.lineAt(e,Sr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return km(this.heightMap.lineAt(this.scaler.fromDOM(e),Sr.ByHeight,this.heightOracle,0,0),this.scaler)}elementAtHeight(e){return km(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class F0{constructor(e,n){this.from=e,this.to=n}}function _re(t,e,n){let r=[],i=t,s=0;return tr.spans(n,t,e,{span(){},point(a,o){a>i&&(r.push({from:i,to:a}),s+=a-i),i=o}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function j0({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:a}=e[i],o=a-s;if(r<=o)return s+r;r-=o}}function B0(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function bre(t,e){for(let n of t)if(e(n))return n}const xN={toDOM(t){return t},fromDOM(t){return t},scale:1};class wre{constructor(e,n,r){let i=0,s=0,a=0;this.viewports=r.map(({from:o,to:l})=>{let u=n.lineAt(o,Sr.ByPos,e,0,0).top,c=n.lineAt(l,Sr.ByPos,e,0,0).bottom;return i+=c-u,{from:o,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=a+(o.top-s)*this.scale,a=o.domBottom=o.domTop+(o.bottom-o.top),s=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}}function km(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Su(t.from,t.length,n,r-n,t.children&&t.children.map(i=>km(i,e)),t.deco)}const V0=$t.define({combine:t=>t.join(" ")}),R$=$t.define({combine:t=>t.indexOf(!0)>-1}),M$=zc.newName(),Z5=zc.newName(),eB=zc.newName(),tB={"&light":"."+Z5,"&dark":"."+eB};function N$(t,e,n){return new zc(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Sre=N$("."+M$,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},tB);class xre{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:s,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let o=s||a?[]:$re(e),l=new j5(o,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Are(o,this.bounds.from)}else{let o=e.observer.selectionRange,l=s&&s.node==o.focusNode&&s.offset==o.focusOffset||!Xd(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),u=a&&a.node==o.anchorNode&&a.offset==o.anchorOffset||!Xd(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset);this.newSel=nt.single(u,l)}}}function nB(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:o}=e.bounds,l=i.from,u=null;(s===8||Et.android&&e.text.length<o-a)&&(l=i.to,u="end");let c=Ere(t.state.doc.sliceString(a,o,yd),e.text,l-a,u);c&&(Et.chrome&&s==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==yd+yd&&c.toB--,n={from:a+c.from,to:a+c.toA,insert:Gn.of(e.text.slice(c.from,c.toB).split(yd))})}else r&&(!t.hasFocus&&t.state.facet(T1)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(Et.mac||Et.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=nt.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Gn.of([" "])}):Et.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=nt.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Gn.of([" "])}),n){let a=t.state;if(Et.ios&&t.inputState.flushIOSKey(t)||Et.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&Rd(t.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||s==8&&n.insert.length<n.to-n.from)&&Rd(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&Rd(t.contentDOM,"Delete",46)))return!0;let o=n.insert.toString();if(t.state.facet(C5).some(c=>c(t,n.from,n.to,o)))return!0;t.inputState.composing>=0&&t.inputState.composing++;let l;if(n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&t.inputState.composing<0){let c=i.from<n.from?a.sliceDoc(i.from,n.from):"",f=i.to>n.to?a.sliceDoc(n.to,i.to):"";l=a.replaceSelection(t.state.toText(c+n.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let c=a.changes(n),f=r&&r.main.to<=c.newLength?r.main:void 0;if(a.selection.ranges.length>1&&t.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){let d=t.state.sliceDoc(n.from,n.to),v=B5(t)||t.state.doc.lineAt(i.head),_=i.to-n.to,S=i.to-i.from;l=a.changeByRange(b=>{if(b.from==i.from&&b.to==i.to)return{changes:c,range:f||b.map(c)};let y=b.to-_,A=y-d.length;if(b.to-b.from!=S||t.state.sliceDoc(A,y)!=d||v&&b.to>=v.from&&b.from<=v.to)return{range:b};let R=a.changes({from:A,to:y,insert:n.insert}),M=b.to-i.to;return{changes:R,range:f?nt.range(Math.max(0,f.anchor+M),Math.max(0,f.head+M)):b.map(R)}})}else l={changes:c,selection:f&&a.selection.replaceRange(f)}}let u="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,u+=".compose",t.inputState.compositionFirstChange&&(u+=".start",t.inputState.compositionFirstChange=!1)),t.dispatch(l,{scrollIntoView:!0,userEvent:u}),!0}else if(r&&!r.main.eq(i)){let a=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),o=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:a,userEvent:o}),!0}else return!1}function Ere(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let a=t.length,o=e.length;for(;a>0&&o>0&&t.charCodeAt(a-1)==e.charCodeAt(o-1);)a--,o--;if(r=="end"){let l=Math.max(0,s-Math.min(a,o));n-=a+l-s}if(a<s&&t.length<e.length){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}else if(o<s){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}return{from:s,toA:a,toB:o}}function $re(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new iN(n,r)),(i!=n||s!=r)&&e.push(new iN(i,s))),e}function Are(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?nt.single(n+e,r+e):null}const Pre={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},ix=Et.ie&&Et.ie_version<=11;class Tre{constructor(e){this.view=e,this.active=!1,this.selectionRange=new Sne,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Et.ie&&Et.ie_version<=11||Et.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),ix&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM),this.resizeContent=new ResizeObserver(()=>this.view.requestMeasure()),this.resizeContent.observe(e.contentDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(T1)?r.root.activeElement!=this.dom:!Yy(r.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Et.ie&&Et.ie_version<=11||Et.android&&Et.chrome)&&!r.state.selection.main.empty&&i.focusNode&&z_(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=Et.safari&&e.root.nodeType==11&&yne(this.dom.ownerDocument)==this.dom&&Cre(this.view)||V_(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=Yy(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Ene(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Pre),ix&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),ix&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Rd(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let a=this.readMutation(s);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Yy(this.dom,this.selectionRange);return e<0&&!i?null:(e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new xre(this.view,e,n,r))}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return!1;let r=this.view.state,i=nB(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.dirty|=4),e.type=="childList"){let r=EN(n,e.previousSibling||e.target.previousSibling,-1),i=EN(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect(),(i=this.resizeContent)===null||i===void 0||i.disconnect();for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function EN(t,e,n){for(;e;){let r=vr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Cre(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,s=e.endContainer,a=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return z_(o.node,o.offset,s,a)&&([r,i,s,a]=[s,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:s,focusOffset:a}}class St{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(n=>this.update([n])),this.dispatch=this.dispatch.bind(this),this._root=e.root||xne(e.parent)||document,this.viewState=new SN(e.state||Cn.create(e)),this.plugins=this.state.facet(Tm).map(n=>new ex(n));for(let n of this.plugins)n.update(this);this.observer=new Tre(this),this.inputState=new Xne(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new sN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}dispatch(...e){let n=e.length==1&&e[0]instanceof yi?e[0]:this.state.update(...e);this._dispatch(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let d of e){if(d.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=d.state}if(this.destroyed){this.viewState.state=s;return}let a=this.hasFocus,o=0,l=null;e.some(d=>d.annotation(Y5))?(this.inputState.notifiedFocused=a,o=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=J5(s,a),l||(o=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(c=null)):this.observer.clear(),s.facet(Cn.phrases)!=this.state.facet(Cn.phrases))return this.setState(s);i=H_.create(this,s,e),i.flags|=o;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:v}=d.state.selection;f=new q_(v.empty?v:nt.cursor(v.head,v.head>v.anchor?-1:1))}for(let v of d.effects)v.is(nN)&&(f=v.value)}this.viewState.update(i,f),this.bidiCache=W_.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Cm)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(V0)!=i.state.facet(V0)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let d of this.state.facet(A$))d(i);(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!nB(this,c)&&u.force&&Rd(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new SN(e),this.plugins=e.facet(Tm).map(r=>new ex(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView=new sN(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Tm),r=e.state.facet(Tm);if(n!=r){let i=[];for(let s of r){let a=n.indexOf(s);if(a<0)i.push(new ex(s));else{let o=this.plugins[a];o.mustUpdate=e,i.push(o)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,{scrollHeight:r,scrollTop:i,clientHeight:s}=this.scrollDOM,a=i>r-s-4?r:i;try{for(let o=0;;o++){this.updateState=1;let l=this.viewport,u=this.viewState.lineBlockAtHeight(a),c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];c&4||([this.measureRequests,f]=[f,this.measureRequests]);let d=f.map(b=>{try{return b.read(this)}catch(y){return fo(this.state,y),$N}}),v=H_.create(this,this.state,[]),_=!1,S=!1;v.flags|=c,n?n.flags|=c:n=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),_=this.docView.update(v));for(let b=0;b<f.length;b++)if(d[b]!=$N)try{let y=f[b];y.write&&y.write(d[b],this)}catch(y){fo(this.state,y)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,S=!0;else{let b=this.viewState.lineBlockAt(u.from).top-u.top;(b>1||b<-1)&&(this.scrollDOM.scrollTop+=b,S=!0)}if(_&&this.docView.updateSelection(!0),this.viewport.from==l.from&&this.viewport.to==l.to&&!S&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(A$))o(n)}get themeClasses(){return M$+" "+(this.state.facet(R$)?eB:Z5)+" "+this.state.facet(V0)}updateAttrs(){let e=AN(this,M5,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(T1)?"true":"false",class:"cm-content",style:`${Et.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),AN(this,r2,n);let r=this.observer.ignore(()=>{let i=E$(this.contentDOM,this.contentAttrs,n),s=E$(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(St.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Cm),zc.mount(this.root,this.styleModules.concat(Sre).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return nx(this,e,fN(this,e,n,r))}moveByGroup(e,n){return nx(this,e,fN(this,e,n,r=>Yne(this,e.head,r)))}moveToLineBoundary(e,n,r=!0){return Kne(this,e,n,r)}moveVertically(e,n,r){return nx(this,e,Jne(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),z5(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),a=s[Md.find(s,e-i.from,-1,n)];return $1(r,a.dir==Dr.LTR==n>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(O5)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>kre)return L5(e.length);let n=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==n)return i.order;let r=Nne(e.text,n);return this.bidiCache.push(new W_(e.from,e.to,n,r)),r}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Et.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{c5(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return nN.of(new q_(typeof e=="number"?nt.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}static domEventHandlers(e){return ui.define(()=>({}),{eventHandlers:e})}static theme(e,n){let r=zc.newName(),i=[V0.of(r),Cm.of(N$(`.${r}`,e))];return n&&n.dark&&i.push(R$.of(!0)),i}static baseTheme(e){return vp.lowest(Cm.of(N$("."+M$,e,tB)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&vr.get(r)||vr.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}St.styleModule=Cm;St.inputHandler=C5;St.focusChangeEffect=k5;St.perLineTextDirection=O5;St.exceptionSink=T5;St.updateListener=A$;St.editable=T1;St.mouseSelectionStyle=P5;St.dragMovesSelection=A5;St.clickAddsSelectionRange=$5;St.decorations=wg;St.atomicRanges=i2;St.scrollMargins=N5;St.darkTheme=R$;St.contentAttributes=r2;St.editorAttributes=M5;St.lineWrapping=St.contentAttributes.of({class:"cm-lineWrapping"});St.announce=un.define();const kre=4096,$N={};class W_{constructor(e,n,r,i){this.from=e,this.to=n,this.dir=r,this.order=i}static update(e,n){if(n.empty)return e;let r=[],i=e.length?e[e.length-1].dir:Dr.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let a=e[s];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new W_(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.order))}return r}}function AN(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],a=typeof s=="function"?s(t):s;a&&x$(a,n)}return n}const Ore=Et.mac?"mac":Et.windows?"win":Et.linux?"linux":"key";function Rre(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,a,o;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))e=="mac"?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function z0(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Mre=vp.default(St.domEventHandlers({keydown(t,e){return iB(rB(e.state),t,e,"editor")}})),C1=$t.define({enables:Mre}),PN=new WeakMap;function rB(t){let e=t.facet(C1),n=PN.get(e);return n||PN.set(e,n=Dre(e.reduce((r,i)=>r.concat(i),[]))),n}function Nre(t,e,n){return iB(rB(t.state),e,t,n)}let gc=null;const Ire=4e3;function Dre(t,e=Ore){let n=Object.create(null),r=Object.create(null),i=(a,o)=>{let l=r[a];if(l==null)r[a]=o;else if(l!=o)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},s=(a,o,l,u)=>{var c,f;let d=n[a]||(n[a]=Object.create(null)),v=o.split(/ (?!$)/).map(b=>Rre(b,e));for(let b=1;b<v.length;b++){let y=v.slice(0,b).join(" ");i(y,!0),d[y]||(d[y]={preventDefault:!0,run:[A=>{let R=gc={view:A,prefix:y,scope:a};return setTimeout(()=>{gc==R&&(gc=null)},Ire),!0}]})}let _=v.join(" ");i(_,!1);let S=d[_]||(d[_]={preventDefault:!1,run:((f=(c=d._any)===null||c===void 0?void 0:c.run)===null||f===void 0?void 0:f.slice())||[]});l&&S.run.push(l),u&&(S.preventDefault=!0)};for(let a of t){let o=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of o){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,run:[]});for(let f in c)c[f].run.push(a.any)}let l=a[e]||a.key;if(l)for(let u of o)s(u,l,a.run,a.preventDefault),a.shift&&s(u,"Shift-"+l,a.shift,a.preventDefault)}return n}function iB(t,e,n,r){let i=vne(e),s=ji(i,0),a=ao(s)==i.length&&i!=" ",o="",l=!1;gc&&gc.view==n&&gc.scope==r&&(o=gc.prefix+" ",(l=q5.indexOf(e.keyCode)<0)&&(gc=null));let u=new Set,c=_=>{if(_){for(let S of _.run)if(!u.has(S)&&(u.add(S),S(n,e)))return!0;_.preventDefault&&(l=!0)}return!1},f=t[r],d,v;if(f){if(c(f[o+z0(i,e,!a)]))return!0;if(a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Et.windows&&e.ctrlKey&&e.altKey)&&(d=Uc[e.keyCode])&&d!=i){if(c(f[o+z0(d,e,!0)]))return!0;if(e.shiftKey&&(v=bg[e.keyCode])!=i&&v!=d&&c(f[o+z0(v,e,!1)]))return!0}else if(a&&e.shiftKey&&c(f[o+z0(i,e,!0)]))return!0;if(c(f._any))return!0}return l}class ev{constructor(e,n,r,i,s){this.className=e,this.left=n,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=sB(e);return[new ev(n,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return Lre(e,n,r)}}function sB(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Dr.LTR?e.left:e.right-t.scrollDOM.clientWidth)-t.scrollDOM.scrollLeft,top:e.top-t.scrollDOM.scrollTop}}function TN(t,e,n){let r=nt.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:zr.Text}}function CN(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==zr.Text))return r}return n}function Lre(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),s=t.textDirection==Dr.LTR,a=t.contentDOM,o=a.getBoundingClientRect(),l=sB(t),u=a.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=o.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=o.right-(c?parseInt(c.paddingRight):0),v=CN(t,r),_=CN(t,i),S=v.type==zr.Text?v:null,b=_.type==zr.Text?_:null;if(t.lineWrapping&&(S&&(S=TN(t,r,S)),b&&(b=TN(t,i,b))),S&&b&&S.from==b.from)return A(R(n.from,n.to,S));{let $=S?R(n.from,null,S):M(v,!1),p=b?R(null,n.to,b):M(_,!0),x=[];return(S||v).to<(b||_).from-(S&&b?1:0)?x.push(y(f,$.bottom,d,p.top)):$.bottom<p.top&&t.elementAtHeight(($.bottom+p.top)/2).type==zr.Text&&($.bottom=p.top=($.bottom+p.top)/2),A($).concat(x).concat(A(p))}function y($,p,x,T){return new ev(e,$-l.left,p-l.top-.01,x-$,T-p+.01)}function A({top:$,bottom:p,horizontal:x}){let T=[];for(let D=0;D<x.length;D+=2)T.push(y(x[D],$,x[D+1],p));return T}function R($,p,x){let T=1e9,D=-1e9,C=[];function U(re,ye,Pe,Ae,Ie){let Me=t.coordsAtPos(re,re==x.to?-2:2),ae=t.coordsAtPos(Pe,Pe==x.from?2:-2);!Me||!ae||(T=Math.min(Me.top,ae.top,T),D=Math.max(Me.bottom,ae.bottom,D),Ie==Dr.LTR?C.push(s&&ye?f:Me.left,s&&Ae?d:ae.right):C.push(!s&&Ae?f:ae.left,!s&&ye?d:Me.right))}let G=$??x.from,se=p??x.to;for(let re of t.visibleRanges)if(re.to>G&&re.from<se)for(let ye=Math.max(re.from,G),Pe=Math.min(re.to,se);;){let Ae=t.state.doc.lineAt(ye);for(let Ie of t.bidiSpans(Ae)){let Me=Ie.from+Ae.from,ae=Ie.to+Ae.from;if(Me>=Pe)break;ae>ye&&U(Math.max(Me,ye),$==null&&Me<=G,Math.min(ae,Pe),p==null&&ae>=se,Ie.dir)}if(ye=Ae.to+1,ye>=Pe)break}return C.length==0&&U(G,$==null,se,p==null,t.textDirection),{top:T,bottom:D,horizontal:C}}function M($,p){let x=o.top+(p?$.top:$.bottom);return{top:x,bottom:x,horizontal:[]}}}function Fre(t,e){return t.constructor==e.constructor&&t.eq(e)}class jre{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Qy)!=e.state.facet(Qy)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Qy);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Fre(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Qy=$t.define();function aB(t){return[ui.define(e=>new jre(e,t)),Qy.of(t)]}const oB=!Et.ios,Sg=$t.define({combine(t){return Kl(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Bre(t={}){return[Sg.of(t),Vre,zre,Ure,R5.of(!0)]}function lB(t){return t.startState.facet(Sg)!=t.state.facet(Sg)}const Vre=aB({above:!0,markers(t){let{state:e}=t,n=e.facet(Sg),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty?!s||oB:n.drawRangeCursor){let a=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:nt.cursor(i.head,i.head>i.anchor?-1:1);for(let l of ev.forRange(t,a,o))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=lB(t);return n&&kN(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){kN(e.state,t)},class:"cm-cursorLayer"});function kN(t,e){e.style.animationDuration=t.facet(Sg).cursorBlinkRate+"ms"}const zre=aB({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:ev.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||lB(t)},class:"cm-selectionLayer"}),uB={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};oB&&(uB[".cm-line"].caretColor="transparent !important");const Ure=vp.highest(St.theme(uB)),cB=un.define({map(t,e){return t==null?null:e.mapPos(t)}}),Om=Ki.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(cB)?r.value:n,t)}}),qre=ui.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Om);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Om)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let t=this.view.state.field(Om),e=t!=null&&this.view.coordsAtPos(t);if(!e)return null;let n=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-n.left+this.view.scrollDOM.scrollLeft,top:e.top-n.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(t){this.cursor&&(t?(this.cursor.style.left=t.left+"px",this.cursor.style.top=t.top+"px",this.cursor.style.height=t.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Om)!=t&&this.view.dispatch({effects:cB.of(t)})}},{eventHandlers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Hre(){return[Om,qre]}function ON(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),a=n,o;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(a+o.index,o)}function Wre(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Gre{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:a=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(o,l,u,c)=>i(c,u,u+o[0].length,o,l);else if(typeof r=="function")this.addMatch=(o,l,u,c)=>{let f=r(o,l,u);f&&c(u,u+o[0].length,f)};else if(r)this.addMatch=(o,l,u,c)=>c(u,u+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=a}createDeco(e){let n=new Vc,r=n.add.bind(n);for(let{from:i,to:s}of Wre(e,this.maxLength))ON(e.state.doc,this.regexp,i,s,(a,o)=>this.addMatch(o,e,a,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,a,o,l)=>{l>e.view.viewport.from&&o<e.view.viewport.to&&(r=Math.min(o,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let a=Math.max(s.from,r),o=Math.min(s.to,i);if(o>a){let l=e.state.doc.lineAt(a),u=l.to<o?e.state.doc.lineAt(o):l,c=Math.max(s.from,l.from),f=Math.min(s.to,u.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){c=a;break}for(;o<u.to;o++)if(this.boundary.test(u.text[o-u.from])){f=o;break}}let d=[],v,_=(S,b,y)=>d.push(y.range(S,b));if(l==u)for(this.regexp.lastIndex=c-l.from;(v=this.regexp.exec(l.text))&&v.index<f-l.from;)this.addMatch(v,e,v.index+l.from,_);else ON(e.state.doc,this.regexp,c,f,(S,b)=>this.addMatch(b,e,S,_));n=n.update({filterFrom:c,filterTo:f,filter:(S,b)=>S<c||b>f,add:d})}}return n}}const I$=/x/.unicode!=null?"gu":"g",Kre=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,I$),Yre={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let sx=null;function Jre(){var t;if(sx==null&&typeof document<"u"&&document.body){let e=document.body.style;sx=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return sx||!1}const Zy=$t.define({combine(t){let e=Kl(t,{render:null,specialChars:Kre,addSpecialChars:null});return(e.replaceTabs=!Jre())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,I$)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,I$)),e}});function Xre(t={}){return[Zy.of(t),Qre()]}let RN=null;function Qre(){return RN||(RN=ui.fromClass(class{constructor(t){this.view=t,this.decorations=It.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(Zy)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Gre({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,s=ji(e[0],0);if(s==9){let a=i.lineAt(r),o=n.state.tabSize,l=Qg(a.text,o,r-a.from);return It.replace({widget:new nie((o-l%o)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=It.replace({widget:new tie(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(Zy);t.startState.facet(Zy)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const Zre="";function eie(t){return t>=32?Zre:t==10?"":String.fromCharCode(9216+t)}class tie extends Vu{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=eie(this.code),r=e.state.phrase("Control character")+" "+(Yre[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let s=document.createElement("span");return s.textContent=n,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class nie extends Vu{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function rie(){return sie}const iie=It.line({class:"cm-activeLine"}),sie=ui.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(iie.range(i.from)),e=i.from)}return It.set(n)}},{decorations:t=>t.decorations});class aie extends Vu{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?Qd(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=$1(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function oie(t){return ui.fromClass(class{constructor(e){this.view=e,this.placeholder=It.set([It.widget({widget:new aie(t),side:1}).range(0)])}get decorations(){return this.view.state.doc.length?It.none:this.placeholder}},{decorations:e=>e.decorations})}const D$=2e3;function lie(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),s=[];if(e.off>D$||n.off>D$||e.col<0||n.col<0){let a=Math.min(e.off,n.off),o=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=o&&s.push(nt.range(u.from+a,u.to+o))}}else{let a=Math.min(e.col,n.col),o=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=m$(u.text,a,t.tabSize,!0);if(c<0)s.push(nt.cursor(u.to));else{let f=m$(u.text,o,t.tabSize);s.push(nt.range(u.from+c,u.from+f))}}}return s}function uie(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function MN(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,s=i>D$?-1:i==r.length?uie(t,e.clientX):Qg(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:s,off:i}}function cie(t,e){let n=MN(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(s);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,s,a){let o=MN(t,i);if(!o)return r;let l=lie(t.state,n,o);return l.length?a?nt.create(l.concat(r.ranges)):nt.create(l):r}}:null}function fie(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return St.mouseSelectionStyle.of((n,r)=>e(r)?cie(n,r):null)}const hie={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},die={style:"cursor: crosshair"};function pie(t={}){let[e,n]=hie[t.key||"Alt"],r=ui.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventHandlers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,St.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?die:null})]}const U0="-10000px";class fB{constructor(e,n,r){this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e){var n;let r=e.state.facet(this.facet),i=r.filter(a=>a);if(r===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let s=[];for(let a=0;a<i.length;a++){let o=i[a],l=-1;if(o){for(let u=0;u<this.tooltips.length;u++){let c=this.tooltips[u];c&&c.create==o.create&&(l=u)}if(l<0)s[a]=this.createTooltipView(o);else{let u=s[a]=this.tooltipViews[l];u.update&&u.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(a.dom.remove(),(n=a.destroy)===null||n===void 0||n.call(a));return this.input=r,this.tooltips=i,this.tooltipViews=s,!0}}function mie(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const ax=$t.define({combine:t=>{var e,n,r;return{position:Et.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||mie}}}),NN=new WeakMap,hB=ui.fromClass(class{constructor(t){this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(ax);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new fB(t,a2,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(ax);if(r.position!=this.position){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=U0,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((e,n)=>{let r=this.manager.tooltipViews[n];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(ax).tooltipSpace(this.view)}}writeMeasure(t){var e;let{editor:n,space:r}=t,i=[];for(let s=0;s<this.manager.tooltips.length;s++){let a=this.manager.tooltips[s],o=this.manager.tooltipViews[s],{dom:l}=o,u=t.pos[s],c=t.size[s];if(!u||u.bottom<=Math.max(n.top,r.top)||u.top>=Math.min(n.bottom,r.bottom)||u.right<Math.max(n.left,r.left)-.1||u.left>Math.min(n.right,r.right)+.1){l.style.top=U0;continue}let f=a.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,d=f?7:0,v=c.right-c.left,_=(e=NN.get(o))!==null&&e!==void 0?e:c.bottom-c.top,S=o.offset||vie,b=this.view.textDirection==Dr.LTR,y=c.width>r.right-r.left?b?r.left:r.right-c.width:b?Math.min(u.left-(f?14:0)+S.x,r.right-v):Math.max(r.left,u.left-v+(f?14:0)-S.x),A=!!a.above;!a.strictSide&&(A?u.top-(c.bottom-c.top)-S.y<r.top:u.bottom+(c.bottom-c.top)+S.y>r.bottom)&&A==r.bottom-u.bottom>u.top-r.top&&(A=!A);let R=(A?u.top-r.top:r.bottom-u.bottom)-d;if(R<_&&o.resize!==!1){if(R<this.view.defaultLineHeight){l.style.top=U0;continue}NN.set(o,_),l.style.height=(_=R)+"px"}else l.style.height&&(l.style.height="");let M=A?u.top-_-d-S.y:u.bottom+d+S.y,$=y+v;if(o.overlap!==!0)for(let p of i)p.left<$&&p.right>y&&p.top<M+_&&p.bottom>M&&(M=A?p.top-_-2-d:p.bottom+d+2);this.position=="absolute"?(l.style.top=M-t.parent.top+"px",l.style.left=y-t.parent.left+"px"):(l.style.top=M+"px",l.style.left=y+"px"),f&&(f.style.left=`${u.left+(b?S.x:-S.x)-(y+14-7)}px`),o.overlap!==!0&&i.push({left:y,top:M,right:$,bottom:M+_}),l.classList.toggle("cm-tooltip-above",A),l.classList.toggle("cm-tooltip-below",!A),o.positioned&&o.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=U0}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),gie=St.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),vie={x:0,y:0},a2=$t.define({enables:[hB,gie]}),G_=$t.define();class o2{static create(e){return new o2(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new fB(e,G_,n=>this.createHostedView(n))}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}}const yie=a2.compute([G_],t=>{let e=t.facet(G_).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.filter(n=>n.end!=null).map(n=>n.end)),create:o2.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class _ie{constructor(e,n,r,i,s){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,n=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(n==null)return;let r=this.view.coordsAtPos(n);if(r==null||e.y<r.top||e.y>r.bottom||e.x<r.left-this.view.defaultCharacterWidth||e.x>r.right+this.view.defaultCharacterWidth)return;let i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find(o=>o.from<=n&&o.to>=n),s=i&&i.dir==Dr.RTL?-1:1,a=this.source(this.view,n,e.x<r.left?-s:s);if(a!=null&&a.then){let o=this.pending={pos:n};a.then(l=>{this.pending==o&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>fo(this.view.state,l,"hover tooltip"))}else a&&this.view.dispatch({effects:this.setHover.of(a)})}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let r=this.active;if(r&&!IN(this.lastMove.target)||this.pending){let{pos:i}=r||this.pending,s=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:i;(i==s?this.view.posAtCoords(this.lastMove)!=i:!bie(this.view,i,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!IN(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function IN(t){for(let e=t;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function bie(t,e,n,r,i,s){let a=document.createRange(),o=t.domAtPos(e),l=t.domAtPos(n);a.setEnd(l.node,l.offset),a.setStart(o.node,o.offset);let u=a.getClientRects();a.detach();for(let c=0;c<u.length;c++){let f=u[c];if(Math.max(f.top-i,i-f.bottom,f.left-r,r-f.right)<=s)return!0}return!1}function wie(t,e={}){let n=un.define(),r=Ki.define({create(){return null},update(i,s){if(i&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,i)))return null;if(i&&s.docChanged){let a=s.changes.mapPos(i.pos,-1,Rs.TrackDel);if(a==null)return null;let o=Object.assign(Object.create(null),i);o.pos=a,i.end!=null&&(o.end=s.changes.mapPos(i.end)),i=o}for(let a of s.effects)a.is(n)&&(i=a.value),a.is(Sie)&&(i=null);return i},provide:i=>G_.from(i)});return[r,ui.define(i=>new _ie(i,t,r,n,e.hoverTime||300)),yie]}function dB(t,e){let n=t.plugin(hB);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Sie=un.define(),DN=$t.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function xg(t,e){let n=t.plugin(pB),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const pB=ui.fromClass(class{constructor(t){this.input=t.state.facet(Eg),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(DN);this.top=new q0(t,!0,e.topContainer),this.bottom=new q0(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(DN);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new q0(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new q0(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Eg);if(n!=this.input){let r=n.filter(l=>l),i=[],s=[],a=[],o=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),o.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?s:a).push(c)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(a);for(let l of o)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>St.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class q0{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=LN(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=LN(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function LN(t){let e=t.nextSibling;return t.remove(),e}const Eg=$t.define({enables:pB});class Du extends lh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Du.prototype.elementClass="";Du.prototype.toDOM=void 0;Du.prototype.mapMode=Rs.TrackBefore;Du.prototype.startSide=Du.prototype.endSide=-1;Du.prototype.point=!0;const e_=$t.define(),xie={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>tr.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},qm=$t.define();function Eie(t){return[mB(),qm.of(Object.assign(Object.assign({},xie),t))]}const L$=$t.define({combine:t=>t.some(e=>e)});function mB(t){let e=[$ie];return t&&t.fixed===!1&&e.push(L$.of(!0)),e}const $ie=ui.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(qm).map(e=>new jN(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(L$),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(L$)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=tr.iter(this.view.state.facet(e_),this.view.viewport.from),r=[],i=this.gutters.map(s=>new Aie(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let a=!0;for(let o of s.type)if(o.type==zr.Text&&a){F$(n,r,o.from);for(let l of i)l.line(this.view,o,r);a=!1}else if(o.widget)for(let l of i)l.widget(this.view,o)}else if(s.type==zr.Text){F$(n,r,s.from);for(let a of i)a.line(this.view,s,r)}for(let s of i)s.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(qm),n=t.state.facet(qm),r=t.docChanged||t.heightChanged||t.viewportChanged||!tr.eq(t.startState.facet(e_),t.state.facet(e_),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let s of n){let a=e.indexOf(s);a<0?i.push(new jN(this.view,s)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>St.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Dr.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}})});function FN(t){return Array.isArray(t)?t:[t]}function F$(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Aie{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=tr.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,s=n.top-this.height;if(this.i==i.elements.length){let a=new gB(e,n.height,s,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,n.height,s,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];F$(this.cursor,i,n.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,n,i);s&&i.unshift(s);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class jN{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,a;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let l=s.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=i.clientY;let o=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,o,i)&&i.preventDefault()});this.markers=FN(n.markers(e)),n.initialSpacer&&(this.spacer=new gB(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=FN(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!tr.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class gB{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.dom.style.height=(this.height=n)+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Pie(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,a=0;;){let o=a,l=s<n.length?n[s++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){o=f,u=!0;break}}else o=this.markers.length;for(;a<o;){let c=this.markers[a++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Pie(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Tie=$t.define(),_d=$t.define({combine(t){return Kl(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let s=r[i],a=n[i];r[i]=s?(o,l,u)=>s(o,l,u)||a(o,l,u):a}return r}})}});class ox extends Du{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function lx(t,e){return t.state.facet(_d).formatNumber(e,t.state)}const Cie=qm.compute([_d],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Tie)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new ox(lx(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet(_d)!=e.state.facet(_d),initialSpacer(e){return new ox(lx(e,BN(e.state.doc.lines)))},updateSpacer(e,n){let r=lx(n.view,BN(n.view.state.doc.lines));return r==e.number?e:new ox(r)},domEventHandlers:t.facet(_d).domEventHandlers}));function kie(t={}){return[_d.of(t),mB(),Cie]}function BN(t){let e=9;for(;e<t;)e=e*10+9;return e}const Oie=new class extends Du{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Rie=e_.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Oie.range(i)))}return tr.of(e)});function Mie(){return Rie}const vB=1024;let Nie=0;class ux{constructor(e,n){this.from=e,this.to=n}}class gn{constructor(e={}){this.id=Nie++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=da.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}gn.closedBy=new gn({deserialize:t=>t.split(" ")});gn.openedBy=new gn({deserialize:t=>t.split(" ")});gn.group=new gn({deserialize:t=>t.split(" ")});gn.contextHash=new gn({perNode:!0});gn.lookAhead=new gn({perNode:!0});gn.mounted=new gn({perNode:!0});const Iie=Object.create(null);class da{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Iie,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new da(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(gn.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(gn.group),s=-1;s<(i?i.length:0);s++){let a=n[s<0?r.name:i[s]];if(a)return a}}}}da.none=new da("",Object.create(null),0,8);class l2{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let a=s(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}n.push(i?new da(r.name,i,r.id,r.flags):r)}return new l2(n)}}const H0=new WeakMap,VN=new WeakMap;var Vi;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Vi||(Vi={}));class li{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[a,o]of s)this.props[typeof a=="number"?a:a.id]=o}}toString(){let e=this.prop(gn.mounted);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new J_(this.topNode,e)}cursorAt(e,n=0,r=0){let i=H0.get(this)||this.topNode,s=new J_(i);return s.moveTo(e,n),H0.set(this,s._tree),s}get topNode(){return new Au(this,0,0,null)}resolve(e,n=0){let r=tp(H0.get(this)||this.topNode,e,n,!1);return H0.set(this,r),r}resolveInner(e,n=0){let r=tp(VN.get(this)||this.topNode,e,n,!0);return VN.set(this,r),r}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e;for(let a=this.cursor((e.mode||0)|Vi.IncludeAnonymous);;){let o=!1;if(a.from<=s&&a.to>=i&&(a.type.isAnonymous||n(a)!==!1)){if(a.firstChild())continue;o=!0}for(;o&&r&&!a.type.isAnonymous&&r(a),!a.nextSibling();){if(!a.parent())return;o=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:f2(da.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new li(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new li(da.none,n,r,i)))}static build(e){return Lie(e)}}li.empty=new li(da.none,[],[],0);class u2{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new u2(this.buffer,this.index)}}class Sh{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return da.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return s+"("+a.join(",")+")"}findChild(e,n,r,i,s){let{buffer:a}=this,o=-1;for(let l=e;l!=n&&!(yB(s,i,a[l+1],a[l+2])&&(o=l,r>0));l=a[l+3]);return o}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),a=0;for(let o=e,l=0;o<n;){s[l++]=i[o++],s[l++]=i[o++]-r;let u=s[l++]=i[o++]-r;s[l++]=i[o++]-e,a=Math.max(a,u)}return new Sh(s,a,this.set)}}function yB(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function _B(t,e){let n=t.childBefore(e);for(;n;){let r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(t=n,n=r.prevSibling):n=r}return t}function tp(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof Au&&t.index<0?null:t.parent;if(!a)return t;t=a}let s=r?0:Vi.IgnoreOverlays;if(r)for(let a=t,o=a.parent;o;a=o,o=a.parent)a instanceof Au&&a.index<0&&((i=o.enter(e,n,s))===null||i===void 0?void 0:i.from)!=a.from&&(t=o);for(;;){let a=t.enter(e,n,s);if(!a)return t;t=a}}class Au{constructor(e,n,r,i){this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let a=this;;){for(let{children:o,positions:l}=a._tree,u=n>0?o.length:-1;e!=u;e+=n){let c=o[e],f=l[e]+a.from;if(yB(i,r,f,f+c.length)){if(c instanceof Sh){if(s&Vi.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,n,r-f,i);if(d>-1)return new wc(new Die(a,c,e,f),null,d)}else if(s&Vi.IncludeAnonymous||!c.type.isAnonymous||c2(c)){let d;if(!(s&Vi.IgnoreMounts)&&c.props&&(d=c.prop(gn.mounted))&&!d.overlay)return new Au(d.tree,f,e,a);let v=new Au(c,f,e,a);return s&Vi.IncludeAnonymous||!v.type.isAnonymous?v:v.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(s&Vi.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Vi.IgnoreOverlays)&&(i=this._tree.prop(gn.mounted))&&i.overlay){let s=e-this.from;for(let{from:a,to:o}of i.overlay)if((n>0?a<=s:a<s)&&(n<0?o>=s:o>s))return new Au(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new J_(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,n=0){return tp(this,e,n,!1)}resolveInner(e,n=0){return tp(this,e,n,!0)}enterUnfinishedNodesBefore(e){return _B(this,e)}getChild(e,n=null,r=null){let i=K_(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return K_(this,e,n,r)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Y_(this,e)}}function K_(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function Y_(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Die{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class wc{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new wc(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Vi.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new wc(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new wc(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new wc(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}cursor(e=0){return new J_(this,e)}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let a=r.buffer[this.index+1];e.push(r.slice(i,s,a)),n.push(0)}return new li(this.type,e,n,this.to-this.from)}resolve(e,n=0){return tp(this,e,n,!1)}resolveInner(e,n=0){return tp(this,e,n,!0)}enterUnfinishedNodesBefore(e){return _B(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,n=null,r=null){let i=K_(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return K_(this,e,n,r)}get node(){return this}matchContext(e){return Y_(this,e)}}class J_{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Au)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Au?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Vi.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Vi.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Vi.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,a=e<0?-1:r._tree.children.length;s!=a;s+=e){let o=r._tree.children[s];if(this.mode&Vi.IncludeAnonymous||o instanceof Sh||!o.type.isAnonymous||c2(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new wc(this.buffer,n,this.stack[i]);return this.bufferNode=new wc(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return Y_(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return Y_(this.node,e,i);let a=r[n.buffer[this.stack[s]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function c2(t){return t.children.some(e=>e instanceof Sh||!e.type.isAnonymous||c2(e))}function Lie(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=vB,reused:s=[],minRepeatType:a=r.types.length}=t,o=Array.isArray(n)?new u2(n,n.length):n,l=r.types,u=0,c=0;function f(M,$,p,x,T){let{id:D,start:C,end:U,size:G}=o,se=c;for(;G<0;)if(o.next(),G==-1){let Ie=s[D];p.push(Ie),x.push(C-M);return}else if(G==-3){u=D;return}else if(G==-4){c=D;return}else throw new RangeError(`Unrecognized record size: ${G}`);let re=l[D],ye,Pe,Ae=C-M;if(U-C<=i&&(Pe=S(o.pos-$,T))){let Ie=new Uint16Array(Pe.size-Pe.skip),Me=o.pos-Pe.size,ae=Ie.length;for(;o.pos>Me;)ae=b(Pe.start,Ie,ae);ye=new Sh(Ie,U-Pe.start,r),Ae=Pe.start-M}else{let Ie=o.pos-G;o.next();let Me=[],ae=[],H=D>=a?D:-1,X=0,V=U;for(;o.pos>Ie;)H>=0&&o.id==H&&o.size>=0?(o.end<=V-i&&(v(Me,ae,C,X,o.end,V,H,se),X=Me.length,V=o.end),o.next()):f(C,Ie,Me,ae,H);if(H>=0&&X>0&&X<Me.length&&v(Me,ae,C,X,C,V,H,se),Me.reverse(),ae.reverse(),H>-1&&X>0){let k=d(re);ye=f2(re,Me,ae,0,Me.length,0,U-C,k,k)}else ye=_(re,Me,ae,U-C,se-U)}p.push(ye),x.push(Ae)}function d(M){return($,p,x)=>{let T=0,D=$.length-1,C,U;if(D>=0&&(C=$[D])instanceof li){if(!D&&C.type==M&&C.length==x)return C;(U=C.prop(gn.lookAhead))&&(T=p[D]+C.length+U)}return _(M,$,p,x,T)}}function v(M,$,p,x,T,D,C,U){let G=[],se=[];for(;M.length>x;)G.push(M.pop()),se.push($.pop()+p-T);M.push(_(r.types[C],G,se,D-T,U-D)),$.push(T-p)}function _(M,$,p,x,T=0,D){if(u){let C=[gn.contextHash,u];D=D?[C].concat(D):[C]}if(T>25){let C=[gn.lookAhead,T];D=D?[C].concat(D):[C]}return new li(M,$,p,x,D)}function S(M,$){let p=o.fork(),x=0,T=0,D=0,C=p.end-i,U={size:0,start:0,skip:0};e:for(let G=p.pos-M;p.pos>G;){let se=p.size;if(p.id==$&&se>=0){U.size=x,U.start=T,U.skip=D,D+=4,x+=4,p.next();continue}let re=p.pos-se;if(se<0||re<G||p.start<C)break;let ye=p.id>=a?4:0,Pe=p.start;for(p.next();p.pos>re;){if(p.size<0)if(p.size==-3)ye+=4;else break e;else p.id>=a&&(ye+=4);p.next()}T=Pe,x+=se,D+=ye}return($<0||x==M)&&(U.size=x,U.start=T,U.skip=D),U.size>4?U:void 0}function b(M,$,p){let{id:x,start:T,end:D,size:C}=o;if(o.next(),C>=0&&x<a){let U=p;if(C>4){let G=o.pos-(C-4);for(;o.pos>G;)p=b(M,$,p)}$[--p]=U,$[--p]=D-M,$[--p]=T-M,$[--p]=x}else C==-3?u=x:C==-4&&(c=x);return p}let y=[],A=[];for(;o.pos>0;)f(t.start||0,t.bufferStart||0,y,A,-1);let R=(e=t.length)!==null&&e!==void 0?e:y.length?A[0]+y[0].length:0;return new li(l[t.topID],y.reverse(),A.reverse(),R)}const zN=new WeakMap;function t_(t,e){if(!t.isAnonymous||e instanceof Sh||e.type!=t)return 1;let n=zN.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof li)){n=1;break}n+=t_(t,r)}zN.set(e,n)}return n}function f2(t,e,n,r,i,s,a,o,l){let u=0;for(let _=r;_<i;_++)u+=t_(t,e[_]);let c=Math.ceil(u*1.5/8),f=[],d=[];function v(_,S,b,y,A){for(let R=b;R<y;){let M=R,$=S[R],p=t_(t,_[R]);for(R++;R<y;R++){let x=t_(t,_[R]);if(p+x>=c)break;p+=x}if(R==M+1){if(p>c){let x=_[M];v(x.children,x.positions,0,x.children.length,S[M]+A);continue}f.push(_[M])}else{let x=S[R-1]+_[R-1].length-$;f.push(f2(t,_,S,M,R,$,x,null,l))}d.push($+A-s)}}return v(e,n,r,i,0),(o||l)(f,d,a)}class rh{constructor(e,n,r,i,s=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new rh(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,a=e.length?e[0]:null;for(let o=0,l=0,u=0;;o++){let c=o<n.length?n[o]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){let d=a;if(l>=d.from||f<=d.to||u){let v=Math.max(d.from,l)-u,_=Math.min(d.to,f)-u;d=v>=_?null:new rh(v,_,d.tree,d.offset+u,o>0,!!c)}if(d&&i.push(d),a.to>f)break;a=s<e.length?e[s++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}class bB{startParse(e,n,r){return typeof e=="string"&&(e=new Fie(e)),r=r?r.length?r.map(i=>new ux(i.from,i.to)):[new ux(0,0)]:[new ux(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}}class Fie{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new gn({perNode:!0});let jie=0;class Cl{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=jie++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new Cl([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new X_;return n=>n.modified.indexOf(e)>-1?n:X_.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let Bie=0;class X_{constructor(){this.instances=[],this.id=Bie++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&Vie(n,o.modified));if(r)return r;let i=[],s=new Cl(i,e,n);for(let o of n)o.instances.push(s);let a=zie(n);for(let o of e.set)if(!o.modified.length)for(let l of a)i.push(X_.get(o,l));return s}}function Vie(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function zie(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function wB(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],a=2,o=i;for(let f=0;;){if(o=="..."&&f>0&&f+3==i.length){a=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!d)throw new RangeError("Invalid path: "+i);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let v=i[f++];if(f==i.length&&v=="!"){a=0;break}if(v!="/")throw new RangeError("Invalid path: "+i);o=i.slice(f)}let l=s.length-1,u=s[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new Q_(r,a,l>0?s.slice(0,l):null);e[u]=c.sort(e[u])}}return SB.add(e)}const SB=new gn;class Q_{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Q_.empty=new Q_([],2,null);function xB(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let a of s.tag)n[a.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let a=i;for(let o of s)for(let l of o.set){let u=n[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function Uie(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function qie(t,e,n,r=0,i=t.length){let s=new Hie(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class Hie{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:a,from:o,to:l}=e;if(o>=r||l<=n)return;a.isTop&&(s=this.highlighters.filter(v=>!v.scope||v.scope(a)));let u=i,c=Wie(e)||Q_.empty,f=Uie(s,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(e.from,u),c.opaque)return;let d=e.tree&&e.tree.prop(gn.mounted);if(d&&d.overlay){let v=e.node.enter(d.overlay[0].from+o,1),_=this.highlighters.filter(b=>!b.scope||b.scope(d.tree.type)),S=e.firstChild();for(let b=0,y=o;;b++){let A=b<d.overlay.length?d.overlay[b]:null,R=A?A.from+o:l,M=Math.max(n,y),$=Math.min(r,R);if(M<$&&S)for(;e.from<$&&(this.highlightRange(e,M,$,i,s),this.startSpan(Math.min($,e.to),u),!(e.to>=R||!e.nextSibling())););if(!A||R>r)break;y=A.to+o,y>n&&(this.highlightRange(v.cursor(),Math.max(n,A.from+o),Math.min(r,y),i,_),this.startSpan(y,u))}S&&e.parent()}else if(e.firstChild()){do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Wie(t){let e=t.type.prop(SB);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ft=Cl.define,W0=ft(),pc=ft(),UN=ft(pc),qN=ft(pc),mc=ft(),G0=ft(mc),cx=ft(mc),El=ft(),Af=ft(El),Sl=ft(),xl=ft(),j$=ft(),cm=ft(j$),K0=ft(),Ke={comment:W0,lineComment:ft(W0),blockComment:ft(W0),docComment:ft(W0),name:pc,variableName:ft(pc),typeName:UN,tagName:ft(UN),propertyName:qN,attributeName:ft(qN),className:ft(pc),labelName:ft(pc),namespace:ft(pc),macroName:ft(pc),literal:mc,string:G0,docString:ft(G0),character:ft(G0),attributeValue:ft(G0),number:cx,integer:ft(cx),float:ft(cx),bool:ft(mc),regexp:ft(mc),escape:ft(mc),color:ft(mc),url:ft(mc),keyword:Sl,self:ft(Sl),null:ft(Sl),atom:ft(Sl),unit:ft(Sl),modifier:ft(Sl),operatorKeyword:ft(Sl),controlKeyword:ft(Sl),definitionKeyword:ft(Sl),moduleKeyword:ft(Sl),operator:xl,derefOperator:ft(xl),arithmeticOperator:ft(xl),logicOperator:ft(xl),bitwiseOperator:ft(xl),compareOperator:ft(xl),updateOperator:ft(xl),definitionOperator:ft(xl),typeOperator:ft(xl),controlOperator:ft(xl),punctuation:j$,separator:ft(j$),bracket:cm,angleBracket:ft(cm),squareBracket:ft(cm),paren:ft(cm),brace:ft(cm),content:El,heading:Af,heading1:ft(Af),heading2:ft(Af),heading3:ft(Af),heading4:ft(Af),heading5:ft(Af),heading6:ft(Af),contentSeparator:ft(El),list:ft(El),quote:ft(El),emphasis:ft(El),strong:ft(El),link:ft(El),monospace:ft(El),strikethrough:ft(El),inserted:ft(),deleted:ft(),changed:ft(),invalid:ft(),meta:K0,documentMeta:ft(K0),annotation:ft(K0),processingInstruction:ft(K0),definition:Cl.defineModifier(),constant:Cl.defineModifier(),function:Cl.defineModifier(),standard:Cl.defineModifier(),local:Cl.defineModifier(),special:Cl.defineModifier()};xB([{tag:Ke.link,class:"tok-link"},{tag:Ke.heading,class:"tok-heading"},{tag:Ke.emphasis,class:"tok-emphasis"},{tag:Ke.strong,class:"tok-strong"},{tag:Ke.keyword,class:"tok-keyword"},{tag:Ke.atom,class:"tok-atom"},{tag:Ke.bool,class:"tok-bool"},{tag:Ke.url,class:"tok-url"},{tag:Ke.labelName,class:"tok-labelName"},{tag:Ke.inserted,class:"tok-inserted"},{tag:Ke.deleted,class:"tok-deleted"},{tag:Ke.literal,class:"tok-literal"},{tag:Ke.string,class:"tok-string"},{tag:Ke.number,class:"tok-number"},{tag:[Ke.regexp,Ke.escape,Ke.special(Ke.string)],class:"tok-string2"},{tag:Ke.variableName,class:"tok-variableName"},{tag:Ke.local(Ke.variableName),class:"tok-variableName tok-local"},{tag:Ke.definition(Ke.variableName),class:"tok-variableName tok-definition"},{tag:Ke.special(Ke.variableName),class:"tok-variableName2"},{tag:Ke.definition(Ke.propertyName),class:"tok-propertyName tok-definition"},{tag:Ke.typeName,class:"tok-typeName"},{tag:Ke.namespace,class:"tok-namespace"},{tag:Ke.className,class:"tok-className"},{tag:Ke.macroName,class:"tok-macroName"},{tag:Ke.propertyName,class:"tok-propertyName"},{tag:Ke.operator,class:"tok-operator"},{tag:Ke.comment,class:"tok-comment"},{tag:Ke.meta,class:"tok-meta"},{tag:Ke.invalid,class:"tok-invalid"},{tag:Ke.punctuation,class:"tok-punctuation"}]);var fx;const bd=new gn;function Gie(t){return $t.define({combine:t?e=>e.concat(t):void 0})}const Kie=new gn;class Go{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Cn.prototype.hasOwnProperty("tree")||Object.defineProperty(Cn.prototype,"tree",{get(){return hs(this)}}),this.parser=n,this.extension=[Hc.of(this),Cn.languageData.of((s,a,o)=>{let l=HN(s,a,o),u=l.type.prop(bd);if(!u)return[];let c=s.facet(u),f=l.type.prop(Kie);if(f){let d=l.resolve(a-l.from,o);for(let v of f)if(v.test(d,s)){let _=s.facet(v.facet);return v.type=="replace"?_:_.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return HN(e,n,r).type.prop(bd)==this.data}findRegions(e){let n=e.facet(Hc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,a)=>{if(s.prop(bd)==this.data){r.push({from:a,to:a+s.length});return}let o=s.prop(gn.mounted);if(o){if(o.tree.prop(bd)==this.data){if(o.overlay)for(let l of o.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+s.length});return}else if(o.overlay){let l=r.length;if(i(o.tree,o.overlay[0].from+a),r.length>l)return}}for(let l=0;l<s.children.length;l++){let u=s.children[l];u instanceof li&&i(u,s.positions[l]+a)}};return i(hs(e),0),r}get allowsNesting(){return!0}}Go.setState=un.define();function HN(t,e,n){let r=t.facet(Hc),i=hs(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,Vi.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Z_ extends Go{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=Gie(e.languageData);return new Z_(n,e.parser.configure({props:[bd.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Z_(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function hs(t){let e=t.field(Go.state,!1);return e?e.tree:li.empty}class Yie{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let fm=null;class eb{constructor(e,n,r=[],i,s,a,o,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=a,this.skipped=o,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new eb(e,n,[],li.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Yie(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=li.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(rh.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(rh.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=fm;fm=this;try{return e()}finally{fm=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=WN(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:a,skipped:o}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,d)=>l.push({fromA:u,toA:c,fromB:f,toB:d})),r=rh.applyChanges(r,l),i=li.empty,s=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){o=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&o.push({from:c,to:f})}}}return new eb(this.parser,n,r,i,s,a,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=WN(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends bB{createParse(n,r,i){let s=i[0].from,a=i[i.length-1].to;return{parsedPos:s,advance(){let l=fm;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new li(da.none,[],[],a-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return fm}}function WN(t,e,n){return rh.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class np{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new np(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=eb.create(e.facet(Hc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new np(r)}}Go.state=Ki.define({create:np.init,update(t,e){for(let n of e.effects)if(n.is(Go.setState))return n.value;return e.startState.facet(Hc)!=e.state.facet(Hc)?np.init(e.state):t.apply(e)}});let EB=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(EB=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:500-100})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const hx=typeof navigator<"u"&&(!((fx=navigator.scheduling)===null||fx===void 0)&&fx.isInputPending)?()=>navigator.scheduling.isInputPending():null,Jie=ui.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(Go.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(Go.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=EB(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(Go.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!hx?Math.max(25,e.timeRemaining()-5):1e9),o=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>hx&&hx()||Date.now()>a,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Go.setState.of(new np(s.context))})),this.chunkBudget>0&&!(l&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>fo(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Hc=$t.define({combine(t){return t.length?t[0]:null},enables:t=>[Go.state,Jie,St.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Xie{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const Qie=$t.define(),k1=$t.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function tb(t){let e=t.facet(k1);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function $g(t,e){let n="",r=t.tabSize,i=t.facet(k1)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function h2(t,e){t instanceof Cn&&(t=new O1(t));for(let r of t.state.facet(Qie)){let i=r(t,e);if(i!==void 0)return i}let n=hs(t.state);return n?Zie(t,n,e):null}class O1{constructor(e,n={}){this.state=e,this.options=n,this.unit=tb(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(s+=a-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return Qg(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let a=s(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const $B=new gn;function Zie(t,e,n){return AB(e.resolveInner(n).enterUnfinishedNodesBefore(n),n,t)}function ese(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function tse(t){let e=t.type.prop($B);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(gn.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return a=>sse(a,!0,1,void 0,s&&!ese(a)?i.from:void 0)}return t.parent==null?nse:null}function AB(t,e,n){for(;t;t=t.parent){let r=tse(t);if(r)return r(d2.create(n,e,t))}return null}function nse(){return 0}class d2 extends O1{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.node=r}static create(e,n,r){return new d2(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let n=this.node.resolve(e.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(rse(n,this.node))break;e=this.state.doc.lineAt(n.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?AB(e,this.pos,this.base):0}}function rse(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function ise(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),a=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let o=n.to;;){let l=e.childAfter(o);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<a?n:null;o=l.to}}function sse(t,e,n,r,i){let s=t.textAfter,a=s.match(/^\s*/)[0].length,o=r&&s.slice(a,a+r.length)==r||i==t.pos+a,l=e?ise(t):null;return l?o?t.column(l.from):t.column(l.to):t.baseIndent+(o?0:t.unit*n)}function GN({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const ase=200;function ose(){return Cn.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+ase)return t;let s=n.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return t;let{state:a}=t,o=-1,l=[];for(let{head:u}of a.selection.ranges){let c=a.doc.lineAt(u);if(c.from==o)continue;o=c.from;let f=h2(a,c.from);if(f==null)continue;let d=/^\s*/.exec(c.text)[0],v=$g(a,f);d!=v&&l.push({from:c.from,to:c.from+d.length,insert:v})}return l.length?[t,{changes:l,sequential:!0}]:t})}const lse=$t.define(),PB=new gn;function use(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function cse(t,e,n){let r=hs(t);if(r.length<n)return null;let i=r.resolveInner(n,1),s=null;for(let a=i;a;a=a.parent){if(a.to<=n||a.from>n)continue;if(s&&a.from<e)break;let o=a.type.prop(PB);if(o&&(a.to<r.length-50||r.length==t.doc.length||!fse(a))){let l=o(a,t);l&&l.from<=n&&l.from>=e&&l.to>n&&(s=l)}}return s}function fse(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function nb(t,e,n){for(let r of t.facet(lse)){let i=r(t,e,n);if(i)return i}return cse(t,e,n)}function TB(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const R1=un.define({map:TB}),tv=un.define({map:TB});function CB(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const fh=Ki.define({create(){return It.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)n.is(R1)&&!hse(t,n.value.from,n.value.to)?t=t.update({add:[KN.range(n.value.from,n.value.to)]}):n.is(tv)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,s)=>{i<r&&s>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,s)=>s<=r||i>=r}))}return t},provide:t=>St.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(KN.range(r,i))}return It.set(e,!0)}});function rb(t,e,n){var r;let i=null;return(r=t.field(fh,!1))===null||r===void 0||r.between(e,n,(s,a)=>{(!i||i.from>s)&&(i={from:s,to:a})}),i}function hse(t,e,n){let r=!1;return t.between(e,e,(i,s)=>{i==e&&s==n&&(r=!0)}),r}function kB(t,e){return t.field(fh,!1)?e:e.concat(un.appendConfig.of(MB()))}const dse=t=>{for(let e of CB(t)){let n=nb(t.state,e.from,e.to);if(n)return t.dispatch({effects:kB(t.state,[R1.of(n),OB(t,n)])}),!0}return!1},pse=t=>{if(!t.state.field(fh,!1))return!1;let e=[];for(let n of CB(t)){let r=rb(t.state,n.from,n.to);r&&e.push(tv.of(r),OB(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function OB(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return St.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const mse=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),s=nb(e,i.from,i.to);s&&n.push(R1.of(s)),r=(s?t.lineBlockAt(s.to):i).to+1}return n.length&&t.dispatch({effects:kB(t.state,n)}),!!n.length},gse=t=>{let e=t.state.field(fh,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(tv.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},vse=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:dse},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:pse},{key:"Ctrl-Alt-[",run:mse},{key:"Ctrl-Alt-]",run:gse}],yse={placeholderDOM:null,placeholderText:""},RB=$t.define({combine(t){return Kl(t,yse)}});function MB(t){let e=[fh,wse];return t&&e.push(RB.of(t)),e}const KN=It.replace({widget:new class extends Vu{toDOM(t){let{state:e}=t,n=e.facet(RB),r=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),o=rb(t.state,a.from,a.to);o&&t.dispatch({effects:tv.of(o)}),s.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(t,r);let i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",e.phrase("folded code")),i.title=e.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}}),_se={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class dx extends Du{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function bse(t={}){let e=Object.assign(Object.assign({},_se),t),n=new dx(e,!0),r=new dx(e,!1),i=ui.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Hc)!=a.state.facet(Hc)||a.startState.field(fh,!1)!=a.state.field(fh,!1)||hs(a.startState)!=hs(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let o=new Vc;for(let l of a.viewportLineBlocks){let u=rb(a.state,l.from,l.to)?r:nb(a.state,l.from,l.to)?n:null;u&&o.add(l.from,l.from,u)}return o.finish()}}),{domEventHandlers:s}=e;return[i,Eie({class:"cm-foldGutter",markers(a){var o;return((o=a.plugin(i))===null||o===void 0?void 0:o.markers)||tr.empty},initialSpacer(){return new dx(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(a,o,l)=>{if(s.click&&s.click(a,o,l))return!0;let u=rb(a.state,o.from,o.to);if(u)return a.dispatch({effects:tv.of(u)}),!0;let c=nb(a.state,o.from,o.to);return c?(a.dispatch({effects:R1.of(c)}),!0):!1}})}),MB()]}const wse=St.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class nv{constructor(e,n){this.specs=e;let r;function i(o){let l=zc.newName();return(r||(r=Object.create(null)))["."+l]=o,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof Go?o=>o.prop(bd)==a.data:a?o=>o==a:void 0,this.style=xB(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:s}).style,this.module=r?new zc(r):null,this.themeType=n.themeType}static define(e,n){return new nv(e,n||{})}}const B$=$t.define(),NB=$t.define({combine(t){return t.length?[t[0]]:null}});function px(t){let e=t.facet(B$);return e.length?e:t.facet(NB)}function IB(t,e){let n=[xse],r;return t instanceof nv&&(t.module&&n.push(St.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(NB.of(t)):r?n.push(B$.computeN([St.darkTheme],i=>i.facet(St.darkTheme)==(r=="dark")?[t]:[])):n.push(B$.of(t)),n}class Sse{constructor(e){this.markCache=Object.create(null),this.tree=hs(e.state),this.decorations=this.buildDeco(e,px(e.state))}update(e){let n=hs(e.state),r=px(e.state),i=r!=px(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return It.none;let r=new Vc;for(let{from:i,to:s}of e.visibleRanges)qie(this.tree,n,(a,o,l)=>{r.add(a,o,this.markCache[l]||(this.markCache[l]=It.mark({class:l})))},i,s);return r.finish()}}const xse=vp.high(ui.fromClass(Sse,{decorations:t=>t.decorations})),Ese=nv.define([{tag:Ke.meta,color:"#404740"},{tag:Ke.link,textDecoration:"underline"},{tag:Ke.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Ke.emphasis,fontStyle:"italic"},{tag:Ke.strong,fontWeight:"bold"},{tag:Ke.strikethrough,textDecoration:"line-through"},{tag:Ke.keyword,color:"#708"},{tag:[Ke.atom,Ke.bool,Ke.url,Ke.contentSeparator,Ke.labelName],color:"#219"},{tag:[Ke.literal,Ke.inserted],color:"#164"},{tag:[Ke.string,Ke.deleted],color:"#a11"},{tag:[Ke.regexp,Ke.escape,Ke.special(Ke.string)],color:"#e40"},{tag:Ke.definition(Ke.variableName),color:"#00f"},{tag:Ke.local(Ke.variableName),color:"#30a"},{tag:[Ke.typeName,Ke.namespace],color:"#085"},{tag:Ke.className,color:"#167"},{tag:[Ke.special(Ke.variableName),Ke.macroName],color:"#256"},{tag:Ke.definition(Ke.propertyName),color:"#00c"},{tag:Ke.comment,color:"#940"},{tag:Ke.invalid,color:"#f00"}]),$se=St.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DB=1e4,LB="()[]{}",FB=$t.define({combine(t){return Kl(t,{afterCursor:!0,brackets:LB,maxScanDistance:DB,renderMatch:Tse})}}),Ase=It.mark({class:"cm-matchingBracket"}),Pse=It.mark({class:"cm-nonmatchingBracket"});function Tse(t){let e=[],n=t.matched?Ase:Pse;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Cse=Ki.define({create(){return It.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(FB);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Il(e.state,i.head,-1,r)||i.head>0&&Il(e.state,i.head-1,1,r)||r.afterCursor&&(Il(e.state,i.head,1,r)||i.head<e.state.doc.length&&Il(e.state,i.head+1,-1,r));s&&(n=n.concat(r.renderMatch(s,e.state)))}return It.set(n,!0)},provide:t=>St.decorations.from(t)}),kse=[Cse,$se];function Ose(t={}){return[FB.of(t),kse]}const Rse=new gn;function V$(t,e,n){let r=t.prop(e<0?gn.openedBy:gn.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function z$(t){let e=t.type.prop(Rse);return e?e(t.node):t}function Il(t,e,n,r={}){let i=r.maxScanDistance||DB,s=r.brackets||LB,a=hs(t),o=a.resolveInner(e,n);for(let l=o;l;l=l.parent){let u=V$(l.type,n,s);if(u&&l.from<l.to){let c=z$(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Mse(t,e,n,l,c,u,s)}}return Nse(t,e,n,a,o.type,i,s)}function Mse(t,e,n,r,i,s,a){let o=r.parent,l={from:i.from,to:i.to},u=0,c=o==null?void 0:o.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&s.indexOf(c.type.name)>-1&&c.from<c.to){let f=z$(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(V$(c.type,n,a))u++;else if(V$(c.type,-n,a)){if(u==0){let f=z$(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Nse(t,e,n,r,i,s,a){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=a.indexOf(o);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!c.next().done&&d<=s;){let v=c.value;n<0&&(d+=v.length);let _=e+d*n;for(let S=n>0?0:v.length-1,b=n>0?v.length:-1;S!=b;S+=n){let y=a.indexOf(v[S]);if(!(y<0||r.resolveInner(_+S,1).type!=i))if(y%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:_+S,to:_+S+1},matched:y>>1==l>>1};f--}}n>0&&(d+=v.length)}return c.done?{start:u,matched:!1}:null}const Ise=Object.create(null),YN=[da.none],JN=[],Dse=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Dse[t]=Lse(Ise,e);function mx(t,e){JN.indexOf(t)>-1||(JN.push(t),console.warn(e))}function Lse(t,e){let n=null;for(let s of e.split(".")){let a=t[s]||Ke[s];a?typeof a=="function"?n?n=a(n):mx(s,`Modifier ${s} used at start of tag`):n?mx(s,`Tag ${s} used as modifier`):n=a:mx(s,`Unknown highlighting tag ${s}`)}if(!n)return 0;let r=e.replace(/ /g,"_"),i=da.define({id:YN.length,name:r,props:[wB({[r]:n})]});return YN.push(i),i.id}const Fse=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=m2(t.state,n.from);return r.line?jse(t):r.block?Vse(t):!1};function p2(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const jse=p2(qse,0),Bse=p2(jB,0),Vse=p2((t,e)=>jB(t,e,Use(e)),0);function m2(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const hm=50;function zse(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-hm,r),a=t.sliceDoc(i,i+hm),o=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(a)[0].length,u=s.length-o;if(s.slice(u-e.length,u)==e&&a.slice(l,l+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-r<=2*hm?c=f=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+hm),f=t.sliceDoc(i-hm,i));let d=/^\s*/.exec(c)[0].length,v=/\s*$/.exec(f)[0].length,_=f.length-v-n.length;return c.slice(d,d+e.length)==e&&f.slice(_,_+n.length)==n?{open:{pos:r+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:i-v-n.length,margin:/\s/.test(f.charAt(_-1))?1:0}}:null}function Use(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function jB(t,e,n=e.selection.ranges){let r=n.map(s=>m2(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,a)=>zse(e,r[a],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,a)=>i[a]?[]:[{from:s.from,insert:r[a].open+" "},{from:s.to,insert:" "+r[a].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let a=0,o;a<i.length;a++)if(o=i[a]){let l=r[a],{open:u,close:c}=o;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function qse(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:a}of n){let o=r.length,l=1e9,u=m2(e,s).line;if(u){for(let c=s;c<=a;){let f=e.doc.lineAt(c);if(f.from>i&&(s==a||a>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,v=d==f.length,_=f.text.slice(d,d+u.length)==u?d:-1;d<f.text.length&&d<l&&(l=d),r.push({line:f,comment:_,token:u,indent:d,empty:v,single:!1})}c=f.to+1}if(l<1e9)for(let c=o;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==o+1&&(r[o].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:o,token:l,indent:u,empty:c,single:f}of r)(f||!c)&&s.push({from:o.from+u,insert:l+" "});let a=e.changes(s);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:a,comment:o,token:l}of r)if(o>=0){let u=a.from+o,c=u+l.length;a.text[c-a.from]==" "&&c++,s.push({from:u,to:c})}return{changes:s}}return null}const U$=Bu.define(),Hse=Bu.define(),Wse=$t.define(),BB=$t.define({combine(t){return Kl(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}});function Gse(t){let e=0;return t.iterChangedRanges((n,r)=>e=r),e}const VB=Ki.define({create(){return Dl.empty},update(t,e){let n=e.state.facet(BB),r=e.annotation(U$);if(r){let l=e.docChanged?nt.single(Gse(e.changes)):void 0,u=la.fromTransaction(e,l),c=r.side,f=c==0?t.undone:t.done;return u?f=ib(f,f.length,n.minDepth,u):f=qB(f,e.startState.selection),new Dl(c==0?r.rest:f,c==0?f:r.rest)}let i=e.annotation(Hse);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(yi.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=la.fromTransaction(e),a=e.annotation(yi.time),o=e.annotation(yi.userEvent);return s?t=t.addChanges(s,a,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,o,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Dl(t.done.map(la.fromJSON),t.undone.map(la.fromJSON))}});function Kse(t={}){return[VB,BB.of(t),St.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?zB:e.inputType=="historyRedo"?q$:null;return r?(e.preventDefault(),r(n)):!1}})]}function M1(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(VB,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const zB=M1(0,!1),q$=M1(1,!1),Yse=M1(0,!0),Jse=M1(1,!0);class la{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new la(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new la(e.changes&&mi.fromJSON(e.changes),[],e.mapped&&Bl.fromJSON(e.mapped),e.startSelection&&nt.fromJSON(e.startSelection),e.selectionsAfter.map(nt.fromJSON))}static fromTransaction(e,n){let r=co;for(let i of e.startState.facet(Wse)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new la(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,co)}static selection(e){return new la(void 0,co,void 0,void 0,e)}}function ib(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function Xse(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,a,o)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];o>=u&&a<=c&&(r=!0)}}),r}function Qse(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function UB(t,e){return t.length?e.length?t.concat(e):t:e}const co=[],Zse=200;function qB(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Zse));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),ib(t,t.length-1,1e9,n.setSelAfter(r)))}else return[la.selection([e])]}function eae(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function gx(t,e){if(!t.length)return t;let n=t.length,r=co;for(;n;){let i=tae(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[la.selection(r)]:co}function tae(t,e,n){let r=UB(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):co,n);if(!t.changes)return la.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(s):s;return new la(i,un.mapEffects(t.effects,e),a,t.startSelection.map(s),r)}const nae=/^(input\.type|delete)($|\.)/;class Dl{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Dl(this.done,this.undone):this}addChanges(e,n,r,i,s){let a=this.done,o=a[a.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||nae.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,Xse(o.changes,e.changes))||r=="input.type.compose")?a=ib(a,a.length-1,i.minDepth,new la(e.changes.compose(o.changes),UB(e.effects,o.effects),o.mapped,o.startSelection,co)):a=ib(a,a.length,i.minDepth,e),new Dl(a,co,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:co;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Qse(s[s.length-1],e)?this:new Dl(qB(this.done,e),this.undone,n,r)}addMapping(e){return new Dl(gx(this.done,e),gx(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1];if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:U$.of({side:e,rest:eae(i)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?co:i.slice(0,i.length-1);return s.mapped&&(a=gx(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:U$.of({side:e,rest:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Dl.empty=new Dl(co,co);const rae=[{key:"Mod-z",run:zB,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:q$,preventDefault:!0},{linux:"Ctrl-Shift-z",run:q$,preventDefault:!0},{key:"Mod-u",run:Yse,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Jse,preventDefault:!0}];function yp(t,e){return nt.create(t.ranges.map(e),t.mainIndex)}function Yl(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function il({state:t,dispatch:e},n){let r=yp(t.selection,n);return r.eq(t.selection)?!1:(e(Yl(t,r)),!0)}function N1(t,e){return nt.cursor(e?t.to:t.from)}function HB(t,e){return il(t,n=>n.empty?t.moveByChar(n,e):N1(n,e))}function ps(t){return t.textDirectionAt(t.state.selection.main.head)==Dr.LTR}const WB=t=>HB(t,!ps(t)),GB=t=>HB(t,ps(t));function KB(t,e){return il(t,n=>n.empty?t.moveByGroup(n,e):N1(n,e))}const iae=t=>KB(t,!ps(t)),sae=t=>KB(t,ps(t));function aae(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function I1(t,e,n){let r=hs(t).resolveInner(e.head),i=n?gn.closedBy:gn.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;aae(t,u,i)?r=u:l=n?u.to:u.from}let s=r.type.prop(i),a,o;return s&&(a=n?Il(t,r.from,1):Il(t,r.to,-1))&&a.matched?o=n?a.end.to:a.end.from:o=n?r.to:r.from,nt.cursor(o,n?-1:1)}const oae=t=>il(t,e=>I1(t.state,e,!ps(t))),lae=t=>il(t,e=>I1(t.state,e,ps(t)));function YB(t,e){return il(t,n=>{if(!n.empty)return N1(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const JB=t=>YB(t,!1),XB=t=>YB(t,!0);function QB(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(St.scrollMargins)){let a=s(t);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function ZB(t,e){let n=QB(t),{state:r}=t,i=yp(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):N1(a,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),l=o.top+n.marginTop,u=o.bottom-n.marginBottom;a&&a.top>l&&a.bottom<u&&(s=St.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-l}))}return t.dispatch(Yl(r,i),{effects:s}),!0}const XN=t=>ZB(t,!1),H$=t=>ZB(t,!0);function Wc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=nt.cursor(r.from+s))}return i}const uae=t=>il(t,e=>Wc(t,e,!0)),cae=t=>il(t,e=>Wc(t,e,!1)),fae=t=>il(t,e=>Wc(t,e,!ps(t))),hae=t=>il(t,e=>Wc(t,e,ps(t))),dae=t=>il(t,e=>nt.cursor(t.lineBlockAt(e.head).from,1)),pae=t=>il(t,e=>nt.cursor(t.lineBlockAt(e.head).to,-1));function mae(t,e,n){let r=!1,i=yp(t.selection,s=>{let a=Il(t,s.head,-1)||Il(t,s.head,1)||s.head>0&&Il(t,s.head-1,1)||s.head<t.doc.length&&Il(t,s.head+1,-1);if(!a||!a.end)return s;r=!0;let o=a.start.from==s.head?a.end.to:a.end.from;return n?nt.range(s.anchor,o):nt.cursor(o)});return r?(e(Yl(t,i)),!0):!1}const gae=({state:t,dispatch:e})=>mae(t,e,!1);function bo(t,e){let n=yp(t.state.selection,r=>{let i=e(r);return nt.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Yl(t.state,n)),!0)}function e9(t,e){return bo(t,n=>t.moveByChar(n,e))}const t9=t=>e9(t,!ps(t)),n9=t=>e9(t,ps(t));function r9(t,e){return bo(t,n=>t.moveByGroup(n,e))}const vae=t=>r9(t,!ps(t)),yae=t=>r9(t,ps(t)),_ae=t=>bo(t,e=>I1(t.state,e,!ps(t))),bae=t=>bo(t,e=>I1(t.state,e,ps(t)));function i9(t,e){return bo(t,n=>t.moveVertically(n,e))}const s9=t=>i9(t,!1),a9=t=>i9(t,!0);function o9(t,e){return bo(t,n=>t.moveVertically(n,e,QB(t).height))}const QN=t=>o9(t,!1),ZN=t=>o9(t,!0),wae=t=>bo(t,e=>Wc(t,e,!0)),Sae=t=>bo(t,e=>Wc(t,e,!1)),xae=t=>bo(t,e=>Wc(t,e,!ps(t))),Eae=t=>bo(t,e=>Wc(t,e,ps(t))),$ae=t=>bo(t,e=>nt.cursor(t.lineBlockAt(e.head).from)),Aae=t=>bo(t,e=>nt.cursor(t.lineBlockAt(e.head).to)),eI=({state:t,dispatch:e})=>(e(Yl(t,{anchor:0})),!0),tI=({state:t,dispatch:e})=>(e(Yl(t,{anchor:t.doc.length})),!0),nI=({state:t,dispatch:e})=>(e(Yl(t,{anchor:t.selection.main.anchor,head:0})),!0),rI=({state:t,dispatch:e})=>(e(Yl(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Pae=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Tae=({state:t,dispatch:e})=>{let n=L1(t).map(({from:r,to:i})=>nt.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:nt.create(n),userEvent:"select"})),!0},Cae=({state:t,dispatch:e})=>{let n=yp(t.selection,r=>{var i;let s=hs(t).resolveInner(r.head,1);for(;!(s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from||!(!((i=s.parent)===null||i===void 0)&&i.parent));)s=s.parent;return nt.range(s.to,s.from)});return e(Yl(t,n)),!0},kae=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=nt.create([n.main]):n.main.empty||(r=nt.create([nt.cursor(n.main.head)])),r?(e(Yl(t,r)),!0):!1};function D1(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:a,to:o}=s;if(a==o){let l=e(a);l<a?(n="delete.backward",l=Y0(t,l,!1)):l>a&&(n="delete.forward",l=Y0(t,l,!0)),a=Math.min(a,l),o=Math.max(o,l)}else a=Y0(t,a,!1),o=Y0(t,o,!0);return a==o?{range:s}:{changes:{from:a,to:o},range:nt.cursor(a)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?St.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Y0(t,e,n){if(t instanceof St)for(let r of t.state.facet(St.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const l9=(t,e)=>D1(t,n=>{let{state:r}=t,i=r.doc.lineAt(n),s,a;if(!e&&n>i.from&&n<i.from+200&&!/[^ \t]/.test(s=i.text.slice(0,n-i.from))){if(s[s.length-1]=="	")return n-1;let o=Qg(s,r.tabSize),l=o%tb(r)||tb(r);for(let u=0;u<l&&s[s.length-1-u]==" ";u++)n--;a=n}else a=Ms(i.text,n-i.from,e,e)+i.from,a==n&&i.number!=(e?r.doc.lines:1)&&(a+=e?1:-1);return a}),W$=t=>l9(t,!1),u9=t=>l9(t,!0),c9=(t,e)=>D1(t,n=>{let r=n,{state:i}=t,s=i.doc.lineAt(r),a=i.charCategorizer(r);for(let o=null;;){if(r==(e?s.to:s.from)){r==n&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Ms(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),c=a(u);if(o!=null&&c!=o)break;(u!=" "||r!=n)&&(o=c),r=l}return r}),f9=t=>c9(t,!1),Oae=t=>c9(t,!0),h9=t=>D1(t,e=>{let n=t.lineBlockAt(e).to;return e<n?n:Math.min(t.state.doc.length,e+1)}),Rae=t=>D1(t,e=>{let n=t.lineBlockAt(e).from;return e>n?n:Math.max(0,e-1)}),Mae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Gn.of(["",""])},range:nt.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Nae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),a=i==s.from?i-1:Ms(s.text,i-s.from,!1)+s.from,o=i==s.to?i+1:Ms(s.text,i-s.from,!0)+s.from;return{changes:{from:a,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(a,i))},range:nt.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function L1(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let a=e[e.length-1];a.to=s.to,a.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function d9(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of L1(t)){if(n?s.to==t.doc.length:s.from==0)continue;let a=t.doc.lineAt(n?s.to+1:s.from-1),o=a.length+1;if(n){r.push({from:s.to,to:a.to},{from:s.from,insert:a.text+t.lineBreak});for(let l of s.ranges)i.push(nt.range(Math.min(t.doc.length,l.anchor+o),Math.min(t.doc.length,l.head+o)))}else{r.push({from:a.from,to:s.from},{from:s.to,insert:t.lineBreak+a.text});for(let l of s.ranges)i.push(nt.range(l.anchor-o,l.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:nt.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Iae=({state:t,dispatch:e})=>d9(t,e,!1),Dae=({state:t,dispatch:e})=>d9(t,e,!0);function p9(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of L1(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Lae=({state:t,dispatch:e})=>p9(t,e,!1),Fae=({state:t,dispatch:e})=>p9(t,e,!0),jae=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(L1(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=yp(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Bae(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=hs(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(gn.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from?{from:r.to,to:i.from}:null}const Vae=m9(!1),zae=m9(!0);function m9(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:a}=i,o=e.doc.lineAt(s),l=!t&&s==a&&Bae(e,s);t&&(s=a=(a<=o.to?o:e.doc.lineAt(a)).to);let u=new O1(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=h2(u,s);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);a<o.to&&/\s/.test(o.text[a-o.from]);)a++;l?{from:s,to:a}=l:s>o.from&&s<o.from+100&&!/\S/.test(o.text.slice(0,s))&&(s=o.from);let f=["",$g(e,c)];return l&&f.push($g(e,u.lineIndent(o.from,-1))),{changes:{from:s,to:a,insert:Gn.of(f)},range:nt.cursor(s+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function g2(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let o=t.doc.lineAt(a);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),a=o.to+1}let s=t.changes(i);return{changes:i,range:nt.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Uae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new O1(t,{overrideIndentation:s=>{let a=n[s];return a??-1}}),i=g2(t,(s,a,o)=>{let l=h2(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let u=/^\s*/.exec(s.text)[0],c=$g(t,l);(u!=c||o.from<s.from+u.length)&&(n[s.from]=l,a.push({from:s.from,to:s.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},g9=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(g2(t,(n,r)=>{r.push({from:n.from,insert:t.facet(k1)})}),{userEvent:"input.indent"})),!0),v9=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(g2(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=Qg(i,t.tabSize),a=0,o=$g(t,Math.max(0,s-tb(t)));for(;a<i.length&&a<o.length&&i.charCodeAt(a)==o.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:o.slice(a)})}),{userEvent:"delete.dedent"})),!0),qae=[{key:"Ctrl-b",run:WB,shift:t9,preventDefault:!0},{key:"Ctrl-f",run:GB,shift:n9},{key:"Ctrl-p",run:JB,shift:s9},{key:"Ctrl-n",run:XB,shift:a9},{key:"Ctrl-a",run:dae,shift:$ae},{key:"Ctrl-e",run:pae,shift:Aae},{key:"Ctrl-d",run:u9},{key:"Ctrl-h",run:W$},{key:"Ctrl-k",run:h9},{key:"Ctrl-Alt-h",run:f9},{key:"Ctrl-o",run:Mae},{key:"Ctrl-t",run:Nae},{key:"Ctrl-v",run:H$}],Hae=[{key:"ArrowLeft",run:WB,shift:t9,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:iae,shift:vae,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:fae,shift:xae,preventDefault:!0},{key:"ArrowRight",run:GB,shift:n9,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:sae,shift:yae,preventDefault:!0},{mac:"Cmd-ArrowRight",run:hae,shift:Eae,preventDefault:!0},{key:"ArrowUp",run:JB,shift:s9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:eI,shift:nI},{mac:"Ctrl-ArrowUp",run:XN,shift:QN},{key:"ArrowDown",run:XB,shift:a9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:tI,shift:rI},{mac:"Ctrl-ArrowDown",run:H$,shift:ZN},{key:"PageUp",run:XN,shift:QN},{key:"PageDown",run:H$,shift:ZN},{key:"Home",run:cae,shift:Sae,preventDefault:!0},{key:"Mod-Home",run:eI,shift:nI},{key:"End",run:uae,shift:wae,preventDefault:!0},{key:"Mod-End",run:tI,shift:rI},{key:"Enter",run:Vae},{key:"Mod-a",run:Pae},{key:"Backspace",run:W$,shift:W$},{key:"Delete",run:u9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:f9},{key:"Mod-Delete",mac:"Alt-Delete",run:Oae},{mac:"Mod-Backspace",run:Rae},{mac:"Mod-Delete",run:h9}].concat(qae.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Wae=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:oae,shift:_ae},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:lae,shift:bae},{key:"Alt-ArrowUp",run:Iae},{key:"Shift-Alt-ArrowUp",run:Lae},{key:"Alt-ArrowDown",run:Dae},{key:"Shift-Alt-ArrowDown",run:Fae},{key:"Escape",run:kae},{key:"Mod-Enter",run:zae},{key:"Alt-l",mac:"Ctrl-l",run:Tae},{key:"Mod-i",run:Cae,preventDefault:!0},{key:"Mod-[",run:v9},{key:"Mod-]",run:g9},{key:"Mod-Alt-\\",run:Uae},{key:"Shift-Mod-k",run:jae},{key:"Shift-Mod-\\",run:gae},{key:"Mod-/",run:Fse},{key:"Alt-A",run:Bse}].concat(Hae),Gae={key:"Tab",run:g9,shift:v9};function pr(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)y9(t,arguments[e]);return t}function y9(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)y9(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const iI=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class rp{constructor(e,n,r=0,i=e.length,s,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?o=>s(iI(o)):iI,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return ji(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=JP(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ao(e);let i=this.normalize(n);for(let s=0,a=r;;s++){let o=i.charCodeAt(s),l=this.match(o,a);if(l)return this.value=l,this;if(s==i.length-1)break;a==r&&s<n.length&&n.charCodeAt(s)==o&&a++}}}match(e,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let s=this.matches[i],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferPos)&&(r=null),r}}typeof Symbol<"u"&&(rp.prototype[Symbol.iterator]=function(){return this});const _9={from:-1,to:-1,match:/.*/.exec("")},v2="gm"+(/x/.unicode==null?"":"u");class b9{constructor(e,n,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=_9,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new w9(e,n,r,i,s);this.re=new RegExp(n,v2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=sb(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=sb(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const vx=new WeakMap;class Nd{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=vx.get(e);if(!i||i.from>=r||i.to<=n){let o=new Nd(n,e.sliceString(n,r));return vx.set(e,o),o}if(i.from==n&&i.to==r)return i;let{text:s,from:a}=i;return a>n&&(s=e.sliceString(n,a)+s,a=n),i.to<r&&(s+=e.sliceString(i.to,r)),vx.set(e,new Nd(a,s)),new Nd(n,s.slice(n-a,r-a))}}class w9{constructor(e,n,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=_9,this.matchPos=sb(e,i),this.re=new RegExp(n,v2+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Nd.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=sb(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Nd.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(b9.prototype[Symbol.iterator]=w9.prototype[Symbol.iterator]=function(){return this});function Kae(t){try{return new RegExp(t,v2),!0}catch{return!1}}function sb(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function G$(t){let e=pr("input",{class:"cm-textfield",name:"line"}),n=pr("form",{class:"cm-gotoLine",onkeydown:i=>{i.keyCode==27?(i.preventDefault(),t.dispatch({effects:ab.of(!1)}),t.focus()):i.keyCode==13&&(i.preventDefault(),r())},onsubmit:i=>{i.preventDefault(),r()}},pr("label",t.state.phrase("Go to line"),": ",e)," ",pr("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function r(){let i=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!i)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,o,l,u,c]=i,f=u?+u.slice(1):0,d=l?+l:a.number;if(l&&c){let _=d/100;o&&(_=_*(o=="-"?-1:1)+a.number/s.doc.lines),d=Math.round(s.doc.lines*_)}else l&&o&&(d=d*(o=="-"?-1:1)+a.number);let v=s.doc.line(Math.max(1,Math.min(s.doc.lines,d)));t.dispatch({effects:ab.of(!1),selection:nt.cursor(v.from+Math.max(0,Math.min(f,v.length))),scrollIntoView:!0}),t.focus()}return{dom:n}}const ab=un.define(),sI=Ki.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(ab)&&(t=n.value);return t},provide:t=>Eg.from(t,e=>e?G$:null)}),Yae=t=>{let e=xg(t,G$);if(!e){let n=[ab.of(!0)];t.state.field(sI,!1)==null&&n.push(un.appendConfig.of([sI,Jae])),t.dispatch({effects:n}),e=xg(t,G$)}return e&&e.dom.querySelector("input").focus(),!0},Jae=St.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Xae={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},S9=$t.define({combine(t){return Kl(t,Xae,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Qae(t){let e=[roe,noe];return t&&e.push(S9.of(t)),e}const Zae=It.mark({class:"cm-selectionMatch"}),eoe=It.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function aI(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=Mr.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=Mr.Word)}function toe(t,e,n,r){return t(e.sliceDoc(n,n+1))==Mr.Word&&t(e.sliceDoc(r-1,r))==Mr.Word}const noe=ui.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(S9),{state:n}=t,r=n.selection;if(r.ranges.length>1)return It.none;let i=r.main,s,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return It.none;let l=n.wordAt(i.head);if(!l)return It.none;a=n.charCategorizer(i.head),s=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return It.none;if(e.wholeWords){if(s=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(aI(a,n,i.from,i.to)&&toe(a,n,i.from,i.to)))return It.none}else if(s=n.sliceDoc(i.from,i.to).trim(),!s)return It.none}let o=[];for(let l of t.visibleRanges){let u=new rp(n.doc,s,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!a||aI(a,n,c,f))&&(i.empty&&c<=i.from&&f>=i.to?o.push(eoe.range(c,f)):(c>=i.to||f<=i.from)&&o.push(Zae.range(c,f)),o.length>e.maxMatches))return It.none}}return It.set(o)}},{decorations:t=>t.decorations}),roe=St.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),ioe=({state:t,dispatch:e})=>{let{selection:n}=t,r=nt.create(n.ranges.map(i=>t.wordAt(i.head)||nt.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function soe(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),s=i&&i.from==n.from&&i.to==n.to;for(let a=!1,o=new rp(t.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(a)return null;o=new rp(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(l=>l.from==o.value.from))continue;if(s){let l=t.wordAt(o.value.from);if(!l||l.from!=o.value.from||l.to!=o.value.to)continue}return o.value}}const aoe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(s=>s.from===s.to))return ioe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(s=>t.sliceDoc(s.from,s.to)!=r))return!1;let i=soe(t,r);return i?(e(t.update({selection:t.selection.addRange(nt.range(i.from,i.to),!1),effects:St.scrollIntoView(i.to)})),!0):!1},_p=$t.define({combine(t){return Kl(t,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:e=>new yoe(e),scrollToMatch:e=>St.scrollIntoView(e)})}});class x9{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Kae(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new coe(this):new loe(this)}getCursor(e,n=0,r){let i=e.doc?e:Cn.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?ld(this,i,n,r):od(this,i,n,r)}}class E9{constructor(e){this.spec=e}}function od(t,e,n,r){return new rp(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?ooe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function ooe(t,e){return(n,r,i,s)=>((s>n||s+i.length<r)&&(s=Math.max(0,n-2),i=t.sliceString(s,Math.min(t.length,r+2))),(e(ob(i,n-s))!=Mr.Word||e(lb(i,n-s))!=Mr.Word)&&(e(lb(i,r-s))!=Mr.Word||e(ob(i,r-s))!=Mr.Word))}class loe extends E9{constructor(e){super(e)}nextMatch(e,n,r){let i=od(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=od(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let s=Math.max(n,i-1e4-this.spec.unquoted.length),a=od(this.spec,e,s,i),o=null;for(;!a.nextOverlapping().done;)o=a.value;if(o)return o;if(s==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=od(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=od(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function ld(t,e,n,r){return new b9(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?uoe(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function ob(t,e){return t.slice(Ms(t,e,!1),e)}function lb(t,e){return t.slice(e,Ms(t,e))}function uoe(t){return(e,n,r)=>!r[0].length||(t(ob(r.input,r.index))!=Mr.Word||t(lb(r.input,r.index))!=Mr.Word)&&(t(lb(r.input,r.index+r[0].length))!=Mr.Word||t(ob(r.input,r.index+r[0].length))!=Mr.Word)}class coe extends E9{nextMatch(e,n,r){let i=ld(this.spec,e,r,e.doc.length).next();return i.done&&(i=ld(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let s=Math.max(n,r-i*1e4),a=ld(this.spec,e,s,r),o=null;for(;!a.next().done;)o=a.value;if(o&&(s==n||o.from>s+10))return o;if(s==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n))}matchAll(e,n){let r=ld(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let s=ld(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Ag=un.define(),y2=un.define(),Cc=Ki.define({create(t){return new yx(K$(t).create(),null)},update(t,e){for(let n of e.effects)n.is(Ag)?t=new yx(n.value.create(),t.panel):n.is(y2)&&(t=new yx(t.query,n.value?_2:null));return t},provide:t=>Eg.from(t,e=>e.panel)});class yx{constructor(e,n){this.query=e,this.panel=n}}const foe=It.mark({class:"cm-searchMatch"}),hoe=It.mark({class:"cm-searchMatch cm-searchMatch-selected"}),doe=ui.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Cc))}update(t){let e=t.state.field(Cc);(e!=t.startState.field(Cc)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return It.none;let{view:n}=this,r=new Vc;for(let i=0,s=n.visibleRanges,a=s.length;i<a;i++){let{from:o,to:l}=s[i];for(;i<a-1&&l>s[i+1].from-2*250;)l=s[++i].to;t.highlight(n.state,o,l,(u,c)=>{let f=n.state.selection.ranges.some(d=>d.from==u&&d.to==c);r.add(u,c,f?hoe:foe)})}return r.finish()}},{decorations:t=>t.decorations});function rv(t){return e=>{let n=e.state.field(Cc,!1);return n&&n.query.spec.valid?t(e,n):P9(e)}}const ub=rv((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=nt.single(r.from,r.to),s=t.state.facet(_p);return t.dispatch({selection:i,effects:[b2(t,r),s.scrollToMatch(i.main,t)],userEvent:"select.search"}),A9(t),!0}),cb=rv((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let s=nt.single(i.from,i.to),a=t.state.facet(_p);return t.dispatch({selection:s,effects:[b2(t,i),a.scrollToMatch(s.main,t)],userEvent:"select.search"}),A9(t),!0}),poe=rv((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:nt.create(n.map(r=>nt.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),moe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,s=[],a=0;for(let o=new rp(t.doc,t.sliceDoc(r,i));!o.next().done;){if(s.length>1e3)return!1;o.value.from==r&&(a=s.length),s.push(nt.range(o.value.from,o.value.to))}return e(t.update({selection:nt.create(s,a),userEvent:"select.search.matches"})),!0},oI=rv((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let s=e.nextMatch(n,r,r);if(!s)return!1;let a=[],o,l,u=[];if(s.from==r&&s.to==i&&(l=n.toText(e.getReplacement(s)),a.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(n,s.from,s.to),u.push(St.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),s){let c=a.length==0||a[0].from>=s.to?0:s.to-s.from-l.length;o=nt.single(s.from-c,s.to-c),u.push(b2(t,s)),u.push(n.facet(_p).scrollToMatch(o.main,t))}return t.dispatch({changes:a,selection:o,effects:u,userEvent:"input.replace"}),!0}),goe=rv((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:s,to:a}=i;return{from:s,to:a,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:St.announce.of(r),userEvent:"input.replace.all"}),!0});function _2(t){return t.state.facet(_p).createPanel(t)}function K$(t,e){var n,r,i,s;let a=t.selection.main,o=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!o)return e;let l=t.facet(_p);return new x9({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:l.literal)?o:o.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:l.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:l.literal,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:l.wholeWord})}function $9(t){let e=xg(t,_2);return e&&e.dom.querySelector("[main-field]")}function A9(t){let e=$9(t);e&&e==t.root.activeElement&&e.select()}const P9=t=>{let e=t.state.field(Cc,!1);if(e&&e.panel){let n=$9(t);if(n&&n!=t.root.activeElement){let r=K$(t.state,e.query.spec);r.valid&&t.dispatch({effects:Ag.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[y2.of(!0),e?Ag.of(K$(t.state,e.query.spec)):un.appendConfig.of(boe)]});return!0},T9=t=>{let e=t.state.field(Cc,!1);if(!e||!e.panel)return!1;let n=xg(t,_2);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:y2.of(!1)}),!0},voe=[{key:"Mod-f",run:P9,scope:"editor search-panel"},{key:"F3",run:ub,shift:cb,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:ub,shift:cb,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:T9,scope:"editor search-panel"},{key:"Mod-Shift-l",run:moe},{key:"Alt-g",run:Yae},{key:"Mod-d",run:aoe,preventDefault:!0}];class yoe{constructor(e){this.view=e;let n=this.query=e.state.field(Cc).query.spec;this.commit=this.commit.bind(this),this.searchField=pr("input",{value:n.search,placeholder:$a(e,"Find"),"aria-label":$a(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=pr("input",{value:n.replace,placeholder:$a(e,"Replace"),"aria-label":$a(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=pr("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=pr("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=pr("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,s,a){return pr("button",{class:"cm-button",name:i,onclick:s,type:"button"},a)}this.dom=pr("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>ub(e),[$a(e,"next")]),r("prev",()=>cb(e),[$a(e,"previous")]),r("select",()=>poe(e),[$a(e,"all")]),pr("label",null,[this.caseField,$a(e,"match case")]),pr("label",null,[this.reField,$a(e,"regexp")]),pr("label",null,[this.wordField,$a(e,"by word")]),...e.state.readOnly?[]:[pr("br"),this.replaceField,r("replace",()=>oI(e),[$a(e,"replace")]),r("replaceAll",()=>goe(e),[$a(e,"replace all")])],pr("button",{name:"close",onclick:()=>T9(e),"aria-label":$a(e,"close"),type:"button"},[""])])}commit(){let e=new x9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Ag.of(e)}))}keydown(e){Nre(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?cb:ub)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),oI(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(Ag)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(_p).top}}function $a(t,e){return t.state.phrase(e)}const J0=30,X0=/[\s\.,:;?!]/;function b2(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,s=Math.max(r.from,e-J0),a=Math.min(i,n+J0),o=t.state.sliceDoc(s,a);if(s!=r.from){for(let l=0;l<J0;l++)if(!X0.test(o[l+1])&&X0.test(o[l])){o=o.slice(l);break}}if(a!=i){for(let l=o.length-1;l>o.length-J0;l--)if(!X0.test(o[l-1])&&X0.test(o[l])){o=o.slice(0,l);break}}return St.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${r.number}.`)}const _oe=St.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),boe=[Cc,vp.lowest(doe),_oe];class C9{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=hs(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(k9(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function lI(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function woe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=lI(e)+lI(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Soe(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:woe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}class uI{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function kc(t){return t.selection.main.from}function k9(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const xoe=Bu.define();function Eoe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,a=r-i.from;return Object.assign(Object.assign({},t.changeByRange(o=>o!=i&&n!=r&&t.sliceDoc(o.from+s,o.from+a)!=t.sliceDoc(n,r)?{range:o}:{changes:{from:o.from+s,to:r==i.from?o.to:o.from+a,insert:e},range:nt.cursor(o.from+s+e.length)})),{userEvent:"input.complete"})}const cI=new WeakMap;function $oe(t){if(!Array.isArray(t))return t;let e=cI.get(t);return e||cI.set(t,e=Soe(t)),e}const w2=un.define(),Pg=un.define();class Aoe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let n=0;n<e.length;){let r=ji(e,n),i=ao(r);this.chars.push(r);let s=e.slice(n,n+i),a=s.toUpperCase();this.folded.push(ji(a==s?s.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[-100];if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:a}=this;if(n.length==1){let A=ji(e,0),R=ao(A),M=R==e.length?0:-100;if(A!=n[0])if(A==r[0])M+=-200;else return null;return[M,0,R]}let o=e.indexOf(this.pattern);if(o==0)return[e.length==this.pattern.length?0:-100,0,this.pattern.length];let l=n.length,u=0;if(o<0){for(let A=0,R=Math.min(e.length,200);A<R&&u<l;){let M=ji(e,A);(M==n[u]||M==r[u])&&(i[u++]=A),A+=ao(M)}if(u<l)return null}let c=0,f=0,d=!1,v=0,_=-1,S=-1,b=/[a-z]/.test(e),y=!0;for(let A=0,R=Math.min(e.length,200),M=0;A<R&&f<l;){let $=ji(e,A);o<0&&(c<l&&$==n[c]&&(s[c++]=A),v<l&&($==n[v]||$==r[v]?(v==0&&(_=A),S=A+1,v++):v=0));let p,x=$<255?$>=48&&$<=57||$>=97&&$<=122?2:$>=65&&$<=90?1:0:(p=JP($))!=p.toLowerCase()?1:p!=p.toUpperCase()?2:0;(!A||x==1&&b||M==0&&x!=0)&&(n[f]==$||r[f]==$&&(d=!0)?a[f++]=A:a.length&&(y=!1)),M=x,A+=ao($)}return f==l&&a[0]==0&&y?this.result(-100+(d?-200:0),a,e):v==l&&_==0?[-200-e.length+(S==e.length?0:-100),0,S]:o>-1?[-700-e.length,o,o+this.pattern.length]:v==l?[-200+-700-e.length,_,S]:f==l?this.result(-100+(d?-200:0)+-700+(y?0:-1100),a,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[e-r.length],s=1;for(let a of n){let o=a+(this.astral?ao(ji(r,a)):1);s>1&&i[s-1]==a?i[s-1]=o:(i[s++]=a,i[s++]=o)}return i}}const ua=$t.define({combine(t){return Kl(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Poe,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>fI(e(r),n(r)),optionClass:(e,n)=>r=>fI(e(r),n(r)),addToOptions:(e,n)=>e.concat(n)})}});function fI(t,e){return t?e?t+" "+e:t:e}function Poe(t,e,n,r,i){let s=t.textDirection==Dr.RTL,a=s,o=!1,l="top",u,c,f=e.left-i.left,d=i.right-e.right,v=r.right-r.left,_=r.bottom-r.top;if(a&&f<Math.min(v,d)?a=!1:!a&&d<Math.min(v,f)&&(a=!0),v<=(a?f:d))u=Math.max(i.top,Math.min(n.top,i.bottom-_))-e.top,c=Math.min(400,a?f:d);else{o=!0,c=Math.min(400,(s?e.right:i.right-e.left)-30);let S=i.bottom-e.bottom;S>=_||S>e.top?u=n.bottom-e.top:(l="bottom",u=e.bottom-n.top)}return{style:`${l}: ${u}px; max-width: ${c}px`,class:"cm-completionInfo-"+(o?s?"left-narrow":"right-narrow":a?"left":"right")}}function Q0(t,e="option"){return n=>{let r=n.state.field(Oa,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(ua).interactionDelay)return!1;let i=1,s;e=="page"&&(s=dB(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),n.dispatch({effects:M9.of(o)}),!0}}const Toe=t=>{let e=t.state.field(Oa,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||Date.now()-e.open.timestamp<t.state.facet(ua).interactionDelay?!1:e.open.disabled?!0:O9(t,e.open.options[e.open.selected])},Coe=t=>t.state.field(Oa,!1)?(t.dispatch({effects:w2.of(!0)}),!0):!1,koe=t=>{let e=t.state.field(Oa,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Pg.of(null)}),!0)};class Ooe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const hI=50,Roe=50,Moe=1e3,Noe=ui.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(Oa).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(Oa);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Oa)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!Y$(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(n||i.updates.length+t.transactions.length>Roe&&Date.now()-i.time>Moe){for(let s of i.context.abortListeners)try{s()}catch(a){fo(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),hI):-1,this.composing!=0)for(let r of t.transactions)Y$(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(Oa);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=kc(e),r=new C9(e,n,t.explicitPos==n),i=new Ooe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Pg.of(null)}),fo(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),hI))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(ua);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let a=new Id(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:kc(i.updates.length?i.updates[0].startState:this.view.state));for(let o of i.updates)a=a.update(o,n);if(a.hasResult()){e.push(a);continue}}let s=this.view.state.field(Oa).active.find(a=>a.source==i.active.source);if(s&&s.state==1)if(i.done==null){let a=new sa(i.active.source,0);for(let o of i.updates)a=a.update(o,n);a.state!=1&&e.push(a)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:R9.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Oa,!1);if(e&&e.tooltip&&this.view.state.facet(ua).closeOnBlur){let n=e.open&&dB(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:Pg.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:w2.of(!1)}),20),this.composing=0}}});function O9(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Oa).active.find(i=>i.source==e.source);return r instanceof Id?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Eoe(t.state,n,r.from,r.to)),{annotations:xoe.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}function Ioe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i){let s=document.createElement("span");s.className="cm-completionLabel";let{label:a}=n,o=0;for(let l=1;l<i.length;){let u=i[l++],c=i[l++];u>o&&s.appendChild(document.createTextNode(a.slice(o,u)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,c))),f.className="cm-completionMatchedText",o=c}return o<a.length&&s.appendChild(document.createTextNode(a.slice(o))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function dI(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Doe{constructor(e,n){this.view=e,this.stateField=n,this.info=null,this.placeInfoReq={read:()=>this.measureInfo(),write:o=>this.placeInfo(o),key:this},this.space=null,this.currentClass="";let r=e.state.field(n),{options:i,selected:s}=r.open,a=e.state.facet(ua);this.optionContent=Ioe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=dI(i.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",o=>{for(let l=o.target,u;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(u=/-(\d+)$/.exec(l.id))&&+u[1]<i.length){O9(e,i[+u[1]]),o.preventDefault();return}}),this.dom.addEventListener("focusout",o=>{let l=e.state.field(this.stateField,!1);l&&l.tooltip&&e.state.facet(ua).closeOnBlur&&o.relatedTarget!=e.contentDOM&&e.dispatch({effects:Pg.of(null)})}),this.list=this.dom.appendChild(this.createListBox(i,r.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}mount(){this.updateSel()}update(e){var n,r,i;let s=e.state.field(this.stateField),a=e.startState.field(this.stateField);this.updateTooltipClass(e.state),s!=a&&(this.updateSel(),((n=s.open)===null||n===void 0?void 0:n.disabled)!=((r=a.open)===null||r===void 0?void 0:r.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(!((i=s.open)===null||i===void 0)&&i.disabled)))}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=dI(n.options.length,n.selected,this.view.state.facet(ua).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a)}).catch(a=>fo(this.view.state,a,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let n=this.info=document.createElement("div");n.className="cm-tooltip cm-completionInfo",n.appendChild(e),this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Foe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let a=this.dom.ownerDocument.defaultView||window;s={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(ua).positionInfo(this.view,n,i,r,s)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let s=null;for(let a=r.from;a<r.to;a++){let{completion:o,match:l}=e[a],{section:u}=o;if(u){let d=typeof u=="string"?u:u.name;if(d!=s&&(a>r.from||r.from==0))if(s=d,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let v=i.appendChild(document.createElement("completion-section"));v.textContent=d}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+a,c.setAttribute("role","option");let f=this.optionClass(o);f&&(c.className=f);for(let d of this.optionContent){let v=d(o,this.view.state,l);v&&c.appendChild(v)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}}function Loe(t){return e=>new Doe(e,t)}function Foe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect();r.top<n.top?t.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(t.scrollTop+=r.bottom-n.bottom)}function pI(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function joe(t,e){let n=[],r=null,i=l=>{n.push(l);let{section:u}=l.completion;if(u){r||(r=[]);let c=typeof u=="string"?u:u.name;r.some(f=>f.name==c)||r.push(typeof u=="string"?{name:c}:u)}};for(let l of t)if(l.hasResult())if(l.result.filter===!1){let u=l.result.getMatch;for(let c of l.result.options){let f=[1e9-n.length];if(u)for(let d of u(c))f.push(d);i(new uI(c,l.source,f,f[0]))}}else{let u=new Aoe(e.sliceDoc(l.from,l.to)),c;for(let f of l.result.options)(c=u.match(f.label))&&i(new uI(f,l.source,c,c[0]+(f.boost||0)))}if(r){let l=Object.create(null),u=0,c=(f,d)=>{var v,_;return((v=f.rank)!==null&&v!==void 0?v:1e9)-((_=d.rank)!==null&&_!==void 0?_:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(c))u-=1e5,l[f.name]=u;for(let f of n){let{section:d}=f.completion;d&&(f.score+=l[typeof d=="string"?d:d.name])}}let s=[],a=null,o=e.facet(ua).compareCompletions;for(let l of n.sort((u,c)=>c.score-u.score||o(u.completion,c.completion)))!a||a.label!=l.completion.label||a.detail!=l.completion.detail||a.type!=null&&l.completion.type!=null&&a.type!=l.completion.type||a.apply!=l.completion.apply?s.push(l):pI(l.completion)>pI(a)&&(s[s.length-1]=l),a=l.completion;return s}class wd{constructor(e,n,r,i,s,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new wd(this.options,mI(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s){let a=joe(e,n);if(!a.length)return i&&e.some(l=>l.state==1)?new wd(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let o=n.facet(ua).selectOnOpen?0:-1;if(i&&i.selected!=o&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==l){o=u;break}}return new wd(a,mI(r,o),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:Loe(Oa),above:s.aboveCursor},i?i.timestamp:Date.now(),o,!1)}map(e){return new wd(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class fb{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new fb(zoe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(ua),s=(r.override||n.languageDataAt("autocomplete",kc(n)).map($oe)).map(o=>(this.active.find(u=>u.source==o)||new sa(o,this.active.some(u=>u.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((o,l)=>o==this.active[l])&&(s=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||s.some(o=>o.hasResult()&&e.changes.touchesRange(o.from,o.to))||!Boe(s,this.active)?a=wd.build(s,n,this.id,a,r):a&&a.disabled&&!s.some(o=>o.state==1)&&(a=null),!a&&s.every(o=>o.state!=1)&&s.some(o=>o.hasResult())&&(s=s.map(o=>o.hasResult()?new sa(o.source,0):o));for(let o of e.effects)o.is(M9)&&(a=a&&a.setSelected(o.value,this.id));return s==this.active&&a==this.open?this:new fb(s,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Voe}}function Boe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const Voe={"aria-autocomplete":"list"};function mI(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const zoe=[];function Y$(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class sa{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=Y$(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new sa(i.source,0));for(let s of e.effects)if(s.is(w2))i=new sa(i.source,1,s.value?kc(e.state):-1);else if(s.is(Pg))i=new sa(i.source,0);else if(s.is(R9))for(let a of s.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new sa(this.source,1)}handleChange(e){return e.changes.touchesRange(kc(e.startState))?new sa(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new sa(this.source,this.state,e.mapPos(this.explicitPos))}}class Id extends sa{constructor(e,n,r,i,s){super(e,2,n),this.result=r,this.from=i,this.to=s}hasResult(){return!0}handleUserEvent(e,n,r){var i;let s=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),o=kc(e.state);if((this.explicitPos<0?o<=s:o<this.from)||o>a||n=="delete"&&kc(e.startState)==this.from)return new sa(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return Uoe(this.result.validFor,e.state,s,a)?new Id(this.source,l,this.result,s,a):this.result.update&&(u=this.result.update(this.result,s,a,new C9(e.state,o,l>=0)))?new Id(this.source,l,u,u.from,(i=u.to)!==null&&i!==void 0?i:kc(e.state)):new sa(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new sa(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Id(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Uoe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):k9(t,!0).test(i)}const R9=un.define({map(t,e){return t.map(n=>n.map(e))}}),M9=un.define(),Oa=Ki.define({create(){return fb.start()},update(t,e){return t.update(e)},provide:t=>[a2.from(t,e=>e.tooltip),St.contentAttributes.from(t,e=>e.attrs)]}),qoe=St.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Tg={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Jf=un.define({map(t,e){let n=e.mapPos(t,-1,Rs.TrackAfter);return n??void 0}}),S2=new class extends lh{};S2.startSide=1;S2.endSide=-1;const N9=Ki.define({create(){return tr.empty},update(t,e){if(e.selection){let n=e.state.doc.lineAt(e.selection.main.head).from,r=e.startState.doc.lineAt(e.startState.selection.main.head).from;n!=e.changes.mapPos(r,-1)&&(t=tr.empty)}t=t.map(e.changes);for(let n of e.effects)n.is(Jf)&&(t=t.update({add:[S2.range(n.value,n.value+1)]}));return t}});function Hoe(){return[Goe,N9]}const _x="()[]{}<>";function I9(t){for(let e=0;e<_x.length;e+=2)if(_x.charCodeAt(e)==t)return _x.charAt(e+1);return JP(t<128?t:t+1)}function D9(t,e){return t.languageDataAt("closeBrackets",e)[0]||Tg}const Woe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Goe=St.inputHandler.of((t,e,n,r)=>{if((Woe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&ao(ji(r,0))==1||e!=i.from||n!=i.to)return!1;let s=Joe(t.state,r);return s?(t.dispatch(s),!0):!1}),Koe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=D9(t,t.selection.main.head).brackets||Tg.brackets,i=null,s=t.changeByRange(a=>{if(a.empty){let o=Xoe(t.doc,a.head);for(let l of r)if(l==o&&F1(t.doc,a.head)==I9(ji(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:nt.cursor(a.head-l.length)}}return{range:i=a}});return i||e(t.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Yoe=[{key:"Backspace",run:Koe}];function Joe(t,e){let n=D9(t,t.selection.main.head),r=n.brackets||Tg.brackets;for(let i of r){let s=I9(ji(i,0));if(e==i)return s==i?ele(t,i,r.indexOf(i+i+i)>-1,n):Qoe(t,i,s,n.before||Tg.before);if(e==s&&L9(t,t.selection.main.from))return Zoe(t,i,s)}return null}function L9(t,e){let n=!1;return t.field(N9).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function F1(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ao(ji(n,0)))}function Xoe(t,e){let n=t.sliceString(e-2,e);return ao(ji(n,0))==n.length?n:n.slice(1)}function Qoe(t,e,n,r){let i=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:Jf.of(a.to+e.length),range:nt.range(a.anchor+e.length,a.head+e.length)};let o=F1(t.doc,a.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:a.head},effects:Jf.of(a.head+e.length),range:nt.cursor(a.head+e.length)}:{range:i=a}});return i?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Zoe(t,e,n){let r=null,i=t.changeByRange(s=>s.empty&&F1(t.doc,s.head)==n?{changes:{from:s.head,to:s.head+n.length,insert:n},range:nt.cursor(s.head+n.length)}:r={range:s});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function ele(t,e,n,r){let i=r.stringPrefixes||Tg.stringPrefixes,s=null,a=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Jf.of(o.to+e.length),range:nt.range(o.anchor+e.length,o.head+e.length)};let l=o.head,u=F1(t.doc,l),c;if(u==e){if(gI(t,l))return{changes:{insert:e+e,from:l},effects:Jf.of(l+e.length),range:nt.cursor(l+e.length)};if(L9(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:nt.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=vI(t,l-2*e.length,i))>-1&&gI(t,c))return{changes:{insert:e+e+e+e,from:l},effects:Jf.of(l+e.length),range:nt.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=Mr.Word&&vI(t,l,i)>-1&&!tle(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Jf.of(l+e.length),range:nt.cursor(l+e.length)}}return{range:s=o}});return s?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function gI(t,e){let n=hs(t).resolveInner(e+1);return n.parent&&n.from==e}function tle(t,e,n,r){let i=hs(t).resolveInner(e,-1),s=r.reduce((a,o)=>Math.max(a,o.length),0);for(let a=0;a<5;a++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+s)),l=o.indexOf(n);if(!l||l>-1&&r.indexOf(o.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function vI(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=Mr.Word)return e;for(let i of n){let s=e-i.length;if(t.sliceDoc(s,e)==i&&r(t.sliceDoc(s-1,s))!=Mr.Word)return s}return-1}function nle(t={}){return[Oa,ua.of(t),Noe,rle,qoe]}const F9=[{key:"Ctrl-Space",run:Coe},{key:"Escape",run:koe},{key:"ArrowDown",run:Q0(!0)},{key:"ArrowUp",run:Q0(!1)},{key:"PageDown",run:Q0(!0,"page")},{key:"PageUp",run:Q0(!1,"page")},{key:"Enter",run:Toe}],rle=vp.highest(C1.computeN([ua],t=>t.facet(ua).defaultKeymap?[F9]:[]));class ile{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Df{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,s=r.facet(V9).markerFilter;s&&(i=s(i));let a=It.set(i.map(o=>o.from==o.to||o.from==o.to-1&&r.doc.lineAt(o.from).to==o.from?It.widget({widget:new dle(o),diagnostic:o}).range(o.from):It.mark({attributes:{class:"cm-lintRange cm-lintRange-"+o.severity},diagnostic:o}).range(o.from,o.to)),!0);return new Df(a,n,ip(a))}}function ip(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,s,{spec:a})=>{if(!(e&&a.diagnostic!=e))return r=new ile(i,s,a.diagnostic),!1}),r}function sle(t,e){return!!(t.effects.some(n=>n.is(j9))||t.changes.touchesRange(e.pos))}function ale(t,e){return t.field(Ma,!1)?e:e.concat(un.appendConfig.of(gle))}const j9=un.define(),x2=un.define(),B9=un.define(),Ma=Ki.define({create(){return new Df(It.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=ip(n,t.selected.diagnostic,i)||ip(n,null,i)}t=new Df(n,t.panel,r)}for(let n of e.effects)n.is(j9)?t=Df.init(n.value,t.panel,e.state):n.is(x2)?t=new Df(t.diagnostics,n.value?j1.open:null,t.selected):n.is(B9)&&(t=new Df(t.diagnostics,t.panel,n.value));return t},provide:t=>[Eg.from(t,e=>e.panel),St.decorations.from(t,e=>e.diagnostics)]}),ole=It.mark({class:"cm-lintRange cm-lintRange-active"});function lle(t,e,n){let{diagnostics:r}=t.state.field(Ma),i=[],s=2e8,a=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0))&&(i.push(c.diagnostic),s=Math.min(l,s),a=Math.max(u,a))});let o=t.state.facet(V9).tooltipFilter;return o&&(i=o(i)),i.length?{pos:s,end:a,above:t.state.doc.lineAt(s).to<a,create(){return{dom:ule(t,i)}}}:null}function ule(t,e){return pr("ul",{class:"cm-tooltip-lint"},e.map(n=>U9(t,n,!1)))}const cle=t=>{let e=t.state.field(Ma,!1);(!e||!e.panel)&&t.dispatch({effects:ale(t.state,[x2.of(!0)])});let n=xg(t,j1.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},yI=t=>{let e=t.state.field(Ma,!1);return!e||!e.panel?!1:(t.dispatch({effects:x2.of(!1)}),!0)},fle=t=>{let e=t.state.field(Ma,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},hle=[{key:"Mod-Shift-m",run:cle,preventDefault:!0},{key:"F8",run:fle}],V9=$t.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Kl(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function z9(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function U9(t,e,n){var r;let i=n?z9(e.actions):[];return pr("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},pr("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,a)=>{let o=!1,l=d=>{if(d.preventDefault(),o)return;o=!0;let v=ip(t.state.field(Ma).diagnostics,e);v&&s.apply(t,v.from,v.to)},{name:u}=s,c=i[a]?u.indexOf(i[a]):-1,f=c<0?u:[u.slice(0,c),pr("u",u.slice(c,c+1)),u.slice(c+1)];return pr("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[a]})"`}.`},f)}),e.source&&pr("div",{class:"cm-diagnosticSource"},e.source))}class dle extends Vu{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return pr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class _I{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=U9(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class j1{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)yI(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],a=z9(s.actions);for(let o=0;o<a.length;o++)if(a[o].toUpperCase().charCodeAt(0)==i.keyCode){let l=ip(this.view.state.field(Ma).diagnostics,s);l&&s.actions[o].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=pr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=pr("div",{class:"cm-panel-lint"},this.list,pr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>yI(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ma).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Ma),r=0,i=!1,s=null;for(e.between(0,this.view.state.doc.length,(a,o,{spec:l})=>{let u=-1,c;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){u=f;break}u<0?(c=new _I(this.view,l.diagnostic),this.items.splice(r,0,c),i=!0):(c=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),n&&c.diagnostic==n.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new _I(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:o})=>{a.top<o.top?this.list.scrollTop-=o.top-a.top:a.bottom>o.bottom&&(this.list.scrollTop+=a.bottom-o.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Ma),r=ip(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:B9.of(r)})}static open(e){return new j1(e)}}function ple(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function bx(t){return ple(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const mle=St.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:bx("#d11")},".cm-lintRange-warning":{backgroundImage:bx("orange")},".cm-lintRange-info":{backgroundImage:bx("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),gle=[Ma,St.decorations.compute([Ma],t=>{let{selected:e,panel:n}=t.field(Ma);return!e||!n||e.from==e.to?It.none:It.set([ole.range(e.from,e.to)])}),wie(lle,{hideOn:sle}),mle],E2=(()=>[kie(),Mie(),Xre(),Kse(),bse(),Bre(),Hre(),Cn.allowMultipleSelections.of(!0),ose(),IB(Ese,{fallback:!0}),Ose(),Hoe(),nle(),fie(),pie(),rie(),Qae(),C1.of([...Yoe,...Wae,...voe,...rae,...vse,...F9,...hle])])();/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var vle=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[E2]}),q9=Symbol("vue-codemirror-global-config"),Os,yle=function(t){var e=t.onUpdate,n=t.onChange,r=t.onFocus,i=t.onBlur,s=function(a,o){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&o.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var c=0;for(u=Object.getOwnPropertySymbols(a);c<u.length;c++)o.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(a,u[c])&&(l[u[c]]=a[u[c]])}return l}(t,["onUpdate","onChange","onFocus","onBlur"]);return Cn.create({doc:s.doc,selection:s.selection,extensions:(Array.isArray(s.extensions)?s.extensions:[s.extensions]).concat([St.updateListener.of(function(a){e(a),a.docChanged&&n(a.state.doc.toString(),a),a.focusChanged&&(a.view.hasFocus?r(a):i(a))})])})},ud=function(t){var e=new Xg;return{compartment:e,run:function(n){e.get(t.state)?t.dispatch({effects:e.reconfigure(n)}):t.dispatch({effects:un.appendConfig.of(e.of(n))})}}},bI=function(t,e){var n=ud(t),r=n.compartment,i=n.run;return function(s){var a=r.get(t.state);i(s??a!==e?e:[])}},Z0={type:Boolean,default:void 0},_le={autofocus:Z0,disabled:Z0,indentWithTab:Z0,tabSize:Number,placeholder:String,style:Object,autoDestroy:Z0,phrases:Object,root:Object,extensions:Array,selection:Object},ble={modelValue:{type:String,default:""}},wle=Object.assign(Object.assign({},_le),ble);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(Os||(Os={}));var Lf={};Lf[Os.Change]=function(t,e){return!0},Lf[Os.Update]=function(t){return!0},Lf[Os.Focus]=function(t){return!0},Lf[Os.Blur]=function(t){return!0},Lf[Os.Ready]=function(t){return!0};var H9={};H9[Os.ModelUpdate]=Lf[Os.Change];var Sle=Object.assign(Object.assign({},Lf),H9),n_=In({name:"VueCodemirror",props:Object.assign({},wle),emits:Object.assign({},Sle),setup:function(t,e){var n=Fm(),r=Fm(),i=Fm(),s=Object.assign(Object.assign({},vle),Xo(q9,{})),a=gi(function(){var o={};return Object.keys(kn(t)).forEach(function(l){var u;l!=="modelValue"&&(o[l]=(u=t[l])!==null&&u!==void 0?u:s[l])}),o});return Sj(function(){var o;r.value=yle({doc:t.modelValue,selection:a.value.selection,extensions:(o=s.extensions)!==null&&o!==void 0?o:[],onFocus:function(u){return e.emit(Os.Focus,u)},onBlur:function(u){return e.emit(Os.Blur,u)},onUpdate:function(u){return e.emit(Os.Update,u)},onChange:function(u,c){u!==t.modelValue&&(e.emit(Os.Change,u,c),e.emit(Os.ModelUpdate,u,c))}}),i.value=function(u){return new St(Object.assign({},u))}({state:r.value,parent:n.value,root:a.value.root});var l=function(u){var c=function(){return u.state.doc.toString()},f=ud(u).run,d=bI(u,[St.editable.of(!1),Cn.readOnly.of(!0)]),v=bI(u,C1.of([Gae])),_=ud(u).run,S=ud(u).run,b=ud(u).run,y=ud(u).run;return{focus:function(){return u.focus()},getDoc:c,setDoc:function(A){A!==c()&&u.dispatch({changes:{from:0,to:u.state.doc.length,insert:A}})},reExtensions:f,toggleDisabled:d,toggleIndentWithTab:v,setTabSize:function(A){_([Cn.tabSize.of(A),k1.of(" ".repeat(A))])},setPhrases:function(A){S([Cn.phrases.of(A)])},setPlaceholder:function(A){b(oie(A))},setStyle:function(A){A===void 0&&(A={}),y(St.theme({"&":Object.assign({},A)}))}}}(i.value);Ta(function(){return t.modelValue},function(u){u!==l.getDoc()&&l.setDoc(u)}),Ta(function(){return t.extensions},function(u){return l.reExtensions(u||[])},{immediate:!0}),Ta(function(){return a.value.disabled},function(u){return l.toggleDisabled(u)},{immediate:!0}),Ta(function(){return a.value.indentWithTab},function(u){return l.toggleIndentWithTab(u)},{immediate:!0}),Ta(function(){return a.value.tabSize},function(u){return l.setTabSize(u)},{immediate:!0}),Ta(function(){return a.value.phrases},function(u){return l.setPhrases(u||{})},{immediate:!0}),Ta(function(){return a.value.placeholder},function(u){return l.setPlaceholder(u)},{immediate:!0}),Ta(function(){return a.value.style},function(u){return l.setStyle(u)},{immediate:!0}),a.value.autofocus&&l.focus(),e.emit(Os.Ready,{state:r.value,view:i.value,container:n.value})}),xj(function(){a.value.autoDestroy&&i.value&&function(o){o.destroy()}(i.value)}),function(){return Vj("div",{class:"v-codemirror",style:{display:"contents"},ref:n})}}}),bp=n_,xle=function(t,e){t.component(n_.name,n_),t.component("Codemirror",n_),function(n,r){n.provide(q9,r)}(t,e)},Ele={Codemirror:bp,install:xle},$le={prefix:"fas",iconName:"circle-minus",icon:[512,512,["minus-circle"],"f056","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM184 232H328c13.3 0 24 10.7 24 24s-10.7 24-24 24H184c-13.3 0-24-10.7-24-24s10.7-24 24-24z"]},Ale=$le,Ple={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},Tle=Ple,Cle={prefix:"fas",iconName:"wand-magic-sparkles",icon:[576,512,["magic-wand-sparkles"],"e2ca","M234.7 42.7L197 56.8c-3 1.1-5 4-5 7.2s2 6.1 5 7.2l37.7 14.1L248.8 123c1.1 3 4 5 7.2 5s6.1-2 7.2-5l14.1-37.7L315 71.2c3-1.1 5-4 5-7.2s-2-6.1-5-7.2L277.3 42.7 263.2 5c-1.1-3-4-5-7.2-5s-6.1 2-7.2 5L234.7 42.7zM46.1 395.4c-18.7 18.7-18.7 49.1 0 67.9l34.6 34.6c18.7 18.7 49.1 18.7 67.9 0L529.9 116.5c18.7-18.7 18.7-49.1 0-67.9L495.3 14.1c-18.7-18.7-49.1-18.7-67.9 0L46.1 395.4zM484.6 82.6l-105 105-23.3-23.3 105-105 23.3 23.3zM7.5 117.2C3 118.9 0 123.2 0 128s3 9.1 7.5 10.8L64 160l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L128 160l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L128 96 106.8 39.5C105.1 35 100.8 32 96 32s-9.1 3-10.8 7.5L64 96 7.5 117.2zm352 256c-4.5 1.7-7.5 6-7.5 10.8s3 9.1 7.5 10.8L416 416l21.2 56.5c1.7 4.5 6 7.5 10.8 7.5s9.1-3 10.8-7.5L480 416l56.5-21.2c4.5-1.7 7.5-6 7.5-10.8s-3-9.1-7.5-10.8L480 352l-21.2-56.5c-1.7-4.5-6-7.5-10.8-7.5s-9.1 3-10.8 7.5L416 352l-56.5 21.2z"]},kle={prefix:"fas",iconName:"arrow-pointer",icon:[320,512,["mouse-pointer"],"f245","M0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z"]},Ole=kle,Rle={prefix:"fas",iconName:"maximize",icon:[512,512,["expand-arrows-alt"],"f31e","M200 32H56C42.7 32 32 42.7 32 56V200c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l40-40 79 79-79 79L73 295c-6.9-6.9-17.2-8.9-26.2-5.2S32 302.3 32 312V456c0 13.3 10.7 24 24 24H200c9.7 0 18.5-5.8 22.2-14.8s1.7-19.3-5.2-26.2l-40-40 79-79 79 79-40 40c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H456c13.3 0 24-10.7 24-24V312c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2l-40 40-79-79 79-79 40 40c6.9 6.9 17.2 8.9 26.2 5.2s14.8-12.5 14.8-22.2V56c0-13.3-10.7-24-24-24H312c-9.7 0-18.5 5.8-22.2 14.8s-1.7 19.3 5.2 26.2l40 40-79 79-79-79 40-40c6.9-6.9 8.9-17.2 5.2-26.2S209.7 32 200 32z"]},Mle=Rle,Nle={prefix:"fas",iconName:"circle-play",icon:[512,512,[61469,"play-circle"],"f144","M0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c-7.6 4.2-12.3 12.3-12.3 20.9V344c0 8.7 4.7 16.7 12.3 20.9s16.8 4.1 24.3-.5l144-88c7.1-4.4 11.5-12.1 11.5-20.5s-4.4-16.1-11.5-20.5l-144-88c-7.4-4.5-16.7-4.7-24.3-.5z"]},Ile=Nle,Dle={prefix:"fas",iconName:"square",icon:[448,512,[9632,9723,9724,61590],"f0c8","M0 96C0 60.7 28.7 32 64 32H384c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96z"]},Lle={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M80 160c0-35.3 28.7-64 64-64h32c35.3 0 64 28.7 64 64v3.6c0 21.8-11.1 42.1-29.4 53.8l-42.2 27.1c-25.2 16.2-40.4 44.1-40.4 74V320c0 17.7 14.3 32 32 32s32-14.3 32-32v-1.4c0-8.2 4.2-15.8 11-20.2l42.2-27.1c36.6-23.6 58.8-64.1 58.8-107.7V160c0-70.7-57.3-128-128-128H144C73.3 32 16 89.3 16 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm80 320a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]},Fle={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},jle={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},Ble={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},Vle={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},zle=Vle,Ule={prefix:"fas",iconName:"file-arrow-down",icon:[384,512,["file-download"],"f56d","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM216 232V334.1l31-31c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-72 72c-9.4 9.4-24.6 9.4-33.9 0l-72-72c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l31 31V232c0-13.3 10.7-24 24-24s24 10.7 24 24z"]},qle={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]},Hle=qle,Wle=!1;/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let W9;const B1=t=>W9=t,G9=Symbol();function J$(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hm;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hm||(Hm={}));function Gle(){const t=G4(!0),e=t.run(()=>m1({}));let n=[],r=[];const i=Kd({install(s){B1(i),i._a=s,s.provide(G9,i),s.config.globalProperties.$pinia=i,r.forEach(a=>n.push(a)),r=[]},use(s){return!this._a&&!Wle?r.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const K9=()=>{};function wI(t,e,n,r=K9){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),r())};return!n&&K4()&&RZ(i),i}function Jh(t,...e){t.slice().forEach(n=>{n(...e)})}function X$(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];J$(i)&&J$(r)&&t.hasOwnProperty(n)&&!ti(r)&&!Pc(r)?t[n]=X$(i,r):t[n]=r}return t}const Kle=Symbol();function Yle(t){return!J$(t)||!t.hasOwnProperty(Kle)}const{assign:fc}=Object;function Jle(t){return!!(ti(t)&&t.effect)}function Xle(t,e,n,r){const{state:i,actions:s,getters:a}=e,o=n.state.value[t];let l;function u(){o||(n.state.value[t]=i?i():{});const c=uee(n.state.value[t]);return fc(c,s,Object.keys(a||{}).reduce((f,d)=>(f[d]=Kd(gi(()=>{B1(n);const v=n._s.get(t);return a[d].call(v,v)})),f),{}))}return l=Y9(t,u,e,n,r,!0),l}function Y9(t,e,n={},r,i,s){let a;const o=fc({actions:{}},n),l={deep:!0};let u,c,f=Kd([]),d=Kd([]),v;const _=r.state.value[t];!s&&!_&&(r.state.value[t]={}),m1({});let S;function b(x){let T;u=c=!1,typeof x=="function"?(x(r.state.value[t]),T={type:Hm.patchFunction,storeId:t,events:v}):(X$(r.state.value[t],x),T={type:Hm.patchObject,payload:x,storeId:t,events:v});const D=S=Symbol();hj().then(()=>{S===D&&(u=!0)}),c=!0,Jh(f,T,r.state.value[t])}const y=s?function(){const{state:T}=n,D=T?T():{};this.$patch(C=>{fc(C,D)})}:K9;function A(){a.stop(),f=[],d=[],r._s.delete(t)}function R(x,T){return function(){B1(r);const D=Array.from(arguments),C=[],U=[];function G(ye){C.push(ye)}function se(ye){U.push(ye)}Jh(d,{args:D,name:x,store:$,after:G,onError:se});let re;try{re=T.apply(this&&this.$id===t?this:$,D)}catch(ye){throw Jh(U,ye),ye}return re instanceof Promise?re.then(ye=>(Jh(C,ye),ye)).catch(ye=>(Jh(U,ye),Promise.reject(ye))):(Jh(C,re),re)}}const M={_p:r,$id:t,$onAction:wI.bind(null,d),$patch:b,$reset:y,$subscribe(x,T={}){const D=wI(f,x,T.detached,()=>C()),C=a.run(()=>Ta(()=>r.state.value[t],U=>{(T.flush==="sync"?c:u)&&x({storeId:t,type:Hm.direct,events:v},U)},fc({},l,T)));return D},$dispose:A},$=p1(M);r._s.set(t,$);const p=r._e.run(()=>(a=G4(),a.run(()=>e())));for(const x in p){const T=p[x];if(ti(T)&&!Jle(T)||Pc(T))s||(_&&Yle(T)&&(ti(T)?T.value=_[x]:X$(T,_[x])),r.state.value[t][x]=T);else if(typeof T=="function"){const D=R(x,T);p[x]=D,o.actions[x]=T}}return fc($,p),fc(kn($),p),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:x=>{b(T=>{fc(T,x)})}}),r._p.forEach(x=>{fc($,a.run(()=>x({store:$,app:r._a,pinia:r,options:o})))}),_&&s&&n.hydrate&&n.hydrate($.$state,_),u=!0,c=!0,$}function Qle(t,e,n){let r,i;const s=typeof e=="function";typeof t=="string"?(r=t,i=s?n:e):(i=t,r=t.id);function a(o,l){const u=ate();return o=o||u&&Xo(G9,null),o&&B1(o),o=W9,o._s.has(r)||(s?Y9(r,e,i,o):Xle(r,i,o)),o._s.get(r)}return a.$id=r,a}let Zle="Store";function Gc(...t){return t.reduce((e,n)=>(e[n.$id+Zle]=function(){return n(this.$pinia)},e),{})}const eue={places:[{id:"167d54d6-3a73-40f7-b317-0aa3580a44ac",name:"Request",content:{schema:{type:"object",properties:{requestId:{type:"integer"},studentId:{type:"string"},foreignUniversity:{type:"string"},foreignLecture:{type:"string"},homeLecture:{type:"string"},grade:{type:"number"}},required:["requestId","studentId","foreignUniversity","foreignLecture","homeLecture","grade"]},data:[{requestId:1,studentId:"student-1",foreignUniversity:"university-1",foreignLecture:"Software Engineering and Technology",homeLecture:"Software Engineering",grade:1.3},{requestId:2,studentId:"student-1",foreignUniversity:"university-1",foreignLecture:"Big Data and NoSQL",homeLecture:"Advanced Database Systems",grade:2}]}},{id:"9a172fc4-04cd-49d1-94f3-b8b62d2aed42",name:"Decision",content:{schema:{type:"object",properties:{requestId:{type:"integer"},studentId:{type:"string"},foreignUniversity:{type:"string"},foreignLecture:{type:"string"},homeLecture:{type:"string"},accepted:{type:"boolean"},grade:{type:"number"},email:{type:"string"}},required:["requestId","studentId","foreignUniversity","foreignLecture","homeLecture","accepted","grade","email"]},data:[]}},{id:"48b440c6-43fc-4df6-b874-f758137e90e5",name:"Student",content:{schema:{type:"object",properties:{studentId:{type:"string"},level:{type:"string",enum:["Bachelor","Master"]},studyProgram:{type:"string"},email:{type:"string"}},required:["studentId","level","studyProgram","email"]},data:[{studentId:"student-1",level:"Master",studyProgram:"Information Systems",email:"student@uni.edu"}]}},{id:"846b0b51-9981-40ad-a36a-5ee873f4de5a",name:"Lecture",content:{schema:{type:"object",properties:{name:{type:"string"},levels:{type:"array",items:{type:"string",enum:["Bachelor","Master"]}},studyPrograms:{type:"array",items:{type:"string"}},recognizableLectures:{type:"array",items:{type:"object",properties:{universityId:{type:"string"},lecture:{type:"string"}},required:["universityId","lecture"]}}},required:["name","levels","studyPrograms","recognizableLectures"]},data:[{name:"Software Engineering",levels:["Bachelor"],studyPrograms:["Information Systems","Computer Science"],recognizableLectures:[{universityId:"university-1",lecture:"Software Engineering and Technology"}]},{name:"Advanced Database Systems",levels:["Master"],studyPrograms:["Information Systems","Computer Science"],recognizableLectures:[{universityId:"university-1",lecture:"Big Data and NoSQL"}]}]}},{id:"daa76eb3-c88c-4f29-9903-43f2892d70da",name:"Notification",content:{schema:{type:"object",properties:{email:{type:"string"},body:{type:"string"}},required:["email","body"]},data:[]}},{id:"e6caf7c5-fe05-47fa-8179-cf3b7b3cad2a",name:"Grade",content:{schema:{type:"object",properties:{studentId:{type:"string"},lecture:{type:"string"},grade:{type:"number"}},required:["studentId","lecture","grade"]},data:[]}}],transitions:[{id:"1952db8b-764c-45da-b2d4-8b1537400377",name:"Review",content:`local checkLecture = lecture.name == request.homeLecture;
local checkStudent = student.studentId == request.studentId;

checkLecture && checkStudent`},{id:"0e1c227f-c03b-4969-be2b-9b151898a35c",name:"Accept",content:"true"},{id:"82ca126e-1b63-40ad-9f92-d156da6823b8",name:"Reject",content:"true"}],arcs:[{id:"bccd1686-bed4-4ae9-a6c2-18628a877a20",label:{type:"consume",filter:""},fromId:"167d54d6-3a73-40f7-b317-0aa3580a44ac",toId:"1952db8b-764c-45da-b2d4-8b1537400377"},{id:"77dda9ce-2847-415b-833c-74b785a53f98",label:{type:"read",filter:""},fromId:"48b440c6-43fc-4df6-b874-f758137e90e5",toId:"1952db8b-764c-45da-b2d4-8b1537400377"},{id:"b424c701-1789-4dbb-9fd1-a7ca5ca5fced",label:{type:"read",filter:""},fromId:"846b0b51-9981-40ad-a36a-5ee873f4de5a",toId:"1952db8b-764c-45da-b2d4-8b1537400377"},{id:"e98f7b6e-47cc-47ec-9462-041597a82b25",label:`request
{
  email: student.email,
  accepted: std.member(lecture.levels, student.level)
    && std.member(lecture.studyPrograms, student.studyProgram)
    && std.member(lecture.recognizableLectures, {
            universityId: request.foreignUniversity,
            lecture: request.foreignLecture
          })
}`,fromId:"1952db8b-764c-45da-b2d4-8b1537400377",toId:"9a172fc4-04cd-49d1-94f3-b8b62d2aed42"},{id:"37d5e2b6-f0a6-4945-93b7-e24f7ce7e3b9",label:{type:"consume",filter:"?(@.accepted == true)"},fromId:"9a172fc4-04cd-49d1-94f3-b8b62d2aed42",toId:"0e1c227f-c03b-4969-be2b-9b151898a35c"},{id:"eda07d3d-ee62-4b0e-a70d-85acdb6545cf",label:{type:"consume",filter:"?(@.accepted == false)"},fromId:"9a172fc4-04cd-49d1-94f3-b8b62d2aed42",toId:"82ca126e-1b63-40ad-9f92-d156da6823b8"},{id:"a79f5ef6-879c-40fa-b4bc-31d27dffa196",label:`{
  email: decision.email,
  body: "Your request with id " + decision.requestId + " was rejected."
}`,fromId:"82ca126e-1b63-40ad-9f92-d156da6823b8",toId:"daa76eb3-c88c-4f29-9903-43f2892d70da"},{id:"a437c2b6-431b-437e-bc4c-f0a418a0e055",label:`{
  email: decision.email,
  body: "Your request with id " + decision.requestId + " was accepted."
}`,fromId:"0e1c227f-c03b-4969-be2b-9b151898a35c",toId:"daa76eb3-c88c-4f29-9903-43f2892d70da"},{id:"dbdd246a-b0b9-469c-bf0a-7840ecd6e3ff",label:`{
  grade: decision.grade,
  studentId: decision.studentId,
  lecture: decision.homeLecture
}`,fromId:"0e1c227f-c03b-4969-be2b-9b151898a35c",toId:"e6caf7c5-fe05-47fa-8179-cf3b7b3cad2a"}]};var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var J9={},Cg={},hb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */hb.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",o="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,v=4,_=1,S=2,b=1,y=2,A=4,R=8,M=16,$=32,p=64,x=128,T=256,D=512,C=30,U="...",G=800,se=16,re=1,ye=2,Pe=3,Ae=1/0,Ie=9007199254740991,Me=17976931348623157e292,ae=0/0,H=4294967295,X=H-1,V=H>>>1,k=[["ary",x],["bind",b],["bindKey",y],["curry",R],["curryRight",M],["flip",D],["partial",$],["partialRight",p],["rearg",T]],I="[object Arguments]",J="[object Array]",ue="[object AsyncFunction]",_e="[object Boolean]",ke="[object Date]",Ve="[object DOMException]",We="[object Error]",Y="[object Function]",Q="[object GeneratorFunction]",N="[object Map]",F="[object Number]",q="[object Null]",ie="[object Object]",ge="[object Promise]",ve="[object Proxy]",Te="[object RegExp]",Ne="[object Set]",Be="[object String]",Xe="[object Symbol]",Je="[object Undefined]",Ze="[object WeakMap]",ut="[object WeakSet]",xt="[object ArrayBuffer]",Ot="[object DataView]",mt="[object Float32Array]",zt="[object Float64Array]",Hn="[object Int8Array]",Cr="[object Int16Array]",Zn="[object Int32Array]",ci="[object Uint8Array]",er="[object Uint8ClampedArray]",yn="[object Uint16Array]",_n="[object Uint32Array]",Yi=/\b__p \+= '';/g,vs=/\b(__p \+=) '' \+/g,Fa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fs=/&(?:amp|lt|gt|quot|#39);/g,ki=/[&<>"']/g,Lr=RegExp(Fs.source),ys=RegExp(ki.source),Uu=/<%-([\s\S]+?)%>/g,Ao=/<%([\s\S]+?)%>/g,ja=/<%=([\s\S]+?)%>/g,va=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ol=/^\w*$/,qu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ya=/[\\^$.*+?()[\]{}|]/g,Po=RegExp(ya.source),Ba=/^\s+/,be=/\s/,oe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Se=/\{\n\/\* \[wrapped with (.+)\] \*/,De=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,bt=/[()=,{}\[\]\/\s]/,gt=/\\(\\)?/g,nn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dn=/\w*$/,nr=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,En=/^\[object .+?Constructor\]$/,Yn=/^0o[0-7]+$/i,jt=/^(?:0|[1-9]\d*)$/,Wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Jn=/($^)/,Xn=/['\n\r\u2028\u2029\\]/g,fi="\\ud800-\\udfff",Oi="\\u0300-\\u036f",Hr="\\ufe20-\\ufe2f",js="\\u20d0-\\u20ff",ar=Oi+Hr+js,or="\\u2700-\\u27bf",wi="a-z\\xdf-\\xf6\\xf8-\\xff",lr="\\xac\\xb1\\xd7\\xf7",ri="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ji="\\u2000-\\u206f",Zl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",eu="A-Z\\xc0-\\xd6\\xd8-\\xde",Bs="\\ufe0e\\ufe0f",_a=lr+ri+Ji+Zl,Ri="[']",ll="["+fi+"]",ul="["+_a+"]",_s="["+ar+"]",Mi="\\d+",kh="["+or+"]",Va="["+wi+"]",Vs="[^"+fi+_a+Mi+or+wi+eu+"]",ba="\\ud83c[\\udffb-\\udfff]",za="(?:"+_s+"|"+ba+")",zs="[^"+fi+"]",cl="(?:\\ud83c[\\udde6-\\uddff]){2}",Ua="[\\ud800-\\udbff][\\udc00-\\udfff]",qa="["+eu+"]",Hu="\\u200d",Si="(?:"+Va+"|"+Vs+")",Oh="(?:"+qa+"|"+Vs+")",fl="(?:"+Ri+"(?:d|ll|m|re|s|t|ve))?",nf="(?:"+Ri+"(?:D|LL|M|RE|S|T|VE))?",rf=za+"?",sf="["+Bs+"]?",Rh="(?:"+Hu+"(?:"+[zs,cl,Ua].join("|")+")"+sf+rf+")*",hl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Lp="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mh=sf+rf+Rh,Fp="(?:"+[kh,cl,Ua].join("|")+")"+Mh,jp="(?:"+[zs+_s+"?",_s,cl,Ua,ll].join("|")+")",Bp=RegExp(Ri,"g"),Nh=RegExp(_s,"g"),af=RegExp(ba+"(?="+ba+")|"+jp+Mh,"g"),of=RegExp([qa+"?"+Va+"+"+fl+"(?="+[ul,qa,"$"].join("|")+")",Oh+"+"+nf+"(?="+[ul,qa+Si,"$"].join("|")+")",qa+"?"+Si+"+"+fl,qa+"+"+nf,Lp,hl,Mi,Fp].join("|"),"g"),tu=RegExp("["+Hu+fi+ar+Bs+"]"),nu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Wu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ih=-1,Vn={};Vn[mt]=Vn[zt]=Vn[Hn]=Vn[Cr]=Vn[Zn]=Vn[ci]=Vn[er]=Vn[yn]=Vn[_n]=!0,Vn[I]=Vn[J]=Vn[xt]=Vn[_e]=Vn[Ot]=Vn[ke]=Vn[We]=Vn[Y]=Vn[N]=Vn[F]=Vn[ie]=Vn[Te]=Vn[Ne]=Vn[Be]=Vn[Ze]=!1;var zn={};zn[I]=zn[J]=zn[xt]=zn[Ot]=zn[_e]=zn[ke]=zn[mt]=zn[zt]=zn[Hn]=zn[Cr]=zn[Zn]=zn[N]=zn[F]=zn[ie]=zn[Te]=zn[Ne]=zn[Be]=zn[Xe]=zn[ci]=zn[er]=zn[yn]=zn[_n]=!0,zn[We]=zn[Y]=zn[Ze]=!1;var lf={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Vp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},uf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gu=parseFloat,z=parseInt,Z=typeof gr=="object"&&gr&&gr.Object===Object&&gr,fe=typeof self=="object"&&self&&self.Object===Object&&self,he=Z||fe||Function("return this")(),g=e&&!e.nodeType&&e,w=g&&!0&&t&&!t.nodeType&&t,P=w&&w.exports===g,O=P&&Z.process,j=function(){try{var $e=w&&w.require&&w.require("util").types;return $e||O&&O.binding&&O.binding("util")}catch{}}(),B=j&&j.isArrayBuffer,K=j&&j.isDate,pe=j&&j.isMap,ce=j&&j.isRegExp,Ce=j&&j.isSet,Fe=j&&j.isTypedArray;function Qe($e,Ge,Ue){switch(Ue.length){case 0:return $e.call(Ge);case 1:return $e.call(Ge,Ue[0]);case 2:return $e.call(Ge,Ue[0],Ue[1]);case 3:return $e.call(Ge,Ue[0],Ue[1],Ue[2])}return $e.apply(Ge,Ue)}function Le($e,Ge,Ue,dt){for(var Gt=-1,On=$e==null?0:$e.length;++Gt<On;){var Wr=$e[Gt];Ge(dt,Wr,Ue(Wr),$e)}return dt}function qe($e,Ge){for(var Ue=-1,dt=$e==null?0:$e.length;++Ue<dt&&Ge($e[Ue],Ue,$e)!==!1;);return $e}function Tt($e,Ge){for(var Ue=$e==null?0:$e.length;Ue--&&Ge($e[Ue],Ue,$e)!==!1;);return $e}function Kt($e,Ge){for(var Ue=-1,dt=$e==null?0:$e.length;++Ue<dt;)if(!Ge($e[Ue],Ue,$e))return!1;return!0}function vt($e,Ge){for(var Ue=-1,dt=$e==null?0:$e.length,Gt=0,On=[];++Ue<dt;){var Wr=$e[Ue];Ge(Wr,Ue,$e)&&(On[Gt++]=Wr)}return On}function kr($e,Ge){var Ue=$e==null?0:$e.length;return!!Ue&&Us($e,Ge,0)>-1}function Or($e,Ge,Ue){for(var dt=-1,Gt=$e==null?0:$e.length;++dt<Gt;)if(Ue(Ge,$e[dt]))return!0;return!1}function dn($e,Ge){for(var Ue=-1,dt=$e==null?0:$e.length,Gt=Array(dt);++Ue<dt;)Gt[Ue]=Ge($e[Ue],Ue,$e);return Gt}function bn($e,Ge){for(var Ue=-1,dt=Ge.length,Gt=$e.length;++Ue<dt;)$e[Gt+Ue]=Ge[Ue];return $e}function Wt($e,Ge,Ue,dt){var Gt=-1,On=$e==null?0:$e.length;for(dt&&On&&(Ue=$e[++Gt]);++Gt<On;)Ue=Ge(Ue,$e[Gt],Gt,$e);return Ue}function Xi($e,Ge,Ue,dt){var Gt=$e==null?0:$e.length;for(dt&&Gt&&(Ue=$e[--Gt]);Gt--;)Ue=Ge(Ue,$e[Gt],Gt,$e);return Ue}function wn($e,Ge){for(var Ue=-1,dt=$e==null?0:$e.length;++Ue<dt;)if(Ge($e[Ue],Ue,$e))return!0;return!1}var _r=Wa("length");function cf($e){return $e.split("")}function Dh($e){return $e.match(je)||[]}function Qi($e,Ge,Ue){var dt;return Ue($e,function(Gt,On,Wr){if(Ge(Gt,On,Wr))return dt=On,!1}),dt}function Ha($e,Ge,Ue,dt){for(var Gt=$e.length,On=Ue+(dt?1:-1);dt?On--:++On<Gt;)if(Ge($e[On],On,$e))return On;return-1}function Us($e,Ge,Ue){return Ge===Ge?zv($e,Ge,Ue):Ha($e,To,Ue)}function Zi($e,Ge,Ue,dt){for(var Gt=Ue-1,On=$e.length;++Gt<On;)if(dt($e[Gt],Ge))return Gt;return-1}function To($e){return $e!==$e}function bs($e,Ge){var Ue=$e==null?0:$e.length;return Ue?Mn($e,Ge)/Ue:ae}function Wa($e){return function(Ge){return Ge==null?n:Ge[$e]}}function Lh($e){return function(Ge){return $e==null?n:$e[Ge]}}function pl($e,Ge,Ue,dt,Gt){return Gt($e,function(On,Wr,Un){Ue=dt?(dt=!1,On):Ge(Ue,On,Wr,Un)}),Ue}function zp($e,Ge){var Ue=$e.length;for($e.sort(Ge);Ue--;)$e[Ue]=$e[Ue].value;return $e}function Mn($e,Ge){for(var Ue,dt=-1,Gt=$e.length;++dt<Gt;){var On=Ge($e[dt]);On!==n&&(Ue=Ue===n?On:Ue+On)}return Ue}function Co($e,Ge){for(var Ue=-1,dt=Array($e);++Ue<$e;)dt[Ue]=Ge(Ue);return dt}function jv($e,Ge){return dn(Ge,function(Ue){return[Ue,$e[Ue]]})}function Fh($e){return $e&&$e.slice(0,qs($e)+1).replace(Ba,"")}function ws($e){return function(Ge){return $e(Ge)}}function Ku($e,Ge){return dn(Ge,function(Ue){return $e[Ue]})}function ff($e,Ge){return $e.has(Ge)}function Up($e,Ge){for(var Ue=-1,dt=$e.length;++Ue<dt&&Us(Ge,$e[Ue],0)>-1;);return Ue}function Bv($e,Ge){for(var Ue=$e.length;Ue--&&Us(Ge,$e[Ue],0)>-1;);return Ue}function jw($e,Ge){for(var Ue=$e.length,dt=0;Ue--;)$e[Ue]===Ge&&++dt;return dt}var Bw=Lh(lf),jh=Lh(Vp);function Vw($e){return"\\"+dl[$e]}function zw($e,Ge){return $e==null?n:$e[Ge]}function Yu($e){return tu.test($e)}function hf($e){return nu.test($e)}function Uw($e){for(var Ge,Ue=[];!(Ge=$e.next()).done;)Ue.push(Ge.value);return Ue}function df($e){var Ge=-1,Ue=Array($e.size);return $e.forEach(function(dt,Gt){Ue[++Ge]=[Gt,dt]}),Ue}function Ga($e,Ge){return function(Ue){return $e(Ge(Ue))}}function xi($e,Ge){for(var Ue=-1,dt=$e.length,Gt=0,On=[];++Ue<dt;){var Wr=$e[Ue];(Wr===Ge||Wr===c)&&($e[Ue]=c,On[Gt++]=Ue)}return On}function pf($e){var Ge=-1,Ue=Array($e.size);return $e.forEach(function(dt){Ue[++Ge]=dt}),Ue}function Vv($e){var Ge=-1,Ue=Array($e.size);return $e.forEach(function(dt){Ue[++Ge]=[dt,dt]}),Ue}function zv($e,Ge,Ue){for(var dt=Ue-1,Gt=$e.length;++dt<Gt;)if($e[dt]===Ge)return dt;return-1}function qw($e,Ge,Ue){for(var dt=Ue+1;dt--;)if($e[dt]===Ge)return dt;return dt}function Nn($e){return Yu($e)?qp($e):_r($e)}function es($e){return Yu($e)?Uv($e):cf($e)}function qs($e){for(var Ge=$e.length;Ge--&&be.test($e.charAt(Ge)););return Ge}var Hs=Lh(uf);function qp($e){for(var Ge=af.lastIndex=0;af.test($e);)++Ge;return Ge}function Uv($e){return $e.match(af)||[]}function Hw($e){return $e.match(of)||[]}var Ww=function $e(Ge){Ge=Ge==null?he:ru.defaults(he.Object(),Ge,ru.pick(he,Wu));var Ue=Ge.Array,dt=Ge.Date,Gt=Ge.Error,On=Ge.Function,Wr=Ge.Math,Un=Ge.Object,mf=Ge.RegExp,Hp=Ge.String,Ws=Ge.TypeError,te=Ue.prototype,me=On.prototype,Ee=Un.prototype,Ye=Ge["__core-js_shared__"],Oe=me.toString,ze=Ee.hasOwnProperty,rt=0,at=function(){var h=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),ct=Ee.toString,Lt=Oe.call(Un),Nt=he._,Ft=mf("^"+Oe.call(ze).replace(ya,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=P?Ge.Buffer:n,$n=Ge.Symbol,Rt=Ge.Uint8Array,Fr=Zt?Zt.allocUnsafe:n,Gr=Ga(Un.getPrototypeOf,Un),ts=Un.create,ur=Ee.propertyIsEnumerable,ml=te.splice,Ju=$n?$n.isConcatSpreadable:n,hi=$n?$n.iterator:n,gf=$n?$n.toStringTag:n,qv=function(){try{var h=wf(Un,"defineProperty");return h({},"",{}),h}catch{}}(),NH=Ge.clearTimeout!==he.clearTimeout&&Ge.clearTimeout,IH=dt&&dt.now!==he.Date.now&&dt.now,DH=Ge.setTimeout!==he.setTimeout&&Ge.setTimeout,Hv=Wr.ceil,Wv=Wr.floor,Gw=Un.getOwnPropertySymbols,LH=Zt?Zt.isBuffer:n,Gk=Ge.isFinite,FH=te.join,jH=Ga(Un.keys,Un),di=Wr.max,ns=Wr.min,BH=dt.now,VH=Ge.parseInt,Kk=Wr.random,zH=te.reverse,Kw=wf(Ge,"DataView"),Wp=wf(Ge,"Map"),Yw=wf(Ge,"Promise"),Bh=wf(Ge,"Set"),Gp=wf(Ge,"WeakMap"),Kp=wf(Un,"create"),Gv=Gp&&new Gp,Vh={},UH=Sf(Kw),qH=Sf(Wp),HH=Sf(Yw),WH=Sf(Bh),GH=Sf(Gp),Kv=$n?$n.prototype:n,Yp=Kv?Kv.valueOf:n,Yk=Kv?Kv.toString:n;function ee(h){if(jr(h)&&!en(h)&&!(h instanceof An)){if(h instanceof Ka)return h;if(ze.call(h,"__wrapped__"))return JO(h)}return new Ka(h)}var zh=function(){function h(){}return function(m){if(!Nr(m))return{};if(ts)return ts(m);h.prototype=m;var E=new h;return h.prototype=n,E}}();function Yv(){}function Ka(h,m){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}ee.templateSettings={escape:Uu,evaluate:Ao,interpolate:ja,variable:"",imports:{_:ee}},ee.prototype=Yv.prototype,ee.prototype.constructor=ee,Ka.prototype=zh(Yv.prototype),Ka.prototype.constructor=Ka;function An(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function KH(){var h=new An(this.__wrapped__);return h.__actions__=Gs(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=Gs(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=Gs(this.__views__),h}function YH(){if(this.__filtered__){var h=new An(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function JH(){var h=this.__wrapped__.value(),m=this.__dir__,E=en(h),L=m<0,W=E?h.length:0,ne=lG(0,W,this.__views__),de=ne.start,xe=ne.end,Re=xe-de,et=L?xe:de-1,tt=this.__iteratees__,st=tt.length,ht=0,At=ns(Re,this.__takeCount__);if(!E||!L&&W==Re&&At==Re)return _O(h,this.__actions__);var Ut=[];e:for(;Re--&&ht<At;){et+=m;for(var ln=-1,qt=h[et];++ln<st;){var Sn=tt[ln],Rn=Sn.iteratee,xa=Sn.type,Es=Rn(qt);if(xa==ye)qt=Es;else if(!Es){if(xa==re)continue e;break e}}Ut[ht++]=qt}return Ut}An.prototype=zh(Yv.prototype),An.prototype.constructor=An;function vf(h){var m=-1,E=h==null?0:h.length;for(this.clear();++m<E;){var L=h[m];this.set(L[0],L[1])}}function XH(){this.__data__=Kp?Kp(null):{},this.size=0}function QH(h){var m=this.has(h)&&delete this.__data__[h];return this.size-=m?1:0,m}function ZH(h){var m=this.__data__;if(Kp){var E=m[h];return E===l?n:E}return ze.call(m,h)?m[h]:n}function eW(h){var m=this.__data__;return Kp?m[h]!==n:ze.call(m,h)}function tW(h,m){var E=this.__data__;return this.size+=this.has(h)?0:1,E[h]=Kp&&m===n?l:m,this}vf.prototype.clear=XH,vf.prototype.delete=QH,vf.prototype.get=ZH,vf.prototype.has=eW,vf.prototype.set=tW;function iu(h){var m=-1,E=h==null?0:h.length;for(this.clear();++m<E;){var L=h[m];this.set(L[0],L[1])}}function nW(){this.__data__=[],this.size=0}function rW(h){var m=this.__data__,E=Jv(m,h);if(E<0)return!1;var L=m.length-1;return E==L?m.pop():ml.call(m,E,1),--this.size,!0}function iW(h){var m=this.__data__,E=Jv(m,h);return E<0?n:m[E][1]}function sW(h){return Jv(this.__data__,h)>-1}function aW(h,m){var E=this.__data__,L=Jv(E,h);return L<0?(++this.size,E.push([h,m])):E[L][1]=m,this}iu.prototype.clear=nW,iu.prototype.delete=rW,iu.prototype.get=iW,iu.prototype.has=sW,iu.prototype.set=aW;function su(h){var m=-1,E=h==null?0:h.length;for(this.clear();++m<E;){var L=h[m];this.set(L[0],L[1])}}function oW(){this.size=0,this.__data__={hash:new vf,map:new(Wp||iu),string:new vf}}function lW(h){var m=l0(this,h).delete(h);return this.size-=m?1:0,m}function uW(h){return l0(this,h).get(h)}function cW(h){return l0(this,h).has(h)}function fW(h,m){var E=l0(this,h),L=E.size;return E.set(h,m),this.size+=E.size==L?0:1,this}su.prototype.clear=oW,su.prototype.delete=lW,su.prototype.get=uW,su.prototype.has=cW,su.prototype.set=fW;function yf(h){var m=-1,E=h==null?0:h.length;for(this.__data__=new su;++m<E;)this.add(h[m])}function hW(h){return this.__data__.set(h,l),this}function dW(h){return this.__data__.has(h)}yf.prototype.add=yf.prototype.push=hW,yf.prototype.has=dW;function ko(h){var m=this.__data__=new iu(h);this.size=m.size}function pW(){this.__data__=new iu,this.size=0}function mW(h){var m=this.__data__,E=m.delete(h);return this.size=m.size,E}function gW(h){return this.__data__.get(h)}function vW(h){return this.__data__.has(h)}function yW(h,m){var E=this.__data__;if(E instanceof iu){var L=E.__data__;if(!Wp||L.length<i-1)return L.push([h,m]),this.size=++E.size,this;E=this.__data__=new su(L)}return E.set(h,m),this.size=E.size,this}ko.prototype.clear=pW,ko.prototype.delete=mW,ko.prototype.get=gW,ko.prototype.has=vW,ko.prototype.set=yW;function Jk(h,m){var E=en(h),L=!E&&xf(h),W=!E&&!L&&tc(h),ne=!E&&!L&&!W&&Wh(h),de=E||L||W||ne,xe=de?Co(h.length,Hp):[],Re=xe.length;for(var et in h)(m||ze.call(h,et))&&!(de&&(et=="length"||W&&(et=="offset"||et=="parent")||ne&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||uu(et,Re)))&&xe.push(et);return xe}function Xk(h){var m=h.length;return m?h[aS(0,m-1)]:n}function _W(h,m){return u0(Gs(h),_f(m,0,h.length))}function bW(h){return u0(Gs(h))}function Jw(h,m,E){(E!==n&&!Oo(h[m],E)||E===n&&!(m in h))&&au(h,m,E)}function Jp(h,m,E){var L=h[m];(!(ze.call(h,m)&&Oo(L,E))||E===n&&!(m in h))&&au(h,m,E)}function Jv(h,m){for(var E=h.length;E--;)if(Oo(h[E][0],m))return E;return-1}function wW(h,m,E,L){return Xu(h,function(W,ne,de){m(L,W,E(W),de)}),L}function Qk(h,m){return h&&vl(m,Ei(m),h)}function SW(h,m){return h&&vl(m,Ys(m),h)}function au(h,m,E){m=="__proto__"&&qv?qv(h,m,{configurable:!0,enumerable:!0,value:E,writable:!0}):h[m]=E}function Xw(h,m){for(var E=-1,L=m.length,W=Ue(L),ne=h==null;++E<L;)W[E]=ne?n:OS(h,m[E]);return W}function _f(h,m,E){return h===h&&(E!==n&&(h=h<=E?h:E),m!==n&&(h=h>=m?h:m)),h}function Ya(h,m,E,L,W,ne){var de,xe=m&f,Re=m&d,et=m&v;if(E&&(de=W?E(h,L,W,ne):E(h)),de!==n)return de;if(!Nr(h))return h;var tt=en(h);if(tt){if(de=cG(h),!xe)return Gs(h,de)}else{var st=rs(h),ht=st==Y||st==Q;if(tc(h))return SO(h,xe);if(st==ie||st==I||ht&&!W){if(de=Re||ht?{}:VO(h),!xe)return Re?ZW(h,SW(de,h)):QW(h,Qk(de,h))}else{if(!zn[st])return W?h:{};de=fG(h,st,xe)}}ne||(ne=new ko);var At=ne.get(h);if(At)return At;ne.set(h,de),gR(h)?h.forEach(function(qt){de.add(Ya(qt,m,E,qt,h,ne))}):pR(h)&&h.forEach(function(qt,Sn){de.set(Sn,Ya(qt,m,E,Sn,h,ne))});var Ut=et?Re?vS:gS:Re?Ys:Ei,ln=tt?n:Ut(h);return qe(ln||h,function(qt,Sn){ln&&(Sn=qt,qt=h[Sn]),Jp(de,Sn,Ya(qt,m,E,Sn,h,ne))}),de}function xW(h){var m=Ei(h);return function(E){return Zk(E,h,m)}}function Zk(h,m,E){var L=E.length;if(h==null)return!L;for(h=Un(h);L--;){var W=E[L],ne=m[W],de=h[W];if(de===n&&!(W in h)||!ne(de))return!1}return!0}function eO(h,m,E){if(typeof h!="function")throw new Ws(a);return rm(function(){h.apply(n,E)},m)}function Xp(h,m,E,L){var W=-1,ne=kr,de=!0,xe=h.length,Re=[],et=m.length;if(!xe)return Re;E&&(m=dn(m,ws(E))),L?(ne=Or,de=!1):m.length>=i&&(ne=ff,de=!1,m=new yf(m));e:for(;++W<xe;){var tt=h[W],st=E==null?tt:E(tt);if(tt=L||tt!==0?tt:0,de&&st===st){for(var ht=et;ht--;)if(m[ht]===st)continue e;Re.push(tt)}else ne(m,st,L)||Re.push(tt)}return Re}var Xu=PO(gl),tO=PO(Zw,!0);function EW(h,m){var E=!0;return Xu(h,function(L,W,ne){return E=!!m(L,W,ne),E}),E}function Xv(h,m,E){for(var L=-1,W=h.length;++L<W;){var ne=h[L],de=m(ne);if(de!=null&&(xe===n?de===de&&!Sa(de):E(de,xe)))var xe=de,Re=ne}return Re}function $W(h,m,E,L){var W=h.length;for(E=sn(E),E<0&&(E=-E>W?0:W+E),L=L===n||L>W?W:sn(L),L<0&&(L+=W),L=E>L?0:yR(L);E<L;)h[E++]=m;return h}function nO(h,m){var E=[];return Xu(h,function(L,W,ne){m(L,W,ne)&&E.push(L)}),E}function Ni(h,m,E,L,W){var ne=-1,de=h.length;for(E||(E=dG),W||(W=[]);++ne<de;){var xe=h[ne];m>0&&E(xe)?m>1?Ni(xe,m-1,E,L,W):bn(W,xe):L||(W[W.length]=xe)}return W}var Qw=TO(),rO=TO(!0);function gl(h,m){return h&&Qw(h,m,Ei)}function Zw(h,m){return h&&rO(h,m,Ei)}function Qv(h,m){return vt(m,function(E){return cu(h[E])})}function bf(h,m){m=Zu(m,h);for(var E=0,L=m.length;h!=null&&E<L;)h=h[yl(m[E++])];return E&&E==L?h:n}function iO(h,m,E){var L=m(h);return en(h)?L:bn(L,E(h))}function Ss(h){return h==null?h===n?Je:q:gf&&gf in Un(h)?oG(h):bG(h)}function eS(h,m){return h>m}function AW(h,m){return h!=null&&ze.call(h,m)}function PW(h,m){return h!=null&&m in Un(h)}function TW(h,m,E){return h>=ns(m,E)&&h<di(m,E)}function tS(h,m,E){for(var L=E?Or:kr,W=h[0].length,ne=h.length,de=ne,xe=Ue(ne),Re=1/0,et=[];de--;){var tt=h[de];de&&m&&(tt=dn(tt,ws(m))),Re=ns(tt.length,Re),xe[de]=!E&&(m||W>=120&&tt.length>=120)?new yf(de&&tt):n}tt=h[0];var st=-1,ht=xe[0];e:for(;++st<W&&et.length<Re;){var At=tt[st],Ut=m?m(At):At;if(At=E||At!==0?At:0,!(ht?ff(ht,Ut):L(et,Ut,E))){for(de=ne;--de;){var ln=xe[de];if(!(ln?ff(ln,Ut):L(h[de],Ut,E)))continue e}ht&&ht.push(Ut),et.push(At)}}return et}function CW(h,m,E,L){return gl(h,function(W,ne,de){m(L,E(W),ne,de)}),L}function Qp(h,m,E){m=Zu(m,h),h=HO(h,m);var L=h==null?h:h[yl(Xa(m))];return L==null?n:Qe(L,h,E)}function sO(h){return jr(h)&&Ss(h)==I}function kW(h){return jr(h)&&Ss(h)==xt}function OW(h){return jr(h)&&Ss(h)==ke}function Zp(h,m,E,L,W){return h===m?!0:h==null||m==null||!jr(h)&&!jr(m)?h!==h&&m!==m:RW(h,m,E,L,Zp,W)}function RW(h,m,E,L,W,ne){var de=en(h),xe=en(m),Re=de?J:rs(h),et=xe?J:rs(m);Re=Re==I?ie:Re,et=et==I?ie:et;var tt=Re==ie,st=et==ie,ht=Re==et;if(ht&&tc(h)){if(!tc(m))return!1;de=!0,tt=!1}if(ht&&!tt)return ne||(ne=new ko),de||Wh(h)?FO(h,m,E,L,W,ne):sG(h,m,Re,E,L,W,ne);if(!(E&_)){var At=tt&&ze.call(h,"__wrapped__"),Ut=st&&ze.call(m,"__wrapped__");if(At||Ut){var ln=At?h.value():h,qt=Ut?m.value():m;return ne||(ne=new ko),W(ln,qt,E,L,ne)}}return ht?(ne||(ne=new ko),aG(h,m,E,L,W,ne)):!1}function MW(h){return jr(h)&&rs(h)==N}function nS(h,m,E,L){var W=E.length,ne=W,de=!L;if(h==null)return!ne;for(h=Un(h);W--;){var xe=E[W];if(de&&xe[2]?xe[1]!==h[xe[0]]:!(xe[0]in h))return!1}for(;++W<ne;){xe=E[W];var Re=xe[0],et=h[Re],tt=xe[1];if(de&&xe[2]){if(et===n&&!(Re in h))return!1}else{var st=new ko;if(L)var ht=L(et,tt,Re,h,m,st);if(!(ht===n?Zp(tt,et,_|S,L,st):ht))return!1}}return!0}function aO(h){if(!Nr(h)||mG(h))return!1;var m=cu(h)?Ft:En;return m.test(Sf(h))}function NW(h){return jr(h)&&Ss(h)==Te}function IW(h){return jr(h)&&rs(h)==Ne}function DW(h){return jr(h)&&m0(h.length)&&!!Vn[Ss(h)]}function oO(h){return typeof h=="function"?h:h==null?Js:typeof h=="object"?en(h)?cO(h[0],h[1]):uO(h):CR(h)}function rS(h){if(!nm(h))return jH(h);var m=[];for(var E in Un(h))ze.call(h,E)&&E!="constructor"&&m.push(E);return m}function LW(h){if(!Nr(h))return _G(h);var m=nm(h),E=[];for(var L in h)L=="constructor"&&(m||!ze.call(h,L))||E.push(L);return E}function iS(h,m){return h<m}function lO(h,m){var E=-1,L=Ks(h)?Ue(h.length):[];return Xu(h,function(W,ne,de){L[++E]=m(W,ne,de)}),L}function uO(h){var m=_S(h);return m.length==1&&m[0][2]?UO(m[0][0],m[0][1]):function(E){return E===h||nS(E,h,m)}}function cO(h,m){return wS(h)&&zO(m)?UO(yl(h),m):function(E){var L=OS(E,h);return L===n&&L===m?RS(E,h):Zp(m,L,_|S)}}function Zv(h,m,E,L,W){h!==m&&Qw(m,function(ne,de){if(W||(W=new ko),Nr(ne))FW(h,m,de,E,Zv,L,W);else{var xe=L?L(xS(h,de),ne,de+"",h,m,W):n;xe===n&&(xe=ne),Jw(h,de,xe)}},Ys)}function FW(h,m,E,L,W,ne,de){var xe=xS(h,E),Re=xS(m,E),et=de.get(Re);if(et){Jw(h,E,et);return}var tt=ne?ne(xe,Re,E+"",h,m,de):n,st=tt===n;if(st){var ht=en(Re),At=!ht&&tc(Re),Ut=!ht&&!At&&Wh(Re);tt=Re,ht||At||Ut?en(xe)?tt=xe:Kr(xe)?tt=Gs(xe):At?(st=!1,tt=SO(Re,!0)):Ut?(st=!1,tt=xO(Re,!0)):tt=[]:im(Re)||xf(Re)?(tt=xe,xf(xe)?tt=_R(xe):(!Nr(xe)||cu(xe))&&(tt=VO(Re))):st=!1}st&&(de.set(Re,tt),W(tt,Re,L,ne,de),de.delete(Re)),Jw(h,E,tt)}function fO(h,m){var E=h.length;if(E)return m+=m<0?E:0,uu(m,E)?h[m]:n}function hO(h,m,E){m.length?m=dn(m,function(ne){return en(ne)?function(de){return bf(de,ne.length===1?ne[0]:ne)}:ne}):m=[Js];var L=-1;m=dn(m,ws(Bt()));var W=lO(h,function(ne,de,xe){var Re=dn(m,function(et){return et(ne)});return{criteria:Re,index:++L,value:ne}});return zp(W,function(ne,de){return XW(ne,de,E)})}function jW(h,m){return dO(h,m,function(E,L){return RS(h,L)})}function dO(h,m,E){for(var L=-1,W=m.length,ne={};++L<W;){var de=m[L],xe=bf(h,de);E(xe,de)&&em(ne,Zu(de,h),xe)}return ne}function BW(h){return function(m){return bf(m,h)}}function sS(h,m,E,L){var W=L?Zi:Us,ne=-1,de=m.length,xe=h;for(h===m&&(m=Gs(m)),E&&(xe=dn(h,ws(E)));++ne<de;)for(var Re=0,et=m[ne],tt=E?E(et):et;(Re=W(xe,tt,Re,L))>-1;)xe!==h&&ml.call(xe,Re,1),ml.call(h,Re,1);return h}function pO(h,m){for(var E=h?m.length:0,L=E-1;E--;){var W=m[E];if(E==L||W!==ne){var ne=W;uu(W)?ml.call(h,W,1):uS(h,W)}}return h}function aS(h,m){return h+Wv(Kk()*(m-h+1))}function VW(h,m,E,L){for(var W=-1,ne=di(Hv((m-h)/(E||1)),0),de=Ue(ne);ne--;)de[L?ne:++W]=h,h+=E;return de}function oS(h,m){var E="";if(!h||m<1||m>Ie)return E;do m%2&&(E+=h),m=Wv(m/2),m&&(h+=h);while(m);return E}function fn(h,m){return ES(qO(h,m,Js),h+"")}function zW(h){return Xk(Gh(h))}function UW(h,m){var E=Gh(h);return u0(E,_f(m,0,E.length))}function em(h,m,E,L){if(!Nr(h))return h;m=Zu(m,h);for(var W=-1,ne=m.length,de=ne-1,xe=h;xe!=null&&++W<ne;){var Re=yl(m[W]),et=E;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return h;if(W!=de){var tt=xe[Re];et=L?L(tt,Re,xe):n,et===n&&(et=Nr(tt)?tt:uu(m[W+1])?[]:{})}Jp(xe,Re,et),xe=xe[Re]}return h}var mO=Gv?function(h,m){return Gv.set(h,m),h}:Js,qW=qv?function(h,m){return qv(h,"toString",{configurable:!0,enumerable:!1,value:NS(m),writable:!0})}:Js;function HW(h){return u0(Gh(h))}function Ja(h,m,E){var L=-1,W=h.length;m<0&&(m=-m>W?0:W+m),E=E>W?W:E,E<0&&(E+=W),W=m>E?0:E-m>>>0,m>>>=0;for(var ne=Ue(W);++L<W;)ne[L]=h[L+m];return ne}function WW(h,m){var E;return Xu(h,function(L,W,ne){return E=m(L,W,ne),!E}),!!E}function e0(h,m,E){var L=0,W=h==null?L:h.length;if(typeof m=="number"&&m===m&&W<=V){for(;L<W;){var ne=L+W>>>1,de=h[ne];de!==null&&!Sa(de)&&(E?de<=m:de<m)?L=ne+1:W=ne}return W}return lS(h,m,Js,E)}function lS(h,m,E,L){var W=0,ne=h==null?0:h.length;if(ne===0)return 0;m=E(m);for(var de=m!==m,xe=m===null,Re=Sa(m),et=m===n;W<ne;){var tt=Wv((W+ne)/2),st=E(h[tt]),ht=st!==n,At=st===null,Ut=st===st,ln=Sa(st);if(de)var qt=L||Ut;else et?qt=Ut&&(L||ht):xe?qt=Ut&&ht&&(L||!At):Re?qt=Ut&&ht&&!At&&(L||!ln):At||ln?qt=!1:qt=L?st<=m:st<m;qt?W=tt+1:ne=tt}return ns(ne,X)}function gO(h,m){for(var E=-1,L=h.length,W=0,ne=[];++E<L;){var de=h[E],xe=m?m(de):de;if(!E||!Oo(xe,Re)){var Re=xe;ne[W++]=de===0?0:de}}return ne}function vO(h){return typeof h=="number"?h:Sa(h)?ae:+h}function wa(h){if(typeof h=="string")return h;if(en(h))return dn(h,wa)+"";if(Sa(h))return Yk?Yk.call(h):"";var m=h+"";return m=="0"&&1/h==-Ae?"-0":m}function Qu(h,m,E){var L=-1,W=kr,ne=h.length,de=!0,xe=[],Re=xe;if(E)de=!1,W=Or;else if(ne>=i){var et=m?null:rG(h);if(et)return pf(et);de=!1,W=ff,Re=new yf}else Re=m?[]:xe;e:for(;++L<ne;){var tt=h[L],st=m?m(tt):tt;if(tt=E||tt!==0?tt:0,de&&st===st){for(var ht=Re.length;ht--;)if(Re[ht]===st)continue e;m&&Re.push(st),xe.push(tt)}else W(Re,st,E)||(Re!==xe&&Re.push(st),xe.push(tt))}return xe}function uS(h,m){return m=Zu(m,h),h=HO(h,m),h==null||delete h[yl(Xa(m))]}function yO(h,m,E,L){return em(h,m,E(bf(h,m)),L)}function t0(h,m,E,L){for(var W=h.length,ne=L?W:-1;(L?ne--:++ne<W)&&m(h[ne],ne,h););return E?Ja(h,L?0:ne,L?ne+1:W):Ja(h,L?ne+1:0,L?W:ne)}function _O(h,m){var E=h;return E instanceof An&&(E=E.value()),Wt(m,function(L,W){return W.func.apply(W.thisArg,bn([L],W.args))},E)}function cS(h,m,E){var L=h.length;if(L<2)return L?Qu(h[0]):[];for(var W=-1,ne=Ue(L);++W<L;)for(var de=h[W],xe=-1;++xe<L;)xe!=W&&(ne[W]=Xp(ne[W]||de,h[xe],m,E));return Qu(Ni(ne,1),m,E)}function bO(h,m,E){for(var L=-1,W=h.length,ne=m.length,de={};++L<W;){var xe=L<ne?m[L]:n;E(de,h[L],xe)}return de}function fS(h){return Kr(h)?h:[]}function hS(h){return typeof h=="function"?h:Js}function Zu(h,m){return en(h)?h:wS(h,m)?[h]:YO(Qn(h))}var GW=fn;function ec(h,m,E){var L=h.length;return E=E===n?L:E,!m&&E>=L?h:Ja(h,m,E)}var wO=NH||function(h){return he.clearTimeout(h)};function SO(h,m){if(m)return h.slice();var E=h.length,L=Fr?Fr(E):new h.constructor(E);return h.copy(L),L}function dS(h){var m=new h.constructor(h.byteLength);return new Rt(m).set(new Rt(h)),m}function KW(h,m){var E=m?dS(h.buffer):h.buffer;return new h.constructor(E,h.byteOffset,h.byteLength)}function YW(h){var m=new h.constructor(h.source,Dn.exec(h));return m.lastIndex=h.lastIndex,m}function JW(h){return Yp?Un(Yp.call(h)):{}}function xO(h,m){var E=m?dS(h.buffer):h.buffer;return new h.constructor(E,h.byteOffset,h.length)}function EO(h,m){if(h!==m){var E=h!==n,L=h===null,W=h===h,ne=Sa(h),de=m!==n,xe=m===null,Re=m===m,et=Sa(m);if(!xe&&!et&&!ne&&h>m||ne&&de&&Re&&!xe&&!et||L&&de&&Re||!E&&Re||!W)return 1;if(!L&&!ne&&!et&&h<m||et&&E&&W&&!L&&!ne||xe&&E&&W||!de&&W||!Re)return-1}return 0}function XW(h,m,E){for(var L=-1,W=h.criteria,ne=m.criteria,de=W.length,xe=E.length;++L<de;){var Re=EO(W[L],ne[L]);if(Re){if(L>=xe)return Re;var et=E[L];return Re*(et=="desc"?-1:1)}}return h.index-m.index}function $O(h,m,E,L){for(var W=-1,ne=h.length,de=E.length,xe=-1,Re=m.length,et=di(ne-de,0),tt=Ue(Re+et),st=!L;++xe<Re;)tt[xe]=m[xe];for(;++W<de;)(st||W<ne)&&(tt[E[W]]=h[W]);for(;et--;)tt[xe++]=h[W++];return tt}function AO(h,m,E,L){for(var W=-1,ne=h.length,de=-1,xe=E.length,Re=-1,et=m.length,tt=di(ne-xe,0),st=Ue(tt+et),ht=!L;++W<tt;)st[W]=h[W];for(var At=W;++Re<et;)st[At+Re]=m[Re];for(;++de<xe;)(ht||W<ne)&&(st[At+E[de]]=h[W++]);return st}function Gs(h,m){var E=-1,L=h.length;for(m||(m=Ue(L));++E<L;)m[E]=h[E];return m}function vl(h,m,E,L){var W=!E;E||(E={});for(var ne=-1,de=m.length;++ne<de;){var xe=m[ne],Re=L?L(E[xe],h[xe],xe,E,h):n;Re===n&&(Re=h[xe]),W?au(E,xe,Re):Jp(E,xe,Re)}return E}function QW(h,m){return vl(h,bS(h),m)}function ZW(h,m){return vl(h,jO(h),m)}function n0(h,m){return function(E,L){var W=en(E)?Le:wW,ne=m?m():{};return W(E,h,Bt(L,2),ne)}}function Uh(h){return fn(function(m,E){var L=-1,W=E.length,ne=W>1?E[W-1]:n,de=W>2?E[2]:n;for(ne=h.length>3&&typeof ne=="function"?(W--,ne):n,de&&xs(E[0],E[1],de)&&(ne=W<3?n:ne,W=1),m=Un(m);++L<W;){var xe=E[L];xe&&h(m,xe,L,ne)}return m})}function PO(h,m){return function(E,L){if(E==null)return E;if(!Ks(E))return h(E,L);for(var W=E.length,ne=m?W:-1,de=Un(E);(m?ne--:++ne<W)&&L(de[ne],ne,de)!==!1;);return E}}function TO(h){return function(m,E,L){for(var W=-1,ne=Un(m),de=L(m),xe=de.length;xe--;){var Re=de[h?xe:++W];if(E(ne[Re],Re,ne)===!1)break}return m}}function eG(h,m,E){var L=m&b,W=tm(h);function ne(){var de=this&&this!==he&&this instanceof ne?W:h;return de.apply(L?E:this,arguments)}return ne}function CO(h){return function(m){m=Qn(m);var E=Yu(m)?es(m):n,L=E?E[0]:m.charAt(0),W=E?ec(E,1).join(""):m.slice(1);return L[h]()+W}}function qh(h){return function(m){return Wt(PR(AR(m).replace(Bp,"")),h,"")}}function tm(h){return function(){var m=arguments;switch(m.length){case 0:return new h;case 1:return new h(m[0]);case 2:return new h(m[0],m[1]);case 3:return new h(m[0],m[1],m[2]);case 4:return new h(m[0],m[1],m[2],m[3]);case 5:return new h(m[0],m[1],m[2],m[3],m[4]);case 6:return new h(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new h(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var E=zh(h.prototype),L=h.apply(E,m);return Nr(L)?L:E}}function tG(h,m,E){var L=tm(h);function W(){for(var ne=arguments.length,de=Ue(ne),xe=ne,Re=Hh(W);xe--;)de[xe]=arguments[xe];var et=ne<3&&de[0]!==Re&&de[ne-1]!==Re?[]:xi(de,Re);if(ne-=et.length,ne<E)return NO(h,m,r0,W.placeholder,n,de,et,n,n,E-ne);var tt=this&&this!==he&&this instanceof W?L:h;return Qe(tt,this,de)}return W}function kO(h){return function(m,E,L){var W=Un(m);if(!Ks(m)){var ne=Bt(E,3);m=Ei(m),E=function(xe){return ne(W[xe],xe,W)}}var de=h(m,E,L);return de>-1?W[ne?m[de]:de]:n}}function OO(h){return lu(function(m){var E=m.length,L=E,W=Ka.prototype.thru;for(h&&m.reverse();L--;){var ne=m[L];if(typeof ne!="function")throw new Ws(a);if(W&&!de&&o0(ne)=="wrapper")var de=new Ka([],!0)}for(L=de?L:E;++L<E;){ne=m[L];var xe=o0(ne),Re=xe=="wrapper"?yS(ne):n;Re&&SS(Re[0])&&Re[1]==(x|R|$|T)&&!Re[4].length&&Re[9]==1?de=de[o0(Re[0])].apply(de,Re[3]):de=ne.length==1&&SS(ne)?de[xe]():de.thru(ne)}return function(){var et=arguments,tt=et[0];if(de&&et.length==1&&en(tt))return de.plant(tt).value();for(var st=0,ht=E?m[st].apply(this,et):tt;++st<E;)ht=m[st].call(this,ht);return ht}})}function r0(h,m,E,L,W,ne,de,xe,Re,et){var tt=m&x,st=m&b,ht=m&y,At=m&(R|M),Ut=m&D,ln=ht?n:tm(h);function qt(){for(var Sn=arguments.length,Rn=Ue(Sn),xa=Sn;xa--;)Rn[xa]=arguments[xa];if(At)var Es=Hh(qt),Ea=jw(Rn,Es);if(L&&(Rn=$O(Rn,L,W,At)),ne&&(Rn=AO(Rn,ne,de,At)),Sn-=Ea,At&&Sn<et){var Yr=xi(Rn,Es);return NO(h,m,r0,qt.placeholder,E,Rn,Yr,xe,Re,et-Sn)}var Ro=st?E:this,hu=ht?Ro[h]:h;return Sn=Rn.length,xe?Rn=wG(Rn,xe):Ut&&Sn>1&&Rn.reverse(),tt&&Re<Sn&&(Rn.length=Re),this&&this!==he&&this instanceof qt&&(hu=ln||tm(hu)),hu.apply(Ro,Rn)}return qt}function RO(h,m){return function(E,L){return CW(E,h,m(L),{})}}function i0(h,m){return function(E,L){var W;if(E===n&&L===n)return m;if(E!==n&&(W=E),L!==n){if(W===n)return L;typeof E=="string"||typeof L=="string"?(E=wa(E),L=wa(L)):(E=vO(E),L=vO(L)),W=h(E,L)}return W}}function pS(h){return lu(function(m){return m=dn(m,ws(Bt())),fn(function(E){var L=this;return h(m,function(W){return Qe(W,L,E)})})})}function s0(h,m){m=m===n?" ":wa(m);var E=m.length;if(E<2)return E?oS(m,h):m;var L=oS(m,Hv(h/Nn(m)));return Yu(m)?ec(es(L),0,h).join(""):L.slice(0,h)}function nG(h,m,E,L){var W=m&b,ne=tm(h);function de(){for(var xe=-1,Re=arguments.length,et=-1,tt=L.length,st=Ue(tt+Re),ht=this&&this!==he&&this instanceof de?ne:h;++et<tt;)st[et]=L[et];for(;Re--;)st[et++]=arguments[++xe];return Qe(ht,W?E:this,st)}return de}function MO(h){return function(m,E,L){return L&&typeof L!="number"&&xs(m,E,L)&&(E=L=n),m=fu(m),E===n?(E=m,m=0):E=fu(E),L=L===n?m<E?1:-1:fu(L),VW(m,E,L,h)}}function a0(h){return function(m,E){return typeof m=="string"&&typeof E=="string"||(m=Qa(m),E=Qa(E)),h(m,E)}}function NO(h,m,E,L,W,ne,de,xe,Re,et){var tt=m&R,st=tt?de:n,ht=tt?n:de,At=tt?ne:n,Ut=tt?n:ne;m|=tt?$:p,m&=~(tt?p:$),m&A||(m&=~(b|y));var ln=[h,m,W,At,st,Ut,ht,xe,Re,et],qt=E.apply(n,ln);return SS(h)&&WO(qt,ln),qt.placeholder=L,GO(qt,h,m)}function mS(h){var m=Wr[h];return function(E,L){if(E=Qa(E),L=L==null?0:ns(sn(L),292),L&&Gk(E)){var W=(Qn(E)+"e").split("e"),ne=m(W[0]+"e"+(+W[1]+L));return W=(Qn(ne)+"e").split("e"),+(W[0]+"e"+(+W[1]-L))}return m(E)}}var rG=Bh&&1/pf(new Bh([,-0]))[1]==Ae?function(h){return new Bh(h)}:LS;function IO(h){return function(m){var E=rs(m);return E==N?df(m):E==Ne?Vv(m):jv(m,h(m))}}function ou(h,m,E,L,W,ne,de,xe){var Re=m&y;if(!Re&&typeof h!="function")throw new Ws(a);var et=L?L.length:0;if(et||(m&=~($|p),L=W=n),de=de===n?de:di(sn(de),0),xe=xe===n?xe:sn(xe),et-=W?W.length:0,m&p){var tt=L,st=W;L=W=n}var ht=Re?n:yS(h),At=[h,m,E,L,W,tt,st,ne,de,xe];if(ht&&yG(At,ht),h=At[0],m=At[1],E=At[2],L=At[3],W=At[4],xe=At[9]=At[9]===n?Re?0:h.length:di(At[9]-et,0),!xe&&m&(R|M)&&(m&=~(R|M)),!m||m==b)var Ut=eG(h,m,E);else m==R||m==M?Ut=tG(h,m,xe):(m==$||m==(b|$))&&!W.length?Ut=nG(h,m,E,L):Ut=r0.apply(n,At);var ln=ht?mO:WO;return GO(ln(Ut,At),h,m)}function DO(h,m,E,L){return h===n||Oo(h,Ee[E])&&!ze.call(L,E)?m:h}function LO(h,m,E,L,W,ne){return Nr(h)&&Nr(m)&&(ne.set(m,h),Zv(h,m,n,LO,ne),ne.delete(m)),h}function iG(h){return im(h)?n:h}function FO(h,m,E,L,W,ne){var de=E&_,xe=h.length,Re=m.length;if(xe!=Re&&!(de&&Re>xe))return!1;var et=ne.get(h),tt=ne.get(m);if(et&&tt)return et==m&&tt==h;var st=-1,ht=!0,At=E&S?new yf:n;for(ne.set(h,m),ne.set(m,h);++st<xe;){var Ut=h[st],ln=m[st];if(L)var qt=de?L(ln,Ut,st,m,h,ne):L(Ut,ln,st,h,m,ne);if(qt!==n){if(qt)continue;ht=!1;break}if(At){if(!wn(m,function(Sn,Rn){if(!ff(At,Rn)&&(Ut===Sn||W(Ut,Sn,E,L,ne)))return At.push(Rn)})){ht=!1;break}}else if(!(Ut===ln||W(Ut,ln,E,L,ne))){ht=!1;break}}return ne.delete(h),ne.delete(m),ht}function sG(h,m,E,L,W,ne,de){switch(E){case Ot:if(h.byteLength!=m.byteLength||h.byteOffset!=m.byteOffset)return!1;h=h.buffer,m=m.buffer;case xt:return!(h.byteLength!=m.byteLength||!ne(new Rt(h),new Rt(m)));case _e:case ke:case F:return Oo(+h,+m);case We:return h.name==m.name&&h.message==m.message;case Te:case Be:return h==m+"";case N:var xe=df;case Ne:var Re=L&_;if(xe||(xe=pf),h.size!=m.size&&!Re)return!1;var et=de.get(h);if(et)return et==m;L|=S,de.set(h,m);var tt=FO(xe(h),xe(m),L,W,ne,de);return de.delete(h),tt;case Xe:if(Yp)return Yp.call(h)==Yp.call(m)}return!1}function aG(h,m,E,L,W,ne){var de=E&_,xe=gS(h),Re=xe.length,et=gS(m),tt=et.length;if(Re!=tt&&!de)return!1;for(var st=Re;st--;){var ht=xe[st];if(!(de?ht in m:ze.call(m,ht)))return!1}var At=ne.get(h),Ut=ne.get(m);if(At&&Ut)return At==m&&Ut==h;var ln=!0;ne.set(h,m),ne.set(m,h);for(var qt=de;++st<Re;){ht=xe[st];var Sn=h[ht],Rn=m[ht];if(L)var xa=de?L(Rn,Sn,ht,m,h,ne):L(Sn,Rn,ht,h,m,ne);if(!(xa===n?Sn===Rn||W(Sn,Rn,E,L,ne):xa)){ln=!1;break}qt||(qt=ht=="constructor")}if(ln&&!qt){var Es=h.constructor,Ea=m.constructor;Es!=Ea&&"constructor"in h&&"constructor"in m&&!(typeof Es=="function"&&Es instanceof Es&&typeof Ea=="function"&&Ea instanceof Ea)&&(ln=!1)}return ne.delete(h),ne.delete(m),ln}function lu(h){return ES(qO(h,n,ZO),h+"")}function gS(h){return iO(h,Ei,bS)}function vS(h){return iO(h,Ys,jO)}var yS=Gv?function(h){return Gv.get(h)}:LS;function o0(h){for(var m=h.name+"",E=Vh[m],L=ze.call(Vh,m)?E.length:0;L--;){var W=E[L],ne=W.func;if(ne==null||ne==h)return W.name}return m}function Hh(h){var m=ze.call(ee,"placeholder")?ee:h;return m.placeholder}function Bt(){var h=ee.iteratee||IS;return h=h===IS?oO:h,arguments.length?h(arguments[0],arguments[1]):h}function l0(h,m){var E=h.__data__;return pG(m)?E[typeof m=="string"?"string":"hash"]:E.map}function _S(h){for(var m=Ei(h),E=m.length;E--;){var L=m[E],W=h[L];m[E]=[L,W,zO(W)]}return m}function wf(h,m){var E=zw(h,m);return aO(E)?E:n}function oG(h){var m=ze.call(h,gf),E=h[gf];try{h[gf]=n;var L=!0}catch{}var W=ct.call(h);return L&&(m?h[gf]=E:delete h[gf]),W}var bS=Gw?function(h){return h==null?[]:(h=Un(h),vt(Gw(h),function(m){return ur.call(h,m)}))}:FS,jO=Gw?function(h){for(var m=[];h;)bn(m,bS(h)),h=Gr(h);return m}:FS,rs=Ss;(Kw&&rs(new Kw(new ArrayBuffer(1)))!=Ot||Wp&&rs(new Wp)!=N||Yw&&rs(Yw.resolve())!=ge||Bh&&rs(new Bh)!=Ne||Gp&&rs(new Gp)!=Ze)&&(rs=function(h){var m=Ss(h),E=m==ie?h.constructor:n,L=E?Sf(E):"";if(L)switch(L){case UH:return Ot;case qH:return N;case HH:return ge;case WH:return Ne;case GH:return Ze}return m});function lG(h,m,E){for(var L=-1,W=E.length;++L<W;){var ne=E[L],de=ne.size;switch(ne.type){case"drop":h+=de;break;case"dropRight":m-=de;break;case"take":m=ns(m,h+de);break;case"takeRight":h=di(h,m-de);break}}return{start:h,end:m}}function uG(h){var m=h.match(Se);return m?m[1].split(De):[]}function BO(h,m,E){m=Zu(m,h);for(var L=-1,W=m.length,ne=!1;++L<W;){var de=yl(m[L]);if(!(ne=h!=null&&E(h,de)))break;h=h[de]}return ne||++L!=W?ne:(W=h==null?0:h.length,!!W&&m0(W)&&uu(de,W)&&(en(h)||xf(h)))}function cG(h){var m=h.length,E=new h.constructor(m);return m&&typeof h[0]=="string"&&ze.call(h,"index")&&(E.index=h.index,E.input=h.input),E}function VO(h){return typeof h.constructor=="function"&&!nm(h)?zh(Gr(h)):{}}function fG(h,m,E){var L=h.constructor;switch(m){case xt:return dS(h);case _e:case ke:return new L(+h);case Ot:return KW(h,E);case mt:case zt:case Hn:case Cr:case Zn:case ci:case er:case yn:case _n:return xO(h,E);case N:return new L;case F:case Be:return new L(h);case Te:return YW(h);case Ne:return new L;case Xe:return JW(h)}}function hG(h,m){var E=m.length;if(!E)return h;var L=E-1;return m[L]=(E>1?"& ":"")+m[L],m=m.join(E>2?", ":" "),h.replace(oe,`{
/* [wrapped with `+m+`] */
`)}function dG(h){return en(h)||xf(h)||!!(Ju&&h&&h[Ju])}function uu(h,m){var E=typeof h;return m=m??Ie,!!m&&(E=="number"||E!="symbol"&&jt.test(h))&&h>-1&&h%1==0&&h<m}function xs(h,m,E){if(!Nr(E))return!1;var L=typeof m;return(L=="number"?Ks(E)&&uu(m,E.length):L=="string"&&m in E)?Oo(E[m],h):!1}function wS(h,m){if(en(h))return!1;var E=typeof h;return E=="number"||E=="symbol"||E=="boolean"||h==null||Sa(h)?!0:ol.test(h)||!va.test(h)||m!=null&&h in Un(m)}function pG(h){var m=typeof h;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?h!=="__proto__":h===null}function SS(h){var m=o0(h),E=ee[m];if(typeof E!="function"||!(m in An.prototype))return!1;if(h===E)return!0;var L=yS(E);return!!L&&h===L[0]}function mG(h){return!!at&&at in h}var gG=Ye?cu:jS;function nm(h){var m=h&&h.constructor,E=typeof m=="function"&&m.prototype||Ee;return h===E}function zO(h){return h===h&&!Nr(h)}function UO(h,m){return function(E){return E==null?!1:E[h]===m&&(m!==n||h in Un(E))}}function vG(h){var m=d0(h,function(L){return E.size===u&&E.clear(),L}),E=m.cache;return m}function yG(h,m){var E=h[1],L=m[1],W=E|L,ne=W<(b|y|x),de=L==x&&E==R||L==x&&E==T&&h[7].length<=m[8]||L==(x|T)&&m[7].length<=m[8]&&E==R;if(!(ne||de))return h;L&b&&(h[2]=m[2],W|=E&b?0:A);var xe=m[3];if(xe){var Re=h[3];h[3]=Re?$O(Re,xe,m[4]):xe,h[4]=Re?xi(h[3],c):m[4]}return xe=m[5],xe&&(Re=h[5],h[5]=Re?AO(Re,xe,m[6]):xe,h[6]=Re?xi(h[5],c):m[6]),xe=m[7],xe&&(h[7]=xe),L&x&&(h[8]=h[8]==null?m[8]:ns(h[8],m[8])),h[9]==null&&(h[9]=m[9]),h[0]=m[0],h[1]=W,h}function _G(h){var m=[];if(h!=null)for(var E in Un(h))m.push(E);return m}function bG(h){return ct.call(h)}function qO(h,m,E){return m=di(m===n?h.length-1:m,0),function(){for(var L=arguments,W=-1,ne=di(L.length-m,0),de=Ue(ne);++W<ne;)de[W]=L[m+W];W=-1;for(var xe=Ue(m+1);++W<m;)xe[W]=L[W];return xe[m]=E(de),Qe(h,this,xe)}}function HO(h,m){return m.length<2?h:bf(h,Ja(m,0,-1))}function wG(h,m){for(var E=h.length,L=ns(m.length,E),W=Gs(h);L--;){var ne=m[L];h[L]=uu(ne,E)?W[ne]:n}return h}function xS(h,m){if(!(m==="constructor"&&typeof h[m]=="function")&&m!="__proto__")return h[m]}var WO=KO(mO),rm=DH||function(h,m){return he.setTimeout(h,m)},ES=KO(qW);function GO(h,m,E){var L=m+"";return ES(h,hG(L,SG(uG(L),E)))}function KO(h){var m=0,E=0;return function(){var L=BH(),W=se-(L-E);if(E=L,W>0){if(++m>=G)return arguments[0]}else m=0;return h.apply(n,arguments)}}function u0(h,m){var E=-1,L=h.length,W=L-1;for(m=m===n?L:m;++E<m;){var ne=aS(E,W),de=h[ne];h[ne]=h[E],h[E]=de}return h.length=m,h}var YO=vG(function(h){var m=[];return h.charCodeAt(0)===46&&m.push(""),h.replace(qu,function(E,L,W,ne){m.push(W?ne.replace(gt,"$1"):L||E)}),m});function yl(h){if(typeof h=="string"||Sa(h))return h;var m=h+"";return m=="0"&&1/h==-Ae?"-0":m}function Sf(h){if(h!=null){try{return Oe.call(h)}catch{}try{return h+""}catch{}}return""}function SG(h,m){return qe(k,function(E){var L="_."+E[0];m&E[1]&&!kr(h,L)&&h.push(L)}),h.sort()}function JO(h){if(h instanceof An)return h.clone();var m=new Ka(h.__wrapped__,h.__chain__);return m.__actions__=Gs(h.__actions__),m.__index__=h.__index__,m.__values__=h.__values__,m}function xG(h,m,E){(E?xs(h,m,E):m===n)?m=1:m=di(sn(m),0);var L=h==null?0:h.length;if(!L||m<1)return[];for(var W=0,ne=0,de=Ue(Hv(L/m));W<L;)de[ne++]=Ja(h,W,W+=m);return de}function EG(h){for(var m=-1,E=h==null?0:h.length,L=0,W=[];++m<E;){var ne=h[m];ne&&(W[L++]=ne)}return W}function $G(){var h=arguments.length;if(!h)return[];for(var m=Ue(h-1),E=arguments[0],L=h;L--;)m[L-1]=arguments[L];return bn(en(E)?Gs(E):[E],Ni(m,1))}var AG=fn(function(h,m){return Kr(h)?Xp(h,Ni(m,1,Kr,!0)):[]}),PG=fn(function(h,m){var E=Xa(m);return Kr(E)&&(E=n),Kr(h)?Xp(h,Ni(m,1,Kr,!0),Bt(E,2)):[]}),TG=fn(function(h,m){var E=Xa(m);return Kr(E)&&(E=n),Kr(h)?Xp(h,Ni(m,1,Kr,!0),n,E):[]});function CG(h,m,E){var L=h==null?0:h.length;return L?(m=E||m===n?1:sn(m),Ja(h,m<0?0:m,L)):[]}function kG(h,m,E){var L=h==null?0:h.length;return L?(m=E||m===n?1:sn(m),m=L-m,Ja(h,0,m<0?0:m)):[]}function OG(h,m){return h&&h.length?t0(h,Bt(m,3),!0,!0):[]}function RG(h,m){return h&&h.length?t0(h,Bt(m,3),!0):[]}function MG(h,m,E,L){var W=h==null?0:h.length;return W?(E&&typeof E!="number"&&xs(h,m,E)&&(E=0,L=W),$W(h,m,E,L)):[]}function XO(h,m,E){var L=h==null?0:h.length;if(!L)return-1;var W=E==null?0:sn(E);return W<0&&(W=di(L+W,0)),Ha(h,Bt(m,3),W)}function QO(h,m,E){var L=h==null?0:h.length;if(!L)return-1;var W=L-1;return E!==n&&(W=sn(E),W=E<0?di(L+W,0):ns(W,L-1)),Ha(h,Bt(m,3),W,!0)}function ZO(h){var m=h==null?0:h.length;return m?Ni(h,1):[]}function NG(h){var m=h==null?0:h.length;return m?Ni(h,Ae):[]}function IG(h,m){var E=h==null?0:h.length;return E?(m=m===n?1:sn(m),Ni(h,m)):[]}function DG(h){for(var m=-1,E=h==null?0:h.length,L={};++m<E;){var W=h[m];L[W[0]]=W[1]}return L}function eR(h){return h&&h.length?h[0]:n}function LG(h,m,E){var L=h==null?0:h.length;if(!L)return-1;var W=E==null?0:sn(E);return W<0&&(W=di(L+W,0)),Us(h,m,W)}function FG(h){var m=h==null?0:h.length;return m?Ja(h,0,-1):[]}var jG=fn(function(h){var m=dn(h,fS);return m.length&&m[0]===h[0]?tS(m):[]}),BG=fn(function(h){var m=Xa(h),E=dn(h,fS);return m===Xa(E)?m=n:E.pop(),E.length&&E[0]===h[0]?tS(E,Bt(m,2)):[]}),VG=fn(function(h){var m=Xa(h),E=dn(h,fS);return m=typeof m=="function"?m:n,m&&E.pop(),E.length&&E[0]===h[0]?tS(E,n,m):[]});function zG(h,m){return h==null?"":FH.call(h,m)}function Xa(h){var m=h==null?0:h.length;return m?h[m-1]:n}function UG(h,m,E){var L=h==null?0:h.length;if(!L)return-1;var W=L;return E!==n&&(W=sn(E),W=W<0?di(L+W,0):ns(W,L-1)),m===m?qw(h,m,W):Ha(h,To,W,!0)}function qG(h,m){return h&&h.length?fO(h,sn(m)):n}var HG=fn(tR);function tR(h,m){return h&&h.length&&m&&m.length?sS(h,m):h}function WG(h,m,E){return h&&h.length&&m&&m.length?sS(h,m,Bt(E,2)):h}function GG(h,m,E){return h&&h.length&&m&&m.length?sS(h,m,n,E):h}var KG=lu(function(h,m){var E=h==null?0:h.length,L=Xw(h,m);return pO(h,dn(m,function(W){return uu(W,E)?+W:W}).sort(EO)),L});function YG(h,m){var E=[];if(!(h&&h.length))return E;var L=-1,W=[],ne=h.length;for(m=Bt(m,3);++L<ne;){var de=h[L];m(de,L,h)&&(E.push(de),W.push(L))}return pO(h,W),E}function $S(h){return h==null?h:zH.call(h)}function JG(h,m,E){var L=h==null?0:h.length;return L?(E&&typeof E!="number"&&xs(h,m,E)?(m=0,E=L):(m=m==null?0:sn(m),E=E===n?L:sn(E)),Ja(h,m,E)):[]}function XG(h,m){return e0(h,m)}function QG(h,m,E){return lS(h,m,Bt(E,2))}function ZG(h,m){var E=h==null?0:h.length;if(E){var L=e0(h,m);if(L<E&&Oo(h[L],m))return L}return-1}function eK(h,m){return e0(h,m,!0)}function tK(h,m,E){return lS(h,m,Bt(E,2),!0)}function nK(h,m){var E=h==null?0:h.length;if(E){var L=e0(h,m,!0)-1;if(Oo(h[L],m))return L}return-1}function rK(h){return h&&h.length?gO(h):[]}function iK(h,m){return h&&h.length?gO(h,Bt(m,2)):[]}function sK(h){var m=h==null?0:h.length;return m?Ja(h,1,m):[]}function aK(h,m,E){return h&&h.length?(m=E||m===n?1:sn(m),Ja(h,0,m<0?0:m)):[]}function oK(h,m,E){var L=h==null?0:h.length;return L?(m=E||m===n?1:sn(m),m=L-m,Ja(h,m<0?0:m,L)):[]}function lK(h,m){return h&&h.length?t0(h,Bt(m,3),!1,!0):[]}function uK(h,m){return h&&h.length?t0(h,Bt(m,3)):[]}var cK=fn(function(h){return Qu(Ni(h,1,Kr,!0))}),fK=fn(function(h){var m=Xa(h);return Kr(m)&&(m=n),Qu(Ni(h,1,Kr,!0),Bt(m,2))}),hK=fn(function(h){var m=Xa(h);return m=typeof m=="function"?m:n,Qu(Ni(h,1,Kr,!0),n,m)});function dK(h){return h&&h.length?Qu(h):[]}function pK(h,m){return h&&h.length?Qu(h,Bt(m,2)):[]}function mK(h,m){return m=typeof m=="function"?m:n,h&&h.length?Qu(h,n,m):[]}function AS(h){if(!(h&&h.length))return[];var m=0;return h=vt(h,function(E){if(Kr(E))return m=di(E.length,m),!0}),Co(m,function(E){return dn(h,Wa(E))})}function nR(h,m){if(!(h&&h.length))return[];var E=AS(h);return m==null?E:dn(E,function(L){return Qe(m,n,L)})}var gK=fn(function(h,m){return Kr(h)?Xp(h,m):[]}),vK=fn(function(h){return cS(vt(h,Kr))}),yK=fn(function(h){var m=Xa(h);return Kr(m)&&(m=n),cS(vt(h,Kr),Bt(m,2))}),_K=fn(function(h){var m=Xa(h);return m=typeof m=="function"?m:n,cS(vt(h,Kr),n,m)}),bK=fn(AS);function wK(h,m){return bO(h||[],m||[],Jp)}function SK(h,m){return bO(h||[],m||[],em)}var xK=fn(function(h){var m=h.length,E=m>1?h[m-1]:n;return E=typeof E=="function"?(h.pop(),E):n,nR(h,E)});function rR(h){var m=ee(h);return m.__chain__=!0,m}function EK(h,m){return m(h),h}function c0(h,m){return m(h)}var $K=lu(function(h){var m=h.length,E=m?h[0]:0,L=this.__wrapped__,W=function(ne){return Xw(ne,h)};return m>1||this.__actions__.length||!(L instanceof An)||!uu(E)?this.thru(W):(L=L.slice(E,+E+(m?1:0)),L.__actions__.push({func:c0,args:[W],thisArg:n}),new Ka(L,this.__chain__).thru(function(ne){return m&&!ne.length&&ne.push(n),ne}))});function AK(){return rR(this)}function PK(){return new Ka(this.value(),this.__chain__)}function TK(){this.__values__===n&&(this.__values__=vR(this.value()));var h=this.__index__>=this.__values__.length,m=h?n:this.__values__[this.__index__++];return{done:h,value:m}}function CK(){return this}function kK(h){for(var m,E=this;E instanceof Yv;){var L=JO(E);L.__index__=0,L.__values__=n,m?W.__wrapped__=L:m=L;var W=L;E=E.__wrapped__}return W.__wrapped__=h,m}function OK(){var h=this.__wrapped__;if(h instanceof An){var m=h;return this.__actions__.length&&(m=new An(this)),m=m.reverse(),m.__actions__.push({func:c0,args:[$S],thisArg:n}),new Ka(m,this.__chain__)}return this.thru($S)}function RK(){return _O(this.__wrapped__,this.__actions__)}var MK=n0(function(h,m,E){ze.call(h,E)?++h[E]:au(h,E,1)});function NK(h,m,E){var L=en(h)?Kt:EW;return E&&xs(h,m,E)&&(m=n),L(h,Bt(m,3))}function IK(h,m){var E=en(h)?vt:nO;return E(h,Bt(m,3))}var DK=kO(XO),LK=kO(QO);function FK(h,m){return Ni(f0(h,m),1)}function jK(h,m){return Ni(f0(h,m),Ae)}function BK(h,m,E){return E=E===n?1:sn(E),Ni(f0(h,m),E)}function iR(h,m){var E=en(h)?qe:Xu;return E(h,Bt(m,3))}function sR(h,m){var E=en(h)?Tt:tO;return E(h,Bt(m,3))}var VK=n0(function(h,m,E){ze.call(h,E)?h[E].push(m):au(h,E,[m])});function zK(h,m,E,L){h=Ks(h)?h:Gh(h),E=E&&!L?sn(E):0;var W=h.length;return E<0&&(E=di(W+E,0)),g0(h)?E<=W&&h.indexOf(m,E)>-1:!!W&&Us(h,m,E)>-1}var UK=fn(function(h,m,E){var L=-1,W=typeof m=="function",ne=Ks(h)?Ue(h.length):[];return Xu(h,function(de){ne[++L]=W?Qe(m,de,E):Qp(de,m,E)}),ne}),qK=n0(function(h,m,E){au(h,E,m)});function f0(h,m){var E=en(h)?dn:lO;return E(h,Bt(m,3))}function HK(h,m,E,L){return h==null?[]:(en(m)||(m=m==null?[]:[m]),E=L?n:E,en(E)||(E=E==null?[]:[E]),hO(h,m,E))}var WK=n0(function(h,m,E){h[E?0:1].push(m)},function(){return[[],[]]});function GK(h,m,E){var L=en(h)?Wt:pl,W=arguments.length<3;return L(h,Bt(m,4),E,W,Xu)}function KK(h,m,E){var L=en(h)?Xi:pl,W=arguments.length<3;return L(h,Bt(m,4),E,W,tO)}function YK(h,m){var E=en(h)?vt:nO;return E(h,p0(Bt(m,3)))}function JK(h){var m=en(h)?Xk:zW;return m(h)}function XK(h,m,E){(E?xs(h,m,E):m===n)?m=1:m=sn(m);var L=en(h)?_W:UW;return L(h,m)}function QK(h){var m=en(h)?bW:HW;return m(h)}function ZK(h){if(h==null)return 0;if(Ks(h))return g0(h)?Nn(h):h.length;var m=rs(h);return m==N||m==Ne?h.size:rS(h).length}function eY(h,m,E){var L=en(h)?wn:WW;return E&&xs(h,m,E)&&(m=n),L(h,Bt(m,3))}var tY=fn(function(h,m){if(h==null)return[];var E=m.length;return E>1&&xs(h,m[0],m[1])?m=[]:E>2&&xs(m[0],m[1],m[2])&&(m=[m[0]]),hO(h,Ni(m,1),[])}),h0=IH||function(){return he.Date.now()};function nY(h,m){if(typeof m!="function")throw new Ws(a);return h=sn(h),function(){if(--h<1)return m.apply(this,arguments)}}function aR(h,m,E){return m=E?n:m,m=h&&m==null?h.length:m,ou(h,x,n,n,n,n,m)}function oR(h,m){var E;if(typeof m!="function")throw new Ws(a);return h=sn(h),function(){return--h>0&&(E=m.apply(this,arguments)),h<=1&&(m=n),E}}var PS=fn(function(h,m,E){var L=b;if(E.length){var W=xi(E,Hh(PS));L|=$}return ou(h,L,m,E,W)}),lR=fn(function(h,m,E){var L=b|y;if(E.length){var W=xi(E,Hh(lR));L|=$}return ou(m,L,h,E,W)});function uR(h,m,E){m=E?n:m;var L=ou(h,R,n,n,n,n,n,m);return L.placeholder=uR.placeholder,L}function cR(h,m,E){m=E?n:m;var L=ou(h,M,n,n,n,n,n,m);return L.placeholder=cR.placeholder,L}function fR(h,m,E){var L,W,ne,de,xe,Re,et=0,tt=!1,st=!1,ht=!0;if(typeof h!="function")throw new Ws(a);m=Qa(m)||0,Nr(E)&&(tt=!!E.leading,st="maxWait"in E,ne=st?di(Qa(E.maxWait)||0,m):ne,ht="trailing"in E?!!E.trailing:ht);function At(Yr){var Ro=L,hu=W;return L=W=n,et=Yr,de=h.apply(hu,Ro),de}function Ut(Yr){return et=Yr,xe=rm(Sn,m),tt?At(Yr):de}function ln(Yr){var Ro=Yr-Re,hu=Yr-et,kR=m-Ro;return st?ns(kR,ne-hu):kR}function qt(Yr){var Ro=Yr-Re,hu=Yr-et;return Re===n||Ro>=m||Ro<0||st&&hu>=ne}function Sn(){var Yr=h0();if(qt(Yr))return Rn(Yr);xe=rm(Sn,ln(Yr))}function Rn(Yr){return xe=n,ht&&L?At(Yr):(L=W=n,de)}function xa(){xe!==n&&wO(xe),et=0,L=Re=W=xe=n}function Es(){return xe===n?de:Rn(h0())}function Ea(){var Yr=h0(),Ro=qt(Yr);if(L=arguments,W=this,Re=Yr,Ro){if(xe===n)return Ut(Re);if(st)return wO(xe),xe=rm(Sn,m),At(Re)}return xe===n&&(xe=rm(Sn,m)),de}return Ea.cancel=xa,Ea.flush=Es,Ea}var rY=fn(function(h,m){return eO(h,1,m)}),iY=fn(function(h,m,E){return eO(h,Qa(m)||0,E)});function sY(h){return ou(h,D)}function d0(h,m){if(typeof h!="function"||m!=null&&typeof m!="function")throw new Ws(a);var E=function(){var L=arguments,W=m?m.apply(this,L):L[0],ne=E.cache;if(ne.has(W))return ne.get(W);var de=h.apply(this,L);return E.cache=ne.set(W,de)||ne,de};return E.cache=new(d0.Cache||su),E}d0.Cache=su;function p0(h){if(typeof h!="function")throw new Ws(a);return function(){var m=arguments;switch(m.length){case 0:return!h.call(this);case 1:return!h.call(this,m[0]);case 2:return!h.call(this,m[0],m[1]);case 3:return!h.call(this,m[0],m[1],m[2])}return!h.apply(this,m)}}function aY(h){return oR(2,h)}var oY=GW(function(h,m){m=m.length==1&&en(m[0])?dn(m[0],ws(Bt())):dn(Ni(m,1),ws(Bt()));var E=m.length;return fn(function(L){for(var W=-1,ne=ns(L.length,E);++W<ne;)L[W]=m[W].call(this,L[W]);return Qe(h,this,L)})}),TS=fn(function(h,m){var E=xi(m,Hh(TS));return ou(h,$,n,m,E)}),hR=fn(function(h,m){var E=xi(m,Hh(hR));return ou(h,p,n,m,E)}),lY=lu(function(h,m){return ou(h,T,n,n,n,m)});function uY(h,m){if(typeof h!="function")throw new Ws(a);return m=m===n?m:sn(m),fn(h,m)}function cY(h,m){if(typeof h!="function")throw new Ws(a);return m=m==null?0:di(sn(m),0),fn(function(E){var L=E[m],W=ec(E,0,m);return L&&bn(W,L),Qe(h,this,W)})}function fY(h,m,E){var L=!0,W=!0;if(typeof h!="function")throw new Ws(a);return Nr(E)&&(L="leading"in E?!!E.leading:L,W="trailing"in E?!!E.trailing:W),fR(h,m,{leading:L,maxWait:m,trailing:W})}function hY(h){return aR(h,1)}function dY(h,m){return TS(hS(m),h)}function pY(){if(!arguments.length)return[];var h=arguments[0];return en(h)?h:[h]}function mY(h){return Ya(h,v)}function gY(h,m){return m=typeof m=="function"?m:n,Ya(h,v,m)}function vY(h){return Ya(h,f|v)}function yY(h,m){return m=typeof m=="function"?m:n,Ya(h,f|v,m)}function _Y(h,m){return m==null||Zk(h,m,Ei(m))}function Oo(h,m){return h===m||h!==h&&m!==m}var bY=a0(eS),wY=a0(function(h,m){return h>=m}),xf=sO(function(){return arguments}())?sO:function(h){return jr(h)&&ze.call(h,"callee")&&!ur.call(h,"callee")},en=Ue.isArray,SY=B?ws(B):kW;function Ks(h){return h!=null&&m0(h.length)&&!cu(h)}function Kr(h){return jr(h)&&Ks(h)}function xY(h){return h===!0||h===!1||jr(h)&&Ss(h)==_e}var tc=LH||jS,EY=K?ws(K):OW;function $Y(h){return jr(h)&&h.nodeType===1&&!im(h)}function AY(h){if(h==null)return!0;if(Ks(h)&&(en(h)||typeof h=="string"||typeof h.splice=="function"||tc(h)||Wh(h)||xf(h)))return!h.length;var m=rs(h);if(m==N||m==Ne)return!h.size;if(nm(h))return!rS(h).length;for(var E in h)if(ze.call(h,E))return!1;return!0}function PY(h,m){return Zp(h,m)}function TY(h,m,E){E=typeof E=="function"?E:n;var L=E?E(h,m):n;return L===n?Zp(h,m,n,E):!!L}function CS(h){if(!jr(h))return!1;var m=Ss(h);return m==We||m==Ve||typeof h.message=="string"&&typeof h.name=="string"&&!im(h)}function CY(h){return typeof h=="number"&&Gk(h)}function cu(h){if(!Nr(h))return!1;var m=Ss(h);return m==Y||m==Q||m==ue||m==ve}function dR(h){return typeof h=="number"&&h==sn(h)}function m0(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=Ie}function Nr(h){var m=typeof h;return h!=null&&(m=="object"||m=="function")}function jr(h){return h!=null&&typeof h=="object"}var pR=pe?ws(pe):MW;function kY(h,m){return h===m||nS(h,m,_S(m))}function OY(h,m,E){return E=typeof E=="function"?E:n,nS(h,m,_S(m),E)}function RY(h){return mR(h)&&h!=+h}function MY(h){if(gG(h))throw new Gt(s);return aO(h)}function NY(h){return h===null}function IY(h){return h==null}function mR(h){return typeof h=="number"||jr(h)&&Ss(h)==F}function im(h){if(!jr(h)||Ss(h)!=ie)return!1;var m=Gr(h);if(m===null)return!0;var E=ze.call(m,"constructor")&&m.constructor;return typeof E=="function"&&E instanceof E&&Oe.call(E)==Lt}var kS=ce?ws(ce):NW;function DY(h){return dR(h)&&h>=-Ie&&h<=Ie}var gR=Ce?ws(Ce):IW;function g0(h){return typeof h=="string"||!en(h)&&jr(h)&&Ss(h)==Be}function Sa(h){return typeof h=="symbol"||jr(h)&&Ss(h)==Xe}var Wh=Fe?ws(Fe):DW;function LY(h){return h===n}function FY(h){return jr(h)&&rs(h)==Ze}function jY(h){return jr(h)&&Ss(h)==ut}var BY=a0(iS),VY=a0(function(h,m){return h<=m});function vR(h){if(!h)return[];if(Ks(h))return g0(h)?es(h):Gs(h);if(hi&&h[hi])return Uw(h[hi]());var m=rs(h),E=m==N?df:m==Ne?pf:Gh;return E(h)}function fu(h){if(!h)return h===0?h:0;if(h=Qa(h),h===Ae||h===-Ae){var m=h<0?-1:1;return m*Me}return h===h?h:0}function sn(h){var m=fu(h),E=m%1;return m===m?E?m-E:m:0}function yR(h){return h?_f(sn(h),0,H):0}function Qa(h){if(typeof h=="number")return h;if(Sa(h))return ae;if(Nr(h)){var m=typeof h.valueOf=="function"?h.valueOf():h;h=Nr(m)?m+"":m}if(typeof h!="string")return h===0?h:+h;h=Fh(h);var E=rn.test(h);return E||Yn.test(h)?z(h.slice(2),E?2:8):nr.test(h)?ae:+h}function _R(h){return vl(h,Ys(h))}function zY(h){return h?_f(sn(h),-Ie,Ie):h===0?h:0}function Qn(h){return h==null?"":wa(h)}var UY=Uh(function(h,m){if(nm(m)||Ks(m)){vl(m,Ei(m),h);return}for(var E in m)ze.call(m,E)&&Jp(h,E,m[E])}),bR=Uh(function(h,m){vl(m,Ys(m),h)}),v0=Uh(function(h,m,E,L){vl(m,Ys(m),h,L)}),qY=Uh(function(h,m,E,L){vl(m,Ei(m),h,L)}),HY=lu(Xw);function WY(h,m){var E=zh(h);return m==null?E:Qk(E,m)}var GY=fn(function(h,m){h=Un(h);var E=-1,L=m.length,W=L>2?m[2]:n;for(W&&xs(m[0],m[1],W)&&(L=1);++E<L;)for(var ne=m[E],de=Ys(ne),xe=-1,Re=de.length;++xe<Re;){var et=de[xe],tt=h[et];(tt===n||Oo(tt,Ee[et])&&!ze.call(h,et))&&(h[et]=ne[et])}return h}),KY=fn(function(h){return h.push(n,LO),Qe(wR,n,h)});function YY(h,m){return Qi(h,Bt(m,3),gl)}function JY(h,m){return Qi(h,Bt(m,3),Zw)}function XY(h,m){return h==null?h:Qw(h,Bt(m,3),Ys)}function QY(h,m){return h==null?h:rO(h,Bt(m,3),Ys)}function ZY(h,m){return h&&gl(h,Bt(m,3))}function eJ(h,m){return h&&Zw(h,Bt(m,3))}function tJ(h){return h==null?[]:Qv(h,Ei(h))}function nJ(h){return h==null?[]:Qv(h,Ys(h))}function OS(h,m,E){var L=h==null?n:bf(h,m);return L===n?E:L}function rJ(h,m){return h!=null&&BO(h,m,AW)}function RS(h,m){return h!=null&&BO(h,m,PW)}var iJ=RO(function(h,m,E){m!=null&&typeof m.toString!="function"&&(m=ct.call(m)),h[m]=E},NS(Js)),sJ=RO(function(h,m,E){m!=null&&typeof m.toString!="function"&&(m=ct.call(m)),ze.call(h,m)?h[m].push(E):h[m]=[E]},Bt),aJ=fn(Qp);function Ei(h){return Ks(h)?Jk(h):rS(h)}function Ys(h){return Ks(h)?Jk(h,!0):LW(h)}function oJ(h,m){var E={};return m=Bt(m,3),gl(h,function(L,W,ne){au(E,m(L,W,ne),L)}),E}function lJ(h,m){var E={};return m=Bt(m,3),gl(h,function(L,W,ne){au(E,W,m(L,W,ne))}),E}var uJ=Uh(function(h,m,E){Zv(h,m,E)}),wR=Uh(function(h,m,E,L){Zv(h,m,E,L)}),cJ=lu(function(h,m){var E={};if(h==null)return E;var L=!1;m=dn(m,function(ne){return ne=Zu(ne,h),L||(L=ne.length>1),ne}),vl(h,vS(h),E),L&&(E=Ya(E,f|d|v,iG));for(var W=m.length;W--;)uS(E,m[W]);return E});function fJ(h,m){return SR(h,p0(Bt(m)))}var hJ=lu(function(h,m){return h==null?{}:jW(h,m)});function SR(h,m){if(h==null)return{};var E=dn(vS(h),function(L){return[L]});return m=Bt(m),dO(h,E,function(L,W){return m(L,W[0])})}function dJ(h,m,E){m=Zu(m,h);var L=-1,W=m.length;for(W||(W=1,h=n);++L<W;){var ne=h==null?n:h[yl(m[L])];ne===n&&(L=W,ne=E),h=cu(ne)?ne.call(h):ne}return h}function pJ(h,m,E){return h==null?h:em(h,m,E)}function mJ(h,m,E,L){return L=typeof L=="function"?L:n,h==null?h:em(h,m,E,L)}var xR=IO(Ei),ER=IO(Ys);function gJ(h,m,E){var L=en(h),W=L||tc(h)||Wh(h);if(m=Bt(m,4),E==null){var ne=h&&h.constructor;W?E=L?new ne:[]:Nr(h)?E=cu(ne)?zh(Gr(h)):{}:E={}}return(W?qe:gl)(h,function(de,xe,Re){return m(E,de,xe,Re)}),E}function vJ(h,m){return h==null?!0:uS(h,m)}function yJ(h,m,E){return h==null?h:yO(h,m,hS(E))}function _J(h,m,E,L){return L=typeof L=="function"?L:n,h==null?h:yO(h,m,hS(E),L)}function Gh(h){return h==null?[]:Ku(h,Ei(h))}function bJ(h){return h==null?[]:Ku(h,Ys(h))}function wJ(h,m,E){return E===n&&(E=m,m=n),E!==n&&(E=Qa(E),E=E===E?E:0),m!==n&&(m=Qa(m),m=m===m?m:0),_f(Qa(h),m,E)}function SJ(h,m,E){return m=fu(m),E===n?(E=m,m=0):E=fu(E),h=Qa(h),TW(h,m,E)}function xJ(h,m,E){if(E&&typeof E!="boolean"&&xs(h,m,E)&&(m=E=n),E===n&&(typeof m=="boolean"?(E=m,m=n):typeof h=="boolean"&&(E=h,h=n)),h===n&&m===n?(h=0,m=1):(h=fu(h),m===n?(m=h,h=0):m=fu(m)),h>m){var L=h;h=m,m=L}if(E||h%1||m%1){var W=Kk();return ns(h+W*(m-h+Gu("1e-"+((W+"").length-1))),m)}return aS(h,m)}var EJ=qh(function(h,m,E){return m=m.toLowerCase(),h+(E?$R(m):m)});function $R(h){return MS(Qn(h).toLowerCase())}function AR(h){return h=Qn(h),h&&h.replace(Wn,Bw).replace(Nh,"")}function $J(h,m,E){h=Qn(h),m=wa(m);var L=h.length;E=E===n?L:_f(sn(E),0,L);var W=E;return E-=m.length,E>=0&&h.slice(E,W)==m}function AJ(h){return h=Qn(h),h&&ys.test(h)?h.replace(ki,jh):h}function PJ(h){return h=Qn(h),h&&Po.test(h)?h.replace(ya,"\\$&"):h}var TJ=qh(function(h,m,E){return h+(E?"-":"")+m.toLowerCase()}),CJ=qh(function(h,m,E){return h+(E?" ":"")+m.toLowerCase()}),kJ=CO("toLowerCase");function OJ(h,m,E){h=Qn(h),m=sn(m);var L=m?Nn(h):0;if(!m||L>=m)return h;var W=(m-L)/2;return s0(Wv(W),E)+h+s0(Hv(W),E)}function RJ(h,m,E){h=Qn(h),m=sn(m);var L=m?Nn(h):0;return m&&L<m?h+s0(m-L,E):h}function MJ(h,m,E){h=Qn(h),m=sn(m);var L=m?Nn(h):0;return m&&L<m?s0(m-L,E)+h:h}function NJ(h,m,E){return E||m==null?m=0:m&&(m=+m),VH(Qn(h).replace(Ba,""),m||0)}function IJ(h,m,E){return(E?xs(h,m,E):m===n)?m=1:m=sn(m),oS(Qn(h),m)}function DJ(){var h=arguments,m=Qn(h[0]);return h.length<3?m:m.replace(h[1],h[2])}var LJ=qh(function(h,m,E){return h+(E?"_":"")+m.toLowerCase()});function FJ(h,m,E){return E&&typeof E!="number"&&xs(h,m,E)&&(m=E=n),E=E===n?H:E>>>0,E?(h=Qn(h),h&&(typeof m=="string"||m!=null&&!kS(m))&&(m=wa(m),!m&&Yu(h))?ec(es(h),0,E):h.split(m,E)):[]}var jJ=qh(function(h,m,E){return h+(E?" ":"")+MS(m)});function BJ(h,m,E){return h=Qn(h),E=E==null?0:_f(sn(E),0,h.length),m=wa(m),h.slice(E,E+m.length)==m}function VJ(h,m,E){var L=ee.templateSettings;E&&xs(h,m,E)&&(m=n),h=Qn(h),m=v0({},m,L,DO);var W=v0({},m.imports,L.imports,DO),ne=Ei(W),de=Ku(W,ne),xe,Re,et=0,tt=m.interpolate||Jn,st="__p += '",ht=mf((m.escape||Jn).source+"|"+tt.source+"|"+(tt===ja?nn:Jn).source+"|"+(m.evaluate||Jn).source+"|$","g"),At="//# sourceURL="+(ze.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ih+"]")+`
`;h.replace(ht,function(qt,Sn,Rn,xa,Es,Ea){return Rn||(Rn=xa),st+=h.slice(et,Ea).replace(Xn,Vw),Sn&&(xe=!0,st+=`' +
__e(`+Sn+`) +
'`),Es&&(Re=!0,st+=`';
`+Es+`;
__p += '`),Rn&&(st+=`' +
((__t = (`+Rn+`)) == null ? '' : __t) +
'`),et=Ea+qt.length,qt}),st+=`';
`;var Ut=ze.call(m,"variable")&&m.variable;if(!Ut)st=`with (obj) {
`+st+`
}
`;else if(bt.test(Ut))throw new Gt(o);st=(Re?st.replace(Yi,""):st).replace(vs,"$1").replace(Fa,"$1;"),st="function("+(Ut||"obj")+`) {
`+(Ut?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(xe?", __e = _.escape":"")+(Re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+st+`return __p
}`;var ln=TR(function(){return On(ne,At+"return "+st).apply(n,de)});if(ln.source=st,CS(ln))throw ln;return ln}function zJ(h){return Qn(h).toLowerCase()}function UJ(h){return Qn(h).toUpperCase()}function qJ(h,m,E){if(h=Qn(h),h&&(E||m===n))return Fh(h);if(!h||!(m=wa(m)))return h;var L=es(h),W=es(m),ne=Up(L,W),de=Bv(L,W)+1;return ec(L,ne,de).join("")}function HJ(h,m,E){if(h=Qn(h),h&&(E||m===n))return h.slice(0,qs(h)+1);if(!h||!(m=wa(m)))return h;var L=es(h),W=Bv(L,es(m))+1;return ec(L,0,W).join("")}function WJ(h,m,E){if(h=Qn(h),h&&(E||m===n))return h.replace(Ba,"");if(!h||!(m=wa(m)))return h;var L=es(h),W=Up(L,es(m));return ec(L,W).join("")}function GJ(h,m){var E=C,L=U;if(Nr(m)){var W="separator"in m?m.separator:W;E="length"in m?sn(m.length):E,L="omission"in m?wa(m.omission):L}h=Qn(h);var ne=h.length;if(Yu(h)){var de=es(h);ne=de.length}if(E>=ne)return h;var xe=E-Nn(L);if(xe<1)return L;var Re=de?ec(de,0,xe).join(""):h.slice(0,xe);if(W===n)return Re+L;if(de&&(xe+=Re.length-xe),kS(W)){if(h.slice(xe).search(W)){var et,tt=Re;for(W.global||(W=mf(W.source,Qn(Dn.exec(W))+"g")),W.lastIndex=0;et=W.exec(tt);)var st=et.index;Re=Re.slice(0,st===n?xe:st)}}else if(h.indexOf(wa(W),xe)!=xe){var ht=Re.lastIndexOf(W);ht>-1&&(Re=Re.slice(0,ht))}return Re+L}function KJ(h){return h=Qn(h),h&&Lr.test(h)?h.replace(Fs,Hs):h}var YJ=qh(function(h,m,E){return h+(E?" ":"")+m.toUpperCase()}),MS=CO("toUpperCase");function PR(h,m,E){return h=Qn(h),m=E?n:m,m===n?hf(h)?Hw(h):Dh(h):h.match(m)||[]}var TR=fn(function(h,m){try{return Qe(h,n,m)}catch(E){return CS(E)?E:new Gt(E)}}),JJ=lu(function(h,m){return qe(m,function(E){E=yl(E),au(h,E,PS(h[E],h))}),h});function XJ(h){var m=h==null?0:h.length,E=Bt();return h=m?dn(h,function(L){if(typeof L[1]!="function")throw new Ws(a);return[E(L[0]),L[1]]}):[],fn(function(L){for(var W=-1;++W<m;){var ne=h[W];if(Qe(ne[0],this,L))return Qe(ne[1],this,L)}})}function QJ(h){return xW(Ya(h,f))}function NS(h){return function(){return h}}function ZJ(h,m){return h==null||h!==h?m:h}var eX=OO(),tX=OO(!0);function Js(h){return h}function IS(h){return oO(typeof h=="function"?h:Ya(h,f))}function nX(h){return uO(Ya(h,f))}function rX(h,m){return cO(h,Ya(m,f))}var iX=fn(function(h,m){return function(E){return Qp(E,h,m)}}),sX=fn(function(h,m){return function(E){return Qp(h,E,m)}});function DS(h,m,E){var L=Ei(m),W=Qv(m,L);E==null&&!(Nr(m)&&(W.length||!L.length))&&(E=m,m=h,h=this,W=Qv(m,Ei(m)));var ne=!(Nr(E)&&"chain"in E)||!!E.chain,de=cu(h);return qe(W,function(xe){var Re=m[xe];h[xe]=Re,de&&(h.prototype[xe]=function(){var et=this.__chain__;if(ne||et){var tt=h(this.__wrapped__),st=tt.__actions__=Gs(this.__actions__);return st.push({func:Re,args:arguments,thisArg:h}),tt.__chain__=et,tt}return Re.apply(h,bn([this.value()],arguments))})}),h}function aX(){return he._===this&&(he._=Nt),this}function LS(){}function oX(h){return h=sn(h),fn(function(m){return fO(m,h)})}var lX=pS(dn),uX=pS(Kt),cX=pS(wn);function CR(h){return wS(h)?Wa(yl(h)):BW(h)}function fX(h){return function(m){return h==null?n:bf(h,m)}}var hX=MO(),dX=MO(!0);function FS(){return[]}function jS(){return!1}function pX(){return{}}function mX(){return""}function gX(){return!0}function vX(h,m){if(h=sn(h),h<1||h>Ie)return[];var E=H,L=ns(h,H);m=Bt(m),h-=H;for(var W=Co(L,m);++E<h;)m(E);return W}function yX(h){return en(h)?dn(h,yl):Sa(h)?[h]:Gs(YO(Qn(h)))}function _X(h){var m=++rt;return Qn(h)+m}var bX=i0(function(h,m){return h+m},0),wX=mS("ceil"),SX=i0(function(h,m){return h/m},1),xX=mS("floor");function EX(h){return h&&h.length?Xv(h,Js,eS):n}function $X(h,m){return h&&h.length?Xv(h,Bt(m,2),eS):n}function AX(h){return bs(h,Js)}function PX(h,m){return bs(h,Bt(m,2))}function TX(h){return h&&h.length?Xv(h,Js,iS):n}function CX(h,m){return h&&h.length?Xv(h,Bt(m,2),iS):n}var kX=i0(function(h,m){return h*m},1),OX=mS("round"),RX=i0(function(h,m){return h-m},0);function MX(h){return h&&h.length?Mn(h,Js):0}function NX(h,m){return h&&h.length?Mn(h,Bt(m,2)):0}return ee.after=nY,ee.ary=aR,ee.assign=UY,ee.assignIn=bR,ee.assignInWith=v0,ee.assignWith=qY,ee.at=HY,ee.before=oR,ee.bind=PS,ee.bindAll=JJ,ee.bindKey=lR,ee.castArray=pY,ee.chain=rR,ee.chunk=xG,ee.compact=EG,ee.concat=$G,ee.cond=XJ,ee.conforms=QJ,ee.constant=NS,ee.countBy=MK,ee.create=WY,ee.curry=uR,ee.curryRight=cR,ee.debounce=fR,ee.defaults=GY,ee.defaultsDeep=KY,ee.defer=rY,ee.delay=iY,ee.difference=AG,ee.differenceBy=PG,ee.differenceWith=TG,ee.drop=CG,ee.dropRight=kG,ee.dropRightWhile=OG,ee.dropWhile=RG,ee.fill=MG,ee.filter=IK,ee.flatMap=FK,ee.flatMapDeep=jK,ee.flatMapDepth=BK,ee.flatten=ZO,ee.flattenDeep=NG,ee.flattenDepth=IG,ee.flip=sY,ee.flow=eX,ee.flowRight=tX,ee.fromPairs=DG,ee.functions=tJ,ee.functionsIn=nJ,ee.groupBy=VK,ee.initial=FG,ee.intersection=jG,ee.intersectionBy=BG,ee.intersectionWith=VG,ee.invert=iJ,ee.invertBy=sJ,ee.invokeMap=UK,ee.iteratee=IS,ee.keyBy=qK,ee.keys=Ei,ee.keysIn=Ys,ee.map=f0,ee.mapKeys=oJ,ee.mapValues=lJ,ee.matches=nX,ee.matchesProperty=rX,ee.memoize=d0,ee.merge=uJ,ee.mergeWith=wR,ee.method=iX,ee.methodOf=sX,ee.mixin=DS,ee.negate=p0,ee.nthArg=oX,ee.omit=cJ,ee.omitBy=fJ,ee.once=aY,ee.orderBy=HK,ee.over=lX,ee.overArgs=oY,ee.overEvery=uX,ee.overSome=cX,ee.partial=TS,ee.partialRight=hR,ee.partition=WK,ee.pick=hJ,ee.pickBy=SR,ee.property=CR,ee.propertyOf=fX,ee.pull=HG,ee.pullAll=tR,ee.pullAllBy=WG,ee.pullAllWith=GG,ee.pullAt=KG,ee.range=hX,ee.rangeRight=dX,ee.rearg=lY,ee.reject=YK,ee.remove=YG,ee.rest=uY,ee.reverse=$S,ee.sampleSize=XK,ee.set=pJ,ee.setWith=mJ,ee.shuffle=QK,ee.slice=JG,ee.sortBy=tY,ee.sortedUniq=rK,ee.sortedUniqBy=iK,ee.split=FJ,ee.spread=cY,ee.tail=sK,ee.take=aK,ee.takeRight=oK,ee.takeRightWhile=lK,ee.takeWhile=uK,ee.tap=EK,ee.throttle=fY,ee.thru=c0,ee.toArray=vR,ee.toPairs=xR,ee.toPairsIn=ER,ee.toPath=yX,ee.toPlainObject=_R,ee.transform=gJ,ee.unary=hY,ee.union=cK,ee.unionBy=fK,ee.unionWith=hK,ee.uniq=dK,ee.uniqBy=pK,ee.uniqWith=mK,ee.unset=vJ,ee.unzip=AS,ee.unzipWith=nR,ee.update=yJ,ee.updateWith=_J,ee.values=Gh,ee.valuesIn=bJ,ee.without=gK,ee.words=PR,ee.wrap=dY,ee.xor=vK,ee.xorBy=yK,ee.xorWith=_K,ee.zip=bK,ee.zipObject=wK,ee.zipObjectDeep=SK,ee.zipWith=xK,ee.entries=xR,ee.entriesIn=ER,ee.extend=bR,ee.extendWith=v0,DS(ee,ee),ee.add=bX,ee.attempt=TR,ee.camelCase=EJ,ee.capitalize=$R,ee.ceil=wX,ee.clamp=wJ,ee.clone=mY,ee.cloneDeep=vY,ee.cloneDeepWith=yY,ee.cloneWith=gY,ee.conformsTo=_Y,ee.deburr=AR,ee.defaultTo=ZJ,ee.divide=SX,ee.endsWith=$J,ee.eq=Oo,ee.escape=AJ,ee.escapeRegExp=PJ,ee.every=NK,ee.find=DK,ee.findIndex=XO,ee.findKey=YY,ee.findLast=LK,ee.findLastIndex=QO,ee.findLastKey=JY,ee.floor=xX,ee.forEach=iR,ee.forEachRight=sR,ee.forIn=XY,ee.forInRight=QY,ee.forOwn=ZY,ee.forOwnRight=eJ,ee.get=OS,ee.gt=bY,ee.gte=wY,ee.has=rJ,ee.hasIn=RS,ee.head=eR,ee.identity=Js,ee.includes=zK,ee.indexOf=LG,ee.inRange=SJ,ee.invoke=aJ,ee.isArguments=xf,ee.isArray=en,ee.isArrayBuffer=SY,ee.isArrayLike=Ks,ee.isArrayLikeObject=Kr,ee.isBoolean=xY,ee.isBuffer=tc,ee.isDate=EY,ee.isElement=$Y,ee.isEmpty=AY,ee.isEqual=PY,ee.isEqualWith=TY,ee.isError=CS,ee.isFinite=CY,ee.isFunction=cu,ee.isInteger=dR,ee.isLength=m0,ee.isMap=pR,ee.isMatch=kY,ee.isMatchWith=OY,ee.isNaN=RY,ee.isNative=MY,ee.isNil=IY,ee.isNull=NY,ee.isNumber=mR,ee.isObject=Nr,ee.isObjectLike=jr,ee.isPlainObject=im,ee.isRegExp=kS,ee.isSafeInteger=DY,ee.isSet=gR,ee.isString=g0,ee.isSymbol=Sa,ee.isTypedArray=Wh,ee.isUndefined=LY,ee.isWeakMap=FY,ee.isWeakSet=jY,ee.join=zG,ee.kebabCase=TJ,ee.last=Xa,ee.lastIndexOf=UG,ee.lowerCase=CJ,ee.lowerFirst=kJ,ee.lt=BY,ee.lte=VY,ee.max=EX,ee.maxBy=$X,ee.mean=AX,ee.meanBy=PX,ee.min=TX,ee.minBy=CX,ee.stubArray=FS,ee.stubFalse=jS,ee.stubObject=pX,ee.stubString=mX,ee.stubTrue=gX,ee.multiply=kX,ee.nth=qG,ee.noConflict=aX,ee.noop=LS,ee.now=h0,ee.pad=OJ,ee.padEnd=RJ,ee.padStart=MJ,ee.parseInt=NJ,ee.random=xJ,ee.reduce=GK,ee.reduceRight=KK,ee.repeat=IJ,ee.replace=DJ,ee.result=dJ,ee.round=OX,ee.runInContext=$e,ee.sample=JK,ee.size=ZK,ee.snakeCase=LJ,ee.some=eY,ee.sortedIndex=XG,ee.sortedIndexBy=QG,ee.sortedIndexOf=ZG,ee.sortedLastIndex=eK,ee.sortedLastIndexBy=tK,ee.sortedLastIndexOf=nK,ee.startCase=jJ,ee.startsWith=BJ,ee.subtract=RX,ee.sum=MX,ee.sumBy=NX,ee.template=VJ,ee.times=vX,ee.toFinite=fu,ee.toInteger=sn,ee.toLength=yR,ee.toLower=zJ,ee.toNumber=Qa,ee.toSafeInteger=zY,ee.toString=Qn,ee.toUpper=UJ,ee.trim=qJ,ee.trimEnd=HJ,ee.trimStart=WJ,ee.truncate=GJ,ee.unescape=KJ,ee.uniqueId=_X,ee.upperCase=YJ,ee.upperFirst=MS,ee.each=iR,ee.eachRight=sR,ee.first=eR,DS(ee,function(){var h={};return gl(ee,function(m,E){ze.call(ee.prototype,E)||(h[E]=m)}),h}(),{chain:!1}),ee.VERSION=r,qe(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){ee[h].placeholder=ee}),qe(["drop","take"],function(h,m){An.prototype[h]=function(E){E=E===n?1:di(sn(E),0);var L=this.__filtered__&&!m?new An(this):this.clone();return L.__filtered__?L.__takeCount__=ns(E,L.__takeCount__):L.__views__.push({size:ns(E,H),type:h+(L.__dir__<0?"Right":"")}),L},An.prototype[h+"Right"]=function(E){return this.reverse()[h](E).reverse()}}),qe(["filter","map","takeWhile"],function(h,m){var E=m+1,L=E==re||E==Pe;An.prototype[h]=function(W){var ne=this.clone();return ne.__iteratees__.push({iteratee:Bt(W,3),type:E}),ne.__filtered__=ne.__filtered__||L,ne}}),qe(["head","last"],function(h,m){var E="take"+(m?"Right":"");An.prototype[h]=function(){return this[E](1).value()[0]}}),qe(["initial","tail"],function(h,m){var E="drop"+(m?"":"Right");An.prototype[h]=function(){return this.__filtered__?new An(this):this[E](1)}}),An.prototype.compact=function(){return this.filter(Js)},An.prototype.find=function(h){return this.filter(h).head()},An.prototype.findLast=function(h){return this.reverse().find(h)},An.prototype.invokeMap=fn(function(h,m){return typeof h=="function"?new An(this):this.map(function(E){return Qp(E,h,m)})}),An.prototype.reject=function(h){return this.filter(p0(Bt(h)))},An.prototype.slice=function(h,m){h=sn(h);var E=this;return E.__filtered__&&(h>0||m<0)?new An(E):(h<0?E=E.takeRight(-h):h&&(E=E.drop(h)),m!==n&&(m=sn(m),E=m<0?E.dropRight(-m):E.take(m-h)),E)},An.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},An.prototype.toArray=function(){return this.take(H)},gl(An.prototype,function(h,m){var E=/^(?:filter|find|map|reject)|While$/.test(m),L=/^(?:head|last)$/.test(m),W=ee[L?"take"+(m=="last"?"Right":""):m],ne=L||/^find/.test(m);W&&(ee.prototype[m]=function(){var de=this.__wrapped__,xe=L?[1]:arguments,Re=de instanceof An,et=xe[0],tt=Re||en(de),st=function(Sn){var Rn=W.apply(ee,bn([Sn],xe));return L&&ht?Rn[0]:Rn};tt&&E&&typeof et=="function"&&et.length!=1&&(Re=tt=!1);var ht=this.__chain__,At=!!this.__actions__.length,Ut=ne&&!ht,ln=Re&&!At;if(!ne&&tt){de=ln?de:new An(this);var qt=h.apply(de,xe);return qt.__actions__.push({func:c0,args:[st],thisArg:n}),new Ka(qt,ht)}return Ut&&ln?h.apply(this,xe):(qt=this.thru(st),Ut?L?qt.value()[0]:qt.value():qt)})}),qe(["pop","push","shift","sort","splice","unshift"],function(h){var m=te[h],E=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",L=/^(?:pop|shift)$/.test(h);ee.prototype[h]=function(){var W=arguments;if(L&&!this.__chain__){var ne=this.value();return m.apply(en(ne)?ne:[],W)}return this[E](function(de){return m.apply(en(de)?de:[],W)})}}),gl(An.prototype,function(h,m){var E=ee[m];if(E){var L=E.name+"";ze.call(Vh,L)||(Vh[L]=[]),Vh[L].push({name:m,func:E})}}),Vh[r0(n,y).name]=[{name:"wrapper",func:n}],An.prototype.clone=KH,An.prototype.reverse=YH,An.prototype.value=JH,ee.prototype.at=$K,ee.prototype.chain=AK,ee.prototype.commit=PK,ee.prototype.next=TK,ee.prototype.plant=kK,ee.prototype.reverse=OK,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=RK,ee.prototype.first=ee.prototype.head,hi&&(ee.prototype[hi]=CK),ee},ru=Ww();w?((w.exports=ru)._=ru,g._=ru):he._=ru}).call(gr)})(hb,hb.exports);var tue=hb.exports,nue=gr&&gr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cg,"__esModule",{value:!0});Cg.mock=void 0;var As=nue(tue);function X9(t){return t.allOf&&t.allOf[0]&&(t=As.default.reduce(t.allOf,function(e,n){return As.default.merge({},e,X9(n))},t)),t}function cd(t){if(t=X9(t),t.example!==void 0)return t.example;if(t.default!==void 0)return t.default;if(t.oneOf&&t.oneOf[0])return cd(t.oneOf[0]);if(t.anyOf&&t.anyOf[0])return cd(t.anyOf[0]);var e=As.default.isArray(t)?As.default.first(t.type):t.type;if(e==="object"){var n=t,r=n.properties;return r?As.default.mapValues(r,cd):{}}if(e==="array"){var i=t,s=i.items;if(!s)return[];var a=[],o=s.oneOf&&s.oneOf[0]||s;if(s.anyOf)for(var l=0,u=s.anyOf;l<u.length;l++){var c=u[l];o=c,a.push(cd(o))}for(var f=i.minItems||1;a.length<f;)a.push(cd(o));return i.maxItems?As.default.take(a,i.maxItems):a}if(As.default.isArray(t.enum))return t.enum[0];if(e==="string"){var d=t.format,v={email:"user@example.com",hostname:"example.com",ipv4:"8.8.8.8",ipv6:"2001:4860:4860::8888",uri:"https://example.com/path","uri-reference":"/path#anchor","uri-template":"/path/{param}","json-pointer":"/foo/bar","date-time":new Date("1970-01-01").toJSON(),uuid:"3fa85f64-5717-4562-b3fc-2c963f66afa6",_default:"string"},_=v[d]||v._default,S=As.default.isNil(t.minLength)?0:t.minLength,b=As.default.isNil(t.maxLength)?_.length:t.maxLength;return _===v._default&&_.length<S?As.default.padEnd(_,S,_):_.substr(0,As.default.clamp(_.length,S,b))}if(e==="number"){var y=t.minimum?t.minimum:-Number.MAX_VALUE,A=t.maximum?t.maximum:Number.MAX_VALUE;return t.multipleOf&&(y=Math.ceil(y/t.multipleOf)*t.multipleOf,A=Math.floor(A/t.multipleOf)*t.multipleOf),As.default.clamp(0,y,A)}if(e==="integer"){var R=t.minimum&&t.exclusiveMinimum?t.minimum+1:t.minimum,M=t.maximum&&t.exclusiveMaximum?t.maximum-1:t.maximum,y=As.default.isNil(R)?Number.MIN_SAFE_INTEGER:R,A=As.default.isNil(M)?Number.MAX_SAFE_INTEGER:M;return t.multipleOf&&(y=Math.ceil(y/t.multipleOf)*t.multipleOf,A=Math.floor(A/t.multipleOf)*t.multipleOf),As.default.clamp(0,y,A)}return e==="null"?null:e==="boolean"?!0:{}}Cg.mock=cd;(function(t){var e=gr&&gr.__createBinding||(Object.create?function(i,s,a,o){o===void 0&&(o=a),Object.defineProperty(i,o,{enumerable:!0,get:function(){return s[a]}})}:function(i,s,a,o){o===void 0&&(o=a),i[o]=s[a]}),n=gr&&gr.__exportStar||function(i,s){for(var a in i)a!=="default"&&!s.hasOwnProperty(a)&&e(s,i,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.mock=void 0;var r=Cg;Object.defineProperty(t,"mock",{enumerable:!0,get:function(){return r.mock}}),n(Cg,t)})(J9);var Q9={exports:{}},dm={},ey={exports:{}},wx={},Sx={},SI;function $2(){if(SI)return Sx;SI=1;function t(r){this.__parent=r,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}t.prototype.clone_empty=function(){var r=new t(this.__parent);return r.set_indent(this.__indent_count,this.__alignment_count),r},t.prototype.item=function(r){return r<0?this.__items[this.__items.length+r]:this.__items[r]},t.prototype.has_match=function(r){for(var i=this.__items.length-1;i>=0;i--)if(this.__items[i].match(r))return!0;return!1},t.prototype.set_indent=function(r,i){this.is_empty()&&(this.__indent_count=r||0,this.__alignment_count=i||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var r=this.__parent.current_line;return r.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),r.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),r.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,r.__items[0]===" "&&(r.__items.splice(0,1),r.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return this.__items.length===0},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(r){this.__items.push(r);var i=r.lastIndexOf(`
`);i!==-1?this.__character_count=r.length-i:this.__character_count+=r.length},t.prototype.pop=function(){var r=null;return this.is_empty()||(r=this.__items.pop(),this.__character_count-=r.length),r},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var r="";return this.is_empty()?this.__parent.indent_empty_lines&&(r=this.__parent.get_indent_string(this.__indent_count)):(r=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),r+=this.__items.join("")),r};function e(r,i){this.__cache=[""],this.__indent_size=r.indent_size,this.__indent_string=r.indent_char,r.indent_with_tabs||(this.__indent_string=new Array(r.indent_size+1).join(r.indent_char)),i=i||"",r.indent_level>0&&(i=new Array(r.indent_level+1).join(this.__indent_string)),this.__base_string=i,this.__base_string_length=i.length}e.prototype.get_indent_size=function(r,i){var s=this.__base_string_length;return i=i||0,r<0&&(s=0),s+=r*this.__indent_size,s+=i,s},e.prototype.get_indent_string=function(r,i){var s=this.__base_string;return i=i||0,r<0&&(r=0,s=""),i+=r*this.__indent_size,this.__ensure_cache(i),s+=this.__cache[i],s},e.prototype.__ensure_cache=function(r){for(;r>=this.__cache.length;)this.__add_column()},e.prototype.__add_column=function(){var r=this.__cache.length,i=0,s="";this.__indent_size&&r>=this.__indent_size&&(i=Math.floor(r/this.__indent_size),r-=i*this.__indent_size,s=new Array(i+1).join(this.__indent_string)),r&&(s+=new Array(r+1).join(" ")),this.__cache.push(s)};function n(r,i){this.__indent_cache=new e(r,i),this.raw=!1,this._end_with_newline=r.end_with_newline,this.indent_size=r.indent_size,this.wrap_line_length=r.wrap_line_length,this.indent_empty_lines=r.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(r,i){return this.__indent_cache.get_indent_string(r,i)},n.prototype.get_indent_size=function(r,i){return this.__indent_cache.get_indent_size(r,i)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(r){return this.is_empty()||!r&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(r){this.trim(!0);var i=this.current_line.pop();i&&(i[i.length-1]===`
`&&(i=i.replace(/\n+$/g,"")),this.current_line.push(i)),this._end_with_newline&&this.__add_outputline();var s=this.__lines.join(`
`);return r!==`
`&&(s=s.replace(/[\n]/g,r)),s},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(r,i){return r=r||0,i=i||0,this.next_line.set_indent(r,i),this.__lines.length>1?(this.current_line.set_indent(r,i),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(r){for(var i=0;i<r.newlines;i++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(r.whitespace_before),this.current_line.push(r.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(r){this.__add_space_before_token(),this.current_line.push(r),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(r){for(var i=this.__lines.length;r<i;)this.__lines[r]._remove_indent(),r++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(r){for(r=r===void 0?!1:r,this.current_line.trim();r&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(r,i){for(var s=this.__lines.length-2;s>=0;){var a=this.__lines[s];if(a.is_empty())break;if(a.item(0).indexOf(r)!==0&&a.item(-1)!==i){this.__lines.splice(s+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}s--}},Sx.Output=n,Sx}var xx={},xI;function Z9(){if(xI)return xx;xI=1;function t(e,n,r,i){this.type=e,this.text=n,this.comments_before=null,this.newlines=r||0,this.whitespace_before=i||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return xx.Token=t,xx}var Ex={},EI;function eV(){return EI||(EI=1,function(t){var e="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",n="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",r="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",i="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",s="(?:\\\\u[0-9a-fA-F]{4}|["+e+r+"])",a="(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])*";t.identifier=new RegExp(s+a,"g"),t.identifierStart=new RegExp(s),t.identifierMatch=new RegExp("(?:\\\\u[0-9a-fA-F]{4}|["+n+r+i+"])+"),t.newline=/[\n\r\u2028\u2029]/,t.lineBreak=new RegExp(`\r
|`+t.newline.source),t.allLineBreaks=new RegExp(t.lineBreak.source,"g")}(Ex)),Ex}var $x={},pm={},$I;function A2(){if($I)return pm;$I=1;function t(r,i){this.raw_options=e(r,i),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}t.prototype._get_array=function(r,i){var s=this.raw_options[r],a=i||[];return typeof s=="object"?s!==null&&typeof s.concat=="function"&&(a=s.concat()):typeof s=="string"&&(a=s.split(/[^a-zA-Z0-9_\/\-]+/)),a},t.prototype._get_boolean=function(r,i){var s=this.raw_options[r],a=s===void 0?!!i:!!s;return a},t.prototype._get_characters=function(r,i){var s=this.raw_options[r],a=i||"";return typeof s=="string"&&(a=s.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),a},t.prototype._get_number=function(r,i){var s=this.raw_options[r];i=parseInt(i,10),isNaN(i)&&(i=0);var a=parseInt(s,10);return isNaN(a)&&(a=i),a},t.prototype._get_selection=function(r,i,s){var a=this._get_selection_list(r,i,s);if(a.length!==1)throw new Error("Invalid Option Value: The option '"+r+`' can only be one of the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return a[0]},t.prototype._get_selection_list=function(r,i,s){if(!i||i.length===0)throw new Error("Selection list cannot be empty.");if(s=s||[i[0]],!this._is_valid_selection(s,i))throw new Error("Invalid Default Value!");var a=this._get_array(r,s);if(!this._is_valid_selection(a,i))throw new Error("Invalid Option Value: The option '"+r+`' can contain only the following values:
`+i+`
You passed in: '`+this.raw_options[r]+"'");return a},t.prototype._is_valid_selection=function(r,i){return r.length&&i.length&&!r.some(function(s){return i.indexOf(s)===-1})};function e(r,i){var s={};r=n(r);var a;for(a in r)a!==i&&(s[a]=r[a]);if(i&&r[i])for(a in r[i])s[a]=r[i][a];return s}function n(r){var i={},s;for(s in r){var a=s.replace(/-/g,"_");i[a]=r[s]}return i}return pm.Options=t,pm.normalizeOpts=n,pm.mergeOpts=e,pm}var AI;function tV(){if(AI)return $x;AI=1;var t=A2().Options,e=["before-newline","after-newline","preserve-newline"];function n(r){t.call(this,r,"js");var i=this.raw_options.brace_style||null;i==="expand-strict"?this.raw_options.brace_style="expand":i==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var s=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var a=0;a<s.length;a++)s[a]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=s[a];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",e),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return n.prototype=new t,$x.Options=n,$x}var Xh={},Ax={},PI;function P2(){if(PI)return Ax;PI=1;var t=RegExp.prototype.hasOwnProperty("sticky");function e(n){this.__input=n||"",this.__input_length=this.__input.length,this.__position=0}return e.prototype.restart=function(){this.__position=0},e.prototype.back=function(){this.__position>0&&(this.__position-=1)},e.prototype.hasNext=function(){return this.__position<this.__input_length},e.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n},e.prototype.peek=function(n){var r=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(r=this.__input.charAt(n)),r},e.prototype.__match=function(n,r){n.lastIndex=r;var i=n.exec(this.__input);return i&&!(t&&n.sticky)&&i.index!==r&&(i=null),i},e.prototype.test=function(n,r){return r=r||0,r+=this.__position,r>=0&&r<this.__input_length?!!this.__match(n,r):!1},e.prototype.testChar=function(n,r){var i=this.peek(r);return n.lastIndex=0,i!==null&&n.test(i)},e.prototype.match=function(n){var r=this.__match(n,this.__position);return r?this.__position+=r[0].length:r=null,r},e.prototype.read=function(n,r,i){var s="",a;return n&&(a=this.match(n),a&&(s+=a[0])),r&&(a||!n)&&(s+=this.readUntil(r,i)),s},e.prototype.readUntil=function(n,r){var i="",s=this.__position;n.lastIndex=this.__position;var a=n.exec(this.__input);return a?(s=a.index,r&&(s+=a[0].length)):s=this.__input_length,i=this.__input.substring(this.__position,s),this.__position=s,i},e.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)},e.prototype.get_regexp=function(n,r){var i=null,s="g";return r&&t&&(s="y"),typeof n=="string"&&n!==""?i=new RegExp(n,s):n&&(i=new RegExp(n.source,s)),i},e.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},e.prototype.peekUntilAfter=function(n){var r=this.__position,i=this.readUntilAfter(n);return this.__position=r,i},e.prototype.lookBack=function(n){var r=this.__position-1;return r>=n.length&&this.__input.substring(r-n.length,r).toLowerCase()===n},Ax.InputScanner=e,Ax}var ty={},Px={},TI;function rue(){if(TI)return Px;TI=1;function t(e){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=e}return t.prototype.restart=function(){this.__position=0},t.prototype.isEmpty=function(){return this.__tokens_length===0},t.prototype.hasNext=function(){return this.__position<this.__tokens_length},t.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__tokens[this.__position],this.__position+=1),e},t.prototype.peek=function(e){var n=null;return e=e||0,e+=this.__position,e>=0&&e<this.__tokens_length&&(n=this.__tokens[e]),n},t.prototype.add=function(e){this.__parent_token&&(e.parent=this.__parent_token),this.__tokens.push(e),this.__tokens_length+=1},Px.TokenStream=t,Px}var Tx={},Cx={},CI;function V1(){if(CI)return Cx;CI=1;function t(e,n){this._input=e,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,n&&(this._starting_pattern=this._input.get_regexp(n._starting_pattern,!0),this._match_pattern=this._input.get_regexp(n._match_pattern,!0),this._until_pattern=this._input.get_regexp(n._until_pattern),this._until_after=n._until_after)}return t.prototype.read=function(){var e=this._input.read(this._starting_pattern);return(!this._starting_pattern||e)&&(e+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),e},t.prototype.read_match=function(){return this._input.match(this._match_pattern)},t.prototype.until_after=function(e){var n=this._create();return n._until_after=!0,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.until=function(e){var n=this._create();return n._until_after=!1,n._until_pattern=this._input.get_regexp(e),n._update(),n},t.prototype.starting_with=function(e){var n=this._create();return n._starting_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype.matching=function(e){var n=this._create();return n._match_pattern=this._input.get_regexp(e,!0),n._update(),n},t.prototype._create=function(){return new t(this._input,this)},t.prototype._update=function(){},Cx.Pattern=t,Cx}var kI;function iue(){if(kI)return Tx;kI=1;var t=V1().Pattern;function e(n,r){t.call(this,n,r),r?this._line_regexp=this._input.get_regexp(r._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return e.prototype=new t,e.prototype.__set_whitespace_patterns=function(n,r){n+="\\t ",r+="\\n\\r",this._match_pattern=this._input.get_regexp("["+n+r+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+r+"]")},e.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var n=this._input.read(this._match_pattern);if(n===" ")this.whitespace_before_token=" ";else if(n){var r=this.__split(this._newline_regexp,n);this.newline_count=r.length-1,this.whitespace_before_token=r[this.newline_count]}return n},e.prototype.matching=function(n,r){var i=this._create();return i.__set_whitespace_patterns(n,r),i._update(),i},e.prototype._create=function(){return new e(this._input,this)},e.prototype.__split=function(n,r){n.lastIndex=0;for(var i=0,s=[],a=n.exec(r);a;)s.push(r.substring(i,a.index)),i=a.index+a[0].length,a=n.exec(r);return i<r.length?s.push(r.substring(i,r.length)):s.push(""),s},Tx.WhitespacePattern=e,Tx}var OI;function db(){if(OI)return ty;OI=1;var t=P2().InputScanner,e=Z9().Token,n=rue().TokenStream,r=iue().WhitespacePattern,i={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},s=function(a,o){this._input=new t(a),this._options=o||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new r(this._input)};return s.prototype.tokenize=function(){this._input.restart(),this.__tokens=new n,this._reset();for(var a,o=new e(i.START,""),l=null,u=[],c=new n;o.type!==i.EOF;){for(a=this._get_next_token(o,l);this._is_comment(a);)c.add(a),a=this._get_next_token(o,l);c.isEmpty()||(a.comments_before=c,c=new n),a.parent=l,this._is_opening(a)?(u.push(l),l=a):l&&this._is_closing(a,l)&&(a.opened=l,l.closed=a,l=u.pop(),a.parent=l),a.previous=o,o.next=a,this.__tokens.add(a),o=a}return this.__tokens},s.prototype._is_first_token=function(){return this.__tokens.isEmpty()},s.prototype._reset=function(){},s.prototype._get_next_token=function(a,o){this._readWhitespace();var l=this._input.read(/.+/g);return l?this._create_token(i.RAW,l):this._create_token(i.EOF,"")},s.prototype._is_comment=function(a){return!1},s.prototype._is_opening=function(a){return!1},s.prototype._is_closing=function(a,o){return!1},s.prototype._create_token=function(a,o){var l=new e(a,o,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return l},s.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},ty.Tokenizer=s,ty.TOKEN=i,ty}var kx={},RI;function T2(){if(RI)return kx;RI=1;function t(e,n){e=typeof e=="string"?e:e.source,n=typeof n=="string"?n:n.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+n,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+n,"g")}return t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var n={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)n[r[1]]=r[2],r=this.__directive_pattern.exec(e);return n},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},kx.Directives=t,kx}var Ox={},MI;function nV(){if(MI)return Ox;MI=1;var t=V1().Pattern,e={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1};function n(r,i){t.call(this,r,i),this.__template_pattern=null,this._disabled=Object.assign({},e),this._excluded=Object.assign({},e),i&&(this.__template_pattern=this._input.get_regexp(i.__template_pattern),this._excluded=Object.assign(this._excluded,i._excluded),this._disabled=Object.assign(this._disabled,i._disabled));var s=new t(r);this.__patterns={handlebars_comment:s.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:s.starting_with(/{{{/).until_after(/}}}/),handlebars:s.starting_with(/{{/).until_after(/}}/),php:s.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:s.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:s.starting_with(/{%/).until_after(/%}/),django_value:s.starting_with(/{{/).until_after(/}}/),django_comment:s.starting_with(/{#/).until_after(/#}/),smarty:s.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:s.starting_with(/{\*/).until_after(/\*}/),smarty_literal:s.starting_with(/{literal}/).until_after(/{\/literal}/)}}return n.prototype=new t,n.prototype._create=function(){return new n(this._input,this)},n.prototype._update=function(){this.__set_templated_pattern()},n.prototype.disable=function(r){var i=this._create();return i._disabled[r]=!0,i._update(),i},n.prototype.read_options=function(r){var i=this._create();for(var s in e)i._disabled[s]=r.templating.indexOf(s)===-1;return i._update(),i},n.prototype.exclude=function(r){var i=this._create();return i._excluded[r]=!0,i._update(),i},n.prototype.read=function(){var r="";this._match_pattern?r=this._input.read(this._starting_pattern):r=this._input.read(this._starting_pattern,this.__template_pattern);for(var i=this._read_template();i;)this._match_pattern?i+=this._input.read(this._match_pattern):i+=this._input.readUntil(this.__template_pattern),r+=i,i=this._read_template();return this._until_after&&(r+=this._input.readUntilAfter(this._until_pattern)),r},n.prototype.__set_templated_pattern=function(){var r=[];this._disabled.php||r.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||r.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||r.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(r.push(this.__patterns.django._starting_pattern.source),r.push(this.__patterns.django_value._starting_pattern.source),r.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||r.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&r.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+r.join("|")+")")},n.prototype._read_template=function(){var r="",i=this._input.peek();if(i==="<"){var s=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&s==="?"&&(r=r||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&s==="%"&&(r=r||this.__patterns.erb.read())}else i==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(r=r||this.__patterns.handlebars_comment.read(),r=r||this.__patterns.handlebars_unescaped.read(),r=r||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(r=r||this.__patterns.django_value.read()),this._excluded.django||(r=r||this.__patterns.django_comment.read(),r=r||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(r=r||this.__patterns.smarty_comment.read(),r=r||this.__patterns.smarty_literal.read(),r=r||this.__patterns.smarty.read()));return r},Ox.TemplatablePattern=n,Ox}var NI;function ny(){if(NI)return Xh;NI=1;var t=P2().InputScanner,e=db().Tokenizer,n=db().TOKEN,r=T2().Directives,i=eV(),s=V1().Pattern,a=nV().TemplatablePattern;function o(p,x){return x.indexOf(p)!==-1}var l={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:n.START,RAW:n.RAW,EOF:n.EOF},u=new r(/\/\*/,/\*\//),c=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,f=/[0-9]/,d=/[^\d\.]/,v=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),_=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";_=_.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),_="\\?\\.(?!\\d) "+_,_=_.replace(/ /g,"|");var S=new RegExp(_),b="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),y=b.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),A=new RegExp("^(?:"+y.join("|")+")$"),R,M=function(p,x){e.call(this,p,x),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var T=new s(this._input),D=new a(this._input).read_options(this._options);this.__patterns={template:D,identifier:D.starting_with(i.identifier).matching(i.identifierMatch),number:T.matching(c),punct:T.matching(S),comment:T.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:T.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:T.matching(/<!--/),html_comment_end:T.matching(/-->/),include:T.starting_with(/#include/).until_after(i.lineBreak),shebang:T.starting_with(/#!/).until_after(i.lineBreak),xml:T.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:D.until(/['\\\n\r\u2028\u2029]/),double_quote:D.until(/["\\\n\r\u2028\u2029]/),template_text:D.until(/[`\\$]/),template_expression:D.until(/[`}\\]/)}};M.prototype=new e,M.prototype._is_comment=function(p){return p.type===l.COMMENT||p.type===l.BLOCK_COMMENT||p.type===l.UNKNOWN},M.prototype._is_opening=function(p){return p.type===l.START_BLOCK||p.type===l.START_EXPR},M.prototype._is_closing=function(p,x){return(p.type===l.END_BLOCK||p.type===l.END_EXPR)&&x&&(p.text==="]"&&x.text==="["||p.text===")"&&x.text==="("||p.text==="}"&&x.text==="{")},M.prototype._reset=function(){R=!1},M.prototype._get_next_token=function(p,x){var T=null;this._readWhitespace();var D=this._input.peek();return D===null?this._create_token(l.EOF,""):(T=T||this._read_non_javascript(D),T=T||this._read_string(D),T=T||this._read_word(p),T=T||this._read_singles(D),T=T||this._read_comment(D),T=T||this._read_regexp(D,p),T=T||this._read_xml(D,p),T=T||this._read_punctuation(),T=T||this._create_token(l.UNKNOWN,this._input.next()),T)},M.prototype._read_word=function(p){var x;if(x=this.__patterns.identifier.read(),x!=="")return x=x.replace(i.allLineBreaks,`
`),!(p.type===l.DOT||p.type===l.RESERVED&&(p.text==="set"||p.text==="get"))&&A.test(x)?(x==="in"||x==="of")&&(p.type===l.WORD||p.type===l.STRING)?this._create_token(l.OPERATOR,x):this._create_token(l.RESERVED,x):this._create_token(l.WORD,x);if(x=this.__patterns.number.read(),x!=="")return this._create_token(l.WORD,x)},M.prototype._read_singles=function(p){var x=null;return p==="("||p==="["?x=this._create_token(l.START_EXPR,p):p===")"||p==="]"?x=this._create_token(l.END_EXPR,p):p==="{"?x=this._create_token(l.START_BLOCK,p):p==="}"?x=this._create_token(l.END_BLOCK,p):p===";"?x=this._create_token(l.SEMICOLON,p):p==="."&&d.test(this._input.peek(1))?x=this._create_token(l.DOT,p):p===","&&(x=this._create_token(l.COMMA,p)),x&&this._input.next(),x},M.prototype._read_punctuation=function(){var p=this.__patterns.punct.read();if(p!=="")return p==="="?this._create_token(l.EQUALS,p):p==="?."?this._create_token(l.DOT,p):this._create_token(l.OPERATOR,p)},M.prototype._read_non_javascript=function(p){var x="";if(p==="#"){if(this._is_first_token()&&(x=this.__patterns.shebang.read(),x))return this._create_token(l.UNKNOWN,x.trim()+`
`);if(x=this.__patterns.include.read(),x)return this._create_token(l.UNKNOWN,x.trim()+`
`);p=this._input.next();var T="#";if(this._input.hasNext()&&this._input.testChar(f)){do p=this._input.next(),T+=p;while(this._input.hasNext()&&p!=="#"&&p!=="=");return p==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(T+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(T+="{}",this._input.next(),this._input.next())),this._create_token(l.WORD,T)}this._input.back()}else if(p==="<"&&this._is_first_token()){if(x=this.__patterns.html_comment_start.read(),x){for(;this._input.hasNext()&&!this._input.testChar(i.newline);)x+=this._input.next();return R=!0,this._create_token(l.COMMENT,x)}}else if(R&&p==="-"&&(x=this.__patterns.html_comment_end.read(),x))return R=!1,this._create_token(l.COMMENT,x);return null},M.prototype._read_comment=function(p){var x=null;if(p==="/"){var T="";if(this._input.peek(1)==="*"){T=this.__patterns.block_comment.read();var D=u.get_directives(T);D&&D.ignore==="start"&&(T+=u.readIgnored(this._input)),T=T.replace(i.allLineBreaks,`
`),x=this._create_token(l.BLOCK_COMMENT,T),x.directives=D}else this._input.peek(1)==="/"&&(T=this.__patterns.comment.read(),x=this._create_token(l.COMMENT,T))}return x},M.prototype._read_string=function(p){if(p==="`"||p==="'"||p==='"'){var x=this._input.next();return this.has_char_escapes=!1,p==="`"?x+=this._read_string_recursive("`",!0,"${"):x+=this._read_string_recursive(p),this.has_char_escapes&&this._options.unescape_strings&&(x=$(x)),this._input.peek()===p&&(x+=this._input.next()),x=x.replace(i.allLineBreaks,`
`),this._create_token(l.STRING,x)}return null},M.prototype._allow_regexp_or_xml=function(p){return p.type===l.RESERVED&&o(p.text,["return","case","throw","else","do","typeof","yield"])||p.type===l.END_EXPR&&p.text===")"&&p.opened.previous.type===l.RESERVED&&o(p.opened.previous.text,["if","while","for"])||o(p.type,[l.COMMENT,l.START_EXPR,l.START_BLOCK,l.START,l.END_BLOCK,l.OPERATOR,l.EQUALS,l.EOF,l.SEMICOLON,l.COMMA])},M.prototype._read_regexp=function(p,x){if(p==="/"&&this._allow_regexp_or_xml(x)){for(var T=this._input.next(),D=!1,C=!1;this._input.hasNext()&&(D||C||this._input.peek()!==p)&&!this._input.testChar(i.newline);)T+=this._input.peek(),D?D=!1:(D=this._input.peek()==="\\",this._input.peek()==="["?C=!0:this._input.peek()==="]"&&(C=!1)),this._input.next();return this._input.peek()===p&&(T+=this._input.next(),T+=this._input.read(i.identifier)),this._create_token(l.STRING,T)}return null},M.prototype._read_xml=function(p,x){if(this._options.e4x&&p==="<"&&this._allow_regexp_or_xml(x)){var T="",D=this.__patterns.xml.read_match();if(D){for(var C=D[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),U=C.indexOf("{")===0,G=0;D;){var se=!!D[1],re=D[2],ye=!!D[D.length-1]||re.slice(0,8)==="![CDATA[";if(!ye&&(re===C||U&&re.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(se?--G:++G),T+=D[0],G<=0)break;D=this.__patterns.xml.read_match()}return D||(T+=this._input.match(/[\s\S]*/g)[0]),T=T.replace(i.allLineBreaks,`
`),this._create_token(l.STRING,T)}}return null};function $(p){for(var x="",T=0,D=new t(p),C=null;D.hasNext();)if(C=D.match(/([\s]|[^\\]|\\\\)+/g),C&&(x+=C[0]),D.peek()==="\\"){if(D.next(),D.peek()==="x")C=D.match(/x([0-9A-Fa-f]{2})/g);else if(D.peek()==="u")C=D.match(/u([0-9A-Fa-f]{4})/g);else{x+="\\",D.hasNext()&&(x+=D.next());continue}if(!C||(T=parseInt(C[1],16),T>126&&T<=255&&C[0].indexOf("x")===0))return p;if(T>=0&&T<32){x+="\\"+C[0];continue}else T===34||T===39||T===92?x+="\\"+String.fromCharCode(T):x+=String.fromCharCode(T)}return x}return M.prototype._read_string_recursive=function(p,x,T){var D,C;p==="'"?C=this.__patterns.single_quote:p==='"'?C=this.__patterns.double_quote:p==="`"?C=this.__patterns.template_text:p==="}"&&(C=this.__patterns.template_expression);for(var U=C.read(),G="";this._input.hasNext();){if(G=this._input.next(),G===p||!x&&i.newline.test(G)){this._input.back();break}else G==="\\"&&this._input.hasNext()?(D=this._input.peek(),D==="x"||D==="u"?this.has_char_escapes=!0:D==="\r"&&this._input.peek(1)===`
`&&this._input.next(),G+=this._input.next()):T&&(T==="${"&&G==="$"&&this._input.peek()==="{"&&(G+=this._input.next()),T===G&&(p==="`"?G+=this._read_string_recursive("}",x,"`"):G+=this._read_string_recursive("`",x,"${"),this._input.hasNext()&&(G+=this._input.next())));G+=C.read(),U+=G}return U},Xh.Tokenizer=M,Xh.TOKEN=l,Xh.positionable_operators=v.slice(),Xh.line_starters=b.slice(),Xh}var II;function sue(){if(II)return wx;II=1;var t=$2().Output,e=Z9().Token,n=eV(),r=tV().Options,i=ny().Tokenizer,s=ny().line_starters,a=ny().positionable_operators,o=ny().TOKEN;function l(C,U){return U.indexOf(C)!==-1}function u(C){return C.replace(/^\s+/g,"")}function c(C){for(var U={},G=0;G<C.length;G++)U[C[G].replace(/-/g,"_")]=C[G];return U}function f(C,U){return C&&C.type===o.RESERVED&&C.text===U}function d(C,U){return C&&C.type===o.RESERVED&&l(C.text,U)}var v=["case","return","do","if","throw","else","await","break","continue","async"],_=["before-newline","after-newline","preserve-newline"],S=c(_),b=[S.before_newline,S.preserve_newline],y={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function A(C,U){U.multiline_frame||U.mode===y.ForInitializer||U.mode===y.Conditional||C.remove_indent(U.start_line_index)}function R(C){C=C.replace(n.allLineBreaks,`
`);for(var U=[],G=C.indexOf(`
`);G!==-1;)U.push(C.substring(0,G)),C=C.substring(G+1),G=C.indexOf(`
`);return C.length&&U.push(C),U}function M(C){return C===y.ArrayLiteral}function $(C){return l(C,[y.Expression,y.ForInitializer,y.Conditional])}function p(C,U){for(var G=0;G<C.length;G++){var se=C[G].trim();if(se.charAt(0)!==U)return!1}return!0}function x(C,U){for(var G=0,se=C.length,re;G<se;G++)if(re=C[G],re&&re.indexOf(U)!==0)return!1;return!0}function T(C,U){U=U||{},this._source_text=C||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new r(U)}T.prototype.create_flags=function(C,U){var G=0;C&&(G=C.indentation_level,!this._output.just_added_newline()&&C.line_indent_level>G&&(G=C.line_indent_level));var se={mode:U,parent:C,last_token:C?C.last_token:new e(o.START_BLOCK,""),last_word:C?C.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:G,alignment:0,line_indent_level:C?C.line_indent_level:G,start_line_index:this._output.get_line_number(),ternary_depth:0};return se},T.prototype._reset=function(C){var U=C.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new t(this._options,U),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(y.BlockStatement);var G=new i(C,this._options);return this._tokens=G.tokenize(),C},T.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var C,U=this._reset(this._source_text),G=this._options.eol;this._options.eol==="auto"&&(G=`
`,U&&n.lineBreak.test(U||"")&&(G=U.match(n.lineBreak)[0]));for(var se=this._tokens.next();se;)this.handle_token(se),this._last_last_text=this._flags.last_token.text,this._flags.last_token=se,se=this._tokens.next();return C=this._output.get_code(G),C},T.prototype.handle_token=function(C,U){C.type===o.START_EXPR?this.handle_start_expr(C):C.type===o.END_EXPR?this.handle_end_expr(C):C.type===o.START_BLOCK?this.handle_start_block(C):C.type===o.END_BLOCK?this.handle_end_block(C):C.type===o.WORD?this.handle_word(C):C.type===o.RESERVED?this.handle_word(C):C.type===o.SEMICOLON?this.handle_semicolon(C):C.type===o.STRING?this.handle_string(C):C.type===o.EQUALS?this.handle_equals(C):C.type===o.OPERATOR?this.handle_operator(C):C.type===o.COMMA?this.handle_comma(C):C.type===o.BLOCK_COMMENT?this.handle_block_comment(C,U):C.type===o.COMMENT?this.handle_comment(C,U):C.type===o.DOT?this.handle_dot(C):C.type===o.EOF?this.handle_eof(C):C.type===o.UNKNOWN?this.handle_unknown(C,U):this.handle_unknown(C,U)},T.prototype.handle_whitespace_and_comments=function(C,U){var G=C.newlines,se=this._options.keep_array_indentation&&M(this._flags.mode);if(C.comments_before)for(var re=C.comments_before.next();re;)this.handle_whitespace_and_comments(re,U),this.handle_token(re,U),re=C.comments_before.next();if(se)for(var ye=0;ye<G;ye+=1)this.print_newline(ye>0,U);else if(this._options.max_preserve_newlines&&G>this._options.max_preserve_newlines&&(G=this._options.max_preserve_newlines),this._options.preserve_newlines&&G>1){this.print_newline(!1,U);for(var Pe=1;Pe<G;Pe+=1)this.print_newline(!0,U)}};var D=["async","break","continue","return","throw","yield"];return T.prototype.allow_wrap_or_preserved_newline=function(C,U){if(U=U===void 0?!1:U,!this._output.just_added_newline()){var G=this._options.preserve_newlines&&C.newlines||U,se=l(this._flags.last_token.text,a)||l(C.text,a);if(se){var re=l(this._flags.last_token.text,a)&&l(this._options.operator_position,b)||l(C.text,a);G=G&&re}if(G)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(d(this._flags.last_token,D))return;this._output.set_wrap_point()}}},T.prototype.print_newline=function(C,U){if(!U&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==o.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var G=this._tokens.peek();this._flags.mode===y.Statement&&!(this._flags.if_block&&f(G,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(C)&&(this._flags.multiline_frame=!0)},T.prototype.print_token_line_indentation=function(C){this._output.just_added_newline()&&(this._options.keep_array_indentation&&C.newlines&&(C.text==="["||M(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(C.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},T.prototype.print_token=function(C){if(this._output.raw){this._output.add_raw_token(C);return}if(this._options.comma_first&&C.previous&&C.previous.type===o.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var U=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(U),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(C),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(C),this._output.non_breaking_space=!0,this._output.add_token(C.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},T.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},T.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},T.prototype.set_mode=function(C){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,C),this._flags=this.create_flags(this._previous_flags,C),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},T.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===y.Statement&&A(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},T.prototype.start_of_object_property=function(){return this._flags.parent.mode===y.ObjectLiteral&&this._flags.mode===y.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||d(this._flags.last_token,["get","set"]))},T.prototype.start_of_statement=function(C){var U=!1;return U=U||d(this._flags.last_token,["var","let","const"])&&C.type===o.WORD,U=U||f(this._flags.last_token,"do"),U=U||!(this._flags.parent.mode===y.ObjectLiteral&&this._flags.mode===y.Statement)&&d(this._flags.last_token,D)&&!C.newlines,U=U||f(this._flags.last_token,"else")&&!(f(C,"if")&&!C.comments_before),U=U||this._flags.last_token.type===o.END_EXPR&&(this._previous_flags.mode===y.ForInitializer||this._previous_flags.mode===y.Conditional),U=U||this._flags.last_token.type===o.WORD&&this._flags.mode===y.BlockStatement&&!this._flags.in_case&&!(C.text==="--"||C.text==="++")&&this._last_last_text!=="function"&&C.type!==o.WORD&&C.type!==o.RESERVED,U=U||this._flags.mode===y.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||d(this._flags.last_token,["get","set"])),U?(this.set_mode(y.Statement),this.indent(),this.handle_whitespace_and_comments(C,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C,d(C,["do","for","if","while"])),!0):!1},T.prototype.handle_start_expr=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C);var U=y.Expression;if(C.text==="["){if(this._flags.last_token.type===o.WORD||this._flags.last_token.text===")"){d(this._flags.last_token,s)&&(this._output.space_before_token=!0),this.print_token(C),this.set_mode(U),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}U=y.ArrayLiteral,M(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),l(this._flags.last_token.type,[o.START_EXPR,o.END_EXPR,o.WORD,o.OPERATOR,o.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===o.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,U=y.ForInitializer):l(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,U=y.Conditional):l(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&C.whitespace_before===""?this._output.space_before_token=!1:(l(this._flags.last_token.text,s)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===o.EQUALS||this._flags.last_token.type===o.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C);else if(this._flags.last_token.type===o.WORD){this._output.space_before_token=!1;var G=this._tokens.peek(-3);if(this._options.space_after_named_function&&G){var se=this._tokens.peek(-4);d(G,["async","function"])||G.text==="*"&&d(se,["async","function"])?this._output.space_before_token=!0:this._flags.mode===y.ObjectLiteral?(G.text==="{"||G.text===","||G.text==="*"&&(se.text==="{"||se.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(C);(this._flags.last_token.type===o.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===y.ObjectLiteral&&l(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===o.START_BLOCK?this.print_newline():(this._flags.last_token.type===o.END_EXPR||this._flags.last_token.type===o.START_EXPR||this._flags.last_token.type===o.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===o.COMMA)&&this.allow_wrap_or_preserved_newline(C,C.newlines),this.print_token(C),this.set_mode(U),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},T.prototype.handle_end_expr=function(C){for(;this._flags.mode===y.Statement;)this.restore_mode();this.handle_whitespace_and_comments(C),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(C,C.text==="]"&&M(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===o.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(C),this.restore_mode(),A(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===y.Conditional&&(this._previous_flags.mode=y.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},T.prototype.handle_start_block=function(C){this.handle_whitespace_and_comments(C);var U=this._tokens.peek(),G=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===o.END_EXPR?(this.set_mode(y.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(y.BlockStatement):G&&(l(G.text,[":",","])&&l(U.type,[o.STRING,o.WORD,o.RESERVED])||l(U.text,["get","set","..."])&&l(G.type,[o.WORD,o.RESERVED]))?l(this._last_last_text,["class","interface"])&&!l(G.text,[":",","])?this.set_mode(y.BlockStatement):this.set_mode(y.ObjectLiteral):this._flags.last_token.type===o.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(y.BlockStatement):l(this._flags.last_token.type,[o.EQUALS,o.START_EXPR,o.COMMA,o.OPERATOR])||d(this._flags.last_token,["return","throw","import","default"])?this.set_mode(y.ObjectLiteral):this.set_mode(y.BlockStatement),this._flags.last_token&&d(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var se=!U.comments_before&&U.text==="}",re=se&&this._flags.last_word==="function"&&this._flags.last_token.type===o.END_EXPR;if(this._options.brace_preserve_inline){var ye=0,Pe=null;this._flags.inline_frame=!0;do if(ye+=1,Pe=this._tokens.peek(ye-1),Pe.newlines){this._flags.inline_frame=!1;break}while(Pe.type!==o.EOF&&!(Pe.type===o.END_BLOCK&&Pe.opened===C))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&C.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==o.OPERATOR&&(re||this._flags.last_token.type===o.EQUALS||d(this._flags.last_token,v)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(M(this._previous_flags.mode)&&(this._flags.last_token.type===o.START_EXPR||this._flags.last_token.type===o.COMMA)&&((this._flags.last_token.type===o.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===o.COMMA||this._flags.last_token.type===o.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(C),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==o.OPERATOR&&this._flags.last_token.type!==o.START_EXPR&&(this._flags.last_token.type===o.START_BLOCK&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(C),this.indent(),!se&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},T.prototype.handle_end_block=function(C){for(this.handle_whitespace_and_comments(C);this._flags.mode===y.Statement;)this.restore_mode();var U=this._flags.last_token.type===o.START_BLOCK;this._flags.inline_frame&&!U?this._output.space_before_token=!0:this._options.brace_style==="expand"?U||this.print_newline():U||(M(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(C)},T.prototype.handle_word=function(C){if(C.type===o.RESERVED){if(l(C.text,["set","get"])&&this._flags.mode!==y.ObjectLiteral)C.type=o.WORD;else if(C.text==="import"&&l(this._tokens.peek().text,["(","."]))C.type=o.WORD;else if(l(C.text,["as","from"])&&!this._flags.import_block)C.type=o.WORD;else if(this._flags.mode===y.ObjectLiteral){var U=this._tokens.peek();U.text===":"&&(C.type=o.WORD)}}if(this.start_of_statement(C)?d(this._flags.last_token,["var","let","const"])&&C.type===o.WORD&&(this._flags.declaration_statement=!0):C.newlines&&!$(this._flags.mode)&&(this._flags.last_token.type!==o.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==o.EQUALS&&(this._options.preserve_newlines||!d(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(C),this.print_newline()):this.handle_whitespace_and_comments(C),this._flags.do_block&&!this._flags.do_while)if(f(C,"while")){this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&f(C,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===y.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&d(C,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(C),this._flags.in_case=!0;return}if((this._flags.last_token.type===o.COMMA||this._flags.last_token.type===o.START_EXPR||this._flags.last_token.type===o.EQUALS||this._flags.last_token.type===o.OPERATOR)&&(this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C)),f(C,"function")){(l(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(l(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===o.OPERATOR))&&!this._output.just_added_blankline()&&!C.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===o.RESERVED||this._flags.last_token.type===o.WORD?d(this._flags.last_token,["get","set","new","export"])||d(this._flags.last_token,D)?this._output.space_before_token=!0:f(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===o.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&($(this._flags.mode)||M(this._flags.mode))||this.print_newline(),this.print_token(C),this._flags.last_word=C.text;return}var G="NONE";if(this._flags.last_token.type===o.END_BLOCK?this._previous_flags.inline_frame?G="SPACE":d(C,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&C.newlines?G="NEWLINE":(G="SPACE",this._output.space_before_token=!0):G="NEWLINE":this._flags.last_token.type===o.SEMICOLON&&this._flags.mode===y.BlockStatement?G="NEWLINE":this._flags.last_token.type===o.SEMICOLON&&$(this._flags.mode)?G="SPACE":this._flags.last_token.type===o.STRING?G="NEWLINE":this._flags.last_token.type===o.RESERVED||this._flags.last_token.type===o.WORD||this._flags.last_token.text==="*"&&(l(this._last_last_text,["function","yield"])||this._flags.mode===y.ObjectLiteral&&l(this._last_last_text,["{",","]))?G="SPACE":this._flags.last_token.type===o.START_BLOCK?this._flags.inline_frame?G="SPACE":G="NEWLINE":this._flags.last_token.type===o.END_EXPR&&(this._output.space_before_token=!0,G="NEWLINE"),d(C,s)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?G="SPACE":G="NEWLINE"),d(C,["else","catch","finally"]))if((!(this._flags.last_token.type===o.END_BLOCK&&this._previous_flags.mode===y.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&C.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var se=this._output.current_line;se.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else G==="NEWLINE"?d(this._flags.last_token,v)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&d(C,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==o.END_EXPR?(this._flags.last_token.type!==o.START_EXPR||!d(C,["var","let","const"]))&&this._flags.last_token.text!==":"&&(f(C,"if")&&f(C.previous,"else")?this._output.space_before_token=!0:this.print_newline()):d(C,s)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&M(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():G==="SPACE"&&(this._output.space_before_token=!0);C.previous&&(C.previous.type===o.WORD||C.previous.type===o.RESERVED)&&(this._output.space_before_token=!0),this.print_token(C),this._flags.last_word=C.text,C.type===o.RESERVED&&(C.text==="do"?this._flags.do_block=!0:C.text==="if"?this._flags.if_block=!0:C.text==="import"?this._flags.import_block=!0:this._flags.import_block&&f(C,"from")&&(this._flags.import_block=!1))},T.prototype.handle_semicolon=function(C){this.start_of_statement(C)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(C);for(var U=this._tokens.peek();this._flags.mode===y.Statement&&!(this._flags.if_block&&f(U,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(C)},T.prototype.handle_string=function(C){C.text.startsWith("`")&&C.newlines===0&&C.whitespace_before===""&&(C.previous.text===")"||this._flags.last_token.type===o.WORD)||(this.start_of_statement(C)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(C),this._flags.last_token.type===o.RESERVED||this._flags.last_token.type===o.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===o.COMMA||this._flags.last_token.type===o.START_EXPR||this._flags.last_token.type===o.EQUALS||this._flags.last_token.type===o.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(C):C.text.startsWith("`")&&this._flags.last_token.type===o.END_EXPR&&(C.previous.text==="]"||C.previous.text===")")&&C.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(C)},T.prototype.handle_equals=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0},T.prototype.handle_comma=function(C){this.handle_whitespace_and_comments(C,!0),this.print_token(C),this._output.space_before_token=!0,this._flags.declaration_statement?($(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(C)):this._flags.mode===y.ObjectLiteral||this._flags.mode===y.Statement&&this._flags.parent.mode===y.ObjectLiteral?(this._flags.mode===y.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(C)},T.prototype.handle_operator=function(C){var U=C.text==="*"&&(d(this._flags.last_token,["function","yield"])||l(this._flags.last_token.type,[o.START_BLOCK,o.COMMA,o.END_BLOCK,o.SEMICOLON])),G=l(C.text,["-","+"])&&(l(this._flags.last_token.type,[o.START_BLOCK,o.START_EXPR,o.EQUALS,o.OPERATOR])||l(this._flags.last_token.text,s)||this._flags.last_token.text===",");if(!this.start_of_statement(C)){var se=!U;this.handle_whitespace_and_comments(C,se)}if(C.text==="*"&&this._flags.last_token.type===o.DOT){this.print_token(C);return}if(C.text==="::"){this.print_token(C);return}if(this._flags.last_token.type===o.OPERATOR&&l(this._options.operator_position,b)&&this.allow_wrap_or_preserved_newline(C),C.text===":"&&this._flags.in_case){this.print_token(C),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==o.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var re=!0,ye=!0,Pe=!1;if(C.text===":"?this._flags.ternary_depth===0?re=!1:(this._flags.ternary_depth-=1,Pe=!0):C.text==="?"&&(this._flags.ternary_depth+=1),!G&&!U&&this._options.preserve_newlines&&l(C.text,a)){var Ae=C.text===":",Ie=Ae&&Pe,Me=Ae&&!Pe;switch(this._options.operator_position){case S.before_newline:this._output.space_before_token=!Me,this.print_token(C),(!Ae||Ie)&&this.allow_wrap_or_preserved_newline(C),this._output.space_before_token=!0;return;case S.after_newline:this._output.space_before_token=!0,!Ae||Ie?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(C):this._output.space_before_token=!1,this.print_token(C),this._output.space_before_token=!0;return;case S.preserve_newline:Me||this.allow_wrap_or_preserved_newline(C),re=!(this._output.just_added_newline()||Me),this._output.space_before_token=re,this.print_token(C),this._output.space_before_token=!0;return}}if(U){this.allow_wrap_or_preserved_newline(C),re=!1;var ae=this._tokens.peek();ye=ae&&l(ae.type,[o.WORD,o.RESERVED])}else if(C.text==="...")this.allow_wrap_or_preserved_newline(C),re=this._flags.last_token.type===o.START_BLOCK,ye=!1;else if(l(C.text,["--","++","!","~"])||G){if((this._flags.last_token.type===o.COMMA||this._flags.last_token.type===o.START_EXPR)&&this.allow_wrap_or_preserved_newline(C),re=!1,ye=!1,C.newlines&&(C.text==="--"||C.text==="++"||C.text==="~")){var H=d(this._flags.last_token,v)&&C.newlines;H&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(H,!0)}this._flags.last_token.text===";"&&$(this._flags.mode)&&(re=!0),this._flags.last_token.type===o.RESERVED?re=!0:this._flags.last_token.type===o.END_EXPR?re=!(this._flags.last_token.text==="]"&&(C.text==="--"||C.text==="++")):this._flags.last_token.type===o.OPERATOR&&(re=l(C.text,["--","-","++","+"])&&l(this._flags.last_token.text,["--","-","++","+"]),l(C.text,["+","-"])&&l(this._flags.last_token.text,["--","++"])&&(ye=!0)),(this._flags.mode===y.BlockStatement&&!this._flags.inline_frame||this._flags.mode===y.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||re,this.print_token(C),this._output.space_before_token=ye},T.prototype.handle_block_comment=function(C,U){if(this._output.raw){this._output.add_raw_token(C),C.directives&&C.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(C.directives){this.print_newline(!1,U),this.print_token(C),C.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!n.newline.test(C.text)&&!C.newlines){this._output.space_before_token=!0,this.print_token(C),this._output.space_before_token=!0;return}else this.print_block_commment(C,U)},T.prototype.print_block_commment=function(C,U){var G=R(C.text),se,re=!1,ye=!1,Pe=C.whitespace_before,Ae=Pe.length;if(this.print_newline(!1,U),this.print_token_line_indentation(C),this._output.add_token(G[0]),this.print_newline(!1,U),G.length>1){for(G=G.slice(1),re=p(G,"*"),ye=x(G,Pe),re&&(this._flags.alignment=1),se=0;se<G.length;se++)re?(this.print_token_line_indentation(C),this._output.add_token(u(G[se]))):ye&&G[se]?(this.print_token_line_indentation(C),this._output.add_token(G[se].substring(Ae))):(this._output.current_line.set_indent(-1),this._output.add_token(G[se])),this.print_newline(!1,U);this._flags.alignment=0}},T.prototype.handle_comment=function(C,U){C.newlines?this.print_newline(!1,U):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(C),this.print_newline(!1,U)},T.prototype.handle_dot=function(C){this.start_of_statement(C)||this.handle_whitespace_and_comments(C,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),d(this._flags.last_token,v)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(C,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(C)},T.prototype.handle_unknown=function(C,U){this.print_token(C),C.text[C.text.length-1]===`
`&&this.print_newline(!1,U)},T.prototype.handle_eof=function(C){for(;this._flags.mode===y.Statement;)this.restore_mode();this.handle_whitespace_and_comments(C)},wx.Beautifier=T,wx}var DI;function aue(){if(DI)return ey.exports;DI=1;var t=sue().Beautifier,e=tV().Options;function n(r,i){var s=new t(r,i);return s.beautify()}return ey.exports=n,ey.exports.defaultOptions=function(){return new e},ey.exports}var ry={exports:{}},Rx={},Mx={},LI;function rV(){if(LI)return Mx;LI=1;var t=A2().Options;function e(n){t.call(this,n,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var r=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||r;var i=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var s=0;s<i.length;s++)i[s]!=="expand"?this.brace_style="collapse":this.brace_style=i[s]}return e.prototype=new t,Mx.Options=e,Mx}var FI;function oue(){if(FI)return Rx;FI=1;var t=rV().Options,e=$2().Output,n=P2().InputScanner,r=T2().Directives,i=new r(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,a=/\r\n|[\r\n]/g,o=/\s/,l=/(?:\s|\n)+/g,u=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,c=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function f(d,v){this._source_text=d||"",this._options=new t(v),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return f.prototype.eatString=function(d){var v="";for(this._ch=this._input.next();this._ch;){if(v+=this._ch,this._ch==="\\")v+=this._input.next();else if(d.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return v},f.prototype.eatWhitespace=function(d){for(var v=o.test(this._input.peek()),_=0;o.test(this._input.peek());)this._ch=this._input.next(),d&&this._ch===`
`&&(_===0||_<this._options.max_preserve_newlines)&&(_++,this._output.add_new_line(!0));return v},f.prototype.foundNestedPseudoClass=function(){for(var d=0,v=1,_=this._input.peek(v);_;){if(_==="{")return!0;if(_==="(")d+=1;else if(_===")"){if(d===0)return!1;d-=1}else if(_===";"||_==="}")return!1;v++,_=this._input.peek(v)}return!1},f.prototype.print_string=function(d){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(d)},f.prototype.preserveSingleSpace=function(d){d&&(this._output.space_before_token=!0)},f.prototype.indent=function(){this._indentLevel++},f.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var d=this._source_text,v=this._options.eol;v==="auto"&&(v=`
`,d&&s.test(d||"")&&(v=d.match(s)[0])),d=d.replace(a,`
`);var _=d.match(/^[\t ]*/)[0];this._output=new e(this._options,_),this._input=new n(d),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var S=0,b=!1,y=!1,A=!1,R=!1,M=!1,$=!1,p=this._ch,x=!1,T,D,C;T=this._input.read(l),D=T!=="",C=p,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),p=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var U=this._input.read(u),G=i.get_directives(U);G&&G.ignore==="start"&&(U+=i.readIgnored(this._input)),this.print_string(U),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(c)),this.eatWhitespace(!0);else if(this._ch==="@"||this._ch==="$")if(this.preserveSingleSpace(D),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var se=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);se.match(/[ :]$/)&&(se=this.eatString(": ").replace(/\s$/,""),this.print_string(se),this._output.space_before_token=!0),se=se.replace(/\s$/,""),se==="extend"?R=!0:se==="import"&&(M=!0),se in this.NESTED_AT_RULE?(this._nestedLevel+=1,se in this.CONDITIONAL_GROUP_RULE&&(A=!0)):!b&&S===0&&se.indexOf(":")!==-1&&(y=!0,this.indent())}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(D),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")y&&(y=!1,this.outdent()),A?(A=!1,b=this._indentLevel>=this._nestedLevel):b=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&b&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(C==="("?this._output.space_before_token=!1:C!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),C==="{"&&this._output.trim(!0),M=!1,R=!1,y&&(this.outdent(),y=!1),this.print_string(this._ch),b=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var re=0;re<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;re++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[re])){x=!0;break}(b||A)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!R&&S===0?(this.print_string(":"),y||(y=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var ye=C==='"'||C==="'";this.preserveSingleSpace(ye||D),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")x=!1,S===0?(y&&(this.outdent(),y=!1),R=!1,M=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),S++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),S&&(S--,this.outdent()));else{var Pe=!1;this._input.lookBack("with")&&(Pe=!0),this.preserveSingleSpace(D||Pe),this.print_string(this._ch),y&&C==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),$=!0):(this.eatWhitespace(),S++,this.indent())}else if(this._ch===")")S&&(S--,this.outdent()),$&&this._input.peek()===";"&&this._options.selector_separator_newline&&($=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!y||$)&&S===0&&!M&&!R?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!y&&S===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&o.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(D),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),o.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var Ae=C==='"'||C==="'";this.preserveSingleSpace(Ae||D),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&x&&this._output.add_new_line()}var Ie=this._output.get_code(v);return Ie},Rx.Beautifier=f,Rx}var jI;function lue(){if(jI)return ry.exports;jI=1;var t=oue().Beautifier,e=rV().Options;function n(r,i){var s=new t(r,i);return s.beautify()}return ry.exports=n,ry.exports.defaultOptions=function(){return new e},ry.exports}var iy={exports:{}},Nx={},Ix={},BI;function iV(){if(BI)return Ix;BI=1;var t=A2().Options;function e(n){t.call(this,n,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return e.prototype=new t,Ix.Options=e,Ix}var sy={},VI;function zI(){if(VI)return sy;VI=1;var t=db().Tokenizer,e=db().TOKEN,n=T2().Directives,r=nV().TemplatablePattern,i=V1().Pattern,s={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:e.START,RAW:e.RAW,EOF:e.EOF},a=new n(/<\!--/,/-->/),o=function(l,u){t.call(this,l,u),this._current_tag_name="";var c=new r(this._input).read_options(this._options),f=new i(this._input);if(this.__patterns={word:c.until(/[\n\r\t <]/),single_quote:c.until_after(/'/),double_quote:c.until_after(/"/),attribute:c.until(/[\n\r\t =>]|\/>/),element_name:c.until(/[\n\r\t >\/]/),handlebars_comment:f.starting_with(/{{!--/).until_after(/--}}/),handlebars:f.starting_with(/{{/).until_after(/}}/),handlebars_open:f.until(/[\n\r\t }]/),handlebars_raw_close:f.until(/}}/),comment:f.starting_with(/<!--/).until_after(/-->/),cdata:f.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:f.starting_with(/<!\[/).until_after(/]>/),processing:f.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var d=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=f.matching(d).until_after(d)}};return o.prototype=new t,o.prototype._is_comment=function(l){return!1},o.prototype._is_opening=function(l){return l.type===s.TAG_OPEN},o.prototype._is_closing=function(l,u){return l.type===s.TAG_CLOSE&&u&&((l.text===">"||l.text==="/>")&&u.text[0]==="<"||l.text==="}}"&&u.text[0]==="{"&&u.text[1]==="{")},o.prototype._reset=function(){this._current_tag_name=""},o.prototype._get_next_token=function(l,u){var c=null;this._readWhitespace();var f=this._input.peek();return f===null?this._create_token(s.EOF,""):(c=c||this._read_open_handlebars(f,u),c=c||this._read_attribute(f,l,u),c=c||this._read_close(f,u),c=c||this._read_raw_content(f,l,u),c=c||this._read_content_word(f),c=c||this._read_comment_or_cdata(f),c=c||this._read_processing(f),c=c||this._read_open(f,u),c=c||this._create_token(s.UNKNOWN,this._input.next()),c)},o.prototype._read_comment_or_cdata=function(l){var u=null,c=null,f=null;if(l==="<"){var d=this._input.peek(1);d==="!"&&(c=this.__patterns.comment.read(),c?(f=a.get_directives(c),f&&f.ignore==="start"&&(c+=a.readIgnored(this._input))):c=this.__patterns.cdata.read()),c&&(u=this._create_token(s.COMMENT,c),u.directives=f)}return u},o.prototype._read_processing=function(l){var u=null,c=null,f=null;if(l==="<"){var d=this._input.peek(1);(d==="!"||d==="?")&&(c=this.__patterns.conditional_comment.read(),c=c||this.__patterns.processing.read()),c&&(u=this._create_token(s.COMMENT,c),u.directives=f)}return u},o.prototype._read_open=function(l,u){var c=null,f=null;return u||l==="<"&&(c=this._input.next(),this._input.peek()==="/"&&(c+=this._input.next()),c+=this.__patterns.element_name.read(),f=this._create_token(s.TAG_OPEN,c)),f},o.prototype._read_open_handlebars=function(l,u){var c=null,f=null;return u||this._options.indent_handlebars&&l==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(c=this.__patterns.handlebars_comment.read(),c=c||this.__patterns.handlebars.read(),f=this._create_token(s.COMMENT,c)):(c=this.__patterns.handlebars_open.read(),f=this._create_token(s.TAG_OPEN,c))),f},o.prototype._read_close=function(l,u){var c=null,f=null;return u&&(u.text[0]==="<"&&(l===">"||l==="/"&&this._input.peek(1)===">")?(c=this._input.next(),l==="/"&&(c+=this._input.next()),f=this._create_token(s.TAG_CLOSE,c)):u.text[0]==="{"&&l==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),f=this._create_token(s.TAG_CLOSE,"}}"))),f},o.prototype._read_attribute=function(l,u,c){var f=null,d="";if(c&&c.text[0]==="<")if(l==="=")f=this._create_token(s.EQUALS,this._input.next());else if(l==='"'||l==="'"){var v=this._input.next();l==='"'?v+=this.__patterns.double_quote.read():v+=this.__patterns.single_quote.read(),f=this._create_token(s.VALUE,v)}else d=this.__patterns.attribute.read(),d&&(u.type===s.EQUALS?f=this._create_token(s.VALUE,d):f=this._create_token(s.ATTRIBUTE,d));return f},o.prototype._is_content_unformatted=function(l){return this._options.void_elements.indexOf(l)===-1&&(this._options.content_unformatted.indexOf(l)!==-1||this._options.unformatted.indexOf(l)!==-1)},o.prototype._read_raw_content=function(l,u,c){var f="";if(c&&c.text[0]==="{")f=this.__patterns.handlebars_raw_close.read();else if(u.type===s.TAG_CLOSE&&u.opened.text[0]==="<"&&u.text[0]!=="/"){var d=u.opened.text.substr(1).toLowerCase();if(d==="script"||d==="style"){var v=this._read_comment_or_cdata(l);if(v)return v.type=s.TEXT,v;f=this._input.readUntil(new RegExp("</"+d+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(d)&&(f=this._input.readUntil(new RegExp("</"+d+"[\\n\\r\\t ]*?>","ig")))}return f?this._create_token(s.TEXT,f):null},o.prototype._read_content_word=function(l){var u="";if(this._options.unformatted_content_delimiter&&l===this._options.unformatted_content_delimiter[0]&&(u=this.__patterns.unformatted_content_delimiter.read()),u||(u=this.__patterns.word.read()),u)return this._create_token(s.TEXT,u)},sy.Tokenizer=o,sy.TOKEN=s,sy}var UI;function uue(){if(UI)return Nx;UI=1;var t=iV().Options,e=$2().Output,n=zI().Tokenizer,r=zI().TOKEN,i=/\r\n|[\r\n]/,s=/\r\n|[\r\n]/g,a=function(b,y){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=b.max_preserve_newlines,this.preserve_newlines=b.preserve_newlines,this._output=new e(b,y)};a.prototype.current_line_has_match=function(b){return this._output.current_line.has_match(b)},a.prototype.set_space_before_token=function(b,y){this._output.space_before_token=b,this._output.non_breaking_space=y},a.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},a.prototype.add_raw_token=function(b){this._output.add_raw_token(b)},a.prototype.print_preserved_newlines=function(b){var y=0;b.type!==r.TEXT&&b.previous.type!==r.TEXT&&(y=b.newlines?1:0),this.preserve_newlines&&(y=b.newlines<this.max_preserve_newlines+1?b.newlines:this.max_preserve_newlines+1);for(var A=0;A<y;A++)this.print_newline(A>0);return y!==0},a.prototype.traverse_whitespace=function(b){return b.whitespace_before||b.newlines?(this.print_preserved_newlines(b)||(this._output.space_before_token=!0),!0):!1},a.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},a.prototype.print_newline=function(b){this._output.add_new_line(b)},a.prototype.print_token=function(b){b.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(b.text))},a.prototype.indent=function(){this.indent_level++},a.prototype.get_full_indent=function(b){return b=this.indent_level+(b||0),b<1?"":this._output.get_indent_string(b)};var o=function(b){for(var y=null,A=b.next;A.type!==r.EOF&&b.closed!==A;){if(A.type===r.ATTRIBUTE&&A.text==="type"){A.next&&A.next.type===r.EQUALS&&A.next.next&&A.next.next.type===r.VALUE&&(y=A.next.next.text);break}A=A.next}return y},l=function(b,y){var A=null,R=null;return y.closed?(b==="script"?A="text/javascript":b==="style"&&(A="text/css"),A=o(y)||A,A.search("text/css")>-1?R="css":A.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?R="javascript":A.search(/(text|application|dojo)\/(x-)?(html)/)>-1?R="html":A.search(/test\/null/)>-1&&(R="null"),R):null};function u(b,y){return y.indexOf(b)!==-1}function c(b,y,A){this.parent=b||null,this.tag=y?y.tag_name:"",this.indent_level=A||0,this.parser_token=y||null}function f(b){this._printer=b,this._current_frame=null}f.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},f.prototype.record_tag=function(b){var y=new c(this._current_frame,b,this._printer.indent_level);this._current_frame=y},f.prototype._try_pop_frame=function(b){var y=null;return b&&(y=b.parser_token,this._printer.indent_level=b.indent_level,this._current_frame=b.parent),y},f.prototype._get_frame=function(b,y){for(var A=this._current_frame;A&&b.indexOf(A.tag)===-1;){if(y&&y.indexOf(A.tag)!==-1){A=null;break}A=A.parent}return A},f.prototype.try_pop=function(b,y){var A=this._get_frame([b],y);return this._try_pop_frame(A)},f.prototype.indent_to_tag=function(b){var y=this._get_frame(b);y&&(this._printer.indent_level=y.indent_level)};function d(b,y,A,R){this._source_text=b||"",y=y||{},this._js_beautify=A,this._css_beautify=R,this._tag_stack=null;var M=new t(y,"html");this._options=M,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}d.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var b=this._source_text,y=this._options.eol;this._options.eol==="auto"&&(y=`
`,b&&i.test(b)&&(y=b.match(i)[0])),b=b.replace(s,`
`);var A=b.match(/^[\t ]*/)[0],R={text:"",type:""},M=new v,$=new a(this._options,A),p=new n(b,this._options).tokenize();this._tag_stack=new f($);for(var x=null,T=p.next();T.type!==r.EOF;)T.type===r.TAG_OPEN||T.type===r.COMMENT?(x=this._handle_tag_open($,T,M,R),M=x):T.type===r.ATTRIBUTE||T.type===r.EQUALS||T.type===r.VALUE||T.type===r.TEXT&&!M.tag_complete?x=this._handle_inside_tag($,T,M,p):T.type===r.TAG_CLOSE?x=this._handle_tag_close($,T,M):T.type===r.TEXT?x=this._handle_text($,T,M):$.add_raw_token(T),R=x,T=p.next();var D=$._output.get_code(y);return D},d.prototype._handle_tag_close=function(b,y,A){var R={text:y.text,type:y.type};return b.alignment_size=0,A.tag_complete=!0,b.set_space_before_token(y.newlines||y.whitespace_before!=="",!0),A.is_unformatted?b.add_raw_token(y):(A.tag_start_char==="<"&&(b.set_space_before_token(y.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&A.has_wrapped_attrs&&b.print_newline(!1)),b.print_token(y)),A.indent_content&&!(A.is_unformatted||A.is_content_unformatted)&&(b.indent(),A.indent_content=!1),!A.is_inline_element&&!(A.is_unformatted||A.is_content_unformatted)&&b.set_wrap_point(),R},d.prototype._handle_inside_tag=function(b,y,A,R){var M=A.has_wrapped_attrs,$={text:y.text,type:y.type};if(b.set_space_before_token(y.newlines||y.whitespace_before!=="",!0),A.is_unformatted)b.add_raw_token(y);else if(A.tag_start_char==="{"&&y.type===r.TEXT)b.print_preserved_newlines(y)?(y.newlines=0,b.add_raw_token(y)):b.print_token(y);else{if(y.type===r.ATTRIBUTE?(b.set_space_before_token(!0),A.attr_count+=1):(y.type===r.EQUALS||y.type===r.VALUE&&y.previous.type===r.EQUALS)&&b.set_space_before_token(!1),y.type===r.ATTRIBUTE&&A.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(b.traverse_whitespace(y),M=M||y.newlines!==0),this._is_wrap_attributes_force)){var p=A.attr_count>1;if(this._is_wrap_attributes_force_expand_multiline&&A.attr_count===1){var x=!0,T=0,D;do{if(D=R.peek(T),D.type===r.ATTRIBUTE){x=!1;break}T+=1}while(T<4&&D.type!==r.EOF&&D.type!==r.TAG_CLOSE);p=!x}p&&(b.print_newline(!1),M=!0)}b.print_token(y),M=M||b.previous_token_wrapped(),A.has_wrapped_attrs=M}return $},d.prototype._handle_text=function(b,y,A){var R={text:y.text,type:"TK_CONTENT"};return A.custom_beautifier_name?this._print_custom_beatifier_text(b,y,A):A.is_unformatted||A.is_content_unformatted?b.add_raw_token(y):(b.traverse_whitespace(y),b.print_token(y)),R},d.prototype._print_custom_beatifier_text=function(b,y,A){var R=this;if(y.text!==""){var M=y.text,$,p=1,x="",T="";A.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?$=this._js_beautify:A.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?$=this._css_beautify:A.custom_beautifier_name==="html"&&($=function(re,ye){var Pe=new d(re,ye,R._js_beautify,R._css_beautify);return Pe.beautify()}),this._options.indent_scripts==="keep"?p=0:this._options.indent_scripts==="separate"&&(p=-b.indent_level);var D=b.get_full_indent(p);if(M=M.replace(/\n[ \t]*$/,""),A.custom_beautifier_name!=="html"&&M[0]==="<"&&M.match(/^(<!--|<!\[CDATA\[)/)){var C=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(M);if(!C){b.add_raw_token(y);return}x=D+C[1]+`
`,M=C[4],C[5]&&(T=D+C[5]),M=M.replace(/\n[ \t]*$/,""),(C[2]||C[3].indexOf(`
`)!==-1)&&(C=C[3].match(/[ \t]+$/),C&&(y.whitespace_before=C[0]))}if(M)if($){var U=function(){this.eol=`
`};U.prototype=this._options.raw_options;var G=new U;M=$(D+M,G)}else{var se=y.whitespace_before;se&&(M=M.replace(new RegExp(`
(`+se+")?","g"),`
`)),M=D+M.replace(/\n/g,`
`+D)}x&&(M?M=x+M+`
`+T:M=x+T),b.print_newline(!1),M&&(y.text=M,y.whitespace_before="",y.newlines=0,b.add_raw_token(y),b.print_newline(!0))}},d.prototype._handle_tag_open=function(b,y,A,R){var M=this._get_tag_open_token(y);return(A.is_unformatted||A.is_content_unformatted)&&!A.is_empty_element&&y.type===r.TAG_OPEN&&y.text.indexOf("</")===0?(b.add_raw_token(y),M.start_tag_token=this._tag_stack.try_pop(M.tag_name)):(b.traverse_whitespace(y),this._set_tag_position(b,y,M,A,R),M.is_inline_element||b.set_wrap_point(),b.print_token(y)),(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(M.alignment_size=y.text.length+1),!M.tag_complete&&!M.is_unformatted&&(b.alignment_size=M.alignment_size),M};var v=function(b,y){if(this.parent=b||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!y)this.tag_complete=!0;else{var A;this.tag_start_char=y.text[0],this.text=y.text,this.tag_start_char==="<"?(A=y.text.match(/^<([^\s>]*)/),this.tag_check=A?A[1]:""):(A=y.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=A?A[1]:"",(y.text.startsWith("{{#>")||y.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&y.next!==null?this.tag_check=y.next.text.split(" ")[0]:this.tag_check=y.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),y.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||y.closed&&y.closed.text==="/>";var R=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(R=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(R)))}};d.prototype._get_tag_open_token=function(b){var y=new v(this._tag_stack.get_parser_token(),b);return y.alignment_size=this._options.wrap_attributes_indent_size,y.is_end_tag=y.is_end_tag||u(y.tag_check,this._options.void_elements),y.is_empty_element=y.tag_complete||y.is_start_tag&&y.is_end_tag,y.is_unformatted=!y.tag_complete&&u(y.tag_check,this._options.unformatted),y.is_content_unformatted=!y.is_empty_element&&u(y.tag_check,this._options.content_unformatted),y.is_inline_element=u(y.tag_name,this._options.inline)||y.tag_name.includes("-")||y.tag_start_char==="{",y},d.prototype._set_tag_position=function(b,y,A,R,M){if(A.is_empty_element||(A.is_end_tag?A.start_tag_token=this._tag_stack.try_pop(A.tag_name):(this._do_optional_end_element(A)&&(A.is_inline_element||b.print_newline(!1)),this._tag_stack.record_tag(A),(A.tag_name==="script"||A.tag_name==="style")&&!(A.is_unformatted||A.is_content_unformatted)&&(A.custom_beautifier_name=l(A.tag_check,y)))),u(A.tag_check,this._options.extra_liners)&&(b.print_newline(!1),b._output.just_added_blankline()||b.print_newline(!0)),A.is_empty_element){if(A.tag_start_char==="{"&&A.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),A.indent_content=!0;var $=b.current_line_has_match(/{{#if/);$||b.print_newline(!1)}A.tag_name==="!--"&&M.type===r.TAG_CLOSE&&R.is_end_tag&&A.text.indexOf(`
`)===-1||(A.is_inline_element||A.is_unformatted||b.print_newline(!1),this._calcluate_parent_multiline(b,A))}else if(A.is_end_tag){var p=!1;p=A.start_tag_token&&A.start_tag_token.multiline_content,p=p||!A.is_inline_element&&!(R.is_inline_element||R.is_unformatted)&&!(M.type===r.TAG_CLOSE&&A.start_tag_token===R)&&M.type!=="TK_CONTENT",(A.is_content_unformatted||A.is_unformatted)&&(p=!1),p&&b.print_newline(!1)}else A.indent_content=!A.custom_beautifier_name,A.tag_start_char==="<"&&(A.tag_name==="html"?A.indent_content=this._options.indent_inner_html:A.tag_name==="head"?A.indent_content=this._options.indent_head_inner_html:A.tag_name==="body"&&(A.indent_content=this._options.indent_body_inner_html)),!(A.is_inline_element||A.is_unformatted)&&(M.type!=="TK_CONTENT"||A.is_content_unformatted)&&b.print_newline(!1),this._calcluate_parent_multiline(b,A)},d.prototype._calcluate_parent_multiline=function(b,y){y.parent&&b._output.just_added_newline()&&!((y.is_inline_element||y.is_unformatted)&&y.parent.is_inline_element)&&(y.parent.multiline_content=!0)};var _=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","nav","ol","p","pre","section","table","ul"],S=["a","audio","del","ins","map","noscript","video"];return d.prototype._do_optional_end_element=function(b){var y=null;if(!(b.is_empty_element||!b.is_start_tag||!b.parent)){if(b.tag_name==="body")y=y||this._tag_stack.try_pop("head");else if(b.tag_name==="li")y=y||this._tag_stack.try_pop("li",["ol","ul"]);else if(b.tag_name==="dd"||b.tag_name==="dt")y=y||this._tag_stack.try_pop("dt",["dl"]),y=y||this._tag_stack.try_pop("dd",["dl"]);else if(b.parent.tag_name==="p"&&_.indexOf(b.tag_name)!==-1){var A=b.parent.parent;(!A||S.indexOf(A.tag_name)===-1)&&(y=y||this._tag_stack.try_pop("p"))}else b.tag_name==="rp"||b.tag_name==="rt"?(y=y||this._tag_stack.try_pop("rt",["ruby","rtc"]),y=y||this._tag_stack.try_pop("rp",["ruby","rtc"])):b.tag_name==="optgroup"?y=y||this._tag_stack.try_pop("optgroup",["select"]):b.tag_name==="option"?y=y||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):b.tag_name==="colgroup"?y=y||this._tag_stack.try_pop("caption",["table"]):b.tag_name==="thead"?(y=y||this._tag_stack.try_pop("caption",["table"]),y=y||this._tag_stack.try_pop("colgroup",["table"])):b.tag_name==="tbody"||b.tag_name==="tfoot"?(y=y||this._tag_stack.try_pop("caption",["table"]),y=y||this._tag_stack.try_pop("colgroup",["table"]),y=y||this._tag_stack.try_pop("thead",["table"]),y=y||this._tag_stack.try_pop("tbody",["table"])):b.tag_name==="tr"?(y=y||this._tag_stack.try_pop("caption",["table"]),y=y||this._tag_stack.try_pop("colgroup",["table"]),y=y||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(b.tag_name==="th"||b.tag_name==="td")&&(y=y||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),y=y||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return b.parent=this._tag_stack.get_parser_token(),y}},Nx.Beautifier=d,Nx}var qI;function cue(){if(qI)return iy.exports;qI=1;var t=uue().Beautifier,e=iV().Options;function n(r,i,s,a){var o=new t(r,i,s,a);return o.beautify()}return iy.exports=n,iy.exports.defaultOptions=function(){return new e},iy.exports}var HI;function fue(){if(HI)return dm;HI=1;var t=aue(),e=lue(),n=cue();function r(i,s,a,o){return a=a||t,o=o||e,n(i,s,a,o)}return r.defaultOptions=n.defaultOptions,dm.js=t,dm.css=e,dm.html=r,dm}(function(t){function e(n,r,i){var s=function(a,o){return n.js_beautify(a,o)};return s.js=n.js_beautify,s.css=r.css_beautify,s.html=i.html_beautify,s.js_beautify=n.js_beautify,s.css_beautify=r.css_beautify,s.html_beautify=i.html_beautify,s}(function(n){var r=fue();r.js_beautify=r.js,r.css_beautify=r.css,r.html_beautify=r.html,n.exports=e(r,r,r)})(t)})(Q9);var hue=Q9.exports;let r_=class{constructor(e,n){ii(this,"id");ii(this,"name");ii(this,"content");this.id=e,this.name=n,this.content={schema:{},data:[]}}},ay;const due=new Uint8Array(16);function pue(){if(!ay&&(ay=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ay))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ay(due)}const Ii=[];for(let t=0;t<256;++t)Ii.push((t+256).toString(16).slice(1));function mue(t,e=0){return(Ii[t[e+0]]+Ii[t[e+1]]+Ii[t[e+2]]+Ii[t[e+3]]+"-"+Ii[t[e+4]]+Ii[t[e+5]]+"-"+Ii[t[e+6]]+Ii[t[e+7]]+"-"+Ii[t[e+8]]+Ii[t[e+9]]+"-"+Ii[t[e+10]]+Ii[t[e+11]]+Ii[t[e+12]]+Ii[t[e+13]]+Ii[t[e+14]]+Ii[t[e+15]]).toLowerCase()}const gue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),WI={randomUUID:gue};function C2(t,e,n){if(WI.randomUUID&&!e&&!t)return WI.randomUUID();t=t||{};const r=t.random||(t.rng||pue)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return mue(r)}function vue(t){if(!t)return[];if(!Array.isArray(t))return[];if(t.length==0)return[];for(let i=0;i<t.length;i++)if(!Array.isArray(t[i])||t[i].length==0)return[];const e=new Array(t.length);e.fill(0);const n=[];let r=GI(e,t);for(n.push(r);yue(e,t);)r=GI(e,t),n.push(r);return n}function GI(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(e[r][t[r]]);return n}function yue(t,e){for(let n=t.length-1;n>=0;n--){const r=e[n].length-1;if(t[n]+1<=r)return t[n]++,!0;if(n-1<0)return!1;t[n]=0}}function pb(t){try{const e=jsonnet.EvaluateSnippet("Error: ",t);if(e[1].$val){const n=new Error(e[1].s);throw console.log("ERROR",e),n}return{success:!0,data:e[0]}}catch(e){return{success:!1,data:e.message}}}function mb(t){let e="";for(const[n,r]of Object.entries(t))e+=`local ${n.toLowerCase()} = ${JSON.stringify(r)}; 
`;return e}let i_=class{constructor(e,n){ii(this,"id");ii(this,"name");ii(this,"preset");ii(this,"postset");ii(this,"state");ii(this,"content");this.id=e,this.name=n,this.preset=[],this.postset=[],this.state={},this.content="true"}isEnabled(){this.state={};for(let n=0;n<this.preset.length;n++)if(this.preset[n].applyFilter().length==0)return console.log("Filter found no documents."),!1;const e=this.findAssignment();if(e)this.state=e;else return console.log("No valid assignment found"),!1;for(let n=0;n<this.postset.length;n++){const r=this.postset[n].createDocument();return r===void 0?(console.log("Could not create valid document"),!1):(console.log("Created document is:"),console.log(r),!0)}}occur(){for(let e=0;e<this.preset.length;e++)this.preset[e].occur(this.state[this.preset[e].place.name.toLowerCase()]);this.postset.forEach(e=>e.occur())}findAssignment(){const e=[],n=[];for(let i=0;i<this.preset.length;i++){const s=this.preset[i].applyFilter();if(s.length==0){this.state={};return}else n.push(s),e.push(this.preset[i].place.name.toLowerCase())}const r=vue(n);for(let i=0;i<r.length;i++){const s=r[i],a={};for(let o=0;o<s.length;o++)a[e[o]]=s[o];if(this.evaluate(a))return a}return!1}evaluate(e){let n=mb(e);n+=this.content;const r=pb(n);if(r.success){const i=JSON.parse(r.data);return i!==!0?!1:i}else return!1}};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function sV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aV(t,e,n){return e&&KI(t.prototype,e),n&&KI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Og(t,e)}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function Og(t,e){return Og=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Og(t,e)}function oV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wm(t,e,n){return oV()?Wm=Reflect.construct.bind():Wm=function(i,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(i,o),u=new l;return a&&Og(u,a.prototype),u},Wm.apply(null,arguments)}function bue(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function Q$(t){var e=typeof Map=="function"?new Map:void 0;return Q$=function(r){if(r===null||!bue(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return Wm(r,arguments,kg(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Og(i,r)},Q$(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sue(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function xue(t){var e=oV();return function(){var r=kg(t),i;if(e){var s=kg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Sue(this,i)}}function Eue(t){return $ue(t)||Aue(t)||lV(t)||Pue()}function $ue(t){if(Array.isArray(t))return Z$(t)}function Aue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lV(t,e){if(t){if(typeof t=="string")return Z$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z$(t,e)}}function Z$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tue(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=lV(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(a)throw o}}}}var ta=Object.prototype.hasOwnProperty;function Pf(t,e){return t=t.slice(),t.push(e),t}function eA(t,e){return e=e.slice(),e.unshift(t),e}var Cue=function(t){_ue(n,t);var e=xue(n);function n(r){var i;return sV(this,n),i=e.call(this,'JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),i.avoidNew=!0,i.value=r,i.name="NewError",i}return aV(n)}(Q$(Error));function ir(t,e,n,r,i){if(!(this instanceof ir))try{return new ir(t,e,n,r,i)}catch(l){if(!l.avoidNew)throw l;return l.value}typeof t=="string"&&(i=r,r=n,n=e,e=t,t=null);var s=t&&Ll(t)==="object";if(t=t||{},this.json=t.json||n,this.path=t.path||e,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=ta.call(t,"wrap")?t.wrap:!0,this.sandbox=t.sandbox||{},this.preventEval=t.preventEval||!1,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||r||null,this.otherTypeCallback=t.otherTypeCallback||i||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},t.autostart!==!1){var a={path:s?t.path:e};s?"json"in t&&(a.json=t.json):a.json=n;var o=this.evaluate(a);if(!o||Ll(o)!=="object")throw new Cue(o);return o}}ir.prototype.evaluate=function(t,e,n,r){var i=this,s=this.parent,a=this.parentProperty,o=this.flatten,l=this.wrap;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,n=n||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,e=e||this.json,t=t||this.path,t&&Ll(t)==="object"&&!Array.isArray(t)){if(!t.path&&t.path!=="")throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!ta.call(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');var u=t;e=u.json,o=ta.call(t,"flatten")?t.flatten:o,this.currResultType=ta.call(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=ta.call(t,"sandbox")?t.sandbox:this.currSandbox,l=ta.call(t,"wrap")?t.wrap:l,this.currPreventEval=ta.call(t,"preventEval")?t.preventEval:this.currPreventEval,n=ta.call(t,"callback")?t.callback:n,this.currOtherTypeCallback=ta.call(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,s=ta.call(t,"parent")?t.parent:s,a=ta.call(t,"parentProperty")?t.parentProperty:a,t=t.path}if(s=s||null,a=a||null,Array.isArray(t)&&(t=ir.toPathString(t)),!(!t&&t!==""||!e)){var c=ir.toPathArray(t);c[0]==="$"&&c.length>1&&c.shift(),this._hasParentSelector=null;var f=this._trace(c,e,["$"],s,a,n).filter(function(d){return d&&!d.isParentSelector});return f.length?!l&&f.length===1&&!f[0].hasArrExpr?this._getPreferredOutput(f[0]):f.reduce(function(d,v){var _=i._getPreferredOutput(v);return o&&Array.isArray(_)?d=d.concat(_):d.push(_),d},[]):l?[]:void 0}};ir.prototype._getPreferredOutput=function(t){var e=this.currResultType;switch(e){case"all":{var n=Array.isArray(t.path)?t.path:ir.toPathArray(t.path);return t.pointer=ir.toPointer(n),t.path=typeof t.path=="string"?t.path:ir.toPathString(t.path),t}case"value":case"parent":case"parentProperty":return t[e];case"path":return ir.toPathString(t[e]);case"pointer":return ir.toPointer(t.path);default:throw new TypeError("Unknown result type")}};ir.prototype._handleCallback=function(t,e,n){if(e){var r=this._getPreferredOutput(t);t.path=typeof t.path=="string"?t.path:ir.toPathString(t.path),e(r,n,t)}};ir.prototype._trace=function(t,e,n,r,i,s,a,o){var l=this,u;if(!t.length)return u={path:n,value:e,parent:r,parentProperty:i,hasArrExpr:a},this._handleCallback(u,s,"value"),u;var c=t[0],f=t.slice(1),d=[];function v(U){Array.isArray(U)?U.forEach(function(G){d.push(G)}):d.push(U)}if((typeof c!="string"||o)&&e&&ta.call(e,c))v(this._trace(f,e[c],Pf(n,c),e,c,s,a));else if(c==="*")this._walk(e,function(U){v(l._trace(f,e[U],Pf(n,U),e,U,s,!0,!0))});else if(c==="..")v(this._trace(f,e,n,r,i,s,a)),this._walk(e,function(U){Ll(e[U])==="object"&&v(l._trace(t.slice(),e[U],Pf(n,U),e,U,s,!0))});else{if(c==="^")return this._hasParentSelector=!0,{path:n.slice(0,-1),expr:f,isParentSelector:!0};if(c==="~")return u={path:Pf(n,c),value:i,parent:r,parentProperty:null},this._handleCallback(u,s,"property"),u;if(c==="$")v(this._trace(f,e,n,null,null,s,a));else if(/^(\x2D?[0-9]*):(\x2D?[0-9]*):?([0-9]*)$/.test(c))v(this._slice(c,f,e,n,r,i,s));else if(c.indexOf("?(")===0){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");var _=c.replace(/^\?\(((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\)$/,"$1");this._walk(e,function(U){l._eval(_,e[U],U,n,r,i)&&v(l._trace(f,e[U],Pf(n,U),e,U,s,!0))})}else if(c[0]==="("){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");v(this._trace(eA(this._eval(c,e,n[n.length-1],n.slice(0,-1),r,i),f),e,n,r,i,s,a))}else if(c[0]==="@"){var S=!1,b=c.slice(1,-2);switch(b){case"scalar":(!e||!["object","function"].includes(Ll(e)))&&(S=!0);break;case"boolean":case"string":case"undefined":case"function":Ll(e)===b&&(S=!0);break;case"integer":Number.isFinite(e)&&!(e%1)&&(S=!0);break;case"number":Number.isFinite(e)&&(S=!0);break;case"nonFinite":typeof e=="number"&&!Number.isFinite(e)&&(S=!0);break;case"object":e&&Ll(e)===b&&(S=!0);break;case"array":Array.isArray(e)&&(S=!0);break;case"other":S=this.currOtherTypeCallback(e,n,r,i);break;case"null":e===null&&(S=!0);break;default:throw new TypeError("Unknown value type "+b)}if(S)return u={path:n,value:e,parent:r,parentProperty:i},this._handleCallback(u,s,"value"),u}else if(c[0]==="`"&&e&&ta.call(e,c.slice(1))){var y=c.slice(1);v(this._trace(f,e[y],Pf(n,y),e,y,s,a,!0))}else if(c.includes(",")){var A=c.split(","),R=Tue(A),M;try{for(R.s();!(M=R.n()).done;){var $=M.value;v(this._trace(eA($,f),e,n,r,i,s,!0))}}catch(U){R.e(U)}finally{R.f()}}else!o&&e&&ta.call(e,c)&&v(this._trace(f,e[c],Pf(n,c),e,c,s,a,!0))}if(this._hasParentSelector)for(var p=0;p<d.length;p++){var x=d[p];if(x&&x.isParentSelector){var T=this._trace(x.expr,e,x.path,r,i,s,a);if(Array.isArray(T)){d[p]=T[0];for(var D=T.length,C=1;C<D;C++)p++,d.splice(p,0,T[C])}else d[p]=T}}return d};ir.prototype._walk=function(t,e){if(Array.isArray(t))for(var n=t.length,r=0;r<n;r++)e(r);else t&&Ll(t)==="object"&&Object.keys(t).forEach(function(i){e(i)})};ir.prototype._slice=function(t,e,n,r,i,s,a){if(Array.isArray(n)){var o=n.length,l=t.split(":"),u=l[2]&&Number.parseInt(l[2])||1,c=l[0]&&Number.parseInt(l[0])||0,f=l[1]&&Number.parseInt(l[1])||o;c=c<0?Math.max(0,c+o):Math.min(o,c),f=f<0?Math.max(0,f+o):Math.min(o,f);for(var d=[],v=c;v<f;v+=u){var _=this._trace(eA(v,e),n,r,i,s,a,!0);_.forEach(function(S){d.push(S)})}return d}};ir.prototype._eval=function(t,e,n,r,i,s){this.currSandbox._$_parentProperty=s,this.currSandbox._$_parent=i,this.currSandbox._$_property=n,this.currSandbox._$_root=this.json,this.currSandbox._$_v=e;var a=t.includes("@path");a&&(this.currSandbox._$_path=ir.toPathString(r.concat([n])));var o="script:"+t;if(!ir.cache[o]){var l=t.replace(/@parentProperty/g,"_$_parentProperty").replace(/@parent/g,"_$_parent").replace(/@property/g,"_$_property").replace(/@root/g,"_$_root").replace(/@([\t-\r \)\.\[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF])/g,"_$_v$1");a&&(l=l.replace(/@path/g,"_$_path")),ir.cache[o]=new this.vm.Script(l)}try{return ir.cache[o].runInNewContext(this.currSandbox)}catch(u){throw new Error("jsonPath: "+u.message+": "+t)}};ir.cache={};ir.toPathString=function(t){for(var e=t,n=e.length,r="$",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[i])||(r+=/^[\*0-9]+$/.test(e[i])?"["+e[i]+"]":"['"+e[i]+"']");return r};ir.toPointer=function(t){for(var e=t,n=e.length,r="",i=1;i<n;i++)/^(~|\^|@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\(\))$/.test(e[i])||(r+="/"+e[i].toString().replace(/~/g,"~0").replace(/\//g,"~1"));return r};ir.toPathArray=function(t){var e=ir.cache;if(e[t])return e[t].concat();var n=[],r=t.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/g,";$&;").replace(/['\[](\??\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\))['\]]/g,function(s,a){return"[#"+(n.push(a)-1)+"]"}).replace(/\[["']((?:(?!['\]])[\s\S])*)["']\]/g,function(s,a){return"['"+a.replace(/\./g,"%@%").replace(/~/g,"%%@@%%")+"']"}).replace(/~/g,";~;").replace(/["']?\.["']?(?!(?:(?!\[)[\s\S])*\])|\[["']?/g,";").replace(/%@%/g,".").replace(/%%@@%%/g,"~").replace(/(?:;)?(\^+)(?:;)?/g,function(s,a){return";"+a.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),i=r.split(";").map(function(s){var a=s.match(/#([0-9]+)/);return!a||!a[1]?s:n[a[1]]});return e[t]=i,e[t].concat()};var kue=function(e,n,r){for(var i=e.length,s=0;s<i;s++){var a=e[s];r(a)&&n.push(e.splice(s--,1)[0])}},Oue=function(){function t(e){sV(this,t),this.code=e}return aV(t,[{key:"runInNewContext",value:function(n){var r=this.code,i=Object.keys(n),s=[];kue(i,s,function(c){return typeof n[c]=="function"});var a=i.map(function(c,f){return n[c]}),o=s.reduce(function(c,f){var d=n[f].toString();return/function/.test(d)||(d="function "+d),"var "+f+"="+d+";"+c},"");r=o+r,!/(["'])use strict\1/.test(r)&&!i.includes("arguments")&&(r="var arguments = undefined;"+r),r=r.replace(/;[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*$/,"");var l=r.lastIndexOf(";"),u=l>-1?r.slice(0,l+1)+" return "+r.slice(l+1):" return "+r;return Wm(Function,i.concat([u])).apply(void 0,Eue(a))}}]),t}();ir.prototype.vm={Script:Oue};function tA(t,e){let n="";return e===""?n="$.*":n="$.["+e+"]",ir({path:n,json:t})}const YI="consume";class k2{constructor(e,n,r){ii(this,"id");ii(this,"type");ii(this,"place");ii(this,"transition");ii(this,"label");this.id=r,this.type="preset",this.place=e,this.transition=n,this.label={type:YI,filter:""}}applyFilter(){const e=this.place.content.data;return this.label.filter===""?e:tA(e,this.label.filter)}occur(e){if(this.label.type===YI){const n=this.place.content.data.indexOf(e);this.place.content.data.splice(n,1)}}}var nA={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(n,r){r(e)})(gr,function(n){function r(){for(var be=arguments.length,oe=Array(be),Se=0;Se<be;Se++)oe[Se]=arguments[Se];if(oe.length>1){oe[0]=oe[0].slice(0,-1);for(var De=oe.length-1,je=1;je<De;++je)oe[je]=oe[je].slice(1,-1);return oe[De]=oe[De].slice(1),oe.join("")}else return oe[0]}function i(be){return"(?:"+be+")"}function s(be){return be===void 0?"undefined":be===null?"null":Object.prototype.toString.call(be).split(" ").pop().split("]").shift().toLowerCase()}function a(be){return be.toUpperCase()}function o(be){return be!=null?be instanceof Array?be:typeof be.length!="number"||be.split||be.setInterval||be.call?[be]:Array.prototype.slice.call(be):[]}function l(be,oe){var Se=be;if(oe)for(var De in oe)Se[De]=oe[De];return Se}function u(be){var oe="[A-Za-z]",Se="[0-9]",De=r(Se,"[A-Fa-f]"),je=i(i("%[EFef]"+De+"%"+De+De+"%"+De+De)+"|"+i("%[89A-Fa-f]"+De+"%"+De+De)+"|"+i("%"+De+De)),bt="[\\:\\/\\?\\#\\[\\]\\@]",gt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",nn=r(bt,gt),Dn=be?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",nr=be?"[\\uE000-\\uF8FF]":"[]",rn=r(oe,Se,"[\\-\\.\\_\\~]",Dn);i(oe+r(oe,Se,"[\\+\\-\\.]")+"*"),i(i(je+"|"+r(rn,gt,"[\\:]"))+"*");var En=i(i("25[0-5]")+"|"+i("2[0-4]"+Se)+"|"+i("1"+Se+Se)+"|"+i("0?[1-9]"+Se)+"|0?0?"+Se),Yn=i(En+"\\."+En+"\\."+En+"\\."+En),jt=i(De+"{1,4}"),Wn=i(i(jt+"\\:"+jt)+"|"+Yn),Jn=i(i(jt+"\\:")+"{6}"+Wn),Xn=i("\\:\\:"+i(jt+"\\:")+"{5}"+Wn),fi=i(i(jt)+"?\\:\\:"+i(jt+"\\:")+"{4}"+Wn),Oi=i(i(i(jt+"\\:")+"{0,1}"+jt)+"?\\:\\:"+i(jt+"\\:")+"{3}"+Wn),Hr=i(i(i(jt+"\\:")+"{0,2}"+jt)+"?\\:\\:"+i(jt+"\\:")+"{2}"+Wn),js=i(i(i(jt+"\\:")+"{0,3}"+jt)+"?\\:\\:"+jt+"\\:"+Wn),ar=i(i(i(jt+"\\:")+"{0,4}"+jt)+"?\\:\\:"+Wn),or=i(i(i(jt+"\\:")+"{0,5}"+jt)+"?\\:\\:"+jt),wi=i(i(i(jt+"\\:")+"{0,6}"+jt)+"?\\:\\:"),lr=i([Jn,Xn,fi,Oi,Hr,js,ar,or,wi].join("|")),ri=i(i(rn+"|"+je)+"+");i("[vV]"+De+"+\\."+r(rn,gt,"[\\:]")+"+"),i(i(je+"|"+r(rn,gt))+"*");var Ji=i(je+"|"+r(rn,gt,"[\\:\\@]"));return i(i(je+"|"+r(rn,gt,"[\\@]"))+"+"),i(i(Ji+"|"+r("[\\/\\?]",nr))+"*"),{NOT_SCHEME:new RegExp(r("[^]",oe,Se,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",rn,gt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",rn,gt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",rn,gt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",rn,gt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",rn,gt,"[\\:\\@\\/\\?]",nr),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",rn,gt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",rn,gt),"g"),UNRESERVED:new RegExp(rn,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",rn,nn),"g"),PCT_ENCODED:new RegExp(je,"g"),IPV4ADDRESS:new RegExp("^("+Yn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+lr+")"+i(i("\\%25|\\%(?!"+De+"{2})")+"("+ri+")")+"?\\]?$")}}var c=u(!1),f=u(!0),d=function(){function be(oe,Se){var De=[],je=!0,bt=!1,gt=void 0;try{for(var nn=oe[Symbol.iterator](),Dn;!(je=(Dn=nn.next()).done)&&(De.push(Dn.value),!(Se&&De.length===Se));je=!0);}catch(nr){bt=!0,gt=nr}finally{try{!je&&nn.return&&nn.return()}finally{if(bt)throw gt}}return De}return function(oe,Se){if(Array.isArray(oe))return oe;if(Symbol.iterator in Object(oe))return be(oe,Se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),v=function(be){if(Array.isArray(be)){for(var oe=0,Se=Array(be.length);oe<be.length;oe++)Se[oe]=be[oe];return Se}else return Array.from(be)},_=2147483647,S=36,b=1,y=26,A=38,R=700,M=72,$=128,p="-",x=/^xn--/,T=/[^\0-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},U=S-b,G=Math.floor,se=String.fromCharCode;function re(be){throw new RangeError(C[be])}function ye(be,oe){for(var Se=[],De=be.length;De--;)Se[De]=oe(be[De]);return Se}function Pe(be,oe){var Se=be.split("@"),De="";Se.length>1&&(De=Se[0]+"@",be=Se[1]),be=be.replace(D,".");var je=be.split("."),bt=ye(je,oe).join(".");return De+bt}function Ae(be){for(var oe=[],Se=0,De=be.length;Se<De;){var je=be.charCodeAt(Se++);if(je>=55296&&je<=56319&&Se<De){var bt=be.charCodeAt(Se++);(bt&64512)==56320?oe.push(((je&1023)<<10)+(bt&1023)+65536):(oe.push(je),Se--)}else oe.push(je)}return oe}var Ie=function(oe){return String.fromCodePoint.apply(String,v(oe))},Me=function(oe){return oe-48<10?oe-22:oe-65<26?oe-65:oe-97<26?oe-97:S},ae=function(oe,Se){return oe+22+75*(oe<26)-((Se!=0)<<5)},H=function(oe,Se,De){var je=0;for(oe=De?G(oe/R):oe>>1,oe+=G(oe/Se);oe>U*y>>1;je+=S)oe=G(oe/U);return G(je+(U+1)*oe/(oe+A))},X=function(oe){var Se=[],De=oe.length,je=0,bt=$,gt=M,nn=oe.lastIndexOf(p);nn<0&&(nn=0);for(var Dn=0;Dn<nn;++Dn)oe.charCodeAt(Dn)>=128&&re("not-basic"),Se.push(oe.charCodeAt(Dn));for(var nr=nn>0?nn+1:0;nr<De;){for(var rn=je,En=1,Yn=S;;Yn+=S){nr>=De&&re("invalid-input");var jt=Me(oe.charCodeAt(nr++));(jt>=S||jt>G((_-je)/En))&&re("overflow"),je+=jt*En;var Wn=Yn<=gt?b:Yn>=gt+y?y:Yn-gt;if(jt<Wn)break;var Jn=S-Wn;En>G(_/Jn)&&re("overflow"),En*=Jn}var Xn=Se.length+1;gt=H(je-rn,Xn,rn==0),G(je/Xn)>_-bt&&re("overflow"),bt+=G(je/Xn),je%=Xn,Se.splice(je++,0,bt)}return String.fromCodePoint.apply(String,Se)},V=function(oe){var Se=[];oe=Ae(oe);var De=oe.length,je=$,bt=0,gt=M,nn=!0,Dn=!1,nr=void 0;try{for(var rn=oe[Symbol.iterator](),En;!(nn=(En=rn.next()).done);nn=!0){var Yn=En.value;Yn<128&&Se.push(se(Yn))}}catch(_s){Dn=!0,nr=_s}finally{try{!nn&&rn.return&&rn.return()}finally{if(Dn)throw nr}}var jt=Se.length,Wn=jt;for(jt&&Se.push(p);Wn<De;){var Jn=_,Xn=!0,fi=!1,Oi=void 0;try{for(var Hr=oe[Symbol.iterator](),js;!(Xn=(js=Hr.next()).done);Xn=!0){var ar=js.value;ar>=je&&ar<Jn&&(Jn=ar)}}catch(_s){fi=!0,Oi=_s}finally{try{!Xn&&Hr.return&&Hr.return()}finally{if(fi)throw Oi}}var or=Wn+1;Jn-je>G((_-bt)/or)&&re("overflow"),bt+=(Jn-je)*or,je=Jn;var wi=!0,lr=!1,ri=void 0;try{for(var Ji=oe[Symbol.iterator](),Zl;!(wi=(Zl=Ji.next()).done);wi=!0){var eu=Zl.value;if(eu<je&&++bt>_&&re("overflow"),eu==je){for(var Bs=bt,_a=S;;_a+=S){var Ri=_a<=gt?b:_a>=gt+y?y:_a-gt;if(Bs<Ri)break;var ll=Bs-Ri,ul=S-Ri;Se.push(se(ae(Ri+ll%ul,0))),Bs=G(ll/ul)}Se.push(se(ae(Bs,0))),gt=H(bt,or,Wn==jt),bt=0,++Wn}}}catch(_s){lr=!0,ri=_s}finally{try{!wi&&Ji.return&&Ji.return()}finally{if(lr)throw ri}}++bt,++je}return Se.join("")},k=function(oe){return Pe(oe,function(Se){return x.test(Se)?X(Se.slice(4).toLowerCase()):Se})},I=function(oe){return Pe(oe,function(Se){return T.test(Se)?"xn--"+V(Se):Se})},J={version:"2.1.0",ucs2:{decode:Ae,encode:Ie},decode:X,encode:V,toASCII:I,toUnicode:k},ue={};function _e(be){var oe=be.charCodeAt(0),Se=void 0;return oe<16?Se="%0"+oe.toString(16).toUpperCase():oe<128?Se="%"+oe.toString(16).toUpperCase():oe<2048?Se="%"+(oe>>6|192).toString(16).toUpperCase()+"%"+(oe&63|128).toString(16).toUpperCase():Se="%"+(oe>>12|224).toString(16).toUpperCase()+"%"+(oe>>6&63|128).toString(16).toUpperCase()+"%"+(oe&63|128).toString(16).toUpperCase(),Se}function ke(be){for(var oe="",Se=0,De=be.length;Se<De;){var je=parseInt(be.substr(Se+1,2),16);if(je<128)oe+=String.fromCharCode(je),Se+=3;else if(je>=194&&je<224){if(De-Se>=6){var bt=parseInt(be.substr(Se+4,2),16);oe+=String.fromCharCode((je&31)<<6|bt&63)}else oe+=be.substr(Se,6);Se+=6}else if(je>=224){if(De-Se>=9){var gt=parseInt(be.substr(Se+4,2),16),nn=parseInt(be.substr(Se+7,2),16);oe+=String.fromCharCode((je&15)<<12|(gt&63)<<6|nn&63)}else oe+=be.substr(Se,9);Se+=9}else oe+=be.substr(Se,3),Se+=3}return oe}function Ve(be,oe){function Se(De){var je=ke(De);return je.match(oe.UNRESERVED)?je:De}return be.scheme&&(be.scheme=String(be.scheme).replace(oe.PCT_ENCODED,Se).toLowerCase().replace(oe.NOT_SCHEME,"")),be.userinfo!==void 0&&(be.userinfo=String(be.userinfo).replace(oe.PCT_ENCODED,Se).replace(oe.NOT_USERINFO,_e).replace(oe.PCT_ENCODED,a)),be.host!==void 0&&(be.host=String(be.host).replace(oe.PCT_ENCODED,Se).toLowerCase().replace(oe.NOT_HOST,_e).replace(oe.PCT_ENCODED,a)),be.path!==void 0&&(be.path=String(be.path).replace(oe.PCT_ENCODED,Se).replace(be.scheme?oe.NOT_PATH:oe.NOT_PATH_NOSCHEME,_e).replace(oe.PCT_ENCODED,a)),be.query!==void 0&&(be.query=String(be.query).replace(oe.PCT_ENCODED,Se).replace(oe.NOT_QUERY,_e).replace(oe.PCT_ENCODED,a)),be.fragment!==void 0&&(be.fragment=String(be.fragment).replace(oe.PCT_ENCODED,Se).replace(oe.NOT_FRAGMENT,_e).replace(oe.PCT_ENCODED,a)),be}function We(be){return be.replace(/^0*(.*)/,"$1")||"0"}function Y(be,oe){var Se=be.match(oe.IPV4ADDRESS)||[],De=d(Se,2),je=De[1];return je?je.split(".").map(We).join("."):be}function Q(be,oe){var Se=be.match(oe.IPV6ADDRESS)||[],De=d(Se,3),je=De[1],bt=De[2];if(je){for(var gt=je.toLowerCase().split("::").reverse(),nn=d(gt,2),Dn=nn[0],nr=nn[1],rn=nr?nr.split(":").map(We):[],En=Dn.split(":").map(We),Yn=oe.IPV4ADDRESS.test(En[En.length-1]),jt=Yn?7:8,Wn=En.length-jt,Jn=Array(jt),Xn=0;Xn<jt;++Xn)Jn[Xn]=rn[Xn]||En[Wn+Xn]||"";Yn&&(Jn[jt-1]=Y(Jn[jt-1],oe));var fi=Jn.reduce(function(or,wi,lr){if(!wi||wi==="0"){var ri=or[or.length-1];ri&&ri.index+ri.length===lr?ri.length++:or.push({index:lr,length:1})}return or},[]),Oi=fi.sort(function(or,wi){return wi.length-or.length})[0],Hr=void 0;if(Oi&&Oi.length>1){var js=Jn.slice(0,Oi.index),ar=Jn.slice(Oi.index+Oi.length);Hr=js.join(":")+"::"+ar.join(":")}else Hr=Jn.join(":");return bt&&(Hr+="%"+bt),Hr}else return be}var N=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,F="".match(/(){0}/)[1]===void 0;function q(be){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se={},De=oe.iri!==!1?f:c;oe.reference==="suffix"&&(be=(oe.scheme?oe.scheme+":":"")+"//"+be);var je=be.match(N);if(je){F?(Se.scheme=je[1],Se.userinfo=je[3],Se.host=je[4],Se.port=parseInt(je[5],10),Se.path=je[6]||"",Se.query=je[7],Se.fragment=je[8],isNaN(Se.port)&&(Se.port=je[5])):(Se.scheme=je[1]||void 0,Se.userinfo=be.indexOf("@")!==-1?je[3]:void 0,Se.host=be.indexOf("//")!==-1?je[4]:void 0,Se.port=parseInt(je[5],10),Se.path=je[6]||"",Se.query=be.indexOf("?")!==-1?je[7]:void 0,Se.fragment=be.indexOf("#")!==-1?je[8]:void 0,isNaN(Se.port)&&(Se.port=be.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?je[4]:void 0)),Se.host&&(Se.host=Q(Y(Se.host,De),De)),Se.scheme===void 0&&Se.userinfo===void 0&&Se.host===void 0&&Se.port===void 0&&!Se.path&&Se.query===void 0?Se.reference="same-document":Se.scheme===void 0?Se.reference="relative":Se.fragment===void 0?Se.reference="absolute":Se.reference="uri",oe.reference&&oe.reference!=="suffix"&&oe.reference!==Se.reference&&(Se.error=Se.error||"URI is not a "+oe.reference+" reference.");var bt=ue[(oe.scheme||Se.scheme||"").toLowerCase()];if(!oe.unicodeSupport&&(!bt||!bt.unicodeSupport)){if(Se.host&&(oe.domainHost||bt&&bt.domainHost))try{Se.host=J.toASCII(Se.host.replace(De.PCT_ENCODED,ke).toLowerCase())}catch(gt){Se.error=Se.error||"Host's domain name can not be converted to ASCII via punycode: "+gt}Ve(Se,c)}else Ve(Se,De);bt&&bt.parse&&bt.parse(Se,oe)}else Se.error=Se.error||"URI can not be parsed.";return Se}function ie(be,oe){var Se=oe.iri!==!1?f:c,De=[];return be.userinfo!==void 0&&(De.push(be.userinfo),De.push("@")),be.host!==void 0&&De.push(Q(Y(String(be.host),Se),Se).replace(Se.IPV6ADDRESS,function(je,bt,gt){return"["+bt+(gt?"%25"+gt:"")+"]"})),(typeof be.port=="number"||typeof be.port=="string")&&(De.push(":"),De.push(String(be.port))),De.length?De.join(""):void 0}var ge=/^\.\.?\//,ve=/^\/\.(\/|$)/,Te=/^\/\.\.(\/|$)/,Ne=/^\/?(?:.|\n)*?(?=\/|$)/;function Be(be){for(var oe=[];be.length;)if(be.match(ge))be=be.replace(ge,"");else if(be.match(ve))be=be.replace(ve,"/");else if(be.match(Te))be=be.replace(Te,"/"),oe.pop();else if(be==="."||be==="..")be="";else{var Se=be.match(Ne);if(Se){var De=Se[0];be=be.slice(De.length),oe.push(De)}else throw new Error("Unexpected dot segment condition")}return oe.join("")}function Xe(be){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Se=oe.iri?f:c,De=[],je=ue[(oe.scheme||be.scheme||"").toLowerCase()];if(je&&je.serialize&&je.serialize(be,oe),be.host&&!Se.IPV6ADDRESS.test(be.host)){if(oe.domainHost||je&&je.domainHost)try{be.host=oe.iri?J.toUnicode(be.host):J.toASCII(be.host.replace(Se.PCT_ENCODED,ke).toLowerCase())}catch(nn){be.error=be.error||"Host's domain name can not be converted to "+(oe.iri?"Unicode":"ASCII")+" via punycode: "+nn}}Ve(be,Se),oe.reference!=="suffix"&&be.scheme&&(De.push(be.scheme),De.push(":"));var bt=ie(be,oe);if(bt!==void 0&&(oe.reference!=="suffix"&&De.push("//"),De.push(bt),be.path&&be.path.charAt(0)!=="/"&&De.push("/")),be.path!==void 0){var gt=be.path;!oe.absolutePath&&(!je||!je.absolutePath)&&(gt=Be(gt)),bt===void 0&&(gt=gt.replace(/^\/\//,"/%2F")),De.push(gt)}return be.query!==void 0&&(De.push("?"),De.push(be.query)),be.fragment!==void 0&&(De.push("#"),De.push(be.fragment)),De.join("")}function Je(be,oe){var Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},De=arguments[3],je={};return De||(be=q(Xe(be,Se),Se),oe=q(Xe(oe,Se),Se)),Se=Se||{},!Se.tolerant&&oe.scheme?(je.scheme=oe.scheme,je.userinfo=oe.userinfo,je.host=oe.host,je.port=oe.port,je.path=Be(oe.path||""),je.query=oe.query):(oe.userinfo!==void 0||oe.host!==void 0||oe.port!==void 0?(je.userinfo=oe.userinfo,je.host=oe.host,je.port=oe.port,je.path=Be(oe.path||""),je.query=oe.query):(oe.path?(oe.path.charAt(0)==="/"?je.path=Be(oe.path):((be.userinfo!==void 0||be.host!==void 0||be.port!==void 0)&&!be.path?je.path="/"+oe.path:be.path?je.path=be.path.slice(0,be.path.lastIndexOf("/")+1)+oe.path:je.path=oe.path,je.path=Be(je.path)),je.query=oe.query):(je.path=be.path,oe.query!==void 0?je.query=oe.query:je.query=be.query),je.userinfo=be.userinfo,je.host=be.host,je.port=be.port),je.scheme=be.scheme),je.fragment=oe.fragment,je}function Ze(be,oe,Se){var De=l({scheme:"null"},Se);return Xe(Je(q(be,De),q(oe,De),De,!0),De)}function ut(be,oe){return typeof be=="string"?be=Xe(q(be,oe),oe):s(be)==="object"&&(be=q(Xe(be,oe),oe)),be}function xt(be,oe,Se){return typeof be=="string"?be=Xe(q(be,Se),Se):s(be)==="object"&&(be=Xe(be,Se)),typeof oe=="string"?oe=Xe(q(oe,Se),Se):s(oe)==="object"&&(oe=Xe(oe,Se)),be===oe}function Ot(be,oe){return be&&be.toString().replace(!oe||!oe.iri?c.ESCAPE:f.ESCAPE,_e)}function mt(be,oe){return be&&be.toString().replace(!oe||!oe.iri?c.PCT_ENCODED:f.PCT_ENCODED,ke)}var zt={scheme:"http",domainHost:!0,parse:function(oe,Se){return oe.host||(oe.error=oe.error||"HTTP URIs must have a host."),oe},serialize:function(oe,Se){var De=String(oe.scheme).toLowerCase()==="https";return(oe.port===(De?443:80)||oe.port==="")&&(oe.port=void 0),oe.path||(oe.path="/"),oe}},Hn={scheme:"https",domainHost:zt.domainHost,parse:zt.parse,serialize:zt.serialize};function Cr(be){return typeof be.secure=="boolean"?be.secure:String(be.scheme).toLowerCase()==="wss"}var Zn={scheme:"ws",domainHost:!0,parse:function(oe,Se){var De=oe;return De.secure=Cr(De),De.resourceName=(De.path||"/")+(De.query?"?"+De.query:""),De.path=void 0,De.query=void 0,De},serialize:function(oe,Se){if((oe.port===(Cr(oe)?443:80)||oe.port==="")&&(oe.port=void 0),typeof oe.secure=="boolean"&&(oe.scheme=oe.secure?"wss":"ws",oe.secure=void 0),oe.resourceName){var De=oe.resourceName.split("?"),je=d(De,2),bt=je[0],gt=je[1];oe.path=bt&&bt!=="/"?bt:void 0,oe.query=gt,oe.resourceName=void 0}return oe.fragment=void 0,oe}},ci={scheme:"wss",domainHost:Zn.domainHost,parse:Zn.parse,serialize:Zn.serialize},er={},yn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",_n="[0-9A-Fa-f]",Yi=i(i("%[EFef]"+_n+"%"+_n+_n+"%"+_n+_n)+"|"+i("%[89A-Fa-f]"+_n+"%"+_n+_n)+"|"+i("%"+_n+_n)),vs="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Fa="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Fs=r(Fa,'[\\"\\\\]'),ki="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Lr=new RegExp(yn,"g"),ys=new RegExp(Yi,"g"),Uu=new RegExp(r("[^]",vs,"[\\.]",'[\\"]',Fs),"g"),Ao=new RegExp(r("[^]",yn,ki),"g"),ja=Ao;function va(be){var oe=ke(be);return oe.match(Lr)?oe:be}var ol={scheme:"mailto",parse:function(oe,Se){var De=oe,je=De.to=De.path?De.path.split(","):[];if(De.path=void 0,De.query){for(var bt=!1,gt={},nn=De.query.split("&"),Dn=0,nr=nn.length;Dn<nr;++Dn){var rn=nn[Dn].split("=");switch(rn[0]){case"to":for(var En=rn[1].split(","),Yn=0,jt=En.length;Yn<jt;++Yn)je.push(En[Yn]);break;case"subject":De.subject=mt(rn[1],Se);break;case"body":De.body=mt(rn[1],Se);break;default:bt=!0,gt[mt(rn[0],Se)]=mt(rn[1],Se);break}}bt&&(De.headers=gt)}De.query=void 0;for(var Wn=0,Jn=je.length;Wn<Jn;++Wn){var Xn=je[Wn].split("@");if(Xn[0]=mt(Xn[0]),Se.unicodeSupport)Xn[1]=mt(Xn[1],Se).toLowerCase();else try{Xn[1]=J.toASCII(mt(Xn[1],Se).toLowerCase())}catch(fi){De.error=De.error||"Email address's domain name can not be converted to ASCII via punycode: "+fi}je[Wn]=Xn.join("@")}return De},serialize:function(oe,Se){var De=oe,je=o(oe.to);if(je){for(var bt=0,gt=je.length;bt<gt;++bt){var nn=String(je[bt]),Dn=nn.lastIndexOf("@"),nr=nn.slice(0,Dn).replace(ys,va).replace(ys,a).replace(Uu,_e),rn=nn.slice(Dn+1);try{rn=Se.iri?J.toUnicode(rn):J.toASCII(mt(rn,Se).toLowerCase())}catch(Wn){De.error=De.error||"Email address's domain name can not be converted to "+(Se.iri?"Unicode":"ASCII")+" via punycode: "+Wn}je[bt]=nr+"@"+rn}De.path=je.join(",")}var En=oe.headers=oe.headers||{};oe.subject&&(En.subject=oe.subject),oe.body&&(En.body=oe.body);var Yn=[];for(var jt in En)En[jt]!==er[jt]&&Yn.push(jt.replace(ys,va).replace(ys,a).replace(Ao,_e)+"="+En[jt].replace(ys,va).replace(ys,a).replace(ja,_e));return Yn.length&&(De.query=Yn.join("&")),De}},qu=/^([^\:]+)\:(.*)/,ya={scheme:"urn",parse:function(oe,Se){var De=oe.path&&oe.path.match(qu),je=oe;if(De){var bt=Se.scheme||je.scheme||"urn",gt=De[1].toLowerCase(),nn=De[2],Dn=bt+":"+(Se.nid||gt),nr=ue[Dn];je.nid=gt,je.nss=nn,je.path=void 0,nr&&(je=nr.parse(je,Se))}else je.error=je.error||"URN can not be parsed.";return je},serialize:function(oe,Se){var De=Se.scheme||oe.scheme||"urn",je=oe.nid,bt=De+":"+(Se.nid||je),gt=ue[bt];gt&&(oe=gt.serialize(oe,Se));var nn=oe,Dn=oe.nss;return nn.path=(je||Se.nid)+":"+Dn,nn}},Po=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ba={scheme:"urn:uuid",parse:function(oe,Se){var De=oe;return De.uuid=De.nss,De.nss=void 0,!Se.tolerant&&(!De.uuid||!De.uuid.match(Po))&&(De.error=De.error||"UUID is not valid."),De},serialize:function(oe,Se){var De=oe;return De.nss=(oe.uuid||"").toLowerCase(),De}};ue[zt.scheme]=zt,ue[Hn.scheme]=Hn,ue[Zn.scheme]=Zn,ue[ci.scheme]=ci,ue[ol.scheme]=ol,ue[ya.scheme]=ya,ue[Ba.scheme]=Ba,n.SCHEMES=ue,n.pctEncChar=_e,n.pctDecChars=ke,n.parse=q,n.removeDotSegments=Be,n.serialize=Xe,n.resolveComponents=Je,n.resolve=Ze,n.normalize=ut,n.equal=xt,n.escapeComponent=Ot,n.unescapeComponent=mt,Object.defineProperty(n,"__esModule",{value:!0})})})(nA,nA.exports);var O2=nA.exports,xh=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var a=s[i];if(!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n},Rue=function(e){for(var n=0,r=e.length,i=0,s;i<r;)n++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<r&&(s=e.charCodeAt(i),(s&64512)==56320&&i++);return n},wp={copy:Mue,checkDataType:rA,checkDataTypes:Nue,coerceToTypes:Iue,toHash:R2,getProperty:M2,escapeQuotes:N2,equal:xh,ucs2length:Rue,varOccurences:Fue,varReplace:jue,schemaHasRules:Bue,schemaHasRulesExcept:Vue,schemaUnknownRules:zue,toQuotedString:iA,getPathExpr:Uue,getPath:que,getData:Gue,unescapeFragment:Kue,unescapeJsonPointer:D2,escapeFragment:Yue,escapeJsonPointer:I2};function Mue(t,e){e=e||{};for(var n in t)e[n]=t[n];return e}function rA(t,e,n,r){var i=r?" !== ":" === ",s=r?" || ":" && ",a=r?"!":"",o=r?"":"!";switch(t){case"null":return e+i+"null";case"array":return a+"Array.isArray("+e+")";case"object":return"("+a+e+s+"typeof "+e+i+'"object"'+s+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+s+o+"("+e+" % 1)"+s+e+i+e+(n?s+a+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+i+'"'+t+'"'+(n?s+a+"isFinite("+e+")":"")+")";default:return"typeof "+e+i+'"'+t+'"'}}function Nue(t,e,n){switch(t.length){case 1:return rA(t[0],e,n,!0);default:var r="",i=R2(t);i.array&&i.object&&(r=i.null?"(":"(!"+e+" || ",r+="typeof "+e+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer;for(var s in i)r+=(r?" && ":"")+rA(s,e,n,!0);return r}}var JI=R2(["string","number","integer","boolean","null"]);function Iue(t,e){if(Array.isArray(e)){for(var n=[],r=0;r<e.length;r++){var i=e[r];(JI[i]||t==="array"&&i==="array")&&(n[n.length]=i)}if(n.length)return n}else{if(JI[e])return[e];if(t==="array"&&e==="array")return["array"]}}function R2(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return e}var Due=/^[a-z$_][a-z$_0-9]*$/i,Lue=/'|\\/g;function M2(t){return typeof t=="number"?"["+t+"]":Due.test(t)?"."+t:"['"+N2(t)+"']"}function N2(t){return t.replace(Lue,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Fue(t,e){e+="[^0-9]";var n=t.match(new RegExp(e,"g"));return n?n.length:0}function jue(t,e,n){return e+="([^0-9])",n=n.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),n+"$1")}function Bue(t,e){if(typeof t=="boolean")return!t;for(var n in t)if(e[n])return!0}function Vue(t,e,n){if(typeof t=="boolean")return!t&&n!="not";for(var r in t)if(r!=n&&e[r])return!0}function zue(t,e){if(typeof t!="boolean"){for(var n in t)if(!e[n])return n}}function iA(t){return"'"+N2(t)+"'"}function Uue(t,e,n,r){var i=n?"'/' + "+e+(r?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):r?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return uV(t,i)}function que(t,e,n){var r=iA(n?"/"+I2(e):M2(e));return uV(t,r)}var Hue=/^\/(?:[^~]|~0|~1)*$/,Wue=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Gue(t,e,n){var r,i,s,a;if(t==="")return"rootData";if(t[0]=="/"){if(!Hue.test(t))throw new Error("Invalid JSON-pointer: "+t);i=t,s="rootData"}else{if(a=t.match(Wue),!a)throw new Error("Invalid JSON-pointer: "+t);if(r=+a[1],i=a[2],i=="#"){if(r>=e)throw new Error("Cannot access property/index "+r+" levels up, current level is "+e);return n[e-r]}if(r>e)throw new Error("Cannot access data "+r+" levels up, current level is "+e);if(s="data"+(e-r||""),!i)return s}for(var o=s,l=i.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(s+=M2(D2(c)),o+=" && "+s)}return o}function uV(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Kue(t){return D2(decodeURIComponent(t))}function Yue(t){return encodeURIComponent(I2(t))}function I2(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function D2(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}var Jue=wp,cV=Xue;function Xue(t){Jue.copy(t,this)}var fV={exports:{}},Sc=fV.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};s_(e,r,i,t,"",t)};Sc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Sc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Sc.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Sc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function s_(t,e,n,r,i,s,a,o,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,s,a,o,l,u);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Sc.arrayKeywords)for(var d=0;d<f.length;d++)s_(t,e,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Sc.propsKeywords){if(f&&typeof f=="object")for(var v in f)s_(t,e,n,f[v],i+"/"+c+"/"+Que(v),s,i,c,r,v)}else(c in Sc.keywords||t.allKeys&&!(c in Sc.skipKeywords))&&s_(t,e,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,a,o,l,u)}}function Que(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var Zue=fV.exports,iv=O2,XI=xh,z1=wp,gb=cV,ece=Zue,L2=Kc;Kc.normalizeId=Oc;Kc.fullPath=vb;Kc.url=yb;Kc.ids=sce;Kc.inlineRef=sA;Kc.schema=U1;function Kc(t,e,n){var r=this._refs[n];if(typeof r=="string")if(this._refs[r])r=this._refs[r];else return Kc.call(this,t,e,r);if(r=r||this._schemas[n],r instanceof gb)return sA(r.schema,this._opts.inlineRefs)?r.schema:r.validate||this._compile(r);var i=U1.call(this,e,n),s,a,o;return i&&(s=i.schema,e=i.root,o=i.baseId),s instanceof gb?a=s.validate||t.call(this,s.schema,e,void 0,o):s!==void 0&&(a=sA(s,this._opts.inlineRefs)?s:t.call(this,s,e,void 0,o)),a}function U1(t,e){var n=iv.parse(e),r=dV(n),i=vb(this._getId(t.schema));if(Object.keys(t.schema).length===0||r!==i){var s=Oc(r),a=this._refs[s];if(typeof a=="string")return tce.call(this,t,a,n);if(a instanceof gb)a.validate||this._compile(a),t=a;else if(a=this._schemas[s],a instanceof gb){if(a.validate||this._compile(a),s==Oc(e))return{schema:a,root:t,baseId:i};t=a}else return;if(!t.schema)return;i=vb(this._getId(t.schema))}return hV.call(this,n,i,t.schema,t)}function tce(t,e,n){var r=U1.call(this,t,e);if(r){var i=r.schema,s=r.baseId;t=r.root;var a=this._getId(i);return a&&(s=yb(s,a)),hV.call(this,n,s,i,t)}}var nce=z1.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function hV(t,e,n,r){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var i=t.fragment.split("/"),s=1;s<i.length;s++){var a=i[s];if(a){if(a=z1.unescapeFragment(a),n=n[a],n===void 0)break;var o;if(!nce[a]&&(o=this._getId(n),o&&(e=yb(e,o)),n.$ref)){var l=yb(e,n.$ref),u=U1.call(this,r,l);u&&(n=u.schema,r=u.root,e=u.baseId)}}}if(n!==void 0&&n!==r.schema)return{schema:n,root:r,baseId:e}}}var rce=z1.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function sA(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return aA(t);if(e)return oA(t)<=e}function aA(t){var e;if(Array.isArray(t)){for(var n=0;n<t.length;n++)if(e=t[n],typeof e=="object"&&!aA(e))return!1}else for(var r in t)if(r=="$ref"||(e=t[r],typeof e=="object"&&!aA(e)))return!1;return!0}function oA(t){var e=0,n;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(n=t[r],typeof n=="object"&&(e+=oA(n)),e==1/0)return 1/0}else for(var i in t){if(i=="$ref")return 1/0;if(rce[i])e++;else if(n=t[i],typeof n=="object"&&(e+=oA(n)+1),e==1/0)return 1/0}return e}function vb(t,e){e!==!1&&(t=Oc(t));var n=iv.parse(t);return dV(n)}function dV(t){return iv.serialize(t).split("#")[0]+"#"}var ice=/#\/?$/;function Oc(t){return t?t.replace(ice,""):""}function yb(t,e){return e=Oc(e),iv.resolve(t,e)}function sce(t){var e=Oc(this._getId(t)),n={"":e},r={"":vb(e,!1)},i={},s=this;return ece(t,{allKeys:!0},function(a,o,l,u,c,f,d){if(o!==""){var v=s._getId(a),_=n[u],S=r[u]+"/"+c;if(d!==void 0&&(S+="/"+(typeof d=="number"?d:z1.escapeFragment(d))),typeof v=="string"){v=_=Oc(_?iv.resolve(_,v):v);var b=s._refs[v];if(typeof b=="string"&&(b=s._refs[b]),b&&b.schema){if(!XI(a,b.schema))throw new Error('id "'+v+'" resolves to more than one schema')}else if(v!=Oc(S))if(v[0]=="#"){if(i[v]&&!XI(a,i[v]))throw new Error('id "'+v+'" resolves to more than one schema');i[v]=a}else s._refs[v]=S}n[o]=_,r[o]=S}}),i}var Dx=L2,F2={Validation:QI(ace),MissingRef:QI(j2)};function ace(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}j2.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function j2(t,e,n){this.message=n||j2.message(t,e),this.missingRef=Dx.url(t,e),this.missingSchema=Dx.normalizeId(Dx.fullPath(this.missingRef))}function QI(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pV=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var n=typeof e.cycles=="boolean"?e.cycles:!1,r=e.cmp&&function(s){return function(a){return function(o,l){var u={key:o,value:a[o]},c={key:l,value:a[l]};return s(u,c)}}}(e.cmp),i=[];return function s(a){if(a&&a.toJSON&&typeof a.toJSON=="function"&&(a=a.toJSON()),a!==void 0){if(typeof a=="number")return isFinite(a)?""+a:"null";if(typeof a!="object")return JSON.stringify(a);var o,l;if(Array.isArray(a)){for(l="[",o=0;o<a.length;o++)o&&(l+=","),l+=s(a[o])||"null";return l+"]"}if(a===null)return"null";if(i.indexOf(a)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=i.push(a)-1,c=Object.keys(a).sort(r&&r(a));for(l="",o=0;o<c.length;o++){var f=c[o],d=s(a[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return i.splice(u,1),"{"+l+"}"}}(t)},mV=function(e,n,r){var i="",s=e.schema.$async===!0,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var u="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(u);else throw new Error(u)}}if(e.isTop&&(i+=" var validate = ",s&&(e.async=!0,i+="async "),i+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(i+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(a||e.schema.$ref)){var n="false schema",c=e.level,f=e.dataLevel,d=e.schema[n],v=e.schemaPath+e.util.getProperty(n),_=e.errSchemaPath+"/"+n,$=!e.opts.allErrors,T,S="data"+(f||""),M="valid"+c;if(e.schema===!1){e.isTop?$=!0:i+=" var "+M+" = false; ";var b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(T||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'boolean schema is false' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+S+" "),i+=" } "):i+=" {} ";var y=i;i=b.pop(),!e.compositeRule&&$?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?s?i+=" return data; ":i+=" validate.errors = null; return true; ":i+=" var "+M+" = true; ";return e.isTop&&(i+=" }; return validate; "),i}if(e.isTop){var A=e.isTop,c=e.level=0,f=e.dataLevel=0,S="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var R="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}i+=" var vErrors = null; ",i+=" var errors = 0;     ",i+=" if (rootData === undefined) rootData = data; "}else{var c=e.level,f=e.dataLevel,S="data"+(f||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),s&&!e.async)throw new Error("async schema in sync schema");i+=" var errs_"+c+" = errors;"}var M="valid"+c,$=!e.opts.allErrors,p="",x="",T,D=e.schema.type,C=Array.isArray(D);if(D&&e.opts.nullable&&e.schema.nullable===!0&&(C?D.indexOf("null")==-1&&(D=D.concat("null")):D!="null"&&(D=[D,"null"],C=!0)),C&&D.length==1&&(D=D[0],C=!1),e.schema.$ref&&a){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(i+=" "+e.RULES.all.$comment.code(e,"$comment")),D){if(e.opts.coerceTypes)var U=e.util.coerceToTypes(e.opts.coerceTypes,D);var G=e.RULES.types[D];if(U||C||G===!0||G&&!ve(G)){var v=e.schemaPath+".type",_=e.errSchemaPath+"/type",v=e.schemaPath+".type",_=e.errSchemaPath+"/type",se=C?"checkDataTypes":"checkDataType";if(i+=" if ("+e.util[se](D,S,e.opts.strictNumbers,!0)+") { ",U){var re="dataType"+c,ye="coerced"+c;i+=" var "+re+" = typeof "+S+"; var "+ye+" = undefined; ",e.opts.coerceTypes=="array"&&(i+=" if ("+re+" == 'object' && Array.isArray("+S+") && "+S+".length == 1) { "+S+" = "+S+"[0]; "+re+" = typeof "+S+"; if ("+e.util.checkDataType(e.schema.type,S,e.opts.strictNumbers)+") "+ye+" = "+S+"; } "),i+=" if ("+ye+" !== undefined) ; ";var Pe=U;if(Pe)for(var Ae,Ie=-1,Me=Pe.length-1;Ie<Me;)Ae=Pe[Ie+=1],Ae=="string"?i+=" else if ("+re+" == 'number' || "+re+" == 'boolean') "+ye+" = '' + "+S+"; else if ("+S+" === null) "+ye+" = ''; ":Ae=="number"||Ae=="integer"?(i+=" else if ("+re+" == 'boolean' || "+S+" === null || ("+re+" == 'string' && "+S+" && "+S+" == +"+S+" ",Ae=="integer"&&(i+=" && !("+S+" % 1)"),i+=")) "+ye+" = +"+S+"; "):Ae=="boolean"?i+=" else if ("+S+" === 'false' || "+S+" === 0 || "+S+" === null) "+ye+" = false; else if ("+S+" === 'true' || "+S+" === 1) "+ye+" = true; ":Ae=="null"?i+=" else if ("+S+" === '' || "+S+" === 0 || "+S+" === false) "+ye+" = null; ":e.opts.coerceTypes=="array"&&Ae=="array"&&(i+=" else if ("+re+" == 'string' || "+re+" == 'number' || "+re+" == 'boolean' || "+S+" == null) "+ye+" = ["+S+"]; ");i+=" else {   ";var b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(T||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",C?i+=""+D.join(","):i+=""+D,i+="' } ",e.opts.messages!==!1&&(i+=" , message: 'should be ",C?i+=""+D.join(","):i+=""+D,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+S+" "),i+=" } "):i+=" {} ";var y=i;i=b.pop(),!e.compositeRule&&$?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } if ("+ye+" !== undefined) {  ";var ae=f?"data"+(f-1||""):"parentData",H=f?e.dataPathArr[f]:"parentDataProperty";i+=" "+S+" = "+ye+"; ",f||(i+="if ("+ae+" !== undefined)"),i+=" "+ae+"["+H+"] = "+ye+"; } "}else{var b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(T||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",C?i+=""+D.join(","):i+=""+D,i+="' } ",e.opts.messages!==!1&&(i+=" , message: 'should be ",C?i+=""+D.join(","):i+=""+D,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+S+" "),i+=" } "):i+=" {} ";var y=i;i=b.pop(),!e.compositeRule&&$?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}i+=" } "}}if(e.schema.$ref&&!a)i+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",$&&(i+=" } if (errors === ",A?i+="0":i+="errs_"+c,i+=") { ",x+="}");else{var X=e.RULES;if(X){for(var G,V=-1,k=X.length-1;V<k;)if(G=X[V+=1],ve(G)){if(G.type&&(i+=" if ("+e.util.checkDataType(G.type,S,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(G.type=="object"&&e.schema.properties){var d=e.schema.properties,I=Object.keys(d),J=I;if(J)for(var ue,_e=-1,ke=J.length-1;_e<ke;){ue=J[_e+=1];var Ve=d[ue];if(Ve.default!==void 0){var We=S+e.util.getProperty(ue);if(e.compositeRule){if(e.opts.strictDefaults){var R="default is ignored for: "+We;if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}}else i+=" if ("+We+" === undefined ",e.opts.useDefaults=="empty"&&(i+=" || "+We+" === null || "+We+" === '' "),i+=" ) "+We+" = ",e.opts.useDefaults=="shared"?i+=" "+e.useDefault(Ve.default)+" ":i+=" "+JSON.stringify(Ve.default)+" ",i+="; "}}}else if(G.type=="array"&&Array.isArray(e.schema.items)){var Y=e.schema.items;if(Y){for(var Ve,Ie=-1,Q=Y.length-1;Ie<Q;)if(Ve=Y[Ie+=1],Ve.default!==void 0){var We=S+"["+Ie+"]";if(e.compositeRule){if(e.opts.strictDefaults){var R="default is ignored for: "+We;if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}}else i+=" if ("+We+" === undefined ",e.opts.useDefaults=="empty"&&(i+=" || "+We+" === null || "+We+" === '' "),i+=" ) "+We+" = ",e.opts.useDefaults=="shared"?i+=" "+e.useDefault(Ve.default)+" ":i+=" "+JSON.stringify(Ve.default)+" ",i+="; "}}}}var N=G.rules;if(N){for(var F,q=-1,ie=N.length-1;q<ie;)if(F=N[q+=1],Te(F)){var ge=F.code(e,F.keyword,G.type);ge&&(i+=" "+ge+" ",$&&(p+="}"))}}if($&&(i+=" "+p+" ",p=""),G.type&&(i+=" } ",D&&D===G.type&&!U)){i+=" else { ";var v=e.schemaPath+".type",_=e.errSchemaPath+"/type",b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(T||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(_)+" , params: { type: '",C?i+=""+D.join(","):i+=""+D,i+="' } ",e.opts.messages!==!1&&(i+=" , message: 'should be ",C?i+=""+D.join(","):i+=""+D,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+v+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+S+" "),i+=" } "):i+=" {} ";var y=i;i=b.pop(),!e.compositeRule&&$?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } "}$&&(i+=" if (errors === ",A?i+="0":i+="errs_"+c,i+=") { ",x+="}")}}}$&&(i+=" "+x+" "),A?(s?(i+=" if (errors === 0) return data;           ",i+=" else throw new ValidationError(vErrors); "):(i+=" validate.errors = vErrors; ",i+=" return errors === 0;       "),i+=" }; return validate;"):i+=" var "+M+" = errors === errs_"+c+";";function ve(Be){for(var Xe=Be.rules,Je=0;Je<Xe.length;Je++)if(Te(Xe[Je]))return!0}function Te(Be){return e.schema[Be.keyword]!==void 0||Be.implements&&Ne(Be)}function Ne(Be){for(var Xe=Be.implements,Je=0;Je<Xe.length;Je++)if(e.schema[Xe[Je]]!==void 0)return!0}return i},oy=L2,_b=wp,gV=F2,oce=pV,ZI=mV,lce=_b.ucs2length,uce=xh,cce=gV.Validation,fce=lA;function lA(t,e,n,r){var i=this,s=this._opts,a=[void 0],o={},l=[],u={},c=[],f={},d=[];e=e||{schema:t,refVal:a,refs:o};var v=hce.call(this,t,e,r),_=this._compilations[v.index];if(v.compiling)return _.callValidate=R;var S=this._formats,b=this.RULES;try{var y=M(t,e,n,r);_.validate=y;var A=_.callValidate;return A&&(A.schema=y.schema,A.errors=null,A.refs=y.refs,A.refVal=y.refVal,A.root=y.root,A.$async=y.$async,s.sourceCode&&(A.source=y.source)),y}finally{dce.call(this,t,e,r)}function R(){var se=_.validate,re=se.apply(this,arguments);return R.errors=se.errors,re}function M(se,re,ye,Pe){var Ae=!re||re&&re.schema==se;if(re.schema!=e.schema)return lA.call(i,se,re,ye,Pe);var Ie=se.$async===!0,Me=ZI({isTop:!0,schema:se,isRoot:Ae,baseId:Pe,root:re,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:gV.MissingRef,RULES:b,validate:ZI,util:_b,resolve:oy,resolveRef:$,usePattern:C,useDefault:U,useCustomRule:G,opts:s,formats:S,logger:i.logger,self:i});Me=ly(a,gce)+ly(l,pce)+ly(c,mce)+ly(d,vce)+Me,s.processCode&&(Me=s.processCode(Me,se));var ae;try{var H=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Me);ae=H(i,b,S,e,a,c,d,uce,lce,cce),a[0]=ae}catch(X){throw i.logger.error("Error compiling schema, function code:",Me),X}return ae.schema=se,ae.errors=null,ae.refs=o,ae.refVal=a,ae.root=Ae?ae:re,Ie&&(ae.$async=!0),s.sourceCode===!0&&(ae.source={code:Me,patterns:l,defaults:c}),ae}function $(se,re,ye){re=oy.url(se,re);var Pe=o[re],Ae,Ie;if(Pe!==void 0)return Ae=a[Pe],Ie="refVal["+Pe+"]",D(Ae,Ie);if(!ye&&e.refs){var Me=e.refs[re];if(Me!==void 0)return Ae=e.refVal[Me],Ie=p(re,Ae),D(Ae,Ie)}Ie=p(re);var ae=oy.call(i,M,e,re);if(ae===void 0){var H=n&&n[re];H&&(ae=oy.inlineRef(H,s.inlineRefs)?H:lA.call(i,H,e,n,se))}if(ae===void 0)x(re);else return T(re,ae),D(ae,Ie)}function p(se,re){var ye=a.length;return a[ye]=re,o[se]=ye,"refVal"+ye}function x(se){delete o[se]}function T(se,re){var ye=o[se];a[ye]=re}function D(se,re){return typeof se=="object"||typeof se=="boolean"?{code:re,schema:se,inline:!0}:{code:re,$async:se&&!!se.$async}}function C(se){var re=u[se];return re===void 0&&(re=u[se]=l.length,l[re]=se),"pattern"+re}function U(se){switch(typeof se){case"boolean":case"number":return""+se;case"string":return _b.toQuotedString(se);case"object":if(se===null)return"null";var re=oce(se),ye=f[re];return ye===void 0&&(ye=f[re]=c.length,c[ye]=se),"default"+ye}}function G(se,re,ye,Pe){if(i._opts.validateSchema!==!1){var Ae=se.definition.dependencies;if(Ae&&!Ae.every(function(J){return Object.prototype.hasOwnProperty.call(ye,J)}))throw new Error("parent schema must have all required keywords: "+Ae.join(","));var Ie=se.definition.validateSchema;if(Ie){var Me=Ie(re);if(!Me){var ae="keyword schema is invalid: "+i.errorsText(Ie.errors);if(i._opts.validateSchema=="log")i.logger.error(ae);else throw new Error(ae)}}}var H=se.definition.compile,X=se.definition.inline,V=se.definition.macro,k;if(H)k=H.call(i,re,ye,Pe);else if(V)k=V.call(i,re,ye,Pe),s.validateSchema!==!1&&i.validateSchema(k,!0);else if(X)k=X.call(i,Pe,se.keyword,re,ye);else if(k=se.definition.validate,!k)return;if(k===void 0)throw new Error('custom keyword "'+se.keyword+'"failed to compile');var I=d.length;return d[I]=k,{code:"customRule"+I,validate:k}}}function hce(t,e,n){var r=vV.call(this,t,e,n);return r>=0?{index:r,compiling:!0}:(r=this._compilations.length,this._compilations[r]={schema:t,root:e,baseId:n},{index:r,compiling:!1})}function dce(t,e,n){var r=vV.call(this,t,e,n);r>=0&&this._compilations.splice(r,1)}function vV(t,e,n){for(var r=0;r<this._compilations.length;r++){var i=this._compilations[r];if(i.schema==t&&i.root==e&&i.baseId==n)return r}return-1}function pce(t,e){return"var pattern"+t+" = new RegExp("+_b.toQuotedString(e[t])+");"}function mce(t){return"var default"+t+" = defaults["+t+"];"}function gce(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function vce(t){return"var customRule"+t+" = customRules["+t+"];"}function ly(t,e){if(!t.length)return"";for(var n="",r=0;r<t.length;r++)n+=e(r,t);return n}var yV={exports:{}},q1=yV.exports=function(){this._cache={}};q1.prototype.put=function(e,n){this._cache[e]=n};q1.prototype.get=function(e){return this._cache[e]};q1.prototype.del=function(e){delete this._cache[e]};q1.prototype.clear=function(){this._cache={}};var yce=yV.exports,_ce=wp,bce=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,wce=[0,31,28,31,30,31,30,31,31,30,31,30,31],Sce=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,_V=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,xce=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ece=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,bV=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,wV=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,SV=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,xV=/^(?:\/(?:[^~/]|~0|~1)*)*$/,EV=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,$V=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,$ce=H1;function H1(t){return t=t=="full"?"full":"fast",_ce.copy(H1[t])}H1.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":bV,url:wV,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:_V,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:TV,uuid:SV,"json-pointer":xV,"json-pointer-uri-fragment":EV,"relative-json-pointer":$V};H1.full={date:AV,time:PV,"date-time":Tce,uri:kce,"uri-reference":Ece,"uri-template":bV,url:wV,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:_V,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:TV,uuid:SV,"json-pointer":xV,"json-pointer-uri-fragment":EV,"relative-json-pointer":$V};function Ace(t){return t%4===0&&(t%100!==0||t%400===0)}function AV(t){var e=t.match(bce);if(!e)return!1;var n=+e[1],r=+e[2],i=+e[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&Ace(n)?29:wce[r])}function PV(t,e){var n=t.match(Sce);if(!n)return!1;var r=n[1],i=n[2],s=n[3],a=n[5];return(r<=23&&i<=59&&s<=59||r==23&&i==59&&s==60)&&(!e||a)}var Pce=/t|\s/i;function Tce(t){var e=t.split(Pce);return e.length==2&&AV(e[0])&&PV(e[1],!0)}var Cce=/\/|:/;function kce(t){return Cce.test(t)&&xce.test(t)}var Oce=/[^\\]\\Z/;function TV(t){if(Oce.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}var Rce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.errSchemaPath+"/"+n,u=!e.opts.allErrors,c="data"+(a||""),f="valid"+s,d,v;if(o=="#"||o=="#/")e.isRoot?(d=e.async,v="validate"):(d=e.root.schema.$async===!0,v="root.refVal[0]");else{var _=e.resolveRef(e.baseId,o,e.isRoot);if(_===void 0){var S=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(S);var b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(i+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(i+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var y=i;i=b.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(S),u&&(i+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,S)}else if(_.inline){var A=e.util.copy(e);A.level++;var R="valid"+A.level;A.schema=_.schema,A.schemaPath="",A.errSchemaPath=o;var M=e.validate(A).replace(/validate\.schema/g,_.code);i+=" "+M+" ",u&&(i+=" if ("+R+") { ")}else d=_.$async===!0||e.async&&_.$async!==!1,v=_.code}if(v){var b=b||[];b.push(i),i="",e.opts.passContext?i+=" "+v+".call(this, ":i+=" "+v+"( ",i+=" "+c+", (dataPath || '')",e.errorPath!='""'&&(i+=" + "+e.errorPath);var $=a?"data"+(a-1||""):"parentData",p=a?e.dataPathArr[a]:"parentDataProperty";i+=" , "+$+" , "+p+", rootData)  ";var x=i;if(i=b.pop(),d){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(i+=" var "+f+"; "),i+=" try { await "+x+"; ",u&&(i+=" "+f+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(i+=" "+f+" = false; "),i+=" } ",u&&(i+=" if ("+f+") { ")}else i+=" if (!"+x+") { if (vErrors === null) vErrors = "+v+".errors; else vErrors = vErrors.concat("+v+".errors); errors = vErrors.length; } ",u&&(i+=" else { ")}return i},Mce=function(e,n,r){var i=" ",s=e.schema[n],a=e.schemaPath+e.util.getProperty(n),o=e.errSchemaPath+"/"+n,l=!e.opts.allErrors,u=e.util.copy(e),c="";u.level++;var f="valid"+u.level,d=u.baseId,v=!0,_=s;if(_)for(var S,b=-1,y=_.length-1;b<y;)S=_[b+=1],(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all))&&(v=!1,u.schema=S,u.schemaPath=a+"["+b+"]",u.errSchemaPath=o+"/"+b,i+="  "+e.validate(u)+" ",u.baseId=d,l&&(i+=" if ("+f+") { ",c+="}"));return l&&(v?i+=" if (true) { ":i+=" "+c.slice(0,-1)+" "),i},Nce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v="errs__"+s,_=e.util.copy(e),S="";_.level++;var b="valid"+_.level,y=o.every(function(T){return e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all)});if(y){var A=_.baseId;i+=" var "+v+" = errors; var "+d+" = false;  ";var R=e.compositeRule;e.compositeRule=_.compositeRule=!0;var M=o;if(M)for(var $,p=-1,x=M.length-1;p<x;)$=M[p+=1],_.schema=$,_.schemaPath=l+"["+p+"]",_.errSchemaPath=u+"/"+p,i+="  "+e.validate(_)+" ",_.baseId=A,i+=" "+d+" = "+d+" || "+b+"; if (!"+d+") { ",S+="}";e.compositeRule=_.compositeRule=R,i+=" "+S+" if (!"+d+") {   var err =   ",e.createErrors!==!1?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else c&&(i+=" if (true) { ");return i},Ice=function(e,n,r){var i=" ",s=e.schema[n],a=e.errSchemaPath+"/"+n;e.opts.allErrors;var o=e.util.toQuotedString(s);return e.opts.$comment===!0?i+=" console.log("+o+");":typeof e.opts.$comment=="function"&&(i+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),i},Dce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v=e.opts.$data&&o&&o.$data;v&&(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),v||(i+=" var schema"+s+" = validate.schema"+l+";"),i+="var "+d+" = equal("+f+", schema"+s+"); if (!"+d+") {   ";var _=_||[];_.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValue: schema"+s+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var S=i;return i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i},Lce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v="errs__"+s,_=e.util.copy(e),S="";_.level++;var b="valid"+_.level,y="i"+s,A=_.dataLevel=e.dataLevel+1,R="data"+A,M=e.baseId,$=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(i+="var "+v+" = errors;var "+d+";",$){var p=e.compositeRule;e.compositeRule=_.compositeRule=!0,_.schema=o,_.schemaPath=l,_.errSchemaPath=u,i+=" var "+b+" = false; for (var "+y+" = 0; "+y+" < "+f+".length; "+y+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var x=f+"["+y+"]";_.dataPathArr[A]=y;var T=e.validate(_);_.baseId=M,e.util.varOccurences(T,R)<2?i+=" "+e.util.varReplace(T,R,x)+" ":i+=" var "+R+" = "+x+"; "+T+" ",i+=" if ("+b+") break; }  ",e.compositeRule=_.compositeRule=p,i+=" "+S+" if (!"+b+") {"}else i+=" if ("+f+".length == 0) {";var D=D||[];D.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should contain a valid item' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var C=i;return i=D.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+C+"]); ":i+=" validate.errors = ["+C+"]; return false; ":i+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",$&&(i+="  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } "),e.opts.allErrors&&(i+=" } "),i},Fce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="errs__"+s,v=e.util.copy(e),_="";v.level++;var S="valid"+v.level,b={},y={},A=e.opts.ownProperties;for(p in o)if(p!="__proto__"){var R=o[p],M=Array.isArray(R)?y:b;M[p]=R}i+="var "+d+" = errors;";var $=e.errorPath;i+="var missing"+s+";";for(var p in y)if(M=y[p],M.length){if(i+=" if ( "+f+e.util.getProperty(p)+" !== undefined ",A&&(i+=" && Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(p)+"') "),c){i+=" && ( ";var x=M;if(x)for(var T,D=-1,C=x.length-1;D<C;){T=x[D+=1],D&&(i+=" || ");var U=e.util.getProperty(T),G=f+U;i+=" ( ( "+G+" === undefined ",A&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(T)+"') "),i+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?T:U)+") ) "}i+=")) {  ";var se="missing"+s,re="' + "+se+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr($,se,!0):$+" + "+se);var ye=ye||[];ye.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(p)+"', missingProperty: '"+re+"', depsCount: "+M.length+", deps: '"+e.util.escapeQuotes(M.length==1?M[0]:M.join(", "))+"' } ",e.opts.messages!==!1&&(i+=" , message: 'should have ",M.length==1?i+="property "+e.util.escapeQuotes(M[0]):i+="properties "+e.util.escapeQuotes(M.join(", ")),i+=" when property "+e.util.escapeQuotes(p)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var Pe=i;i=ye.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+Pe+"]); ":i+=" validate.errors = ["+Pe+"]; return false; ":i+=" var err = "+Pe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{i+=" ) { ";var Ae=M;if(Ae)for(var T,Ie=-1,Me=Ae.length-1;Ie<Me;){T=Ae[Ie+=1];var U=e.util.getProperty(T),re=e.util.escapeQuotes(T),G=f+U;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,T,e.opts.jsonPointers)),i+=" if ( "+G+" === undefined ",A&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(T)+"') "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { property: '"+e.util.escapeQuotes(p)+"', missingProperty: '"+re+"', depsCount: "+M.length+", deps: '"+e.util.escapeQuotes(M.length==1?M[0]:M.join(", "))+"' } ",e.opts.messages!==!1&&(i+=" , message: 'should have ",M.length==1?i+="property "+e.util.escapeQuotes(M[0]):i+="properties "+e.util.escapeQuotes(M.join(", ")),i+=" when property "+e.util.escapeQuotes(p)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}i+=" }   ",c&&(_+="}",i+=" else { ")}e.errorPath=$;var ae=v.baseId;for(var p in b){var R=b[p];(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))&&(i+=" "+S+" = true; if ( "+f+e.util.getProperty(p)+" !== undefined ",A&&(i+=" && Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(p)+"') "),i+=") { ",v.schema=R,v.schemaPath=l+e.util.getProperty(p),v.errSchemaPath=u+"/"+e.util.escapeFragment(p),i+="  "+e.validate(v)+" ",v.baseId=ae,i+=" }  ",c&&(i+=" if ("+S+") { ",_+="}"))}return c&&(i+="   "+_+" if ("+d+" == errors) {"),i},jce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v=e.opts.$data&&o&&o.$data;v&&(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var _="i"+s,S="schema"+s;v||(i+=" var "+S+" = validate.schema"+l+";"),i+="var "+d+";",v&&(i+=" if (schema"+s+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+s+")) "+d+" = false; else {"),i+=""+d+" = false;for (var "+_+"=0; "+_+"<"+S+".length; "+_+"++) if (equal("+f+", "+S+"["+_+"])) { "+d+" = true; break; }",v&&(i+="  }  "),i+=" if (!"+d+") {   ";var b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { allowedValues: schema"+s+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i},Bce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||"");if(e.opts.format===!1)return c&&(i+=" if (true) { "),i;var d=e.opts.$data&&o&&o.$data,v;d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o;var _=e.opts.unknownFormats,S=Array.isArray(_);if(d){var b="format"+s,y="isObject"+s,A="formatType"+s;i+=" var "+b+" = formats["+v+"]; var "+y+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+A+" = "+y+" && "+b+".type || 'string'; if ("+y+") { ",e.async&&(i+=" var async"+s+" = "+b+".async; "),i+=" "+b+" = "+b+".validate; } if (  ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'string') || "),i+=" (",_!="ignore"&&(i+=" ("+v+" && !"+b+" ",S&&(i+=" && self._opts.unknownFormats.indexOf("+v+") == -1 "),i+=") || "),i+=" ("+b+" && "+A+" == '"+r+"' && !(typeof "+b+" == 'function' ? ",e.async?i+=" (async"+s+" ? await "+b+"("+f+") : "+b+"("+f+")) ":i+=" "+b+"("+f+") ",i+=" : "+b+".test("+f+"))))) {"}else{var b=e.formats[o];if(!b){if(_=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(i+=" if (true) { "),i;if(S&&_.indexOf(o)>=0)return c&&(i+=" if (true) { "),i;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var y=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,A=y&&b.type||"string";if(y){var R=b.async===!0;b=b.validate}if(A!=r)return c&&(i+=" if (true) { "),i;if(R){if(!e.async)throw new Error("async format in sync schema");var M="formats"+e.util.getProperty(o)+".validate";i+=" if (!(await "+M+"("+f+"))) { "}else{i+=" if (! ";var M="formats"+e.util.getProperty(o);y&&(M+=".validate"),typeof b=="function"?i+=" "+M+"("+f+") ":i+=" "+M+".test("+f+") ",i+=") { "}}var $=$||[];$.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { format:  ",d?i+=""+v:i+=""+e.util.toQuotedString(o),i+="  } ",e.opts.messages!==!1&&(i+=` , message: 'should match format "`,d?i+="' + "+v+" + '":i+=""+e.util.escapeQuotes(o),i+=`"' `),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+e.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var p=i;return i=$.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i},Vce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v="errs__"+s,_=e.util.copy(e);_.level++;var S="valid"+_.level,b=e.schema.then,y=e.schema.else,A=b!==void 0&&(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all)),R=y!==void 0&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all)),M=_.baseId;if(A||R){var $;_.createErrors=!1,_.schema=o,_.schemaPath=l,_.errSchemaPath=u,i+=" var "+v+" = errors; var "+d+" = true;  ";var p=e.compositeRule;e.compositeRule=_.compositeRule=!0,i+="  "+e.validate(_)+" ",_.baseId=M,_.createErrors=!0,i+="  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; }  ",e.compositeRule=_.compositeRule=p,A?(i+=" if ("+S+") {  ",_.schema=e.schema.then,_.schemaPath=e.schemaPath+".then",_.errSchemaPath=e.errSchemaPath+"/then",i+="  "+e.validate(_)+" ",_.baseId=M,i+=" "+d+" = "+S+"; ",A&&R?($="ifClause"+s,i+=" var "+$+" = 'then'; "):$="'then'",i+=" } ",R&&(i+=" else { ")):i+=" if (!"+S+") { ",R&&(_.schema=e.schema.else,_.schemaPath=e.schemaPath+".else",_.errSchemaPath=e.errSchemaPath+"/else",i+="  "+e.validate(_)+" ",_.baseId=M,i+=" "+d+" = "+S+"; ",A&&R?($="ifClause"+s,i+=" var "+$+" = 'else'; "):$="'else'",i+=" } "),i+=" if (!"+d+") {   var err =   ",e.createErrors!==!1?(i+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { failingKeyword: "+$+" } ",e.opts.messages!==!1&&(i+=` , message: 'should match "' + `+$+` + '" schema' `),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" }   ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i},zce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v="errs__"+s,_=e.util.copy(e),S="";_.level++;var b="valid"+_.level,y="i"+s,A=_.dataLevel=e.dataLevel+1,R="data"+A,M=e.baseId;if(i+="var "+v+" = errors;var "+d+";",Array.isArray(o)){var $=e.schema.additionalItems;if($===!1){i+=" "+d+" = "+f+".length <= "+o.length+"; ";var p=u;u=e.errSchemaPath+"/additionalItems",i+="  if (!"+d+") {   ";var x=x||[];x.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var T=i;i=x.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u=p,c&&(S+="}",i+=" else { ")}var D=o;if(D){for(var C,U=-1,G=D.length-1;U<G;)if(C=D[U+=1],e.opts.strictKeywords?typeof C=="object"&&Object.keys(C).length>0||C===!1:e.util.schemaHasRules(C,e.RULES.all)){i+=" "+b+" = true; if ("+f+".length > "+U+") { ";var se=f+"["+U+"]";_.schema=C,_.schemaPath=l+"["+U+"]",_.errSchemaPath=u+"/"+U,_.errorPath=e.util.getPathExpr(e.errorPath,U,e.opts.jsonPointers,!0),_.dataPathArr[A]=U;var re=e.validate(_);_.baseId=M,e.util.varOccurences(re,R)<2?i+=" "+e.util.varReplace(re,R,se)+" ":i+=" var "+R+" = "+se+"; "+re+" ",i+=" }  ",c&&(i+=" if ("+b+") { ",S+="}")}}if(typeof $=="object"&&(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all))){_.schema=$,_.schemaPath=e.schemaPath+".additionalItems",_.errSchemaPath=e.errSchemaPath+"/additionalItems",i+=" "+b+" = true; if ("+f+".length > "+o.length+") {  for (var "+y+" = "+o.length+"; "+y+" < "+f+".length; "+y+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var se=f+"["+y+"]";_.dataPathArr[A]=y;var re=e.validate(_);_.baseId=M,e.util.varOccurences(re,R)<2?i+=" "+e.util.varReplace(re,R,se)+" ":i+=" var "+R+" = "+se+"; "+re+" ",c&&(i+=" if (!"+b+") break; "),i+=" } }  ",c&&(i+=" if ("+b+") { ",S+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){_.schema=o,_.schemaPath=l,_.errSchemaPath=u,i+="  for (var "+y+" = 0; "+y+" < "+f+".length; "+y+"++) { ",_.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var se=f+"["+y+"]";_.dataPathArr[A]=y;var re=e.validate(_);_.baseId=M,e.util.varOccurences(re,R)<2?i+=" "+e.util.varReplace(re,R,se)+" ":i+=" var "+R+" = "+se+"; "+re+" ",c&&(i+=" if (!"+b+") break; "),i+=" }"}return c&&(i+=" "+S+" if ("+v+" == errors) {"),i},eD=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,M,f="data"+(a||""),d=e.opts.$data&&o&&o.$data,v;d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o;var _=n=="maximum",S=_?"exclusiveMaximum":"exclusiveMinimum",b=e.schema[S],y=e.opts.$data&&b&&b.$data,A=_?"<":">",R=_?">":"<",M=void 0;if(!(d||typeof o=="number"||o===void 0))throw new Error(n+" must be number");if(!(y||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(S+" must be number or boolean");if(y){var $=e.util.getData(b.$data,a,e.dataPathArr),p="exclusive"+s,x="exclType"+s,T="exclIsNumber"+s,D="op"+s,C="' + "+D+" + '";i+=" var schemaExcl"+s+" = "+$+"; ",$="schemaExcl"+s,i+=" var "+p+"; var "+x+" = typeof "+$+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var M=S,U=U||[];U.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(M||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: '"+S+" should be boolean' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var G=i;i=U.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+G+"]); ":i+=" validate.errors = ["+G+"]; return false; ":i+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),i+=" "+x+" == 'number' ? ( ("+p+" = "+v+" === undefined || "+$+" "+A+"= "+v+") ? "+f+" "+R+"= "+$+" : "+f+" "+R+" "+v+" ) : ( ("+p+" = "+$+" === true) ? "+f+" "+R+"= "+v+" : "+f+" "+R+" "+v+" ) || "+f+" !== "+f+") { var op"+s+" = "+p+" ? '"+A+"' : '"+A+"='; ",o===void 0&&(M=S,u=e.errSchemaPath+"/"+S,v=$,d=y)}else{var T=typeof b=="number",C=A;if(T&&d){var D="'"+C+"'";i+=" if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),i+=" ( "+v+" === undefined || "+b+" "+A+"= "+v+" ? "+f+" "+R+"= "+b+" : "+f+" "+R+" "+v+" ) || "+f+" !== "+f+") { "}else{T&&o===void 0?(p=!0,M=S,u=e.errSchemaPath+"/"+S,v=b,R+="="):(T&&(v=Math[_?"min":"max"](b,o)),b===(T?v:!0)?(p=!0,M=S,u=e.errSchemaPath+"/"+S,R+="="):(p=!1,C+="="));var D="'"+C+"'";i+=" if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),i+=" "+f+" "+R+" "+v+" || "+f+" !== "+f+") { "}}M=M||n;var U=U||[];U.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(M||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+D+", limit: "+v+", exclusive: "+p+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be "+C+" ",d?i+="' + "+v:i+=""+v+"'"),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var G=i;return i=U.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+G+"]); ":i+=" validate.errors = ["+G+"]; return false; ":i+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i},tD=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,S,f="data"+(a||""),d=e.opts.$data&&o&&o.$data,v;if(d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o,!(d||typeof o=="number"))throw new Error(n+" must be number");var _=n=="maxItems"?">":"<";i+="if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),i+=" "+f+".length "+_+" "+v+") { ";var S=n,b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(S||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have ",n=="maxItems"?i+="more":i+="fewer",i+=" than ",d?i+="' + "+v+" + '":i+=""+o,i+=" items' "),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i},nD=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,S,f="data"+(a||""),d=e.opts.$data&&o&&o.$data,v;if(d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o,!(d||typeof o=="number"))throw new Error(n+" must be number");var _=n=="maxLength"?">":"<";i+="if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),e.opts.unicode===!1?i+=" "+f+".length ":i+=" ucs2length("+f+") ",i+=" "+_+" "+v+") { ";var S=n,b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(S||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT be ",n=="maxLength"?i+="longer":i+="shorter",i+=" than ",d?i+="' + "+v+" + '":i+=""+o,i+=" characters' "),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i},rD=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,S,f="data"+(a||""),d=e.opts.$data&&o&&o.$data,v;if(d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o,!(d||typeof o=="number"))throw new Error(n+" must be number");var _=n=="maxProperties"?">":"<";i+="if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'number') || "),i+=" Object.keys("+f+").length "+_+" "+v+") { ";var S=n,b=b||[];b.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(S||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+v+" } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have ",n=="maxProperties"?i+="more":i+="fewer",i+=" than ",d?i+="' + "+v+" + '":i+=""+o,i+=" properties' "),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var y=i;return i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+y+"]); ":i+=" validate.errors = ["+y+"]; return false; ":i+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i},Uce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&o&&o.$data,v;if(d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o,!(d||typeof o=="number"))throw new Error(n+" must be number");i+="var division"+s+";if (",d&&(i+=" "+v+" !== undefined && ( typeof "+v+" != 'number' || "),i+=" (division"+s+" = "+f+" / "+v+", ",e.opts.multipleOfPrecision?i+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":i+=" division"+s+" !== parseInt(division"+s+") ",i+=" ) ",d&&(i+="  )  "),i+=" ) {   ";var _=_||[];_.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+v+" } ",e.opts.messages!==!1&&(i+=" , message: 'should be multiple of ",d?i+="' + "+v:i+=""+v+"'"),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var S=i;return i=_.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i},qce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="errs__"+s,v=e.util.copy(e);v.level++;var _="valid"+v.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){v.schema=o,v.schemaPath=l,v.errSchemaPath=u,i+=" var "+d+" = errors;  ";var S=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.createErrors=!1;var b;v.opts.allErrors&&(b=v.opts.allErrors,v.opts.allErrors=!1),i+=" "+e.validate(v)+" ",v.createErrors=!0,b&&(v.opts.allErrors=b),e.compositeRule=v.compositeRule=S,i+=" if ("+_+") {   ";var y=y||[];y.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var A=i;i=y.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+A+"]); ":i+=" validate.errors = ["+A+"]; return false; ":i+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else i+="  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",e.opts.messages!==!1&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(i+=" if (false) { ");return i},Hce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v="errs__"+s,_=e.util.copy(e),S="";_.level++;var b="valid"+_.level,y=_.baseId,A="prevValid"+s,R="passingSchemas"+s;i+="var "+v+" = errors , "+A+" = false , "+d+" = false , "+R+" = null; ";var M=e.compositeRule;e.compositeRule=_.compositeRule=!0;var $=o;if($)for(var p,x=-1,T=$.length-1;x<T;)p=$[x+=1],(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all))?(_.schema=p,_.schemaPath=l+"["+x+"]",_.errSchemaPath=u+"/"+x,i+="  "+e.validate(_)+" ",_.baseId=y):i+=" var "+b+" = true; ",x&&(i+=" if ("+b+" && "+A+") { "+d+" = false; "+R+" = ["+R+", "+x+"]; } else { ",S+="}"),i+=" if ("+b+") { "+d+" = "+A+" = true; "+R+" = "+x+"; }";return e.compositeRule=_.compositeRule=M,i+=""+S+"if (!"+d+") {   var err =   ",e.createErrors!==!1?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { passingSchemas: "+R+" } ",e.opts.messages!==!1&&(i+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; }",e.opts.allErrors&&(i+=" } "),i},Wce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d=e.opts.$data&&o&&o.$data,v;d?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",v="schema"+s):v=o;var _=d?"(new RegExp("+v+"))":e.usePattern(o);i+="if ( ",d&&(i+=" ("+v+" !== undefined && typeof "+v+" != 'string') || "),i+=" !"+_+".test("+f+") ) {   ";var S=S||[];S.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",d?i+=""+v:i+=""+e.util.toQuotedString(o),i+="  } ",e.opts.messages!==!1&&(i+=` , message: 'should match pattern "`,d?i+="' + "+v+" + '":i+=""+e.util.escapeQuotes(o),i+=`"' `),e.opts.verbose&&(i+=" , schema:  ",d?i+="validate.schema"+l:i+=""+e.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var b=i;return i=S.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+b+"]); ":i+=" validate.errors = ["+b+"]; return false; ":i+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+="} ",c&&(i+=" else { "),i},Gce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="errs__"+s,v=e.util.copy(e),_="";v.level++;var S="valid"+v.level,b="key"+s,y="idx"+s,A=v.dataLevel=e.dataLevel+1,R="data"+A,M="dataProperties"+s,$=Object.keys(o||{}).filter(Ie),p=e.schema.patternProperties||{},x=Object.keys(p).filter(Ie),T=e.schema.additionalProperties,D=$.length||x.length,C=T===!1,U=typeof T=="object"&&Object.keys(T).length,G=e.opts.removeAdditional,se=C||U||G,re=e.opts.ownProperties,ye=e.baseId,Pe=e.schema.required;if(Pe&&!(e.opts.$data&&Pe.$data)&&Pe.length<e.opts.loopRequired)var Ae=e.util.toHash(Pe);function Ie(xt){return xt!=="__proto__"}if(i+="var "+d+" = errors;var "+S+" = true;",re&&(i+=" var "+M+" = undefined;"),se){if(re?i+=" "+M+" = "+M+" || Object.keys("+f+"); for (var "+y+"=0; "+y+"<"+M+".length; "+y+"++) { var "+b+" = "+M+"["+y+"]; ":i+=" for (var "+b+" in "+f+") { ",D){if(i+=" var isAdditional"+s+" = !(false ",$.length)if($.length>8)i+=" || validate.schema"+l+".hasOwnProperty("+b+") ";else{var Me=$;if(Me)for(var ae,H=-1,X=Me.length-1;H<X;)ae=Me[H+=1],i+=" || "+b+" == "+e.util.toQuotedString(ae)+" "}if(x.length){var V=x;if(V)for(var k,I=-1,J=V.length-1;I<J;)k=V[I+=1],i+=" || "+e.usePattern(k)+".test("+b+") "}i+=" ); if (isAdditional"+s+") { "}if(G=="all")i+=" delete "+f+"["+b+"]; ";else{var ue=e.errorPath,_e="' + "+b+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers)),C)if(G)i+=" delete "+f+"["+b+"]; ";else{i+=" "+S+" = false; ";var ke=u;u=e.errSchemaPath+"/additionalProperties";var Ve=Ve||[];Ve.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { additionalProperty: '"+_e+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is an invalid additional property":i+="should NOT have additional properties",i+="' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var We=i;i=Ve.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+We+"]); ":i+=" validate.errors = ["+We+"]; return false; ":i+=" var err = "+We+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=ke,c&&(i+=" break; ")}else if(U)if(G=="failing"){i+=" var "+d+" = errors;  ";var Y=e.compositeRule;e.compositeRule=v.compositeRule=!0,v.schema=T,v.schemaPath=e.schemaPath+".additionalProperties",v.errSchemaPath=e.errSchemaPath+"/additionalProperties",v.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var Q=f+"["+b+"]";v.dataPathArr[A]=b;var N=e.validate(v);v.baseId=ye,e.util.varOccurences(N,R)<2?i+=" "+e.util.varReplace(N,R,Q)+" ":i+=" var "+R+" = "+Q+"; "+N+" ",i+=" if (!"+S+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+b+"]; }  ",e.compositeRule=v.compositeRule=Y}else{v.schema=T,v.schemaPath=e.schemaPath+".additionalProperties",v.errSchemaPath=e.errSchemaPath+"/additionalProperties",v.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var Q=f+"["+b+"]";v.dataPathArr[A]=b;var N=e.validate(v);v.baseId=ye,e.util.varOccurences(N,R)<2?i+=" "+e.util.varReplace(N,R,Q)+" ":i+=" var "+R+" = "+Q+"; "+N+" ",c&&(i+=" if (!"+S+") break; ")}e.errorPath=ue}D&&(i+=" } "),i+=" }  ",c&&(i+=" if ("+S+") { ",_+="}")}var F=e.opts.useDefaults&&!e.compositeRule;if($.length){var q=$;if(q)for(var ae,ie=-1,ge=q.length-1;ie<ge;){ae=q[ie+=1];var ve=o[ae];if(e.opts.strictKeywords?typeof ve=="object"&&Object.keys(ve).length>0||ve===!1:e.util.schemaHasRules(ve,e.RULES.all)){var Te=e.util.getProperty(ae),Q=f+Te,Ne=F&&ve.default!==void 0;v.schema=ve,v.schemaPath=l+Te,v.errSchemaPath=u+"/"+e.util.escapeFragment(ae),v.errorPath=e.util.getPath(e.errorPath,ae,e.opts.jsonPointers),v.dataPathArr[A]=e.util.toQuotedString(ae);var N=e.validate(v);if(v.baseId=ye,e.util.varOccurences(N,R)<2){N=e.util.varReplace(N,R,Q);var Be=Q}else{var Be=R;i+=" var "+R+" = "+Q+"; "}if(Ne)i+=" "+N+" ";else{if(Ae&&Ae[ae]){i+=" if ( "+Be+" === undefined ",re&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(ae)+"') "),i+=") { "+S+" = false; ";var ue=e.errorPath,ke=u,Xe=e.util.escapeQuotes(ae);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(ue,ae,e.opts.jsonPointers)),u=e.errSchemaPath+"/required";var Ve=Ve||[];Ve.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+Xe+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+Xe+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var We=i;i=Ve.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+We+"]); ":i+=" validate.errors = ["+We+"]; return false; ":i+=" var err = "+We+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u=ke,e.errorPath=ue,i+=" } else { "}else c?(i+=" if ( "+Be+" === undefined ",re&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(ae)+"') "),i+=") { "+S+" = true; } else { "):(i+=" if ("+Be+" !== undefined ",re&&(i+=" &&   Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(ae)+"') "),i+=" ) { ");i+=" "+N+" } "}}c&&(i+=" if ("+S+") { ",_+="}")}}if(x.length){var Je=x;if(Je)for(var k,Ze=-1,ut=Je.length-1;Ze<ut;){k=Je[Ze+=1];var ve=p[k];if(e.opts.strictKeywords?typeof ve=="object"&&Object.keys(ve).length>0||ve===!1:e.util.schemaHasRules(ve,e.RULES.all)){v.schema=ve,v.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(k),v.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(k),re?i+=" "+M+" = "+M+" || Object.keys("+f+"); for (var "+y+"=0; "+y+"<"+M+".length; "+y+"++) { var "+b+" = "+M+"["+y+"]; ":i+=" for (var "+b+" in "+f+") { ",i+=" if ("+e.usePattern(k)+".test("+b+")) { ",v.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers);var Q=f+"["+b+"]";v.dataPathArr[A]=b;var N=e.validate(v);v.baseId=ye,e.util.varOccurences(N,R)<2?i+=" "+e.util.varReplace(N,R,Q)+" ":i+=" var "+R+" = "+Q+"; "+N+" ",c&&(i+=" if (!"+S+") break; "),i+=" } ",c&&(i+=" else "+S+" = true; "),i+=" }  ",c&&(i+=" if ("+S+") { ",_+="}")}}}return c&&(i+=" "+_+" if ("+d+" == errors) {"),i},Kce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="errs__"+s,v=e.util.copy(e),_="";v.level++;var S="valid"+v.level;if(i+="var "+d+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){v.schema=o,v.schemaPath=l,v.errSchemaPath=u;var b="key"+s,y="idx"+s,A="i"+s,R="' + "+b+" + '",M=v.dataLevel=e.dataLevel+1,$="data"+M,p="dataProperties"+s,x=e.opts.ownProperties,T=e.baseId;x&&(i+=" var "+p+" = undefined; "),x?i+=" "+p+" = "+p+" || Object.keys("+f+"); for (var "+y+"=0; "+y+"<"+p+".length; "+y+"++) { var "+b+" = "+p+"["+y+"]; ":i+=" for (var "+b+" in "+f+") { ",i+=" var startErrs"+s+" = errors; ";var D=b,C=e.compositeRule;e.compositeRule=v.compositeRule=!0;var U=e.validate(v);v.baseId=T,e.util.varOccurences(U,$)<2?i+=" "+e.util.varReplace(U,$,D)+" ":i+=" var "+$+" = "+D+"; "+U+" ",e.compositeRule=v.compositeRule=C,i+=" if (!"+S+") { for (var "+A+"=startErrs"+s+"; "+A+"<errors; "+A+"++) { vErrors["+A+"].propertyName = "+b+"; }   var err =   ",e.createErrors!==!1?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { propertyName: '"+R+"' } ",e.opts.messages!==!1&&(i+=" , message: 'property name \\'"+R+"\\' is invalid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),c&&(i+=" break; "),i+=" } }"}return c&&(i+=" "+_+" if ("+d+" == errors) {"),i},Yce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v=e.opts.$data&&o&&o.$data;v&&(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var _="schema"+s;if(!v)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var S=[],b=o;if(b)for(var y,A=-1,R=b.length-1;A<R;){y=b[A+=1];var M=e.schema.properties[y];M&&(e.opts.strictKeywords?typeof M=="object"&&Object.keys(M).length>0||M===!1:e.util.schemaHasRules(M,e.RULES.all))||(S[S.length]=y)}}else var S=o;if(v||S.length){var $=e.errorPath,p=v||S.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(c)if(i+=" var missing"+s+"; ",p){v||(i+=" var "+_+" = validate.schema"+l+"; ");var T="i"+s,D="schema"+s+"["+T+"]",C="' + "+D+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr($,D,e.opts.jsonPointers)),i+=" var "+d+" = true; ",v&&(i+=" if (schema"+s+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+s+")) "+d+" = false; else {"),i+=" for (var "+T+" = 0; "+T+" < "+_+".length; "+T+"++) { "+d+" = "+f+"["+_+"["+T+"]] !== undefined ",x&&(i+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+_+"["+T+"]) "),i+="; if (!"+d+") break; } ",v&&(i+="  }  "),i+="  if (!"+d+") {   ";var U=U||[];U.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+C+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var G=i;i=U.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+G+"]); ":i+=" validate.errors = ["+G+"]; return false; ":i+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var se=S;if(se)for(var re,T=-1,ye=se.length-1;T<ye;){re=se[T+=1],T&&(i+=" || ");var Pe=e.util.getProperty(re),Ae=f+Pe;i+=" ( ( "+Ae+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(re)+"') "),i+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?re:Pe)+") ) "}i+=") {  ";var D="missing"+s,C="' + "+D+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr($,D,!0):$+" + "+D);var U=U||[];U.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+C+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var G=i;i=U.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+G+"]); ":i+=" validate.errors = ["+G+"]; return false; ":i+=" var err = "+G+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(p){v||(i+=" var "+_+" = validate.schema"+l+"; ");var T="i"+s,D="schema"+s+"["+T+"]",C="' + "+D+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr($,D,e.opts.jsonPointers)),v&&(i+=" if ("+_+" && !Array.isArray("+_+")) {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+C+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+_+" !== undefined) { "),i+=" for (var "+T+" = 0; "+T+" < "+_+".length; "+T+"++) { if ("+f+"["+_+"["+T+"]] === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+_+"["+T+"]) "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+C+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",v&&(i+="  }  ")}else{var Ie=S;if(Ie)for(var re,Me=-1,ae=Ie.length-1;Me<ae;){re=Ie[Me+=1];var Pe=e.util.getProperty(re),C=e.util.escapeQuotes(re),Ae=f+Pe;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,re,e.opts.jsonPointers)),i+=" if ( "+Ae+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+e.util.escapeQuotes(re)+"') "),i+=") {  var err =   ",e.createErrors!==!1?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { missingProperty: '"+C+"' } ",e.opts.messages!==!1&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+C+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=$}else c&&(i+=" if (true) {");return i},Jce=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f="data"+(a||""),d="valid"+s,v=e.opts.$data&&o&&o.$data,_;if(v?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",_="schema"+s):_=o,(o||v)&&e.opts.uniqueItems!==!1){v&&(i+=" var "+d+"; if ("+_+" === false || "+_+" === undefined) "+d+" = true; else if (typeof "+_+" != 'boolean') "+d+" = false; else { "),i+=" var i = "+f+".length , "+d+" = true , j; if (i > 1) { ";var S=e.schema.items&&e.schema.items.type,b=Array.isArray(S);if(!S||S=="object"||S=="array"||b&&(S.indexOf("object")>=0||S.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+f+"[i], "+f+"[j])) { "+d+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+f+"[i]; ";var y="checkDataType"+(b?"s":"");i+=" if ("+e.util[y](S,"item",e.opts.strictNumbers,!0)+") continue; ",b&&(i+=` if (typeof item == 'string') item = '"' + item; `),i+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",v&&(i+="  }  "),i+=" if (!"+d+") {   ";var A=A||[];A.push(i),i="",e.createErrors!==!1?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",v?i+="validate.schema"+l:i+=""+o,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var R=i;i=A.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+R+"]); ":i+=" validate.errors = ["+R+"]; return false; ":i+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { ")}else c&&(i+=" if (true) { ");return i},Xce={$ref:Rce,allOf:Mce,anyOf:Nce,$comment:Ice,const:Dce,contains:Lce,dependencies:Fce,enum:jce,format:Bce,if:Vce,items:zce,maximum:eD,minimum:eD,maxItems:tD,minItems:tD,maxLength:nD,minLength:nD,maxProperties:rD,minProperties:rD,multipleOf:Uce,not:qce,oneOf:Hce,pattern:Wce,properties:Gce,propertyNames:Kce,required:Yce,uniqueItems:Jce,validate:mV},iD=Xce,Lx=wp.toHash,Qce=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],r=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],i=["number","integer","string","array","object","boolean","null"];return e.all=Lx(n),e.types=Lx(i),e.forEach(function(s){s.rules=s.rules.map(function(a){var o;if(typeof a=="object"){var l=Object.keys(a)[0];o=a[l],a=l,o.forEach(function(c){n.push(c),e.all[c]=!0})}n.push(a);var u=e.all[a]={keyword:a,code:iD[a],implements:o};return u}),e.all.$comment={keyword:"$comment",code:iD.$comment},s.type&&(e.types[s.type]=s)}),e.keywords=Lx(n.concat(r)),e.custom={},e},sD=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],Zce=function(t,e){for(var n=0;n<e.length;n++){t=JSON.parse(JSON.stringify(t));var r=e[n].split("/"),i=t,s;for(s=1;s<r.length;s++)i=i[r[s]];for(s=0;s<sD.length;s++){var a=sD[s],o=i[a];o&&(i[a]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t},efe=F2.MissingRef,tfe=CV;function CV(t,e,n){var r=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(n=e,e=void 0);var i=s(t).then(function(){var o=r._addSchema(t,void 0,e);return o.validate||a(o)});return n&&i.then(function(o){n(null,o)},n),i;function s(o){var l=o.$schema;return l&&!r.getSchema(l)?CV.call(r,{$ref:l},!0):Promise.resolve()}function a(o){try{return r._compile(o)}catch(u){if(u instanceof efe)return l(u);throw u}function l(u){var c=u.missingSchema;if(v(c))throw new Error("Schema "+c+" is loaded but "+u.missingRef+" cannot be resolved");var f=r._loadingSchemas[c];return f||(f=r._loadingSchemas[c]=r._opts.loadSchema(c),f.then(d,d)),f.then(function(_){if(!v(c))return s(_).then(function(){v(c)||r.addSchema(_,c,void 0,e)})}).then(function(){return a(o)});function d(){delete r._loadingSchemas[c]}function v(_){return r._refs[_]||r._schemas[_]}}}}var nfe=function(e,n,r){var i=" ",s=e.level,a=e.dataLevel,o=e.schema[n],l=e.schemaPath+e.util.getProperty(n),u=e.errSchemaPath+"/"+n,c=!e.opts.allErrors,f,d="data"+(a||""),v="valid"+s,_="errs__"+s,S=e.opts.$data&&o&&o.$data,b;S?(i+=" var schema"+s+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",b="schema"+s):b=o;var y=this,A="definition"+s,R=y.definition,M="",$,p,x,T,D;if(S&&R.$data){D="keywordValidate"+s;var C=R.validateSchema;i+=" var "+A+" = RULES.custom['"+n+"'].definition; var "+D+" = "+A+".validate;"}else{if(T=e.useCustomRule(y,o,e.schema,e),!T)return;b="validate.schema"+l,D=T.code,$=R.compile,p=R.inline,x=R.macro}var U=D+".errors",G="i"+s,se="ruleErr"+s,re=R.async;if(re&&!e.async)throw new Error("async keyword in sync schema");if(p||x||(i+=""+U+" = null;"),i+="var "+_+" = errors;var "+v+";",S&&R.$data&&(M+="}",i+=" if ("+b+" === undefined) { "+v+" = true; } else { ",C&&(M+="}",i+=" "+v+" = "+A+".validateSchema("+b+"); if ("+v+") { ")),p)R.statements?i+=" "+T.validate+" ":i+=" "+v+" = "+T.validate+"; ";else if(x){var ye=e.util.copy(e),M="";ye.level++;var Pe="valid"+ye.level;ye.schema=T.validate,ye.schemaPath="";var Ae=e.compositeRule;e.compositeRule=ye.compositeRule=!0;var Ie=e.validate(ye).replace(/validate\.schema/g,D);e.compositeRule=ye.compositeRule=Ae,i+=" "+Ie}else{var Me=Me||[];Me.push(i),i="",i+="  "+D+".call( ",e.opts.passContext?i+="this":i+="self",$||R.schema===!1?i+=" , "+d+" ":i+=" , "+b+" , "+d+" , validate.schema"+e.schemaPath+" ",i+=" , (dataPath || '')",e.errorPath!='""'&&(i+=" + "+e.errorPath);var ae=a?"data"+(a-1||""):"parentData",H=a?e.dataPathArr[a]:"parentDataProperty";i+=" , "+ae+" , "+H+" , rootData )  ";var X=i;i=Me.pop(),R.errors===!1?(i+=" "+v+" = ",re&&(i+="await "),i+=""+X+"; "):re?(U="customErrors"+s,i+=" var "+U+" = null; try { "+v+" = await "+X+"; } catch (e) { "+v+" = false; if (e instanceof ValidationError) "+U+" = e.errors; else throw e; } "):i+=" "+U+" = null; "+v+" = "+X+"; "}if(R.modifying&&(i+=" if ("+ae+") "+d+" = "+ae+"["+H+"];"),i+=""+M,R.valid)c&&(i+=" if (true) { ");else{i+=" if ( ",R.valid===void 0?(i+=" !",x?i+=""+Pe:i+=""+v):i+=" "+!R.valid+" ",i+=") { ",f=y.keyword;var Me=Me||[];Me.push(i),i="";var Me=Me||[];Me.push(i),i="",e.createErrors!==!1?(i+=" { keyword: '"+(f||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+y.keyword+"' } ",e.opts.messages!==!1&&(i+=` , message: 'should pass "`+y.keyword+`" keyword validation' `),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var V=i;i=Me.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+V+"]); ":i+=" validate.errors = ["+V+"]; return false; ":i+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var k=i;i=Me.pop(),p?R.errors?R.errors!="full"&&(i+="  for (var "+G+"="+_+"; "+G+"<errors; "+G+"++) { var "+se+" = vErrors["+G+"]; if ("+se+".dataPath === undefined) "+se+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+se+".schemaPath === undefined) { "+se+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(i+=" "+se+".schema = "+b+"; "+se+".data = "+d+"; "),i+=" } "):R.errors===!1?i+=" "+k+" ":(i+=" if ("+_+" == errors) { "+k+" } else {  for (var "+G+"="+_+"; "+G+"<errors; "+G+"++) { var "+se+" = vErrors["+G+"]; if ("+se+".dataPath === undefined) "+se+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+se+".schemaPath === undefined) { "+se+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(i+=" "+se+".schema = "+b+"; "+se+".data = "+d+"; "),i+=" } } "):x?(i+="   var err =   ",e.createErrors!==!1?(i+=" { keyword: '"+(f||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+y.keyword+"' } ",e.opts.messages!==!1&&(i+=` , message: 'should pass "`+y.keyword+`" keyword validation' `),e.opts.verbose&&(i+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; ")):R.errors===!1?i+=" "+k+" ":(i+=" if (Array.isArray("+U+")) { if (vErrors === null) vErrors = "+U+"; else vErrors = vErrors.concat("+U+"); errors = vErrors.length;  for (var "+G+"="+_+"; "+G+"<errors; "+G+"++) { var "+se+" = vErrors["+G+"]; if ("+se+".dataPath === undefined) "+se+".dataPath = (dataPath || '') + "+e.errorPath+";  "+se+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(i+=" "+se+".schema = "+b+"; "+se+".data = "+d+"; "),i+=" } } else { "+k+" } "),i+=" } ",c&&(i+=" else { ")}return i};const rfe="http://json-schema.org/draft-07/schema#",ife="http://json-schema.org/draft-07/schema#",sfe="Core schema meta-schema",afe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ofe=["object","boolean"],lfe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},kV={$schema:rfe,$id:ife,title:sfe,definitions:afe,type:ofe,properties:lfe,default:!0};var aD=kV,ufe={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:aD.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:aD.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},cfe=/^[a-z_$][a-z0-9_$-]*$/i,ffe=nfe,hfe=ufe,dfe={add:pfe,get:mfe,remove:gfe,validate:uA};function pfe(t,e){var n=this.RULES;if(n.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!cfe.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var r=e.type;if(Array.isArray(r))for(var i=0;i<r.length;i++)a(t,r[i],e);else a(t,r,e);var s=e.metaSchema;s&&(e.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(s,!0))}n.keywords[t]=n.all[t]=!0;function a(o,l,u){for(var c,f=0;f<n.length;f++){var d=n[f];if(d.type==l){c=d;break}}c||(c={type:l,rules:[]},n.push(c));var v={keyword:o,definition:u,custom:!0,code:ffe,implements:u.implements};c.rules.push(v),n.custom[o]=v}return this}function mfe(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function gfe(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var n=0;n<e.length;n++)for(var r=e[n].rules,i=0;i<r.length;i++)if(r[i].keyword==t){r.splice(i,1);break}return this}function uA(t,e){uA.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(hfe,!0);if(n(t))return!0;if(uA.errors=n.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return!1}const vfe="http://json-schema.org/draft-07/schema#",yfe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",_fe="Meta-schema for $data reference (JSON Schema extension proposal)",bfe="object",wfe=["$data"],Sfe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xfe=!1,Efe={$schema:vfe,$id:yfe,description:_fe,type:bfe,required:wfe,properties:Sfe,additionalProperties:xfe};var OV=fce,ih=L2,$fe=yce,RV=cV,Afe=pV,Pfe=$ce,Tfe=Qce,MV=Zce,NV=wp,Cfe=Ur;Ur.prototype.validate=Ofe;Ur.prototype.compile=Rfe;Ur.prototype.addSchema=Mfe;Ur.prototype.addMetaSchema=Nfe;Ur.prototype.validateSchema=Ife;Ur.prototype.getSchema=Lfe;Ur.prototype.removeSchema=jfe;Ur.prototype.addFormat=Gfe;Ur.prototype.errorsText=Wfe;Ur.prototype._addSchema=Bfe;Ur.prototype._compile=Vfe;Ur.prototype.compileAsync=tfe;var W1=dfe;Ur.prototype.addKeyword=W1.add;Ur.prototype.getKeyword=W1.get;Ur.prototype.removeKeyword=W1.remove;Ur.prototype.validateKeyword=W1.validate;var IV=F2;Ur.ValidationError=IV.Validation;Ur.MissingRefError=IV.MissingRef;Ur.$dataMetaSchema=MV;var bb="http://json-schema.org/draft-07/schema",oD=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],kfe=["/properties"];function Ur(t){if(!(this instanceof Ur))return new Ur(t);t=this._opts=NV.copy(t)||{},Zfe(this),this._schemas={},this._refs={},this._fragments={},this._formats=Pfe(t.format),this._cache=t.cache||new $fe,this._loadingSchemas={},this._compilations=[],this.RULES=Tfe(),this._getId=zfe(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=Afe),this._metaOpts=Qfe(this),t.formats&&Jfe(this),t.keywords&&Xfe(this),Kfe(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),Yfe(this)}function Ofe(t,e){var n;if(typeof t=="string"){if(n=this.getSchema(t),!n)throw new Error('no schema with key or ref "'+t+'"')}else{var r=this._addSchema(t);n=r.validate||this._compile(r)}var i=n(e);return n.$async!==!0&&(this.errors=n.errors),i}function Rfe(t,e){var n=this._addSchema(t,void 0,e);return n.validate||this._compile(n)}function Mfe(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;i++)this.addSchema(t[i],void 0,n,r);return this}var s=this._getId(t);if(s!==void 0&&typeof s!="string")throw new Error("schema id must be string");return e=ih.normalizeId(e||s),LV(this,e),this._schemas[e]=this._addSchema(t,n,r,!0),this}function Nfe(t,e,n){return this.addSchema(t,e,n,!0),this}function Ife(t,e){var n=t.$schema;if(n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this._opts.defaultMeta||Dfe(this),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var r=this.validate(n,t);if(!r&&e){var i="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(i);else throw new Error(i)}return r}function Dfe(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(bb)?bb:void 0,t._opts.defaultMeta}function Lfe(t){var e=DV(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return Ffe(this,t)}}function Ffe(t,e){var n=ih.schema.call(t,{schema:{}},e);if(n){var r=n.schema,i=n.root,s=n.baseId,a=OV.call(t,r,i,void 0,s);return t._fragments[e]=new RV({ref:e,fragment:!0,schema:r,root:i,baseId:s,validate:a}),a}}function DV(t,e){return e=ih.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function jfe(t){if(t instanceof RegExp)return uy(this,this._schemas,t),uy(this,this._refs,t),this;switch(typeof t){case"undefined":return uy(this,this._schemas),uy(this,this._refs),this._cache.clear(),this;case"string":var e=DV(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var n=this._opts.serialize,r=n?n(t):t;this._cache.del(r);var i=this._getId(t);i&&(i=ih.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this}function uy(t,e,n){for(var r in e){var i=e[r];!i.meta&&(!n||n.test(r))&&(t._cache.del(i.cacheKey),delete e[r])}}function Bfe(t,e,n,r){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var i=this._opts.serialize,s=i?i(t):t,a=this._cache.get(s);if(a)return a;r=r||this._opts.addUsedSchema!==!1;var o=ih.normalizeId(this._getId(t));o&&r&&LV(this,o);var l=this._opts.validateSchema!==!1&&!e,u;l&&!(u=o&&o==ih.normalizeId(t.$schema))&&this.validateSchema(t,!0);var c=ih.ids.call(this,t),f=new RV({id:o,schema:t,localRefs:c,cacheKey:s,meta:n});return o[0]!="#"&&r&&(this._refs[o]=f),this._cache.put(s,f),l&&u&&this.validateSchema(t,!0),f}function Vfe(t,e){if(t.compiling)return t.validate=i,i.schema=t.schema,i.errors=null,i.root=e||i,t.schema.$async===!0&&(i.$async=!0),i;t.compiling=!0;var n;t.meta&&(n=this._opts,this._opts=this._metaOpts);var r;try{r=OV.call(this,t.schema,e,t.localRefs)}catch(s){throw delete t.validate,s}finally{t.compiling=!1,t.meta&&(this._opts=n)}return t.validate=r,t.refs=r.refs,t.refVal=r.refVal,t.root=r.root,r;function i(){var s=t.validate,a=s.apply(this,arguments);return i.errors=s.errors,a}}function zfe(t){switch(t.schemaId){case"auto":return Hfe;case"id":return Ufe;default:return qfe}}function Ufe(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function qfe(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function Hfe(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function Wfe(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var n=e.separator===void 0?", ":e.separator,r=e.dataVar===void 0?"data":e.dataVar,i="",s=0;s<t.length;s++){var a=t[s];a&&(i+=r+a.dataPath+" "+a.message+n)}return i.slice(0,-n.length)}function Gfe(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function Kfe(t){var e;if(t._opts.$data&&(e=Efe,t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var n=kV;t._opts.$data&&(n=MV(n,kfe)),t.addMetaSchema(n,bb,!0),t._refs["http://json-schema.org/schema"]=bb}}function Yfe(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var n in e)t.addSchema(e[n],n)}function Jfe(t){for(var e in t._opts.formats){var n=t._opts.formats[e];t.addFormat(e,n)}}function Xfe(t){for(var e in t._opts.keywords){var n=t._opts.keywords[e];t.addKeyword(e,n)}}function LV(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Qfe(t){for(var e=NV.copy(t._opts),n=0;n<oD.length;n++)delete e[oD[n]];return e}function Zfe(t){var e=t._opts.logger;if(e===!1)t.logger={log:Fx,warn:Fx,error:Fx};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Fx(){}const ehe=Tr(Cfe),the=new ehe;function wb(t,e){try{const n=the.compile(e),r=n(t);return r||(console.log("document not valid"),console.log(n.errors)),{isValid:r,errors:n.errors}}catch(n){return{isValid:!1,errors:{message:n.message}}}}class FV{constructor(e,n,r){ii(this,"id");ii(this,"type");ii(this,"transition");ii(this,"place");ii(this,"label");this.id=r,this.type="postset",this.transition=e,this.place=n,this.label="{}"}createDocument(){const e=this.transition.state;let n=mb(e);n+=this.label;const r=pb(n),i=JSON.parse(r.data);if(r.success){if(wb(i,this.place.content.schema).isValid)return i;console.log("Created document is not valid to schema.");return}else{console.log("Jsonnet expression produced errors."),console.log("Jsonnet string is:"),console.log(n);return}}occur(){const e=this.createDocument();this.place.content.data.push(e)}}const jV="EVENT_ADD_PLACE",BV="EVENT_ADD_TRANSITION",VV="EVENT_CHANGE_PLACE_CONTENT",zV="EVENT_CHANGE_TRANSITION_CONTENT",UV="EVENT_CONNECT",qV="EVENT_OCCUR_REMOVE_TOKEN",HV="EVENT_OCCUR_ADD_TOKEN",WV="EVENT_DISCONNECT",GV="EVENT_REMOVE_PLACE",KV="EVENT_REMOVE_TRANSITION",YV="EVENT_NET_IMPORTED";let po=[],mo=[],Lu=[],cA=[];function nhe(){for(;po.length>0;)t6(po[0].id);for(;mo.length>0;)XV(mo[0].id)}function lD(t,e){nhe();let n,r=!1;t==="example"?(r=!0,n=JSON.parse(JSON.stringify(e))):n=JSON.parse(t);for(let i=0;i<n.places.length;i++){let s=n.places[i];JV(s.id),QV(s.id,s.content,s.name)}for(let i=0;i<n.transitions.length;i++){let s=n.transitions[i];e6(s.id),ZV(s.id,s.content,s.name)}for(let i=0;i<n.arcs.length;i++){let s=n.arcs[i];n6(s.fromId,s.toId,s.id),B2(s.id,s.label)}el(YV,{isExample:r})}function rhe(){const t=[],e=[],n=[];for(let s=0;s<mo.length;s++){let a=mo[s];t.push({id:a.id,name:a.name,content:a.content})}for(let s=0;s<po.length;s++){let a=po[s];e.push({id:a.id,name:a.name,content:a.content})}for(let s=0;s<Lu.length;s++){let a=Lu[s],o,l;a.type==="preset"?(o=a.place.id,l=a.transition.id):a.type==="postset"&&(o=a.transition.id,l=a.place.id),n.push({id:a.id,label:a.label,fromId:o,toId:l})}return JSON.stringify({places:t,transitions:e,arcs:n})}function ihe(t){return mo.find(e=>e.id===t)}function JV(t=C2()){const e="place"+mo.length,n=new r_(t,e);return mo.push(n),el(jV,{id:n.id,name:e}),n}function XV(t){mo=mo.filter(n=>n.id!==t),el(GV,t),Lu.filter(n=>n.place.id===t).forEach(n=>{Sb(n.id)})}function QV(t,e,n){const r=mo.find(l=>l.id===t),i=e.schema,s=e.data;let a=!0;const o=[];s.forEach(l=>{const{isValid:u,errors:c}=wb(l,i);u||(o.push(c),a=!1)}),i6(n,t)||(a=!1),o.length>0&&""+JSON.stringify(o),a&&r&&(r.content=e,r.name=n,el(VV,{placeID:t,num:r.content.data.length,name:n}))}function ZV(t,e,n){const r=G1(t);r&&(r.content=e,r.name=n,el(zV,{transitionID:t,name:n}))}function G1(t){return po.find(e=>e.id===t)}function e6(t=C2()){const e=new i_(t,"transition");return po.push(e),el(BV,{id:e.id,name:e.name}),e}function t6(t){let e=G1(t);const n=po.filter(r=>r.id===t?(e=r,!1):!0);e&&(e.preset.forEach(r=>{Sb(r.id)}),e.postset.forEach(r=>{Sb(r.id)}),po=n,el(KV,t))}function n6(t,e,n=C2()){const r=[...mo,...po],i=r.find(o=>o.id===t),s=r.find(o=>o.id===e);let a;if(i instanceof r_?s instanceof r_?console.log("Can't connect Place with Place."):s instanceof i_?(a=new k2(i,s,n),Lu.push(a),s.preset.push(a)):console.log("Can only connect Places and Transitions."):i instanceof i_&&(s instanceof i_?console.log("Can't connect Transition with Transition."):s instanceof r_?(a=new FV(i,s,n),Lu.push(a),i.postset.push(a)):console.log("Can only connect Places and Transitions.")),a&&i&&s)return el(UV,{from:i.id,to:s.id,arcID:n,jsonnetsType:a.type}),a}function Sb(t){Lu=Lu.filter(e=>e.id===t?(po.forEach(n=>{n.preset=n.preset.filter(r=>r.id!==t),n.postset=n.postset.filter(r=>r.id!==t)}),el(WV,t),!1):!0)}function cy(t){return Lu.find(e=>e.id===t)}function B2(t,e){const n=Lu.find(r=>r.id===t);n instanceof FV?n.label=String(e):n instanceof k2&&(n.label=e)}function she(){for(let t=0;t<po.length;t++){let e=po[t];if(e.isEnabled()){r6(e.id);break}}}function r6(t){const e=G1(t);e&&(e.isEnabled()?(e.occur(),e.preset.forEach(n=>el(qV,{arcID:n.id,placeID:n.place.id,num:n.place.content.data.length})),e.postset.forEach(n=>el(HV,{arcID:n.id,placeID:n.place.id,num:n.place.content.data.length}))):alert("The transition is not enabled."))}function ahe(t){cA.push(t)}function el(t,e){for(let n=0;n<cA.length;n++)cA[0](t,e)}function i6(t,e){return!(mo.filter(r=>r.name===t&&r.id!==e).length>0)}function xb(t,e){for(var n in t)e.apply(this,[n,t[n]]),t[n]!==null&&typeof t[n]=="object"&&xb(t[n],e)}function uD(t,e){if(e.properties){let n=[],r=Object.keys(e.properties);for(let i=0;i<r.length;i++){let s=e.properties[r[i]];s.name=r[i],n.push(s)}e.properties=n}}function ohe(t,e){e.items&&(e.items.properties&&(e.properties=e.items.properties),e.items=e.items.type)}function lhe(t){const e=JSON.parse(t);return xb(e,ohe),uD("",e),xb(e,uD),e}function cD(t,e){if(e.properties&&e.type!=="array"){let n={};for(let r=0;r<e.properties.length;r++)e.properties[r].name&&(n[e.properties[r].name]=e.properties[r],delete n[e.properties[r].name].name);e.properties=n,e.type="object"}e.type==="array"&&e.items&&(e.items==="object"&&e.properties?(e.items={type:e.items,properties:e.properties},delete e.properties):e.items={type:e.items})}function uhe(t){const e=JSON.parse(t);return xb(e,cD),cD("",e),e}const sl=Qle("uiState",{state:()=>({mode:TH,showInspector:!1,lastSelectedID:"",inspectorContent:"",itemName:"",nameError:"",validationError:"",showPresetModal:!1,arcMode:"",inputTokens:"",inspectorMode:"",jsonPathQuery:"",queryResult:"",jsonPathHelpExpanded:!1,showTransitionModal:!1,inputTokensArray:[],tempAssignment:{},selectedForAssignment:{},transitionInscriptionValid:!1,inscriptionEvaluationResult:"",showPostsetModal:!1,outboundEvaluation:!1,outboundEvaluationResult:"",outboundSchemaEvaluation:!1,outboundSchemaEvaluationResult:"",showPlaceModal:!1,formsData:{},formsDataString:"",generatedSchemaString:"",placeTokens:[],tokenString:"",placeTokenValidation:!1,placeTokenValidationResult:"",selectedIndex:-1,showHelpModal:!1}),actions:{setMode(t){this.mode=t},setShowInspector(t){this.showInspector=t},setShowPresetModal(t){this.showPresetModal=t},setShowTransitionModal(t){this.showTransitionModal=t},updateInspector(t,e){if(this.inspectorMode=t,this.lastSelectedID=e,t===RH){const n=cy(this.lastSelectedID);if(!n||!(n instanceof k2))return;const r=n.place;this.jsonPathQuery=n.label.filter,this.inputTokens=JSON.stringify(r.content.data,null,2),this.queryResult=JSON.stringify(tA(JSON.parse(this.inputTokens),this.jsonPathQuery),null,2),this.showPresetModal=!0,this.arcMode=n.label.type}else if(t===MH){this.showPostsetModal=!0;const n=cy(this.lastSelectedID);if(!n)return;const r=[],i=n.transition;for(let s=0;s<i.preset.length;s++){const a=i.preset[s].place.name,o=i.preset[s].applyFilter();r.push({name:a,documents:o})}this.inputTokensArray=r,this.tempAssignment={},this.selectedForAssignment={},this.inscriptionEvaluationResult="false",this.setInspectorContent(String(n.label))}else if(t===kH){this.showTransitionModal=!0;const n=G1(this.lastSelectedID);if(!n)return;const r=[];for(let i=0;i<n.preset.length;i++){const s=n.preset[i].place.name,a=n.preset[i].applyFilter();r.push({name:s,documents:a})}this.inputTokensArray=r,this.tempAssignment={},this.selectedForAssignment={},this.inscriptionEvaluationResult="false",this.setInspectorContent(String(n.content)),this.setItemName(n.name)}else if(t===OH){const n=ihe(this.lastSelectedID);if(!n)return;this.showPlaceModal=!0,this.setItemName(n.name),this.formsData=lhe(JSON.stringify(n.content.schema)),this.formsDataString=JSON.stringify(this.formsData,null,2),this.placeTokens=n.content.data,this.tokenString="",this.selectedIndex=-1,this.updateJsonSchema(),this.validateTokens()}else this.showInspector=!0},updateJsonSchema(){this.generatedSchemaString=JSON.stringify(uhe(this.formsDataString),null,2),this.validateTokens()},selectToken(t){this.selectedIndex=t,this.tokenString=JSON.stringify(this.placeTokens[t],null,2)},addToken(){let t=J9.mock(JSON.parse(this.generatedSchemaString));this.placeTokens.push(t),this.validateTokens()},deleteToken(t){this.placeTokens.splice(t,1),this.selectedIndex=-1,this.tokenString=""},validateTokens(){const t=[];let e=!0;if(this.placeTokens.forEach((n,r)=>{const{isValid:i,errors:s}=wb(n,JSON.parse(this.generatedSchemaString));i||(t.push(s),e=!1)}),e)this.placeTokenValidation=!0,this.placeTokenValidationResult="All tokens valid to schema.";else{this.placeTokenValidation=!1,this.placeTokenValidationResult="<ul>";for(let n=0;n<t.length;n++){let r=t[n][0];this.placeTokenValidationResult+="<li>",this.placeTokenValidationResult+="Token "+r.errorIndex+": "+r.dataPath+" "+r.message,this.placeTokenValidationResult+="</li>"}this.placeTokenValidationResult+="</ul>"}},updateCurrentToken(){try{let t=JSON.parse(this.tokenString);t&&(this.placeTokens[this.selectedIndex]=t,this.validateTokens())}catch{}},addDocumentToTempAssignment(t,e,n){this.tempAssignment[t]=e,this.selectedForAssignment[t]=n,this.updateTransitionEvaluation(),this.showPostsetModal&&(this.updateOutboundEvaluation(),this.updateOutboundSchemaEvaluation())},updateOutboundEvaluation(){if(!this.transitionInscriptionValid){this.outboundEvaluation=!1,this.outboundEvaluationResult="Evaluation failed.";return}let t=!1,e="",n=mb(kn(this.tempAssignment));n+=this.inspectorContent;const r=pb(n);r.success?(t=!0,e=r.data):(t=!1,e="Evaluation failed."),this.outboundEvaluation=t,this.outboundEvaluationResult=e},updateOutboundSchemaEvaluation(){const t=cy(this.lastSelectedID);if(!t)return;const e=t.place;if(this.outboundEvaluation){const n=wb(JSON.parse(this.outboundEvaluationResult),e.content.schema);n.isValid?(this.outboundSchemaEvaluation=!0,this.outboundSchemaEvaluationResult="Token is valid."):(this.outboundSchemaEvaluation=!1,this.outboundSchemaEvaluationResult="Not valid: "+n.errors[0].message)}else this.outboundSchemaEvaluation=!1,this.outboundSchemaEvaluationResult="Evaluation failed."},updateTransitionEvaluation(){let t=!1,e=mb(kn(this.tempAssignment));if(this.showTransitionModal)e+=this.inspectorContent;else if(this.showPostsetModal){const r=cy(this.lastSelectedID);if(!r)return;e+=r.transition.content}const n=pb(e);n.success?JSON.parse(n.data)!==!0?t=!1:t=!0:t=!1,this.inscriptionEvaluationResult=String(t),this.transitionInscriptionValid=t},setJsonPathQuery(t){this.jsonPathQuery=t},setQueryResult(t){this.queryResult=t},updateQueryResult(){try{this.queryResult=JSON.stringify(tA(JSON.parse(this.inputTokens),this.jsonPathQuery),null,2)}catch{console.log("jsonpath query failed")}},setInspectorContent(t){this.inspectorContent=hue.js_beautify(t)},setItemName(t){this.itemName=t},setNameError(t){this.nameError=t},setValidationError(t){this.validationError=t}}});let che=class fA{constructor(e,n,r,i,s,a,o,l,u,c=0,f){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=a,this.buffer=o,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new fA(e,[],n,r,r,0,[],0,i?new fD(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let o=this.stack.length-(r-1)*3-(e&262144?6:0),l=o?this.stack[o-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=o?this.stack[o-1]:0,f=this.bufferBase+this.buffer.length-c;if(i<s.minRepeatTerm||e&131072){let d=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,d,f+4,!0)}if(e&262144)this.state=this.stack[o];else{let d=this.stack[o-3];this.state=s.getGoto(d,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,o=this.buffer.length;if(o==0&&a.parent&&(o=a.bufferBase-a.parent.bufferBase,a=a.parent),o>0&&a.buffer[o-4]==0&&a.buffer[o-1]>-1){if(n==r)return;if(a.buffer[o-2]>=n){a.buffer[o-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4);this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,n,r){let i=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=r,this.shiftContext(n,i),n<=this.p.parser.maxNode&&this.buffer.push(n,i,r,4);else{let s=e,{parser:a}=this.p;(r>this.pos||n<=a.maxNode)&&(this.pos=r,a.stateFlag(s,1)||(this.reducePos=r)),this.pushState(s,i),this.shiftContext(n,i),n<=a.maxNode&&this.buffer.push(n,i,r,4)}}apply(e,n,r){e&65536?this.reduce(e):this.shift(e,n,r)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new fA(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new fhe(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,a;s<n.length;s+=2)(a=n[s+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(n[s],a);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let a=n[s+1];i.some((o,l)=>l&1&&o==a)||i.push(n[s],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let a=this.split();a.pushState(s,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.score-=200,r.push(a)}return r}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if(!(e&65536))return!1;let{parser:n}=this.p;if(!n.validAction(this.state,e)){let r=e>>19,i=e&65535,s=this.stack.length-r*3;if(s<0||n.getGoto(this.stack[s],i,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new fD(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class fD{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}var hD;(function(t){t[t.Insert=200]="Insert",t[t.Delete=190]="Delete",t[t.Reduce=100]="Reduce",t[t.MaxNext=4]="MaxNext",t[t.MaxInsertStackDepth=300]="MaxInsertStackDepth",t[t.DampenInsertStackDepth=120]="DampenInsertStackDepth",t[t.MinBigReduction=2e3]="MinBigReduction"})(hD||(hD={}));class fhe{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Eb{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Eb(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Eb(this.stack,this.pos,this.index)}}function fy(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let a=t.charCodeAt(r++),o=!1;if(a==126){s=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,o=!0),s+=l,o)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class a_{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const dD=new a_;class hhe{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=dD,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let a=this.ranges[--i];s-=r.from-a.to,r=a}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];s+=a.from-r.to,r=a}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=dD,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Dd{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;dhe(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Dd.prototype.contextual=Dd.prototype.fallback=Dd.prototype.extend=!1;Dd.prototype.fallback=Dd.prototype.extend=!1;function dhe(t,e,n,r,i,s){let a=0,o=1<<r,{dialect:l}=n.p.parser;e:for(;o&t[a];){let u=t[a+1];for(let v=a+3;v<u;v+=2)if((t[v+1]&o)>0){let _=t[v];if(l.allows(_)&&(e.token.value==-1||e.token.value==_||phe(_,e.token.value,i,s))){e.acceptToken(_);break}}let c=e.next,f=0,d=t[a+2];if(e.next<0&&d>f&&t[u+d*3-3]==65535&&t[u+d*3-3]==65535){a=t[u+d*3-1];continue e}for(;f<d;){let v=f+d>>1,_=u+v+(v<<1),S=t[_],b=t[_+1]||65536;if(c<S)d=v;else if(c>=b)f=v+1;else{a=t[_+2],e.advance();continue e}}break}}function pD(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function phe(t,e,n,r){let i=pD(n,r,e);return i<0||pD(n,r,t)<i}const Mo=typeof process<"u"&&process.env&&/\bparse\b/.test({}.LOG);let jx=null;var mD;(function(t){t[t.Margin=25]="Margin"})(mD||(mD={}));function gD(t,e,n){let r=t.cursor(Vi.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class mhe{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?gD(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?gD(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],a=this.start[n]+r.positions[i];if(a>e)return this.nextStart=a,null;if(s instanceof li){if(a==e){if(a<this.safeFrom)return null;let o=a+s.length;if(o<=this.safeTo){let l=s.prop(gn.lookAhead);if(!l||o+l<this.fragment.to)return s}}this.index[n]++,a+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+s.length}}}class ghe{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new a_)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,a=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<s.length;u++){if(!(1<<u&a))continue;let c=s[u],f=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=a||f.context!=o)&&(this.updateCachedToken(f,c,e),f.mask=a,f.context=o),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!c.extend&&(r=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new a_,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new a_,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let a=0;a<s.specialized.length;a++)if(s.specialized[a]==e.value){let o=s.specializers[a](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){o&1?e.extended=o>>1:e.value=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:a}=e.p,{data:o}=a;for(let l=0;l<2;l++)for(let u=a.stateSlot(s,l?2:1);;u+=3){if(o[u]==65535)if(o[u+1]==1)u=gu(o,u+2);else{i==0&&o[u+1]==2&&(i=this.putAction(gu(o,u+2),n,r,i));break}o[u]==n&&(i=this.putAction(gu(o,u+1),n,r,i))}return i}}var vD;(function(t){t[t.Distance=5]="Distance",t[t.MaxRemainingPerStep=3]="MaxRemainingPerStep",t[t.MinBufferLengthPrune=500]="MinBufferLengthPrune",t[t.ForceReduceLimit=10]="ForceReduceLimit",t[t.CutDepth=15e3]="CutDepth",t[t.CutTo=9e3]="CutTo",t[t.MaxLeftAssociativeReductionCount=300]="MaxLeftAssociativeReductionCount",t[t.MaxStackCount=12]="MaxStackCount"})(vD||(vD={}));class vhe{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new hhe(n,i),this.tokens=new ghe(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[che.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new mhe(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let o=e[a];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{i||(i=[],s=[]),i.push(o);let l=this.tokens.getMainToken(o);s.push(l.value,l.end)}}break}}if(!r.length){let a=i&&_he(i);if(a)return this.stackToTree(a);if(this.parser.strict)throw Mo&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(a)return this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((o,l)=>l.score-o.score);r.length>a;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let o=r[a];for(let l=a+1;l<r.length;l++){let u=r[l];if(o.sameState(u)||o.buffer.length>500&&u.buffer.length>500)if((o.score-u.score||o.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,a=Mo?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?s.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!u||(f.prop(gn.contextHash)||0)==c))return e.useNode(f,d),Mo&&console.log(a+this.stackID(e)+` (via reuse of ${s.getName(f.type.id)})`),!0;if(!(f instanceof li)||f.children.length==0||f.positions[0]>0)break;let v=f.children[0];if(v instanceof li&&f.positions[0]==0)f=v;else break}}let o=s.stateSlot(e.state,4);if(o>0)return e.reduce(o),Mo&&console.log(a+this.stackID(e)+` (via always-reduce ${s.getName(o&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],d=l[u++],v=u==l.length||!r,_=v?e:e.split();if(_.apply(c,f,d),Mo&&console.log(a+this.stackID(_)+` (via ${c&65536?`reduce of ${s.getName(c&65535)}`:"shift"} for ${s.getName(f)} @ ${i}${_==e?"":", split"})`),v)return!0;_.pos>i?n.push(_):r.push(_)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return yD(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let a=0;a<e.length;a++){let o=e[a],l=n[a<<1],u=n[(a<<1)+1],c=Mo?this.stackID(o)+" -> ":"";if(o.deadEnd&&(s||(s=!0,o.restart(),Mo&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let f=o.split(),d=c;for(let v=0;f.forceReduce()&&v<10&&(Mo&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));v++)Mo&&(d=this.stackID(f)+" -> ");for(let v of o.recoverByInsert(l))Mo&&console.log(c+this.stackID(v)+" (via recover-insert)"),this.advanceFully(v,r);this.stream.end>o.pos?(u==o.pos&&(u++,l=0),o.recoverByDelete(l,u),Mo&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(l)})`),yD(o,r)):(!i||i.score<o.score)&&(i=o)}return i}stackToTree(e){return e.close(),li.build({buffer:Eb.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(jx||(jx=new WeakMap)).get(e);return n||jx.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function yD(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class yhe{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class $b extends bB{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<n.length;o++)i.push([]);function s(o,l,u){i[o].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let o of e.nodeProps){let l=o[0];typeof l=="string"&&(l=gn[l]);for(let u=1;u<o.length;){let c=o[u++];if(c>=0)s(c,l,o[u++]);else{let f=o[u+-c];for(let d=-c;d>0;d--)s(o[u++],l,f);u++}}}this.nodeSet=new l2(n.map((o,l)=>da.define({name:l>=this.minRepeatTerm?void 0:o,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=vB;let a=fy(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(_D),this.states=fy(e.states,Uint32Array),this.data=fy(e.stateData),this.goto=fy(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new Dd(a,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new vhe(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let a=i[s++],o=a&1,l=i[s++];if(o&&r)return l;for(let u=s+(a>>1);s<u;s++)if(i[s]==e)return l;if(o)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),a;;s+=3){if((a=r[s])==65535)if(r[s+1]==1)a=r[s=gu(r,s+2)];else{if(r[s+1]==2)return gu(r,s+2);break}if(a==n||a==0)return gu(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){if(n==this.stateSlot(e,4))return!0;for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=gu(this.data,r+2);else return!1;if(n==gu(this.data,r+1))return!0}}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=gu(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,a)=>a&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create($b.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(o=>o.from==r.external);if(!s)return r;let a=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=_D(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let a=n.indexOf(s);a>=0&&(r[a]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let a=this.dialects[n[s]],o;(o=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new yhe(e,r,i)}static deserialize(e){return new $b(e)}}function gu(t,e){return t[e]|t[e+1]<<16}function _he(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function _D(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const bhe=wB({String:Ke.string,Number:Ke.number,"True False":Ke.bool,PropertyName:Ke.propertyName,Null:Ke.null,",":Ke.separator,"[ ]":Ke.squareBracket,"{ }":Ke.brace}),whe=$b.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[bhe],skippedNodes:[0],repeatNodeCount:2,tokenData:"(p~RaXY!WYZ!W]^!Wpq!Wrs!]|}$i}!O$n!Q!R$w!R![&V![!]&h!}#O&m#P#Q&r#Y#Z&w#b#c'f#h#i'}#o#p(f#q#r(k~!]Oc~~!`Upq!]qr!]rs!rs#O!]#O#P!w#P~!]~!wOe~~!zXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#g~#jR!Q![#s!c!i#s#T#Z#s~#vR!Q![$P!c!i$P#T#Z$P~$SR!Q![$]!c!i$]#T#Z$]~$`R!Q![!]!c!i!]#T#Z!]~$nOh~~$qQ!Q!R$w!R![&V~$|RT~!O!P%V!g!h%k#X#Y%k~%YP!Q![%]~%bRT~!Q![%]!g!h%k#X#Y%k~%nR{|%w}!O%w!Q![%}~%zP!Q![%}~&SPT~!Q![%}~&[ST~!O!P%V!Q![&V!g!h%k#X#Y%k~&mOg~~&rO]~~&wO[~~&zP#T#U&}~'QP#`#a'T~'WP#g#h'Z~'^P#X#Y'a~'fOR~~'iP#i#j'l~'oP#`#a'r~'uP#`#a'x~'}OS~~(QP#f#g(T~(WP#i#j(Z~(^P#X#Y(a~(fOQ~~(kOW~~(pOV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),She=Z_.define({name:"json",parser:whe.configure({props:[$B.add({Object:GN({except:/^\s*\}/}),Array:GN({except:/^\s*\]/})}),PB.add({"Object Array":use})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function sv(){return new Xie(She)}const xhe="#e5c07b",bD="#e06c75",Ehe="#56b6c2",$he="#ffffff",o_="#abb2bf",hA="#7d8799",Ahe="#61afef",Phe="#98c379",wD="#d19a66",The="#c678dd",Che="#21252b",SD="#2c313a",xD="#282c34",Bx="#353a42",khe="#3E4451",ED="#528bff",Ohe=St.theme({"&":{color:o_,backgroundColor:xD},".cm-content":{caretColor:ED},".cm-cursor, .cm-dropCursor":{borderLeftColor:ED},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:khe},".cm-panels":{backgroundColor:Che,color:o_},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:xD,color:hA,border:"none"},".cm-activeLineGutter":{backgroundColor:SD},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Bx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Bx,borderBottomColor:Bx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:SD,color:o_}}},{dark:!0}),Rhe=nv.define([{tag:Ke.keyword,color:The},{tag:[Ke.name,Ke.deleted,Ke.character,Ke.propertyName,Ke.macroName],color:bD},{tag:[Ke.function(Ke.variableName),Ke.labelName],color:Ahe},{tag:[Ke.color,Ke.constant(Ke.name),Ke.standard(Ke.name)],color:wD},{tag:[Ke.definition(Ke.name),Ke.separator],color:o_},{tag:[Ke.typeName,Ke.className,Ke.number,Ke.changed,Ke.annotation,Ke.modifier,Ke.self,Ke.namespace],color:xhe},{tag:[Ke.operator,Ke.operatorKeyword,Ke.url,Ke.escape,Ke.regexp,Ke.link,Ke.special(Ke.string)],color:Ehe},{tag:[Ke.meta,Ke.comment],color:hA},{tag:Ke.strong,fontWeight:"bold"},{tag:Ke.emphasis,fontStyle:"italic"},{tag:Ke.strikethrough,textDecoration:"line-through"},{tag:Ke.link,color:hA,textDecoration:"underline"},{tag:Ke.heading,fontWeight:"bold",color:bD},{tag:[Ke.atom,Ke.bool,Ke.special(Ke.variableName)],color:wD},{tag:[Ke.processingInstruction,Ke.string,Ke.inserted],color:Phe},{tag:Ke.invalid,color:$he}]),sp=[Ohe,IB(Rhe)],Mhe=In({components:{Codemirror:bp},props:{content:String,language:{type:String,default:"json"},class:String},setup(){return{jsonExtensions:[sv(),sp],jsonnetExtensions:[sp]}}}),Ia=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n};function Nhe(t,e,n,r,i,s){const a=tn("Codemirror");return ot(),Mt(fr,null,[t.language==="jsonnet"?(ot(),sr(a,{key:0,modelValue:t.content,"onUpdate:modelValue":e[0]||(e[0]=o=>t.content=o),disabled:!0,autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.jsonnetExtensions,class:Ht(t.class)},null,8,["modelValue","extensions","class"])):mr("",!0),t.language==="json"?(ot(),sr(a,{key:1,modelValue:t.content,"onUpdate:modelValue":e[1]||(e[1]=o=>t.content=o),disabled:!0,autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.jsonExtensions,class:Ht(t.class)},null,8,["modelValue","extensions","class"])):mr("",!0)],64)}const K1=Ia(Mhe,[["render",Nhe]]),Ihe=In({props:{desc:String,query:String,querySnippet:{type:String,required:!0}},computed:{...Gc(sl)}}),Dhe=["innerHTML"];function Lhe(t,e,n,r,i,s){return ot(),Mt(fr,null,[le("td",null,fs(t.desc),1),le("td",null,[le("span",{class:"is-clickable",onClick:e[0]||(e[0]=a=>t.uiStateStore.setJsonPathQuery(t.querySnippet)),innerHTML:t.query},null,8,Dhe)])],64)}const Fhe=Ia(Ihe,[["render",Lhe]]);const jhe={},Bhe={class:"scoped-arrow"};function Vhe(t,e){return ot(),Mt("p",Bhe,"")}const s6=Ia(jhe,[["render",Vhe],["__scopeId","data-v-a1fd3d96"]]),zhe=In({props:{helpText:String}}),Uhe={class:"dropdown is-hoverable is-right"},qhe={class:"dropdown-trigger"},Hhe={class:"icon is-small"},Whe={class:"dropdown-menu"},Ghe={class:"dropdown-content"},Khe={class:"dropdown-item"},Yhe=["innerHTML"];function Jhe(t,e,n,r,i,s){const a=tn("font-awesome-icon");return ot(),Mt("div",Uhe,[le("div",qhe,[le("span",Hhe,[_t(a,{icon:"fas fa-info-circle"})])]),le("div",Whe,[le("div",Ghe,[le("div",Khe,[le("p",{innerHTML:t.helpText},null,8,Yhe)])])])])}const Y1=Ia(zhe,[["render",Jhe]]),Xhe=[{name:"Alice",age:23,studentID:2567},{name:"Marco",age:17,studentID:2544},{age:21,studentID:2063}],Qhe=[{desc:"Return all objects (apply no filter)",querySnippet:"",query:"<i>(leave empty)</i>"},{desc:"Filter the first object",querySnippet:"0",query:"$.[0]"},{desc:"Filter the first two objects",querySnippet:"0,1",query:"$.[0,1]"},{desc:"Filter the last object",querySnippet:"-1:",query:"$.[-1:]"},{desc:"Filter until the third object",querySnippet:":2",query:"$.[:2]"},{desc:"Filter all objects with a specific property",querySnippet:"?(@.name)",query:"$.[?(@.name)]"},{desc:"Filter all objects where the property is equal to a specific value",querySnippet:"?(@.name == 'Alice')",query:"$.[?(@.name=='Alice')]"},{desc:"Filter all objects where a property is greater than a specific value",querySnippet:"?(@.age > 18)",query:"$.[?(@.age > 18)]"},{desc:"",querySnippet:"",query:""}],Zhe=In({components:{Codemirror:bp,HelpButton:Y1,StaticCodeEditor:K1,InboundArcModalExampleRow:Fhe,Arrow:s6},setup(){return{extensions:[E2,sv(),sp]}},data(){return{examples:Xhe,jsonPathSnippets:Qhe}},computed:{jsonPathQuery:{get(){return this.uiStateStore.updateQueryResult(),this.uiStateStore.jsonPathQuery},set(t){this.uiStateStore.jsonPathQuery=t,this.uiStateStore.updateQueryResult()}},...Gc(sl)},methods:{expand(){this.uiStateStore.jsonPathHelpExpanded=!this.uiStateStore.jsonPathHelpExpanded},saveChanges(){const t={type:this.uiStateStore.arcMode,filter:this.uiStateStore.jsonPathQuery};B2(this.uiStateStore.lastSelectedID,t),this.close()},close(){this.uiStateStore.setShowPresetModal(!1)}}});const wo=t=>(_1("data-v-98b554a2"),t=t(),b1(),t),ede={class:"modal is-active"},tde=wo(()=>le("div",{class:"modal-background"},null,-1)),nde={class:"modal-card jsn-modal-wide"},rde={class:"modal-card-head"},ide=wo(()=>le("p",{class:"modal-card-title"},"Inbound arc inscription",-1)),sde={class:"modal-card-body"},ade={class:"field"},ode={class:"label",for:"addons"},lde={class:"field has-addons"},ude={class:"control"},cde={class:"select"},fde=wo(()=>le("option",{value:"read"},"Read",-1)),hde=wo(()=>le("option",{value:"consume"},"Consume",-1)),dde=[fde,hde],pde=wo(()=>le("p",{class:"control"},[le("a",{class:"button is-static"},"$.[")],-1)),mde={class:"control is-expanded"},gde=wo(()=>le("p",{class:"control"},[le("a",{style:{},class:"button is-static scoped-right-control"},"]")],-1)),vde={class:"notification is-info"},yde={key:0},_de={class:"block"},bde=wo(()=>le("span",null,"Expand templates for JSONPath expressions",-1)),wde={key:1},Sde={class:"block"},xde=wo(()=>le("span",null,"Minimize templates for JSONPath expressions",-1)),Ede={class:"block"},$de={class:"table is-fullwidth"},Ade=wo(()=>le("th",null,"Example",-1)),Pde=wo(()=>le("th",null,"Filter command",-1)),Tde={class:"scoped-column"},Cde={key:0,rowspan:"9"},kde={class:"columns is-vcentered"},Ode={class:"column is-5"},Rde={class:"field"},Mde=wo(()=>le("label",{class:"label"},"Input tokens",-1)),Nde={class:"control"},Ide={class:"column is-2 has-text-centered"},Dde={class:"column is-5"},Lde={class:"field"},Fde=wo(()=>le("label",{class:"label"},"Preview of results",-1)),jde={class:"control"},Bde={class:"modal-card-foot"};function Vde(t,e,n,r,i,s){const a=tn("HelpButton"),o=tn("font-awesome-icon"),l=tn("StaticCodeEditor"),u=tn("InboundArcModalExampleRow"),c=tn("Codemirror"),f=tn("Arrow");return ot(),Mt("div",ede,[tde,le("div",nde,[le("header",rde,[ide,le("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...d)=>t.close&&t.close(...d))})]),le("section",sde,[le("div",ade,[le("label",ode,[vi(" JSONPath expression "),_t(a,{"help-text":`
              For more information about JSONPath, visit 
              <a href='https://goessner.net/articles/JsonPath/' target='_blank'>
                https://goessner.net/articles/JsonPath/
              </a>.
              `})])]),le("div",lde,[le("p",ude,[le("span",cde,[mg(le("select",{"onUpdate:modelValue":e[1]||(e[1]=d=>t.uiStateStore.arcMode=d)},dde,512),[[Mte,t.uiStateStore.arcMode]])])]),pde,le("p",mde,[mg(le("input",{class:"input scoped-input",type:"text",placeholder:"Enter JSONPath expression","onUpdate:modelValue":e[2]||(e[2]=d=>t.jsonPathQuery=d)},null,512),[[KP,t.jsonPathQuery]])]),gde]),le("div",vde,[t.uiStateStore.jsonPathHelpExpanded==!1?(ot(),Mt("div",yde,[le("div",_de,[le("span",{onClick:e[3]||(e[3]=(...d)=>t.expand&&t.expand(...d)),class:"icon is-clickable"},[_t(o,{icon:"fas fa-plus-circle"})]),bde])])):mr("",!0),t.uiStateStore.jsonPathHelpExpanded==!0?(ot(),Mt("div",wde,[le("div",Sde,[le("span",{onClick:e[4]||(e[4]=(...d)=>t.expand&&t.expand(...d)),class:"icon is-clickable"},[_t(o,{icon:"fas fa-minus-circle"})]),xde]),le("div",Ede,[le("table",$de,[le("thead",null,[le("tr",null,[Ade,Pde,le("th",Tde,[vi(" JSONPath expression "),_t(a,{"help-text":"Click on expressions to insert in input field."})])])]),le("tbody",null,[(ot(!0),Mt(fr,null,ho(t.jsonPathSnippets,(d,v)=>(ot(),Mt("tr",null,[v===0?(ot(),Mt("td",Cde,[_t(l,{content:JSON.stringify(t.examples,null,2)},null,8,["content"])])):mr("",!0),_t(u,{desc:d.desc,querySnippet:d.querySnippet,query:d.query},null,8,["desc","querySnippet","query"])]))),256))])])])])):mr("",!0)]),le("div",kde,[le("div",Ode,[le("div",Rde,[Mde,le("div",Nde,[_t(c,{class:"scoped-codemirror",disabled:!0,modelValue:t.uiStateStore.inputTokens,"onUpdate:modelValue":e[5]||(e[5]=d=>t.uiStateStore.inputTokens=d),placeholder:"JSON data as input",autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.extensions},null,8,["modelValue","extensions"])])])]),le("div",Ide,[_t(f)]),le("div",Dde,[le("div",Lde,[Fde,le("div",jde,[_t(c,{class:"scoped-codemirror",disabled:!0,modelValue:t.uiStateStore.queryResult,"onUpdate:modelValue":e[6]||(e[6]=d=>t.uiStateStore.queryResult=d),placeholder:"Output",autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.extensions},null,8,["modelValue","extensions"])])])])])]),le("footer",Bde,[le("button",{class:"button is-success",onClick:e[7]||(e[7]=(...d)=>t.saveChanges&&t.saveChanges(...d))},"Save changes"),le("button",{class:"button",onClick:e[8]||(e[8]=(...d)=>t.close&&t.close(...d))},"Cancel")])])])}const zde=Ia(Zhe,[["render",Vde],["__scopeId","data-v-98b554a2"]]),Ude="/assets/manual-214c6c59.png",qde=In({data(){return{image:Ude}},computed:{...Gc(sl)},methods:{close(){this.uiStateStore.showHelpModal=!1}}}),Hde={class:"modal is-active"},Wde=le("div",{class:"modal-background"},null,-1),Gde={class:"modal-card jsn-modal-wide"},Kde={class:"modal-card-head"},Yde=le("p",{class:"modal-card-title"},"Manual",-1),Jde={class:"modal-card-body"},Xde={class:"content"},Qde=nte("<h2>Get started</h2><p><b>Create a place:</b> Click on the button showing a circle, then click on the canvas to add a new place. </p><p><b>Create a transition:</b> Click on the button showing a square, then click on the canvas to add a new transition. </p><p><b>Create an arc:</b> Click on the button showing an arc. When you now hover over a place or a transition, it will show a small arc icon. Click on the icon and drag a new arc towards another place or transition. </p><p>You can click on the magic wand button to automagically layout the net.</p><h2>Edit</h2><p> Click on the cursor button to go into <b>edit mode</b>. In edit mode, when you hover over places, transitions and arcs, they will show several buttons: </p>",7),Zde={class:"columns is-vcentered"},epe={class:"column is-narrow"},tpe=["src"],npe=le("div",{class:"column"},[le("p",null,[le("b",null,"Delete element:"),vi(" Click on the delete button to delete the element.")]),le("p",null,[le("b",null,"Edit element:"),vi(" Click on the edit button to change the name, inscription and content of elements. ")]),le("p",null,[le("b",null,"Fire transition:"),vi(" Transitions additionally show a fire button. Click on it to make the transition fire and consume or create new tokens in the neighbouring places. If the transition is not enabled, you will receive an alert. ")])],-1),rpe=le("h2",null,"Play",-1),ipe=le("p",null,[vi(" Click on the play button to go into "),le("b",null,"play mode"),vi(". In play mode, one transition after another will fire automatically, until no transition is enabled any more. ")],-1),spe={class:"modal-card-foot"};function ape(t,e,n,r,i,s){return ot(),Mt("div",Hde,[Wde,le("div",Gde,[le("header",Kde,[Yde,le("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...a)=>t.close&&t.close(...a))})]),le("section",Jde,[le("div",Xde,[Qde,le("div",Zde,[le("div",epe,[le("img",{src:t.image,width:"300"},null,8,tpe)]),npe]),rpe,ipe])]),le("footer",spe,[le("button",{class:"button",onClick:e[1]||(e[1]=(...a)=>t.close&&t.close(...a))},"Close")])])])}const ope=Ia(qde,[["render",ape]]),lpe=In({props:{callback:{type:Function,required:!0},token:{type:String,required:!0},isSelected:Boolean,isDeletable:Boolean,deletableCallback:Function},methods:{shortenString(t){return t.length<=25?t:t.slice(0,22)+"..."}}}),upe=["data-tooltip"];function cpe(t,e,n,r,i,s){return ot(),Mt("span",{class:Ht(["tag has-tooltip-bottom",{"is-light":!t.isSelected,"is-primary":t.isSelected}]),onClick:e[1]||(e[1]=a=>t.callback()),"data-tooltip":t.token},[vi(fs(t.shortenString(t.token))+" ",1),t.isDeletable?(ot(),Mt("button",{key:0,class:"delete is-small",onClick:e[0]||(e[0]=YP(()=>{t.deletableCallback&&t.deletableCallback()},["stop"]))})):mr("",!0)],10,upe)}const V2=Ia(lpe,[["render",cpe]]),fpe=In({components:{StaticCodeEditor:K1},props:{examples:{type:Array,required:!0},isTransition:Boolean},methods:{toggleAccordion(t){this.examples[t].isExpanded===!1?this.examples[t].isExpanded=!0:this.examples[t].isExpanded=!1}}});const a6=t=>(_1("data-v-e62207da"),t=t(),b1(),t),hpe=a6(()=>le("label",{class:"label has-text-white"},"Examples for Jsonnet expressions",-1)),dpe={class:"accordion"},ppe=["onClick"],mpe=["onClick"],gpe={class:"scoped-accordion-content"},vpe={class:"level my-1"},ype=a6(()=>le("div",{class:"level-left"},[le("p",{class:"level-item"},"Inscription evaluates to:")],-1)),_pe={key:0,class:"level-item jsn-green-background",style:{"margin-left":"15px"}},bpe={key:1,class:"level-item jsn-red-background",style:{"margin-left":"15px"}},wpe={key:2,class:"level-item"};function Spe(t,e,n,r,i,s){const a=tn("font-awesome-icon"),o=tn("StaticCodeEditor");return ot(),Mt(fr,null,[hpe,le("div",dpe,[(ot(!0),Mt(fr,null,ho(t.examples,(l,u)=>(ot(),Mt("div",{class:"scoped-accordion-item",key:u},[le("button",{class:"button is-ghost has-text-white",onClick:c=>t.toggleAccordion(u)},fs(l.question),9,ppe),le("button",{class:"button is-ghost has-text-white is-pulled-right",onClick:c=>t.toggleAccordion(u)},[l.isExpanded?mr("",!0):(ot(),sr(a,{key:0,icon:"fas fa-plus-circle scoped-accordion-button"})),l.isExpanded?(ot(),sr(a,{key:1,icon:"fas fa-minus-circle scoped-accordion-button"})):mr("",!0)],8,mpe),mg(le("div",gpe,[_t(o,{class:"my-1",content:l.answer,language:"jsonnet"},null,8,["content"]),le("div",vpe,[ype,l.evaluation===!0?(ot(),Mt("p",_pe," true ")):l.evaluation===!1?(ot(),Mt("p",bpe," false ")):(ot(),Mt("div",wpe,[_t(o,{class:"jsn-evaluation-editor",content:JSON.stringify(l.evaluation,null,2)},null,8,["content"])]))])],512),[[Dte,l.isExpanded]])]))),128))])],64)}const o6=Ia(fpe,[["render",Spe],["__scopeId","data-v-e62207da"]]),xpe={student:[{id:1,name:"Alice",age:25,email:"alice@uni.edu",semester:4,lecturesNotYetDone:["Process Modeling","Database Systems"]}],lecture:[{id:1,lecture:"Process Modeling",serviceFee:15}],jsonnet:[{question:"Pass token unchanged",answer:"request",evaluation:{id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Add attributes to existing token",answer:`request
{email: student.email}`,evaluation:{email:"alice@uni.edu",id:1,lecture:"Process Modeling"},isExpanded:!1},{question:"Create new token",answer:`{
  email: student.email,
  message: "The request for " + request.lecture + " was accepted."
}`,evaluation:{email:"alice@uni.edu",message:"The request for Process Modeling was accepted."},isExpanded:!1},{question:"Definition of local variable and calculation",answer:`local tuitionPerSemester = 400;
local calculateTotalTuition(tuitionPerSemester, numberSemester) = tuitionPerSemester * numberSemester;
student
{totalTuition: calculateTotalTuition(tuitionPerSemester, student.semester)}`,evaluation:{age:25,email:"alice@uni.edu",id:1,name:"Alice",semester:4,totalTuition:1600},isExpanded:!1},{question:"Check whether an array contains a specific element",answer:`request
{accepted: std.member(student.lecturesNotYetDone, request.lecture)}`,evaluation:{accepted:!0,id:1,lecture:"Process Modeling",serviceFee:15},isExpanded:!1},{question:"Calculation with self",answer:`local tuitionPerSemester = 400;
{
  semesterTuition: tuitionPerSemester,
  totalCostThisSemester: self.semesterTuition + request.serviceFee
}`,evaluation:{semesterTuition:400,totalCostThisSemester:415},isExpanded:!1}]},Epe=In({components:{StaticCodeEditor:K1,Codemirror:bp,OutboundArcModalAccordion:o6,HelpButton:Y1,TokenTag:V2},setup(){const t=Fm(),e=[E2,sv(),sp];return{view:t,extensions:e}},mounted(){this.updateEvaluation()},data(){return{examples:xpe,expandedExamples:!1}},watch:{"uiStateStore.inspectorContent"(){this.updateEvaluation()}},computed:{...Gc(sl)},methods:{insertVariableName(t){const n=this.view.state.selection.ranges[0].anchor;this.view.dispatch({changes:{from:n,insert:t}})},isSelected(t,e){return this.uiStateStore.selectedForAssignment[t]===e},onEditorReady(t){this.view=t.view},updateEvaluation(){this.uiStateStore.updateTransitionEvaluation(),this.uiStateStore.updateOutboundSchemaEvaluation(),this.uiStateStore.updateOutboundEvaluation()},expandExamples(){this.expandedExamples=!this.expandedExamples},saveChanges(){B2(this.uiStateStore.lastSelectedID,this.uiStateStore.inspectorContent),this.close()},close(){this.uiStateStore.showPostsetModal=!1}}});const pa=t=>(_1("data-v-77f917bf"),t=t(),b1(),t),$pe={class:"modal is-active"},Ape=pa(()=>le("div",{class:"modal-background"},null,-1)),Ppe={class:"modal-card jsn-modal-wide"},Tpe={class:"modal-card-head"},Cpe=pa(()=>le("p",{class:"modal-card-title"},"Outbound arc inscription",-1)),kpe={class:"modal-card-body"},Ope={class:"label"},Rpe={class:"table is-fullwidth is-striped"},Mpe=pa(()=>le("th",null,"Pre-set place",-1)),Npe=["onClick"],Ipe={class:"tags"},Dpe={class:"label"},Lpe={class:"notification is-info"},Fpe={key:0},jpe={class:"block"},Bpe=pa(()=>le("span",null,"Expand example for Jsonnet expressions",-1)),Vpe={key:1},zpe={class:"block"},Upe=pa(()=>le("span",null,"Minimize example for Jsonnet expression",-1)),qpe={class:"block"},Hpe=pa(()=>le("label",{class:"label has-text-white"},"Example variable assignment",-1)),Wpe={class:"table is-fullwidth is-striped"},Gpe=pa(()=>le("thead",null,[le("tr",null,[le("th",null,"Pre-set place"),le("th",null,"Jsonnet variable"),le("th",null,"Variables")])],-1)),Kpe=pa(()=>le("td",null,"Student",-1)),Ype=pa(()=>le("td",null,"student",-1)),Jpe=pa(()=>le("td",null,"Request",-1)),Xpe=pa(()=>le("td",null,"request",-1)),Qpe={class:"block"},Zpe={class:"block"},eme={class:"block"},tme={class:"level"},nme=pa(()=>le("div",{class:"level-left"},[le("p",{class:"level-item scoped-evaluation"}," Evaluation of connected transition inscription: ")],-1)),rme={class:"block"},ime={class:"level"},sme=pa(()=>le("div",{class:"level-left"},[le("p",{class:"level-item scoped-evaluation"},"Evaluation of arc inscription:")],-1)),ame=["innerHTML"],ome={class:"block"},lme={class:"level"},ume=pa(()=>le("div",{class:"level-left"},[le("p",{class:"level-item scoped-evaluation"}," Evaluation of token against connected place schema: ")],-1)),cme=["innerHTML"],fme={class:"modal-card-foot"};function hme(t,e,n,r,i,s){const a=tn("HelpButton"),o=tn("TokenTag"),l=tn("font-awesome-icon"),u=tn("StaticCodeEditor"),c=tn("OutboundArcModalAccordion"),f=tn("Codemirror");return ot(),Mt("div",$pe,[Ape,le("div",Ppe,[le("header",Tpe,[Cpe,le("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...d)=>t.close&&t.close(...d))})]),le("section",kpe,[le("label",Ope,[vi("Assignment selection "),_t(a,{"help-text":`
              Table shows tokens from pre-set places, filtered with JSONPath expression. If no
              tokens are visible, check inbound arc inscription first.
              `})]),le("table",Rpe,[le("thead",null,[le("tr",null,[Mpe,le("th",null,[vi(" Jsonnet variable "),_t(a,{"help-text":`
                    Click to insert variable at cursor position in Jsonnet code.
                  `})]),le("th",null,[vi(" Input tokens "),_t(a,{"help-text":`
                  Click to select a token for temporary assignment.
                  `})])])]),le("tbody",null,[(ot(!0),Mt(fr,null,ho(t.uiStateStore.inputTokensArray,d=>(ot(),Mt("tr",null,[le("td",null,fs(d.name),1),le("td",null,[le("code",{class:"is-clickable",onClick:v=>t.insertVariableName(d.name.toLowerCase())},fs(d.name.toLowerCase()),9,Npe)]),le("td",null,[le("div",Ipe,[(ot(!0),Mt(fr,null,ho(d.documents,(v,_)=>(ot(),sr(o,{callback:()=>{t.uiStateStore.addDocumentToTempAssignment(d.name,v,_)},token:JSON.stringify(v,null,2),isSelected:t.isSelected(d.name,_)},null,8,["callback","token","isSelected"]))),256))])])]))),256))])]),le("label",Dpe,[vi(" Transition inscription (Jsonnet) "),_t(a,{"help-text":`
              For more information about Jsonnet, please visit
              <a href='https://jsonnet.org/' target='_blank'>
                https://jsonnet.org/
              </a>.
            `})]),le("div",Lpe,[t.expandedExamples==!1?(ot(),Mt("div",Fpe,[le("div",jpe,[le("span",{onClick:e[1]||(e[1]=(...d)=>t.expandExamples&&t.expandExamples(...d)),class:"icon is-clickable"},[_t(l,{icon:"fas fa-plus-circle"})]),Bpe])])):mr("",!0),t.expandedExamples==!0?(ot(),Mt("div",Vpe,[le("div",zpe,[le("span",{onClick:e[2]||(e[2]=(...d)=>t.expandExamples&&t.expandExamples(...d)),class:"icon is-clickable"},[_t(l,{icon:"fas fa-minus-circle"})]),Upe]),le("div",qpe,[Hpe,le("table",Wpe,[Gpe,le("tbody",null,[le("tr",null,[Kpe,Ype,le("td",null,[_t(u,{content:JSON.stringify(t.examples.student,null,2)},null,8,["content"])])]),le("tr",null,[Jpe,Xpe,le("td",null,[_t(u,{content:JSON.stringify(t.examples.lecture,null,2)},null,8,["content"])])])])])]),le("div",Qpe,[_t(c,{examples:t.examples.jsonnet},null,8,["examples"])])])):mr("",!0)]),le("div",Zpe,[_t(f,{placeholder:"Define arc inscription in Jsonnet",modelValue:t.uiStateStore.inspectorContent,"onUpdate:modelValue":e[3]||(e[3]=d=>t.uiStateStore.inspectorContent=d),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,onReady:t.onEditorReady},null,8,["modelValue","extensions","onReady"])]),le("div",eme,[le("div",tme,[nme,le("p",{class:Ht(["level-item",{"jsn-green-background":t.uiStateStore.transitionInscriptionValid,"jsn-red-background":!t.uiStateStore.transitionInscriptionValid}])},fs(t.uiStateStore.inscriptionEvaluationResult),3)])]),le("div",rme,[le("div",ime,[sme,t.uiStateStore.outboundEvaluation?mr("",!0):(ot(),Mt("p",{key:0,innerHTML:t.uiStateStore.outboundEvaluationResult,class:"level-item jsn-red-background"},null,8,ame)),t.uiStateStore.outboundEvaluation?(ot(),sr(u,{key:1,content:t.uiStateStore.outboundEvaluationResult,class:"jsn-evaluation-editor"},null,8,["content"])):mr("",!0)])]),le("div",ome,[le("div",lme,[ume,le("p",{innerHTML:t.uiStateStore.outboundSchemaEvaluationResult,class:Ht(["level-item",{"jsn-green-background":t.uiStateStore.outboundSchemaEvaluation,"jsn-red-background":!t.uiStateStore.outboundSchemaEvaluation}])},null,10,cme)])])]),le("footer",fme,[le("button",{class:"button is-success",onClick:e[4]||(e[4]=(...d)=>t.saveChanges&&t.saveChanges(...d))},"Save changes"),le("button",{class:"button",onClick:e[5]||(e[5]=d=>t.close())},"Close")])])])}const dme=Ia(Epe,[["render",hme],["__scopeId","data-v-77f917bf"]]),pme={student:[{id:1,name:"Alice",age:25,email:"alice@uni.edu",semester:4,lecturesNotYetDone:["Process Modeling","Database Systems"]}],request:[{id:1,lecture:"Process Modeling",serviceFee:15}],jsonnet:[{question:"Always evaluate to true (no check functionality)",answer:"true",evaluation:!0,isExpanded:!1},{question:"Comparison of two attributes of different tokens",answer:`local check = student.id == request.id;
check`,evaluation:!0,isExpanded:!1},{question:"Comparison of an attribute with a value",answer:`local check = student.name == 'Tom';
check`,evaluation:!1,isExpanded:!1},{question:"Compare whether value is greater or smaller",answer:`local check = student.age > '18';
check`,evaluation:!0,isExpanded:!1},{question:"Two conditions have to be true",answer:`local checkLecture = request.lecture == 'Process Modeling';
local checkStudent = request.id == student.id;
checkLecture && checkStudent`,evaluation:!0,isExpanded:!1}]},mme={components:{Codemirror:bp,HelpButton:Y1,OutboundArcModalAccordion:o6,TokenTag:V2,StaticCodeEditor:K1},setup(){const t=[sv(),sp],e=Fm();return{extensions:t,view:e}},data(){return{examples:pme,expandedExamples:!1,inscriptionEvaluated:!1}},computed:{...Gc(sl)},watch:{"uiStateStore.inspectorContent"(){this.uiStateStore.updateTransitionEvaluation()}},methods:{onEditorReady(t){this.view=t.view},insertVariableName(t){const n=this.view.state.selection.ranges[0].anchor;this.view.dispatch({changes:{from:n,insert:t}})},isSelected(t,e){return this.uiStateStore.selectedForAssignment[t]===e},expandExamples(){this.expandedExamples=!this.expandedExamples},saveChanges(){ZV(this.uiStateStore.lastSelectedID,this.uiStateStore.inspectorContent,this.uiStateStore.itemName),this.close()},close(){this.uiStateStore.setShowTransitionModal(!1)}}},gme={class:"modal is-active"},vme=le("div",{class:"modal-background"},null,-1),yme={class:"modal-card jsn-modal-wide"},_me={class:"modal-card-head"},bme=le("p",{class:"modal-card-title"},"Transition inscription",-1),wme={class:"modal-card-body"},Sme={class:"field"},xme=le("label",{class:"label"},"Name of the transition",-1),Eme={class:"control"},$me={class:"label"},Ame={class:"table is-fullwidth is-striped"},Pme=le("th",null,"Pre-set place",-1),Tme=["onClick"],Cme={class:"tags"},kme={class:"label"},Ome={class:"notification is-info"},Rme={key:0},Mme={class:"block"},Nme=le("span",null,"Expand example for Jsonnet expressions",-1),Ime={key:1},Dme={class:"block"},Lme=le("span",null,"Minimize example for Jsonnet expression",-1),Fme={class:"block"},jme=le("label",{class:"label has-text-white"},"Example variable assignment",-1),Bme={class:"table is-fullwidth is-striped"},Vme=le("thead",null,[le("tr",null,[le("th",null,"Pre-set place"),le("th",null,"Jsonnet variable"),le("th",null,"Variables")])],-1),zme=le("td",null,"Student",-1),Ume=le("td",null,"student",-1),qme=le("td",null,"Request",-1),Hme=le("td",null,"request",-1),Wme={class:"block"},Gme={class:"block"},Kme={class:"block"},Yme={class:"level"},Jme=le("div",{class:"level-left"},[le("p",{class:"level-item"},"Inscription evaluates to:")],-1),Xme={class:"modal-card-foot"};function Qme(t,e,n,r,i,s){const a=tn("HelpButton"),o=tn("TokenTag"),l=tn("font-awesome-icon"),u=tn("StaticCodeEditor"),c=tn("OutboundArcModalAccordion"),f=tn("Codemirror");return ot(),Mt("div",gme,[vme,le("div",yme,[le("header",_me,[bme,le("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=(...d)=>s.close&&s.close(...d))})]),le("section",wme,[le("div",Sme,[xme,le("div",Eme,[mg(le("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=d=>t.uiStateStore.itemName=d)},null,512),[[KP,t.uiStateStore.itemName]])])]),le("label",$me,[vi("Assignment selection "),_t(a,{"help-text":`
              Table shows tokens from pre-set places, filtered with JSONPath expression. If no
              tokens are visible, check inbound arc inscription first.
            `})]),le("table",Ame,[le("thead",null,[le("tr",null,[Pme,le("th",null,[vi(" Jsonnet variable "),_t(a,{"help-text":`
                  Click to insert variable at cursor position in Jsonnet code.
                `})]),le("th",null,[vi(" Input tokens "),_t(a,{"help-text":`
                  Click to select a token for temporary assignment.
                `})])])]),le("tbody",null,[(ot(!0),Mt(fr,null,ho(t.uiStateStore.inputTokensArray,d=>(ot(),Mt("tr",null,[le("td",null,fs(d.name),1),le("td",null,[le("code",{class:"is-clickable",onClick:v=>s.insertVariableName(d.name.toLowerCase())},fs(d.name.toLowerCase()),9,Tme)]),le("td",null,[le("div",Cme,[(ot(!0),Mt(fr,null,ho(d.documents,(v,_)=>(ot(),sr(o,{callback:()=>{t.uiStateStore.addDocumentToTempAssignment(d.name,v,_)},"is-selected":s.isSelected(d.name,_),token:JSON.stringify(v,null,2)},null,8,["callback","is-selected","token"]))),256))])])]))),256))])]),le("label",kme,[vi(" Transition inscription (Jsonnet) "),_t(a,{"help-text":`
            Note that jsonnet expressions in transition inscriptions must evaluate to true
            or false! For more information about Jsonnet, please visit
            <a href='https://jsonnet.org/' target='_blank'>https://jsonnet.org/</a>
          `})]),le("div",Ome,[i.expandedExamples==!1?(ot(),Mt("div",Rme,[le("div",Mme,[le("span",{onClick:e[2]||(e[2]=(...d)=>s.expandExamples&&s.expandExamples(...d)),class:"icon is-clickable"},[_t(l,{icon:"fas fa-plus-circle"})]),Nme])])):mr("",!0),i.expandedExamples==!0?(ot(),Mt("div",Ime,[le("div",Dme,[le("span",{onClick:e[3]||(e[3]=(...d)=>s.expandExamples&&s.expandExamples(...d)),class:"icon is-clickable"},[_t(l,{icon:"fas fa-minus-circle"})]),Lme]),le("div",Fme,[jme,le("table",Bme,[Vme,le("tbody",null,[le("tr",null,[zme,Ume,le("td",null,[_t(u,{content:JSON.stringify(i.examples.student,null,2)},null,8,["content"])])]),le("tr",null,[qme,Hme,le("td",null,[_t(u,{content:JSON.stringify(i.examples.request,null,2)},null,8,["content"])])])])])]),le("div",Wme,[_t(c,{examples:i.examples.jsonnet},null,8,["examples"])])])):mr("",!0)]),le("div",Gme,[_t(f,{modelValue:t.uiStateStore.inspectorContent,"onUpdate:modelValue":e[4]||(e[4]=d=>t.uiStateStore.inspectorContent=d),placeholder:"Define transition inscription in Jsonnet",style:{height:"200px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:r.extensions,onReady:s.onEditorReady},null,8,["modelValue","extensions","onReady"])]),le("div",Kme,[le("div",Yme,[Jme,le("p",{class:Ht(["level-item",{"jsn-green-background":t.uiStateStore.transitionInscriptionValid,"jsn-red-background":!t.uiStateStore.transitionInscriptionValid}])},fs(t.uiStateStore.inscriptionEvaluationResult),3)])])]),le("footer",Xme,[le("button",{class:"button is-success",onClick:e[5]||(e[5]=(...d)=>s.saveChanges&&s.saveChanges(...d))},"Save changes"),le("button",{class:"button",onClick:e[6]||(e[6]=d=>s.close())},"Close")])])])}const Zme=Ia(mme,[["render",Qme]]);var ege=typeof gr=="object"&&gr&&gr.Object===Object&&gr,l6=ege,tge=l6,nge=typeof self=="object"&&self&&self.Object===Object&&self,rge=tge||nge||Function("return this")(),ma=rge,ige=ma,sge=ige.Symbol,Sp=sge,$D=Sp,u6=Object.prototype,age=u6.hasOwnProperty,oge=u6.toString,mm=$D?$D.toStringTag:void 0;function lge(t){var e=age.call(t,mm),n=t[mm];try{t[mm]=void 0;var r=!0}catch{}var i=oge.call(t);return r&&(e?t[mm]=n:delete t[mm]),i}var uge=lge,cge=Object.prototype,fge=cge.toString;function hge(t){return fge.call(t)}var dge=hge,AD=Sp,pge=uge,mge=dge,gge="[object Null]",vge="[object Undefined]",PD=AD?AD.toStringTag:void 0;function yge(t){return t==null?t===void 0?vge:gge:PD&&PD in Object(t)?pge(t):mge(t)}var Yc=yge;function _ge(t){return t!=null&&typeof t=="object"}var Da=_ge,bge=Yc,wge=Da,Sge="[object Symbol]";function xge(t){return typeof t=="symbol"||wge(t)&&bge(t)==Sge}var xp=xge,Ege=xp;function $ge(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!Ege(a):n(a,o)))var o=a,l=s}return l}var Age=$ge;function Pge(t,e){return t>e}var Tge=Pge;function Cge(){this.__data__=[],this.size=0}var kge=Cge;function Oge(t,e){return t===e||t!==t&&e!==e}var av=Oge,Rge=av;function Mge(t,e){for(var n=t.length;n--;)if(Rge(t[n][0],e))return n;return-1}var J1=Mge,Nge=J1,Ige=Array.prototype,Dge=Ige.splice;function Lge(t){var e=this.__data__,n=Nge(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Dge.call(e,n,1),--this.size,!0}var Fge=Lge,jge=J1;function Bge(t){var e=this.__data__,n=jge(e,t);return n<0?void 0:e[n][1]}var Vge=Bge,zge=J1;function Uge(t){return zge(this.__data__,t)>-1}var qge=Uge,Hge=J1;function Wge(t,e){var n=this.__data__,r=Hge(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Gge=Wge,Kge=kge,Yge=Fge,Jge=Vge,Xge=qge,Qge=Gge;function Ep(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ep.prototype.clear=Kge;Ep.prototype.delete=Yge;Ep.prototype.get=Jge;Ep.prototype.has=Xge;Ep.prototype.set=Qge;var X1=Ep,Zge=X1;function eve(){this.__data__=new Zge,this.size=0}var tve=eve;function nve(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rve=nve;function ive(t){return this.__data__.get(t)}var sve=ive;function ave(t){return this.__data__.has(t)}var ove=ave;function lve(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var So=lve,uve=Yc,cve=So,fve="[object AsyncFunction]",hve="[object Function]",dve="[object GeneratorFunction]",pve="[object Proxy]";function mve(t){if(!cve(t))return!1;var e=uve(t);return e==hve||e==dve||e==fve||e==pve}var ov=mve;const gve=Tr(ov);var vve=ma,yve=vve["__core-js_shared__"],_ve=yve,Vx=_ve,TD=function(){var t=/[^.]+$/.exec(Vx&&Vx.keys&&Vx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function bve(t){return!!TD&&TD in t}var wve=bve,Sve=Function.prototype,xve=Sve.toString;function Eve(t){if(t!=null){try{return xve.call(t)}catch{}try{return t+""}catch{}}return""}var c6=Eve,$ve=ov,Ave=wve,Pve=So,Tve=c6,Cve=/[\\^$.*+?()[\]{}|]/g,kve=/^\[object .+?Constructor\]$/,Ove=Function.prototype,Rve=Object.prototype,Mve=Ove.toString,Nve=Rve.hasOwnProperty,Ive=RegExp("^"+Mve.call(Nve).replace(Cve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Dve(t){if(!Pve(t)||Ave(t))return!1;var e=$ve(t)?Ive:kve;return e.test(Tve(t))}var Lve=Dve;function Fve(t,e){return t==null?void 0:t[e]}var jve=Fve,Bve=Lve,Vve=jve;function zve(t,e){var n=Vve(t,e);return Bve(n)?n:void 0}var Eh=zve,Uve=Eh,qve=ma,Hve=Uve(qve,"Map"),z2=Hve,Wve=Eh,Gve=Wve(Object,"create"),Q1=Gve,CD=Q1;function Kve(){this.__data__=CD?CD(null):{},this.size=0}var Yve=Kve;function Jve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Xve=Jve,Qve=Q1,Zve="__lodash_hash_undefined__",e0e=Object.prototype,t0e=e0e.hasOwnProperty;function n0e(t){var e=this.__data__;if(Qve){var n=e[t];return n===Zve?void 0:n}return t0e.call(e,t)?e[t]:void 0}var r0e=n0e,i0e=Q1,s0e=Object.prototype,a0e=s0e.hasOwnProperty;function o0e(t){var e=this.__data__;return i0e?e[t]!==void 0:a0e.call(e,t)}var l0e=o0e,u0e=Q1,c0e="__lodash_hash_undefined__";function f0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=u0e&&e===void 0?c0e:e,this}var h0e=f0e,d0e=Yve,p0e=Xve,m0e=r0e,g0e=l0e,v0e=h0e;function $p(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$p.prototype.clear=d0e;$p.prototype.delete=p0e;$p.prototype.get=m0e;$p.prototype.has=g0e;$p.prototype.set=v0e;var y0e=$p,kD=y0e,_0e=X1,b0e=z2;function w0e(){this.size=0,this.__data__={hash:new kD,map:new(b0e||_0e),string:new kD}}var S0e=w0e;function x0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var E0e=x0e,$0e=E0e;function A0e(t,e){var n=t.__data__;return $0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Z1=A0e,P0e=Z1;function T0e(t){var e=P0e(this,t).delete(t);return this.size-=e?1:0,e}var C0e=T0e,k0e=Z1;function O0e(t){return k0e(this,t).get(t)}var R0e=O0e,M0e=Z1;function N0e(t){return M0e(this,t).has(t)}var I0e=N0e,D0e=Z1;function L0e(t,e){var n=D0e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var F0e=L0e,j0e=S0e,B0e=C0e,V0e=R0e,z0e=I0e,U0e=F0e;function Ap(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ap.prototype.clear=j0e;Ap.prototype.delete=B0e;Ap.prototype.get=V0e;Ap.prototype.has=z0e;Ap.prototype.set=U0e;var U2=Ap,q0e=X1,H0e=z2,W0e=U2,G0e=200;function K0e(t,e){var n=this.__data__;if(n instanceof q0e){var r=n.__data__;if(!H0e||r.length<G0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new W0e(r)}return n.set(t,e),this.size=n.size,this}var Y0e=K0e,J0e=X1,X0e=tve,Q0e=rve,Z0e=sve,eye=ove,tye=Y0e;function Pp(t){var e=this.__data__=new J0e(t);this.size=e.size}Pp.prototype.clear=X0e;Pp.prototype.delete=Q0e;Pp.prototype.get=Z0e;Pp.prototype.has=eye;Pp.prototype.set=tye;var ew=Pp,nye="__lodash_hash_undefined__";function rye(t){return this.__data__.set(t,nye),this}var iye=rye;function sye(t){return this.__data__.has(t)}var aye=sye,oye=U2,lye=iye,uye=aye;function Ab(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new oye;++e<n;)this.add(t[e])}Ab.prototype.add=Ab.prototype.push=lye;Ab.prototype.has=uye;var f6=Ab;function cye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var fye=cye;function hye(t,e){return t.has(e)}var h6=hye,dye=f6,pye=fye,mye=h6,gye=1,vye=2;function yye(t,e,n,r,i,s){var a=n&gye,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),c=s.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,v=n&vye?new dye:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var _=t[f],S=e[f];if(r)var b=a?r(S,_,f,e,t,s):r(_,S,f,t,e,s);if(b!==void 0){if(b)continue;d=!1;break}if(v){if(!pye(e,function(y,A){if(!mye(v,A)&&(_===y||i(_,y,n,r,s)))return v.push(A)})){d=!1;break}}else if(!(_===S||i(_,S,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var d6=yye,_ye=ma,bye=_ye.Uint8Array,p6=bye;function wye(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Sye=wye;function xye(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var q2=xye,OD=Sp,RD=p6,Eye=av,$ye=d6,Aye=Sye,Pye=q2,Tye=1,Cye=2,kye="[object Boolean]",Oye="[object Date]",Rye="[object Error]",Mye="[object Map]",Nye="[object Number]",Iye="[object RegExp]",Dye="[object Set]",Lye="[object String]",Fye="[object Symbol]",jye="[object ArrayBuffer]",Bye="[object DataView]",MD=OD?OD.prototype:void 0,zx=MD?MD.valueOf:void 0;function Vye(t,e,n,r,i,s,a){switch(n){case Bye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jye:return!(t.byteLength!=e.byteLength||!s(new RD(t),new RD(e)));case kye:case Oye:case Nye:return Eye(+t,+e);case Rye:return t.name==e.name&&t.message==e.message;case Iye:case Lye:return t==e+"";case Mye:var o=Aye;case Dye:var l=r&Tye;if(o||(o=Pye),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Cye,a.set(t,e);var c=$ye(o(t),o(e),r,i,s,a);return a.delete(t),c;case Fye:if(zx)return zx.call(t)==zx.call(e)}return!1}var zye=Vye;function Uye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var H2=Uye,qye=Array.isArray,Ci=qye;const Hye=Tr(Ci);var Wye=H2,Gye=Ci;function Kye(t,e,n){var r=e(t);return Gye(t)?r:Wye(r,n(t))}var m6=Kye;function Yye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var g6=Yye;function Jye(){return[]}var v6=Jye,Xye=g6,Qye=v6,Zye=Object.prototype,e_e=Zye.propertyIsEnumerable,ND=Object.getOwnPropertySymbols,t_e=ND?function(t){return t==null?[]:(t=Object(t),Xye(ND(t),function(e){return e_e.call(t,e)}))}:Qye,W2=t_e;function n_e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var r_e=n_e,i_e=Yc,s_e=Da,a_e="[object Arguments]";function o_e(t){return s_e(t)&&i_e(t)==a_e}var l_e=o_e,ID=l_e,u_e=Da,y6=Object.prototype,c_e=y6.hasOwnProperty,f_e=y6.propertyIsEnumerable,h_e=ID(function(){return arguments}())?ID:function(t){return u_e(t)&&c_e.call(t,"callee")&&!f_e.call(t,"callee")},lv=h_e,Pb={exports:{}};function d_e(){return!1}var p_e=d_e;Pb.exports;(function(t,e){var n=ma,r=p_e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;t.exports=u})(Pb,Pb.exports);var uv=Pb.exports,m_e=9007199254740991,g_e=/^(?:0|[1-9]\d*)$/;function v_e(t,e){var n=typeof t;return e=e??m_e,!!e&&(n=="number"||n!="symbol"&&g_e.test(t))&&t>-1&&t%1==0&&t<e}var cv=v_e,y_e=9007199254740991;function __e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=y_e}var G2=__e,b_e=Yc,w_e=G2,S_e=Da,x_e="[object Arguments]",E_e="[object Array]",$_e="[object Boolean]",A_e="[object Date]",P_e="[object Error]",T_e="[object Function]",C_e="[object Map]",k_e="[object Number]",O_e="[object Object]",R_e="[object RegExp]",M_e="[object Set]",N_e="[object String]",I_e="[object WeakMap]",D_e="[object ArrayBuffer]",L_e="[object DataView]",F_e="[object Float32Array]",j_e="[object Float64Array]",B_e="[object Int8Array]",V_e="[object Int16Array]",z_e="[object Int32Array]",U_e="[object Uint8Array]",q_e="[object Uint8ClampedArray]",H_e="[object Uint16Array]",W_e="[object Uint32Array]",br={};br[F_e]=br[j_e]=br[B_e]=br[V_e]=br[z_e]=br[U_e]=br[q_e]=br[H_e]=br[W_e]=!0;br[x_e]=br[E_e]=br[D_e]=br[$_e]=br[L_e]=br[A_e]=br[P_e]=br[T_e]=br[C_e]=br[k_e]=br[O_e]=br[R_e]=br[M_e]=br[N_e]=br[I_e]=!1;function G_e(t){return S_e(t)&&w_e(t.length)&&!!br[b_e(t)]}var K_e=G_e;function Y_e(t){return function(e){return t(e)}}var K2=Y_e,Tb={exports:{}};Tb.exports;(function(t,e){var n=l6,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Tb,Tb.exports);var Y2=Tb.exports,J_e=K_e,X_e=K2,DD=Y2,LD=DD&&DD.isTypedArray,Q_e=LD?X_e(LD):J_e,tw=Q_e,Z_e=r_e,ebe=lv,tbe=Ci,nbe=uv,rbe=cv,ibe=tw,sbe=Object.prototype,abe=sbe.hasOwnProperty;function obe(t,e){var n=tbe(t),r=!n&&ebe(t),i=!n&&!r&&nbe(t),s=!n&&!r&&!i&&ibe(t),a=n||r||i||s,o=a?Z_e(t.length,String):[],l=o.length;for(var u in t)(e||abe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rbe(u,l)))&&o.push(u);return o}var _6=obe,lbe=Object.prototype;function ube(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||lbe;return t===n}var nw=ube;function cbe(t,e){return function(n){return t(e(n))}}var b6=cbe,fbe=b6,hbe=fbe(Object.keys,Object),dbe=hbe,pbe=nw,mbe=dbe,gbe=Object.prototype,vbe=gbe.hasOwnProperty;function ybe(t){if(!pbe(t))return mbe(t);var e=[];for(var n in Object(t))vbe.call(t,n)&&n!="constructor"&&e.push(n);return e}var J2=ybe,_be=ov,bbe=G2;function wbe(t){return t!=null&&bbe(t.length)&&!_be(t)}var Jc=wbe,Sbe=_6,xbe=J2,Ebe=Jc;function $be(t){return Ebe(t)?Sbe(t):xbe(t)}var Xc=$be;const Abe=Tr(Xc);var Pbe=m6,Tbe=W2,Cbe=Xc;function kbe(t){return Pbe(t,Cbe,Tbe)}var w6=kbe,FD=w6,Obe=1,Rbe=Object.prototype,Mbe=Rbe.hasOwnProperty;function Nbe(t,e,n,r,i,s){var a=n&Obe,o=FD(t),l=o.length,u=FD(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var d=o[f];if(!(a?d in e:Mbe.call(e,d)))return!1}var v=s.get(t),_=s.get(e);if(v&&_)return v==e&&_==t;var S=!0;s.set(t,e),s.set(e,t);for(var b=a;++f<l;){d=o[f];var y=t[d],A=e[d];if(r)var R=a?r(A,y,d,e,t,s):r(y,A,d,t,e,s);if(!(R===void 0?y===A||i(y,A,n,r,s):R)){S=!1;break}b||(b=d=="constructor")}if(S&&!b){var M=t.constructor,$=e.constructor;M!=$&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof $=="function"&&$ instanceof $)&&(S=!1)}return s.delete(t),s.delete(e),S}var Ibe=Nbe,Dbe=Eh,Lbe=ma,Fbe=Dbe(Lbe,"DataView"),jbe=Fbe,Bbe=Eh,Vbe=ma,zbe=Bbe(Vbe,"Promise"),Ube=zbe,qbe=Eh,Hbe=ma,Wbe=qbe(Hbe,"Set"),S6=Wbe,Gbe=Eh,Kbe=ma,Ybe=Gbe(Kbe,"WeakMap"),x6=Ybe,dA=jbe,pA=z2,mA=Ube,gA=S6,vA=x6,E6=Yc,Tp=c6,jD="[object Map]",Jbe="[object Object]",BD="[object Promise]",VD="[object Set]",zD="[object WeakMap]",UD="[object DataView]",Xbe=Tp(dA),Qbe=Tp(pA),Zbe=Tp(mA),e1e=Tp(gA),t1e=Tp(vA),Of=E6;(dA&&Of(new dA(new ArrayBuffer(1)))!=UD||pA&&Of(new pA)!=jD||mA&&Of(mA.resolve())!=BD||gA&&Of(new gA)!=VD||vA&&Of(new vA)!=zD)&&(Of=function(t){var e=E6(t),n=e==Jbe?t.constructor:void 0,r=n?Tp(n):"";if(r)switch(r){case Xbe:return UD;case Qbe:return jD;case Zbe:return BD;case e1e:return VD;case t1e:return zD}return e});var Cp=Of,Ux=ew,n1e=d6,r1e=zye,i1e=Ibe,qD=Cp,HD=Ci,WD=uv,s1e=tw,a1e=1,GD="[object Arguments]",KD="[object Array]",hy="[object Object]",o1e=Object.prototype,YD=o1e.hasOwnProperty;function l1e(t,e,n,r,i,s){var a=HD(t),o=HD(e),l=a?KD:qD(t),u=o?KD:qD(e);l=l==GD?hy:l,u=u==GD?hy:u;var c=l==hy,f=u==hy,d=l==u;if(d&&WD(t)){if(!WD(e))return!1;a=!0,c=!1}if(d&&!c)return s||(s=new Ux),a||s1e(t)?n1e(t,e,n,r,i,s):r1e(t,e,l,n,r,i,s);if(!(n&a1e)){var v=c&&YD.call(t,"__wrapped__"),_=f&&YD.call(e,"__wrapped__");if(v||_){var S=v?t.value():t,b=_?e.value():e;return s||(s=new Ux),i(S,b,n,r,s)}}return d?(s||(s=new Ux),i1e(t,e,n,r,i,s)):!1}var u1e=l1e,c1e=u1e,JD=Da;function $6(t,e,n,r,i){return t===e?!0:t==null||e==null||!JD(t)&&!JD(e)?t!==t&&e!==e:c1e(t,e,n,r,$6,i)}var X2=$6,f1e=ew,h1e=X2,d1e=1,p1e=2;function m1e(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],u=t[l],c=o[1];if(a&&o[2]){if(u===void 0&&!(l in t))return!1}else{var f=new f1e;if(r)var d=r(u,c,l,t,e,f);if(!(d===void 0?h1e(c,u,d1e|p1e,r,f):d))return!1}}return!0}var g1e=m1e,v1e=So;function y1e(t){return t===t&&!v1e(t)}var A6=y1e,_1e=A6,b1e=Xc;function w1e(t){for(var e=b1e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,_1e(i)]}return e}var S1e=w1e;function x1e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var P6=x1e,E1e=g1e,$1e=S1e,A1e=P6;function P1e(t){var e=$1e(t);return e.length==1&&e[0][2]?A1e(e[0][0],e[0][1]):function(n){return n===t||E1e(n,t,e)}}var T1e=P1e,C1e=Ci,k1e=xp,O1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,R1e=/^\w*$/;function M1e(t,e){if(C1e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||k1e(t)?!0:R1e.test(t)||!O1e.test(t)||e!=null&&t in Object(e)}var Q2=M1e,T6=U2,N1e="Expected a function";function Z2(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(N1e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(Z2.Cache||T6),n}Z2.Cache=T6;var I1e=Z2,D1e=I1e,L1e=500;function F1e(t){var e=D1e(t,function(r){return n.size===L1e&&n.clear(),r}),n=e.cache;return e}var j1e=F1e,B1e=j1e,V1e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,z1e=/\\(\\)?/g,U1e=B1e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(V1e,function(n,r,i,s){e.push(i?s.replace(z1e,"$1"):r||n)}),e}),C6=U1e;function q1e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var eT=q1e,XD=Sp,H1e=eT,W1e=Ci,G1e=xp,K1e=1/0,QD=XD?XD.prototype:void 0,ZD=QD?QD.toString:void 0;function k6(t){if(typeof t=="string")return t;if(W1e(t))return H1e(t,k6)+"";if(G1e(t))return ZD?ZD.call(t):"";var e=t+"";return e=="0"&&1/t==-K1e?"-0":e}var Y1e=k6,J1e=Y1e;function X1e(t){return t==null?"":J1e(t)}var fv=X1e,Q1e=Ci,Z1e=Q2,ewe=C6,twe=fv;function nwe(t,e){return Q1e(t)?t:Z1e(t,e)?[t]:ewe(twe(t))}var tT=nwe,rwe=xp,iwe=1/0;function swe(t){if(typeof t=="string"||rwe(t))return t;var e=t+"";return e=="0"&&1/t==-iwe?"-0":e}var kp=swe,awe=tT,owe=kp;function lwe(t,e){e=awe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[owe(e[n++])];return n&&n==r?t:void 0}var O6=lwe,uwe=O6;function cwe(t,e,n){var r=t==null?void 0:uwe(t,e);return r===void 0?n:r}var R6=cwe;const ds=Tr(R6);function fwe(t,e){return t!=null&&e in Object(t)}var hwe=fwe,dwe=tT,pwe=lv,mwe=Ci,gwe=cv,vwe=G2,ywe=kp;function _we(t,e,n){e=dwe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=ywe(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&vwe(i)&&gwe(a,i)&&(mwe(t)||pwe(t)))}var M6=_we,bwe=hwe,wwe=M6;function Swe(t,e){return t!=null&&wwe(t,e,bwe)}var xwe=Swe,Ewe=X2,$we=R6,Awe=xwe,Pwe=Q2,Twe=A6,Cwe=P6,kwe=kp,Owe=1,Rwe=2;function Mwe(t,e){return Pwe(t)&&Twe(e)?Cwe(kwe(t),e):function(n){var r=$we(n,t);return r===void 0&&r===e?Awe(n,t):Ewe(e,r,Owe|Rwe)}}var Nwe=Mwe;function Iwe(t){return t}var rw=Iwe;function Dwe(t){return function(e){return e==null?void 0:e[t]}}var Lwe=Dwe,Fwe=O6;function jwe(t){return function(e){return Fwe(e,t)}}var Bwe=jwe,Vwe=Lwe,zwe=Bwe,Uwe=Q2,qwe=kp;function Hwe(t){return Uwe(t)?Vwe(qwe(t)):zwe(t)}var Wwe=Hwe,Gwe=T1e,Kwe=Nwe,Ywe=rw,Jwe=Ci,Xwe=Wwe;function Qwe(t){return typeof t=="function"?t:t==null?Ywe:typeof t=="object"?Jwe(t)?Kwe(t[0],t[1]):Gwe(t):Xwe(t)}var hv=Qwe,Zwe=Age,eSe=Tge,tSe=hv;function nSe(t,e){return t&&t.length?Zwe(t,tSe(e),eSe):void 0}var rSe=nSe;const nT=Tr(rSe);var iSe=J2,sSe=Cp,aSe=lv,oSe=Ci,lSe=Jc,uSe=uv,cSe=nw,fSe=tw,hSe="[object Map]",dSe="[object Set]",pSe=Object.prototype,mSe=pSe.hasOwnProperty;function gSe(t){if(t==null)return!0;if(lSe(t)&&(oSe(t)||typeof t=="string"||typeof t.splice=="function"||uSe(t)||fSe(t)||aSe(t)))return!t.length;var e=sSe(t);if(e==hSe||e==dSe)return!t.size;if(cSe(t))return!iSe(t).length;for(var n in t)if(mSe.call(t,n))return!1;return!0}var vSe=gSe;const Kn=Tr(vSe);function ySe(t,e,n,r){var i=-1,s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}var _Se=ySe;function bSe(t){return function(e){return t==null?void 0:t[e]}}var wSe=bSe,SSe=wSe,xSe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ESe=SSe(xSe),$Se=ESe,ASe=$Se,PSe=fv,TSe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,CSe="\\u0300-\\u036f",kSe="\\ufe20-\\ufe2f",OSe="\\u20d0-\\u20ff",RSe=CSe+kSe+OSe,MSe="["+RSe+"]",NSe=RegExp(MSe,"g");function ISe(t){return t=PSe(t),t&&t.replace(TSe,ASe).replace(NSe,"")}var DSe=ISe,LSe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function FSe(t){return t.match(LSe)||[]}var jSe=FSe,BSe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function VSe(t){return BSe.test(t)}var zSe=VSe,N6="\\ud800-\\udfff",USe="\\u0300-\\u036f",qSe="\\ufe20-\\ufe2f",HSe="\\u20d0-\\u20ff",WSe=USe+qSe+HSe,I6="\\u2700-\\u27bf",D6="a-z\\xdf-\\xf6\\xf8-\\xff",GSe="\\xac\\xb1\\xd7\\xf7",KSe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",YSe="\\u2000-\\u206f",JSe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",L6="A-Z\\xc0-\\xd6\\xd8-\\xde",XSe="\\ufe0e\\ufe0f",F6=GSe+KSe+YSe+JSe,j6="[']",eL="["+F6+"]",QSe="["+WSe+"]",B6="\\d+",ZSe="["+I6+"]",V6="["+D6+"]",z6="[^"+N6+F6+B6+I6+D6+L6+"]",exe="\\ud83c[\\udffb-\\udfff]",txe="(?:"+QSe+"|"+exe+")",nxe="[^"+N6+"]",U6="(?:\\ud83c[\\udde6-\\uddff]){2}",q6="[\\ud800-\\udbff][\\udc00-\\udfff]",fd="["+L6+"]",rxe="\\u200d",tL="(?:"+V6+"|"+z6+")",ixe="(?:"+fd+"|"+z6+")",nL="(?:"+j6+"(?:d|ll|m|re|s|t|ve))?",rL="(?:"+j6+"(?:D|LL|M|RE|S|T|VE))?",H6=txe+"?",W6="["+XSe+"]?",sxe="(?:"+rxe+"(?:"+[nxe,U6,q6].join("|")+")"+W6+H6+")*",axe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oxe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",lxe=W6+H6+sxe,uxe="(?:"+[ZSe,U6,q6].join("|")+")"+lxe,cxe=RegExp([fd+"?"+V6+"+"+nL+"(?="+[eL,fd,"$"].join("|")+")",ixe+"+"+rL+"(?="+[eL,fd+tL,"$"].join("|")+")",fd+"?"+tL+"+"+nL,fd+"+"+rL,oxe,axe,B6,uxe].join("|"),"g");function fxe(t){return t.match(cxe)||[]}var hxe=fxe,dxe=jSe,pxe=zSe,mxe=fv,gxe=hxe;function vxe(t,e,n){return t=mxe(t),e=n?void 0:e,e===void 0?pxe(t)?gxe(t):dxe(t):t.match(e)||[]}var yxe=vxe,_xe=_Se,bxe=DSe,wxe=yxe,Sxe="[']",xxe=RegExp(Sxe,"g");function Exe(t){return function(e){return _xe(wxe(bxe(e).replace(xxe,"")),t,"")}}var $xe=Exe;function Axe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Pxe=Axe,Txe=Pxe;function Cxe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Txe(t,e,n)}var kxe=Cxe,Oxe="\\ud800-\\udfff",Rxe="\\u0300-\\u036f",Mxe="\\ufe20-\\ufe2f",Nxe="\\u20d0-\\u20ff",Ixe=Rxe+Mxe+Nxe,Dxe="\\ufe0e\\ufe0f",Lxe="\\u200d",Fxe=RegExp("["+Lxe+Oxe+Ixe+Dxe+"]");function jxe(t){return Fxe.test(t)}var G6=jxe;function Bxe(t){return t.split("")}var Vxe=Bxe,K6="\\ud800-\\udfff",zxe="\\u0300-\\u036f",Uxe="\\ufe20-\\ufe2f",qxe="\\u20d0-\\u20ff",Hxe=zxe+Uxe+qxe,Wxe="\\ufe0e\\ufe0f",Gxe="["+K6+"]",yA="["+Hxe+"]",_A="\\ud83c[\\udffb-\\udfff]",Kxe="(?:"+yA+"|"+_A+")",Y6="[^"+K6+"]",J6="(?:\\ud83c[\\udde6-\\uddff]){2}",X6="[\\ud800-\\udbff][\\udc00-\\udfff]",Yxe="\\u200d",Q6=Kxe+"?",Z6="["+Wxe+"]?",Jxe="(?:"+Yxe+"(?:"+[Y6,J6,X6].join("|")+")"+Z6+Q6+")*",Xxe=Z6+Q6+Jxe,Qxe="(?:"+[Y6+yA+"?",yA,J6,X6,Gxe].join("|")+")",Zxe=RegExp(_A+"(?="+_A+")|"+Qxe+Xxe,"g");function eEe(t){return t.match(Zxe)||[]}var tEe=eEe,nEe=Vxe,rEe=G6,iEe=tEe;function sEe(t){return rEe(t)?iEe(t):nEe(t)}var aEe=sEe,oEe=kxe,lEe=G6,uEe=aEe,cEe=fv;function fEe(t){return function(e){e=cEe(e);var n=lEe(e)?uEe(e):void 0,r=n?n[0]:e.charAt(0),i=n?oEe(n,1).join(""):e.slice(1);return r[t]()+i}}var hEe=fEe,dEe=hEe,pEe=dEe("toUpperCase"),mEe=pEe,gEe=$xe,vEe=mEe,yEe=gEe(function(t,e,n){return t+(n?" ":"")+vEe(e)}),_Ee=yEe;const e8=Tr(_Ee);var iL=Sp,bEe=lv,wEe=Ci,sL=iL?iL.isConcatSpreadable:void 0;function SEe(t){return wEe(t)||bEe(t)||!!(sL&&t&&t[sL])}var xEe=SEe,EEe=H2,$Ee=xEe;function t8(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=$Ee),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?t8(o,e-1,n,r,i):EEe(i,o):r||(i[i.length]=o)}return i}var n8=t8;function AEe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rT=AEe,PEe=rT,aL=Math.max;function TEe(t,e,n){return e=aL(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=aL(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),PEe(t,this,o)}}var r8=TEe;function CEe(t){return function(){return t}}var kEe=CEe,OEe=Eh,REe=function(){try{var t=OEe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),i8=REe,MEe=kEe,oL=i8,NEe=rw,IEe=oL?function(t,e){return oL(t,"toString",{configurable:!0,enumerable:!1,value:MEe(e),writable:!0})}:NEe,DEe=IEe,LEe=800,FEe=16,jEe=Date.now;function BEe(t){var e=0,n=0;return function(){var r=jEe(),i=FEe-(r-n);if(n=r,i>0){if(++e>=LEe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var s8=BEe,VEe=DEe,zEe=s8,UEe=zEe(VEe),iT=UEe,qEe=rw,HEe=r8,WEe=iT;function GEe(t,e){return WEe(HEe(t,e,qEe),t+"")}var a8=GEe;function KEe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var o8=KEe;function YEe(t){return t!==t}var JEe=YEe;function XEe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var QEe=XEe,ZEe=o8,e$e=JEe,t$e=QEe;function n$e(t,e,n){return e===e?t$e(t,e,n):ZEe(t,e$e,n)}var l8=n$e,r$e=l8;function i$e(t,e){var n=t==null?0:t.length;return!!n&&r$e(t,e,0)>-1}var u8=i$e;function s$e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var a$e=s$e;function o$e(){}var c8=o$e,qx=S6,l$e=c8,u$e=q2,c$e=1/0,f$e=qx&&1/u$e(new qx([,-0]))[1]==c$e?function(t){return new qx(t)}:l$e,h$e=f$e,d$e=f6,p$e=u8,m$e=a$e,g$e=h6,v$e=h$e,y$e=q2,_$e=200;function b$e(t,e,n){var r=-1,i=p$e,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=m$e;else if(s>=_$e){var u=e?null:v$e(t);if(u)return y$e(u);a=!1,i=g$e,l=new d$e}else l=e?[]:o;e:for(;++r<s;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(c)}else i(l,f,n)||(l!==o&&l.push(f),o.push(c))}return o}var w$e=b$e,S$e=Jc,x$e=Da;function E$e(t){return x$e(t)&&S$e(t)}var f8=E$e,$$e=n8,A$e=a8,P$e=w$e,T$e=f8,C$e=A$e(function(t){return P$e($$e(t,1,T$e,!0))}),k$e=C$e;const O$e=Tr(k$e);var lL=i8;function R$e(t,e,n){e=="__proto__"&&lL?lL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var sT=R$e,M$e=sT,N$e=av;function I$e(t,e,n){(n!==void 0&&!N$e(t[e],n)||n===void 0&&!(e in t))&&M$e(t,e,n)}var h8=I$e;function D$e(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var L$e=D$e,F$e=L$e,j$e=F$e(),d8=j$e,Cb={exports:{}};Cb.exports;(function(t,e){var n=ma,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s?n.Buffer:void 0,o=a?a.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=o?o(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(Cb,Cb.exports);var p8=Cb.exports,uL=p6;function B$e(t){var e=new t.constructor(t.byteLength);return new uL(e).set(new uL(t)),e}var aT=B$e,V$e=aT;function z$e(t,e){var n=e?V$e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var m8=z$e;function U$e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var dv=U$e,q$e=So,cL=Object.create,H$e=function(){function t(){}return function(e){if(!q$e(e))return{};if(cL)return cL(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),iw=H$e,W$e=b6,G$e=W$e(Object.getPrototypeOf,Object),oT=G$e,K$e=iw,Y$e=oT,J$e=nw;function X$e(t){return typeof t.constructor=="function"&&!J$e(t)?K$e(Y$e(t)):{}}var g8=X$e,Q$e=Yc,Z$e=oT,eAe=Da,tAe="[object Object]",nAe=Function.prototype,rAe=Object.prototype,v8=nAe.toString,iAe=rAe.hasOwnProperty,sAe=v8.call(Object);function aAe(t){if(!eAe(t)||Q$e(t)!=tAe)return!1;var e=Z$e(t);if(e===null)return!0;var n=iAe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&v8.call(n)==sAe}var y8=aAe;function oAe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var _8=oAe,lAe=sT,uAe=av,cAe=Object.prototype,fAe=cAe.hasOwnProperty;function hAe(t,e,n){var r=t[e];(!(fAe.call(t,e)&&uAe(r,n))||n===void 0&&!(e in t))&&lAe(t,e,n)}var lT=hAe,dAe=lT,pAe=sT;function mAe(t,e,n,r){var i=!n;n||(n={});for(var s=-1,a=e.length;++s<a;){var o=e[s],l=r?r(n[o],t[o],o,n,t):void 0;l===void 0&&(l=t[o]),i?pAe(n,o,l):dAe(n,o,l)}return n}var pv=mAe;function gAe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var vAe=gAe,yAe=So,_Ae=nw,bAe=vAe,wAe=Object.prototype,SAe=wAe.hasOwnProperty;function xAe(t){if(!yAe(t))return bAe(t);var e=_Ae(t),n=[];for(var r in t)r=="constructor"&&(e||!SAe.call(t,r))||n.push(r);return n}var EAe=xAe,$Ae=_6,AAe=EAe,PAe=Jc;function TAe(t){return PAe(t)?$Ae(t,!0):AAe(t)}var mv=TAe,CAe=pv,kAe=mv;function OAe(t){return CAe(t,kAe(t))}var RAe=OAe,fL=h8,MAe=p8,NAe=m8,IAe=dv,DAe=g8,hL=lv,dL=Ci,LAe=f8,FAe=uv,jAe=ov,BAe=So,VAe=y8,zAe=tw,pL=_8,UAe=RAe;function qAe(t,e,n,r,i,s,a){var o=pL(t,n),l=pL(e,n),u=a.get(l);if(u){fL(t,n,u);return}var c=s?s(o,l,n+"",t,e,a):void 0,f=c===void 0;if(f){var d=dL(l),v=!d&&FAe(l),_=!d&&!v&&zAe(l);c=l,d||v||_?dL(o)?c=o:LAe(o)?c=IAe(o):v?(f=!1,c=MAe(l,!0)):_?(f=!1,c=NAe(l,!0)):c=[]:VAe(l)||hL(l)?(c=o,hL(o)?c=UAe(o):(!BAe(o)||jAe(o))&&(c=DAe(l))):f=!1}f&&(a.set(l,c),i(c,l,r,s,a),a.delete(l)),fL(t,n,c)}var HAe=qAe,WAe=ew,GAe=h8,KAe=d8,YAe=HAe,JAe=So,XAe=mv,QAe=_8;function b8(t,e,n,r,i){t!==e&&KAe(e,function(s,a){if(i||(i=new WAe),JAe(s))YAe(t,e,a,n,b8,r,i);else{var o=r?r(QAe(t,a),s,a+"",t,e,i):void 0;o===void 0&&(o=s),GAe(t,a,o)}},XAe)}var w8=b8,ZAe=av,ePe=Jc,tPe=cv,nPe=So;function rPe(t,e,n){if(!nPe(n))return!1;var r=typeof e;return(r=="number"?ePe(n)&&tPe(e,n.length):r=="string"&&e in n)?ZAe(n[e],t):!1}var S8=rPe,iPe=a8,sPe=S8;function aPe(t){return iPe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,a&&sPe(n[0],n[1],a)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var o=n[r];o&&t(e,o,r,s)}return e})}var x8=aPe,oPe=w8,lPe=x8,uPe=lPe(function(t,e,n){oPe(t,e,n)}),cPe=uPe;const Rc=Tr(cPe);function fPe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var uT=fPe,hPe=pv,dPe=Xc;function pPe(t,e){return t&&hPe(e,dPe(e),t)}var E8=pPe,mPe=pv,gPe=mv;function vPe(t,e){return t&&mPe(e,gPe(e),t)}var yPe=vPe,_Pe=pv,bPe=W2;function wPe(t,e){return _Pe(t,bPe(t),e)}var SPe=wPe,xPe=H2,EPe=oT,$Pe=W2,APe=v6,PPe=Object.getOwnPropertySymbols,TPe=PPe?function(t){for(var e=[];t;)xPe(e,$Pe(t)),t=EPe(t);return e}:APe,$8=TPe,CPe=pv,kPe=$8;function OPe(t,e){return CPe(t,kPe(t),e)}var RPe=OPe,MPe=m6,NPe=$8,IPe=mv;function DPe(t){return MPe(t,IPe,NPe)}var LPe=DPe,FPe=Object.prototype,jPe=FPe.hasOwnProperty;function BPe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&jPe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var VPe=BPe,zPe=aT;function UPe(t,e){var n=e?zPe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var qPe=UPe,HPe=/\w*$/;function WPe(t){var e=new t.constructor(t.source,HPe.exec(t));return e.lastIndex=t.lastIndex,e}var GPe=WPe,mL=Sp,gL=mL?mL.prototype:void 0,vL=gL?gL.valueOf:void 0;function KPe(t){return vL?Object(vL.call(t)):{}}var YPe=KPe,JPe=aT,XPe=qPe,QPe=GPe,ZPe=YPe,e2e=m8,t2e="[object Boolean]",n2e="[object Date]",r2e="[object Map]",i2e="[object Number]",s2e="[object RegExp]",a2e="[object Set]",o2e="[object String]",l2e="[object Symbol]",u2e="[object ArrayBuffer]",c2e="[object DataView]",f2e="[object Float32Array]",h2e="[object Float64Array]",d2e="[object Int8Array]",p2e="[object Int16Array]",m2e="[object Int32Array]",g2e="[object Uint8Array]",v2e="[object Uint8ClampedArray]",y2e="[object Uint16Array]",_2e="[object Uint32Array]";function b2e(t,e,n){var r=t.constructor;switch(e){case u2e:return JPe(t);case t2e:case n2e:return new r(+t);case c2e:return XPe(t,n);case f2e:case h2e:case d2e:case p2e:case m2e:case g2e:case v2e:case y2e:case _2e:return e2e(t,n);case r2e:return new r;case i2e:case o2e:return new r(t);case s2e:return QPe(t);case a2e:return new r;case l2e:return ZPe(t)}}var w2e=b2e,S2e=Cp,x2e=Da,E2e="[object Map]";function $2e(t){return x2e(t)&&S2e(t)==E2e}var A2e=$2e,P2e=A2e,T2e=K2,yL=Y2,_L=yL&&yL.isMap,C2e=_L?T2e(_L):P2e,k2e=C2e,O2e=Cp,R2e=Da,M2e="[object Set]";function N2e(t){return R2e(t)&&O2e(t)==M2e}var I2e=N2e,D2e=I2e,L2e=K2,bL=Y2,wL=bL&&bL.isSet,F2e=wL?L2e(wL):D2e,j2e=F2e,B2e=ew,V2e=uT,z2e=lT,U2e=E8,q2e=yPe,H2e=p8,W2e=dv,G2e=SPe,K2e=RPe,Y2e=w6,J2e=LPe,X2e=Cp,Q2e=VPe,Z2e=w2e,eTe=g8,tTe=Ci,nTe=uv,rTe=k2e,iTe=So,sTe=j2e,aTe=Xc,oTe=mv,lTe=1,uTe=2,cTe=4,A8="[object Arguments]",fTe="[object Array]",hTe="[object Boolean]",dTe="[object Date]",pTe="[object Error]",P8="[object Function]",mTe="[object GeneratorFunction]",gTe="[object Map]",vTe="[object Number]",T8="[object Object]",yTe="[object RegExp]",_Te="[object Set]",bTe="[object String]",wTe="[object Symbol]",STe="[object WeakMap]",xTe="[object ArrayBuffer]",ETe="[object DataView]",$Te="[object Float32Array]",ATe="[object Float64Array]",PTe="[object Int8Array]",TTe="[object Int16Array]",CTe="[object Int32Array]",kTe="[object Uint8Array]",OTe="[object Uint8ClampedArray]",RTe="[object Uint16Array]",MTe="[object Uint32Array]",dr={};dr[A8]=dr[fTe]=dr[xTe]=dr[ETe]=dr[hTe]=dr[dTe]=dr[$Te]=dr[ATe]=dr[PTe]=dr[TTe]=dr[CTe]=dr[gTe]=dr[vTe]=dr[T8]=dr[yTe]=dr[_Te]=dr[bTe]=dr[wTe]=dr[kTe]=dr[OTe]=dr[RTe]=dr[MTe]=!0;dr[pTe]=dr[P8]=dr[STe]=!1;function l_(t,e,n,r,i,s){var a,o=e&lTe,l=e&uTe,u=e&cTe;if(n&&(a=i?n(t,r,i,s):n(t)),a!==void 0)return a;if(!iTe(t))return t;var c=tTe(t);if(c){if(a=Q2e(t),!o)return W2e(t,a)}else{var f=X2e(t),d=f==P8||f==mTe;if(nTe(t))return H2e(t,o);if(f==T8||f==A8||d&&!i){if(a=l||d?{}:eTe(t),!o)return l?K2e(t,q2e(a,t)):G2e(t,U2e(a,t))}else{if(!dr[f])return i?t:{};a=Z2e(t,f,o)}}s||(s=new B2e);var v=s.get(t);if(v)return v;s.set(t,a),sTe(t)?t.forEach(function(b){a.add(l_(b,e,n,b,t,s))}):rTe(t)&&t.forEach(function(b,y){a.set(y,l_(b,e,n,y,t,s))});var _=u?l?J2e:Y2e:l?oTe:aTe,S=c?void 0:_(t);return V2e(S||t,function(b,y){S&&(y=b,b=t[y]),z2e(a,y,l_(b,e,n,y,t,s))}),a}var cT=l_,NTe=cT,ITe=1,DTe=4;function LTe(t){return NTe(t,ITe|DTe)}var FTe=LTe;const tl=Tr(FTe);var C8={};(function(t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var i in n){var s=n[i];e.call(r,s)?r[s].push(i):r[s]=[i]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}})(C8);var Hx,SL;function k8(){return SL||(SL=1,Hx={}),Hx}var pi=C8,jTe=k8(),xL=Array.prototype.push;function BTe(t,e){return e==2?function(n,r){return t.apply(void 0,arguments)}:function(n){return t.apply(void 0,arguments)}}function Wx(t,e){return e==2?function(n,r){return t(n,r)}:function(n){return t(n)}}function EL(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function VTe(t){return function(e){return t({},e)}}function zTe(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var s=i[e],a=i.slice(0,e);return s&&xL.apply(a,s),e!=r&&xL.apply(a,i.slice(e+1)),t.apply(this,a)}}function Gx(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}function bA(t,e,n,r){var i=typeof e=="function",s=e===Object(e);if(s&&(r=n,n=e,e=void 0),n==null)throw new TypeError;r||(r={});var a={cap:"cap"in r?r.cap:!0,curry:"curry"in r?r.curry:!0,fixed:"fixed"in r?r.fixed:!0,immutable:"immutable"in r?r.immutable:!0,rearg:"rearg"in r?r.rearg:!0},o=i?n:jTe,l="curry"in r&&r.curry,u="fixed"in r&&r.fixed,c="rearg"in r&&r.rearg,f=i?n.runInContext():void 0,d=i?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},v=d.ary,_=d.assign,S=d.clone,b=d.curry,y=d.forEach,A=d.isArray,R=d.isError,M=d.isFunction,$=d.isWeakMap,p=d.keys,x=d.rearg,T=d.toInteger,D=d.toPath,C=p(pi.aryMethod),U={castArray:function(I){return function(){var J=arguments[0];return A(J)?I(EL(J)):I.apply(void 0,arguments)}},iteratee:function(I){return function(){var J=arguments[0],ue=arguments[1],_e=I(J,ue),ke=_e.length;return a.cap&&typeof ue=="number"?(ue=ue>2?ue-2:1,ke&&ke<=ue?_e:Wx(_e,ue)):_e}},mixin:function(I){return function(J){var ue=this;if(!M(ue))return I(ue,Object(J));var _e=[];return y(p(J),function(ke){M(J[ke])&&_e.push([ke,ue.prototype[ke]])}),I(ue,Object(J)),y(_e,function(ke){var Ve=ke[1];M(Ve)?ue.prototype[ke[0]]=Ve:delete ue.prototype[ke[0]]}),ue}},nthArg:function(I){return function(J){var ue=J<0?1:T(J)+1;return b(I(J),ue)}},rearg:function(I){return function(J,ue){var _e=ue?ue.length:0;return b(I(J,ue),_e)}},runInContext:function(I){return function(J){return bA(t,I(J),r)}}};function G(I,J){if(a.cap){var ue=pi.iterateeRearg[I];if(ue)return ae(J,ue);var _e=!i&&pi.iterateeAry[I];if(_e)return Me(J,_e)}return J}function se(I,J,ue){return l||a.curry&&ue>1?b(J,ue):J}function re(I,J,ue){if(a.fixed&&(u||!pi.skipFixed[I])){var _e=pi.methodSpread[I],ke=_e&&_e.start;return ke===void 0?v(J,ue):zTe(J,ke)}return J}function ye(I,J,ue){return a.rearg&&ue>1&&(c||!pi.skipRearg[I])?x(J,pi.methodRearg[I]||pi.aryRearg[ue]):J}function Pe(I,J){J=D(J);for(var ue=-1,_e=J.length,ke=_e-1,Ve=S(Object(I)),We=Ve;We!=null&&++ue<_e;){var Y=J[ue],Q=We[Y];Q!=null&&!(M(Q)||R(Q)||$(Q))&&(We[Y]=S(ue==ke?Q:Object(Q))),We=We[Y]}return Ve}function Ae(I){return V.runInContext.convert(I)(void 0)}function Ie(I,J){var ue=pi.aliasToReal[I]||I,_e=pi.remap[ue]||ue,ke=r;return function(Ve){var We=i?f:d,Y=i?f[_e]:J,Q=_(_({},ke),Ve);return bA(We,ue,Y,Q)}}function Me(I,J){return H(I,function(ue){return typeof ue=="function"?Wx(ue,J):ue})}function ae(I,J){return H(I,function(ue){var _e=J.length;return BTe(x(Wx(ue,_e),J),_e)})}function H(I,J){return function(){var ue=arguments.length;if(!ue)return I();for(var _e=Array(ue);ue--;)_e[ue]=arguments[ue];var ke=a.rearg?0:ue-1;return _e[ke]=J(_e[ke]),I.apply(void 0,_e)}}function X(I,J,ue){var _e,ke=pi.aliasToReal[I]||I,Ve=J,We=U[ke];return We?Ve=We(J):a.immutable&&(pi.mutate.array[ke]?Ve=Gx(J,EL):pi.mutate.object[ke]?Ve=Gx(J,VTe(J)):pi.mutate.set[ke]&&(Ve=Gx(J,Pe))),y(C,function(Y){return y(pi.aryMethod[Y],function(Q){if(ke==Q){var N=pi.methodSpread[ke],F=N&&N.afterRearg;return _e=F?re(ke,ye(ke,Ve,Y),Y):ye(ke,re(ke,Ve,Y),Y),_e=G(ke,_e),_e=se(ke,_e,Y),!1}}),!_e}),_e||(_e=Ve),_e==J&&(_e=l?b(_e,1):function(){return J.apply(this,arguments)}),_e.convert=Ie(ke,J),_e.placeholder=J.placeholder=ue,_e}if(!s)return X(e,n,o);var V=n,k=[];return y(C,function(I){y(pi.aryMethod[I],function(J){var ue=V[pi.remap[J]||J];ue&&k.push([J,X(J,ue,V)])})}),y(p(V),function(I){var J=V[I];if(typeof J=="function"){for(var ue=k.length;ue--;)if(k[ue][0]==I)return;J.convert=Ie(I,J),k.push([I,J])}}),y(k,function(I){V[I[0]]=I[1]}),V.convert=Ae,V.placeholder=V,y(p(V),function(I){y(pi.realToAlias[I]||[],function(J){V[J]=V[I]})}),V}var UTe=bA,$L=x6,qTe=$L&&new $L,O8=qTe,HTe=rw,AL=O8,WTe=AL?function(t,e){return AL.set(t,e),t}:HTe,R8=WTe,GTe=iw,KTe=So;function YTe(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=GTe(t.prototype),r=t.apply(n,e);return KTe(r)?r:n}}var sw=YTe,JTe=sw,XTe=ma,QTe=1;function ZTe(t,e,n){var r=e&QTe,i=JTe(t);function s(){var a=this&&this!==XTe&&this instanceof s?i:t;return a.apply(r?n:this,arguments)}return s}var eCe=ZTe,tCe=Math.max;function nCe(t,e,n,r){for(var i=-1,s=t.length,a=n.length,o=-1,l=e.length,u=tCe(s-a,0),c=Array(l+u),f=!r;++o<l;)c[o]=e[o];for(;++i<a;)(f||i<s)&&(c[n[i]]=t[i]);for(;u--;)c[o++]=t[i++];return c}var M8=nCe,rCe=Math.max;function iCe(t,e,n,r){for(var i=-1,s=t.length,a=-1,o=n.length,l=-1,u=e.length,c=rCe(s-o,0),f=Array(c+u),d=!r;++i<c;)f[i]=t[i];for(var v=i;++l<u;)f[v+l]=e[l];for(;++a<o;)(d||i<s)&&(f[v+n[a]]=t[i++]);return f}var N8=iCe;function sCe(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var aCe=sCe;function oCe(){}var fT=oCe,lCe=iw,uCe=fT,cCe=4294967295;function kb(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=cCe,this.__views__=[]}kb.prototype=lCe(uCe.prototype);kb.prototype.constructor=kb;var hT=kb,PL=O8,fCe=c8,hCe=PL?function(t){return PL.get(t)}:fCe,I8=hCe,dCe={},pCe=dCe,TL=pCe,mCe=Object.prototype,gCe=mCe.hasOwnProperty;function vCe(t){for(var e=t.name+"",n=TL[e],r=gCe.call(TL,e)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==t)return i.name}return e}var yCe=vCe,_Ce=iw,bCe=fT;function Ob(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}Ob.prototype=_Ce(bCe.prototype);Ob.prototype.constructor=Ob;var D8=Ob,wCe=hT,SCe=D8,xCe=dv;function ECe(t){if(t instanceof wCe)return t.clone();var e=new SCe(t.__wrapped__,t.__chain__);return e.__actions__=xCe(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var $Ce=ECe,ACe=hT,CL=D8,PCe=fT,TCe=Ci,CCe=Da,kCe=$Ce,OCe=Object.prototype,RCe=OCe.hasOwnProperty;function Rb(t){if(CCe(t)&&!TCe(t)&&!(t instanceof ACe)){if(t instanceof CL)return t;if(RCe.call(t,"__wrapped__"))return kCe(t)}return new CL(t)}Rb.prototype=PCe.prototype;Rb.prototype.constructor=Rb;var MCe=Rb,NCe=hT,ICe=I8,DCe=yCe,LCe=MCe;function FCe(t){var e=DCe(t),n=LCe[e];if(typeof n!="function"||!(e in NCe.prototype))return!1;if(t===n)return!0;var r=ICe(n);return!!r&&t===r[0]}var jCe=FCe,BCe=R8,VCe=s8,zCe=VCe(BCe),L8=zCe,UCe=/\{\n\/\* \[wrapped with (.+)\] \*/,qCe=/,? & /;function HCe(t){var e=t.match(UCe);return e?e[1].split(qCe):[]}var WCe=HCe,GCe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function KCe(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(GCe,`{
/* [wrapped with `+e+`] */
`)}var YCe=KCe,JCe=uT,XCe=u8,QCe=1,ZCe=2,eke=8,tke=16,nke=32,rke=64,ike=128,ske=256,ake=512,oke=[["ary",ike],["bind",QCe],["bindKey",ZCe],["curry",eke],["curryRight",tke],["flip",ake],["partial",nke],["partialRight",rke],["rearg",ske]];function lke(t,e){return JCe(oke,function(n){var r="_."+n[0];e&n[1]&&!XCe(t,r)&&t.push(r)}),t.sort()}var uke=lke,cke=WCe,fke=YCe,hke=iT,dke=uke;function pke(t,e,n){var r=e+"";return hke(t,fke(r,dke(cke(r),n)))}var F8=pke,mke=jCe,gke=L8,vke=F8,yke=1,_ke=2,bke=4,wke=8,kL=32,OL=64;function Ske(t,e,n,r,i,s,a,o,l,u){var c=e&wke,f=c?a:void 0,d=c?void 0:a,v=c?s:void 0,_=c?void 0:s;e|=c?kL:OL,e&=~(c?OL:kL),e&bke||(e&=~(yke|_ke));var S=[t,e,i,v,f,_,d,o,l,u],b=n.apply(void 0,S);return mke(t)&&gke(b,S),b.placeholder=r,vke(b,t,e)}var j8=Ske;function xke(t){var e=t;return e.placeholder}var B8=xke,Eke=dv,$ke=cv,Ake=Math.min;function Pke(t,e){for(var n=t.length,r=Ake(e.length,n),i=Eke(t);r--;){var s=e[r];t[r]=$ke(s,n)?i[s]:void 0}return t}var Tke=Pke,RL="__lodash_placeholder__";function Cke(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var a=t[n];(a===e||a===RL)&&(t[n]=RL,s[i++]=n)}return s}var dT=Cke,kke=M8,Oke=N8,Rke=aCe,ML=sw,Mke=j8,Nke=B8,Ike=Tke,Dke=dT,Lke=ma,Fke=1,jke=2,Bke=8,Vke=16,zke=128,Uke=512;function V8(t,e,n,r,i,s,a,o,l,u){var c=e&zke,f=e&Fke,d=e&jke,v=e&(Bke|Vke),_=e&Uke,S=d?void 0:ML(t);function b(){for(var y=arguments.length,A=Array(y),R=y;R--;)A[R]=arguments[R];if(v)var M=Nke(b),$=Rke(A,M);if(r&&(A=kke(A,r,i,v)),s&&(A=Oke(A,s,a,v)),y-=$,v&&y<u){var p=Dke(A,M);return Mke(t,e,V8,b.placeholder,n,A,p,o,l,u-y)}var x=f?n:this,T=d?x[t]:t;return y=A.length,o?A=Ike(A,o):_&&y>1&&A.reverse(),c&&l<y&&(A.length=l),this&&this!==Lke&&this instanceof b&&(T=S||ML(T)),T.apply(x,A)}return b}var z8=V8,qke=rT,Hke=sw,Wke=z8,Gke=j8,Kke=B8,Yke=dT,Jke=ma;function Xke(t,e,n){var r=Hke(t);function i(){for(var s=arguments.length,a=Array(s),o=s,l=Kke(i);o--;)a[o]=arguments[o];var u=s<3&&a[0]!==l&&a[s-1]!==l?[]:Yke(a,l);if(s-=u.length,s<n)return Gke(t,e,Wke,i.placeholder,void 0,a,u,void 0,void 0,n-s);var c=this&&this!==Jke&&this instanceof i?r:t;return qke(c,this,a)}return i}var Qke=Xke,Zke=rT,eOe=sw,tOe=ma,nOe=1;function rOe(t,e,n,r){var i=e&nOe,s=eOe(t);function a(){for(var o=-1,l=arguments.length,u=-1,c=r.length,f=Array(c+l),d=this&&this!==tOe&&this instanceof a?s:t;++u<c;)f[u]=r[u];for(;l--;)f[u++]=arguments[++o];return Zke(d,i?n:this,f)}return a}var iOe=rOe,sOe=M8,aOe=N8,NL=dT,IL="__lodash_placeholder__",Kx=1,oOe=2,lOe=4,DL=8,gm=128,LL=256,uOe=Math.min;function cOe(t,e){var n=t[1],r=e[1],i=n|r,s=i<(Kx|oOe|gm),a=r==gm&&n==DL||r==gm&&n==LL&&t[7].length<=e[8]||r==(gm|LL)&&e[7].length<=e[8]&&n==DL;if(!(s||a))return t;r&Kx&&(t[2]=e[2],i|=n&Kx?0:lOe);var o=e[3];if(o){var l=t[3];t[3]=l?sOe(l,o,e[4]):o,t[4]=l?NL(t[3],IL):e[4]}return o=e[5],o&&(l=t[5],t[5]=l?aOe(l,o,e[6]):o,t[6]=l?NL(t[5],IL):e[6]),o=e[7],o&&(t[7]=o),r&gm&&(t[8]=t[8]==null?e[8]:uOe(t[8],e[8])),t[9]==null&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}var fOe=cOe,hOe=/\s/;function dOe(t){for(var e=t.length;e--&&hOe.test(t.charAt(e)););return e}var pOe=dOe,mOe=pOe,gOe=/^\s+/;function vOe(t){return t&&t.slice(0,mOe(t)+1).replace(gOe,"")}var yOe=vOe,_Oe=yOe,FL=So,bOe=xp,jL=0/0,wOe=/^[-+]0x[0-9a-f]+$/i,SOe=/^0b[01]+$/i,xOe=/^0o[0-7]+$/i,EOe=parseInt;function $Oe(t){if(typeof t=="number")return t;if(bOe(t))return jL;if(FL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=FL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=_Oe(t);var n=SOe.test(t);return n||xOe.test(t)?EOe(t.slice(2),n?2:8):wOe.test(t)?jL:+t}var AOe=$Oe,POe=AOe,BL=1/0,TOe=17976931348623157e292;function COe(t){if(!t)return t===0?t:0;if(t=POe(t),t===BL||t===-BL){var e=t<0?-1:1;return e*TOe}return t===t?t:0}var U8=COe,kOe=U8;function OOe(t){var e=kOe(t),n=e%1;return e===e?n?e-n:e:0}var aw=OOe,ROe=R8,MOe=eCe,NOe=Qke,IOe=z8,DOe=iOe,LOe=I8,FOe=fOe,jOe=L8,BOe=F8,VL=aw,VOe="Expected a function",zL=1,zOe=2,Yx=8,Jx=16,Xx=32,UL=64,qL=Math.max;function UOe(t,e,n,r,i,s,a,o){var l=e&zOe;if(!l&&typeof t!="function")throw new TypeError(VOe);var u=r?r.length:0;if(u||(e&=~(Xx|UL),r=i=void 0),a=a===void 0?a:qL(VL(a),0),o=o===void 0?o:VL(o),u-=i?i.length:0,e&UL){var c=r,f=i;r=i=void 0}var d=l?void 0:LOe(t),v=[t,e,n,r,i,c,f,s,a,o];if(d&&FOe(v,d),t=v[0],e=v[1],n=v[2],r=v[3],i=v[4],o=v[9]=v[9]===void 0?l?0:t.length:qL(v[9]-u,0),!o&&e&(Yx|Jx)&&(e&=~(Yx|Jx)),!e||e==zL)var _=MOe(t,e,n);else e==Yx||e==Jx?_=NOe(t,e,o):(e==Xx||e==(zL|Xx))&&!i.length?_=DOe(t,e,n,r):_=IOe.apply(void 0,v);var S=d?ROe:jOe;return BOe(S(_,v),t,e)}var pT=UOe,qOe=pT,HOe=128;function WOe(t,e,n){return e=n?void 0:e,e=t&&e==null?t.length:e,qOe(t,HOe,void 0,void 0,void 0,void 0,e)}var GOe=WOe,KOe=cT,YOe=4;function JOe(t){return KOe(t,YOe)}var XOe=JOe,QOe=pT,ZOe=8;function mT(t,e,n){e=n?void 0:e;var r=QOe(t,ZOe,void 0,void 0,void 0,void 0,void 0,e);return r.placeholder=mT.placeholder,r}mT.placeholder={};var eRe=mT,tRe=Yc,nRe=Da,rRe=y8,iRe="[object DOMException]",sRe="[object Error]";function aRe(t){if(!nRe(t))return!1;var e=tRe(t);return e==sRe||e==iRe||typeof t.message=="string"&&typeof t.name=="string"&&!rRe(t)}var oRe=aRe,lRe=Cp,uRe=Da,cRe="[object WeakMap]";function fRe(t){return uRe(t)&&lRe(t)==cRe}var hRe=fRe,dRe=cT,pRe=hv,mRe=1;function gRe(t){return pRe(typeof t=="function"?t:dRe(t,mRe))}var vRe=gRe,yRe=n8;function _Re(t){var e=t==null?0:t.length;return e?yRe(t,1):[]}var bRe=_Re,wRe=bRe,SRe=r8,xRe=iT;function ERe(t){return xRe(SRe(t,void 0,wRe),t+"")}var $Re=ERe,ARe=pT,PRe=$Re,TRe=256,CRe=PRe(function(t,e){return ARe(t,TRe,void 0,void 0,void 0,e)}),kRe=CRe,ORe=eT,RRe=dv,MRe=Ci,NRe=xp,IRe=C6,DRe=kp,LRe=fv;function FRe(t){return MRe(t)?ORe(t,DRe):NRe(t)?[t]:RRe(IRe(LRe(t)))}var jRe=FRe,BRe={ary:GOe,assign:E8,clone:XOe,curry:eRe,forEach:uT,isArray:Ci,isError:oRe,isFunction:ov,isWeakMap:hRe,iteratee:vRe,keys:J2,rearg:kRe,toInteger:aw,toPath:jRe},VRe=UTe,zRe=BRe;function URe(t,e,n){return VRe(zRe,t,e,n)}var qRe=URe,Qx,HL;function HRe(){if(HL)return Qx;HL=1;var t=lT,e=tT,n=cv,r=So,i=kp;function s(a,o,l,u){if(!r(a))return a;o=e(o,a);for(var c=-1,f=o.length,d=f-1,v=a;v!=null&&++c<f;){var _=i(o[c]),S=l;if(_==="__proto__"||_==="constructor"||_==="prototype")return a;if(c!=d){var b=v[_];S=u?u(b,_,v):void 0,S===void 0&&(S=r(b)?b:n(o[c+1])?[]:{})}t(v,_,S),v=v[_]}return a}return Qx=s,Qx}var Zx,WL;function WRe(){if(WL)return Zx;WL=1;var t=HRe();function e(n,r,i){return n==null?n:t(n,r,i)}return Zx=e,Zx}var GRe=qRe,q8=GRe("set",WRe());q8.placeholder=k8();var KRe=q8;const YRe=Tr(KRe);var JRe=d8,XRe=Xc;function QRe(t,e){return t&&JRe(t,e,XRe)}var ZRe=QRe,eMe=Jc;function tMe(t,e){return function(n,r){if(n==null)return n;if(!eMe(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var nMe=tMe,rMe=ZRe,iMe=nMe,sMe=iMe(rMe),aMe=sMe,oMe=aMe;function lMe(t,e){var n=[];return oMe(t,function(r,i,s){e(r,i,s)&&n.push(r)}),n}var uMe=lMe,cMe=g6,fMe=uMe,hMe=hv,dMe=Ci;function pMe(t,e){var n=dMe(t)?cMe:fMe;return n(t,hMe(e))}var mMe=pMe;const GL=Tr(mMe);var gMe=X2;function vMe(t,e){return gMe(t,e)}var yMe=vMe;const H8=Tr(yMe);var _Me=Yc,bMe=Ci,wMe=Da,SMe="[object String]";function xMe(t){return typeof t=="string"||!bMe(t)&&wMe(t)&&_Me(t)==SMe}var EMe=xMe,$Me=eT;function AMe(t,e){return $Me(e,function(n){return t[n]})}var PMe=AMe,TMe=PMe,CMe=Xc;function kMe(t){return t==null?[]:TMe(t,CMe(t))}var OMe=kMe,RMe=l8,MMe=Jc,NMe=EMe,IMe=aw,DMe=OMe,LMe=Math.max;function FMe(t,e,n,r){t=MMe(t)?t:DMe(t),n=n&&!r?IMe(n):0;var i=t.length;return n<0&&(n=LMe(i+n,0)),NMe(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&RMe(t,e,n)>-1}var jMe=FMe;const BMe=Tr(jMe);var VMe=hv,zMe=Jc,UMe=Xc;function qMe(t){return function(e,n,r){var i=Object(e);if(!zMe(e)){var s=VMe(n);e=UMe(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var HMe=qMe,WMe=o8,GMe=hv,KMe=aw,YMe=Math.max;function JMe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:KMe(n);return i<0&&(i=YMe(r+i,0)),WMe(t,GMe(e),i)}var XMe=JMe,QMe=HMe,ZMe=XMe,eNe=QMe(ZMe),tNe=eNe;const W8=Tr(tNe);var nNe=Math.ceil,rNe=Math.max;function iNe(t,e,n,r){for(var i=-1,s=rNe(nNe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var sNe=iNe,aNe=sNe,oNe=S8,eE=U8;function lNe(t){return function(e,n,r){return r&&typeof r!="number"&&oNe(e,n,r)&&(n=r=void 0),e=eE(e),n===void 0?(n=e,e=0):n=eE(n),r=r===void 0?e<n?1:-1:eE(r),aNe(e,n,r,t)}}var uNe=lNe,cNe=uNe,fNe=cNe(),hNe=fNe;const dNe=Tr(hNe);var pNe=Object.prototype,mNe=pNe.hasOwnProperty;function gNe(t,e){return t!=null&&mNe.call(t,e)}var vNe=gNe,yNe=vNe,_Ne=M6;function bNe(t,e){return t!=null&&_Ne(t,e,yNe)}var wNe=bNe;const SNe=Tr(wNe);var wA={exports:{}},G8={},Qo={},ap={},gv={},vn={},Rg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(A){if(super(),!t.IDENTIFIER.test(A))throw new Error("CodeGen: name must be a valid identifier");this.str=A}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(A){super(),this._items=typeof A=="string"?[A]:A}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const A=this._items[0];return A===""||A==='""'}get str(){var A;return(A=this._str)!==null&&A!==void 0?A:this._str=this._items.reduce((R,M)=>`${R}${M}`,"")}get names(){var A;return(A=this._names)!==null&&A!==void 0?A:this._names=this._items.reduce((R,M)=>(M instanceof n&&(R[M.str]=(R[M.str]||0)+1),R),{})}}t._Code=r,t.nil=new r("");function i(y,...A){const R=[y[0]];let M=0;for(;M<A.length;)o(R,A[M]),R.push(y[++M]);return new r(R)}t._=i;const s=new r("+");function a(y,...A){const R=[v(y[0])];let M=0;for(;M<A.length;)R.push(s),o(R,A[M]),R.push(s,v(y[++M]));return l(R),new r(R)}t.str=a;function o(y,A){A instanceof r?y.push(...A._items):A instanceof n?y.push(A):y.push(f(A))}t.addCodeArg=o;function l(y){let A=1;for(;A<y.length-1;){if(y[A]===s){const R=u(y[A-1],y[A+1]);if(R!==void 0){y.splice(A-1,3,R);continue}y[A++]="+"}A++}}function u(y,A){if(A==='""')return y;if(y==='""')return A;if(typeof y=="string")return A instanceof n||y[y.length-1]!=='"'?void 0:typeof A!="string"?`${y.slice(0,-1)}${A}"`:A[0]==='"'?y.slice(0,-1)+A.slice(1):void 0;if(typeof A=="string"&&A[0]==='"'&&!(y instanceof n))return`"${y}${A.slice(1)}`}function c(y,A){return A.emptyStr()?y:y.emptyStr()?A:a`${y}${A}`}t.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:v(Array.isArray(y)?y.join(","):y)}function d(y){return new r(v(y))}t.stringify=d;function v(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=v;function _(y){return typeof y=="string"&&t.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}t.getProperty=_;function S(y){if(typeof y=="string"&&t.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}t.getEsmExportName=S;function b(y){return new r(y.toString())}t.regexpCode=b})(Rg);var SA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Rg;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=i;class s extends e.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(c)}[${f}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:e.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(u),{prefix:v}=d,_=(f=c.key)!==null&&f!==void 0?f:c.ref;let S=this._values[v];if(S){const A=S.get(_);if(A)return A}else S=this._values[v]=new Map;S.set(_,d);const b=this._scope[v]||(this._scope[v]=[]),y=b.length;return b[y]=c.ref,d.setValue(c,{property:v,itemIndex:y}),d}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(u,c,f={},d){let v=e.nil;for(const _ in u){const S=u[_];if(!S)continue;const b=f[_]=f[_]||new Map;S.forEach(y=>{if(b.has(y))return;b.set(y,r.Started);let A=c(y);if(A){const R=this.opts.es5?t.varKinds.var:t.varKinds.const;v=(0,e._)`${v}${R} ${y} = ${A};${this.opts._n}`}else if(A=d==null?void 0:d(y))v=(0,e._)`${v}${A}${this.opts._n}`;else throw new n(y);b.set(y,r.Completed)})}return v}}t.ValueScope=o})(SA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Rg,n=SA;var r=Rg;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=SA;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(k,I){return this}}class a extends s{constructor(k,I,J){super(),this.varKind=k,this.name=I,this.rhs=J}render({es5:k,_n:I}){const J=k?n.varKinds.var:this.varKind,ue=this.rhs===void 0?"":` = ${this.rhs}`;return`${J} ${this.name}${ue};`+I}optimizeNames(k,I){if(k[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,k,I)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(k,I,J){super(),this.lhs=k,this.rhs=I,this.sideEffects=J}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,I){if(!(this.lhs instanceof e.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,k,I),this}get names(){const k=this.lhs instanceof e.Name?{}:{...this.lhs.names};return se(k,this.rhs)}}class l extends o{constructor(k,I,J,ue){super(k,J,ue),this.op=I}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class u extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class c extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class f extends s{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class d extends s{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,I){return this.code=re(this.code,k,I),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class v extends s{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((I,J)=>I+J.render(k),"")}optimizeNodes(){const{nodes:k}=this;let I=k.length;for(;I--;){const J=k[I].optimizeNodes();Array.isArray(J)?k.splice(I,1,...J):J?k[I]=J:k.splice(I,1)}return k.length>0?this:void 0}optimizeNames(k,I){const{nodes:J}=this;let ue=J.length;for(;ue--;){const _e=J[ue];_e.optimizeNames(k,I)||(ye(k,_e.names),J.splice(ue,1))}return J.length>0?this:void 0}get names(){return this.nodes.reduce((k,I)=>G(k,I.names),{})}}class _ extends v{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class S extends v{}class b extends _{}b.kind="else";class y extends _{constructor(k,I){super(I),this.condition=k}render(k){let I=`if(${this.condition})`+super.render(k);return this.else&&(I+="else "+this.else.render(k)),I}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let I=this.else;if(I){const J=I.optimizeNodes();I=this.else=Array.isArray(J)?new b(J):J}if(I)return k===!1?I instanceof y?I:I.nodes:this.nodes.length?this:new y(Pe(k),I instanceof y?[I]:I.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,I){var J;if(this.else=(J=this.else)===null||J===void 0?void 0:J.optimizeNames(k,I),!!(super.optimizeNames(k,I)||this.else))return this.condition=re(this.condition,k,I),this}get names(){const k=super.names;return se(k,this.condition),this.else&&G(k,this.else.names),k}}y.kind="if";class A extends _{}A.kind="for";class R extends A{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,I){if(super.optimizeNames(k,I))return this.iteration=re(this.iteration,k,I),this}get names(){return G(super.names,this.iteration.names)}}class M extends A{constructor(k,I,J,ue){super(),this.varKind=k,this.name=I,this.from=J,this.to=ue}render(k){const I=k.es5?n.varKinds.var:this.varKind,{name:J,from:ue,to:_e}=this;return`for(${I} ${J}=${ue}; ${J}<${_e}; ${J}++)`+super.render(k)}get names(){const k=se(super.names,this.from);return se(k,this.to)}}class $ extends A{constructor(k,I,J,ue){super(),this.loop=k,this.varKind=I,this.name=J,this.iterable=ue}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,I){if(super.optimizeNames(k,I))return this.iterable=re(this.iterable,k,I),this}get names(){return G(super.names,this.iterable.names)}}class p extends _{constructor(k,I,J){super(),this.name=k,this.args=I,this.async=J}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}p.kind="func";class x extends v{render(k){return"return "+super.render(k)}}x.kind="return";class T extends _{render(k){let I="try"+super.render(k);return this.catch&&(I+=this.catch.render(k)),this.finally&&(I+=this.finally.render(k)),I}optimizeNodes(){var k,I;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(k,I){var J,ue;return super.optimizeNames(k,I),(J=this.catch)===null||J===void 0||J.optimizeNames(k,I),(ue=this.finally)===null||ue===void 0||ue.optimizeNames(k,I),this}get names(){const k=super.names;return this.catch&&G(k,this.catch.names),this.finally&&G(k,this.finally.names),k}}class D extends _{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}D.kind="catch";class C extends _{render(k){return"finally"+super.render(k)}}C.kind="finally";class U{constructor(k,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=k,this._scope=new n.Scope({parent:k}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,I){const J=this._extScope.value(k,I);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(k,I){return this._extScope.getValue(k,I)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,I,J,ue){const _e=this._scope.toName(I);return J!==void 0&&ue&&(this._constants[_e.str]=J),this._leafNode(new a(k,_e,J)),_e}const(k,I,J){return this._def(n.varKinds.const,k,I,J)}let(k,I,J){return this._def(n.varKinds.let,k,I,J)}var(k,I,J){return this._def(n.varKinds.var,k,I,J)}assign(k,I,J){return this._leafNode(new o(k,I,J))}add(k,I){return this._leafNode(new l(k,t.operators.ADD,I))}code(k){return typeof k=="function"?k():k!==e.nil&&this._leafNode(new d(k)),this}object(...k){const I=["{"];for(const[J,ue]of k)I.length>1&&I.push(","),I.push(J),(J!==ue||this.opts.es5)&&(I.push(":"),(0,e.addCodeArg)(I,ue));return I.push("}"),new e._Code(I)}if(k,I,J){if(this._blockNode(new y(k)),I&&J)this.code(I).else().code(J).endIf();else if(I)this.code(I).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new y(k))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(y,b)}_for(k,I){return this._blockNode(k),I&&this.code(I).endFor(),this}for(k,I){return this._for(new R(k),I)}forRange(k,I,J,ue,_e=this.opts.es5?n.varKinds.var:n.varKinds.let){const ke=this._scope.toName(k);return this._for(new M(_e,ke,I,J),()=>ue(ke))}forOf(k,I,J,ue=n.varKinds.const){const _e=this._scope.toName(k);if(this.opts.es5){const ke=I instanceof e.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,e._)`${ke}.length`,Ve=>{this.var(_e,(0,e._)`${ke}[${Ve}]`),J(_e)})}return this._for(new $("of",ue,_e,I),()=>J(_e))}forIn(k,I,J,ue=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,e._)`Object.keys(${I})`,J);const _e=this._scope.toName(k);return this._for(new $("in",ue,_e,I),()=>J(_e))}endFor(){return this._endBlockNode(A)}label(k){return this._leafNode(new u(k))}break(k){return this._leafNode(new c(k))}return(k){const I=new x;if(this._blockNode(I),this.code(k),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(k,I,J){if(!I&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const ue=new T;if(this._blockNode(ue),this.code(k),I){const _e=this.name("e");this._currNode=ue.catch=new D(_e),I(_e)}return J&&(this._currNode=ue.finally=new C,this.code(J)),this._endBlockNode(D,C)}throw(k){return this._leafNode(new f(k))}block(k,I){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(I),this}endBlock(k){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-I;if(J<0||k!==void 0&&J!==k)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${k} expected`);return this._nodes.length=I,this}func(k,I=e.nil,J,ue){return this._blockNode(new p(k,I,J)),ue&&this.code(ue).endFunc(),this}endFunc(){return this._endBlockNode(p)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,I){const J=this._currNode;if(J instanceof k||I&&J instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${k.kind}/${I.kind}`:k.kind}"`)}_elseNode(k){const I=this._currNode;if(!(I instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const I=this._nodes;I[I.length-1]=k}}t.CodeGen=U;function G(V,k){for(const I in k)V[I]=(V[I]||0)+(k[I]||0);return V}function se(V,k){return k instanceof e._CodeOrName?G(V,k.names):V}function re(V,k,I){if(V instanceof e.Name)return J(V);if(!ue(V))return V;return new e._Code(V._items.reduce((_e,ke)=>(ke instanceof e.Name&&(ke=J(ke)),ke instanceof e._Code?_e.push(...ke._items):_e.push(ke),_e),[]));function J(_e){const ke=I[_e.str];return ke===void 0||k[_e.str]!==1?_e:(delete k[_e.str],ke)}function ue(_e){return _e instanceof e._Code&&_e._items.some(ke=>ke instanceof e.Name&&k[ke.str]===1&&I[ke.str]!==void 0)}}function ye(V,k){for(const I in k)V[I]=(V[I]||0)-(k[I]||0)}function Pe(V){return typeof V=="boolean"||typeof V=="number"||V===null?!V:(0,e._)`!${X(V)}`}t.not=Pe;const Ae=H(t.operators.AND);function Ie(...V){return V.reduce(Ae)}t.and=Ie;const Me=H(t.operators.OR);function ae(...V){return V.reduce(Me)}t.or=ae;function H(V){return(k,I)=>k===e.nil?I:I===e.nil?k:(0,e._)`${X(k)} ${V} ${X(I)}`}function X(V){return V instanceof e.Name?V:(0,e._)`(${V})`}})(vn);var jn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=vn,n=Rg;function r(p){const x={};for(const T of p)x[T]=!0;return x}t.toHash=r;function i(p,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(p,x),!a(x,p.self.RULES.all))}t.alwaysValidSchema=i;function s(p,x=p.schema){const{opts:T,self:D}=p;if(!T.strictSchema||typeof x=="boolean")return;const C=D.RULES.keywords;for(const U in x)C[U]||$(p,`unknown keyword: "${U}"`)}t.checkUnknownRules=s;function a(p,x){if(typeof p=="boolean")return!p;for(const T in p)if(x[T])return!0;return!1}t.schemaHasRules=a;function o(p,x){if(typeof p=="boolean")return!p;for(const T in p)if(T!=="$ref"&&x.all[T])return!0;return!1}t.schemaHasRulesButRef=o;function l({topSchemaRef:p,schemaPath:x},T,D,C){if(!C){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${p}${x}${(0,e.getProperty)(D)}`}t.schemaRefOrVal=l;function u(p){return d(decodeURIComponent(p))}t.unescapeFragment=u;function c(p){return encodeURIComponent(f(p))}t.escapeFragment=c;function f(p){return typeof p=="number"?`${p}`:p.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function d(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=d;function v(p,x){if(Array.isArray(p))for(const T of p)x(T);else x(p)}t.eachItem=v;function _({mergeNames:p,mergeToName:x,mergeValues:T,resultToName:D}){return(C,U,G,se)=>{const re=G===void 0?U:G instanceof e.Name?(U instanceof e.Name?p(C,U,G):x(C,U,G),G):U instanceof e.Name?(x(C,G,U),U):T(U,G);return se===e.Name&&!(re instanceof e.Name)?D(C,re):re}}t.mergeEvaluated={props:_({mergeNames:(p,x,T)=>p.if((0,e._)`${T} !== true && ${x} !== undefined`,()=>{p.if((0,e._)`${x} === true`,()=>p.assign(T,!0),()=>p.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${x})`))}),mergeToName:(p,x,T)=>p.if((0,e._)`${T} !== true`,()=>{x===!0?p.assign(T,!0):(p.assign(T,(0,e._)`${T} || {}`),b(p,T,x))}),mergeValues:(p,x)=>p===!0?!0:{...p,...x},resultToName:S}),items:_({mergeNames:(p,x,T)=>p.if((0,e._)`${T} !== true && ${x} !== undefined`,()=>p.assign(T,(0,e._)`${x} === true ? true : ${T} > ${x} ? ${T} : ${x}`)),mergeToName:(p,x,T)=>p.if((0,e._)`${T} !== true`,()=>p.assign(T,x===!0?!0:(0,e._)`${T} > ${x} ? ${T} : ${x}`)),mergeValues:(p,x)=>p===!0?!0:Math.max(p,x),resultToName:(p,x)=>p.var("items",x)})};function S(p,x){if(x===!0)return p.var("props",!0);const T=p.var("props",(0,e._)`{}`);return x!==void 0&&b(p,T,x),T}t.evaluatedPropsToName=S;function b(p,x,T){Object.keys(T).forEach(D=>p.assign((0,e._)`${x}${(0,e.getProperty)(D)}`,!0))}t.setEvaluated=b;const y={};function A(p,x){return p.scopeValue("func",{ref:x,code:y[x.code]||(y[x.code]=new n._Code(x.code))})}t.useFunc=A;var R;(function(p){p[p.Num=0]="Num",p[p.Str=1]="Str"})(R=t.Type||(t.Type={}));function M(p,x,T){if(p instanceof e.Name){const D=x===R.Num;return T?D?(0,e._)`"[" + ${p} + "]"`:(0,e._)`"['" + ${p} + "']"`:D?(0,e._)`"/" + ${p}`:(0,e._)`"/" + ${p}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(p).toString():"/"+f(p)}t.getErrorPath=M;function $(p,x,T=p.opts.strictSchema){if(T){if(x=`strict mode: ${x}`,T===!0)throw new Error(x);p.self.logger.warn(x)}}t.checkStrictMode=$})(jn);var Jl={};Object.defineProperty(Jl,"__esModule",{value:!0});const is=vn,xNe={data:new is.Name("data"),valCxt:new is.Name("valCxt"),instancePath:new is.Name("instancePath"),parentData:new is.Name("parentData"),parentDataProperty:new is.Name("parentDataProperty"),rootData:new is.Name("rootData"),dynamicAnchors:new is.Name("dynamicAnchors"),vErrors:new is.Name("vErrors"),errors:new is.Name("errors"),this:new is.Name("this"),self:new is.Name("self"),scope:new is.Name("scope"),json:new is.Name("json"),jsonPos:new is.Name("jsonPos"),jsonLen:new is.Name("jsonLen"),jsonPart:new is.Name("jsonPart")};Jl.default=xNe;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=vn,n=jn,r=Jl;t.keywordError={message:({keyword:b})=>(0,e.str)`must pass "${b}" keyword validation`},t.keyword$DataError={message:({keyword:b,schemaType:y})=>y?(0,e.str)`"${b}" keyword must be ${y} ($data)`:(0,e.str)`"${b}" keyword is invalid ($data)`};function i(b,y=t.keywordError,A,R){const{it:M}=b,{gen:$,compositeRule:p,allErrors:x}=M,T=f(b,y,A);R??(p||x)?l($,T):u(M,(0,e._)`[${T}]`)}t.reportError=i;function s(b,y=t.keywordError,A){const{it:R}=b,{gen:M,compositeRule:$,allErrors:p}=R,x=f(b,y,A);l(M,x),$||p||u(R,r.default.vErrors)}t.reportExtraError=s;function a(b,y){b.assign(r.default.errors,y),b.if((0,e._)`${r.default.vErrors} !== null`,()=>b.if(y,()=>b.assign((0,e._)`${r.default.vErrors}.length`,y),()=>b.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:b,keyword:y,schemaValue:A,data:R,errsCount:M,it:$}){if(M===void 0)throw new Error("ajv implementation error");const p=b.name("err");b.forRange("i",M,r.default.errors,x=>{b.const(p,(0,e._)`${r.default.vErrors}[${x}]`),b.if((0,e._)`${p}.instancePath === undefined`,()=>b.assign((0,e._)`${p}.instancePath`,(0,e.strConcat)(r.default.instancePath,$.errorPath))),b.assign((0,e._)`${p}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${y}`),$.opts.verbose&&(b.assign((0,e._)`${p}.schema`,A),b.assign((0,e._)`${p}.data`,R))})}t.extendErrors=o;function l(b,y){const A=b.const("err",y);b.if((0,e._)`${r.default.vErrors} === null`,()=>b.assign(r.default.vErrors,(0,e._)`[${A}]`),(0,e._)`${r.default.vErrors}.push(${A})`),b.code((0,e._)`${r.default.errors}++`)}function u(b,y){const{gen:A,validateName:R,schemaEnv:M}=b;M.$async?A.throw((0,e._)`new ${b.ValidationError}(${y})`):(A.assign((0,e._)`${R}.errors`,y),A.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(b,y,A){const{createErrors:R}=b.it;return R===!1?(0,e._)`{}`:d(b,y,A)}function d(b,y,A={}){const{gen:R,it:M}=b,$=[v(M,A),_(b,A)];return S(b,y,$),R.object(...$)}function v({errorPath:b},{instancePath:y}){const A=y?(0,e.str)`${b}${(0,n.getErrorPath)(y,n.Type.Str)}`:b;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,A)]}function _({keyword:b,it:{errSchemaPath:y}},{schemaPath:A,parentSchema:R}){let M=R?y:(0,e.str)`${y}/${b}`;return A&&(M=(0,e.str)`${M}${(0,n.getErrorPath)(A,n.Type.Str)}`),[c.schemaPath,M]}function S(b,{params:y,message:A},R){const{keyword:M,data:$,schemaValue:p,it:x}=b,{opts:T,propertyName:D,topSchemaRef:C,schemaPath:U}=x;R.push([c.keyword,M],[c.params,typeof y=="function"?y(b):y||(0,e._)`{}`]),T.messages&&R.push([c.message,typeof A=="function"?A(b):A]),T.verbose&&R.push([c.schema,p],[c.parentSchema,(0,e._)`${C}${U}`],[r.default.data,$]),D&&R.push([c.propertyName,D])}})(gv);Object.defineProperty(ap,"__esModule",{value:!0});ap.boolOrEmptySchema=ap.topBoolOrEmptySchema=void 0;const ENe=gv,$Ne=vn,ANe=Jl,PNe={message:"boolean schema is false"};function TNe(t){const{gen:e,schema:n,validateName:r}=t;n===!1?K8(t,!1):typeof n=="object"&&n.$async===!0?e.return(ANe.default.data):(e.assign((0,$Ne._)`${r}.errors`,null),e.return(!0))}ap.topBoolOrEmptySchema=TNe;function CNe(t,e){const{gen:n,schema:r}=t;r===!1?(n.var(e,!1),K8(t)):n.var(e,!0)}ap.boolOrEmptySchema=CNe;function K8(t,e){const{gen:n,data:r}=t,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,ENe.reportError)(i,PNe,void 0,e)}var vv={},hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.getRules=hh.isJSONType=void 0;const kNe=["string","number","integer","boolean","null","object","array"],ONe=new Set(kNe);function RNe(t){return typeof t=="string"&&ONe.has(t)}hh.isJSONType=RNe;function MNe(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}hh.getRules=MNe;var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});Pu.shouldUseRule=Pu.shouldUseGroup=Pu.schemaHasRulesForType=void 0;function NNe({schema:t,self:e},n){const r=e.RULES.types[n];return r&&r!==!0&&Y8(t,r)}Pu.schemaHasRulesForType=NNe;function Y8(t,e){return e.rules.some(n=>J8(t,n))}Pu.shouldUseGroup=Y8;function J8(t,e){var n;return t[e.keyword]!==void 0||((n=e.definition.implements)===null||n===void 0?void 0:n.some(r=>t[r]!==void 0))}Pu.shouldUseRule=J8;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=hh,n=Pu,r=gv,i=vn,s=jn;var a;(function(R){R[R.Correct=0]="Correct",R[R.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function o(R){const M=l(R.type);if(M.includes("null")){if(R.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!M.length&&R.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');R.nullable===!0&&M.push("null")}return M}t.getSchemaTypes=o;function l(R){const M=Array.isArray(R)?R:R?[R]:[];if(M.every(e.isJSONType))return M;throw new Error("type must be JSONType or JSONType[]: "+M.join(","))}t.getJSONTypes=l;function u(R,M){const{gen:$,data:p,opts:x}=R,T=f(M,x.coerceTypes),D=M.length>0&&!(T.length===0&&M.length===1&&(0,n.schemaHasRulesForType)(R,M[0]));if(D){const C=S(M,p,x.strictNumbers,a.Wrong);$.if(C,()=>{T.length?d(R,M,T):y(R)})}return D}t.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(R,M){return M?R.filter($=>c.has($)||M==="array"&&$==="array"):[]}function d(R,M,$){const{gen:p,data:x,opts:T}=R,D=p.let("dataType",(0,i._)`typeof ${x}`),C=p.let("coerced",(0,i._)`undefined`);T.coerceTypes==="array"&&p.if((0,i._)`${D} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>p.assign(x,(0,i._)`${x}[0]`).assign(D,(0,i._)`typeof ${x}`).if(S(M,x,T.strictNumbers),()=>p.assign(C,x))),p.if((0,i._)`${C} !== undefined`);for(const G of $)(c.has(G)||G==="array"&&T.coerceTypes==="array")&&U(G);p.else(),y(R),p.endIf(),p.if((0,i._)`${C} !== undefined`,()=>{p.assign(x,C),v(R,C)});function U(G){switch(G){case"string":p.elseIf((0,i._)`${D} == "number" || ${D} == "boolean"`).assign(C,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(C,(0,i._)`""`);return;case"number":p.elseIf((0,i._)`${D} == "boolean" || ${x} === null
              || (${D} == "string" && ${x} && ${x} == +${x})`).assign(C,(0,i._)`+${x}`);return;case"integer":p.elseIf((0,i._)`${D} === "boolean" || ${x} === null
              || (${D} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(C,(0,i._)`+${x}`);return;case"boolean":p.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(C,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(C,!0);return;case"null":p.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),p.assign(C,null);return;case"array":p.elseIf((0,i._)`${D} === "string" || ${D} === "number"
              || ${D} === "boolean" || ${x} === null`).assign(C,(0,i._)`[${x}]`)}}}function v({gen:R,parentData:M,parentDataProperty:$},p){R.if((0,i._)`${M} !== undefined`,()=>R.assign((0,i._)`${M}[${$}]`,p))}function _(R,M,$,p=a.Correct){const x=p===a.Correct?i.operators.EQ:i.operators.NEQ;let T;switch(R){case"null":return(0,i._)`${M} ${x} null`;case"array":T=(0,i._)`Array.isArray(${M})`;break;case"object":T=(0,i._)`${M} && typeof ${M} == "object" && !Array.isArray(${M})`;break;case"integer":T=D((0,i._)`!(${M} % 1) && !isNaN(${M})`);break;case"number":T=D();break;default:return(0,i._)`typeof ${M} ${x} ${R}`}return p===a.Correct?T:(0,i.not)(T);function D(C=i.nil){return(0,i.and)((0,i._)`typeof ${M} == "number"`,C,$?(0,i._)`isFinite(${M})`:i.nil)}}t.checkDataType=_;function S(R,M,$,p){if(R.length===1)return _(R[0],M,$,p);let x;const T=(0,s.toHash)(R);if(T.array&&T.object){const D=(0,i._)`typeof ${M} != "object"`;x=T.null?D:(0,i._)`!${M} || ${D}`,delete T.null,delete T.array,delete T.object}else x=i.nil;T.number&&delete T.integer;for(const D in T)x=(0,i.and)(x,_(D,M,$,p));return x}t.checkDataTypes=S;const b={message:({schema:R})=>`must be ${R}`,params:({schema:R,schemaValue:M})=>typeof R=="string"?(0,i._)`{type: ${R}}`:(0,i._)`{type: ${M}}`};function y(R){const M=A(R);(0,r.reportError)(M,b)}t.reportTypeError=y;function A(R){const{gen:M,data:$,schema:p}=R,x=(0,s.schemaRefOrVal)(R,p,"type");return{gen:M,keyword:"type",data:$,schema:p.type,schemaCode:x,schemaValue:x,parentSchema:p,params:{},it:R}}})(vv);var ow={};Object.defineProperty(ow,"__esModule",{value:!0});ow.assignDefaults=void 0;const Qh=vn,INe=jn;function DNe(t,e){const{properties:n,items:r}=t.schema;if(e==="object"&&n)for(const i in n)KL(t,i,n[i].default);else e==="array"&&Array.isArray(r)&&r.forEach((i,s)=>KL(t,s,i.default))}ow.assignDefaults=DNe;function KL(t,e,n){const{gen:r,compositeRule:i,data:s,opts:a}=t;if(n===void 0)return;const o=(0,Qh._)`${s}${(0,Qh.getProperty)(e)}`;if(i){(0,INe.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,Qh._)`${o} === undefined`;a.useDefaults==="empty"&&(l=(0,Qh._)`${l} || ${o} === null || ${o} === ""`),r.if(l,(0,Qh._)`${o} = ${(0,Qh.stringify)(n)}`)}var Fl={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.validateUnion=pn.validateArray=pn.usePattern=pn.callValidateCode=pn.schemaProperties=pn.allSchemaProperties=pn.noPropertyInData=pn.propertyInData=pn.isOwnProperty=pn.hasPropFunc=pn.reportMissingProp=pn.checkMissingProp=pn.checkReportMissingProp=void 0;const $r=vn,gT=jn,ic=Jl,LNe=jn;function FNe(t,e){const{gen:n,data:r,it:i}=t;n.if(yT(n,r,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,$r._)`${e}`},!0),t.error()})}pn.checkReportMissingProp=FNe;function jNe({gen:t,data:e,it:{opts:n}},r,i){return(0,$r.or)(...r.map(s=>(0,$r.and)(yT(t,e,s,n.ownProperties),(0,$r._)`${i} = ${s}`)))}pn.checkMissingProp=jNe;function BNe(t,e){t.setParams({missingProperty:e},!0),t.error()}pn.reportMissingProp=BNe;function X8(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,$r._)`Object.prototype.hasOwnProperty`})}pn.hasPropFunc=X8;function vT(t,e,n){return(0,$r._)`${X8(t)}.call(${e}, ${n})`}pn.isOwnProperty=vT;function VNe(t,e,n,r){const i=(0,$r._)`${e}${(0,$r.getProperty)(n)} !== undefined`;return r?(0,$r._)`${i} && ${vT(t,e,n)}`:i}pn.propertyInData=VNe;function yT(t,e,n,r){const i=(0,$r._)`${e}${(0,$r.getProperty)(n)} === undefined`;return r?(0,$r.or)(i,(0,$r.not)(vT(t,e,n))):i}pn.noPropertyInData=yT;function Q8(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}pn.allSchemaProperties=Q8;function zNe(t,e){return Q8(e).filter(n=>!(0,gT.alwaysValidSchema)(t,e[n]))}pn.schemaProperties=zNe;function UNe({schemaCode:t,data:e,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:a},o,l,u){const c=u?(0,$r._)`${t}, ${e}, ${r}${i}`:e,f=[[ic.default.instancePath,(0,$r.strConcat)(ic.default.instancePath,s)],[ic.default.parentData,a.parentData],[ic.default.parentDataProperty,a.parentDataProperty],[ic.default.rootData,ic.default.rootData]];a.opts.dynamicRef&&f.push([ic.default.dynamicAnchors,ic.default.dynamicAnchors]);const d=(0,$r._)`${c}, ${n.object(...f)}`;return l!==$r.nil?(0,$r._)`${o}.call(${l}, ${d})`:(0,$r._)`${o}(${d})`}pn.callValidateCode=UNe;const qNe=(0,$r._)`new RegExp`;function HNe({gen:t,it:{opts:e}},n){const r=e.unicodeRegExp?"u":"",{regExp:i}=e.code,s=i(n,r);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,$r._)`${i.code==="new RegExp"?qNe:(0,LNe.useFunc)(t,i)}(${n}, ${r})`})}pn.usePattern=HNe;function WNe(t){const{gen:e,data:n,keyword:r,it:i}=t,s=e.name("valid");if(i.allErrors){const o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(s,!0),a(()=>e.break()),s;function a(o){const l=e.const("len",(0,$r._)`${n}.length`);e.forRange("i",0,l,u=>{t.subschema({keyword:r,dataProp:u,dataPropType:gT.Type.Num},s),e.if((0,$r.not)(s),o)})}}pn.validateArray=WNe;function GNe(t){const{gen:e,schema:n,keyword:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,gT.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=e.let("valid",!1),o=e.name("_valid");e.block(()=>n.forEach((l,u)=>{const c=t.subschema({keyword:r,schemaProp:u,compositeRule:!0},o);e.assign(a,(0,$r._)`${a} || ${o}`),t.mergeValidEvaluated(c,o)||e.if((0,$r.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}pn.validateUnion=GNe;Object.defineProperty(Fl,"__esModule",{value:!0});Fl.validateKeywordUsage=Fl.validSchemaType=Fl.funcKeywordCode=Fl.macroKeywordCode=void 0;const Ts=vn,Ff=Jl,KNe=pn,YNe=gv;function JNe(t,e){const{gen:n,keyword:r,schema:i,parentSchema:s,it:a}=t,o=e.macro.call(a.self,i,s,a),l=Z8(n,r,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const u=n.name("valid");t.subschema({schema:o,schemaPath:Ts.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}Fl.macroKeywordCode=JNe;function XNe(t,e){var n;const{gen:r,keyword:i,schema:s,parentSchema:a,$data:o,it:l}=t;ZNe(l,e);const u=!o&&e.compile?e.compile.call(l.self,s,a,l):e.validate,c=Z8(r,i,u),f=r.let("valid");t.block$data(f,d),t.ok((n=e.valid)!==null&&n!==void 0?n:f);function d(){if(e.errors===!1)S(),e.modifying&&YL(t),b(()=>t.error());else{const y=e.async?v():_();e.modifying&&YL(t),b(()=>QNe(t,y))}}function v(){const y=r.let("ruleErrs",null);return r.try(()=>S((0,Ts._)`await `),A=>r.assign(f,!1).if((0,Ts._)`${A} instanceof ${l.ValidationError}`,()=>r.assign(y,(0,Ts._)`${A}.errors`),()=>r.throw(A))),y}function _(){const y=(0,Ts._)`${c}.errors`;return r.assign(y,null),S(Ts.nil),y}function S(y=e.async?(0,Ts._)`await `:Ts.nil){const A=l.opts.passContext?Ff.default.this:Ff.default.self,R=!("compile"in e&&!o||e.schema===!1);r.assign(f,(0,Ts._)`${y}${(0,KNe.callValidateCode)(t,c,A,R)}`,e.modifying)}function b(y){var A;r.if((0,Ts.not)((A=e.valid)!==null&&A!==void 0?A:f),y)}}Fl.funcKeywordCode=XNe;function YL(t){const{gen:e,data:n,it:r}=t;e.if(r.parentData,()=>e.assign(n,(0,Ts._)`${r.parentData}[${r.parentDataProperty}]`))}function QNe(t,e){const{gen:n}=t;n.if((0,Ts._)`Array.isArray(${e})`,()=>{n.assign(Ff.default.vErrors,(0,Ts._)`${Ff.default.vErrors} === null ? ${e} : ${Ff.default.vErrors}.concat(${e})`).assign(Ff.default.errors,(0,Ts._)`${Ff.default.vErrors}.length`),(0,YNe.extendErrors)(t)},()=>t.error())}function ZNe({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Z8(t,e,n){if(n===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Ts.stringify)(n)})}function eIe(t,e,n=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||n&&typeof t>"u")}Fl.validSchemaType=eIe;function tIe({schema:t,opts:e,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}Fl.validateKeywordUsage=tIe;var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.extendSubschemaMode=Mc.extendSubschemaData=Mc.getSubschema=void 0;const Rl=vn,ez=jn;function nIe(t,{keyword:e,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:a}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return n===void 0?{schema:o,schemaPath:(0,Rl._)`${t.schemaPath}${(0,Rl.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[n],schemaPath:(0,Rl._)`${t.schemaPath}${(0,Rl.getProperty)(e)}${(0,Rl.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,ez.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:a,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Mc.getSubschema=nIe;function rIe(t,e,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:a}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=e,d=o.let("data",(0,Rl._)`${e.data}${(0,Rl.getProperty)(n)}`,!0);l(d),t.errorPath=(0,Rl.str)`${u}${(0,ez.getErrorPath)(n,r,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Rl._)`${n}`,t.dataPathArr=[...c,t.parentDataProperty]}if(i!==void 0){const u=i instanceof Rl.Name?i:o.let("data",i,!0);l(u),a!==void 0&&(t.propertyName=a)}s&&(t.dataTypes=s);function l(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}Mc.extendSubschemaData=rIe;function iIe(t,{jtdDiscriminator:e,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(t.compositeRule=r),i!==void 0&&(t.createErrors=i),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=n}Mc.extendSubschemaMode=iIe;var zi={},tz={exports:{}},xc=tz.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};u_(e,r,i,t,"",t)};xc.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};xc.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};xc.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};xc.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function u_(t,e,n,r,i,s,a,o,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,s,a,o,l,u);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in xc.arrayKeywords)for(var d=0;d<f.length;d++)u_(t,e,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in xc.propsKeywords){if(f&&typeof f=="object")for(var v in f)u_(t,e,n,f[v],i+"/"+c+"/"+sIe(v),s,i,c,r,v)}else(c in xc.keywords||t.allKeys&&!(c in xc.skipKeywords))&&u_(t,e,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,a,o,l,u)}}function sIe(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var aIe=tz.exports;Object.defineProperty(zi,"__esModule",{value:!0});zi.getSchemaRefs=zi.resolveUrl=zi.normalizeId=zi._getFullPath=zi.getFullPath=zi.inlineRef=void 0;const oIe=jn,lIe=xh,uIe=aIe,cIe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function fIe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!xA(t):e?nz(t)<=e:!1}zi.inlineRef=fIe;const hIe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xA(t){for(const e in t){if(hIe.has(e))return!0;const n=t[e];if(Array.isArray(n)&&n.some(xA)||typeof n=="object"&&xA(n))return!0}return!1}function nz(t){let e=0;for(const n in t){if(n==="$ref")return 1/0;if(e++,!cIe.has(n)&&(typeof t[n]=="object"&&(0,oIe.eachItem)(t[n],r=>e+=nz(r)),e===1/0))return 1/0}return e}function rz(t,e="",n){n!==!1&&(e=Ld(e));const r=t.parse(e);return iz(t,r)}zi.getFullPath=rz;function iz(t,e){return t.serialize(e).split("#")[0]+"#"}zi._getFullPath=iz;const dIe=/#\/?$/;function Ld(t){return t?t.replace(dIe,""):""}zi.normalizeId=Ld;function pIe(t,e,n){return n=Ld(n),t.resolve(e,n)}zi.resolveUrl=pIe;const mIe=/^[a-z_][-a-z0-9._]*$/i;function gIe(t,e){if(typeof t=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Ld(t[n]||e),s={"":i},a=rz(r,i,!1),o={},l=new Set;return uIe(t,{allKeys:!0},(f,d,v,_)=>{if(_===void 0)return;const S=a+d;let b=s[_];typeof f[n]=="string"&&(b=y.call(this,f[n])),A.call(this,f.$anchor),A.call(this,f.$dynamicAnchor),s[d]=b;function y(R){const M=this.opts.uriResolver.resolve;if(R=Ld(b?M(b,R):R),l.has(R))throw c(R);l.add(R);let $=this.refs[R];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(f,$.schema,R):R!==Ld(S)&&(R[0]==="#"?(u(f,o[R],R),o[R]=f):this.refs[R]=S),R}function A(R){if(typeof R=="string"){if(!mIe.test(R))throw new Error(`invalid anchor "${R}"`);y.call(this,`#${R}`)}}}),o;function u(f,d,v){if(d!==void 0&&!lIe(f,d))throw c(v)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}zi.getSchemaRefs=gIe;Object.defineProperty(Qo,"__esModule",{value:!0});Qo.getData=Qo.KeywordCxt=Qo.validateFunctionCode=void 0;const sz=ap,JL=vv,_T=Pu,Mb=vv,vIe=ow,Gm=Fl,tE=Mc,Ct=vn,Jt=Jl,yIe=zi,Tu=jn,vm=gv;function _Ie(t){if(lz(t)&&(uz(t),oz(t))){SIe(t);return}az(t,()=>(0,sz.topBoolOrEmptySchema)(t))}Qo.validateFunctionCode=_Ie;function az({gen:t,validateName:e,schema:n,schemaEnv:r,opts:i},s){i.code.es5?t.func(e,(0,Ct._)`${Jt.default.data}, ${Jt.default.valCxt}`,r.$async,()=>{t.code((0,Ct._)`"use strict"; ${XL(n,i)}`),wIe(t,i),t.code(s)}):t.func(e,(0,Ct._)`${Jt.default.data}, ${bIe(i)}`,r.$async,()=>t.code(XL(n,i)).code(s))}function bIe(t){return(0,Ct._)`{${Jt.default.instancePath}="", ${Jt.default.parentData}, ${Jt.default.parentDataProperty}, ${Jt.default.rootData}=${Jt.default.data}${t.dynamicRef?(0,Ct._)`, ${Jt.default.dynamicAnchors}={}`:Ct.nil}}={}`}function wIe(t,e){t.if(Jt.default.valCxt,()=>{t.var(Jt.default.instancePath,(0,Ct._)`${Jt.default.valCxt}.${Jt.default.instancePath}`),t.var(Jt.default.parentData,(0,Ct._)`${Jt.default.valCxt}.${Jt.default.parentData}`),t.var(Jt.default.parentDataProperty,(0,Ct._)`${Jt.default.valCxt}.${Jt.default.parentDataProperty}`),t.var(Jt.default.rootData,(0,Ct._)`${Jt.default.valCxt}.${Jt.default.rootData}`),e.dynamicRef&&t.var(Jt.default.dynamicAnchors,(0,Ct._)`${Jt.default.valCxt}.${Jt.default.dynamicAnchors}`)},()=>{t.var(Jt.default.instancePath,(0,Ct._)`""`),t.var(Jt.default.parentData,(0,Ct._)`undefined`),t.var(Jt.default.parentDataProperty,(0,Ct._)`undefined`),t.var(Jt.default.rootData,Jt.default.data),e.dynamicRef&&t.var(Jt.default.dynamicAnchors,(0,Ct._)`{}`)})}function SIe(t){const{schema:e,opts:n,gen:r}=t;az(t,()=>{n.$comment&&e.$comment&&fz(t),PIe(t),r.let(Jt.default.vErrors,null),r.let(Jt.default.errors,0),n.unevaluated&&xIe(t),cz(t),kIe(t)})}function xIe(t){const{gen:e,validateName:n}=t;t.evaluated=e.const("evaluated",(0,Ct._)`${n}.evaluated`),e.if((0,Ct._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,Ct._)`${t.evaluated}.props`,(0,Ct._)`undefined`)),e.if((0,Ct._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,Ct._)`${t.evaluated}.items`,(0,Ct._)`undefined`))}function XL(t,e){const n=typeof t=="object"&&t[e.schemaId];return n&&(e.code.source||e.code.process)?(0,Ct._)`/*# sourceURL=${n} */`:Ct.nil}function EIe(t,e){if(lz(t)&&(uz(t),oz(t))){$Ie(t,e);return}(0,sz.boolOrEmptySchema)(t,e)}function oz({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const n in t)if(e.RULES.all[n])return!0;return!1}function lz(t){return typeof t.schema!="boolean"}function $Ie(t,e){const{schema:n,gen:r,opts:i}=t;i.$comment&&n.$comment&&fz(t),TIe(t),CIe(t);const s=r.const("_errs",Jt.default.errors);cz(t,s),r.var(e,(0,Ct._)`${s} === ${Jt.default.errors}`)}function uz(t){(0,Tu.checkUnknownRules)(t),AIe(t)}function cz(t,e){if(t.opts.jtd)return QL(t,[],!1,e);const n=(0,JL.getSchemaTypes)(t.schema),r=(0,JL.coerceAndCheckDataType)(t,n);QL(t,n,!r,e)}function AIe(t){const{schema:e,errSchemaPath:n,opts:r,self:i}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,Tu.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function PIe(t){const{schema:e,opts:n}=t;e.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,Tu.checkStrictMode)(t,"default is ignored in the schema root")}function TIe(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,yIe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function CIe(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function fz({gen:t,schemaEnv:e,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)t.code((0,Ct._)`${Jt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const a=(0,Ct.str)`${r}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,Ct._)`${Jt.default.self}.opts.$comment(${s}, ${a}, ${o}.schema)`)}}function kIe(t){const{gen:e,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=t;n.$async?e.if((0,Ct._)`${Jt.default.errors} === 0`,()=>e.return(Jt.default.data),()=>e.throw((0,Ct._)`new ${i}(${Jt.default.vErrors})`)):(e.assign((0,Ct._)`${r}.errors`,Jt.default.vErrors),s.unevaluated&&OIe(t),e.return((0,Ct._)`${Jt.default.errors} === 0`))}function OIe({gen:t,evaluated:e,props:n,items:r}){n instanceof Ct.Name&&t.assign((0,Ct._)`${e}.props`,n),r instanceof Ct.Name&&t.assign((0,Ct._)`${e}.items`,r)}function QL(t,e,n,r){const{gen:i,schema:s,data:a,allErrors:o,opts:l,self:u}=t,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Tu.schemaHasRulesButRef)(s,c))){i.block(()=>pz(t,"$ref",c.all.$ref.definition));return}l.jtd||RIe(t,e),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,_T.shouldUseGroup)(s,d)&&(d.type?(i.if((0,Mb.checkDataType)(d.type,a,l.strictNumbers)),ZL(t,d),e.length===1&&e[0]===d.type&&n&&(i.else(),(0,Mb.reportTypeError)(t)),i.endIf()):ZL(t,d),o||i.if((0,Ct._)`${Jt.default.errors} === ${r||0}`))}}function ZL(t,e){const{gen:n,schema:r,opts:{useDefaults:i}}=t;i&&(0,vIe.assignDefaults)(t,e.type),n.block(()=>{for(const s of e.rules)(0,_T.shouldUseRule)(r,s)&&pz(t,s.keyword,s.definition,e.type)})}function RIe(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(MIe(t,e),t.opts.allowUnionTypes||NIe(t,e),IIe(t,t.dataTypes))}function MIe(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(n=>{hz(t.dataTypes,n)||bT(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),LIe(t,e)}}function NIe(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&bT(t,"use allowUnionTypes to allow union type keyword")}function IIe(t,e){const n=t.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,_T.shouldUseRule)(t.schema,i)){const{type:s}=i.definition;s.length&&!s.some(a=>DIe(e,a))&&bT(t,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function DIe(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function hz(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function LIe(t,e){const n=[];for(const r of t.dataTypes)hz(e,r)?n.push(r):e.includes("integer")&&r==="number"&&n.push("integer");t.dataTypes=n}function bT(t,e){const n=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${n}" (strictTypes)`,(0,Tu.checkStrictMode)(t,e,t.opts.strictTypes)}let dz=class{constructor(e,n,r){if((0,Gm.validateKeywordUsage)(e,n,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Tu.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",mz(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Gm.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Jt.default.errors))}result(e,n,r){this.failResult((0,Ct.not)(e),n,r)}failResult(e,n,r){this.gen.if(e),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,Ct.not)(e),void 0,n)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:n}=this;this.fail((0,Ct._)`${n} !== undefined && (${(0,Ct.or)(this.invalid$data(),e)})`)}error(e,n,r){if(n){this.setParams(n),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,n){(e?vm.reportExtraError:vm.reportError)(this,this.def.error,n)}$dataError(){(0,vm.reportError)(this,this.def.$dataError||vm.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,vm.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,r=Ct.nil){this.gen.block(()=>{this.check$data(e,r),n()})}check$data(e=Ct.nil,n=Ct.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:a}=this;r.if((0,Ct.or)((0,Ct._)`${i} === undefined`,n)),e!==Ct.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==Ct.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,Ct.or)(a(),o());function a(){if(r.length){if(!(n instanceof Ct.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,Ct._)`${(0,Mb.checkDataTypes)(l,n,s.opts.strictNumbers,Mb.DataType.Wrong)}`}return Ct.nil}function o(){if(i.validateSchema){const l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,Ct._)`!${l}(${n})`}return Ct.nil}}subschema(e,n){const r=(0,tE.getSubschema)(this.it,e);(0,tE.extendSubschemaData)(r,this.it,e),(0,tE.extendSubschemaMode)(r,e);const i={...this.it,...r,items:void 0,props:void 0};return EIe(i,n),i}mergeEvaluated(e,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=Tu.mergeEvaluated.props(i,e.props,r.props,n)),r.items!==!0&&e.items!==void 0&&(r.items=Tu.mergeEvaluated.items(i,e.items,r.items,n)))}mergeValidEvaluated(e,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(e,Ct.Name)),!0}};Qo.KeywordCxt=dz;function pz(t,e,n,r){const i=new dz(t,n,e);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Gm.funcKeywordCode)(i,n):"macro"in n?(0,Gm.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Gm.funcKeywordCode)(i,n)}const FIe=/^\/(?:[^~]|~0|~1)*$/,jIe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function mz(t,{dataLevel:e,dataNames:n,dataPathArr:r}){let i,s;if(t==="")return Jt.default.rootData;if(t[0]==="/"){if(!FIe.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,s=Jt.default.rootData}else{const u=jIe.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=e)throw new Error(l("property/index",c));return r[e-c]}if(c>e)throw new Error(l("data",c));if(s=n[e-c],!i)return s}let a=s;const o=i.split("/");for(const u of o)u&&(s=(0,Ct._)`${s}${(0,Ct.getProperty)((0,Tu.unescapeJsonPointer)(u))}`,a=(0,Ct._)`${a} && ${s}`);return a;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${e}`}}Qo.getData=mz;var yv={};Object.defineProperty(yv,"__esModule",{value:!0});let BIe=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};yv.default=BIe;var _v={};Object.defineProperty(_v,"__esModule",{value:!0});const nE=zi;let VIe=class extends Error{constructor(e,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,nE.resolveUrl)(e,n,r),this.missingSchema=(0,nE.normalizeId)((0,nE.getFullPath)(e,this.missingRef))}};_v.default=VIe;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.resolveSchema=aa.getCompilingSchema=aa.resolveRef=aa.compileSchema=aa.SchemaEnv=void 0;const No=vn,zIe=yv,Tf=Jl,Vo=zi,e3=jn,UIe=Qo;let lw=class{constructor(e){var n;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,Vo.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}};aa.SchemaEnv=lw;function wT(t){const e=gz.call(this,t);if(e)return e;const n=(0,Vo.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,a=new No.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let o;t.$async&&(o=a.scopeValue("Error",{ref:zIe.default,code:(0,No._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:Tf.default.data,parentData:Tf.default.parentData,parentDataProperty:Tf.default.parentDataProperty,dataNames:[Tf.default.data],dataPathArr:[No.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,No.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:No.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,No._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(t),(0,UIe.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const f=a.toString();c=`${a.scopeRefs(Tf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,t));const v=new Function(`${Tf.default.self}`,`${Tf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:v}),v.errors=null,v.schema=t.schema,v.schemaEnv=t,t.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:S}=u;v.evaluated={props:_ instanceof No.Name?void 0:_,items:S instanceof No.Name?void 0:S,dynamicProps:_ instanceof No.Name,dynamicItems:S instanceof No.Name},v.source&&(v.source.evaluated=(0,No.stringify)(v.evaluated))}return t.validate=v,t}catch(f){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(t)}}aa.compileSchema=wT;function qIe(t,e,n){var r;n=(0,Vo.resolveUrl)(this.opts.uriResolver,e,n);const i=t.refs[n];if(i)return i;let s=GIe.call(this,t,n);if(s===void 0){const a=(r=t.localRefs)===null||r===void 0?void 0:r[n],{schemaId:o}=this.opts;a&&(s=new lw({schema:a,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[n]=HIe.call(this,s)}aa.resolveRef=qIe;function HIe(t){return(0,Vo.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:wT.call(this,t)}function gz(t){for(const e of this._compilations)if(WIe(e,t))return e}aa.getCompilingSchema=gz;function WIe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function GIe(t,e){let n;for(;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||uw.call(this,t,e)}function uw(t,e){const n=this.opts.uriResolver.parse(e),r=(0,Vo._getFullPath)(this.opts.uriResolver,n);let i=(0,Vo.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===i)return rE.call(this,n,t);const s=(0,Vo.normalizeId)(r),a=this.refs[s]||this.schemas[s];if(typeof a=="string"){const o=uw.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:rE.call(this,n,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||wT.call(this,a),s===(0,Vo.normalizeId)(e)){const{schema:o}=a,{schemaId:l}=this.opts,u=o[l];return u&&(i=(0,Vo.resolveUrl)(this.opts.uriResolver,i,u)),new lw({schema:o,schemaId:l,root:t,baseId:i})}return rE.call(this,n,a)}}aa.resolveSchema=uw;const KIe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function rE(t,{baseId:e,schema:n,root:r}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,e3.unescapeFragment)(o)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!KIe.has(o)&&u&&(e=(0,Vo.resolveUrl)(this.opts.uriResolver,e,u))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,e3.schemaHasRulesButRef)(n,this.RULES)){const o=(0,Vo.resolveUrl)(this.opts.uriResolver,e,n.$ref);s=uw.call(this,r,o)}const{schemaId:a}=this.opts;if(s=s||new lw({schema:n,schemaId:a,root:r,baseId:e}),s.schema!==s.root.schema)return s}const YIe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",JIe="Meta-schema for $data reference (JSON AnySchema extension proposal)",XIe="object",QIe=["$data"],ZIe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},eDe=!1,tDe={$id:YIe,description:JIe,type:XIe,required:QIe,properties:ZIe,additionalProperties:eDe};var ST={};Object.defineProperty(ST,"__esModule",{value:!0});const vz=O2;vz.code='require("ajv/dist/runtime/uri").default';ST.default=vz;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Qo;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=vn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=yv,i=_v,s=hh,a=aa,o=vn,l=zi,u=vv,c=jn,f=tDe,d=ST,v=(ae,H)=>new RegExp(ae,H);v.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},A=200;function R(ae){var H,X,V,k,I,J,ue,_e,ke,Ve,We,Y,Q,N,F,q,ie,ge,ve,Te,Ne,Be,Xe,Je,Ze;const ut=ae.strict,xt=(H=ae.code)===null||H===void 0?void 0:H.optimize,Ot=xt===!0||xt===void 0?1:xt||0,mt=(V=(X=ae.code)===null||X===void 0?void 0:X.regExp)!==null&&V!==void 0?V:v,zt=(k=ae.uriResolver)!==null&&k!==void 0?k:d.default;return{strictSchema:(J=(I=ae.strictSchema)!==null&&I!==void 0?I:ut)!==null&&J!==void 0?J:!0,strictNumbers:(_e=(ue=ae.strictNumbers)!==null&&ue!==void 0?ue:ut)!==null&&_e!==void 0?_e:!0,strictTypes:(Ve=(ke=ae.strictTypes)!==null&&ke!==void 0?ke:ut)!==null&&Ve!==void 0?Ve:"log",strictTuples:(Y=(We=ae.strictTuples)!==null&&We!==void 0?We:ut)!==null&&Y!==void 0?Y:"log",strictRequired:(N=(Q=ae.strictRequired)!==null&&Q!==void 0?Q:ut)!==null&&N!==void 0?N:!1,code:ae.code?{...ae.code,optimize:Ot,regExp:mt}:{optimize:Ot,regExp:mt},loopRequired:(F=ae.loopRequired)!==null&&F!==void 0?F:A,loopEnum:(q=ae.loopEnum)!==null&&q!==void 0?q:A,meta:(ie=ae.meta)!==null&&ie!==void 0?ie:!0,messages:(ge=ae.messages)!==null&&ge!==void 0?ge:!0,inlineRefs:(ve=ae.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Te=ae.schemaId)!==null&&Te!==void 0?Te:"$id",addUsedSchema:(Ne=ae.addUsedSchema)!==null&&Ne!==void 0?Ne:!0,validateSchema:(Be=ae.validateSchema)!==null&&Be!==void 0?Be:!0,validateFormats:(Xe=ae.validateFormats)!==null&&Xe!==void 0?Xe:!0,unicodeRegExp:(Je=ae.unicodeRegExp)!==null&&Je!==void 0?Je:!0,int32range:(Ze=ae.int32range)!==null&&Ze!==void 0?Ze:!0,uriResolver:zt}}class M{constructor(H={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,H=this.opts={...H,...R(H)};const{es5:X,lines:V}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:S,es5:X,lines:V}),this.logger=G(H.logger);const k=H.validateFormats;H.validateFormats=!1,this.RULES=(0,s.getRules)(),$.call(this,b,H,"NOT SUPPORTED"),$.call(this,y,H,"DEPRECATED","warn"),this._metaOpts=C.call(this),H.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),H.keywords&&D.call(this,H.keywords),typeof H.meta=="object"&&this.addMetaSchema(H.meta),x.call(this),H.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:H,meta:X,schemaId:V}=this.opts;let k=f;V==="id"&&(k={...f},k.id=k.$id,delete k.$id),X&&H&&this.addMetaSchema(k,k[V],!1)}defaultMeta(){const{meta:H,schemaId:X}=this.opts;return this.opts.defaultMeta=typeof H=="object"?H[X]||H:void 0}validate(H,X){let V;if(typeof H=="string"){if(V=this.getSchema(H),!V)throw new Error(`no schema with key or ref "${H}"`)}else V=this.compile(H);const k=V(X);return"$async"in V||(this.errors=V.errors),k}compile(H,X){const V=this._addSchema(H,X);return V.validate||this._compileSchemaEnv(V)}compileAsync(H,X){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:V}=this.opts;return k.call(this,H,X);async function k(Ve,We){await I.call(this,Ve.$schema);const Y=this._addSchema(Ve,We);return Y.validate||J.call(this,Y)}async function I(Ve){Ve&&!this.getSchema(Ve)&&await k.call(this,{$ref:Ve},!0)}async function J(Ve){try{return this._compileSchemaEnv(Ve)}catch(We){if(!(We instanceof i.default))throw We;return ue.call(this,We),await _e.call(this,We.missingSchema),J.call(this,Ve)}}function ue({missingSchema:Ve,missingRef:We}){if(this.refs[Ve])throw new Error(`AnySchema ${Ve} is loaded but ${We} cannot be resolved`)}async function _e(Ve){const We=await ke.call(this,Ve);this.refs[Ve]||await I.call(this,We.$schema),this.refs[Ve]||this.addSchema(We,Ve,X)}async function ke(Ve){const We=this._loading[Ve];if(We)return We;try{return await(this._loading[Ve]=V(Ve))}finally{delete this._loading[Ve]}}}addSchema(H,X,V,k=this.opts.validateSchema){if(Array.isArray(H)){for(const J of H)this.addSchema(J,void 0,V,k);return this}let I;if(typeof H=="object"){const{schemaId:J}=this.opts;if(I=H[J],I!==void 0&&typeof I!="string")throw new Error(`schema ${J} must be string`)}return X=(0,l.normalizeId)(X||I),this._checkUnique(X),this.schemas[X]=this._addSchema(H,V,X,k,!0),this}addMetaSchema(H,X,V=this.opts.validateSchema){return this.addSchema(H,X,!0,V),this}validateSchema(H,X){if(typeof H=="boolean")return!0;let V;if(V=H.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(V,H);if(!k&&X){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return k}getSchema(H){let X;for(;typeof(X=p.call(this,H))=="string";)H=X;if(X===void 0){const{schemaId:V}=this.opts,k=new a.SchemaEnv({schema:{},schemaId:V});if(X=a.resolveSchema.call(this,k,H),!X)return;this.refs[H]=X}return X.validate||this._compileSchemaEnv(X)}removeSchema(H){if(H instanceof RegExp)return this._removeAllSchemas(this.schemas,H),this._removeAllSchemas(this.refs,H),this;switch(typeof H){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const X=p.call(this,H);return typeof X=="object"&&this._cache.delete(X.schema),delete this.schemas[H],delete this.refs[H],this}case"object":{const X=H;this._cache.delete(X);let V=H[this.opts.schemaId];return V&&(V=(0,l.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(H){for(const X of H)this.addKeyword(X);return this}addKeyword(H,X){let V;if(typeof H=="string")V=H,typeof X=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),X.keyword=V);else if(typeof H=="object"&&X===void 0){if(X=H,V=X.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,V,X),!X)return(0,c.eachItem)(V,I=>ye.call(this,I)),this;Ae.call(this,X);const k={...X,type:(0,u.getJSONTypes)(X.type),schemaType:(0,u.getJSONTypes)(X.schemaType)};return(0,c.eachItem)(V,k.type.length===0?I=>ye.call(this,I,k):I=>k.type.forEach(J=>ye.call(this,I,k,J))),this}getKeyword(H){const X=this.RULES.all[H];return typeof X=="object"?X.definition:!!X}removeKeyword(H){const{RULES:X}=this;delete X.keywords[H],delete X.all[H];for(const V of X.rules){const k=V.rules.findIndex(I=>I.keyword===H);k>=0&&V.rules.splice(k,1)}return this}addFormat(H,X){return typeof X=="string"&&(X=new RegExp(X)),this.formats[H]=X,this}errorsText(H=this.errors,{separator:X=", ",dataVar:V="data"}={}){return!H||H.length===0?"No errors":H.map(k=>`${V}${k.instancePath} ${k.message}`).reduce((k,I)=>k+X+I)}$dataMetaSchema(H,X){const V=this.RULES.all;H=JSON.parse(JSON.stringify(H));for(const k of X){const I=k.split("/").slice(1);let J=H;for(const ue of I)J=J[ue];for(const ue in V){const _e=V[ue];if(typeof _e!="object")continue;const{$data:ke}=_e.definition,Ve=J[ue];ke&&Ve&&(J[ue]=Me(Ve))}}return H}_removeAllSchemas(H,X){for(const V in H){const k=H[V];(!X||X.test(V))&&(typeof k=="string"?delete H[V]:k&&!k.meta&&(this._cache.delete(k.schema),delete H[V]))}}_addSchema(H,X,V,k=this.opts.validateSchema,I=this.opts.addUsedSchema){let J;const{schemaId:ue}=this.opts;if(typeof H=="object")J=H[ue];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof H!="boolean")throw new Error("schema must be object or boolean")}let _e=this._cache.get(H);if(_e!==void 0)return _e;V=(0,l.normalizeId)(J||V);const ke=l.getSchemaRefs.call(this,H,V);return _e=new a.SchemaEnv({schema:H,schemaId:ue,meta:X,baseId:V,localRefs:ke}),this._cache.set(_e.schema,_e),I&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=_e),k&&this.validateSchema(H,!0),_e}_checkUnique(H){if(this.schemas[H]||this.refs[H])throw new Error(`schema with key or id "${H}" already exists`)}_compileSchemaEnv(H){if(H.meta?this._compileMetaSchema(H):a.compileSchema.call(this,H),!H.validate)throw new Error("ajv implementation error");return H.validate}_compileMetaSchema(H){const X=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,H)}finally{this.opts=X}}}t.default=M,M.ValidationError=r.default,M.MissingRefError=i.default;function $(ae,H,X,V="error"){for(const k in ae){const I=k;I in H&&this.logger[V](`${X}: option ${k}. ${ae[I]}`)}}function p(ae){return ae=(0,l.normalizeId)(ae),this.schemas[ae]||this.refs[ae]}function x(){const ae=this.opts.schemas;if(ae)if(Array.isArray(ae))this.addSchema(ae);else for(const H in ae)this.addSchema(ae[H],H)}function T(){for(const ae in this.opts.formats){const H=this.opts.formats[ae];H&&this.addFormat(ae,H)}}function D(ae){if(Array.isArray(ae)){this.addVocabulary(ae);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const H in ae){const X=ae[H];X.keyword||(X.keyword=H),this.addKeyword(X)}}function C(){const ae={...this.opts};for(const H of _)delete ae[H];return ae}const U={log(){},warn(){},error(){}};function G(ae){if(ae===!1)return U;if(ae===void 0)return console;if(ae.log&&ae.warn&&ae.error)return ae;throw new Error("logger must implement log, warn and error methods")}const se=/^[a-z_$][a-z0-9_$:-]*$/i;function re(ae,H){const{RULES:X}=this;if((0,c.eachItem)(ae,V=>{if(X.keywords[V])throw new Error(`Keyword ${V} is already defined`);if(!se.test(V))throw new Error(`Keyword ${V} has invalid name`)}),!!H&&H.$data&&!("code"in H||"validate"in H))throw new Error('$data keyword must have "code" or "validate" function')}function ye(ae,H,X){var V;const k=H==null?void 0:H.post;if(X&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:I}=this;let J=k?I.post:I.rules.find(({type:_e})=>_e===X);if(J||(J={type:X,rules:[]},I.rules.push(J)),I.keywords[ae]=!0,!H)return;const ue={keyword:ae,definition:{...H,type:(0,u.getJSONTypes)(H.type),schemaType:(0,u.getJSONTypes)(H.schemaType)}};H.before?Pe.call(this,J,ue,H.before):J.rules.push(ue),I.all[ae]=ue,(V=H.implements)===null||V===void 0||V.forEach(_e=>this.addKeyword(_e))}function Pe(ae,H,X){const V=ae.rules.findIndex(k=>k.keyword===X);V>=0?ae.rules.splice(V,0,H):(ae.rules.push(H),this.logger.warn(`rule ${X} is not defined`))}function Ae(ae){let{metaSchema:H}=ae;H!==void 0&&(ae.$data&&this.opts.$data&&(H=Me(H)),ae.validateSchema=this.compile(H,!0))}const Ie={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Me(ae){return{anyOf:[ae,Ie]}}})(G8);var xT={},ET={},$T={};Object.defineProperty($T,"__esModule",{value:!0});const nDe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};$T.default=nDe;var dh={};Object.defineProperty(dh,"__esModule",{value:!0});dh.callRef=dh.getValidate=void 0;const rDe=_v,t3=pn,na=vn,Zh=Jl,n3=aa,dy=jn,iDe={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:n,it:r}=t,{baseId:i,schemaEnv:s,validateName:a,opts:o,self:l}=r,{root:u}=s;if((n==="#"||n==="#/")&&i===u.baseId)return f();const c=n3.resolveRef.call(l,u,i,n);if(c===void 0)throw new rDe.default(r.opts.uriResolver,i,n);if(c instanceof n3.SchemaEnv)return d(c);return v(c);function f(){if(s===u)return c_(t,a,s,s.$async);const _=e.scopeValue("root",{ref:u});return c_(t,(0,na._)`${_}.validate`,u,u.$async)}function d(_){const S=yz(t,_);c_(t,S,_,_.$async)}function v(_){const S=e.scopeValue("schema",o.code.source===!0?{ref:_,code:(0,na.stringify)(_)}:{ref:_}),b=e.name("valid"),y=t.subschema({schema:_,dataTypes:[],schemaPath:na.nil,topSchemaRef:S,errSchemaPath:n},b);t.mergeEvaluated(y),t.ok(b)}}};function yz(t,e){const{gen:n}=t;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,na._)`${n.scopeValue("wrapper",{ref:e})}.validate`}dh.getValidate=yz;function c_(t,e,n,r){const{gen:i,it:s}=t,{allErrors:a,schemaEnv:o,opts:l}=s,u=l.passContext?Zh.default.this:na.nil;r?c():f();function c(){if(!o.$async)throw new Error("async schema referenced by sync schema");const _=i.let("valid");i.try(()=>{i.code((0,na._)`await ${(0,t3.callValidateCode)(t,e,u)}`),v(e),a||i.assign(_,!0)},S=>{i.if((0,na._)`!(${S} instanceof ${s.ValidationError})`,()=>i.throw(S)),d(S),a||i.assign(_,!1)}),t.ok(_)}function f(){t.result((0,t3.callValidateCode)(t,e,u),()=>v(e),()=>d(e))}function d(_){const S=(0,na._)`${_}.errors`;i.assign(Zh.default.vErrors,(0,na._)`${Zh.default.vErrors} === null ? ${S} : ${Zh.default.vErrors}.concat(${S})`),i.assign(Zh.default.errors,(0,na._)`${Zh.default.vErrors}.length`)}function v(_){var S;if(!s.opts.unevaluated)return;const b=(S=n==null?void 0:n.validate)===null||S===void 0?void 0:S.evaluated;if(s.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(s.props=dy.mergeEvaluated.props(i,b.props,s.props));else{const y=i.var("props",(0,na._)`${_}.evaluated.props`);s.props=dy.mergeEvaluated.props(i,y,s.props,na.Name)}if(s.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(s.items=dy.mergeEvaluated.items(i,b.items,s.items));else{const y=i.var("items",(0,na._)`${_}.evaluated.items`);s.items=dy.mergeEvaluated.items(i,y,s.items,na.Name)}}}dh.callRef=c_;dh.default=iDe;Object.defineProperty(ET,"__esModule",{value:!0});const sDe=$T,aDe=dh,oDe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",sDe.default,aDe.default];ET.default=oDe;var AT={},PT={};Object.defineProperty(PT,"__esModule",{value:!0});const Nb=vn,sc=Nb.operators,Ib={maximum:{okStr:"<=",ok:sc.LTE,fail:sc.GT},minimum:{okStr:">=",ok:sc.GTE,fail:sc.LT},exclusiveMaximum:{okStr:"<",ok:sc.LT,fail:sc.GTE},exclusiveMinimum:{okStr:">",ok:sc.GT,fail:sc.LTE}},lDe={message:({keyword:t,schemaCode:e})=>(0,Nb.str)`must be ${Ib[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Nb._)`{comparison: ${Ib[t].okStr}, limit: ${e}}`},uDe={keyword:Object.keys(Ib),type:"number",schemaType:"number",$data:!0,error:lDe,code(t){const{keyword:e,data:n,schemaCode:r}=t;t.fail$data((0,Nb._)`${n} ${Ib[e].fail} ${r} || isNaN(${n})`)}};PT.default=uDe;var TT={};Object.defineProperty(TT,"__esModule",{value:!0});const Km=vn,cDe={message:({schemaCode:t})=>(0,Km.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Km._)`{multipleOf: ${t}}`},fDe={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:cDe,code(t){const{gen:e,data:n,schemaCode:r,it:i}=t,s=i.opts.multipleOfPrecision,a=e.let("res"),o=s?(0,Km._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,Km._)`${a} !== parseInt(${a})`;t.fail$data((0,Km._)`(${r} === 0 || (${a} = ${n}/${r}, ${o}))`)}};TT.default=fDe;var CT={},kT={};Object.defineProperty(kT,"__esModule",{value:!0});function _z(t){const e=t.length;let n=0,r=0,i;for(;r<e;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<e&&(i=t.charCodeAt(r),(i&64512)===56320&&r++);return n}kT.default=_z;_z.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(CT,"__esModule",{value:!0});const jf=vn,hDe=jn,dDe=kT,pDe={message({keyword:t,schemaCode:e}){const n=t==="maxLength"?"more":"fewer";return(0,jf.str)`must NOT have ${n} than ${e} characters`},params:({schemaCode:t})=>(0,jf._)`{limit: ${t}}`},mDe={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:pDe,code(t){const{keyword:e,data:n,schemaCode:r,it:i}=t,s=e==="maxLength"?jf.operators.GT:jf.operators.LT,a=i.opts.unicode===!1?(0,jf._)`${n}.length`:(0,jf._)`${(0,hDe.useFunc)(t.gen,dDe.default)}(${n})`;t.fail$data((0,jf._)`${a} ${s} ${r}`)}};CT.default=mDe;var OT={};Object.defineProperty(OT,"__esModule",{value:!0});const gDe=pn,Db=vn,vDe={message:({schemaCode:t})=>(0,Db.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Db._)`{pattern: ${t}}`},yDe={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:vDe,code(t){const{data:e,$data:n,schema:r,schemaCode:i,it:s}=t,a=s.opts.unicodeRegExp?"u":"",o=n?(0,Db._)`(new RegExp(${i}, ${a}))`:(0,gDe.usePattern)(t,r);t.fail$data((0,Db._)`!${o}.test(${e})`)}};OT.default=yDe;var RT={};Object.defineProperty(RT,"__esModule",{value:!0});const Ym=vn,_De={message({keyword:t,schemaCode:e}){const n=t==="maxProperties"?"more":"fewer";return(0,Ym.str)`must NOT have ${n} than ${e} properties`},params:({schemaCode:t})=>(0,Ym._)`{limit: ${t}}`},bDe={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_De,code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxProperties"?Ym.operators.GT:Ym.operators.LT;t.fail$data((0,Ym._)`Object.keys(${n}).length ${i} ${r}`)}};RT.default=bDe;var MT={};Object.defineProperty(MT,"__esModule",{value:!0});const ym=pn,Jm=vn,wDe=jn,SDe={message:({params:{missingProperty:t}})=>(0,Jm.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Jm._)`{missingProperty: ${t}}`},xDe={keyword:"required",type:"object",schemaType:"array",$data:!0,error:SDe,code(t){const{gen:e,schema:n,schemaCode:r,data:i,$data:s,it:a}=t,{opts:o}=a;if(!s&&n.length===0)return;const l=n.length>=o.loopRequired;if(a.allErrors?u():c(),o.strictRequired){const v=t.parentSchema.properties,{definedProperties:_}=t.it;for(const S of n)if((v==null?void 0:v[S])===void 0&&!_.has(S)){const b=a.schemaEnv.baseId+a.errSchemaPath,y=`required property "${S}" is not defined at "${b}" (strictRequired)`;(0,wDe.checkStrictMode)(a,y,a.opts.strictRequired)}}function u(){if(l||s)t.block$data(Jm.nil,f);else for(const v of n)(0,ym.checkReportMissingProp)(t,v)}function c(){const v=e.let("missing");if(l||s){const _=e.let("valid",!0);t.block$data(_,()=>d(v,_)),t.ok(_)}else e.if((0,ym.checkMissingProp)(t,n,v)),(0,ym.reportMissingProp)(t,v),e.else()}function f(){e.forOf("prop",r,v=>{t.setParams({missingProperty:v}),e.if((0,ym.noPropertyInData)(e,i,v,o.ownProperties),()=>t.error())})}function d(v,_){t.setParams({missingProperty:v}),e.forOf(v,r,()=>{e.assign(_,(0,ym.propertyInData)(e,i,v,o.ownProperties)),e.if((0,Jm.not)(_),()=>{t.error(),e.break()})},Jm.nil)}}};MT.default=xDe;var NT={};Object.defineProperty(NT,"__esModule",{value:!0});const Xm=vn,EDe={message({keyword:t,schemaCode:e}){const n=t==="maxItems"?"more":"fewer";return(0,Xm.str)`must NOT have ${n} than ${e} items`},params:({schemaCode:t})=>(0,Xm._)`{limit: ${t}}`},$De={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:EDe,code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxItems"?Xm.operators.GT:Xm.operators.LT;t.fail$data((0,Xm._)`${n}.length ${i} ${r}`)}};NT.default=$De;var IT={},bv={};Object.defineProperty(bv,"__esModule",{value:!0});const bz=xh;bz.code='require("ajv/dist/runtime/equal").default';bv.default=bz;Object.defineProperty(IT,"__esModule",{value:!0});const iE=vv,Di=vn,ADe=jn,PDe=bv,TDe={message:({params:{i:t,j:e}})=>(0,Di.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Di._)`{i: ${t}, j: ${e}}`},CDe={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:TDe,code(t){const{gen:e,data:n,$data:r,schema:i,parentSchema:s,schemaCode:a,it:o}=t;if(!r&&!i)return;const l=e.let("valid"),u=s.items?(0,iE.getSchemaTypes)(s.items):[];t.block$data(l,c,(0,Di._)`${a} === false`),t.ok(l);function c(){const _=e.let("i",(0,Di._)`${n}.length`),S=e.let("j");t.setParams({i:_,j:S}),e.assign(l,!0),e.if((0,Di._)`${_} > 1`,()=>(f()?d:v)(_,S))}function f(){return u.length>0&&!u.some(_=>_==="object"||_==="array")}function d(_,S){const b=e.name("item"),y=(0,iE.checkDataTypes)(u,b,o.opts.strictNumbers,iE.DataType.Wrong),A=e.const("indices",(0,Di._)`{}`);e.for((0,Di._)`;${_}--;`,()=>{e.let(b,(0,Di._)`${n}[${_}]`),e.if(y,(0,Di._)`continue`),u.length>1&&e.if((0,Di._)`typeof ${b} == "string"`,(0,Di._)`${b} += "_"`),e.if((0,Di._)`typeof ${A}[${b}] == "number"`,()=>{e.assign(S,(0,Di._)`${A}[${b}]`),t.error(),e.assign(l,!1).break()}).code((0,Di._)`${A}[${b}] = ${_}`)})}function v(_,S){const b=(0,ADe.useFunc)(e,PDe.default),y=e.name("outer");e.label(y).for((0,Di._)`;${_}--;`,()=>e.for((0,Di._)`${S} = ${_}; ${S}--;`,()=>e.if((0,Di._)`${b}(${n}[${_}], ${n}[${S}])`,()=>{t.error(),e.assign(l,!1).break(y)})))}}};IT.default=CDe;var DT={};Object.defineProperty(DT,"__esModule",{value:!0});const EA=vn,kDe=jn,ODe=bv,RDe={message:"must be equal to constant",params:({schemaCode:t})=>(0,EA._)`{allowedValue: ${t}}`},MDe={keyword:"const",$data:!0,error:RDe,code(t){const{gen:e,data:n,$data:r,schemaCode:i,schema:s}=t;r||s&&typeof s=="object"?t.fail$data((0,EA._)`!${(0,kDe.useFunc)(e,ODe.default)}(${n}, ${i})`):t.fail((0,EA._)`${s} !== ${n}`)}};DT.default=MDe;var LT={};Object.defineProperty(LT,"__esModule",{value:!0});const Rm=vn,NDe=jn,IDe=bv,DDe={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Rm._)`{allowedValues: ${t}}`},LDe={keyword:"enum",schemaType:"array",$data:!0,error:DDe,code(t){const{gen:e,data:n,$data:r,schema:i,schemaCode:s,it:a}=t;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const o=i.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,NDe.useFunc)(e,IDe.default));let c;if(o||r)c=e.let("valid"),t.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const v=e.const("vSchema",s);c=(0,Rm.or)(...i.map((_,S)=>d(v,S)))}t.pass(c);function f(){e.assign(c,!1),e.forOf("v",s,v=>e.if((0,Rm._)`${u()}(${n}, ${v})`,()=>e.assign(c,!0).break()))}function d(v,_){const S=i[_];return typeof S=="object"&&S!==null?(0,Rm._)`${u()}(${n}, ${v}[${_}])`:(0,Rm._)`${n} === ${S}`}}};LT.default=LDe;Object.defineProperty(AT,"__esModule",{value:!0});const FDe=PT,jDe=TT,BDe=CT,VDe=OT,zDe=RT,UDe=MT,qDe=NT,HDe=IT,WDe=DT,GDe=LT,KDe=[FDe.default,jDe.default,BDe.default,VDe.default,zDe.default,UDe.default,qDe.default,HDe.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},WDe.default,GDe.default];AT.default=KDe;var FT={},Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.validateAdditionalItems=void 0;const Bf=vn,$A=jn,YDe={message:({params:{len:t}})=>(0,Bf.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Bf._)`{limit: ${t}}`},JDe={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:YDe,code(t){const{parentSchema:e,it:n}=t,{items:r}=e;if(!Array.isArray(r)){(0,$A.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}wz(t,r)}};function wz(t,e){const{gen:n,schema:r,data:i,keyword:s,it:a}=t;a.items=!0;const o=n.const("len",(0,Bf._)`${i}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,Bf._)`${o} <= ${e.length}`);else if(typeof r=="object"&&!(0,$A.alwaysValidSchema)(a,r)){const u=n.var("valid",(0,Bf._)`${o} <= ${e.length}`);n.if((0,Bf.not)(u),()=>l(u)),t.ok(u)}function l(u){n.forRange("i",e.length,o,c=>{t.subschema({keyword:s,dataProp:c,dataPropType:$A.Type.Num},u),a.allErrors||n.if((0,Bf.not)(u),()=>n.break())})}}Op.validateAdditionalItems=wz;Op.default=JDe;var jT={},Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.validateTuple=void 0;const r3=vn,f_=jn,XDe=pn,QDe={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:n}=t;if(Array.isArray(e))return Sz(t,"additionalItems",e);n.items=!0,!(0,f_.alwaysValidSchema)(n,e)&&t.ok((0,XDe.validateArray)(t))}};function Sz(t,e,n=t.schema){const{gen:r,parentSchema:i,data:s,keyword:a,it:o}=t;c(i),o.opts.unevaluated&&n.length&&o.items!==!0&&(o.items=f_.mergeEvaluated.items(r,n.length,o.items));const l=r.name("valid"),u=r.const("len",(0,r3._)`${s}.length`);n.forEach((f,d)=>{(0,f_.alwaysValidSchema)(o,f)||(r.if((0,r3._)`${u} > ${d}`,()=>t.subschema({keyword:a,schemaProp:d,dataProp:d},l)),t.ok(l))});function c(f){const{opts:d,errSchemaPath:v}=o,_=n.length,S=_===f.minItems&&(_===f.maxItems||f[e]===!1);if(d.strictTuples&&!S){const b=`"${a}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${v}"`;(0,f_.checkStrictMode)(o,b,d.strictTuples)}}}Rp.validateTuple=Sz;Rp.default=QDe;Object.defineProperty(jT,"__esModule",{value:!0});const ZDe=Rp,eLe={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,ZDe.validateTuple)(t,"items")};jT.default=eLe;var BT={};Object.defineProperty(BT,"__esModule",{value:!0});const i3=vn,tLe=jn,nLe=pn,rLe=Op,iLe={message:({params:{len:t}})=>(0,i3.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,i3._)`{limit: ${t}}`},sLe={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:iLe,code(t){const{schema:e,parentSchema:n,it:r}=t,{prefixItems:i}=n;r.items=!0,!(0,tLe.alwaysValidSchema)(r,e)&&(i?(0,rLe.validateAdditionalItems)(t,i):t.ok((0,nLe.validateArray)(t)))}};BT.default=sLe;var VT={};Object.defineProperty(VT,"__esModule",{value:!0});const to=vn,py=jn,aLe={message:({params:{min:t,max:e}})=>e===void 0?(0,to.str)`must contain at least ${t} valid item(s)`:(0,to.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,to._)`{minContains: ${t}}`:(0,to._)`{minContains: ${t}, maxContains: ${e}}`},oLe={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:aLe,code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:s}=t;let a,o;const{minContains:l,maxContains:u}=r;s.opts.next?(a=l===void 0?1:l,o=u):a=1;const c=e.const("len",(0,to._)`${i}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,py.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,py.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,py.alwaysValidSchema)(s,n)){let S=(0,to._)`${c} >= ${a}`;o!==void 0&&(S=(0,to._)`${S} && ${c} <= ${o}`),t.pass(S);return}s.items=!0;const f=e.name("valid");o===void 0&&a===1?v(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),o!==void 0&&e.if((0,to._)`${i}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){const S=e.name("_valid"),b=e.let("count",0);v(S,()=>e.if(S,()=>_(b)))}function v(S,b){e.forRange("i",0,c,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:py.Type.Num,compositeRule:!0},S),b()})}function _(S){e.code((0,to._)`${S}++`),o===void 0?e.if((0,to._)`${S} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,to._)`${S} > ${o}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,to._)`${S} >= ${a}`,()=>e.assign(f,!0)))}}};VT.default=oLe;var xz={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=vn,n=jn,r=pn;t.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,e.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,c]=s(l);a(l,u),o(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?u:c;d[f]=l[f]}return[u,c]}function a(l,u=l.schema){const{gen:c,data:f,it:d}=l;if(Object.keys(u).length===0)return;const v=c.let("missing");for(const _ in u){const S=u[_];if(S.length===0)continue;const b=(0,r.propertyInData)(c,f,_,d.opts.ownProperties);l.setParams({property:_,depsCount:S.length,deps:S.join(", ")}),d.allErrors?c.if(b,()=>{for(const y of S)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,e._)`${b} && (${(0,r.checkMissingProp)(l,S,v)})`),(0,r.reportMissingProp)(l,v),c.else())}}t.validatePropertyDeps=a;function o(l,u=l.schema){const{gen:c,data:f,keyword:d,it:v}=l,_=c.name("valid");for(const S in u)(0,n.alwaysValidSchema)(v,u[S])||(c.if((0,r.propertyInData)(c,f,S,v.opts.ownProperties),()=>{const b=l.subschema({keyword:d,schemaProp:S},_);l.mergeValidEvaluated(b,_)},()=>c.var(_,!0)),l.ok(_))}t.validateSchemaDeps=o,t.default=i})(xz);var zT={};Object.defineProperty(zT,"__esModule",{value:!0});const Ez=vn,lLe=jn,uLe={message:"property name must be valid",params:({params:t})=>(0,Ez._)`{propertyName: ${t.propertyName}}`},cLe={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:uLe,code(t){const{gen:e,schema:n,data:r,it:i}=t;if((0,lLe.alwaysValidSchema)(i,n))return;const s=e.name("valid");e.forIn("key",r,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),e.if((0,Ez.not)(s),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(s)}};zT.default=cLe;var cw={};Object.defineProperty(cw,"__esModule",{value:!0});const my=pn,Do=vn,fLe=Jl,gy=jn,hLe={message:"must NOT have additional properties",params:({params:t})=>(0,Do._)`{additionalProperty: ${t.additionalProperty}}`},dLe={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:hLe,code(t){const{gen:e,schema:n,parentSchema:r,data:i,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,gy.alwaysValidSchema)(a,n))return;const u=(0,my.allSchemaProperties)(r.properties),c=(0,my.allSchemaProperties)(r.patternProperties);f(),t.ok((0,Do._)`${s} === ${fLe.default.errors}`);function f(){e.forIn("key",i,b=>{!u.length&&!c.length?_(b):e.if(d(b),()=>_(b))})}function d(b){let y;if(u.length>8){const A=(0,gy.schemaRefOrVal)(a,r.properties,"properties");y=(0,my.isOwnProperty)(e,A,b)}else u.length?y=(0,Do.or)(...u.map(A=>(0,Do._)`${b} === ${A}`)):y=Do.nil;return c.length&&(y=(0,Do.or)(y,...c.map(A=>(0,Do._)`${(0,my.usePattern)(t,A)}.test(${b})`))),(0,Do.not)(y)}function v(b){e.code((0,Do._)`delete ${i}[${b}]`)}function _(b){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){v(b);return}if(n===!1){t.setParams({additionalProperty:b}),t.error(),o||e.break();return}if(typeof n=="object"&&!(0,gy.alwaysValidSchema)(a,n)){const y=e.name("valid");l.removeAdditional==="failing"?(S(b,y,!1),e.if((0,Do.not)(y),()=>{t.reset(),v(b)})):(S(b,y),o||e.if((0,Do.not)(y),()=>e.break()))}}function S(b,y,A){const R={keyword:"additionalProperties",dataProp:b,dataPropType:gy.Type.Str};A===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(R,y)}}};cw.default=dLe;var UT={};Object.defineProperty(UT,"__esModule",{value:!0});const pLe=Qo,s3=pn,sE=jn,a3=cw,mLe={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:s}=t;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&a3.default.code(new pLe.KeywordCxt(s,a3.default,"additionalProperties"));const a=(0,s3.allSchemaProperties)(n);for(const f of a)s.definedProperties.add(f);s.opts.unevaluated&&a.length&&s.props!==!0&&(s.props=sE.mergeEvaluated.props(e,(0,sE.toHash)(a),s.props));const o=a.filter(f=>!(0,sE.alwaysValidSchema)(s,n[f]));if(o.length===0)return;const l=e.name("valid");for(const f of o)u(f)?c(f):(e.if((0,s3.propertyInData)(e,i,f,s.opts.ownProperties)),c(f),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};UT.default=mLe;var qT={};Object.defineProperty(qT,"__esModule",{value:!0});const o3=pn,vy=vn,l3=jn,u3=jn,gLe={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,data:r,parentSchema:i,it:s}=t,{opts:a}=s,o=(0,o3.allSchemaProperties)(n),l=o.filter(S=>(0,l3.alwaysValidSchema)(s,n[S]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,c=e.name("valid");s.props!==!0&&!(s.props instanceof vy.Name)&&(s.props=(0,u3.evaluatedPropsToName)(e,s.props));const{props:f}=s;d();function d(){for(const S of o)u&&v(S),s.allErrors?_(S):(e.var(c,!0),_(S),e.if(c))}function v(S){for(const b in u)new RegExp(S).test(b)&&(0,l3.checkStrictMode)(s,`property ${b} matches pattern ${S} (use allowMatchingProperties)`)}function _(S){e.forIn("key",r,b=>{e.if((0,vy._)`${(0,o3.usePattern)(t,S)}.test(${b})`,()=>{const y=l.includes(S);y||t.subschema({keyword:"patternProperties",schemaProp:S,dataProp:b,dataPropType:u3.Type.Str},c),s.opts.unevaluated&&f!==!0?e.assign((0,vy._)`${f}[${b}]`,!0):!y&&!s.allErrors&&e.if((0,vy.not)(c),()=>e.break())})})}}};qT.default=gLe;var HT={};Object.defineProperty(HT,"__esModule",{value:!0});const vLe=jn,yLe={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:n,it:r}=t;if((0,vLe.alwaysValidSchema)(r,n)){t.fail();return}const i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};HT.default=yLe;var WT={};Object.defineProperty(WT,"__esModule",{value:!0});const _Le=pn,bLe={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_Le.validateUnion,error:{message:"must match a schema in anyOf"}};WT.default=bLe;var GT={};Object.defineProperty(GT,"__esModule",{value:!0});const h_=vn,wLe=jn,SLe={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,h_._)`{passingSchemas: ${t.passing}}`},xLe={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:SLe,code(t){const{gen:e,schema:n,parentSchema:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,a=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(u),t.result(a,()=>t.reset(),()=>t.error(!0));function u(){s.forEach((c,f)=>{let d;(0,wLe.alwaysValidSchema)(i,c)?e.var(l,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,h_._)`${l} && ${a}`).assign(a,!1).assign(o,(0,h_._)`[${o}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(o,f),d&&t.mergeEvaluated(d,h_.Name)})})}}};GT.default=xLe;var KT={};Object.defineProperty(KT,"__esModule",{value:!0});const ELe=jn,$Le={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:n,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=e.name("valid");n.forEach((s,a)=>{if((0,ELe.alwaysValidSchema)(r,s))return;const o=t.subschema({keyword:"allOf",schemaProp:a},i);t.ok(i),t.mergeEvaluated(o)})}};KT.default=$Le;var YT={};Object.defineProperty(YT,"__esModule",{value:!0});const Lb=vn,$z=jn,ALe={message:({params:t})=>(0,Lb.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Lb._)`{failingKeyword: ${t.ifClause}}`},PLe={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:ALe,code(t){const{gen:e,parentSchema:n,it:r}=t;n.then===void 0&&n.else===void 0&&(0,$z.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=c3(r,"then"),s=c3(r,"else");if(!i&&!s)return;const a=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),i&&s){const c=e.let("ifClause");t.setParams({ifClause:c}),e.if(o,u("then",c),u("else",c))}else i?e.if(o,u("then")):e.if((0,Lb.not)(o),u("else"));t.pass(a,()=>t.error(!0));function l(){const c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(c)}function u(c,f){return()=>{const d=t.subschema({keyword:c},o);e.assign(a,o),t.mergeValidEvaluated(d,a),f?e.assign(f,(0,Lb._)`${c}`):t.setParams({ifClause:c})}}}};function c3(t,e){const n=t.schema[e];return n!==void 0&&!(0,$z.alwaysValidSchema)(t,n)}YT.default=PLe;var JT={};Object.defineProperty(JT,"__esModule",{value:!0});const TLe=jn,CLe={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:n}){e.if===void 0&&(0,TLe.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};JT.default=CLe;Object.defineProperty(FT,"__esModule",{value:!0});const kLe=Op,OLe=jT,RLe=Rp,MLe=BT,NLe=VT,ILe=xz,DLe=zT,LLe=cw,FLe=UT,jLe=qT,BLe=HT,VLe=WT,zLe=GT,ULe=KT,qLe=YT,HLe=JT;function WLe(t=!1){const e=[BLe.default,VLe.default,zLe.default,ULe.default,qLe.default,HLe.default,DLe.default,LLe.default,ILe.default,FLe.default,jLe.default];return t?e.push(OLe.default,MLe.default):e.push(kLe.default,RLe.default),e.push(NLe.default),e}FT.default=WLe;var XT={},QT={};Object.defineProperty(QT,"__esModule",{value:!0});const Jr=vn,GLe={message:({schemaCode:t})=>(0,Jr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Jr._)`{format: ${t}}`},KLe={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:GLe,code(t,e){const{gen:n,data:r,$data:i,schema:s,schemaCode:a,it:o}=t,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=o;if(!l.validateFormats)return;i?d():v();function d(){const _=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),S=n.const("fDef",(0,Jr._)`${_}[${a}]`),b=n.let("fType"),y=n.let("format");n.if((0,Jr._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>n.assign(b,(0,Jr._)`${S}.type || "string"`).assign(y,(0,Jr._)`${S}.validate`),()=>n.assign(b,(0,Jr._)`"string"`).assign(y,S)),t.fail$data((0,Jr.or)(A(),R()));function A(){return l.strictSchema===!1?Jr.nil:(0,Jr._)`${a} && !${y}`}function R(){const M=c.$async?(0,Jr._)`(${S}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,Jr._)`${y}(${r})`,$=(0,Jr._)`(typeof ${y} == "function" ? ${M} : ${y}.test(${r}))`;return(0,Jr._)`${y} && ${y} !== true && ${b} === ${e} && !${$}`}}function v(){const _=f.formats[s];if(!_){A();return}if(_===!0)return;const[S,b,y]=R(_);S===e&&t.pass(M());function A(){if(l.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function R($){const p=$ instanceof RegExp?(0,Jr.regexpCode)($):l.code.formats?(0,Jr._)`${l.code.formats}${(0,Jr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:$,code:p});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Jr._)`${x}.validate`]:["string",$,x]}function M(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Jr._)`await ${y}(${r})`}return typeof b=="function"?(0,Jr._)`${y}(${r})`:(0,Jr._)`${y}.test(${r})`}}}};QT.default=KLe;Object.defineProperty(XT,"__esModule",{value:!0});const YLe=QT,JLe=[YLe.default];XT.default=JLe;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.contentVocabulary=op.metadataVocabulary=void 0;op.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];op.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(xT,"__esModule",{value:!0});const XLe=ET,QLe=AT,ZLe=FT,e3e=XT,f3=op,t3e=[XLe.default,QLe.default,(0,ZLe.default)(),e3e.default,f3.metadataVocabulary,f3.contentVocabulary];xT.default=t3e;var ZT={},Az={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Az);Object.defineProperty(ZT,"__esModule",{value:!0});const hd=vn,AA=Az,h3=aa,n3e=jn,r3e={message:({params:{discrError:t,tagName:e}})=>t===AA.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:n}})=>(0,hd._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`},i3e={keyword:"discriminator",type:"object",schemaType:"object",error:r3e,code(t){const{gen:e,data:n,schema:r,parentSchema:i,it:s}=t,{oneOf:a}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=r.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),u=e.const("tag",(0,hd._)`${n}${(0,hd.getProperty)(o)}`);e.if((0,hd._)`typeof ${u} == "string"`,()=>c(),()=>t.error(!1,{discrError:AA.DiscrError.Tag,tag:u,tagName:o})),t.ok(l);function c(){const v=d();e.if(!1);for(const _ in v)e.elseIf((0,hd._)`${u} === ${_}`),e.assign(l,f(v[_]));e.else(),t.error(!1,{discrError:AA.DiscrError.Mapping,tag:u,tagName:o}),e.endIf()}function f(v){const _=e.name("valid"),S=t.subschema({keyword:"oneOf",schemaProp:v},_);return t.mergeEvaluated(S,hd.Name),_}function d(){var v;const _={},S=y(i);let b=!0;for(let M=0;M<a.length;M++){let $=a[M];$!=null&&$.$ref&&!(0,n3e.schemaHasRulesButRef)($,s.self.RULES)&&($=h3.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,$==null?void 0:$.$ref),$ instanceof h3.SchemaEnv&&($=$.schema));const p=(v=$==null?void 0:$.properties)===null||v===void 0?void 0:v[o];if(typeof p!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);b=b&&(S||y($)),A(p,M)}if(!b)throw new Error(`discriminator: "${o}" must be required`);return _;function y({required:M}){return Array.isArray(M)&&M.includes(o)}function A(M,$){if(M.const)R(M.const,$);else if(M.enum)for(const p of M.enum)R(p,$);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function R(M,$){if(typeof M!="string"||M in _)throw new Error(`discriminator: "${o}" values must be unique strings`);_[M]=$}}}};ZT.default=i3e;const s3e="http://json-schema.org/draft-07/schema#",a3e="http://json-schema.org/draft-07/schema#",o3e="Core schema meta-schema",l3e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},u3e=["object","boolean"],c3e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},f3e={$schema:s3e,$id:a3e,title:o3e,definitions:l3e,type:u3e,properties:c3e,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const n=G8,r=xT,i=ZT,s=f3e,a=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=Qo;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=vn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=yv;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=_v;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(wA,wA.exports);var h3e=wA.exports;const d3e=Tr(h3e);var PA={exports:{}},Pz={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(D,C){return{validate:D,compare:C}}t.fullFormats={date:e(s,a),time:e(l,u),"date-time":e(f,d),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:S,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:T,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:y,int32:{type:"number",validate:M},int64:{type:"number",validate:$},float:{type:"number",validate:p},double:{type:"number",validate:p},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,d),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function n(D){return D%4===0&&(D%100!==0||D%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function s(D){const C=r.exec(D);if(!C)return!1;const U=+C[1],G=+C[2],se=+C[3];return G>=1&&G<=12&&se>=1&&se<=(G===2&&n(U)?29:i[G])}function a(D,C){if(D&&C)return D>C?1:D<C?-1:0}const o=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function l(D,C){const U=o.exec(D);if(!U)return!1;const G=+U[1],se=+U[2],re=+U[3],ye=U[5];return(G<=23&&se<=59&&re<=59||G===23&&se===59&&re===60)&&(!C||ye!=="")}function u(D,C){if(!(D&&C))return;const U=o.exec(D),G=o.exec(C);if(U&&G)return D=U[1]+U[2]+U[3]+(U[4]||""),C=G[1]+G[2]+G[3]+(G[4]||""),D>C?1:D<C?-1:0}const c=/t|\s/i;function f(D){const C=D.split(c);return C.length===2&&s(C[0])&&l(C[1],!0)}function d(D,C){if(!(D&&C))return;const[U,G]=D.split(c),[se,re]=C.split(c),ye=a(U,se);if(ye!==void 0)return ye||u(G,re)}const v=/\/|:/,_=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function S(D){return v.test(D)&&_.test(D)}const b=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function y(D){return b.lastIndex=0,b.test(D)}const A=-(2**31),R=2**31-1;function M(D){return Number.isInteger(D)&&D<=R&&D>=A}function $(D){return Number.isInteger(D)}function p(){return!0}const x=/[^\\]\\Z/;function T(D){if(x.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}})(Pz);var Tz={},TA={exports:{}},Cz={},Zo={},lp={},wv={},cn={},Mg={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(A){if(super(),!t.IDENTIFIER.test(A))throw new Error("CodeGen: name must be a valid identifier");this.str=A}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(A){super(),this._items=typeof A=="string"?[A]:A}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const A=this._items[0];return A===""||A==='""'}get str(){var A;return(A=this._str)!==null&&A!==void 0?A:this._str=this._items.reduce((R,M)=>`${R}${M}`,"")}get names(){var A;return(A=this._names)!==null&&A!==void 0?A:this._names=this._items.reduce((R,M)=>(M instanceof n&&(R[M.str]=(R[M.str]||0)+1),R),{})}}t._Code=r,t.nil=new r("");function i(y,...A){const R=[y[0]];let M=0;for(;M<A.length;)o(R,A[M]),R.push(y[++M]);return new r(R)}t._=i;const s=new r("+");function a(y,...A){const R=[v(y[0])];let M=0;for(;M<A.length;)R.push(s),o(R,A[M]),R.push(s,v(y[++M]));return l(R),new r(R)}t.str=a;function o(y,A){A instanceof r?y.push(...A._items):A instanceof n?y.push(A):y.push(f(A))}t.addCodeArg=o;function l(y){let A=1;for(;A<y.length-1;){if(y[A]===s){const R=u(y[A-1],y[A+1]);if(R!==void 0){y.splice(A-1,3,R);continue}y[A++]="+"}A++}}function u(y,A){if(A==='""')return y;if(y==='""')return A;if(typeof y=="string")return A instanceof n||y[y.length-1]!=='"'?void 0:typeof A!="string"?`${y.slice(0,-1)}${A}"`:A[0]==='"'?y.slice(0,-1)+A.slice(1):void 0;if(typeof A=="string"&&A[0]==='"'&&!(y instanceof n))return`"${y}${A.slice(1)}`}function c(y,A){return A.emptyStr()?y:y.emptyStr()?A:a`${y}${A}`}t.strConcat=c;function f(y){return typeof y=="number"||typeof y=="boolean"||y===null?y:v(Array.isArray(y)?y.join(","):y)}function d(y){return new r(v(y))}t.stringify=d;function v(y){return JSON.stringify(y).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=v;function _(y){return typeof y=="string"&&t.IDENTIFIER.test(y)?new r(`.${y}`):i`[${y}]`}t.getProperty=_;function S(y){if(typeof y=="string"&&t.IDENTIFIER.test(y))return new r(`${y}`);throw new Error(`CodeGen: invalid export name: ${y}, use explicit $id name mapping`)}t.getEsmExportName=S;function b(y){return new r(y.toString())}t.regexpCode=b})(Mg);var CA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Mg;class n extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:u,parent:c}={}){this._names={},this._prefixes=u,this._parent=c}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const c=this._names[u]||this._nameGroup(u);return`${u}${c.index++}`}_nameGroup(u){var c,f;if(!((f=(c=this._parent)===null||c===void 0?void 0:c._prefixes)===null||f===void 0)&&f.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=i;class s extends e.Name{constructor(u,c){super(c),this.prefix=u}setValue(u,{property:c,itemIndex:f}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(c)}[${f}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends i{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:e.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,c){var f;if(c.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(u),{prefix:v}=d,_=(f=c.key)!==null&&f!==void 0?f:c.ref;let S=this._values[v];if(S){const A=S.get(_);if(A)return A}else S=this._values[v]=new Map;S.set(_,d);const b=this._scope[v]||(this._scope[v]=[]),y=b.length;return b[y]=c.ref,d.setValue(c,{property:v,itemIndex:y}),d}getValue(u,c){const f=this._values[u];if(f)return f.get(c)}scopeRefs(u,c=this._values){return this._reduceValues(c,f=>{if(f.scopePath===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return(0,e._)`${u}${f.scopePath}`})}scopeCode(u=this._values,c,f){return this._reduceValues(u,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},c,f)}_reduceValues(u,c,f={},d){let v=e.nil;for(const _ in u){const S=u[_];if(!S)continue;const b=f[_]=f[_]||new Map;S.forEach(y=>{if(b.has(y))return;b.set(y,r.Started);let A=c(y);if(A){const R=this.opts.es5?t.varKinds.var:t.varKinds.const;v=(0,e._)`${v}${R} ${y} = ${A};${this.opts._n}`}else if(A=d==null?void 0:d(y))v=(0,e._)`${v}${A}${this.opts._n}`;else throw new n(y);b.set(y,r.Completed)})}return v}}t.ValueScope=o})(CA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Mg,n=CA;var r=Mg;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=CA;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(k,I){return this}}class a extends s{constructor(k,I,J){super(),this.varKind=k,this.name=I,this.rhs=J}render({es5:k,_n:I}){const J=k?n.varKinds.var:this.varKind,ue=this.rhs===void 0?"":` = ${this.rhs}`;return`${J} ${this.name}${ue};`+I}optimizeNames(k,I){if(k[this.name.str])return this.rhs&&(this.rhs=re(this.rhs,k,I)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(k,I,J){super(),this.lhs=k,this.rhs=I,this.sideEffects=J}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,I){if(!(this.lhs instanceof e.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=re(this.rhs,k,I),this}get names(){const k=this.lhs instanceof e.Name?{}:{...this.lhs.names};return se(k,this.rhs)}}class l extends o{constructor(k,I,J,ue){super(k,J,ue),this.op=I}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class u extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class c extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class f extends s{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class d extends s{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,I){return this.code=re(this.code,k,I),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class v extends s{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((I,J)=>I+J.render(k),"")}optimizeNodes(){const{nodes:k}=this;let I=k.length;for(;I--;){const J=k[I].optimizeNodes();Array.isArray(J)?k.splice(I,1,...J):J?k[I]=J:k.splice(I,1)}return k.length>0?this:void 0}optimizeNames(k,I){const{nodes:J}=this;let ue=J.length;for(;ue--;){const _e=J[ue];_e.optimizeNames(k,I)||(ye(k,_e.names),J.splice(ue,1))}return J.length>0?this:void 0}get names(){return this.nodes.reduce((k,I)=>G(k,I.names),{})}}class _ extends v{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class S extends v{}class b extends _{}b.kind="else";class y extends _{constructor(k,I){super(I),this.condition=k}render(k){let I=`if(${this.condition})`+super.render(k);return this.else&&(I+="else "+this.else.render(k)),I}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let I=this.else;if(I){const J=I.optimizeNodes();I=this.else=Array.isArray(J)?new b(J):J}if(I)return k===!1?I instanceof y?I:I.nodes:this.nodes.length?this:new y(Pe(k),I instanceof y?[I]:I.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,I){var J;if(this.else=(J=this.else)===null||J===void 0?void 0:J.optimizeNames(k,I),!!(super.optimizeNames(k,I)||this.else))return this.condition=re(this.condition,k,I),this}get names(){const k=super.names;return se(k,this.condition),this.else&&G(k,this.else.names),k}}y.kind="if";class A extends _{}A.kind="for";class R extends A{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,I){if(super.optimizeNames(k,I))return this.iteration=re(this.iteration,k,I),this}get names(){return G(super.names,this.iteration.names)}}class M extends A{constructor(k,I,J,ue){super(),this.varKind=k,this.name=I,this.from=J,this.to=ue}render(k){const I=k.es5?n.varKinds.var:this.varKind,{name:J,from:ue,to:_e}=this;return`for(${I} ${J}=${ue}; ${J}<${_e}; ${J}++)`+super.render(k)}get names(){const k=se(super.names,this.from);return se(k,this.to)}}class $ extends A{constructor(k,I,J,ue){super(),this.loop=k,this.varKind=I,this.name=J,this.iterable=ue}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,I){if(super.optimizeNames(k,I))return this.iterable=re(this.iterable,k,I),this}get names(){return G(super.names,this.iterable.names)}}class p extends _{constructor(k,I,J){super(),this.name=k,this.args=I,this.async=J}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}p.kind="func";class x extends v{render(k){return"return "+super.render(k)}}x.kind="return";class T extends _{render(k){let I="try"+super.render(k);return this.catch&&(I+=this.catch.render(k)),this.finally&&(I+=this.finally.render(k)),I}optimizeNodes(){var k,I;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames(k,I){var J,ue;return super.optimizeNames(k,I),(J=this.catch)===null||J===void 0||J.optimizeNames(k,I),(ue=this.finally)===null||ue===void 0||ue.optimizeNames(k,I),this}get names(){const k=super.names;return this.catch&&G(k,this.catch.names),this.finally&&G(k,this.finally.names),k}}class D extends _{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}D.kind="catch";class C extends _{render(k){return"finally"+super.render(k)}}C.kind="finally";class U{constructor(k,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=k,this._scope=new n.Scope({parent:k}),this._nodes=[new S]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,I){const J=this._extScope.value(k,I);return(this._values[J.prefix]||(this._values[J.prefix]=new Set)).add(J),J}getScopeValue(k,I){return this._extScope.getValue(k,I)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,I,J,ue){const _e=this._scope.toName(I);return J!==void 0&&ue&&(this._constants[_e.str]=J),this._leafNode(new a(k,_e,J)),_e}const(k,I,J){return this._def(n.varKinds.const,k,I,J)}let(k,I,J){return this._def(n.varKinds.let,k,I,J)}var(k,I,J){return this._def(n.varKinds.var,k,I,J)}assign(k,I,J){return this._leafNode(new o(k,I,J))}add(k,I){return this._leafNode(new l(k,t.operators.ADD,I))}code(k){return typeof k=="function"?k():k!==e.nil&&this._leafNode(new d(k)),this}object(...k){const I=["{"];for(const[J,ue]of k)I.length>1&&I.push(","),I.push(J),(J!==ue||this.opts.es5)&&(I.push(":"),(0,e.addCodeArg)(I,ue));return I.push("}"),new e._Code(I)}if(k,I,J){if(this._blockNode(new y(k)),I&&J)this.code(I).else().code(J).endIf();else if(I)this.code(I).endIf();else if(J)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new y(k))}else(){return this._elseNode(new b)}endIf(){return this._endBlockNode(y,b)}_for(k,I){return this._blockNode(k),I&&this.code(I).endFor(),this}for(k,I){return this._for(new R(k),I)}forRange(k,I,J,ue,_e=this.opts.es5?n.varKinds.var:n.varKinds.let){const ke=this._scope.toName(k);return this._for(new M(_e,ke,I,J),()=>ue(ke))}forOf(k,I,J,ue=n.varKinds.const){const _e=this._scope.toName(k);if(this.opts.es5){const ke=I instanceof e.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,e._)`${ke}.length`,Ve=>{this.var(_e,(0,e._)`${ke}[${Ve}]`),J(_e)})}return this._for(new $("of",ue,_e,I),()=>J(_e))}forIn(k,I,J,ue=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,e._)`Object.keys(${I})`,J);const _e=this._scope.toName(k);return this._for(new $("in",ue,_e,I),()=>J(_e))}endFor(){return this._endBlockNode(A)}label(k){return this._leafNode(new u(k))}break(k){return this._leafNode(new c(k))}return(k){const I=new x;if(this._blockNode(I),this.code(k),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(x)}try(k,I,J){if(!I&&!J)throw new Error('CodeGen: "try" without "catch" and "finally"');const ue=new T;if(this._blockNode(ue),this.code(k),I){const _e=this.name("e");this._currNode=ue.catch=new D(_e),I(_e)}return J&&(this._currNode=ue.finally=new C,this.code(J)),this._endBlockNode(D,C)}throw(k){return this._leafNode(new f(k))}block(k,I){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(I),this}endBlock(k){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const J=this._nodes.length-I;if(J<0||k!==void 0&&J!==k)throw new Error(`CodeGen: wrong number of nodes: ${J} vs ${k} expected`);return this._nodes.length=I,this}func(k,I=e.nil,J,ue){return this._blockNode(new p(k,I,J)),ue&&this.code(ue).endFunc(),this}endFunc(){return this._endBlockNode(p)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,I){const J=this._currNode;if(J instanceof k||I&&J instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${k.kind}/${I.kind}`:k.kind}"`)}_elseNode(k){const I=this._currNode;if(!(I instanceof y))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const I=this._nodes;I[I.length-1]=k}}t.CodeGen=U;function G(V,k){for(const I in k)V[I]=(V[I]||0)+(k[I]||0);return V}function se(V,k){return k instanceof e._CodeOrName?G(V,k.names):V}function re(V,k,I){if(V instanceof e.Name)return J(V);if(!ue(V))return V;return new e._Code(V._items.reduce((_e,ke)=>(ke instanceof e.Name&&(ke=J(ke)),ke instanceof e._Code?_e.push(...ke._items):_e.push(ke),_e),[]));function J(_e){const ke=I[_e.str];return ke===void 0||k[_e.str]!==1?_e:(delete k[_e.str],ke)}function ue(_e){return _e instanceof e._Code&&_e._items.some(ke=>ke instanceof e.Name&&k[ke.str]===1&&I[ke.str]!==void 0)}}function ye(V,k){for(const I in k)V[I]=(V[I]||0)-(k[I]||0)}function Pe(V){return typeof V=="boolean"||typeof V=="number"||V===null?!V:(0,e._)`!${X(V)}`}t.not=Pe;const Ae=H(t.operators.AND);function Ie(...V){return V.reduce(Ae)}t.and=Ie;const Me=H(t.operators.OR);function ae(...V){return V.reduce(Me)}t.or=ae;function H(V){return(k,I)=>k===e.nil?I:I===e.nil?k:(0,e._)`${X(k)} ${V} ${X(I)}`}function X(V){return V instanceof e.Name?V:(0,e._)`(${V})`}})(cn);var Bn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=cn,n=Mg;function r(p){const x={};for(const T of p)x[T]=!0;return x}t.toHash=r;function i(p,x){return typeof x=="boolean"?x:Object.keys(x).length===0?!0:(s(p,x),!a(x,p.self.RULES.all))}t.alwaysValidSchema=i;function s(p,x=p.schema){const{opts:T,self:D}=p;if(!T.strictSchema||typeof x=="boolean")return;const C=D.RULES.keywords;for(const U in x)C[U]||$(p,`unknown keyword: "${U}"`)}t.checkUnknownRules=s;function a(p,x){if(typeof p=="boolean")return!p;for(const T in p)if(x[T])return!0;return!1}t.schemaHasRules=a;function o(p,x){if(typeof p=="boolean")return!p;for(const T in p)if(T!=="$ref"&&x.all[T])return!0;return!1}t.schemaHasRulesButRef=o;function l({topSchemaRef:p,schemaPath:x},T,D,C){if(!C){if(typeof T=="number"||typeof T=="boolean")return T;if(typeof T=="string")return(0,e._)`${T}`}return(0,e._)`${p}${x}${(0,e.getProperty)(D)}`}t.schemaRefOrVal=l;function u(p){return d(decodeURIComponent(p))}t.unescapeFragment=u;function c(p){return encodeURIComponent(f(p))}t.escapeFragment=c;function f(p){return typeof p=="number"?`${p}`:p.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=f;function d(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=d;function v(p,x){if(Array.isArray(p))for(const T of p)x(T);else x(p)}t.eachItem=v;function _({mergeNames:p,mergeToName:x,mergeValues:T,resultToName:D}){return(C,U,G,se)=>{const re=G===void 0?U:G instanceof e.Name?(U instanceof e.Name?p(C,U,G):x(C,U,G),G):U instanceof e.Name?(x(C,G,U),U):T(U,G);return se===e.Name&&!(re instanceof e.Name)?D(C,re):re}}t.mergeEvaluated={props:_({mergeNames:(p,x,T)=>p.if((0,e._)`${T} !== true && ${x} !== undefined`,()=>{p.if((0,e._)`${x} === true`,()=>p.assign(T,!0),()=>p.assign(T,(0,e._)`${T} || {}`).code((0,e._)`Object.assign(${T}, ${x})`))}),mergeToName:(p,x,T)=>p.if((0,e._)`${T} !== true`,()=>{x===!0?p.assign(T,!0):(p.assign(T,(0,e._)`${T} || {}`),b(p,T,x))}),mergeValues:(p,x)=>p===!0?!0:{...p,...x},resultToName:S}),items:_({mergeNames:(p,x,T)=>p.if((0,e._)`${T} !== true && ${x} !== undefined`,()=>p.assign(T,(0,e._)`${x} === true ? true : ${T} > ${x} ? ${T} : ${x}`)),mergeToName:(p,x,T)=>p.if((0,e._)`${T} !== true`,()=>p.assign(T,x===!0?!0:(0,e._)`${T} > ${x} ? ${T} : ${x}`)),mergeValues:(p,x)=>p===!0?!0:Math.max(p,x),resultToName:(p,x)=>p.var("items",x)})};function S(p,x){if(x===!0)return p.var("props",!0);const T=p.var("props",(0,e._)`{}`);return x!==void 0&&b(p,T,x),T}t.evaluatedPropsToName=S;function b(p,x,T){Object.keys(T).forEach(D=>p.assign((0,e._)`${x}${(0,e.getProperty)(D)}`,!0))}t.setEvaluated=b;const y={};function A(p,x){return p.scopeValue("func",{ref:x,code:y[x.code]||(y[x.code]=new n._Code(x.code))})}t.useFunc=A;var R;(function(p){p[p.Num=0]="Num",p[p.Str=1]="Str"})(R=t.Type||(t.Type={}));function M(p,x,T){if(p instanceof e.Name){const D=x===R.Num;return T?D?(0,e._)`"[" + ${p} + "]"`:(0,e._)`"['" + ${p} + "']"`:D?(0,e._)`"/" + ${p}`:(0,e._)`"/" + ${p}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return T?(0,e.getProperty)(p).toString():"/"+f(p)}t.getErrorPath=M;function $(p,x,T=p.opts.strictSchema){if(T){if(x=`strict mode: ${x}`,T===!0)throw new Error(x);p.self.logger.warn(x)}}t.checkStrictMode=$})(Bn);var Xl={};Object.defineProperty(Xl,"__esModule",{value:!0});const ss=cn,p3e={data:new ss.Name("data"),valCxt:new ss.Name("valCxt"),instancePath:new ss.Name("instancePath"),parentData:new ss.Name("parentData"),parentDataProperty:new ss.Name("parentDataProperty"),rootData:new ss.Name("rootData"),dynamicAnchors:new ss.Name("dynamicAnchors"),vErrors:new ss.Name("vErrors"),errors:new ss.Name("errors"),this:new ss.Name("this"),self:new ss.Name("self"),scope:new ss.Name("scope"),json:new ss.Name("json"),jsonPos:new ss.Name("jsonPos"),jsonLen:new ss.Name("jsonLen"),jsonPart:new ss.Name("jsonPart")};Xl.default=p3e;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=cn,n=Bn,r=Xl;t.keywordError={message:({keyword:b})=>(0,e.str)`must pass "${b}" keyword validation`},t.keyword$DataError={message:({keyword:b,schemaType:y})=>y?(0,e.str)`"${b}" keyword must be ${y} ($data)`:(0,e.str)`"${b}" keyword is invalid ($data)`};function i(b,y=t.keywordError,A,R){const{it:M}=b,{gen:$,compositeRule:p,allErrors:x}=M,T=f(b,y,A);R??(p||x)?l($,T):u(M,(0,e._)`[${T}]`)}t.reportError=i;function s(b,y=t.keywordError,A){const{it:R}=b,{gen:M,compositeRule:$,allErrors:p}=R,x=f(b,y,A);l(M,x),$||p||u(R,r.default.vErrors)}t.reportExtraError=s;function a(b,y){b.assign(r.default.errors,y),b.if((0,e._)`${r.default.vErrors} !== null`,()=>b.if(y,()=>b.assign((0,e._)`${r.default.vErrors}.length`,y),()=>b.assign(r.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:b,keyword:y,schemaValue:A,data:R,errsCount:M,it:$}){if(M===void 0)throw new Error("ajv implementation error");const p=b.name("err");b.forRange("i",M,r.default.errors,x=>{b.const(p,(0,e._)`${r.default.vErrors}[${x}]`),b.if((0,e._)`${p}.instancePath === undefined`,()=>b.assign((0,e._)`${p}.instancePath`,(0,e.strConcat)(r.default.instancePath,$.errorPath))),b.assign((0,e._)`${p}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${y}`),$.opts.verbose&&(b.assign((0,e._)`${p}.schema`,A),b.assign((0,e._)`${p}.data`,R))})}t.extendErrors=o;function l(b,y){const A=b.const("err",y);b.if((0,e._)`${r.default.vErrors} === null`,()=>b.assign(r.default.vErrors,(0,e._)`[${A}]`),(0,e._)`${r.default.vErrors}.push(${A})`),b.code((0,e._)`${r.default.errors}++`)}function u(b,y){const{gen:A,validateName:R,schemaEnv:M}=b;M.$async?A.throw((0,e._)`new ${b.ValidationError}(${y})`):(A.assign((0,e._)`${R}.errors`,y),A.return(!1))}const c={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function f(b,y,A){const{createErrors:R}=b.it;return R===!1?(0,e._)`{}`:d(b,y,A)}function d(b,y,A={}){const{gen:R,it:M}=b,$=[v(M,A),_(b,A)];return S(b,y,$),R.object(...$)}function v({errorPath:b},{instancePath:y}){const A=y?(0,e.str)`${b}${(0,n.getErrorPath)(y,n.Type.Str)}`:b;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,A)]}function _({keyword:b,it:{errSchemaPath:y}},{schemaPath:A,parentSchema:R}){let M=R?y:(0,e.str)`${y}/${b}`;return A&&(M=(0,e.str)`${M}${(0,n.getErrorPath)(A,n.Type.Str)}`),[c.schemaPath,M]}function S(b,{params:y,message:A},R){const{keyword:M,data:$,schemaValue:p,it:x}=b,{opts:T,propertyName:D,topSchemaRef:C,schemaPath:U}=x;R.push([c.keyword,M],[c.params,typeof y=="function"?y(b):y||(0,e._)`{}`]),T.messages&&R.push([c.message,typeof A=="function"?A(b):A]),T.verbose&&R.push([c.schema,p],[c.parentSchema,(0,e._)`${C}${U}`],[r.default.data,$]),D&&R.push([c.propertyName,D])}})(wv);Object.defineProperty(lp,"__esModule",{value:!0});lp.boolOrEmptySchema=lp.topBoolOrEmptySchema=void 0;const m3e=wv,g3e=cn,v3e=Xl,y3e={message:"boolean schema is false"};function _3e(t){const{gen:e,schema:n,validateName:r}=t;n===!1?kz(t,!1):typeof n=="object"&&n.$async===!0?e.return(v3e.default.data):(e.assign((0,g3e._)`${r}.errors`,null),e.return(!0))}lp.topBoolOrEmptySchema=_3e;function b3e(t,e){const{gen:n,schema:r}=t;r===!1?(n.var(e,!1),kz(t)):n.var(e,!0)}lp.boolOrEmptySchema=b3e;function kz(t,e){const{gen:n,data:r}=t,i={gen:n,keyword:"false schema",data:r,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,m3e.reportError)(i,y3e,void 0,e)}var Sv={},ph={};Object.defineProperty(ph,"__esModule",{value:!0});ph.getRules=ph.isJSONType=void 0;const w3e=["string","number","integer","boolean","null","object","array"],S3e=new Set(w3e);function x3e(t){return typeof t=="string"&&S3e.has(t)}ph.isJSONType=x3e;function E3e(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ph.getRules=E3e;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.shouldUseRule=Cu.shouldUseGroup=Cu.schemaHasRulesForType=void 0;function $3e({schema:t,self:e},n){const r=e.RULES.types[n];return r&&r!==!0&&Oz(t,r)}Cu.schemaHasRulesForType=$3e;function Oz(t,e){return e.rules.some(n=>Rz(t,n))}Cu.shouldUseGroup=Oz;function Rz(t,e){var n;return t[e.keyword]!==void 0||((n=e.definition.implements)===null||n===void 0?void 0:n.some(r=>t[r]!==void 0))}Cu.shouldUseRule=Rz;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=ph,n=Cu,r=wv,i=cn,s=Bn;var a;(function(R){R[R.Correct=0]="Correct",R[R.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function o(R){const M=l(R.type);if(M.includes("null")){if(R.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!M.length&&R.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');R.nullable===!0&&M.push("null")}return M}t.getSchemaTypes=o;function l(R){const M=Array.isArray(R)?R:R?[R]:[];if(M.every(e.isJSONType))return M;throw new Error("type must be JSONType or JSONType[]: "+M.join(","))}t.getJSONTypes=l;function u(R,M){const{gen:$,data:p,opts:x}=R,T=f(M,x.coerceTypes),D=M.length>0&&!(T.length===0&&M.length===1&&(0,n.schemaHasRulesForType)(R,M[0]));if(D){const C=S(M,p,x.strictNumbers,a.Wrong);$.if(C,()=>{T.length?d(R,M,T):y(R)})}return D}t.coerceAndCheckDataType=u;const c=new Set(["string","number","integer","boolean","null"]);function f(R,M){return M?R.filter($=>c.has($)||M==="array"&&$==="array"):[]}function d(R,M,$){const{gen:p,data:x,opts:T}=R,D=p.let("dataType",(0,i._)`typeof ${x}`),C=p.let("coerced",(0,i._)`undefined`);T.coerceTypes==="array"&&p.if((0,i._)`${D} == 'object' && Array.isArray(${x}) && ${x}.length == 1`,()=>p.assign(x,(0,i._)`${x}[0]`).assign(D,(0,i._)`typeof ${x}`).if(S(M,x,T.strictNumbers),()=>p.assign(C,x))),p.if((0,i._)`${C} !== undefined`);for(const G of $)(c.has(G)||G==="array"&&T.coerceTypes==="array")&&U(G);p.else(),y(R),p.endIf(),p.if((0,i._)`${C} !== undefined`,()=>{p.assign(x,C),v(R,C)});function U(G){switch(G){case"string":p.elseIf((0,i._)`${D} == "number" || ${D} == "boolean"`).assign(C,(0,i._)`"" + ${x}`).elseIf((0,i._)`${x} === null`).assign(C,(0,i._)`""`);return;case"number":p.elseIf((0,i._)`${D} == "boolean" || ${x} === null
              || (${D} == "string" && ${x} && ${x} == +${x})`).assign(C,(0,i._)`+${x}`);return;case"integer":p.elseIf((0,i._)`${D} === "boolean" || ${x} === null
              || (${D} === "string" && ${x} && ${x} == +${x} && !(${x} % 1))`).assign(C,(0,i._)`+${x}`);return;case"boolean":p.elseIf((0,i._)`${x} === "false" || ${x} === 0 || ${x} === null`).assign(C,!1).elseIf((0,i._)`${x} === "true" || ${x} === 1`).assign(C,!0);return;case"null":p.elseIf((0,i._)`${x} === "" || ${x} === 0 || ${x} === false`),p.assign(C,null);return;case"array":p.elseIf((0,i._)`${D} === "string" || ${D} === "number"
              || ${D} === "boolean" || ${x} === null`).assign(C,(0,i._)`[${x}]`)}}}function v({gen:R,parentData:M,parentDataProperty:$},p){R.if((0,i._)`${M} !== undefined`,()=>R.assign((0,i._)`${M}[${$}]`,p))}function _(R,M,$,p=a.Correct){const x=p===a.Correct?i.operators.EQ:i.operators.NEQ;let T;switch(R){case"null":return(0,i._)`${M} ${x} null`;case"array":T=(0,i._)`Array.isArray(${M})`;break;case"object":T=(0,i._)`${M} && typeof ${M} == "object" && !Array.isArray(${M})`;break;case"integer":T=D((0,i._)`!(${M} % 1) && !isNaN(${M})`);break;case"number":T=D();break;default:return(0,i._)`typeof ${M} ${x} ${R}`}return p===a.Correct?T:(0,i.not)(T);function D(C=i.nil){return(0,i.and)((0,i._)`typeof ${M} == "number"`,C,$?(0,i._)`isFinite(${M})`:i.nil)}}t.checkDataType=_;function S(R,M,$,p){if(R.length===1)return _(R[0],M,$,p);let x;const T=(0,s.toHash)(R);if(T.array&&T.object){const D=(0,i._)`typeof ${M} != "object"`;x=T.null?D:(0,i._)`!${M} || ${D}`,delete T.null,delete T.array,delete T.object}else x=i.nil;T.number&&delete T.integer;for(const D in T)x=(0,i.and)(x,_(D,M,$,p));return x}t.checkDataTypes=S;const b={message:({schema:R})=>`must be ${R}`,params:({schema:R,schemaValue:M})=>typeof R=="string"?(0,i._)`{type: ${R}}`:(0,i._)`{type: ${M}}`};function y(R){const M=A(R);(0,r.reportError)(M,b)}t.reportTypeError=y;function A(R){const{gen:M,data:$,schema:p}=R,x=(0,s.schemaRefOrVal)(R,p,"type");return{gen:M,keyword:"type",data:$,schema:p.type,schemaCode:x,schemaValue:x,parentSchema:p,params:{},it:R}}})(Sv);var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.assignDefaults=void 0;const ed=cn,A3e=Bn;function P3e(t,e){const{properties:n,items:r}=t.schema;if(e==="object"&&n)for(const i in n)d3(t,i,n[i].default);else e==="array"&&Array.isArray(r)&&r.forEach((i,s)=>d3(t,s,i.default))}fw.assignDefaults=P3e;function d3(t,e,n){const{gen:r,compositeRule:i,data:s,opts:a}=t;if(n===void 0)return;const o=(0,ed._)`${s}${(0,ed.getProperty)(e)}`;if(i){(0,A3e.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,ed._)`${o} === undefined`;a.useDefaults==="empty"&&(l=(0,ed._)`${l} || ${o} === null || ${o} === ""`),r.if(l,(0,ed._)`${o} = ${(0,ed.stringify)(n)}`)}var jl={},mn={};Object.defineProperty(mn,"__esModule",{value:!0});mn.validateUnion=mn.validateArray=mn.usePattern=mn.callValidateCode=mn.schemaProperties=mn.allSchemaProperties=mn.noPropertyInData=mn.propertyInData=mn.isOwnProperty=mn.hasPropFunc=mn.reportMissingProp=mn.checkMissingProp=mn.checkReportMissingProp=void 0;const Ar=cn,eC=Bn,ac=Xl,T3e=Bn;function C3e(t,e){const{gen:n,data:r,it:i}=t;n.if(nC(n,r,e,i.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Ar._)`${e}`},!0),t.error()})}mn.checkReportMissingProp=C3e;function k3e({gen:t,data:e,it:{opts:n}},r,i){return(0,Ar.or)(...r.map(s=>(0,Ar.and)(nC(t,e,s,n.ownProperties),(0,Ar._)`${i} = ${s}`)))}mn.checkMissingProp=k3e;function O3e(t,e){t.setParams({missingProperty:e},!0),t.error()}mn.reportMissingProp=O3e;function Mz(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Ar._)`Object.prototype.hasOwnProperty`})}mn.hasPropFunc=Mz;function tC(t,e,n){return(0,Ar._)`${Mz(t)}.call(${e}, ${n})`}mn.isOwnProperty=tC;function R3e(t,e,n,r){const i=(0,Ar._)`${e}${(0,Ar.getProperty)(n)} !== undefined`;return r?(0,Ar._)`${i} && ${tC(t,e,n)}`:i}mn.propertyInData=R3e;function nC(t,e,n,r){const i=(0,Ar._)`${e}${(0,Ar.getProperty)(n)} === undefined`;return r?(0,Ar.or)(i,(0,Ar.not)(tC(t,e,n))):i}mn.noPropertyInData=nC;function Nz(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}mn.allSchemaProperties=Nz;function M3e(t,e){return Nz(e).filter(n=>!(0,eC.alwaysValidSchema)(t,e[n]))}mn.schemaProperties=M3e;function N3e({schemaCode:t,data:e,it:{gen:n,topSchemaRef:r,schemaPath:i,errorPath:s},it:a},o,l,u){const c=u?(0,Ar._)`${t}, ${e}, ${r}${i}`:e,f=[[ac.default.instancePath,(0,Ar.strConcat)(ac.default.instancePath,s)],[ac.default.parentData,a.parentData],[ac.default.parentDataProperty,a.parentDataProperty],[ac.default.rootData,ac.default.rootData]];a.opts.dynamicRef&&f.push([ac.default.dynamicAnchors,ac.default.dynamicAnchors]);const d=(0,Ar._)`${c}, ${n.object(...f)}`;return l!==Ar.nil?(0,Ar._)`${o}.call(${l}, ${d})`:(0,Ar._)`${o}(${d})`}mn.callValidateCode=N3e;const I3e=(0,Ar._)`new RegExp`;function D3e({gen:t,it:{opts:e}},n){const r=e.unicodeRegExp?"u":"",{regExp:i}=e.code,s=i(n,r);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Ar._)`${i.code==="new RegExp"?I3e:(0,T3e.useFunc)(t,i)}(${n}, ${r})`})}mn.usePattern=D3e;function L3e(t){const{gen:e,data:n,keyword:r,it:i}=t,s=e.name("valid");if(i.allErrors){const o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(s,!0),a(()=>e.break()),s;function a(o){const l=e.const("len",(0,Ar._)`${n}.length`);e.forRange("i",0,l,u=>{t.subschema({keyword:r,dataProp:u,dataPropType:eC.Type.Num},s),e.if((0,Ar.not)(s),o)})}}mn.validateArray=L3e;function F3e(t){const{gen:e,schema:n,keyword:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(l=>(0,eC.alwaysValidSchema)(i,l))&&!i.opts.unevaluated)return;const a=e.let("valid",!1),o=e.name("_valid");e.block(()=>n.forEach((l,u)=>{const c=t.subschema({keyword:r,schemaProp:u,compositeRule:!0},o);e.assign(a,(0,Ar._)`${a} || ${o}`),t.mergeValidEvaluated(c,o)||e.if((0,Ar.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}mn.validateUnion=F3e;Object.defineProperty(jl,"__esModule",{value:!0});jl.validateKeywordUsage=jl.validSchemaType=jl.funcKeywordCode=jl.macroKeywordCode=void 0;const Cs=cn,Vf=Xl,j3e=mn,B3e=wv;function V3e(t,e){const{gen:n,keyword:r,schema:i,parentSchema:s,it:a}=t,o=e.macro.call(a.self,i,s,a),l=Iz(n,r,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const u=n.name("valid");t.subschema({schema:o,schemaPath:Cs.nil,errSchemaPath:`${a.errSchemaPath}/${r}`,topSchemaRef:l,compositeRule:!0},u),t.pass(u,()=>t.error(!0))}jl.macroKeywordCode=V3e;function z3e(t,e){var n;const{gen:r,keyword:i,schema:s,parentSchema:a,$data:o,it:l}=t;q3e(l,e);const u=!o&&e.compile?e.compile.call(l.self,s,a,l):e.validate,c=Iz(r,i,u),f=r.let("valid");t.block$data(f,d),t.ok((n=e.valid)!==null&&n!==void 0?n:f);function d(){if(e.errors===!1)S(),e.modifying&&p3(t),b(()=>t.error());else{const y=e.async?v():_();e.modifying&&p3(t),b(()=>U3e(t,y))}}function v(){const y=r.let("ruleErrs",null);return r.try(()=>S((0,Cs._)`await `),A=>r.assign(f,!1).if((0,Cs._)`${A} instanceof ${l.ValidationError}`,()=>r.assign(y,(0,Cs._)`${A}.errors`),()=>r.throw(A))),y}function _(){const y=(0,Cs._)`${c}.errors`;return r.assign(y,null),S(Cs.nil),y}function S(y=e.async?(0,Cs._)`await `:Cs.nil){const A=l.opts.passContext?Vf.default.this:Vf.default.self,R=!("compile"in e&&!o||e.schema===!1);r.assign(f,(0,Cs._)`${y}${(0,j3e.callValidateCode)(t,c,A,R)}`,e.modifying)}function b(y){var A;r.if((0,Cs.not)((A=e.valid)!==null&&A!==void 0?A:f),y)}}jl.funcKeywordCode=z3e;function p3(t){const{gen:e,data:n,it:r}=t;e.if(r.parentData,()=>e.assign(n,(0,Cs._)`${r.parentData}[${r.parentDataProperty}]`))}function U3e(t,e){const{gen:n}=t;n.if((0,Cs._)`Array.isArray(${e})`,()=>{n.assign(Vf.default.vErrors,(0,Cs._)`${Vf.default.vErrors} === null ? ${e} : ${Vf.default.vErrors}.concat(${e})`).assign(Vf.default.errors,(0,Cs._)`${Vf.default.vErrors}.length`),(0,B3e.extendErrors)(t)},()=>t.error())}function q3e({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Iz(t,e,n){if(n===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof n=="function"?{ref:n}:{ref:n,code:(0,Cs.stringify)(n)})}function H3e(t,e,n=!1){return!e.length||e.some(r=>r==="array"?Array.isArray(t):r==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==r||n&&typeof t>"u")}jl.validSchemaType=H3e;function W3e({schema:t,opts:e,self:n,errSchemaPath:r},i,s){if(Array.isArray(i.keyword)?!i.keyword.includes(s):i.keyword!==s)throw new Error("ajv implementation error");const a=i.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(i.validateSchema&&!i.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${r}": `+n.errorsText(i.validateSchema.errors);if(e.validateSchema==="log")n.logger.error(l);else throw new Error(l)}}jl.validateKeywordUsage=W3e;var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.extendSubschemaMode=Nc.extendSubschemaData=Nc.getSubschema=void 0;const Ml=cn,Dz=Bn;function G3e(t,{keyword:e,schemaProp:n,schema:r,schemaPath:i,errSchemaPath:s,topSchemaRef:a}){if(e!==void 0&&r!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return n===void 0?{schema:o,schemaPath:(0,Ml._)`${t.schemaPath}${(0,Ml.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[n],schemaPath:(0,Ml._)`${t.schemaPath}${(0,Ml.getProperty)(e)}${(0,Ml.getProperty)(n)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,Dz.escapeFragment)(n)}`}}if(r!==void 0){if(i===void 0||s===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:r,schemaPath:i,topSchemaRef:a,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Nc.getSubschema=G3e;function K3e(t,e,{dataProp:n,dataPropType:r,data:i,dataTypes:s,propertyName:a}){if(i!==void 0&&n!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(n!==void 0){const{errorPath:u,dataPathArr:c,opts:f}=e,d=o.let("data",(0,Ml._)`${e.data}${(0,Ml.getProperty)(n)}`,!0);l(d),t.errorPath=(0,Ml.str)`${u}${(0,Dz.getErrorPath)(n,r,f.jsPropertySyntax)}`,t.parentDataProperty=(0,Ml._)`${n}`,t.dataPathArr=[...c,t.parentDataProperty]}if(i!==void 0){const u=i instanceof Ml.Name?i:o.let("data",i,!0);l(u),a!==void 0&&(t.propertyName=a)}s&&(t.dataTypes=s);function l(u){t.data=u,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,u]}}Nc.extendSubschemaData=K3e;function Y3e(t,{jtdDiscriminator:e,jtdMetadata:n,compositeRule:r,createErrors:i,allErrors:s}){r!==void 0&&(t.compositeRule=r),i!==void 0&&(t.createErrors=i),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=n}Nc.extendSubschemaMode=Y3e;var Ui={},Lz={exports:{}},Ec=Lz.exports=function(t,e,n){typeof e=="function"&&(n=e,e={}),n=e.cb||n;var r=typeof n=="function"?n:n.pre||function(){},i=n.post||function(){};d_(e,r,i,t,"",t)};Ec.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ec.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ec.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ec.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function d_(t,e,n,r,i,s,a,o,l,u){if(r&&typeof r=="object"&&!Array.isArray(r)){e(r,i,s,a,o,l,u);for(var c in r){var f=r[c];if(Array.isArray(f)){if(c in Ec.arrayKeywords)for(var d=0;d<f.length;d++)d_(t,e,n,f[d],i+"/"+c+"/"+d,s,i,c,r,d)}else if(c in Ec.propsKeywords){if(f&&typeof f=="object")for(var v in f)d_(t,e,n,f[v],i+"/"+c+"/"+J3e(v),s,i,c,r,v)}else(c in Ec.keywords||t.allKeys&&!(c in Ec.skipKeywords))&&d_(t,e,n,f,i+"/"+c,s,i,c,r)}n(r,i,s,a,o,l,u)}}function J3e(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}var X3e=Lz.exports;Object.defineProperty(Ui,"__esModule",{value:!0});Ui.getSchemaRefs=Ui.resolveUrl=Ui.normalizeId=Ui._getFullPath=Ui.getFullPath=Ui.inlineRef=void 0;const Q3e=Bn,Z3e=xh,eFe=X3e,tFe=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function nFe(t,e=!0){return typeof t=="boolean"?!0:e===!0?!kA(t):e?Fz(t)<=e:!1}Ui.inlineRef=nFe;const rFe=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function kA(t){for(const e in t){if(rFe.has(e))return!0;const n=t[e];if(Array.isArray(n)&&n.some(kA)||typeof n=="object"&&kA(n))return!0}return!1}function Fz(t){let e=0;for(const n in t){if(n==="$ref")return 1/0;if(e++,!tFe.has(n)&&(typeof t[n]=="object"&&(0,Q3e.eachItem)(t[n],r=>e+=Fz(r)),e===1/0))return 1/0}return e}function jz(t,e="",n){n!==!1&&(e=Fd(e));const r=t.parse(e);return Bz(t,r)}Ui.getFullPath=jz;function Bz(t,e){return t.serialize(e).split("#")[0]+"#"}Ui._getFullPath=Bz;const iFe=/#\/?$/;function Fd(t){return t?t.replace(iFe,""):""}Ui.normalizeId=Fd;function sFe(t,e,n){return n=Fd(n),t.resolve(e,n)}Ui.resolveUrl=sFe;const aFe=/^[a-z_][-a-z0-9._]*$/i;function oFe(t,e){if(typeof t=="boolean")return{};const{schemaId:n,uriResolver:r}=this.opts,i=Fd(t[n]||e),s={"":i},a=jz(r,i,!1),o={},l=new Set;return eFe(t,{allKeys:!0},(f,d,v,_)=>{if(_===void 0)return;const S=a+d;let b=s[_];typeof f[n]=="string"&&(b=y.call(this,f[n])),A.call(this,f.$anchor),A.call(this,f.$dynamicAnchor),s[d]=b;function y(R){const M=this.opts.uriResolver.resolve;if(R=Fd(b?M(b,R):R),l.has(R))throw c(R);l.add(R);let $=this.refs[R];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?u(f,$.schema,R):R!==Fd(S)&&(R[0]==="#"?(u(f,o[R],R),o[R]=f):this.refs[R]=S),R}function A(R){if(typeof R=="string"){if(!aFe.test(R))throw new Error(`invalid anchor "${R}"`);y.call(this,`#${R}`)}}}),o;function u(f,d,v){if(d!==void 0&&!Z3e(f,d))throw c(v)}function c(f){return new Error(`reference "${f}" resolves to more than one schema`)}}Ui.getSchemaRefs=oFe;Object.defineProperty(Zo,"__esModule",{value:!0});Zo.getData=Zo.KeywordCxt=Zo.validateFunctionCode=void 0;const Vz=lp,m3=Sv,rC=Cu,Fb=Sv,lFe=fw,Qm=jl,aE=Nc,kt=cn,Xt=Xl,uFe=Ui,ku=Bn,_m=wv;function cFe(t){if(qz(t)&&(Hz(t),Uz(t))){dFe(t);return}zz(t,()=>(0,Vz.topBoolOrEmptySchema)(t))}Zo.validateFunctionCode=cFe;function zz({gen:t,validateName:e,schema:n,schemaEnv:r,opts:i},s){i.code.es5?t.func(e,(0,kt._)`${Xt.default.data}, ${Xt.default.valCxt}`,r.$async,()=>{t.code((0,kt._)`"use strict"; ${g3(n,i)}`),hFe(t,i),t.code(s)}):t.func(e,(0,kt._)`${Xt.default.data}, ${fFe(i)}`,r.$async,()=>t.code(g3(n,i)).code(s))}function fFe(t){return(0,kt._)`{${Xt.default.instancePath}="", ${Xt.default.parentData}, ${Xt.default.parentDataProperty}, ${Xt.default.rootData}=${Xt.default.data}${t.dynamicRef?(0,kt._)`, ${Xt.default.dynamicAnchors}={}`:kt.nil}}={}`}function hFe(t,e){t.if(Xt.default.valCxt,()=>{t.var(Xt.default.instancePath,(0,kt._)`${Xt.default.valCxt}.${Xt.default.instancePath}`),t.var(Xt.default.parentData,(0,kt._)`${Xt.default.valCxt}.${Xt.default.parentData}`),t.var(Xt.default.parentDataProperty,(0,kt._)`${Xt.default.valCxt}.${Xt.default.parentDataProperty}`),t.var(Xt.default.rootData,(0,kt._)`${Xt.default.valCxt}.${Xt.default.rootData}`),e.dynamicRef&&t.var(Xt.default.dynamicAnchors,(0,kt._)`${Xt.default.valCxt}.${Xt.default.dynamicAnchors}`)},()=>{t.var(Xt.default.instancePath,(0,kt._)`""`),t.var(Xt.default.parentData,(0,kt._)`undefined`),t.var(Xt.default.parentDataProperty,(0,kt._)`undefined`),t.var(Xt.default.rootData,Xt.default.data),e.dynamicRef&&t.var(Xt.default.dynamicAnchors,(0,kt._)`{}`)})}function dFe(t){const{schema:e,opts:n,gen:r}=t;zz(t,()=>{n.$comment&&e.$comment&&Gz(t),yFe(t),r.let(Xt.default.vErrors,null),r.let(Xt.default.errors,0),n.unevaluated&&pFe(t),Wz(t),wFe(t)})}function pFe(t){const{gen:e,validateName:n}=t;t.evaluated=e.const("evaluated",(0,kt._)`${n}.evaluated`),e.if((0,kt._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,kt._)`${t.evaluated}.props`,(0,kt._)`undefined`)),e.if((0,kt._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,kt._)`${t.evaluated}.items`,(0,kt._)`undefined`))}function g3(t,e){const n=typeof t=="object"&&t[e.schemaId];return n&&(e.code.source||e.code.process)?(0,kt._)`/*# sourceURL=${n} */`:kt.nil}function mFe(t,e){if(qz(t)&&(Hz(t),Uz(t))){gFe(t,e);return}(0,Vz.boolOrEmptySchema)(t,e)}function Uz({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const n in t)if(e.RULES.all[n])return!0;return!1}function qz(t){return typeof t.schema!="boolean"}function gFe(t,e){const{schema:n,gen:r,opts:i}=t;i.$comment&&n.$comment&&Gz(t),_Fe(t),bFe(t);const s=r.const("_errs",Xt.default.errors);Wz(t,s),r.var(e,(0,kt._)`${s} === ${Xt.default.errors}`)}function Hz(t){(0,ku.checkUnknownRules)(t),vFe(t)}function Wz(t,e){if(t.opts.jtd)return v3(t,[],!1,e);const n=(0,m3.getSchemaTypes)(t.schema),r=(0,m3.coerceAndCheckDataType)(t,n);v3(t,n,!r,e)}function vFe(t){const{schema:e,errSchemaPath:n,opts:r,self:i}=t;e.$ref&&r.ignoreKeywordsWithRef&&(0,ku.schemaHasRulesButRef)(e,i.RULES)&&i.logger.warn(`$ref: keywords ignored in schema at path "${n}"`)}function yFe(t){const{schema:e,opts:n}=t;e.default!==void 0&&n.useDefaults&&n.strictSchema&&(0,ku.checkStrictMode)(t,"default is ignored in the schema root")}function _Fe(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,uFe.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function bFe(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Gz({gen:t,schemaEnv:e,schema:n,errSchemaPath:r,opts:i}){const s=n.$comment;if(i.$comment===!0)t.code((0,kt._)`${Xt.default.self}.logger.log(${s})`);else if(typeof i.$comment=="function"){const a=(0,kt.str)`${r}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,kt._)`${Xt.default.self}.opts.$comment(${s}, ${a}, ${o}.schema)`)}}function wFe(t){const{gen:e,schemaEnv:n,validateName:r,ValidationError:i,opts:s}=t;n.$async?e.if((0,kt._)`${Xt.default.errors} === 0`,()=>e.return(Xt.default.data),()=>e.throw((0,kt._)`new ${i}(${Xt.default.vErrors})`)):(e.assign((0,kt._)`${r}.errors`,Xt.default.vErrors),s.unevaluated&&SFe(t),e.return((0,kt._)`${Xt.default.errors} === 0`))}function SFe({gen:t,evaluated:e,props:n,items:r}){n instanceof kt.Name&&t.assign((0,kt._)`${e}.props`,n),r instanceof kt.Name&&t.assign((0,kt._)`${e}.items`,r)}function v3(t,e,n,r){const{gen:i,schema:s,data:a,allErrors:o,opts:l,self:u}=t,{RULES:c}=u;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,ku.schemaHasRulesButRef)(s,c))){i.block(()=>Jz(t,"$ref",c.all.$ref.definition));return}l.jtd||xFe(t,e),i.block(()=>{for(const d of c.rules)f(d);f(c.post)});function f(d){(0,rC.shouldUseGroup)(s,d)&&(d.type?(i.if((0,Fb.checkDataType)(d.type,a,l.strictNumbers)),y3(t,d),e.length===1&&e[0]===d.type&&n&&(i.else(),(0,Fb.reportTypeError)(t)),i.endIf()):y3(t,d),o||i.if((0,kt._)`${Xt.default.errors} === ${r||0}`))}}function y3(t,e){const{gen:n,schema:r,opts:{useDefaults:i}}=t;i&&(0,lFe.assignDefaults)(t,e.type),n.block(()=>{for(const s of e.rules)(0,rC.shouldUseRule)(r,s)&&Jz(t,s.keyword,s.definition,e.type)})}function xFe(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(EFe(t,e),t.opts.allowUnionTypes||$Fe(t,e),AFe(t,t.dataTypes))}function EFe(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(n=>{Kz(t.dataTypes,n)||iC(t,`type "${n}" not allowed by context "${t.dataTypes.join(",")}"`)}),TFe(t,e)}}function $Fe(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&iC(t,"use allowUnionTypes to allow union type keyword")}function AFe(t,e){const n=t.self.RULES.all;for(const r in n){const i=n[r];if(typeof i=="object"&&(0,rC.shouldUseRule)(t.schema,i)){const{type:s}=i.definition;s.length&&!s.some(a=>PFe(e,a))&&iC(t,`missing type "${s.join(",")}" for keyword "${r}"`)}}}function PFe(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Kz(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function TFe(t,e){const n=[];for(const r of t.dataTypes)Kz(e,r)?n.push(r):e.includes("integer")&&r==="number"&&n.push("integer");t.dataTypes=n}function iC(t,e){const n=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${n}" (strictTypes)`,(0,ku.checkStrictMode)(t,e,t.opts.strictTypes)}class Yz{constructor(e,n,r){if((0,Qm.validateKeywordUsage)(e,n,r),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=r,this.data=e.data,this.schema=e.schema[r],this.$data=n.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ku.schemaRefOrVal)(e,this.schema,r,this.$data),this.schemaType=n.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=n,this.$data)this.schemaCode=e.gen.const("vSchema",Xz(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Qm.validSchemaType)(this.schema,n.schemaType,n.allowUndefined))throw new Error(`${r} value must be ${JSON.stringify(n.schemaType)}`);("code"in n?n.trackErrors:n.errors!==!1)&&(this.errsCount=e.gen.const("_errs",Xt.default.errors))}result(e,n,r){this.failResult((0,kt.not)(e),n,r)}failResult(e,n,r){this.gen.if(e),r?r():this.error(),n?(this.gen.else(),n(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,n){this.failResult((0,kt.not)(e),void 0,n)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:n}=this;this.fail((0,kt._)`${n} !== undefined && (${(0,kt.or)(this.invalid$data(),e)})`)}error(e,n,r){if(n){this.setParams(n),this._error(e,r),this.setParams({});return}this._error(e,r)}_error(e,n){(e?_m.reportExtraError:_m.reportError)(this,this.def.error,n)}$dataError(){(0,_m.reportError)(this,this.def.$dataError||_m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,_m.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,n){n?Object.assign(this.params,e):this.params=e}block$data(e,n,r=kt.nil){this.gen.block(()=>{this.check$data(e,r),n()})}check$data(e=kt.nil,n=kt.nil){if(!this.$data)return;const{gen:r,schemaCode:i,schemaType:s,def:a}=this;r.if((0,kt.or)((0,kt._)`${i} === undefined`,n)),e!==kt.nil&&r.assign(e,!0),(s.length||a.validateSchema)&&(r.elseIf(this.invalid$data()),this.$dataError(),e!==kt.nil&&r.assign(e,!1)),r.else()}invalid$data(){const{gen:e,schemaCode:n,schemaType:r,def:i,it:s}=this;return(0,kt.or)(a(),o());function a(){if(r.length){if(!(n instanceof kt.Name))throw new Error("ajv implementation error");const l=Array.isArray(r)?r:[r];return(0,kt._)`${(0,Fb.checkDataTypes)(l,n,s.opts.strictNumbers,Fb.DataType.Wrong)}`}return kt.nil}function o(){if(i.validateSchema){const l=e.scopeValue("validate$data",{ref:i.validateSchema});return(0,kt._)`!${l}(${n})`}return kt.nil}}subschema(e,n){const r=(0,aE.getSubschema)(this.it,e);(0,aE.extendSubschemaData)(r,this.it,e),(0,aE.extendSubschemaMode)(r,e);const i={...this.it,...r,items:void 0,props:void 0};return mFe(i,n),i}mergeEvaluated(e,n){const{it:r,gen:i}=this;r.opts.unevaluated&&(r.props!==!0&&e.props!==void 0&&(r.props=ku.mergeEvaluated.props(i,e.props,r.props,n)),r.items!==!0&&e.items!==void 0&&(r.items=ku.mergeEvaluated.items(i,e.items,r.items,n)))}mergeValidEvaluated(e,n){const{it:r,gen:i}=this;if(r.opts.unevaluated&&(r.props!==!0||r.items!==!0))return i.if(n,()=>this.mergeEvaluated(e,kt.Name)),!0}}Zo.KeywordCxt=Yz;function Jz(t,e,n,r){const i=new Yz(t,n,e);"code"in n?n.code(i,r):i.$data&&n.validate?(0,Qm.funcKeywordCode)(i,n):"macro"in n?(0,Qm.macroKeywordCode)(i,n):(n.compile||n.validate)&&(0,Qm.funcKeywordCode)(i,n)}const CFe=/^\/(?:[^~]|~0|~1)*$/,kFe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xz(t,{dataLevel:e,dataNames:n,dataPathArr:r}){let i,s;if(t==="")return Xt.default.rootData;if(t[0]==="/"){if(!CFe.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);i=t,s=Xt.default.rootData}else{const u=kFe.exec(t);if(!u)throw new Error(`Invalid JSON-pointer: ${t}`);const c=+u[1];if(i=u[2],i==="#"){if(c>=e)throw new Error(l("property/index",c));return r[e-c]}if(c>e)throw new Error(l("data",c));if(s=n[e-c],!i)return s}let a=s;const o=i.split("/");for(const u of o)u&&(s=(0,kt._)`${s}${(0,kt.getProperty)((0,ku.unescapeJsonPointer)(u))}`,a=(0,kt._)`${a} && ${s}`);return a;function l(u,c){return`Cannot access ${u} ${c} levels up, current level is ${e}`}}Zo.getData=Xz;var xv={};Object.defineProperty(xv,"__esModule",{value:!0});class OFe extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}xv.default=OFe;var Ev={};Object.defineProperty(Ev,"__esModule",{value:!0});const oE=Ui;class RFe extends Error{constructor(e,n,r,i){super(i||`can't resolve reference ${r} from id ${n}`),this.missingRef=(0,oE.resolveUrl)(e,n,r),this.missingSchema=(0,oE.normalizeId)((0,oE.getFullPath)(e,this.missingRef))}}Ev.default=RFe;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.resolveSchema=oa.getCompilingSchema=oa.resolveRef=oa.compileSchema=oa.SchemaEnv=void 0;const Io=cn,MFe=xv,Cf=Xl,zo=Ui,_3=Bn,NFe=Zo;class hw{constructor(e){var n;this.refs={},this.dynamicAnchors={};let r;typeof e.schema=="object"&&(r=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(n=e.baseId)!==null&&n!==void 0?n:(0,zo.normalizeId)(r==null?void 0:r[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=r==null?void 0:r.$async,this.refs={}}}oa.SchemaEnv=hw;function sC(t){const e=Qz.call(this,t);if(e)return e;const n=(0,zo.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:r,lines:i}=this.opts.code,{ownProperties:s}=this.opts,a=new Io.CodeGen(this.scope,{es5:r,lines:i,ownProperties:s});let o;t.$async&&(o=a.scopeValue("Error",{ref:MFe.default,code:(0,Io._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const u={gen:a,allErrors:this.opts.allErrors,data:Cf.default.data,parentData:Cf.default.parentData,parentDataProperty:Cf.default.parentDataProperty,dataNames:[Cf.default.data],dataPathArr:[Io.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,Io.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:n,baseId:t.baseId||n,schemaPath:Io.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Io._)`""`,opts:this.opts,self:this};let c;try{this._compilations.add(t),(0,NFe.validateFunctionCode)(u),a.optimize(this.opts.code.optimize);const f=a.toString();c=`${a.scopeRefs(Cf.default.scope)}return ${f}`,this.opts.code.process&&(c=this.opts.code.process(c,t));const v=new Function(`${Cf.default.self}`,`${Cf.default.scope}`,c)(this,this.scope.get());if(this.scope.value(l,{ref:v}),v.errors=null,v.schema=t.schema,v.schemaEnv=t,t.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:l,validateCode:f,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:S}=u;v.evaluated={props:_ instanceof Io.Name?void 0:_,items:S instanceof Io.Name?void 0:S,dynamicProps:_ instanceof Io.Name,dynamicItems:S instanceof Io.Name},v.source&&(v.source.evaluated=(0,Io.stringify)(v.evaluated))}return t.validate=v,t}catch(f){throw delete t.validate,delete t.validateName,c&&this.logger.error("Error compiling schema, function code:",c),f}finally{this._compilations.delete(t)}}oa.compileSchema=sC;function IFe(t,e,n){var r;n=(0,zo.resolveUrl)(this.opts.uriResolver,e,n);const i=t.refs[n];if(i)return i;let s=FFe.call(this,t,n);if(s===void 0){const a=(r=t.localRefs)===null||r===void 0?void 0:r[n],{schemaId:o}=this.opts;a&&(s=new hw({schema:a,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[n]=DFe.call(this,s)}oa.resolveRef=IFe;function DFe(t){return(0,zo.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:sC.call(this,t)}function Qz(t){for(const e of this._compilations)if(LFe(e,t))return e}oa.getCompilingSchema=Qz;function LFe(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function FFe(t,e){let n;for(;typeof(n=this.refs[e])=="string";)e=n;return n||this.schemas[e]||dw.call(this,t,e)}function dw(t,e){const n=this.opts.uriResolver.parse(e),r=(0,zo._getFullPath)(this.opts.uriResolver,n);let i=(0,zo.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&r===i)return lE.call(this,n,t);const s=(0,zo.normalizeId)(r),a=this.refs[s]||this.schemas[s];if(typeof a=="string"){const o=dw.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:lE.call(this,n,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||sC.call(this,a),s===(0,zo.normalizeId)(e)){const{schema:o}=a,{schemaId:l}=this.opts,u=o[l];return u&&(i=(0,zo.resolveUrl)(this.opts.uriResolver,i,u)),new hw({schema:o,schemaId:l,root:t,baseId:i})}return lE.call(this,n,a)}}oa.resolveSchema=dw;const jFe=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function lE(t,{baseId:e,schema:n,root:r}){var i;if(((i=t.fragment)===null||i===void 0?void 0:i[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const l=n[(0,_3.unescapeFragment)(o)];if(l===void 0)return;n=l;const u=typeof n=="object"&&n[this.opts.schemaId];!jFe.has(o)&&u&&(e=(0,zo.resolveUrl)(this.opts.uriResolver,e,u))}let s;if(typeof n!="boolean"&&n.$ref&&!(0,_3.schemaHasRulesButRef)(n,this.RULES)){const o=(0,zo.resolveUrl)(this.opts.uriResolver,e,n.$ref);s=dw.call(this,r,o)}const{schemaId:a}=this.opts;if(s=s||new hw({schema:n,schemaId:a,root:r,baseId:e}),s.schema!==s.root.schema)return s}const BFe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",VFe="Meta-schema for $data reference (JSON AnySchema extension proposal)",zFe="object",UFe=["$data"],qFe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},HFe=!1,WFe={$id:BFe,description:VFe,type:zFe,required:UFe,properties:qFe,additionalProperties:HFe};var aC={};Object.defineProperty(aC,"__esModule",{value:!0});const Zz=O2;Zz.code='require("ajv/dist/runtime/uri").default';aC.default=Zz;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Zo;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=cn;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=xv,i=Ev,s=ph,a=oa,o=cn,l=Ui,u=Sv,c=Bn,f=WFe,d=aC,v=(ae,H)=>new RegExp(ae,H);v.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],S=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),b={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},y={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},A=200;function R(ae){var H,X,V,k,I,J,ue,_e,ke,Ve,We,Y,Q,N,F,q,ie,ge,ve,Te,Ne,Be,Xe,Je,Ze;const ut=ae.strict,xt=(H=ae.code)===null||H===void 0?void 0:H.optimize,Ot=xt===!0||xt===void 0?1:xt||0,mt=(V=(X=ae.code)===null||X===void 0?void 0:X.regExp)!==null&&V!==void 0?V:v,zt=(k=ae.uriResolver)!==null&&k!==void 0?k:d.default;return{strictSchema:(J=(I=ae.strictSchema)!==null&&I!==void 0?I:ut)!==null&&J!==void 0?J:!0,strictNumbers:(_e=(ue=ae.strictNumbers)!==null&&ue!==void 0?ue:ut)!==null&&_e!==void 0?_e:!0,strictTypes:(Ve=(ke=ae.strictTypes)!==null&&ke!==void 0?ke:ut)!==null&&Ve!==void 0?Ve:"log",strictTuples:(Y=(We=ae.strictTuples)!==null&&We!==void 0?We:ut)!==null&&Y!==void 0?Y:"log",strictRequired:(N=(Q=ae.strictRequired)!==null&&Q!==void 0?Q:ut)!==null&&N!==void 0?N:!1,code:ae.code?{...ae.code,optimize:Ot,regExp:mt}:{optimize:Ot,regExp:mt},loopRequired:(F=ae.loopRequired)!==null&&F!==void 0?F:A,loopEnum:(q=ae.loopEnum)!==null&&q!==void 0?q:A,meta:(ie=ae.meta)!==null&&ie!==void 0?ie:!0,messages:(ge=ae.messages)!==null&&ge!==void 0?ge:!0,inlineRefs:(ve=ae.inlineRefs)!==null&&ve!==void 0?ve:!0,schemaId:(Te=ae.schemaId)!==null&&Te!==void 0?Te:"$id",addUsedSchema:(Ne=ae.addUsedSchema)!==null&&Ne!==void 0?Ne:!0,validateSchema:(Be=ae.validateSchema)!==null&&Be!==void 0?Be:!0,validateFormats:(Xe=ae.validateFormats)!==null&&Xe!==void 0?Xe:!0,unicodeRegExp:(Je=ae.unicodeRegExp)!==null&&Je!==void 0?Je:!0,int32range:(Ze=ae.int32range)!==null&&Ze!==void 0?Ze:!0,uriResolver:zt}}class M{constructor(H={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,H=this.opts={...H,...R(H)};const{es5:X,lines:V}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:S,es5:X,lines:V}),this.logger=G(H.logger);const k=H.validateFormats;H.validateFormats=!1,this.RULES=(0,s.getRules)(),$.call(this,b,H,"NOT SUPPORTED"),$.call(this,y,H,"DEPRECATED","warn"),this._metaOpts=C.call(this),H.formats&&T.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),H.keywords&&D.call(this,H.keywords),typeof H.meta=="object"&&this.addMetaSchema(H.meta),x.call(this),H.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:H,meta:X,schemaId:V}=this.opts;let k=f;V==="id"&&(k={...f},k.id=k.$id,delete k.$id),X&&H&&this.addMetaSchema(k,k[V],!1)}defaultMeta(){const{meta:H,schemaId:X}=this.opts;return this.opts.defaultMeta=typeof H=="object"?H[X]||H:void 0}validate(H,X){let V;if(typeof H=="string"){if(V=this.getSchema(H),!V)throw new Error(`no schema with key or ref "${H}"`)}else V=this.compile(H);const k=V(X);return"$async"in V||(this.errors=V.errors),k}compile(H,X){const V=this._addSchema(H,X);return V.validate||this._compileSchemaEnv(V)}compileAsync(H,X){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:V}=this.opts;return k.call(this,H,X);async function k(Ve,We){await I.call(this,Ve.$schema);const Y=this._addSchema(Ve,We);return Y.validate||J.call(this,Y)}async function I(Ve){Ve&&!this.getSchema(Ve)&&await k.call(this,{$ref:Ve},!0)}async function J(Ve){try{return this._compileSchemaEnv(Ve)}catch(We){if(!(We instanceof i.default))throw We;return ue.call(this,We),await _e.call(this,We.missingSchema),J.call(this,Ve)}}function ue({missingSchema:Ve,missingRef:We}){if(this.refs[Ve])throw new Error(`AnySchema ${Ve} is loaded but ${We} cannot be resolved`)}async function _e(Ve){const We=await ke.call(this,Ve);this.refs[Ve]||await I.call(this,We.$schema),this.refs[Ve]||this.addSchema(We,Ve,X)}async function ke(Ve){const We=this._loading[Ve];if(We)return We;try{return await(this._loading[Ve]=V(Ve))}finally{delete this._loading[Ve]}}}addSchema(H,X,V,k=this.opts.validateSchema){if(Array.isArray(H)){for(const J of H)this.addSchema(J,void 0,V,k);return this}let I;if(typeof H=="object"){const{schemaId:J}=this.opts;if(I=H[J],I!==void 0&&typeof I!="string")throw new Error(`schema ${J} must be string`)}return X=(0,l.normalizeId)(X||I),this._checkUnique(X),this.schemas[X]=this._addSchema(H,V,X,k,!0),this}addMetaSchema(H,X,V=this.opts.validateSchema){return this.addSchema(H,X,!0,V),this}validateSchema(H,X){if(typeof H=="boolean")return!0;let V;if(V=H.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(V,H);if(!k&&X){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return k}getSchema(H){let X;for(;typeof(X=p.call(this,H))=="string";)H=X;if(X===void 0){const{schemaId:V}=this.opts,k=new a.SchemaEnv({schema:{},schemaId:V});if(X=a.resolveSchema.call(this,k,H),!X)return;this.refs[H]=X}return X.validate||this._compileSchemaEnv(X)}removeSchema(H){if(H instanceof RegExp)return this._removeAllSchemas(this.schemas,H),this._removeAllSchemas(this.refs,H),this;switch(typeof H){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const X=p.call(this,H);return typeof X=="object"&&this._cache.delete(X.schema),delete this.schemas[H],delete this.refs[H],this}case"object":{const X=H;this._cache.delete(X);let V=H[this.opts.schemaId];return V&&(V=(0,l.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(H){for(const X of H)this.addKeyword(X);return this}addKeyword(H,X){let V;if(typeof H=="string")V=H,typeof X=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),X.keyword=V);else if(typeof H=="object"&&X===void 0){if(X=H,V=X.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(re.call(this,V,X),!X)return(0,c.eachItem)(V,I=>ye.call(this,I)),this;Ae.call(this,X);const k={...X,type:(0,u.getJSONTypes)(X.type),schemaType:(0,u.getJSONTypes)(X.schemaType)};return(0,c.eachItem)(V,k.type.length===0?I=>ye.call(this,I,k):I=>k.type.forEach(J=>ye.call(this,I,k,J))),this}getKeyword(H){const X=this.RULES.all[H];return typeof X=="object"?X.definition:!!X}removeKeyword(H){const{RULES:X}=this;delete X.keywords[H],delete X.all[H];for(const V of X.rules){const k=V.rules.findIndex(I=>I.keyword===H);k>=0&&V.rules.splice(k,1)}return this}addFormat(H,X){return typeof X=="string"&&(X=new RegExp(X)),this.formats[H]=X,this}errorsText(H=this.errors,{separator:X=", ",dataVar:V="data"}={}){return!H||H.length===0?"No errors":H.map(k=>`${V}${k.instancePath} ${k.message}`).reduce((k,I)=>k+X+I)}$dataMetaSchema(H,X){const V=this.RULES.all;H=JSON.parse(JSON.stringify(H));for(const k of X){const I=k.split("/").slice(1);let J=H;for(const ue of I)J=J[ue];for(const ue in V){const _e=V[ue];if(typeof _e!="object")continue;const{$data:ke}=_e.definition,Ve=J[ue];ke&&Ve&&(J[ue]=Me(Ve))}}return H}_removeAllSchemas(H,X){for(const V in H){const k=H[V];(!X||X.test(V))&&(typeof k=="string"?delete H[V]:k&&!k.meta&&(this._cache.delete(k.schema),delete H[V]))}}_addSchema(H,X,V,k=this.opts.validateSchema,I=this.opts.addUsedSchema){let J;const{schemaId:ue}=this.opts;if(typeof H=="object")J=H[ue];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof H!="boolean")throw new Error("schema must be object or boolean")}let _e=this._cache.get(H);if(_e!==void 0)return _e;V=(0,l.normalizeId)(J||V);const ke=l.getSchemaRefs.call(this,H,V);return _e=new a.SchemaEnv({schema:H,schemaId:ue,meta:X,baseId:V,localRefs:ke}),this._cache.set(_e.schema,_e),I&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=_e),k&&this.validateSchema(H,!0),_e}_checkUnique(H){if(this.schemas[H]||this.refs[H])throw new Error(`schema with key or id "${H}" already exists`)}_compileSchemaEnv(H){if(H.meta?this._compileMetaSchema(H):a.compileSchema.call(this,H),!H.validate)throw new Error("ajv implementation error");return H.validate}_compileMetaSchema(H){const X=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,H)}finally{this.opts=X}}}t.default=M,M.ValidationError=r.default,M.MissingRefError=i.default;function $(ae,H,X,V="error"){for(const k in ae){const I=k;I in H&&this.logger[V](`${X}: option ${k}. ${ae[I]}`)}}function p(ae){return ae=(0,l.normalizeId)(ae),this.schemas[ae]||this.refs[ae]}function x(){const ae=this.opts.schemas;if(ae)if(Array.isArray(ae))this.addSchema(ae);else for(const H in ae)this.addSchema(ae[H],H)}function T(){for(const ae in this.opts.formats){const H=this.opts.formats[ae];H&&this.addFormat(ae,H)}}function D(ae){if(Array.isArray(ae)){this.addVocabulary(ae);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const H in ae){const X=ae[H];X.keyword||(X.keyword=H),this.addKeyword(X)}}function C(){const ae={...this.opts};for(const H of _)delete ae[H];return ae}const U={log(){},warn(){},error(){}};function G(ae){if(ae===!1)return U;if(ae===void 0)return console;if(ae.log&&ae.warn&&ae.error)return ae;throw new Error("logger must implement log, warn and error methods")}const se=/^[a-z_$][a-z0-9_$:-]*$/i;function re(ae,H){const{RULES:X}=this;if((0,c.eachItem)(ae,V=>{if(X.keywords[V])throw new Error(`Keyword ${V} is already defined`);if(!se.test(V))throw new Error(`Keyword ${V} has invalid name`)}),!!H&&H.$data&&!("code"in H||"validate"in H))throw new Error('$data keyword must have "code" or "validate" function')}function ye(ae,H,X){var V;const k=H==null?void 0:H.post;if(X&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:I}=this;let J=k?I.post:I.rules.find(({type:_e})=>_e===X);if(J||(J={type:X,rules:[]},I.rules.push(J)),I.keywords[ae]=!0,!H)return;const ue={keyword:ae,definition:{...H,type:(0,u.getJSONTypes)(H.type),schemaType:(0,u.getJSONTypes)(H.schemaType)}};H.before?Pe.call(this,J,ue,H.before):J.rules.push(ue),I.all[ae]=ue,(V=H.implements)===null||V===void 0||V.forEach(_e=>this.addKeyword(_e))}function Pe(ae,H,X){const V=ae.rules.findIndex(k=>k.keyword===X);V>=0?ae.rules.splice(V,0,H):(ae.rules.push(H),this.logger.warn(`rule ${X} is not defined`))}function Ae(ae){let{metaSchema:H}=ae;H!==void 0&&(ae.$data&&this.opts.$data&&(H=Me(H)),ae.validateSchema=this.compile(H,!0))}const Ie={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Me(ae){return{anyOf:[ae,Ie]}}})(Cz);var oC={},lC={},uC={};Object.defineProperty(uC,"__esModule",{value:!0});const GFe={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};uC.default=GFe;var mh={};Object.defineProperty(mh,"__esModule",{value:!0});mh.callRef=mh.getValidate=void 0;const KFe=Ev,b3=mn,ra=cn,td=Xl,w3=oa,yy=Bn,YFe={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:n,it:r}=t,{baseId:i,schemaEnv:s,validateName:a,opts:o,self:l}=r,{root:u}=s;if((n==="#"||n==="#/")&&i===u.baseId)return f();const c=w3.resolveRef.call(l,u,i,n);if(c===void 0)throw new KFe.default(r.opts.uriResolver,i,n);if(c instanceof w3.SchemaEnv)return d(c);return v(c);function f(){if(s===u)return p_(t,a,s,s.$async);const _=e.scopeValue("root",{ref:u});return p_(t,(0,ra._)`${_}.validate`,u,u.$async)}function d(_){const S=e7(t,_);p_(t,S,_,_.$async)}function v(_){const S=e.scopeValue("schema",o.code.source===!0?{ref:_,code:(0,ra.stringify)(_)}:{ref:_}),b=e.name("valid"),y=t.subschema({schema:_,dataTypes:[],schemaPath:ra.nil,topSchemaRef:S,errSchemaPath:n},b);t.mergeEvaluated(y),t.ok(b)}}};function e7(t,e){const{gen:n}=t;return e.validate?n.scopeValue("validate",{ref:e.validate}):(0,ra._)`${n.scopeValue("wrapper",{ref:e})}.validate`}mh.getValidate=e7;function p_(t,e,n,r){const{gen:i,it:s}=t,{allErrors:a,schemaEnv:o,opts:l}=s,u=l.passContext?td.default.this:ra.nil;r?c():f();function c(){if(!o.$async)throw new Error("async schema referenced by sync schema");const _=i.let("valid");i.try(()=>{i.code((0,ra._)`await ${(0,b3.callValidateCode)(t,e,u)}`),v(e),a||i.assign(_,!0)},S=>{i.if((0,ra._)`!(${S} instanceof ${s.ValidationError})`,()=>i.throw(S)),d(S),a||i.assign(_,!1)}),t.ok(_)}function f(){t.result((0,b3.callValidateCode)(t,e,u),()=>v(e),()=>d(e))}function d(_){const S=(0,ra._)`${_}.errors`;i.assign(td.default.vErrors,(0,ra._)`${td.default.vErrors} === null ? ${S} : ${td.default.vErrors}.concat(${S})`),i.assign(td.default.errors,(0,ra._)`${td.default.vErrors}.length`)}function v(_){var S;if(!s.opts.unevaluated)return;const b=(S=n==null?void 0:n.validate)===null||S===void 0?void 0:S.evaluated;if(s.props!==!0)if(b&&!b.dynamicProps)b.props!==void 0&&(s.props=yy.mergeEvaluated.props(i,b.props,s.props));else{const y=i.var("props",(0,ra._)`${_}.evaluated.props`);s.props=yy.mergeEvaluated.props(i,y,s.props,ra.Name)}if(s.items!==!0)if(b&&!b.dynamicItems)b.items!==void 0&&(s.items=yy.mergeEvaluated.items(i,b.items,s.items));else{const y=i.var("items",(0,ra._)`${_}.evaluated.items`);s.items=yy.mergeEvaluated.items(i,y,s.items,ra.Name)}}}mh.callRef=p_;mh.default=YFe;Object.defineProperty(lC,"__esModule",{value:!0});const JFe=uC,XFe=mh,QFe=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",JFe.default,XFe.default];lC.default=QFe;var cC={},fC={};Object.defineProperty(fC,"__esModule",{value:!0});const jb=cn,oc=jb.operators,Bb={maximum:{okStr:"<=",ok:oc.LTE,fail:oc.GT},minimum:{okStr:">=",ok:oc.GTE,fail:oc.LT},exclusiveMaximum:{okStr:"<",ok:oc.LT,fail:oc.GTE},exclusiveMinimum:{okStr:">",ok:oc.GT,fail:oc.LTE}},ZFe={message:({keyword:t,schemaCode:e})=>(0,jb.str)`must be ${Bb[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,jb._)`{comparison: ${Bb[t].okStr}, limit: ${e}}`},e4e={keyword:Object.keys(Bb),type:"number",schemaType:"number",$data:!0,error:ZFe,code(t){const{keyword:e,data:n,schemaCode:r}=t;t.fail$data((0,jb._)`${n} ${Bb[e].fail} ${r} || isNaN(${n})`)}};fC.default=e4e;var hC={};Object.defineProperty(hC,"__esModule",{value:!0});const Zm=cn,t4e={message:({schemaCode:t})=>(0,Zm.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Zm._)`{multipleOf: ${t}}`},n4e={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:t4e,code(t){const{gen:e,data:n,schemaCode:r,it:i}=t,s=i.opts.multipleOfPrecision,a=e.let("res"),o=s?(0,Zm._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,Zm._)`${a} !== parseInt(${a})`;t.fail$data((0,Zm._)`(${r} === 0 || (${a} = ${n}/${r}, ${o}))`)}};hC.default=n4e;var dC={},pC={};Object.defineProperty(pC,"__esModule",{value:!0});function t7(t){const e=t.length;let n=0,r=0,i;for(;r<e;)n++,i=t.charCodeAt(r++),i>=55296&&i<=56319&&r<e&&(i=t.charCodeAt(r),(i&64512)===56320&&r++);return n}pC.default=t7;t7.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(dC,"__esModule",{value:!0});const zf=cn,r4e=Bn,i4e=pC,s4e={message({keyword:t,schemaCode:e}){const n=t==="maxLength"?"more":"fewer";return(0,zf.str)`must NOT have ${n} than ${e} characters`},params:({schemaCode:t})=>(0,zf._)`{limit: ${t}}`},a4e={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:s4e,code(t){const{keyword:e,data:n,schemaCode:r,it:i}=t,s=e==="maxLength"?zf.operators.GT:zf.operators.LT,a=i.opts.unicode===!1?(0,zf._)`${n}.length`:(0,zf._)`${(0,r4e.useFunc)(t.gen,i4e.default)}(${n})`;t.fail$data((0,zf._)`${a} ${s} ${r}`)}};dC.default=a4e;var mC={};Object.defineProperty(mC,"__esModule",{value:!0});const o4e=mn,Vb=cn,l4e={message:({schemaCode:t})=>(0,Vb.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Vb._)`{pattern: ${t}}`},u4e={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:l4e,code(t){const{data:e,$data:n,schema:r,schemaCode:i,it:s}=t,a=s.opts.unicodeRegExp?"u":"",o=n?(0,Vb._)`(new RegExp(${i}, ${a}))`:(0,o4e.usePattern)(t,r);t.fail$data((0,Vb._)`!${o}.test(${e})`)}};mC.default=u4e;var gC={};Object.defineProperty(gC,"__esModule",{value:!0});const eg=cn,c4e={message({keyword:t,schemaCode:e}){const n=t==="maxProperties"?"more":"fewer";return(0,eg.str)`must NOT have ${n} than ${e} properties`},params:({schemaCode:t})=>(0,eg._)`{limit: ${t}}`},f4e={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:c4e,code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxProperties"?eg.operators.GT:eg.operators.LT;t.fail$data((0,eg._)`Object.keys(${n}).length ${i} ${r}`)}};gC.default=f4e;var vC={};Object.defineProperty(vC,"__esModule",{value:!0});const bm=mn,tg=cn,h4e=Bn,d4e={message:({params:{missingProperty:t}})=>(0,tg.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,tg._)`{missingProperty: ${t}}`},p4e={keyword:"required",type:"object",schemaType:"array",$data:!0,error:d4e,code(t){const{gen:e,schema:n,schemaCode:r,data:i,$data:s,it:a}=t,{opts:o}=a;if(!s&&n.length===0)return;const l=n.length>=o.loopRequired;if(a.allErrors?u():c(),o.strictRequired){const v=t.parentSchema.properties,{definedProperties:_}=t.it;for(const S of n)if((v==null?void 0:v[S])===void 0&&!_.has(S)){const b=a.schemaEnv.baseId+a.errSchemaPath,y=`required property "${S}" is not defined at "${b}" (strictRequired)`;(0,h4e.checkStrictMode)(a,y,a.opts.strictRequired)}}function u(){if(l||s)t.block$data(tg.nil,f);else for(const v of n)(0,bm.checkReportMissingProp)(t,v)}function c(){const v=e.let("missing");if(l||s){const _=e.let("valid",!0);t.block$data(_,()=>d(v,_)),t.ok(_)}else e.if((0,bm.checkMissingProp)(t,n,v)),(0,bm.reportMissingProp)(t,v),e.else()}function f(){e.forOf("prop",r,v=>{t.setParams({missingProperty:v}),e.if((0,bm.noPropertyInData)(e,i,v,o.ownProperties),()=>t.error())})}function d(v,_){t.setParams({missingProperty:v}),e.forOf(v,r,()=>{e.assign(_,(0,bm.propertyInData)(e,i,v,o.ownProperties)),e.if((0,tg.not)(_),()=>{t.error(),e.break()})},tg.nil)}}};vC.default=p4e;var yC={};Object.defineProperty(yC,"__esModule",{value:!0});const ng=cn,m4e={message({keyword:t,schemaCode:e}){const n=t==="maxItems"?"more":"fewer";return(0,ng.str)`must NOT have ${n} than ${e} items`},params:({schemaCode:t})=>(0,ng._)`{limit: ${t}}`},g4e={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:m4e,code(t){const{keyword:e,data:n,schemaCode:r}=t,i=e==="maxItems"?ng.operators.GT:ng.operators.LT;t.fail$data((0,ng._)`${n}.length ${i} ${r}`)}};yC.default=g4e;var _C={},$v={};Object.defineProperty($v,"__esModule",{value:!0});const n7=xh;n7.code='require("ajv/dist/runtime/equal").default';$v.default=n7;Object.defineProperty(_C,"__esModule",{value:!0});const uE=Sv,Li=cn,v4e=Bn,y4e=$v,_4e={message:({params:{i:t,j:e}})=>(0,Li.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Li._)`{i: ${t}, j: ${e}}`},b4e={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:_4e,code(t){const{gen:e,data:n,$data:r,schema:i,parentSchema:s,schemaCode:a,it:o}=t;if(!r&&!i)return;const l=e.let("valid"),u=s.items?(0,uE.getSchemaTypes)(s.items):[];t.block$data(l,c,(0,Li._)`${a} === false`),t.ok(l);function c(){const _=e.let("i",(0,Li._)`${n}.length`),S=e.let("j");t.setParams({i:_,j:S}),e.assign(l,!0),e.if((0,Li._)`${_} > 1`,()=>(f()?d:v)(_,S))}function f(){return u.length>0&&!u.some(_=>_==="object"||_==="array")}function d(_,S){const b=e.name("item"),y=(0,uE.checkDataTypes)(u,b,o.opts.strictNumbers,uE.DataType.Wrong),A=e.const("indices",(0,Li._)`{}`);e.for((0,Li._)`;${_}--;`,()=>{e.let(b,(0,Li._)`${n}[${_}]`),e.if(y,(0,Li._)`continue`),u.length>1&&e.if((0,Li._)`typeof ${b} == "string"`,(0,Li._)`${b} += "_"`),e.if((0,Li._)`typeof ${A}[${b}] == "number"`,()=>{e.assign(S,(0,Li._)`${A}[${b}]`),t.error(),e.assign(l,!1).break()}).code((0,Li._)`${A}[${b}] = ${_}`)})}function v(_,S){const b=(0,v4e.useFunc)(e,y4e.default),y=e.name("outer");e.label(y).for((0,Li._)`;${_}--;`,()=>e.for((0,Li._)`${S} = ${_}; ${S}--;`,()=>e.if((0,Li._)`${b}(${n}[${_}], ${n}[${S}])`,()=>{t.error(),e.assign(l,!1).break(y)})))}}};_C.default=b4e;var bC={};Object.defineProperty(bC,"__esModule",{value:!0});const OA=cn,w4e=Bn,S4e=$v,x4e={message:"must be equal to constant",params:({schemaCode:t})=>(0,OA._)`{allowedValue: ${t}}`},E4e={keyword:"const",$data:!0,error:x4e,code(t){const{gen:e,data:n,$data:r,schemaCode:i,schema:s}=t;r||s&&typeof s=="object"?t.fail$data((0,OA._)`!${(0,w4e.useFunc)(e,S4e.default)}(${n}, ${i})`):t.fail((0,OA._)`${s} !== ${n}`)}};bC.default=E4e;var wC={};Object.defineProperty(wC,"__esModule",{value:!0});const Mm=cn,$4e=Bn,A4e=$v,P4e={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Mm._)`{allowedValues: ${t}}`},T4e={keyword:"enum",schemaType:"array",$data:!0,error:P4e,code(t){const{gen:e,data:n,$data:r,schema:i,schemaCode:s,it:a}=t;if(!r&&i.length===0)throw new Error("enum must have non-empty array");const o=i.length>=a.opts.loopEnum;let l;const u=()=>l??(l=(0,$4e.useFunc)(e,A4e.default));let c;if(o||r)c=e.let("valid"),t.block$data(c,f);else{if(!Array.isArray(i))throw new Error("ajv implementation error");const v=e.const("vSchema",s);c=(0,Mm.or)(...i.map((_,S)=>d(v,S)))}t.pass(c);function f(){e.assign(c,!1),e.forOf("v",s,v=>e.if((0,Mm._)`${u()}(${n}, ${v})`,()=>e.assign(c,!0).break()))}function d(v,_){const S=i[_];return typeof S=="object"&&S!==null?(0,Mm._)`${u()}(${n}, ${v}[${_}])`:(0,Mm._)`${n} === ${S}`}}};wC.default=T4e;Object.defineProperty(cC,"__esModule",{value:!0});const C4e=fC,k4e=hC,O4e=dC,R4e=mC,M4e=gC,N4e=vC,I4e=yC,D4e=_C,L4e=bC,F4e=wC,j4e=[C4e.default,k4e.default,O4e.default,R4e.default,M4e.default,N4e.default,I4e.default,D4e.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},L4e.default,F4e.default];cC.default=j4e;var SC={},Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.validateAdditionalItems=void 0;const Uf=cn,RA=Bn,B4e={message:({params:{len:t}})=>(0,Uf.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,Uf._)`{limit: ${t}}`},V4e={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:B4e,code(t){const{parentSchema:e,it:n}=t,{items:r}=e;if(!Array.isArray(r)){(0,RA.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}r7(t,r)}};function r7(t,e){const{gen:n,schema:r,data:i,keyword:s,it:a}=t;a.items=!0;const o=n.const("len",(0,Uf._)`${i}.length`);if(r===!1)t.setParams({len:e.length}),t.pass((0,Uf._)`${o} <= ${e.length}`);else if(typeof r=="object"&&!(0,RA.alwaysValidSchema)(a,r)){const u=n.var("valid",(0,Uf._)`${o} <= ${e.length}`);n.if((0,Uf.not)(u),()=>l(u)),t.ok(u)}function l(u){n.forRange("i",e.length,o,c=>{t.subschema({keyword:s,dataProp:c,dataPropType:RA.Type.Num},u),a.allErrors||n.if((0,Uf.not)(u),()=>n.break())})}}Mp.validateAdditionalItems=r7;Mp.default=V4e;var xC={},Np={};Object.defineProperty(Np,"__esModule",{value:!0});Np.validateTuple=void 0;const S3=cn,m_=Bn,z4e=mn,U4e={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:n}=t;if(Array.isArray(e))return i7(t,"additionalItems",e);n.items=!0,!(0,m_.alwaysValidSchema)(n,e)&&t.ok((0,z4e.validateArray)(t))}};function i7(t,e,n=t.schema){const{gen:r,parentSchema:i,data:s,keyword:a,it:o}=t;c(i),o.opts.unevaluated&&n.length&&o.items!==!0&&(o.items=m_.mergeEvaluated.items(r,n.length,o.items));const l=r.name("valid"),u=r.const("len",(0,S3._)`${s}.length`);n.forEach((f,d)=>{(0,m_.alwaysValidSchema)(o,f)||(r.if((0,S3._)`${u} > ${d}`,()=>t.subschema({keyword:a,schemaProp:d,dataProp:d},l)),t.ok(l))});function c(f){const{opts:d,errSchemaPath:v}=o,_=n.length,S=_===f.minItems&&(_===f.maxItems||f[e]===!1);if(d.strictTuples&&!S){const b=`"${a}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${v}"`;(0,m_.checkStrictMode)(o,b,d.strictTuples)}}}Np.validateTuple=i7;Np.default=U4e;Object.defineProperty(xC,"__esModule",{value:!0});const q4e=Np,H4e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,q4e.validateTuple)(t,"items")};xC.default=H4e;var EC={};Object.defineProperty(EC,"__esModule",{value:!0});const x3=cn,W4e=Bn,G4e=mn,K4e=Mp,Y4e={message:({params:{len:t}})=>(0,x3.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,x3._)`{limit: ${t}}`},J4e={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Y4e,code(t){const{schema:e,parentSchema:n,it:r}=t,{prefixItems:i}=n;r.items=!0,!(0,W4e.alwaysValidSchema)(r,e)&&(i?(0,K4e.validateAdditionalItems)(t,i):t.ok((0,G4e.validateArray)(t)))}};EC.default=J4e;var $C={};Object.defineProperty($C,"__esModule",{value:!0});const no=cn,_y=Bn,X4e={message:({params:{min:t,max:e}})=>e===void 0?(0,no.str)`must contain at least ${t} valid item(s)`:(0,no.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,no._)`{minContains: ${t}}`:(0,no._)`{minContains: ${t}, maxContains: ${e}}`},Q4e={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:X4e,code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:s}=t;let a,o;const{minContains:l,maxContains:u}=r;s.opts.next?(a=l===void 0?1:l,o=u):a=1;const c=e.const("len",(0,no._)`${i}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,_y.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,_y.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,_y.alwaysValidSchema)(s,n)){let S=(0,no._)`${c} >= ${a}`;o!==void 0&&(S=(0,no._)`${S} && ${c} <= ${o}`),t.pass(S);return}s.items=!0;const f=e.name("valid");o===void 0&&a===1?v(f,()=>e.if(f,()=>e.break())):a===0?(e.let(f,!0),o!==void 0&&e.if((0,no._)`${i}.length > 0`,d)):(e.let(f,!1),d()),t.result(f,()=>t.reset());function d(){const S=e.name("_valid"),b=e.let("count",0);v(S,()=>e.if(S,()=>_(b)))}function v(S,b){e.forRange("i",0,c,y=>{t.subschema({keyword:"contains",dataProp:y,dataPropType:_y.Type.Num,compositeRule:!0},S),b()})}function _(S){e.code((0,no._)`${S}++`),o===void 0?e.if((0,no._)`${S} >= ${a}`,()=>e.assign(f,!0).break()):(e.if((0,no._)`${S} > ${o}`,()=>e.assign(f,!1).break()),a===1?e.assign(f,!0):e.if((0,no._)`${S} >= ${a}`,()=>e.assign(f,!0)))}}};$C.default=Q4e;var s7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=cn,n=Bn,r=mn;t.error={message:({params:{property:l,depsCount:u,deps:c}})=>{const f=u===1?"property":"properties";return(0,e.str)`must have ${f} ${c} when property ${l} is present`},params:({params:{property:l,depsCount:u,deps:c,missingProperty:f}})=>(0,e._)`{property: ${l},
    missingProperty: ${f},
    depsCount: ${u},
    deps: ${c}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[u,c]=s(l);a(l,u),o(l,c)}};function s({schema:l}){const u={},c={};for(const f in l){if(f==="__proto__")continue;const d=Array.isArray(l[f])?u:c;d[f]=l[f]}return[u,c]}function a(l,u=l.schema){const{gen:c,data:f,it:d}=l;if(Object.keys(u).length===0)return;const v=c.let("missing");for(const _ in u){const S=u[_];if(S.length===0)continue;const b=(0,r.propertyInData)(c,f,_,d.opts.ownProperties);l.setParams({property:_,depsCount:S.length,deps:S.join(", ")}),d.allErrors?c.if(b,()=>{for(const y of S)(0,r.checkReportMissingProp)(l,y)}):(c.if((0,e._)`${b} && (${(0,r.checkMissingProp)(l,S,v)})`),(0,r.reportMissingProp)(l,v),c.else())}}t.validatePropertyDeps=a;function o(l,u=l.schema){const{gen:c,data:f,keyword:d,it:v}=l,_=c.name("valid");for(const S in u)(0,n.alwaysValidSchema)(v,u[S])||(c.if((0,r.propertyInData)(c,f,S,v.opts.ownProperties),()=>{const b=l.subschema({keyword:d,schemaProp:S},_);l.mergeValidEvaluated(b,_)},()=>c.var(_,!0)),l.ok(_))}t.validateSchemaDeps=o,t.default=i})(s7);var AC={};Object.defineProperty(AC,"__esModule",{value:!0});const a7=cn,Z4e=Bn,eje={message:"property name must be valid",params:({params:t})=>(0,a7._)`{propertyName: ${t.propertyName}}`},tje={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:eje,code(t){const{gen:e,schema:n,data:r,it:i}=t;if((0,Z4e.alwaysValidSchema)(i,n))return;const s=e.name("valid");e.forIn("key",r,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),e.if((0,a7.not)(s),()=>{t.error(!0),i.allErrors||e.break()})}),t.ok(s)}};AC.default=tje;var pw={};Object.defineProperty(pw,"__esModule",{value:!0});const by=mn,Lo=cn,nje=Xl,wy=Bn,rje={message:"must NOT have additional properties",params:({params:t})=>(0,Lo._)`{additionalProperty: ${t.additionalProperty}}`},ije={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:rje,code(t){const{gen:e,schema:n,parentSchema:r,data:i,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,wy.alwaysValidSchema)(a,n))return;const u=(0,by.allSchemaProperties)(r.properties),c=(0,by.allSchemaProperties)(r.patternProperties);f(),t.ok((0,Lo._)`${s} === ${nje.default.errors}`);function f(){e.forIn("key",i,b=>{!u.length&&!c.length?_(b):e.if(d(b),()=>_(b))})}function d(b){let y;if(u.length>8){const A=(0,wy.schemaRefOrVal)(a,r.properties,"properties");y=(0,by.isOwnProperty)(e,A,b)}else u.length?y=(0,Lo.or)(...u.map(A=>(0,Lo._)`${b} === ${A}`)):y=Lo.nil;return c.length&&(y=(0,Lo.or)(y,...c.map(A=>(0,Lo._)`${(0,by.usePattern)(t,A)}.test(${b})`))),(0,Lo.not)(y)}function v(b){e.code((0,Lo._)`delete ${i}[${b}]`)}function _(b){if(l.removeAdditional==="all"||l.removeAdditional&&n===!1){v(b);return}if(n===!1){t.setParams({additionalProperty:b}),t.error(),o||e.break();return}if(typeof n=="object"&&!(0,wy.alwaysValidSchema)(a,n)){const y=e.name("valid");l.removeAdditional==="failing"?(S(b,y,!1),e.if((0,Lo.not)(y),()=>{t.reset(),v(b)})):(S(b,y),o||e.if((0,Lo.not)(y),()=>e.break()))}}function S(b,y,A){const R={keyword:"additionalProperties",dataProp:b,dataPropType:wy.Type.Str};A===!1&&Object.assign(R,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(R,y)}}};pw.default=ije;var PC={};Object.defineProperty(PC,"__esModule",{value:!0});const sje=Zo,E3=mn,cE=Bn,$3=pw,aje={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,parentSchema:r,data:i,it:s}=t;s.opts.removeAdditional==="all"&&r.additionalProperties===void 0&&$3.default.code(new sje.KeywordCxt(s,$3.default,"additionalProperties"));const a=(0,E3.allSchemaProperties)(n);for(const f of a)s.definedProperties.add(f);s.opts.unevaluated&&a.length&&s.props!==!0&&(s.props=cE.mergeEvaluated.props(e,(0,cE.toHash)(a),s.props));const o=a.filter(f=>!(0,cE.alwaysValidSchema)(s,n[f]));if(o.length===0)return;const l=e.name("valid");for(const f of o)u(f)?c(f):(e.if((0,E3.propertyInData)(e,i,f,s.opts.ownProperties)),c(f),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(f),t.ok(l);function u(f){return s.opts.useDefaults&&!s.compositeRule&&n[f].default!==void 0}function c(f){t.subschema({keyword:"properties",schemaProp:f,dataProp:f},l)}}};PC.default=aje;var TC={};Object.defineProperty(TC,"__esModule",{value:!0});const A3=mn,Sy=cn,P3=Bn,T3=Bn,oje={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:n,data:r,parentSchema:i,it:s}=t,{opts:a}=s,o=(0,A3.allSchemaProperties)(n),l=o.filter(S=>(0,P3.alwaysValidSchema)(s,n[S]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const u=a.strictSchema&&!a.allowMatchingProperties&&i.properties,c=e.name("valid");s.props!==!0&&!(s.props instanceof Sy.Name)&&(s.props=(0,T3.evaluatedPropsToName)(e,s.props));const{props:f}=s;d();function d(){for(const S of o)u&&v(S),s.allErrors?_(S):(e.var(c,!0),_(S),e.if(c))}function v(S){for(const b in u)new RegExp(S).test(b)&&(0,P3.checkStrictMode)(s,`property ${b} matches pattern ${S} (use allowMatchingProperties)`)}function _(S){e.forIn("key",r,b=>{e.if((0,Sy._)`${(0,A3.usePattern)(t,S)}.test(${b})`,()=>{const y=l.includes(S);y||t.subschema({keyword:"patternProperties",schemaProp:S,dataProp:b,dataPropType:T3.Type.Str},c),s.opts.unevaluated&&f!==!0?e.assign((0,Sy._)`${f}[${b}]`,!0):!y&&!s.allErrors&&e.if((0,Sy.not)(c),()=>e.break())})})}}};TC.default=oje;var CC={};Object.defineProperty(CC,"__esModule",{value:!0});const lje=Bn,uje={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:n,it:r}=t;if((0,lje.alwaysValidSchema)(r,n)){t.fail();return}const i=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},i),t.failResult(i,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};CC.default=uje;var kC={};Object.defineProperty(kC,"__esModule",{value:!0});const cje=mn,fje={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:cje.validateUnion,error:{message:"must match a schema in anyOf"}};kC.default=fje;var OC={};Object.defineProperty(OC,"__esModule",{value:!0});const g_=cn,hje=Bn,dje={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,g_._)`{passingSchemas: ${t.passing}}`},pje={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:dje,code(t){const{gen:e,schema:n,parentSchema:r,it:i}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");if(i.opts.discriminator&&r.discriminator)return;const s=n,a=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(u),t.result(a,()=>t.reset(),()=>t.error(!0));function u(){s.forEach((c,f)=>{let d;(0,hje.alwaysValidSchema)(i,c)?e.var(l,!0):d=t.subschema({keyword:"oneOf",schemaProp:f,compositeRule:!0},l),f>0&&e.if((0,g_._)`${l} && ${a}`).assign(a,!1).assign(o,(0,g_._)`[${o}, ${f}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(o,f),d&&t.mergeEvaluated(d,g_.Name)})})}}};OC.default=pje;var RC={};Object.defineProperty(RC,"__esModule",{value:!0});const mje=Bn,gje={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:n,it:r}=t;if(!Array.isArray(n))throw new Error("ajv implementation error");const i=e.name("valid");n.forEach((s,a)=>{if((0,mje.alwaysValidSchema)(r,s))return;const o=t.subschema({keyword:"allOf",schemaProp:a},i);t.ok(i),t.mergeEvaluated(o)})}};RC.default=gje;var MC={};Object.defineProperty(MC,"__esModule",{value:!0});const zb=cn,o7=Bn,vje={message:({params:t})=>(0,zb.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,zb._)`{failingKeyword: ${t.ifClause}}`},yje={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:vje,code(t){const{gen:e,parentSchema:n,it:r}=t;n.then===void 0&&n.else===void 0&&(0,o7.checkStrictMode)(r,'"if" without "then" and "else" is ignored');const i=C3(r,"then"),s=C3(r,"else");if(!i&&!s)return;const a=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),i&&s){const c=e.let("ifClause");t.setParams({ifClause:c}),e.if(o,u("then",c),u("else",c))}else i?e.if(o,u("then")):e.if((0,zb.not)(o),u("else"));t.pass(a,()=>t.error(!0));function l(){const c=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(c)}function u(c,f){return()=>{const d=t.subschema({keyword:c},o);e.assign(a,o),t.mergeValidEvaluated(d,a),f?e.assign(f,(0,zb._)`${c}`):t.setParams({ifClause:c})}}}};function C3(t,e){const n=t.schema[e];return n!==void 0&&!(0,o7.alwaysValidSchema)(t,n)}MC.default=yje;var NC={};Object.defineProperty(NC,"__esModule",{value:!0});const _je=Bn,bje={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:n}){e.if===void 0&&(0,_je.checkStrictMode)(n,`"${t}" without "if" is ignored`)}};NC.default=bje;Object.defineProperty(SC,"__esModule",{value:!0});const wje=Mp,Sje=xC,xje=Np,Eje=EC,$je=$C,Aje=s7,Pje=AC,Tje=pw,Cje=PC,kje=TC,Oje=CC,Rje=kC,Mje=OC,Nje=RC,Ije=MC,Dje=NC;function Lje(t=!1){const e=[Oje.default,Rje.default,Mje.default,Nje.default,Ije.default,Dje.default,Pje.default,Tje.default,Aje.default,Cje.default,kje.default];return t?e.push(Sje.default,Eje.default):e.push(wje.default,xje.default),e.push($je.default),e}SC.default=Lje;var IC={},DC={};Object.defineProperty(DC,"__esModule",{value:!0});const Xr=cn,Fje={message:({schemaCode:t})=>(0,Xr.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Xr._)`{format: ${t}}`},jje={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Fje,code(t,e){const{gen:n,data:r,$data:i,schema:s,schemaCode:a,it:o}=t,{opts:l,errSchemaPath:u,schemaEnv:c,self:f}=o;if(!l.validateFormats)return;i?d():v();function d(){const _=n.scopeValue("formats",{ref:f.formats,code:l.code.formats}),S=n.const("fDef",(0,Xr._)`${_}[${a}]`),b=n.let("fType"),y=n.let("format");n.if((0,Xr._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>n.assign(b,(0,Xr._)`${S}.type || "string"`).assign(y,(0,Xr._)`${S}.validate`),()=>n.assign(b,(0,Xr._)`"string"`).assign(y,S)),t.fail$data((0,Xr.or)(A(),R()));function A(){return l.strictSchema===!1?Xr.nil:(0,Xr._)`${a} && !${y}`}function R(){const M=c.$async?(0,Xr._)`(${S}.async ? await ${y}(${r}) : ${y}(${r}))`:(0,Xr._)`${y}(${r})`,$=(0,Xr._)`(typeof ${y} == "function" ? ${M} : ${y}.test(${r}))`;return(0,Xr._)`${y} && ${y} !== true && ${b} === ${e} && !${$}`}}function v(){const _=f.formats[s];if(!_){A();return}if(_===!0)return;const[S,b,y]=R(_);S===e&&t.pass(M());function A(){if(l.strictSchema===!1){f.logger.warn($());return}throw new Error($());function $(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function R($){const p=$ instanceof RegExp?(0,Xr.regexpCode)($):l.code.formats?(0,Xr._)`${l.code.formats}${(0,Xr.getProperty)(s)}`:void 0,x=n.scopeValue("formats",{key:s,ref:$,code:p});return typeof $=="object"&&!($ instanceof RegExp)?[$.type||"string",$.validate,(0,Xr._)`${x}.validate`]:["string",$,x]}function M(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!c.$async)throw new Error("async format in sync schema");return(0,Xr._)`await ${y}(${r})`}return typeof b=="function"?(0,Xr._)`${y}(${r})`:(0,Xr._)`${y}.test(${r})`}}}};DC.default=jje;Object.defineProperty(IC,"__esModule",{value:!0});const Bje=DC,Vje=[Bje.default];IC.default=Vje;var up={};Object.defineProperty(up,"__esModule",{value:!0});up.contentVocabulary=up.metadataVocabulary=void 0;up.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];up.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(oC,"__esModule",{value:!0});const zje=lC,Uje=cC,qje=SC,Hje=IC,k3=up,Wje=[zje.default,Uje.default,(0,qje.default)(),Hje.default,k3.metadataVocabulary,k3.contentVocabulary];oC.default=Wje;var LC={},l7={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(l7);Object.defineProperty(LC,"__esModule",{value:!0});const dd=cn,MA=l7,O3=oa,Gje=Bn,Kje={message:({params:{discrError:t,tagName:e}})=>t===MA.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:n}})=>(0,dd._)`{error: ${t}, tag: ${n}, tagValue: ${e}}`},Yje={keyword:"discriminator",type:"object",schemaType:"object",error:Kje,code(t){const{gen:e,data:n,schema:r,parentSchema:i,it:s}=t,{oneOf:a}=i;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=r.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(r.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),u=e.const("tag",(0,dd._)`${n}${(0,dd.getProperty)(o)}`);e.if((0,dd._)`typeof ${u} == "string"`,()=>c(),()=>t.error(!1,{discrError:MA.DiscrError.Tag,tag:u,tagName:o})),t.ok(l);function c(){const v=d();e.if(!1);for(const _ in v)e.elseIf((0,dd._)`${u} === ${_}`),e.assign(l,f(v[_]));e.else(),t.error(!1,{discrError:MA.DiscrError.Mapping,tag:u,tagName:o}),e.endIf()}function f(v){const _=e.name("valid"),S=t.subschema({keyword:"oneOf",schemaProp:v},_);return t.mergeEvaluated(S,dd.Name),_}function d(){var v;const _={},S=y(i);let b=!0;for(let M=0;M<a.length;M++){let $=a[M];$!=null&&$.$ref&&!(0,Gje.schemaHasRulesButRef)($,s.self.RULES)&&($=O3.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,$==null?void 0:$.$ref),$ instanceof O3.SchemaEnv&&($=$.schema));const p=(v=$==null?void 0:$.properties)===null||v===void 0?void 0:v[o];if(typeof p!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);b=b&&(S||y($)),A(p,M)}if(!b)throw new Error(`discriminator: "${o}" must be required`);return _;function y({required:M}){return Array.isArray(M)&&M.includes(o)}function A(M,$){if(M.const)R(M.const,$);else if(M.enum)for(const p of M.enum)R(p,$);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function R(M,$){if(typeof M!="string"||M in _)throw new Error(`discriminator: "${o}" values must be unique strings`);_[M]=$}}}};LC.default=Yje;const Jje="http://json-schema.org/draft-07/schema#",Xje="http://json-schema.org/draft-07/schema#",Qje="Core schema meta-schema",Zje={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},e5e=["object","boolean"],t5e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},n5e={$schema:Jje,$id:Xje,title:Qje,definitions:Zje,type:e5e,properties:t5e,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const n=Cz,r=oC,i=LC,s=n5e,a=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var u=Zo;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var c=cn;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return c._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return c.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return c.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return c.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return c.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return c.CodeGen}});var f=xv;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return f.default}});var d=Ev;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return d.default}})})(TA,TA.exports);var r5e=TA.exports;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=r5e,n=cn,r=n.operators,i={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},s={message:({keyword:o,schemaCode:l})=>n.str`should be ${i[o].okStr} ${l}`,params:({keyword:o,schemaCode:l})=>n._`{comparison: ${i[o].okStr}, limit: ${l}}`};t.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:s,code(o){const{gen:l,data:u,schemaCode:c,keyword:f,it:d}=o,{opts:v,self:_}=d;if(!v.validateFormats)return;const S=new e.KeywordCxt(d,_.RULES.all.format.definition,"format");S.$data?b():y();function b(){const R=l.scopeValue("formats",{ref:_.formats,code:v.code.formats}),M=l.const("fmt",n._`${R}[${S.schemaCode}]`);o.fail$data(n.or(n._`typeof ${M} != "object"`,n._`${M} instanceof RegExp`,n._`typeof ${M}.compare != "function"`,A(M)))}function y(){const R=S.schema,M=_.formats[R];if(!M||M===!0)return;if(typeof M!="object"||M instanceof RegExp||typeof M.compare!="function")throw new Error(`"${f}": format "${R}" does not define "compare" function`);const $=l.scopeValue("formats",{key:R,ref:M,code:v.code.formats?n._`${v.code.formats}${n.getProperty(R)}`:void 0});o.fail$data(A($))}function A(R){return n._`${R}.compare(${u}, ${c}) ${i[f].fail} 0`}},dependencies:["format"]};const a=o=>(o.addKeyword(t.formatLimitDefinition),o);t.default=a})(Tz);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=Pz,r=Tz,i=cn,s=new i.Name("fullFormats"),a=new i.Name("fastFormats"),o=(u,c={keywords:!0})=>{if(Array.isArray(c))return l(u,c,n.fullFormats,s),u;const[f,d]=c.mode==="fast"?[n.fastFormats,a]:[n.fullFormats,s],v=c.formats||n.formatNames;return l(u,v,f,d),c.keywords&&r.default(u),u};o.get=(u,c="full")=>{const d=(c==="fast"?n.fastFormats:n.fullFormats)[u];if(!d)throw new Error(`Unknown format "${u}"`);return d};function l(u,c,f,d){var v,_;(v=(_=u.opts.code).formats)!==null&&v!==void 0||(_.formats=i._`require("ajv-formats/dist/formats").${d}`);for(const S of c)u.addFormat(S,f[S])}t.exports=e=o,Object.defineProperty(e,"__esModule",{value:!0}),e.default=o})(PA,PA.exports);var i5e=PA.exports;const s5e=Tr(i5e),v_="additionalProperties",y_="required",a5e=(t,e)=>{const n={};return t.filter(r=>{const i=e(r);return n.hasOwnProperty(i)?!1:(n[i]=!0,!0)})};class o5e{constructor(e){this.findOption=e,this.schemaObject=n=>{const r=this.properties(n),i={type:"object",properties:r,additionalProperties:this.findOption(r)(v_)},s=this.findOption(r)(y_);return s.length>0&&(i.required=s),i},this.properties=n=>{const r={};return Object.keys(n).reduce((i,s)=>(i[s]=this.property(n[s]),i),r)},this.property=n=>{switch(typeof n){case"string":return{type:"string"};case"boolean":return{type:"boolean"};case"number":return Number.isInteger(n)?{type:"integer"}:{type:"number"};case"object":return n==null?{type:"null"}:this.schemaObjectOrArray(n);default:return{}}},this.schemaObjectOrArray=n=>n instanceof Array?this.schemaArray(n):this.schemaObject(n),this.schemaArray=n=>{if(n.length>0){const r=n.map(this.property),i=a5e(r,s=>JSON.stringify(s));return i.length===1?{type:"array",items:i[0]}:{type:"array",items:{oneOf:i}}}else return{type:"array",items:{}}}}}const u7=(t,e={})=>{const n=i=>s=>{switch(s){case v_:return e.hasOwnProperty(v_)?e[v_]:!0;case y_:return e.hasOwnProperty(y_)?e[y_](i):Object.keys(i);default:return}};return new o5e(n).schemaObject(t)};var Wl;(function(t){t.HIDE="HIDE",t.SHOW="SHOW",t.ENABLE="ENABLE",t.DISABLE="DISABLE"})(Wl||(Wl={}));const c7=t=>typeof t=="object"&&t!==null&&typeof t.i18n=="string",l5e=t=>t.type==="Group",FC=t=>t.elements!==void 0,u5e=t=>!!t&&typeof t=="object",c5e=t=>u5e(t)&&typeof t.scope=="string",f5e=t=>!!t&&typeof t=="object",f7=(t,e,n)=>{const r=e+n;if(r<0||r>=t.length)return;const i=[e,r].sort((s,a)=>s-a);t.splice(i[0],2,t[i[1]],t[i[0]])},h5e=(t,e)=>{f7(t,e,-1)},d5e=(t,e)=>{f7(t,e,1)},p5e={restrict:!1,trim:!1,showUnfocusedDescription:!1,hideRequiredAsterisk:!1},R3=(t={})=>Rc({},p5e,t),M3=(t=R3(),e)=>{switch(e.type){case nk:return R3(e.config);default:return t}},du=(t,e)=>t===void 0?[]:t(e)?[]:t.errors,m5e={data:{},schema:{},uischema:void 0,errors:[],validator:void 0,ajv:void 0,validationMode:"ValidateAndShow",additionalErrors:[]},NA=(t,e)=>((e.hasOwnProperty("id")||e.hasOwnProperty("$id"))&&t.removeSchema(e),t),N3=(t,e)=>{if(e){if(g5e(e.options))return e.options.ajv;if(e.options!==void 0&&gve(e.options.compile))return e.options}return t.ajv?e!=null&&e.schema?NA(t.ajv,e.schema):t.ajv:ABe()},g5e=t=>t?t.ajv!==void 0:!1,I3=(t,e)=>e&&v5e(e.options)?e.options.validationMode:t.validationMode,v5e=t=>t?t.validationMode!==void 0:!1,y5e=t=>t?t.additionalErrors!==void 0:!1,D3=(t,e)=>e&&y5e(e.options)?e.options.additionalErrors:t.additionalErrors,fE=(t=m5e,e)=>{switch(e.type){case XC:{const n=N3(t,e),r=I3(t,e),i=r==="NoValidation"?void 0:n.compile(e.schema),s=du(i,e.data),a=D3(t,e);return{...t,data:e.data,schema:e.schema,uischema:e.uischema,additionalErrors:a,errors:s,validator:i,ajv:n,validationMode:r}}case QC:{const n=N3(t,e),r=I3(t,e);let i=t.validator,s=t.errors;t.schema!==e.schema||t.validationMode!==r||t.ajv!==n?(i=r==="NoValidation"?void 0:n.compile(e.schema),s=du(i,e.data)):t.data!==e.data&&(s=du(i,e.data));const a=D3(t,e);return t.data!==e.data||t.schema!==e.schema||t.uischema!==e.uischema||t.ajv!==n||t.errors!==s||t.validator!==i||t.validationMode!==r||t.additionalErrors!==a?{...t,data:e.data,schema:e.schema,uischema:e.uischema,ajv:n,errors:H8(s,t.errors)?t.errors:s,validator:i,validationMode:r,additionalErrors:a}:t}case ZC:{const n=e.ajv,r=t.validationMode==="NoValidation"?void 0:n.compile(t.schema),i=du(r,t.data);return{...t,validator:r,errors:i}}case rk:{const r=e.schema&&t.ajv&&t.validationMode!=="NoValidation"?NA(t.ajv,e.schema).compile(e.schema):t.validator,i=du(r,t.data);return{...t,validator:r,schema:e.schema,errors:i}}case ik:return{...t,uischema:e.uischema};case ek:{if(e.path===void 0||e.path===null)return t;if(e.path===""){const n=e.updater(tl(t.data)),r=du(t.validator,n);return{...t,data:n,errors:r}}else{const n=ds(t.data,e.path),r=e.updater(tl(n)),i=YRe(e.path,r,t.data===void 0?{}:t.data),s=du(t.validator,i);return{...t,data:i,errors:s}}}case tk:return{...t,errors:e.errors};case sk:{if(t.validationMode===e.validationMode)return t;if(e.validationMode==="NoValidation"){const n=du(void 0,t.data);return{...t,errors:n,validationMode:e.validationMode}}if(t.validationMode==="NoValidation"){const n=NA(t.ajv,t.schema).compile(t.schema),r=du(n,t.data);return{...t,validator:n,errors:r,validationMode:e.validationMode}}return{...t,validationMode:e.validationMode}}default:return t}},_5e=t=>ds(t,"data"),b5e=t=>ds(t,"schema"),w5e=t=>ds(t,"uischema"),S5e=t=>ds(t,"ajv"),x5e=t=>{switch(t.keyword){case"required":case"dependencies":return t.params.missingProperty;case"additionalProperties":return t.params.additionalProperty;default:return}},IA=t=>{const e=t.dataPath;if(e)return e.replace(/\//g,".").substr(1);var n=t.instancePath;n=n.replace(/\//g,".");const r=x5e(t);return r!==void 0&&!n.endsWith(r)&&(n=`${n}.${r}`),n=n.replace(/^./,""),n},E5e=(t,e,n)=>r=>{const i=GL(r,s=>s.keyword==="oneOf"||s.keyword==="anyOf").map(s=>IA(s));return GL(r,s=>{if(A5e.indexOf(s.keyword)!==-1)return!1;const a=IA(s);let o=n(a);const l=s.parentSchema;return o&&!$5e(l)&&i.findIndex(u=>t.startsWith(u))!==-1&&(o=o&&H8(l,e)),o})},$5e=t=>(t==null?void 0:t.type)==="object"||!!(t!=null&&t.properties),A5e=["additionalProperties","allOf","anyOf","oneOf"],h7=(t,e,n)=>r=>{const i=r.errors??[],s=r.additionalErrors??[];return E5e(t,e,n)(r.validationMode==="ValidateAndHide"?s:[...i,...s])},P5e=(t,e)=>h7(t,e,n=>n===t),T5e=(t,e)=>h7(t,e,n=>n.startsWith(t)),jC=(t,e)=>c7(e)?e.i18n:(t==null?void 0:t.i18n)??void 0,C5e=t=>(t==null?void 0:t.split(".").filter(e=>!/^\d+$/.test(e)).join("."))||"root",Ub=(t,e,n)=>jC(t,e)??C5e(n),qb=(t,e,n,r)=>`${Ub(t,e,n)}.${r}`,BC=(t,e)=>e,VC=(t,e,n)=>{var o;const r=qb(t.parentSchema,n,IA(t),`error.${t.keyword}`),i=e(r,void 0,{error:t});if(i!==void 0)return i;const s=e(`error.${t.keyword}`,void 0,{error:t});if(s!==void 0)return s;const a=e(t.message,void 0,{error:t});return a!==void 0?a:t.keyword==="required"&&((o=t.message)!=null&&o.startsWith("must have required property"))?e("is a required property","is a required property",{error:t}):t.message},k5e=(t,e,n,r,i,s)=>{if(t.length>0&&n){const a=qb(r,i,s,"error.custom"),o=n(a,void 0,{schema:r,uischema:i,path:s,errors:t});if(o!==void 0)return o}return y7(t.map(a=>e(a,n,i)))},O5e=(t,e)=>{if(t.label===!1||(t.label===void 0||t.label===null||t.label===!0)&&!c7(t))return;const n=typeof t.label=="string"?t.label:JSON.stringify(t.label),r=jC(void 0,t),i=typeof r=="string"?`${r}.label`:n;return e(i,n,{uischema:t})},xy={locale:"en",translate:BC,translateError:VC},L3=(t=xy,e)=>{switch(e.type){case lk:{const n=e.locale??xy.locale,r=e.translator??xy.translate,i=e.errorTranslator??xy.translateError;return n!==t.locale||r!==t.translate||i!==t.translateError?{...t,locale:n,translate:r,translateError:i}:t}case ok:return{...t,translate:e.translator??BC,translateError:e.errorTranslator??VC};case ak:return{...t,locale:e.locale??navigator.languages[0]};default:return t}},R5e=t=>t===void 0?BC:t.translate,M5e=t=>t===void 0?VC:t.translateError,d7=-1,N5e=t=>!Kn(t)&&t.scope!==void 0,Ng=t=>(e,n,r)=>{if(Kn(e)||!N5e(e)||Kn(n))return!1;const i=e.scope;if(Kn(i))return!1;let s=n;return YC(n,"object")&&(s=Ig(n,i,r==null?void 0:r.rootSchema)),s===void 0?!1:t(s,r==null?void 0:r.rootSchema)},Av=t=>Ng(e=>!Kn(e)&&YC(e,t)),zC=t=>Ng(e=>!Kn(e)&&e.format===t&&YC(e,"string")),xo=t=>e=>!Kn(e)&&e.type===t,mw=(t,e)=>n=>{if(Kn(n))return!1;const r=n.options;return!Kn(r)&&r[t]===e},Eo=(...t)=>(e,n,r)=>t.reduce((i,s)=>i&&s(e,n,r),!0),gw=(...t)=>(e,n,r)=>t.reduce((i,s)=>i||s(e,n,r),!1),ga=(t,e)=>(n,r,i)=>e(n,r,i)?t:d7,I5e=Eo(xo("Control"),Av("boolean")),D5e=Eo(xo("Control"),gw(Ng(t=>t.hasOwnProperty("enum")),Ng(t=>t.hasOwnProperty("const")))),L5e=Eo(xo("Control"),Ng(t=>t.hasOwnProperty("oneOf")&&t.oneOf.every(e=>e.const!==void 0))),F5e=Eo(xo("Control"),Av("integer")),j5e=Eo(xo("Control"),Av("number")),p7=Eo(xo("Control"),Av("string")),B5e=Eo(xo("Control"),mw("multi",!0)),V5e=Eo(xo("Control"),gw(zC("date"),mw("format","date"))),z5e=Eo(xo("Control"),gw(zC("time"),mw("format","time"))),U5e=Eo(xo("Control"),gw(zC("date-time"),mw("format","date-time"))),q5e=t=>(e,n,r)=>{const i=nT(t,s=>s.tester(e,n,r));if(i!==void 0&&i.tester(e,n,r)!==d7)return i.uischema},H5e=(t,e,n,r,i="VerticalLayout",s,a)=>{if(s&&s.options&&s.options.detail){if(typeof s.options.detail=="string"){if(s.options.detail.toUpperCase()==="GENERATE")return typeof i=="function"?i():qf.uiSchema(e,i)}else if(typeof s.options.detail=="object"&&s.options.detail.type&&typeof s.options.detail.type=="string")return s.options.detail}const o=q5e(t)(e,n,r);return o===void 0?typeof i=="function"?i():qf.uiSchema(e,i,"#",a):o},m7=(t,e)=>n=>P5e(t,e)(n.jsonforms.core),W5e=(t,e)=>n=>T5e(t,e)(n.jsonforms.core),gh=t=>t.jsonforms.config,cp=()=>t=>R5e(ds(t,"jsonforms.i18n")),G5e=()=>t=>M5e(ds(t,"jsonforms.i18n")),vw=t=>_5e(ds(t,"jsonforms.core")),Hb=t=>b5e(ds(t,"jsonforms.core")),K5e=t=>w5e(ds(t,"jsonforms.core")),Pv=t=>S5e(ds(t,"jsonforms.core")),UC=t=>ds(t,"jsonforms.renderers"),qC=t=>ds(t,"jsonforms.cells"),HC=(t,e)=>{let n=t;return!Kn(t)&&!Kn(e)&&!e.startsWith("[")&&(n=t+"."),Kn(n)?e:Kn(e)?n:`${n}${e}`},Y5e=t=>{const r=t.replace(/(anyOf|allOf|oneOf)\/[\d]\//g,"").replace(/(then|else)\//g,"").split("/").map(WC),s=r[0]==="#"||r[0]===""?2:1;return dNe(s,r.length,2).map(a=>r[a])},g7=(t,e)=>{if(!c5e(t))return e??"";const n=Y5e(t.scope);return Kn(n)?e??"":HC(e,n.join("."))},J5e=t=>t==null?void 0:t.replace(/~/g,"~0").replace(/\//g,"~1"),WC=t=>t==null?void 0:t.replace(/~1/g,"/").replace(/~0/,"~"),DA=(t,e)=>Kn(e)?t:e.split(".").map(r=>decodeURIComponent(r)).reduce((r,i)=>{if(!(!r||!r.hasOwnProperty(i)))return r[i]},t),X5e=t=>t==="#"||t===void 0||t==="",Ig=(t,e,n)=>{const r=e==null?void 0:e.split("/").map(WC);return __(t,r,n)},__=(t,e,n)=>{if(Kn(t))return;if(t.$ref&&(t=Ig(n,t.$ref,n)),!e||e.length===0)return t;const[r,...i]=e;if(X5e(r))return __(t,i,n);const s=ds(t,r),a=__(s,i,n);if(a)return a;if(r==="properties"||r==="items"){let o;const l=[].concat(t.oneOf??[],t.allOf??[],t.anyOf??[],t.then??[],t.else??[]);for(const u of l)if(o=__(u,[r,...i],n),o)break;return o}},Q5e=t=>t.type==="OR",Z5e=t=>t.type==="AND",eBe=t=>t.type==="LEAF",tBe=t=>SNe(t,"schema"),F3=(t,e)=>g7(t,e),LA=(t,e,n,r)=>{if(Z5e(e))return e.conditions.reduce((i,s)=>i&&LA(t,s,n,r),!0);if(Q5e(e))return e.conditions.reduce((i,s)=>i||LA(t,s,n,r),!1);if(eBe(e))return DA(t,F3(e,n))===e.expectedValue;if(tBe(e)){const i=DA(t,F3(e,n));return r.validate(e.schema,i)}else return!0},v7=(t,e,n,r)=>{const i=t.rule.condition;return LA(e,i,n,r)},nBe=(t,e,n=void 0,r)=>{const i=v7(t,e,n,r);switch(t.rule.effect){case Wl.HIDE:return!i;case Wl.SHOW:return i;default:return!0}},rBe=(t,e,n=void 0,r)=>{const i=v7(t,e,n,r);switch(t.rule.effect){case Wl.DISABLE:return!i;case Wl.ENABLE:return i;default:return!0}},GC=t=>!!(t.rule&&(t.rule.effect===Wl.SHOW||t.rule.effect===Wl.HIDE)),iBe=t=>!!(t.rule&&(t.rule.effect===Wl.ENABLE||t.rule.effect===Wl.DISABLE)),yw=(t,e,n=void 0,r)=>t.rule?nBe(t,e,n,r):!0,sBe=(t,e,n=void 0,r)=>t.rule?rBe(t,e,n,r):!0,KC=(t,e,n,r,i,s)=>{var a,o,l;return(a=t==null?void 0:t.jsonforms)!=null&&a.readonly?!1:n&&iBe(n)?sBe(n,i,e==null?void 0:e.path,Pv(t)):typeof((o=n==null?void 0:n.options)==null?void 0:o.readonly)=="boolean"?!n.options.readonly:typeof((l=n==null?void 0:n.options)==null?void 0:l.readOnly)=="boolean"?!n.options.readOnly:typeof(s==null?void 0:s.readonly)=="boolean"?!s.readonly:typeof(s==null?void 0:s.readOnly)=="boolean"?!s.readOnly:(r==null?void 0:r.readOnly)===!0?!1:typeof(e==null?void 0:e.enabled)=="boolean"?e.enabled:!0},y7=t=>t==null?"":t.join(`
`),YC=(t,e)=>BMe(Wb(t),e),Wb=t=>{if(Kn(t))return[];if(!Kn(t.type)&&typeof t.type=="string")return[t.type];if(Hye(t.type))return t.type;if(!Kn(t.properties)||!Kn(t.additionalProperties))return["object"];if(!Kn(t.items))return["array"];if(!Kn(t.allOf)){const e=W8(t.allOf,n=>Wb(n).length!==0);if(e)return Wb(e)}return[]},vh={schema:Ig,data:DA},hE=(t,e)=>{if(e&&typeof e.title=="string")return e.title;if(typeof t.scope=="string"){const n=t.scope,r=WC(n.substr(n.lastIndexOf("/")+1));return e8(r)}return""},aBe=(t,e)=>{const n=t.label;if(typeof n=="boolean")return Ey(hE(t,e),n);if(typeof n=="string")return Ey(n,!0);if(typeof n=="object"){const r=typeof n.text=="string"?n.text:hE(t,e),i=typeof n.show=="boolean"?n.show:!0;return Ey(r,i)}return Ey(hE(t,e),!0)},Ey=(t,e)=>({text:t,show:e}),oBe=(t,e,n)=>{const r=e.split("/"),i=r[r.length-1],a=r.slice(0,r.length-2).join("/"),o=vh.schema(t,a,n);return o!==void 0&&o.required!==void 0&&o.required.indexOf(i)!==-1},lBe=(t,e,n)=>`${t??""}${e&&!n?"*":""}`,j3=t=>{switch(t.type){case"string":return t.format==="date-time"||t.format==="date"||t.format==="time"?new Date:"";case"integer":case"number":return 0;case"boolean":return!1;case"array":return[];case"null":return null;default:return{}}},uBe=(t,e,n,r)=>e===void 0||e!==void 0&&!t||!r&&!n,B3=(t,e,n)=>{let r=typeof t=="string"?t:JSON.stringify(t);return e&&(n?r=e(`${n}.${r}`,r):r=e(r,r)),{label:r,value:t}},cBe=(t,e,n)=>{let r=t.title??(typeof t.const=="string"?t.const:JSON.stringify(t.const));return e&&(t.i18n?r=e(t.i18n,r):n?r=e(`${n}.${r}`,r):r=e(r,r)),{label:r,value:t.const}},_w=(t,e)=>{const{uischema:n}=e,r=vw(t),i=g7(n,e.path),s=e.visible===void 0||GC(n)?yw(n,r,e.path,Pv(t)):e.visible,a=n,o=e.id,l=Hb(t),u=a.scope!==void 0&&oBe(e.schema,a.scope,l),c=vh.schema(e.schema||l,a.scope,l),f=m7(i,c)(t),d=c!==void 0?c.description:"",v=vh.data(r,i),_=aBe(n,c),S=_.show?_.text:"",b=gh(t),y=KC(t,e,n,c||l,r,b),A=c??l,R=cp()(t),M=G5e()(t),$=R(qb(A,n,i,"label"),S,{schema:A,uischema:n,path:i,errors:f}),p=R(qb(A,n,i,"description"),d,{schema:A,uischema:n,path:i,errors:f}),x=k5e(f,M,R,A,n,i);return{data:v,description:p,errors:x,label:$,visible:s,enabled:y,id:o,path:i,required:u,uischema:n,schema:A,config:gh(t),cells:e.cells||t.jsonforms.cells,rootSchema:l}},bw=t=>({handleChange(e,n){t(Sd(e,()=>n))}}),fBe=(t,e)=>{var i;const n=_w(t,e),r=e.options||((i=n.schema.enum)==null?void 0:i.map(s=>B3(s,cp()(t),Ub(n.schema,n.uischema,n.path))))||n.schema.const&&[B3(n.schema.const,cp()(t),Ub(n.schema,n.uischema,n.path))];return{...n,options:r}},hBe=(t,e)=>{var i;const n=_w(t,e),r=e.options||((i=n.schema.oneOf)==null?void 0:i.map(s=>cBe(s,cp()(t),Ub(n.schema,n.uischema,n.path))));return{...n,options:r}},dBe=(t,e)=>{const{...n}=_w(t,e);return{...n,uischemas:t.jsonforms.uischemas}},pBe=(t,e)=>{const{path:n,schema:r,uischema:i,...s}=dBe(t,e),a=vh.schema(r,"items",s.rootSchema),o=W5e(n,a)(t);return{...s,path:n,uischema:i,schema:a,childErrors:o,renderers:e.renderers||UC(t),cells:e.cells||qC(t)}},mBe=t=>({addItem:(e,n)=>()=>{t(Sd(e,r=>r==null?[n]:(r.push(n),r)))},removeItems:(e,n)=>()=>{t(Sd(e,r=>(n.sort().reverse().forEach(i=>r.splice(i,1)),r)))},moveUp:(e,n)=>()=>{t(Sd(e,r=>(h5e(r,n),r)))},moveDown:(e,n)=>()=>{t(Sd(e,r=>(d5e(r,n),r)))}}),_7={visible:!0,enabled:!0,path:"",direction:"column"},gBe=t=>t.type==="HorizontalLayout"?"row":t.type==="VerticalLayout"?"column":_7.direction,vBe=(t,e)=>{const n=vw(t),{uischema:r}=e,i=e.visible===void 0||GC(r)?yw(e.uischema,n,e.path,Pv(t)):e.visible,s=vh.data(n,e.path),a=gh(t),o=KC(t,e,r,void 0,n,a),l=cp()(t),u=f5e(r)?O5e(r,l):void 0;return{..._7,renderers:e.renderers||UC(t),cells:e.cells||qC(t),visible:i,enabled:o,path:e.path,data:s,uischema:e.uischema,schema:e.schema,direction:e.direction??gBe(r),config:a,label:u}},yBe=(t,e)=>({renderers:e.renderers||ds(t.jsonforms,"renderers"),cells:e.cells||ds(t.jsonforms,"cells"),schema:e.schema||Hb(t),rootSchema:Hb(t),uischema:e.uischema||K5e(t),path:e.path,enabled:e.enabled,config:gh(t)}),_Be=(t,e)=>{const{uischema:n}=e,r=e.visible===void 0||GC(n)?yw(e.uischema,vw(t),e.path,Pv(t)):e.visible,i=n.text,s=cp()(t),a=jC(void 0,n),o=a?`${a}.text`:i??"";return{text:s(o,i,{uischema:n}),visible:r,config:gh(t),renderers:e.renderers||UC(t),cells:e.cells||qC(t)}},bBe=(t,e)=>{const{id:n,schema:r,path:i,uischema:s,renderers:a,cells:o}=e,l=vw(t),u=e.visible!==void 0?e.visible:yw(s,l,void 0,Pv(t)),c=Hb(t),f=gh(t);let d;t.jsonforms.readonly===!0?d=!1:typeof e.enabled=="boolean"?d=e.enabled:d=KC(t,e,s,r||c,l,f);const v=y7(O$e(m7(i,r)(t).map(S=>S.message))),_=Kn(v);return{data:vh.data(l,i),visible:u,enabled:d,id:n,path:i,errors:v,isValid:_,schema:r,uischema:s,config:gh(t),rootSchema:c,renderers:a,cells:o}},wBe=(t,e)=>{const n=bBe(t,e),{renderers:r,cells:i,...s}=e;return{...n,...s,cells:i||t.jsonforms.cells||[]}},JC=new Set,b7=(t,e)=>e<=1?t:t+e.toString(),SBe=(t,e)=>{const n=b7(t,e);return!JC.has(n)},xBe=t=>{t===void 0&&(t="undefined");let e=0;for(;!SBe(t,e);)e++;const n=b7(t,e);return JC.add(n),n},EBe=t=>JC.delete(t),$Be=t=>{if(t.properties)return W8(Object.keys(t.properties),e=>{const n=t.properties[e];return n.type==="string"||n.type==="number"||n.type==="integer"})},ABe=t=>{const e=new d3e({allErrors:!0,verbose:!0,strict:!1,...t});return s5e(e),e},w7=t=>({type:t,elements:[]}),b_=t=>({type:"Control",scope:t}),PBe=(t,e)=>{if(!Kn(t)&&!FC(t)){const n=w7(e);return n.elements.push(t),n}return t},TBe=(t,e)=>{if(!Kn(e)){const n=e8(e);if(l5e(t))t.label=n;else{const r={type:"Label",text:n};t.elements.push(r)}}},CBe=t=>!Kn(t)&&(!Kn(t.oneOf)||!Kn(t.anyOf)||!Kn(t.allOf)),FA=(t,e,n,r,i,s)=>{if(!Kn(t)&&t.$ref!==void 0)return FA(Ig(s,t.$ref,s),e,n,r,i,s);if(CBe(t)){const o=b_(n);return e.push(o),o}const a=Wb(t);if(a.length===0)return null;if(a.length>1){const o=b_(n);return e.push(o),o}if(n==="#"&&a[0]==="object"){const o=w7(i);if(e.push(o),t.properties&&Abe(t.properties).length>1&&TBe(o,r),!Kn(t.properties)){const l=n+"/properties";Object.keys(t.properties).map(u=>{let c=t.properties[u];const f=`${l}/${J5e(u)}`;c.$ref!==void 0&&(c=Ig(s,c.$ref,s)),FA(c,o.elements,f,u,i,s)})}return o}switch(a[0]){case"object":case"array":case"string":case"number":case"integer":case"boolean":const o=b_(n);return e.push(o),o;default:throw new Error("Unknown type: "+JSON.stringify(t))}},S7=(t,e="VerticalLayout",n="#",r=t)=>PBe(FA(t,[],n,"",e,r),e),qf={jsonSchema:u7,uiSchema:S7,controlElement:b_},XC="jsonforms/INIT",QC="jsonforms/UPDATE_CORE",ZC="jsonforms/SET_AJV",ek="jsonforms/UPDATE",tk="jsonforms/UPDATE_ERRORS",kBe="jsonforms/VALIDATE",x7="jsonforms/ADD_RENDERER",E7="jsonforms/REMOVE_RENDERER",$7="jsonforms/ADD_CELL",A7="jsonforms/REMOVE_CELL",nk="jsonforms/SET_CONFIG",P7="jsonforms/ADD_UI_SCHEMA",T7="jsonforms/REMOVE_UI_SCHEMA",rk="jsonforms/SET_SCHEMA",ik="jsonforms/SET_UISCHEMA",sk="jsonforms/SET_VALIDATION_MODE",ak="jsonforms/SET_LOCALE",ok="jsonforms/SET_TRANSLATOR",lk="jsonforms/UPDATE_I18N",C7="jsonforms/ADD_DEFAULT_DATA",k7="jsonforms/REMOVE_DEFAULT_DATA",OBe=(t,e=u7(t),n,r)=>({type:XC,data:t,schema:e,uischema:typeof n=="object"?n:S7(e),options:r}),RBe=(t,e,n,r)=>({type:QC,data:t,schema:e,uischema:n,options:r}),MBe=(t,e)=>({type:C7,schemaPath:t,data:e}),NBe=t=>({type:k7,schemaPath:t}),IBe=t=>({type:ZC,ajv:t}),Sd=(t,e)=>({type:ek,path:t,updater:e}),DBe=t=>({type:tk,errors:t}),LBe=(t,e)=>({type:x7,tester:t,renderer:e}),FBe=(t,e)=>({type:$7,tester:t,cell:e}),jBe=(t,e)=>({type:A7,tester:t,cell:e}),BBe=(t,e)=>({type:E7,tester:t,renderer:e}),VBe=t=>({type:nk,config:t}),zBe=t=>({type:sk,validationMode:t}),UBe=(t,e)=>({type:P7,tester:t,uischema:e}),qBe=t=>({type:T7,tester:t}),HBe=t=>({type:ak,locale:t}),WBe=t=>({type:rk,schema:t}),GBe=(t,e)=>({type:ok,translator:t,errorTranslator:e}),KBe=(t,e,n)=>({type:lk,locale:t,translator:e,errorTranslator:n}),YBe=t=>({type:ik,uischema:t});var nd=Object.freeze({__proto__:null,INIT:XC,UPDATE_CORE:QC,SET_AJV:ZC,UPDATE_DATA:ek,UPDATE_ERRORS:tk,VALIDATE:kBe,ADD_RENDERER:x7,REMOVE_RENDERER:E7,ADD_CELL:$7,REMOVE_CELL:A7,SET_CONFIG:nk,ADD_UI_SCHEMA:P7,REMOVE_UI_SCHEMA:T7,SET_SCHEMA:rk,SET_UISCHEMA:ik,SET_VALIDATION_MODE:sk,SET_LOCALE:ak,SET_TRANSLATOR:ok,UPDATE_I18N:lk,ADD_DEFAULT_DATA:C7,REMOVE_DEFAULT_DATA:k7,init:OBe,updateCore:RBe,registerDefaultData:MBe,unregisterDefaultData:NBe,setAjv:IBe,update:Sd,updateErrors:DBe,registerRenderer:LBe,registerCell:FBe,unregisterCell:jBe,unregisterRenderer:BBe,setConfig:VBe,setValidationMode:zBe,registerUISchema:UBe,unregisterUISchema:qBe,setLocale:HBe,setSchema:WBe,setTranslator:GBe,updateI18n:KBe,setUISchema:YBe});function V3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V3(Object(n),!0).forEach(function(r){JBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jA(t){"@babel/helpers - typeof";return jA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jA(t)}function JBe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XBe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ww(t,e){if(t==null)return{};var n=XBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var uk=In({name:"unknown-renderer"});function QBe(t,e,n,r,i,s){return ot(),Mt("div",null,"No applicable renderer found.")}uk.render=QBe;var ZBe=["control"],e9e=["rootSchema"],t9e=["control"],n9e=["control"],ms=function(){return{schema:{required:!0,type:[Object,Boolean]},uischema:{required:!0,type:Object},path:{required:!0,type:String},enabled:{required:!1,type:Boolean,default:void 0},renderers:{required:!1,type:Array,default:void 0},cells:{required:!1,type:Array,default:void 0},config:{required:!1,type:Object,default:void 0}}};function $h(t,e,n){var r=Xo("jsonforms"),i=Xo("dispatch");if(!r||!i)throw"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?";var s=m1(void 0),a=gi(function(){return xu(xu(xu({},t),e({jsonforms:r},t)),{},{id:s.value})}),o=n==null?void 0:n(i);return wj(function(){a.value.uischema.scope&&(s.value=xBe(a.value.uischema.scope))}),VP(function(){s.value&&(EBe(s.value),s.value=void 0)}),xu({control:a},o)}var Qc=function(e){return $h(e,_w,bw)},r9e=function(e){return $h(e,fBe,bw)},i9e=function(e){return $h(e,hBe,bw)},s9e=function(e){return $h(e,pBe,mBe)},O7=function(e){var n=$h(e,vBe),r=n.control,i=ww(n,ZBe);return xu({layout:r},i)},a9e=function(e){var n=Xo("jsonforms"),r=Xo("dispatch");if(!n||!r)throw"'jsonforms' or 'dispatch' couldn't be injected. Are you within JSON Forms?";var i=gi(function(){return yBe({jsonforms:n},e)}),s=gi(function(){return i.value.rootSchema}),a=gi(function(){var o=i.value;o.rootSchema;var l=ww(o,e9e);return l});return{renderer:a,rootSchema:s}},o9e=function(e){var n=$h(e,_Be),r=n.control,i=ww(n,t9e);return xu({label:r},i)},l9e=function(e){var n=$h(e,wBe,bw),r=n.control,i=ww(n,n9e);return xu({cell:r},i)},Tv=In({name:"dispatch-renderer",props:xu({},ms()),setup:function(e){return a9e(e)},computed:{determinedRenderer:function(){var e=this,n={rootSchema:this.rootSchema,config:this.config},r=nT(this.renderer.renderers,function(i){return i.tester(e.renderer.uischema,e.renderer.schema,n)});return r===void 0||r.tester(this.renderer.uischema,this.renderer.schema,n)===-1?uk:r.renderer}}});function u9e(t,e,n,r,i,s){return ot(),sr($j(t.determinedRenderer),U4(HP(t.renderer)),null,16)}Tv.render=u9e;var c9e=In({name:"dispatch-cell",props:xu({},ms()),setup:function(e){return l9e(e)},computed:{determinedCell:function(){var e=this,n={rootSchema:this.cell.rootSchema,config:this.config},r=nT(this.cell.cells,function(i){return i.tester(e.cell.uischema,e.cell.schema,n)});return r===void 0||r.tester(this.cell.uischema,this.cell.schema,n)===-1?uk:r.cell}}});function f9e(t,e,n,r,i,s){return ot(),sr($j(t.determinedCell),U4(HP(t.cell)),null,16)}c9e.render=f9e;var z3=function(e){return e&&jA(e)==="object"},R7=In({name:"json-forms",components:{DispatchRenderer:Tv},emits:["change"],props:{data:{required:!0,type:[String,Number,Boolean,Array,Object]},schema:{required:!1,type:[Object,Boolean],default:void 0},uischema:{required:!1,type:Object,default:void 0},renderers:{required:!0,type:Array},cells:{required:!1,type:Array,default:function(){return[]}},config:{required:!1,type:Object,default:void 0},readonly:{required:!1,type:Boolean,default:!1},uischemas:{required:!1,type:Array,default:function(){return[]}},validationMode:{required:!1,type:String,default:"ValidateAndShow"},ajv:{required:!1,type:Object,default:void 0},i18n:{required:!1,type:Object,default:void 0},additionalErrors:{required:!1,type:Array,default:function(){return[]}}},data:function(){var e,n,r=this,i,s,a,o=z3(this.data)?this.data:{},l=(e=this.schema)!==null&&e!==void 0?e:qf.jsonSchema(o),u=(n=this.uischema)!==null&&n!==void 0?n:qf.uiSchema(l),c=function(){var d={data:r.data,schema:l,uischema:u},v=fE(d,nd.init(r.data,l,u,{validationMode:r.validationMode,ajv:r.ajv,additionalErrors:r.additionalErrors}));return v};return{schemaToUse:l,uischemaToUse:u,jsonforms:{core:c(),config:M3(void 0,nd.setConfig(this.config)),i18n:L3(this.i18n,nd.updateI18n((i=this.i18n)===null||i===void 0?void 0:i.locale,(s=this.i18n)===null||s===void 0?void 0:s.translate,(a=this.i18n)===null||a===void 0?void 0:a.translateError)),renderers:this.renderers,cells:this.cells,uischemas:this.uischemas,readonly:this.readonly}}},watch:{schema:function(e){var n=z3(this.data)?this.data:{};this.schemaToUse=e??qf.jsonSchema(n),this.uischema||(this.uischemaToUse=qf.uiSchema(this.schemaToUse))},uischema:function(e){this.uischemaToUse=e??qf.uiSchema(this.schemaToUse)},renderers:function(e){this.jsonforms.renderers=e},cells:function(e){this.jsonforms.cells=e},uischemas:function(e){this.jsonforms.uischemas=e},config:{handler:function(e){this.jsonforms.config=M3(void 0,nd.setConfig(e))},deep:!0},readonly:function(e){this.jsonforms.readonly=e},coreDataToUpdate:function(){this.jsonforms.core=fE(this.jsonforms.core,nd.updateCore(this.data,this.schemaToUse,this.uischemaToUse,{validationMode:this.validationMode,ajv:this.ajv,additionalErrors:this.additionalErrors}))},eventToEmit:function(e){this.$emit("change",e)},i18n:{handler:function(e){this.jsonforms.i18n=L3(this.jsonforms.i18n,nd.updateI18n(e==null?void 0:e.locale,e==null?void 0:e.translate,e==null?void 0:e.translateError))},deep:!0}},computed:{coreDataToUpdate:function(){return[this.data,this.schemaToUse,this.uischemaToUse,this.validationMode,this.ajv,this.additionalErrors]},eventToEmit:function(){return{data:this.jsonforms.core.data,errors:this.jsonforms.core.errors}}},mounted:function(){this.$emit("change",{data:this.jsonforms.core.data,errors:this.jsonforms.core.errors})},methods:{dispatch:function(e){this.jsonforms.core=fE(this.jsonforms.core,e)}},provide:function(){return{jsonforms:this.jsonforms,dispatch:this.dispatch}}});function h9e(t,e,n,r,i,s){var a=tn("dispatch-renderer");return ot(),sr(a,{schema:t.jsonforms.core.schema,uischema:t.jsonforms.core.uischema,path:""},null,8,["schema","uischema"])}R7.render=h9e;var d9e=w8,p9e=x8,m9e=p9e(function(t,e,n,r){d9e(t,e,n,r)}),g9e=m9e;const v9e=Tr(g9e);function U3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U3(Object(n),!0).forEach(function(r){y9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y9e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q3(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function $y(t){return _9e(t)||b9e(t)||w9e(t)||S9e()}function _9e(t){if(Array.isArray(t))return BA(t)}function b9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w9e(t,e){if(t){if(typeof t=="string")return BA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BA(t,e)}}function BA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var VA={control:{root:"control",wrapper:"wrapper",label:"label",description:"description",input:"input",error:"error",textarea:"text-area",select:"select",option:"option"},verticalLayout:{root:"vertical-layout",item:"vertical-layout-item"},horizontalLayout:{root:"horizontal-layout",item:"horizontal-layout-item"},group:{root:"group",label:"group-label",item:"group-item"},arrayList:{root:"array-list",legend:"array-list-legend",addButton:"array-list-add",label:"array-list-label",itemWrapper:"array-list-item-wrapper",noData:"array-list-no-data",item:"array-list-item",itemToolbar:"array-list-item-toolbar",itemLabel:"array-list-item-label",itemContent:"array-list-item-content",itemExpanded:"expanded",itemMoveUp:"array-list-item-move-up",itemMoveDown:"array-list-item-move-down",itemDelete:"array-list-item-delete"},label:{root:"label-element"}},x9e=function(){return{control:{},verticalLayout:{},horizontalLayout:{},group:{},arrayList:{},label:{}}},Sw=function(e){var n,r,i=Xo("styles",VA);if(!(e!=null&&(n=e.options)!==null&&n!==void 0&&n.styles))return i;var s=x9e();return i?Rc(s,i):Rc(s,VA),e!=null&&(r=e.options)!==null&&r!==void 0&&r.styles&&Rc(s,e.options.styles),s},H3=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.reduce(function(s,a,o){return"".concat(s).concat(a).concat(r[o]||"")},"").trim()},E9e=function(e,n){var r=tl(e);return v9e(r,n,function(i,s){if(typeof i=="string"&&typeof s=="string")return"".concat(i," ").concat(s)}),r},Ql=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(o){return o.value},r=gi(function(){return Rc({},tl(e.control.value.config),tl(e.control.value.uischema.options))}),i=m1(!1),s=function(l){e.handleChange(e.control.value.path,n(l.target))},a=gi(function(){var o=e.control.value,l=o.id,u=o.description,c=o.errors,f=o.label,d=o.visible,v=o.required;return{id:l,description:u,errors:c,label:f,visible:d,required:v}});return qr(qr({},e),{},{styles:Sw(e.control.value.uischema),isFocused:i,appliedOptions:r,controlWrapper:a,onChange:s})},M7=function(e){var n=gi(function(){return Rc({},tl(e.layout.value.config),tl(e.layout.value.uischema.options))});return qr(qr({},e),{},{styles:Sw(e.layout.value.uischema),appliedOptions:n})},$9e=function(e){var n=gi(function(){return Rc({},tl(e.label.value.config),tl(e.label.value.uischema.options))});return qr(qr({},e),{},{styles:Sw(e.label.value.uischema),appliedOptions:n})},A9e=function(e){var n=gi(function(){return Rc({},tl(e.control.value.config),tl(e.control.value.uischema.options))}),r=gi(function(){return H5e(e.control.value.uischemas,e.control.value.schema,e.control.value.uischema.scope,e.control.value.path,void 0,e.control.value.uischema,e.control.value.rootSchema)}),i=function(a){var o,l,u=(o=(l=e.control.value.uischema.options)===null||l===void 0?void 0:l.childLabelProp)!==null&&o!==void 0?o:$Be(e.control.value.schema);if(!u)return"".concat(a);var c=vh.data(e.control.value.data,HC("".concat(a),u));return c==null||c===NaN?"":"".concat(c)};return qr(qr({},e),{},{styles:Sw(e.control.value.uischema),appliedOptions:n,childUiSchema:r,childLabelForIndex:i})},W3,G3,N7=In({name:"array-list-element",props:{initiallyExpanded:{required:!1,type:Boolean,default:!1},label:{required:!1,type:String,default:""},moveUpEnabled:{required:!1,type:Boolean,default:!0},moveDownEnabled:{required:!1,type:Boolean,default:!0},moveUp:{required:!1,type:Function,default:void 0},moveDown:{required:!1,type:Function,default:void 0},delete:{required:!1,type:Function,default:void 0},styles:{required:!0,type:Object}},data:function(){return{expanded:this.initiallyExpanded}},computed:{contentClasses:function(){return H3(W3||(W3=q3([""," ",""])),this.styles.arrayList.itemContent,this.expanded&&this.styles.arrayList.itemExpanded)},toolbarClasses:function(){return H3(G3||(G3=q3([""," ",""])),this.styles.arrayList.itemToolbar,this.expanded&&this.styles.arrayList.itemExpanded)}},methods:{expandClicked:function(){this.expanded=!this.expanded},moveUpClicked:function(e){var n;e.stopPropagation(),(n=this.moveUp)===null||n===void 0||n.call(this)},moveDownClicked:function(e){var n;e.stopPropagation(),(n=this.moveDown)===null||n===void 0||n.call(this)},deleteClicked:function(e){var n;e.stopPropagation(),(n=this.delete)===null||n===void 0||n.call(this)}}}),P9e=["disabled"],T9e=["disabled"];function C9e(t,e,n,r,i,s){return ot(),Mt("div",{class:Ht(t.styles.arrayList.item)},[le("div",{onClick:e[3]||(e[3]=function(){return t.expandClicked&&t.expandClicked.apply(t,arguments)}),class:Ht(t.toolbarClasses)},[le("div",{class:Ht(t.styles.arrayList.itemLabel)},fs(t.label),3),le("button",{onClick:e[0]||(e[0]=function(){return t.moveUpClicked&&t.moveUpClicked.apply(t,arguments)}),disabled:!t.moveUpEnabled,class:Ht(t.styles.arrayList.itemMoveUp),type:"button"},"  ",10,P9e),le("button",{onClick:e[1]||(e[1]=function(){return t.moveDownClicked&&t.moveDownClicked.apply(t,arguments)}),disabled:!t.moveDownEnabled,class:Ht(t.styles.arrayList.itemMoveDown),type:"button"},"  ",10,T9e),le("button",{onClick:e[2]||(e[2]=function(){return t.deleteClicked&&t.deleteClicked.apply(t,arguments)}),class:Ht(t.styles.arrayList.itemDelete),type:"button"},"  ",2)],2),le("div",{class:Ht(t.contentClasses)},[Pj(t.$slots,"default")],2)],2)}N7.render=C9e;var I7=In({name:"array-list-renderer",components:{ArrayListElement:N7,DispatchRenderer:Tv},props:qr({},ms()),setup:function(e){return A9e(s9e(e))},computed:{noData:function(){return!this.control.data||this.control.data.length===0}},methods:{composePaths:HC,createDefaultValue:j3,addButtonClick:function(){this.addItem(this.control.path,j3(this.control.schema))()}}}),k9e={renderer:I7,tester:ga(2,Av("array"))};function O9e(t,e,n,r,i,s){var a=tn("dispatch-renderer"),o=tn("array-list-element");return t.control.visible?(ot(),Mt("fieldset",{key:0,class:Ht(t.styles.arrayList.root)},[le("legend",{class:Ht(t.styles.arrayList.legend)},[le("button",{class:Ht(t.styles.arrayList.addButton),onClick:e[0]||(e[0]=function(){return t.addButtonClick&&t.addButtonClick.apply(t,arguments)}),type:"button"}," + ",2),le("label",{class:Ht(t.styles.arrayList.label)},fs(t.control.label),3)],2),(ot(!0),Mt(fr,null,ho(t.control.data,function(l,u){return ot(),Mt("div",{key:"".concat(t.control.path,"-").concat(u),class:Ht(t.styles.arrayList.itemWrapper)},[_t(o,{moveUp:t.moveUp(t.control.path,u),moveUpEnabled:u>0,moveDown:t.moveDown(t.control.path,u),moveDownEnabled:u<t.control.data.length-1,delete:t.removeItems(t.control.path,[u]),label:t.childLabelForIndex(u),styles:t.styles},{default:_o(function(){return[_t(a,{schema:t.control.schema,uischema:t.childUiSchema,path:t.composePaths(t.control.path,"".concat(u)),enabled:t.control.enabled,renderers:t.control.renderers,cells:t.control.cells},null,8,["schema","uischema","path","enabled","renderers","cells"])]}),_:2},1032,["moveUp","moveUpEnabled","moveDown","moveDownEnabled","delete","label","styles"])],2)}),128)),t.noData?(ot(),Mt("div",{key:0,class:Ht(t.styles.arrayList.noData)}," No data ",2)):mr("",!0)],2)):mr("",!0)}I7.render=O9e;var R9e=[k9e],al=In({name:"control-wrapper",props:{id:{required:!0,type:String},description:{required:!1,type:String,default:void 0},errors:{required:!1,type:String,default:void 0},label:{required:!1,type:String,default:void 0},appliedOptions:{required:!1,type:Object,default:void 0},visible:{required:!1,type:Boolean,default:!0},required:{required:!1,type:Boolean,default:!1},isFocused:{required:!1,type:Boolean,default:!1},styles:{required:!0,type:Object}},computed:{showDescription:function(){var e;return!uBe(this.visible,this.description,this.isFocused,!!((e=this.appliedOptions)!==null&&e!==void 0&&e.showUnfocusedDescription))},computedLabel:function(){var e;return lBe(this.label,this.required,!!((e=this.appliedOptions)!==null&&e!==void 0&&e.hideRequiredAsterisk))}}}),M9e=["id"],N9e=["for"];function I9e(t,e,n,r,i,s){return t.visible?(ot(),Mt("div",{key:0,class:Ht(t.styles.control.root),id:t.id},[le("label",{for:t.id+"-input",class:Ht(t.styles.control.label)},fs(t.computedLabel),11,N9e),le("div",{class:Ht(t.styles.control.wrapper)},[Pj(t.$slots,"default")],2),le("div",{class:Ht(t.errors?t.styles.control.error:t.styles.control.description)},fs(t.errors?t.errors:t.showDescription?t.description:null),3)],10,M9e)):mr("",!0)}al.render=I9e;var D7=In({name:"string-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.value||void 0})}}),D9e={renderer:D7,tester:ga(1,p7)},L9e=["id","value","disabled","autofocus","placeholder"];function F9e(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{id:t.control.id+"-input",class:Ht(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,L9e)]}),_:1},16,["styles","isFocused","appliedOptions"])}D7.render=F9e;var L7=In({name:"multi-string-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.value||void 0})}}),j9e={renderer:L7,tester:ga(2,Eo(p7,B5e))},B9e=["id","value","disabled","autofocus","placeholder"];function V9e(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("textarea",{id:t.control.id+"-input",class:Ht(t.styles.control.textarea),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,B9e)]}),_:1},16,["styles","isFocused","appliedOptions"])}L7.render=V9e;var F7=In({name:"number-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.value===""?void 0:Number(n.value)})},computed:{step:function(){var e,n=this.appliedOptions;return(e=n.step)!==null&&e!==void 0?e:.1}}}),z9e={renderer:F7,tester:ga(1,j5e)},U9e=["step","id","value","disabled","autofocus","placeholder"];function q9e(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{type:"number",step:t.step,id:t.control.id+"-input",class:Ht(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,U9e)]}),_:1},16,["styles","isFocused","appliedOptions"])}F7.render=q9e;var j7=In({name:"integer-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.value===""?void 0:parseInt(n.value,10)})}}),H9e={renderer:j7,tester:ga(1,F5e)},W9e=["id","value","disabled","autofocus","placeholder"];function G9e(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{type:"number",step:1,id:t.control.id+"-input",class:Ht(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,W9e)]}),_:1},16,["styles","isFocused","appliedOptions"])}j7.render=G9e;var B7=In({name:"enum-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(r9e(e),function(n){return n.selectedIndex===0?void 0:n.value})}}),K9e={renderer:B7,tester:ga(2,D5e)},Y9e=["id","value","disabled","autofocus"],J9e=["value","label"];function X9e(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("select",{id:t.control.id+"-select",class:Ht(t.styles.control.select),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},[le("option",{value:"",key:"empty",class:Ht(t.styles.control.option)},null,2),(ot(!0),Mt(fr,null,ho(t.control.options,function(o){return ot(),Mt("option",{key:o.value,value:o.value,label:o.label,class:Ht(t.styles.control.option)},null,10,J9e)}),128))],42,Y9e)]}),_:1},16,["styles","isFocused","appliedOptions"])}B7.render=X9e;var V7=In({name:"enum-oneof-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(i9e(e),function(n){return n.selectedIndex===0?void 0:n.value})}}),Q9e={renderer:V7,tester:ga(2,L5e)},Z9e=["id","value","disabled","autofocus"],eVe=["value","label"];function tVe(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("select",{id:t.control.id+"-input",class:Ht(t.styles.control.select),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},[le("option",{value:"",key:"empty",class:Ht(t.styles.control.option)},null,2),(ot(!0),Mt(fr,null,ho(t.control.options,function(o){return ot(),Mt("option",{key:o.value,value:o.value,label:o.label,class:Ht(t.styles.control.option)},null,10,eVe)}),128))],42,Z9e)]}),_:1},16,["styles","isFocused","appliedOptions"])}V7.render=tVe;var z7=In({name:"date-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.value||void 0})}}),nVe={renderer:z7,tester:ga(2,V5e)},rVe=["id","value","disabled","autofocus","placeholder"];function iVe(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{type:"date",id:t.control.id+"-input",class:Ht(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,rVe)]}),_:1},16,["styles","isFocused","appliedOptions"])}z7.render=iVe;var sVe=function(e){return e===""?void 0:e+":00.000Z"},U7=In({name:"datetime-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return sVe(n.value)})},computed:{dataTime:function(){var e;return((e=this.control.data)!==null&&e!==void 0?e:"").substr(0,16)}}}),aVe={renderer:U7,tester:ga(2,U5e)},oVe=["id","value","disabled","autofocus","placeholder"];function lVe(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{type:"datetime-local",id:t.control.id+"-input",class:Ht(t.styles.control.input),value:t.dataTime,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,oVe)]}),_:1},16,["styles","isFocused","appliedOptions"])}U7.render=lVe;var q7=In({name:"time-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.value||void 0})}}),uVe={renderer:q7,tester:ga(2,z5e)},cVe=["id","value","disabled","autofocus","placeholder"];function fVe(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{type:"time",id:t.control.id+"-input",class:Ht(t.styles.control.input),value:t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,cVe)]}),_:1},16,["styles","isFocused","appliedOptions"])}q7.render=fVe;var H7=In({name:"boolean-control-renderer",components:{ControlWrapper:al},props:qr({},ms()),setup:function(e){return Ql(Qc(e),function(n){return n.checked})}}),hVe={renderer:H7,tester:ga(1,I5e)},dVe=["id","checked","disabled","autofocus","placeholder"];function pVe(t,e,n,r,i,s){var a=tn("control-wrapper");return ot(),sr(a,rl(t.controlWrapper,{styles:t.styles,isFocused:t.isFocused,appliedOptions:t.appliedOptions}),{default:_o(function(){return[le("input",{type:"checkbox",class:Ht(t.styles.control.input),id:t.control.id+"-input",checked:!!t.control.data,disabled:!t.control.enabled,autofocus:t.appliedOptions.focus,placeholder:t.appliedOptions.placeholder,onChange:e[0]||(e[0]=function(){return t.onChange&&t.onChange.apply(t,arguments)}),onFocus:e[1]||(e[1]=function(o){return t.isFocused=!0}),onBlur:e[2]||(e[2]=function(o){return t.isFocused=!1})},null,42,dVe)]}),_:1},16,["styles","isFocused","appliedOptions"])}H7.render=pVe;var mVe=[D9e,j9e,z9e,H9e,K9e,Q9e,nVe,aVe,uVe,hVe],W7=In({name:"layout-renderer",components:{DispatchRenderer:Tv},props:qr({},ms()),setup:function(e){return M7(O7(e))},computed:{layoutClassObject:function(){return this.layout.direction==="row"?this.styles.horizontalLayout:this.styles.verticalLayout}}}),gVe={renderer:W7,tester:ga(1,FC)};function vVe(t,e,n,r,i,s){var a=tn("dispatch-renderer");return t.layout.visible?(ot(),Mt("div",{key:0,class:Ht(t.layoutClassObject.root)},[(ot(!0),Mt(fr,null,ho(t.layout.uischema.elements,function(o,l){return ot(),Mt("div",{key:"".concat(t.layout.path,"-").concat(l),class:Ht(t.layoutClassObject.item)},[_t(a,{schema:t.layout.schema,uischema:o,path:t.layout.path,enabled:t.layout.enabled,renderers:t.layout.renderers,cells:t.layout.cells},null,8,["schema","uischema","path","enabled","renderers","cells"])],2)}),128))],2)):mr("",!0)}W7.render=vVe;var G7=In({name:"group-renderer",components:{DispatchRenderer:Tv},props:qr({},ms()),setup:function(e){return M7(O7(e))}}),yVe={renderer:G7,tester:ga(2,Eo(FC,xo("Group")))};function _Ve(t,e,n,r,i,s){var a=tn("dispatch-renderer");return t.layout.visible?(ot(),Mt("fieldset",{key:0,class:Ht(t.styles.group.root)},[t.layout.label?(ot(),Mt("legend",{key:0,class:Ht(t.styles.group.label)},fs(t.layout.label),3)):mr("",!0),(ot(!0),Mt(fr,null,ho(t.layout.uischema.elements,function(o,l){return ot(),Mt("div",{key:"".concat(t.layout.path,"-").concat(l),class:Ht(t.styles.group.item)},[_t(a,{schema:t.layout.schema,uischema:o,path:t.layout.path,enabled:t.layout.enabled,renderers:t.layout.renderers,cells:t.layout.cells},null,8,["schema","uischema","path","enabled","renderers","cells"])],2)}),128))],2)):mr("",!0)}G7.render=_Ve;var bVe=[gVe,yVe],K7=In({name:"label-renderer",props:qr({},ms()),setup:function(e){return $9e(o9e(e))}}),wVe={renderer:K7,tester:ga(1,xo("Label"))};function SVe(t,e,n,r,i,s){return t.label.visible?(ot(),Mt("label",{key:0,class:Ht(t.styles.label.root)},fs(t.label.text),3)):mr("",!0)}K7.render=SVe;var xVe=[wVe],EVe=[].concat($y(mVe),$y(bVe),$y(R9e),$y(xVe));const $Ve={arrayList:{addButton:"button level-item is-small my-add-button-spacer has-text-white has-text-weight-bold",label:"label level-item",legend:"level",item:"level-left property-box",itemToolbar:"level-item",itemContent:"level-item",itemDelete:"delete",itemWrapper:"level remove-margin"},horizontalLayout:{item:"my-horizontal-spacing",root:"field is-horizontal"},group:{item:"property-box"}},AVe={type:"object",properties:{properties:{type:"array",items:{$ref:"#/$defs/field"}}},$defs:{field:{type:"object",properties:{type:{$ref:"#/$defs/type"},name:{$ref:"#/$defs/name"},properties:{$ref:"#/$defs/properties"},items:{$ref:"#/$defs/type"}}},type:{type:"string",enum:["string","number","integer","boolean","null","object","array"]},name:{type:"string"},properties:{type:"array",items:{$ref:"#/$defs/field"}}}},Gb={type:"HorizontalLayout",elements:[{type:"Control",scope:"#/properties/name"},{type:"Control",scope:"#/properties/type"}]},Y7={type:"Group",elements:[{type:"VerticalLayout",elements:[{type:"Control",scope:"#/properties/items"},{type:"Control",scope:"#/properties/properties",options:{detail:Gb},rule:{effect:"SHOW",condition:{scope:"#/properties/items",schema:{const:"object"}}}}]}],rule:{effect:"SHOW",condition:{scope:"#/properties/type",schema:{const:"array"}}}},PVe={type:"Control",scope:"#/properties/properties",options:{detail:{type:"VerticalLayout",elements:[Gb,{type:"Control",scope:"#/properties/properties",options:{detail:{type:"VerticalLayout",elements:[Gb]}},rule:{effect:"SHOW",condition:{scope:"#/properties/type",schema:{const:"object"}}}},Y7]}},rule:{effect:"SHOW",condition:{scope:"#/properties/type",schema:{const:"object"}}}},TVe={type:"VerticalLayout",elements:[{type:"Control",scope:"#/properties/properties",options:{detail:{type:"VerticalLayout",elements:[Gb,Y7,PVe]}}}]},CVe=E9e(VA,$Ve),kVe=[...EVe],OVe=In({components:{JsonForms:R7,Codemirror:bp,HelpButton:Y1,TokenTag:V2,Arrow:s6},setup(){return{extensions:[sv(),sp]}},data(){return{renderers:Object.freeze(kVe),schema:AVe,uischema:TVe}},computed:{...Gc(sl)},provide(){return{styles:CVe}},methods:{close(){this.uiStateStore.showPlaceModal=!1},onFormChange(t){this.uiStateStore.formsData=t.data,this.uiStateStore.formsDataString=JSON.stringify(this.uiStateStore.formsData,null,2),this.uiStateStore.updateJsonSchema()},onTokenEditorUpdate(){this.uiStateStore.updateCurrentToken()},saveChanges(){if(this.uiStateStore.nameError="",!i6(this.uiStateStore.itemName,this.uiStateStore.lastSelectedID))this.uiStateStore.nameError="Place name must be unique.";else{const e={schema:{},data:[]};e.schema=JSON.parse(this.uiStateStore.generatedSchemaString),e.data=this.uiStateStore.placeTokens,QV(this.uiStateStore.lastSelectedID,e,this.uiStateStore.itemName),this.close()}}}});const RVe={class:"modal is-active"},MVe=le("div",{class:"modal-background"},null,-1),NVe={class:"modal-card jsn-modal-wide"},IVe={class:"modal-card-head"},DVe=le("p",{class:"modal-card-title"},"Place inscription",-1),LVe={class:"modal-card-body"},FVe={class:"field"},jVe=le("label",{class:"label"},"Name of the place",-1),BVe={class:"control"},VVe={class:"help is-danger"},zVe={class:"label"},UVe={class:"columns is-vcentered"},qVe={class:"column is-5"},HVe={class:"property-box"},WVe={class:"column is-2 has-text-centered"},GVe={class:"column is-5"},KVe={class:"field"},YVe={class:"label"},JVe={class:"block"},XVe={class:"tags block"},QVe={class:"block"},ZVe={class:"block"},e6e={class:"level"},t6e=le("div",{class:"level-left"},[le("p",{class:"level-item"},"Result of schema validation:")],-1),n6e=["innerHTML"],r6e={class:"modal-card-foot"};function i6e(t,e,n,r,i,s){const a=tn("HelpButton"),o=tn("json-forms"),l=tn("Arrow"),u=tn("Codemirror"),c=tn("TokenTag");return ot(),Mt("div",RVe,[MVe,le("div",NVe,[le("header",IVe,[DVe,le("button",{class:"delete","aria-label":"close",onClick:e[0]||(e[0]=f=>t.close())})]),le("section",LVe,[le("div",FVe,[jVe,le("div",BVe,[mg(le("input",{class:"input",type:"text","onUpdate:modelValue":e[1]||(e[1]=f=>t.uiStateStore.itemName=f)},null,512),[[KP,t.uiStateStore.itemName]])]),le("p",VVe,fs(t.uiStateStore.nameError),1)]),le("label",zVe,[vi(" Structure of tokens (JSON Schema) "),_t(a,{"help-text":`
            For more information about JSON Schema, please visit
            <a href='https://json-schema.org/' target='_blank'>https://json-schema.org/</a>.
          `})]),le("div",UVe,[le("div",qVe,[le("div",HVe,[_t(o,{uischema:t.uischema,data:t.uiStateStore.formsData,renderers:t.renderers,schema:t.schema,onChange:t.onFormChange},null,8,["uischema","data","renderers","schema","onChange"])])]),le("div",WVe,[_t(l)]),le("div",GVe,[_t(u,{disabled:!0,modelValue:t.uiStateStore.generatedSchemaString,"onUpdate:modelValue":e[2]||(e[2]=f=>t.uiStateStore.generatedSchemaString=f),placeholder:"Output",autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.extensions},null,8,["modelValue","extensions"])])]),le("div",KVe,[le("label",YVe,[vi(" Tokens (JSON) "),_t(a,{"help-text":`
              For more information about JSON, please visit
              <a href='https://www.json.org/json-en.html' target='_blank'
                >https://www.json.org/json-en.html</a>.
            `})])]),le("div",JVe,[le("button",{onClick:e[3]||(e[3]=f=>t.uiStateStore.addToken()),class:"array-list-add button level-item is-small my-add-button-spacer has-text-white has-text-weight-bold",type:"button"}," + ")]),le("div",XVe,[(ot(!0),Mt(fr,null,ho(t.uiStateStore.placeTokens,(f,d)=>(ot(),sr(c,{callback:()=>{t.uiStateStore.selectToken(d)},token:JSON.stringify(f,null,2),isSelected:t.uiStateStore.selectedIndex===d,isDeletable:!0,deletableCallback:()=>{t.uiStateStore.deleteToken(d)}},null,8,["callback","token","isSelected","deletableCallback"]))),256))]),le("div",QVe,[_t(u,{modelValue:t.uiStateStore.tokenString,"onUpdate:modelValue":e[4]||(e[4]=f=>t.uiStateStore.tokenString=f),placeholder:"Select token to edit content.",autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:t.extensions,onUpdate:t.onTokenEditorUpdate},null,8,["modelValue","extensions","onUpdate"])]),le("div",ZVe,[le("div",e6e,[t6e,le("p",{innerHTML:t.uiStateStore.placeTokenValidationResult,class:Ht(["level-item",{"jsn-green-background":t.uiStateStore.placeTokenValidation,"jsn-red-background":!t.uiStateStore.placeTokenValidation}])},null,10,n6e)])])]),le("footer",r6e,[le("button",{class:"button is-success",onClick:e[5]||(e[5]=(...f)=>t.saveChanges&&t.saveChanges(...f))},"Save changes"),le("button",{class:"button",onClick:e[6]||(e[6]=f=>t.close())},"Cancel")])])])}const s6e=Ia(OVe,[["render",i6e]]),a6e=In({props:{icon:String,mode:{type:String,required:!0},callback:Function},computed:{notActive(){return this.mode!==this.uiStateStore.mode},...Gc(sl)},methods:{onClick(){this.callback===void 0?this.uiStateStore.setMode(this.mode):(this.uiStateStore.setMode(this.mode),this.callback())}}});const o6e={class:"icon is-small"};function l6e(t,e,n,r,i,s){const a=tn("font-awesome-icon");return ot(),Mt("button",{class:Ht(["button is-primary",{"is-outlined":t.notActive}]),onClick:e[0]||(e[0]=YP((...o)=>t.onClick&&t.onClick(...o),["stop"]))},[le("span",o6e,[_t(a,{icon:t.icon},null,8,["icon"])])],2)}const lc=Ia(a6e,[["render",l6e],["__scopeId","data-v-7488328e"]]);function u6e(t,e){const n=t.target;if(!n)return;const r=new FileReader;r.onload=function(){const i=r.result;e(i)},r.readAsText(n.files[0])}function c6e(t,e,n){const r=document.createElement("a"),i=new Blob([t],{type:n});r.href=URL.createObjectURL(i),r.download=e,r.click()}const mu={x:"x",y:"y",width:"w",height:"h",minimum:"s",maximum:"l",diagonal:"d"},f6e=Object.keys(mu).map(t=>mu[t]).join(""),dE="[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?",h6e=/\s/g,K3=new RegExp(`^(${dE}\\*)?([${f6e}])(/${dE})?([-+]{1,2}${dE})?$`,"g");function J7(t){throw new Error(`Invalid calc() expression: ${t}`)}function d6e(t,e){const n=K3.exec(t.replace(h6e,""));n||J7(t),K3.lastIndex=0;const[,r,i,s,a]=n,{x:o,y:l,width:u,height:c}=e;let f=0;switch(i){case mu.width:{f=u;break}case mu.height:{f=c;break}case mu.x:{f=o;break}case mu.y:{f=l;break}case mu.minimum:{f=Math.min(c,u);break}case mu.maximum:{f=Math.max(c,u);break}case mu.diagonal:{f=Math.sqrt(c*c+u*u);break}}return r&&(f*=parseFloat(r)),s&&(f/=parseFloat(s.slice(1))),a&&(f+=p6e(a)),f}function p6e(t){if(!t)return 0;const[e]=t;switch(e){case"+":return parseFloat(t.substr(1));case"-":return-parseFloat(t.substr(1))}return parseFloat(t)}function oo(t){return typeof t=="string"&&t.includes("calc")}const X7="calc(",Y3=X7.length;function lo(t,e){let n=t,r=0;do{let i=n.indexOf(X7,r);if(i===-1)return n;let s=i+Y3,a=1;e:do{switch(n[s]){case"(":{a++;break}case")":{if(a--,a===0)break e;break}case void 0:J7(n)}s++}while(!0);let o=n.slice(i+Y3,s);oo(o)&&(o=lo(o,e));const l=String(d6e(o,e));n=n.slice(0,i)+l+n.slice(s+1),r=i+l.length}while(!0)}const{round:m6e,floor:g6e,PI:Q7}=Math,v6e={linear:function(t,e,n){var r=t[1]-t[0],i=e[1]-e[0];return(n-t[0])/r*i+e[0]||0}},Gl=function(t){return t%360+(t<0?360:0)},yh=function(t,e){return e*m6e(t/e)},xw=function(t){return 180*t/Q7%360},ca=function(t,e){return e=e||!1,t=e?t:t%360,t*Q7/180},zA=function(t,e){if(e===void 0)e=t===void 0?1:t,t=0;else if(e<t){const n=t;t=e,e=n}return g6e(Math.random()*(e-t+1)+t)},{cos:Ay,sin:pE,atan2:y6e}=Math,Z7=function(t,e){var n=ca(t.y),r=ca(e.y),i=t.x,s=e.x,a=ca(s-i),o=pE(a)*Ay(r),l=Ay(n)*pE(r)-pE(n)*Ay(r)*Ay(a),u=xw(y6e(o,l)),c=["NE","E","SE","S","SW","W","NW","N"],f=u-22.5;return f<0&&(f+=360),f=parseInt(f/45),c[f]},ck=function(t,e){var n=t.x,r=t.y,i=e.x,s=e.y;return(n-=i)*n+(r-=s)*r},eU=function(t,e){return Math.sqrt(ck(t,e))},an={Point:1,Line:2,Ellipse:3,Rect:4,Polyline:5,Polygon:6,Curve:7,Path:8},{abs:Kb,cos:UA,sin:qA,sqrt:J3,min:X3,max:Q3,atan2:_6e,round:Z3,pow:b6e,PI:eF}=Math,we=function(t,e){if(!(this instanceof we))return new we(t,e);if(typeof t=="string"){var n=t.split(t.indexOf("@")===-1?" ":"@");t=parseFloat(n[0]),e=parseFloat(n[1])}else Object(t)===t&&(e=t.y,t=t.x);this.x=t===void 0?0:t,this.y=e===void 0?0:e};we.fromPolar=function(t,e,n){n=new we(n);var r=Kb(t*UA(e)),i=Kb(t*qA(e)),s=Gl(xw(e));return s<90?i=-i:s<180?(r=-r,i=-i):s<270&&(r=-r),new we(n.x+r,n.y+i)};we.random=function(t,e,n,r){return new we(zA(t,e),zA(n,r))};we.prototype={type:an.Point,chooseClosest:function(t){var e=t.length;if(e===1)return new we(t[0]);for(var n=null,r=1/0,i=0;i<e;i++){var s=new we(t[i]),a=this.squaredDistance(s);a<r&&(n=s,r=a)}return n},adhereToRect:function(t){return t.containsPoint(this)?this:(this.x=X3(Q3(this.x,t.x),t.x+t.width),this.y=X3(Q3(this.y,t.y),t.y+t.height),this)},angleBetween:function(t,e){var n=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return n<0&&(n+=360),n},bearing:function(t){return Z7(this,t)},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new we(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new we(this.x-(t||0),this.y-(e||0))},distance:function(t){return eU(this,t)},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,r=this.y;return new we((1-e)*n+e*t.x,(1-e)*r+e*t.y)},magnitude:function(){return J3(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return Kb(t.x-this.x)+Kb(t.y-this.y)},move:function(t,e){var n=ca(new we(t).theta(this)),r=this.offset(UA(n)*e,-qA(n)*e);return r},normalize:function(t){var e=(t||1)/this.magnitude();return this.scale(e,e)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new we(t).move(this,this.distance(t))},rotate:function(t,e){if(e===0)return this;t=t||new we(0,0),e=ca(Gl(-e));var n=UA(e),r=qA(e),i=n*(this.x-t.x)-r*(this.y-t.y)+t.x,s=r*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=i,this.y=s,this},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=b6e(10,t);break}return this.x=Z3(this.x*e)/e,this.y=Z3(this.y*e)/e,this},scale:function(t,e,n){return n=n&&new we(n)||new we(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=yh(this.x,t),this.y=yh(this.y,e||t),this},squaredDistance:function(t){return ck(this,t)},theta:function(t){t=new we(t);var e=-(t.y-this.y),n=t.x-this.x,r=_6e(e,n);return r<0&&(r=2*eF+r),180*r/eF},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new we(t)||new we(0,0);var e=this.x,n=this.y;return this.x=J3((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=ca(t.theta(new we(e,n))),this},toString:function(){return this.x+"@"+this.y},serialize:function(){return this.x+","+this.y},update:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x=t||0,this.y=e||0,this},vectorAngle:function(t){var e=new we(0,0);return e.angleBetween(this,t)}};we.prototype.translate=we.prototype.offset;const Yb=we,{max:mE,min:gE}=Math,pt=function(t,e){if(!(this instanceof pt))return new pt(t,e);if(t instanceof pt)return new pt(t.start,t.end);this.start=new we(t),this.end=new we(e)};pt.prototype={type:an.Line,angle:function(){var t=new we(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=gE(this.start.x,this.end.x),e=gE(this.start.y,this.end.y),n=mE(this.start.x,this.end.x),r=mE(this.start.y,this.end.y);return new lt(t,e,n-t,r-e)},bearing:function(){return Z7(this.start,this.end)},clone:function(){return new pt(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){var e=this.vector().dot(new pt(this.start,t).vector()),n=gE(1,mE(0,e/this.squaredLength()));return n!==n?0:n},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(e.cross(t,n)!==0)return!1;var r=this.length();return!(new pt(e,t).length()>r||new pt(t,n).length()>r)},divideAt:function(t){var e=this.pointAt(t);return[new pt(this.start,e),new pt(e,this.end)]},divideAtLength:function(t){var e=this.pointAtLength(t);return[new pt(this.start,e),new pt(e,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t&&t.intersectionWithLine){var n=t.intersectionWithLine(this,e);return n&&t instanceof pt&&(n=n[0]),n}return null},intersectionWithLine:function(t){var e=new we(this.end.x-this.start.x,this.end.y-this.start.y),n=new we(t.end.x-t.start.x,t.end.y-t.start.y),r=e.x*n.y-e.y*n.x,i=new we(t.start.x-this.start.x,t.start.y-this.start.y),s=i.x*n.y-i.y*n.x,a=i.x*e.y-i.y*e.x;if(r===0||s*r<0||a*r<0)return null;if(r>0){if(s>r||a>r)return null}else if(s<r||a<r)return null;return[new we(this.start.x+s*e.x/r,this.start.y+s*e.y/r)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return eU(this.start,this.end)},midpoint:function(){return new we((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},parallel:function(t){const e=this.clone();if(!this.isDifferentiable())return e;const{start:n,end:r}=e,i=n.clone().rotate(r,270),s=r.clone().rotate(n,90);return n.move(s,t),r.move(i,t),e},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():t>=1?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,r=!0;t<0&&(r=!1,t=-t);var i=this.length();return t>=i?r?n.clone():e.clone():this.pointAt((r?t:i-t)/i)},pointOffset:function(t){t=new we(t);var e=this.start,n=this.end,r=(n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x);return r/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){return this.start.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;var n=t/e;return this.scale(n,n,this.start)},squaredLength:function(){return ck(this.start,this.end)},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAt(t),i=new pt(e,n);return i.translate(r.x-e.x,r.y-e.y),i},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,r=this.pointAtLength(t),i=new pt(e,n);return i.translate(r.x-e.x,r.y-e.y),i},toString:function(){return this.start.toString()+" "+this.end.toString()},serialize:function(){return this.start.serialize()+" "+this.end.serialize()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new we(this.end.x-this.start.x,this.end.y-this.start.y)}};pt.prototype.intersection=pt.prototype.intersect;const sh=pt,{sqrt:tF,round:Py,pow:w6e}=Math,Is=function(t,e,n){if(!(this instanceof Is))return new Is(t,e,n);if(t instanceof Is)return new Is(new we(t.x,t.y),t.a,t.b);t=new we(t),this.x=t.x,this.y=t.y,this.a=e,this.b=n};Is.fromRect=function(t){return t=new lt(t),new Is(t.center(),t.width/2,t.height/2)};Is.prototype={type:an.Ellipse,bbox:function(){return new lt(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new we(this.x,this.y)},clone:function(){return new Is(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,r=t.end,i=this.a,s=this.b,a=t.vector(),o=n.difference(new we(this)),l=new we(a.x/(i*i),a.y/(s*s)),u=new we(o.x/(i*i),o.y/(s*s)),c=a.dot(l),f=a.dot(u),d=o.dot(u)-1,v=f*f-c*d;if(v<0)return null;if(v>0){var _=tF(v),S=(-f-_)/c,b=(-f+_)/c;if((S<0||1<S)&&(b<0||1<b))return null;0<=S&&S<=1&&e.push(n.lerp(r,S)),0<=b&&b<=1&&e.push(n.lerp(r,b))}else{var y=-f/c;if(0<=y&&y<=1)e.push(n.lerp(r,y));else return null}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new we(t),e&&t.rotate(new we(this.x,this.y),e);var n=t.x-this.x,r=t.y-this.y,i;if(n===0)return i=this.bbox().pointNearestToPoint(t),e?i.rotate(new we(this.x,this.y),-e):i;var s=r/n,a=s*s,o=this.a*this.a,l=this.b*this.b,u=tF(1/(1/o+a/l));u=n<0?-u:u;var c=s*u;return i=new we(this.x+u,this.y+c),e?i.rotate(new we(this.x,this.y),-e):i},normalizedDistance:function(t){var e=t.x,n=t.y,r=this.a,i=this.b,s=this.x,a=this.y;return(e-s)*(e-s)/(r*r)+(n-a)*(n-a)/(i*i)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=w6e(10,t);break}return this.x=Py(this.x*e)/e,this.y=Py(this.y*e)/e,this.a=Py(this.a*e)/e,this.b=Py(this.b*e)/e,this},tangentTheta:function(t){var e=30,n=t.x,r=t.y,i=this.a,s=this.b,a=this.bbox().center(),o=a.x,l=a.y,u=n>a.x+i/2,c=n<a.x-i/2,f,d;return u||c?(f=n>a.x?r-e:r+e,d=i*i/(n-o)-i*i*(r-l)*(f-l)/(s*s*(n-o))+o):(d=r>a.y?n+e:n-e,f=s*s/(r-l)-s*s*(n-o)*(d-o)/(i*i*(r-l))+l),new we(d,f).theta(t)},toString:function(){return new we(this.x,this.y).toString()+" "+this.a+" "+this.b}};const S6e=Is,{abs:nF,cos:x6e,sin:E6e,min:wm,max:rF,round:Ty,pow:$6e}=Math,lt=function(t,e,n,r){if(!(this instanceof lt))return new lt(t,e,n,r);Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t===void 0?0:t,this.y=e===void 0?0:e,this.width=n===void 0?0:n,this.height=r===void 0?0:r};lt.fromEllipse=function(t){return t=new Is(t),new lt(t.x-t.a,t.y-t.b,2*t.a,2*t.b)};lt.fromPointUnion=function(...t){if(t.length===0)return null;const e=new we;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let a=0;a<t.length;a++){e.update(t[a]);const o=e.x,l=e.y;o<n&&(n=o),o>i&&(i=o),l<r&&(r=l),l>s&&(s=l)}return new lt(n,r,i-n,s-r)};lt.fromRectUnion=function(...t){if(t.length===0)return null;const e=new lt;let n,r,i,s;n=r=1/0,i=s=-1/0;for(let a=0;a<t.length;a++){e.update(t[a]);const o=e.x,l=e.y,u=o+e.width,c=l+e.height;o<n&&(n=o),u>i&&(i=u),l<r&&(r=l),c>s&&(s=c)}return new lt(n,r,i-n,s-r)};lt.prototype={type:an.Rect,bbox:function(t){return this.clone().rotateAroundCenter(t)},rotateAroundCenter:function(t){if(!t)return this;const{width:e,height:n}=this,r=ca(t),i=nF(E6e(r)),s=nF(x6e(r)),a=e*s+n*i,o=e*i+n*s;return this.x+=(e-a)/2,this.y+=(n-o)/2,this.width=a,this.height=o,this},bottomLeft:function(){return new we(this.x,this.y+this.height)},bottomLine:function(){return new pt(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new we(this.x+this.width/2,this.y+this.height)},center:function(){return new we(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new lt(this)},containsPoint:function(t){return t=new we(t),t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new lt(this).normalize(),n=new lt(t).normalize(),r=e.width,i=e.height,s=n.width,a=n.height;if(!r||!i||!s||!a)return!1;var o=e.x,l=e.y,u=n.x,c=n.y;return s+=u,r+=o,a+=c,i+=l,o<=u&&s<=r&&l<=c&&a<=i},corner:function(){return new we(this.x+this.width,this.y+this.height)},equals:function(t){var e=new lt(this).normalize(),n=new lt(t).normalize();return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height},inflate:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),r=t.origin(),i=t.corner();if(i.x<=e.x||i.y<=e.y||r.x>=n.x||r.y>=n.y)return null;var s=rF(e.x,r.x),a=rF(e.y,r.y);return new lt(s,a,wm(n.x,i.x)-s,wm(n.y,i.y)-a)},intersectionWithLine:function(t){var e=this,n=[e.topLine(),e.rightLine(),e.bottomLine(),e.leftLine()],r=[],i=[],s,a,o=n.length;for(a=0;a<o;a++)s=t.intersect(n[a]),s!==null&&i.indexOf(s.toString())<0&&(r.push(s),i.push(s.toString()));return r.length>0?r:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new we(t);var n=new we(this.x+this.width/2,this.y+this.height/2),r;e&&t.rotate(n,e);for(var i=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],s=new pt(n,t),a=i.length-1;a>=0;--a){var o=i[a].intersection(s);if(o!==null){r=o;break}}return r&&e&&r.rotate(n,-e),r},leftLine:function(){return new pt(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new we(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){t=new lt(t),e||(e=t.center());var n,r,i,s,a,o,l,u,c=e.x,f=e.y;n=r=i=s=a=o=l=u=1/0;var d=t.topLeft();d.x<c&&(n=(this.x-c)/(d.x-c)),d.y<f&&(a=(this.y-f)/(d.y-f));var v=t.bottomRight();v.x>c&&(r=(this.x+this.width-c)/(v.x-c)),v.y>f&&(o=(this.y+this.height-f)/(v.y-f));var _=t.topRight();_.x>c&&(i=(this.x+this.width-c)/(_.x-c)),_.y<f&&(l=(this.y-f)/(_.y-f));var S=t.bottomLeft();return S.x<c&&(s=(this.x-c)/(S.x-c)),S.y>f&&(u=(this.y+this.height-f)/(S.y-f)),{sx:wm(n,r,i,s),sy:wm(a,o,l,u)}},maxRectUniformScaleToFit:function(t,e){var n=this.maxRectScaleToFit(t,e);return wm(n.sx,n.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,r=-this.height),this.x=t,this.y=e,this.width=n,this.height=r,this},offset:function(t,e){return we.prototype.offset.call(this,t,e)},origin:function(){return new we(this.x,this.y)},pointNearestToPoint:function(t){if(t=new we(t),this.containsPoint(t)){var e=this.sideNearestToPoint(t);switch(e){case"right":return new we(this.x+this.width,t.y);case"left":return new we(this.x,t.y);case"bottom":return new we(t.x,this.y+this.height);case"top":return new we(t.x,this.y)}}return t.adhereToRect(this)},rightLine:function(){return new pt(this.topRight(),this.bottomRight())},rightMiddle:function(){return new we(this.x+this.width,this.y+this.height/2)},round:function(t){let e=1;if(t)switch(t){case 1:e=10;break;case 2:e=100;break;case 3:e=1e3;break;default:e=$6e(10,t);break}return this.x=Ty(this.x*e)/e,this.y=Ty(this.y*e)/e,this.width=Ty(this.width*e)/e,this.height=Ty(this.height*e)/e,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){t=new we(t);var e=t.x-this.x,n=this.x+this.width-t.x,r=t.y-this.y,i=this.y+this.height-t.y,s=e,a="left";return n<s&&(s=n,a="right"),r<s&&(s=r,a="top"),i<s&&(a="bottom"),a},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),r=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new pt(this.topLeft(),this.topRight())},topMiddle:function(){return new we(this.x+this.width/2,this.y)},topRight:function(){return new we(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){return lt.fromRectUnion(this,t)},update:function(t,e,n,r){return Object(t)===t&&(e=t.y,n=t.width,r=t.height,t=t.x),this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this}};lt.prototype.bottomRight=lt.prototype.corner;lt.prototype.topLeft=lt.prototype.origin;lt.prototype.translate=lt.prototype.offset;const A6e=lt;function tU(t){const e=t.trim();if(e==="")return[];const n=[],r=e.split(/\b\s*,\s*|,\s*|\s+/),i=r.length;for(let s=0;s<i;s+=2)n.push({x:+r[s],y:+r[s+1]});return n}function nU(t){const e=t.length;if(e===0)return[];const n=[];for(let r=0;r<e;r++){const i=t[r].clone();n.push(i)}return n}function rU(t){const{abs:e}=Math;var n,r,i=t.length;if(i===0)return[];var s;for(n=0;n<i;n++)(s===void 0||t[n].y<s.y||t[n].y===s.y&&t[n].x>s.x)&&(s=t[n]);var a=[];for(n=0;n<i;n++){var o=s.theta(t[n]);o===0&&(o=360);var l=[t[n],n,o];a.push(l)}if(a.sort(function(se,re){var ye=se[2]-re[2];return ye===0&&(ye=re[1]-se[1]),ye}),a.length>2){var u=a[a.length-1];a.unshift(u)}for(var c={},f=[],d,v,_,S,b,y;a.length!==0;)if(d=a.pop(),v=d[0],!c.hasOwnProperty(d[0]+"@@"+d[1]))for(var A=!1;!A;)if(f.length<2)f.push(d),A=!0;else{_=f.pop(),S=_[0],b=f.pop(),y=b[0];var R=y.cross(S,v);if(R<0)f.push(b),f.push(_),f.push(d),A=!0;else if(R===0){var M=1e-10,$=S.angleBetween(y,v);e($-180)<M||S.equals(v)||y.equals(S)?(c[_[0]+"@@"+_[1]]=S,f.push(b)):e(($+1)%360-1)<M&&(f.push(b),a.push(_))}else c[_[0]+"@@"+_[1]]=S,f.push(b)}f.length>2&&f.pop();var p,x=-1;for(r=f.length,n=0;n<r;n++){var T=f[n][1];(p===void 0||T<p)&&(p=T,x=n)}var D=[];if(x>0){var C=f.slice(x),U=f.slice(0,x);D=C.concat(U)}else D=f;var G=[];for(r=D.length,n=0;n<r;n++)G.push(D[n][0]);return G}const hr=function(t){if(!(this instanceof hr))return new hr(t);if(typeof t=="string")return new hr.parse(t);this.points=Array.isArray(t)?t.map(we):[]};hr.parse=function(t){return new hr(tU(t))};hr.fromRect=function(t){return new hr([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft(),t.topLeft()])};hr.prototype={type:an.Polyline,bbox:function(){var t=1/0,e=-1/0,n=1/0,r=-1/0,i=this.points,s=i.length;if(s===0)return null;for(var a=0;a<s;a++){var o=i[a],l=o.x,u=o.y;l<t&&(t=l),l>e&&(e=l),u<n&&(n=u),u>r&&(r=u)}return new lt(t,n,e-t,r-n)},clone:function(){return new hr(nU(this.points))},closestPoint:function(t){var e=this.closestPointLength(t);return this.pointAtLength(e)},closestPointLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return 0;for(var r,i=1/0,s=0,a=n-1,o=0;o<a;o++){var l=new pt(e[o],e[o+1]),u=l.length(),c=l.closestPointNormalizedLength(t),f=l.pointAt(c),d=f.squaredDistance(t);d<i&&(i=d,r=s+c*u),s+=u}return r},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(e===0)return 0;var n=this.length();return n===0?0:e/n},closestPointTangent:function(t){var e=this.closestPointLength(t);return this.tangentAtLength(e)},containsPoint:function(t){var e=this.points,n=e.length;if(n===0)return!1;for(var r=t.x,i=t.y,s=n-1,a=0,o=0,l=new pt,u=new pt,c=new we;a<n;a++){var f=e[s],d=e[a];if(t.equals(f)||(l.start=f,l.end=d,l.containsPoint(t)))return!0;if(i<=f.y&&i>d.y||i>f.y&&i<=d.y){var v=f.x-r>d.x-r?f.x-r:d.x-r;v>=0&&(c.x=r+v,c.y=i,u.start=t,u.end=c,l.intersect(u)&&o++)}s=a}return o%2===1},close:function(){const{start:t,end:e,points:n}=this;return t&&e&&!t.equals(e)&&n.push(t.clone()),this},lengthPoints:function(){return this.points},convexHull:function(){return new hr(rU(this.points))},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,r=e.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var s=e[i],a=t.points[i];if(!s.equals(a))return!1}return!0},intersectionWithLine:function(t){for(var e=new pt(t),n=[],r=this.lengthPoints(),i=new pt,s=0,a=r.length-1;s<a;s++){i.start=r[s],i.end=r[s+1];var o=e.intersectionWithLine(i);o&&n.push(o[0])}return n.length>0?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(e===0)return!1;for(var n=new pt,r=e-1,i=0;i<r;i++)if(n.start=t[i],n.end=t[i+1],n.isDifferentiable())return!0;return!1},length:function(){var t=this.lengthPoints(),e=t.length;if(e===0)return 0;for(var n=0,r=e-1,i=0;i<r;i++)n+=t[i].distance(t[i+1]);return n},pointAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1||t<=0)return e[0].clone();if(t>=1)return e[n-1].clone();var r=this.length(),i=r*t;return this.pointAtLength(i)},pointAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0)return null;if(n===1)return e[0].clone();var r=!0;t<0&&(r=!1,t=-t);for(var i=0,s=n-1,a=0;a<s;a++){var o=r?a:s-1-a,l=e[o],u=e[o+1],c=new pt(l,u),f=l.distance(u);if(t<=i+f)return c.pointAtLength((r?1:-1)*(t-i));i+=f}var d=r?e[n-1]:e[0];return d.clone()},round:function(t){for(var e=this.points,n=e.length,r=0;r<n;r++)e[r].round(t);return this},scale:function(t,e,n){for(var r=this.points,i=r.length,s=0;s<i;s++)r[s].scale(t,e,n);return this},simplify:function(t={}){const e=this.points;if(e.length<3)return this;const n=t.threshold||0;let r=0;for(;e[r+2];){const i=r,s=r+1,a=r+2,o=e[i],l=e[s],u=e[a];new pt(o,u).closestPoint(l).distance(l)<=n?e.splice(s,1):r+=1}return this},tangentAt:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;t<0&&(t=0),t>1&&(t=1);var r=this.length(),i=r*t;return this.tangentAtLength(i)},tangentAtLength:function(t){var e=this.lengthPoints(),n=e.length;if(n===0||n===1)return null;var r=!0;t<0&&(r=!1,t=-t);for(var i,s=0,a=n-1,o=0;o<a;o++){var l=r?o:a-1-o,u=e[l],c=e[l+1],f=new pt(u,c),d=u.distance(c);if(f.isDifferentiable()){if(t<=s+d)return f.tangentAtLength((r?1:-1)*(t-s));i=f}s+=d}if(i){var v=r?1:0;return i.tangentAt(v)}return null},toString:function(){return this.points+""},translate:function(t,e){for(var n=this.points,r=n.length,i=0;i<r;i++)n[i].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(e===0)return"";for(var n="",r=0;r<e;r++){var i=t[r];n+=i.x+","+i.y+" "}return n.trim()}};Object.defineProperty(hr.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[0]}});Object.defineProperty(hr.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points,e=t.length;return e===0?null:this.points[e-1]}});const{abs:Cy,sqrt:P6e,min:iF,max:sF,pow:vE}=Math,qn=function(t,e,n,r){if(!(this instanceof qn))return new qn(t,e,n,r);if(t instanceof qn)return new qn(t.start,t.controlPoint1,t.controlPoint2,t.end);this.start=new we(t),this.controlPoint1=new we(e),this.controlPoint2=new we(n),this.end=new we(r)};qn.throughPoints=function(){function t(n){var r=[],i=[],s=n.length-1,a;if(s==1)return r[0]=new we((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new we(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];var o=[];for(a=1;a<s-1;a++)o[a]=4*n[a].x+2*n[a+1].x;o[0]=n[0].x+2*n[1].x,o[s-1]=(8*n[s-1].x+n[s].x)/2;var l=e(o);for(a=1;a<s-1;++a)o[a]=4*n[a].y+2*n[a+1].y;o[0]=n[0].y+2*n[1].y,o[s-1]=(8*n[s-1].y+n[s].y)/2;var u=e(o);for(a=0;a<s;a++)r.push(new we(l[a],u[a])),a<s-1?i.push(new we(2*n[a+1].x-l[a+1],2*n[a+1].y-u[a+1])):i.push(new we((n[s].x+l[s-1])/2,(n[s].y+u[s-1])/2));return[r,i]}function e(n){var r=n.length,i=[],s=[],a=2;i[0]=n[0]/a;for(var o=1;o<r;o++)s[o]=1/a,a=(o<r-1?4:3.5)-s[o],i[o]=(n[o]-i[o-1])/a;for(o=1;o<r;o++)i[r-o-1]-=s[r-o]*i[r-o];return i}return function(n){if(!n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=t(n),i=[],s=r[0].length,a=0;a<s;a++){var o=new we(r[0][a].x,r[0][a].y),l=new we(r[1][a].x,r[1][a].y);i.push(new qn(n[a],o,l,n[a+1]))}return i}}();qn.prototype={type:an.Curve,bbox:function(){for(var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end,i=t.x,s=t.y,a=e.x,o=e.y,l=n.x,u=n.y,c=r.x,f=r.y,d=new Array,v=new Array,_=[new Array,new Array],S,b,y,A,R,M,$,p,x=0;x<2;++x){if(x===0?(b=6*i-12*a+6*l,S=-3*i+9*a-9*l+3*c,y=3*a-3*i):(b=6*s-12*o+6*u,S=-3*s+9*o-9*u+3*f,y=3*o-3*s),Cy(S)<1e-12){if(Cy(b)<1e-12)continue;A=-y/b,0<A&&A<1&&v.push(A);continue}$=b*b-4*y*S,p=P6e($),!($<0)&&(R=(-b+p)/(2*S),0<R&&R<1&&v.push(R),M=(-b-p)/(2*S),0<M&&M<1&&v.push(M))}for(var T=v.length,D=T,C,U,G;T--;)A=v[T],C=1-A,U=C*C*C*i+3*C*C*A*a+3*C*A*A*l+A*A*A*c,_[0][T]=U,G=C*C*C*s+3*C*C*A*o+3*C*A*A*u+A*A*A*f,_[1][T]=G,d[T]={X:U,Y:G};v[D]=0,v[D+1]=1,d[D]={X:i,Y:s},d[D+1]={X:c,Y:f},_[0][D]=i,_[1][D]=s,_[0][D+1]=c,_[1][D+1]=f,v.length=D+2,_[0].length=D+2,_[1].length=D+2,d.length=D+2;var se=iF.apply(null,_[0]),re=iF.apply(null,_[1]),ye=sF.apply(null,_[0]),Pe=sF.apply(null,_[1]);return new lt(se,re,ye-se,Pe-re)},clone:function(){return new qn(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r};return this.lengthAtT(this.closestPointT(t,i),i)},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r},s=this.closestPointLength(t,i);if(!s)return 0;var a=this.length(i);return a===0?0:s/a},closestPointT:function(t,e){e=e||{};for(var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i,s,a,o,l,u,c,f=r.length,d=f?1/f:0,v=0;v<f;v++){var _=r[v],S=_.start.distance(t),b=_.end.distance(t),y=S+b;(!c||y<c)&&(i=_,s=v*d,a=(v+1)*d,o=S,l=b,u=_.start.distance(_.end),c=y)}for(var A=vE(10,-n);;){var R=o?Cy(o-l)/o:0,M=l?Cy(o-l)/l:0,$=R<A||M<A,p=o?o<u*A:!0,x=l?l<u*A:!0,T=p||x;if($||T)return o<=l?s:a;var D=i.divide(.5);d/=2;var C=D[0].start.distance(t),U=D[0].end.distance(t),G=C+U,se=D[1].start.distance(t),re=D[1].end.distance(t),ye=se+re;G<=ye?(i=D[0],a-=d,o=C,l=U):(i=D[1],s+=d,o=se,l=re)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){var n=this.toPolyline(e);return n.containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(t>=1)return this.divideAtT(1);var n=this.tAt(t,e);return this.divideAtT(n)},divideAtLength:function(t,e){var n=this.tAtLength(t,e);return this.divideAtT(n)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(t<=0)return[new qn(e,e,e,e),new qn(e,n,r,i)];if(t>=1)return[new qn(e,n,r,i),new qn(i,i,i,i)];var s=this.getSkeletonPoints(t),a=s.startControlPoint1,o=s.startControlPoint2,l=s.divider,u=s.dividerControlPoint1,c=s.dividerControlPoint2;return[new qn(e,a,o,l),new qn(l,u,c,i)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(t>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var s=new pt(e,n).pointAt(t),a=new pt(n,r).pointAt(t),o=new pt(r,i).pointAt(t),l=new pt(s,a).pointAt(t),u=new pt(a,o).pointAt(t),c=new pt(l,u).pointAt(t),f={startControlPoint1:s,startControlPoint2:l,divider:c,dividerControlPoint1:u,dividerControlPoint2:o};return f},getSubdivisions:function(t){t=t||{};var e=t.precision===void 0?this.PRECISION:t.precision,n=this.start,r=this.controlPoint1,i=this.controlPoint2,s=this.end,a=[new qn(n,r,i,s)];if(e===0)return a;var o=!this.isDifferentiable();if(o)return a;var l=this.endpointDistance(),u=vE(10,-e),c=2,f=r.cross(n,s)===0&&i.cross(n,s)===0;f&&(c=2*e);for(var d=0;;){d+=1;for(var v=[],_=a.length,S=0;S<_;S++){var b=a[S],y=b.divide(.5);v.push(y[0],y[1])}for(var A=0,R=v.length,M=0;M<R;M++){var $=v[M];A+=$.endpointDistance()}if(d>=c){var p=A!==0?(A-l)/A:0;if(p<u)return v}a=v,l=A}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},length:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=0,i=n.length,s=0;s<i;s++){var a=n[s];r+=a.endpointDistance()}return r},lengthAtT:function(t,e){if(t<=0)return 0;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=this.divide(t)[0],i=r.length({precision:n});return i},pointAt:function(t,e){if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();var n=this.tAt(t,e);return this.pointAtT(n)},pointAtLength:function(t,e){var n=this.tAtLength(t,e);return this.pointAtT(n)},pointAtT:function(t){return t<=0?this.start.clone():t>=1?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,round:function(t){return this.start.round(t),this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var n=this.tAt(t,e);return this.tangentAtT(n)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;var n=this.tAtLength(t,e);return this.tangentAtT(n)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:t>1&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,r=e.dividerControlPoint1,i=e.divider,s=new pt(n,r);return s.translate(i.x-n.x,i.y-n.y),s},tAt:function(t,e){if(t<=0)return 0;if(t>=1)return 1;e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.subdivisions===void 0?this.getSubdivisions({precision:n}):e.subdivisions,i={precision:n,subdivisions:r},s=this.length(i),a=s*t;return this.tAtLength(a,i)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t),e=e||{};for(var r=e.precision===void 0?this.PRECISION:e.precision,i=e.subdivisions===void 0?this.getSubdivisions({precision:r}):e.subdivisions,s={precision:r,subdivisions:i},a,o,l,u,c,f=0,d=i.length,v=1/d,_=0;_<d;_++){var S=n?_:d-1-_,b=i[_],y=b.endpointDistance();if(t<=f+y){a=b,o=S*v,l=(S+1)*v,u=n?t-f:y+f-t,c=n?y+f-t:t-f;break}f+=y}if(!a)return n?1:0;for(var A=this.length(s),R=vE(10,-r);;){var M;if(M=A!==0?u/A:0,M<R)return o;if(M=A!==0?c/A:0,M<R)return l;var $,p,x=a.divide(.5);v/=2;var T=x[0].endpointDistance(),D=x[1].endpointDistance();u<=T?(a=x[0],l-=v,$=u,p=T-$):(a=x[1],o+=v,$=u-T,p=D-$),u=$,c=p}},toPoints:function(t){t=t||{};for(var e=t.precision===void 0?this.PRECISION:t.precision,n=t.subdivisions===void 0?this.getSubdivisions({precision:e}):t.subdivisions,r=[n[0].start.clone()],i=n.length,s=0;s<i;s++){var a=n[s];r.push(a.end.clone())}return r},toPolyline:function(t){return new hr(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};qn.prototype.divide=qn.prototype.divideAtT;function Cv(t){var e,n,r=[];for(n=arguments.length,e=1;e<n;e++)r.push(arguments[e]);if(!t)throw new Error("Missing a parent object.");var i=Object.create(t);for(n=r.length,e=0;e<n;e++){var s=r[e],a,o;for(o in s)s.hasOwnProperty(o)&&(delete i[o],a=Object.getOwnPropertyDescriptor(s,o),Object.defineProperty(i,o,a))}return i}const wt=function(t){if(!(this instanceof wt))return new wt(t);if(typeof t=="string")return new wt.parse(t);this.segments=[];var e,n;if(t)if(Array.isArray(t)&&t.length!==0)if(t=t.reduce(function(o,l){return o.concat(l)},[]),n=t.length,t[0].isSegment)for(e=0;e<n;e++){var r=t[e];this.appendSegment(r)}else{var i=null;for(e=0;e<n;e++){var s=t[e];if(!(s instanceof pt||s instanceof qn))throw new Error("Cannot construct a path segment from the provided object.");e===0&&this.appendSegment(wt.createSegment("M",s.start)),i&&!i.end.equals(s.start)&&this.appendSegment(wt.createSegment("M",s.start)),s instanceof pt?this.appendSegment(wt.createSegment("L",s.end)):s instanceof qn&&this.appendSegment(wt.createSegment("C",s.controlPoint1,s.controlPoint2,s.end)),i=s}}else if(t.isSegment)this.appendSegment(t);else if(t instanceof pt)this.appendSegment(wt.createSegment("M",t.start)),this.appendSegment(wt.createSegment("L",t.end));else if(t instanceof qn)this.appendSegment(wt.createSegment("M",t.start)),this.appendSegment(wt.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else if(t instanceof hr){if(!(t.points&&t.points.length!==0))return;for(n=t.points.length,e=0;e<n;e++){var a=t.points[e];e===0?this.appendSegment(wt.createSegment("M",a)):this.appendSegment(wt.createSegment("L",a))}}else throw new Error("Cannot construct a path from the provided object.")};wt.parse=function(t){if(!t)return new wt;for(var e=new wt,n=/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g,r=t.match(n),i=r.length,s=0;s<i;s++){var a=r[s],o=/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g,l=a.match(o),u=wt.createSegment.apply(this,l);e.appendSegment(u)}return e};wt.createSegment=function(t){if(!t)throw new Error("Type must be provided.");var e=wt.segmentTypes[t];if(!e)throw new Error(t+" is not a recognized path segment type.");for(var n=[],r=arguments.length,i=1;i<r;i++)n.push(arguments[i]);return zl(e,n)};wt.prototype={type:an.Path,appendSegment:function(t){var e=this.segments,n=e.length,r,i=n!==0?e[n-1]:null,s=null;if(Array.isArray(t)){if(t=t.reduce(function(u,c){return u.concat(c)},[]),!t[0].isSegment)throw new Error("Segments required.");for(var a=t.length,o=0;o<a;o++){var l=t[o];r=this.prepareSegment(l,i,s),e.push(r),i=r}}else{if(!t||!t.isSegment)throw new Error("Segment required.");r=this.prepareSegment(t,i,s),e.push(r)}},bbox:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n,r=0;r<e;r++){var i=t[r];if(i.isVisible){var s=i.bbox();n=n?n.union(s):s}}if(n)return n;var a=t[e-1];return new lt(a.end.x,a.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new wt,r=0;r<e;r++){var i=t[r].clone();n.appendSegment(i)}return n},closestPoint:function(t,e){var n=this.closestPointT(t,e);return n?this.pointAtT(n):null},closestPointLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},s=this.closestPointT(t,i);return s?this.lengthAtT(s,i):0},closestPointNormalizedLength:function(t,e){e=e||{};var n=e.precision===void 0?this.PRECISION:e.precision,r=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions,i={precision:n,segmentSubdivisions:r},s=this.closestPointLength(t,i);if(s===0)return 0;var a=this.length(i);return a===0?0:s/a},closestPointT:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a,o=1/0,l=0;l<r;l++){var u=n[l],c=s[l];if(u.isVisible){var f=u.closestPointT(t,{precision:i,subdivisions:c}),d=u.pointAtT(f),v=new pt(d,t).squaredLength();v<o&&(a={segmentIndex:l,value:f},o=v)}}return a||{segmentIndex:r-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;e=e||{};for(var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a,o=1/0,l=0;l<r;l++){var u=n[l],c=s[l];if(u.isDifferentiable()){var f=u.closestPointT(t,{precision:i,subdivisions:c}),d=u.pointAtT(f),v=new pt(d,t).squaredLength();v<o&&(a=u.tangentAtT(f),o=v)}}return a||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var r=n.length,i=0,s=0;s<r;s++){var a=n[s];a.containsPoint(t)&&i++}return i%2===1},divideAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:s},o=this.length(a),l=o*t;return this.divideAtLength(l,a)},divideAtLength:function(t,e){var n=this.segments.length;if(n===0)return null;var r=!0;t<0&&(r=!1,t=-t),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a,o,l=0,u,c,f,d,v;for(a=0;a<n;a++){var _=r?a:n-1-a;o=this.getSegment(_);var S=s[_],b=o.length({precision:i,subdivisions:S});if(o.isDifferentiable()&&(f=o,d=_,t<=l+b)){c=_,u=o.divideAtLength((r?1:-1)*(t-l),{precision:i,subdivisions:S});break}l+=b}if(!f)return null;u||(c=d,v=r?1:0,u=f.divideAtT(v));var y=this.clone();y.replaceSegment(c,u);var A=c,R=c+1,M=c+2;u[0].isDifferentiable()||(y.removeSegment(A),R-=1,M-=1);var $=y.getSegment(R).start;y.insertSegment(R,wt.createSegment("M",$)),M+=1,u[1].isDifferentiable()||(y.removeSegment(M-1),M-=1);var p=M-A-1;for(a=M;a<y.segments.length;a++){var x=this.getSegment(a-p);if(o=y.getSegment(a),o.type==="Z"&&!x.subpathStartSegment.end.equals(o.subpathStartSegment.end)){var T=wt.createSegment("L",x.end);y.replaceSegment(a,T)}}var D=new wt(y.segments.slice(0,R)),C=new wt(y.segments.slice(R));return[D,C]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,r=e.length;if(n.length!==r)return!1;for(var i=0;i<r;i++){var s=e[i],a=n[i];if(s.type!==a.type||!s.equals(a))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){var e=this.segments,n=e.length;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=[],s=0;s<n;s++){var a=e[s],o=a.getSubdivisions({precision:r});i.push(o)}return i},getSubpaths:function(){const e=this.clone().validate().segments,n=e.length,r=[];for(let i=0;i<n;i++){const s=e[i];s.isSubpathStart?r.push(new wt(s)):r[r.length-1].appendSegment(s)}return r},insertSegment:function(t,e){var n=this.segments,r=n.length;if(t<0&&(t=r+t+1),t>r||t<0)throw new Error("Index out of range.");var i,s=null,a=null;if(r!==0&&(t>=1?(s=n[t-1],a=s.nextSegment):a=n[0]),Array.isArray(e)){if(e=e.reduce(function(c,f){return c.concat(f)},[]),!e[0].isSegment)throw new Error("Segments required.");for(var o=e.length,l=0;l<o;l++){var u=e[l];i=this.prepareSegment(u,s,a),n.splice(t+l,0,i),s=i}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,s,a),n.splice(t,0,i)}},intersectionWithLine:function(t,e){var n=null,r=this.toPolylines(e);if(!r)return null;for(var i=0,s=r.length;i<s;i++){var a=r[i],o=t.intersect(a);o&&(n||(n=[]),Array.isArray(o)?Array.prototype.push.apply(n,o):n.push(o))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++){var r=t[n];if(r.isDifferentiable())return!0}return!1},isValid:function(){var t=this.segments,e=t.length===0||t[0].type==="M";return e},length:function(t){var e=this.segments,n=e.length;if(n===0)return 0;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s=0,a=0;a<n;a++){var o=e[a],l=i[a];s+=o.length({subdivisions:l})}return s},lengthAtT:function(t,e){var n=this.segments,r=n.length;if(r===0)return 0;var i=t.segmentIndex;if(i<0)return 0;var s=t.value;i>=r?(i=r-1,s=1):s<0?s=0:s>1&&(s=1),e=e||{};for(var a=e.precision===void 0?this.PRECISION:e.precision,o=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l,u=0,c=0;c<i;c++){var f=n[c];l=o[c],u+=f.length({precisison:a,subdivisions:l})}return f=n[i],l=o[i],u+=f.lengthAtT(s,{precisison:a,subdivisions:l}),u},pointAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t<=0)return this.start.clone();if(t>=1)return this.end.clone();e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:s},o=this.length(a),l=o*t;return this.pointAtLength(l,a)},pointAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;if(t===0)return this.start.clone();var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,o,l=0,u=0;u<r;u++){var c=i?u:r-1-u,f=n[c],d=a[c],v=f.length({precision:s,subdivisions:d});if(f.isVisible){if(t<=l+v)return f.pointAtLength((i?1:-1)*(t-l),{precision:s,subdivisions:d});o=f}l+=v}if(o)return i?o.end:o.start;var _=n[r-1];return _.end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].pointAtT(0);if(r>=n)return e[n-1].pointAtT(1);var i=t.value;return i<0?i=0:i>1&&(i=1),e[r].pointAtT(i)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);var r=t;return t.isSubpathStart&&(t.subpathStartSegment=t,r=n),r&&this.updateSubpathStartSegment(r),t},removeSegment:function(t){var e=this.segments,n=e.length;if(n===0)throw new Error("Path has no segments.");if(t<0&&(t=n+t),t>=n||t<0)throw new Error("Index out of range.");var r=e.splice(t,1)[0],i=r.previousSegment,s=r.nextSegment;i&&(i.nextSegment=s),s&&(s.previousSegment=i),r.isSubpathStart&&s&&this.updateSubpathStartSegment(s)},replaceSegment:function(t,e){var n=this.segments,r=n.length;if(r===0)throw new Error("Path has no segments.");if(t<0&&(t=r+t),t>=r||t<0)throw new Error("Index out of range.");var i,s=n[t],a=s.previousSegment,o=s.nextSegment,l=s.isSubpathStart;if(Array.isArray(e)){if(e=e.reduce(function(d,v){return d.concat(v)},[]),!e[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var u=e.length,c=0;c<u;c++){var f=e[c];i=this.prepareSegment(f,a,o),n.splice(t+c,0,i),a=i,l&&i.isSubpathStart&&(l=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");i=this.prepareSegment(e,a,o),n.splice(t,1,i),l&&i.isSubpathStart&&(l=!1)}l&&o&&this.updateSubpathStartSegment(o)},round:function(t){for(var e=this.segments,n=e.length,r=0;r<n;r++){var i=e[r];i.round(t)}return this},scale:function(t,e,n){for(var r=this.segments,i=r.length,s=0;s<i;s++){var a=r[s];a.scale(t,e,n)}return this},segmentAt:function(t,e){var n=this.segmentIndexAt(t,e);return n?this.getSegment(n):null},segmentAtLength:function(t,e){var n=this.segmentIndexAtLength(t,e);return n?this.getSegment(n):null},segmentIndexAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:s},o=this.length(a),l=o*t;return this.segmentIndexAtLength(l,a)},segmentIndexAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,o=null,l=0,u=0;u<r;u++){var c=i?u:r-1-u,f=n[c],d=a[c],v=f.length({precision:s,subdivisions:d});if(f.isVisible){if(t<=l+v)return c;o=c}l+=v}return o},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;t<0&&(t=0),t>1&&(t=1),e=e||{};var i=e.precision===void 0?this.PRECISION:e.precision,s=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:i}):e.segmentSubdivisions,a={precision:i,segmentSubdivisions:s},o=this.length(a),l=o*t;return this.tangentAtLength(l,a)},tangentAtLength:function(t,e){var n=this.segments,r=n.length;if(r===0)return null;var i=!0;t<0&&(i=!1,t=-t),e=e||{};for(var s=e.precision===void 0?this.PRECISION:e.precision,a=e.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:s}):e.segmentSubdivisions,o,l=0,u=0;u<r;u++){var c=i?u:r-1-u,f=n[c],d=a[c],v=f.length({precision:s,subdivisions:d});if(f.isDifferentiable()){if(t<=l+v)return f.tangentAtLength((i?1:-1)*(t-l),{precision:s,subdivisions:d});o=f}l+=v}if(o){var _=i?1:0;return o.tangentAtT(_)}return null},tangentAtT:function(t){var e=this.segments,n=e.length;if(n===0)return null;var r=t.segmentIndex;if(r<0)return e[0].tangentAtT(0);if(r>=n)return e[n-1].tangentAtT(1);var i=t.value;return i<0?i=0:i>1&&(i=1),e[r].tangentAtT(i)},toPoints:function(t){var e=this.segments,n=e.length;if(n===0)return null;t=t||{};for(var r=t.precision===void 0?this.PRECISION:t.precision,i=t.segmentSubdivisions===void 0?this.getSegmentSubdivisions({precision:r}):t.segmentSubdivisions,s=[],a=[],o=0;o<n;o++){var l=e[o];if(l.isVisible){var u=i[o];if(u.length>0){var c=u.map(function(f){return f.start});Array.prototype.push.apply(a,c)}else a.push(l.start)}else a.length>0&&(a.push(e[o-1].end),s.push(a),a=[])}return a.length>0&&(a.push(this.end),s.push(a)),s},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var r=0,i=n.length;r<i;r++)e.push(new hr(n[r]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",r=0;r<e;r++){var i=t[r];n+=i.serialize()+" "}return n.trim()},translate:function(t,e){for(var n=this.segments,r=n.length,i=0;i<r;i++){var s=n[i];s.translate(t,e)}return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)e?t.subpathStartSegment=e.subpathStartSegment:t.subpathStartSegment=null,e=t,t=t.nextSegment},validate:function(){return this.isValid()||this.insertSegment(0,wt.createSegment("M",0,0)),this}};Object.defineProperty(wt.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=0;n<e;n++){var r=t[n];if(r.isVisible)return r.start}return t[e-1].end}});Object.defineProperty(wt.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(e===0)return null;for(var n=e-1;n>=0;n--){var r=t[n];if(r.isVisible)return r.end}return t[e-1].end}});function zl(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}var Ah={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return t>=1?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,round:function(){throw new Error("Declaration missing for virtual function.")},subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(Ah,"end",{configurable:!0,enumerable:!0,writable:!0});Object.defineProperty(Ah,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}});Object.defineProperty(Ah,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});var qi=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof qi))return zl(qi,t);if(e===0)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof pt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new we(+t[0],+t[1]),this;if(e<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=2)i=t.slice(n,n+2),r.push(zl(qi,i));return r}else{if(e===1)return this.end=new we(t[0]),this;var s;for(r=[],n=0;n<e;n+=1)s=t[n],r.push(new qi(s));return r}},iU={clone:function(){return new qi(this.end)},divideAt:function(t){var e=new pt(this.start,this.end),n=e.divideAt(t);return[new qi(n[0]),new qi(n[1])]},divideAtLength:function(t){var e=new pt(this.start,this.end),n=e.divideAtLength(t);return[new qi(n[0]),new qi(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return this.previousSegment?!this.start.equals(this.end):!1},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(iU,"type",{configurable:!0,enumerable:!0,value:"L"});qi.prototype=Cv(Ah,pt.prototype,iU);var ka=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof ka))return zl(ka,t);if(e===0)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");var r;if(t[0]instanceof qn){if(e===1)return this.controlPoint1=t[0].controlPoint1.clone(),this.controlPoint2=t[0].controlPoint2.clone(),this.end=t[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===6)return this.controlPoint1=new we(+t[0],+t[1]),this.controlPoint2=new we(+t[2],+t[3]),this.end=new we(+t[4],+t[5]),this;if(e<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=6)i=t.slice(n,n+6),r.push(zl(ka,i));return r}else{if(e===3)return this.controlPoint1=new we(t[0]),this.controlPoint2=new we(t[1]),this.end=new we(t[2]),this;if(e<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+e+" points provided).");var s;for(r=[],n=0;n<e;n+=3)s=t.slice(n,n+3),r.push(zl(ka,s));return r}},sU={clone:function(){return new ka(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){var n=new qn(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAt(t,e);return[new ka(r[0]),new ka(r[1])]},divideAtLength:function(t,e){var n=new qn(this.start,this.controlPoint1,this.controlPoint2,this.end),r=n.divideAtLength(t,e);return[new ka(r[0]),new ka(r[1])]},divideAtT:function(t){var e=new qn(this.start,this.controlPoint1,this.controlPoint2,this.end),n=e.divideAtT(t);return[new ka(n[0]),new ka(n[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(r))},round:function(t){return this.controlPoint1.round(t),this.controlPoint2.round(t),this.end.round(t),this},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(sU,"type",{configurable:!0,enumerable:!0,value:"C"});ka.prototype=Cv(Ah,qn.prototype,sU);var Xf=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof Xf))return zl(Xf,t);if(e===0)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");var r;if(t[0]instanceof pt){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" lines provided).")}else if(t[0]instanceof qn){if(e===1)return this.end=t[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" curves provided).")}else if(typeof t[0]=="string"||typeof t[0]=="number"){if(e===2)return this.end=new we(+t[0],+t[1]),this;if(e<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+e+" coordinates provided).");var i;for(r=[],n=0;n<e;n+=2)i=t.slice(n,n+2),n===0?r.push(zl(Xf,i)):r.push(zl(qi,i));return r}else{if(e===1)return this.end=new we(t[0]),this;var s;for(r=[],n=0;n<e;n+=1)s=t[n],n===0?r.push(new Xf(s)):r.push(new qi(s));return r}},fk={bbox:function(){return null},clone:function(){return new Xf(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},round:function(t){return this.end.round(t),this},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(fk,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}});Object.defineProperty(fk,"type",{configurable:!0,enumerable:!0,value:"M"});Xf.prototype=Cv(Ah,fk);var fp=function(){for(var t=[],e=arguments.length,n=0;n<e;n++)t.push(arguments[n]);if(!(this instanceof fp))return zl(fp,t);if(e>0)throw new Error("Closepath constructor expects no arguments.");return this},hk={clone:function(){return new fp},divideAt:function(t){var e=new pt(this.start,this.end),n=e.divideAt(t);return[n[1].isDifferentiable()?new qi(n[0]):this.clone(),new qi(n[1])]},divideAtLength:function(t){var e=new pt(this.start,this.end),n=e.divideAtLength(t);return[n[1].isDifferentiable()?new qi(n[0]):this.clone(),new qi(n[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!this.previousSegment||!this.subpathStartSegment?!1:!this.start.equals(this.end)},round:function(){return this},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(hk,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}});Object.defineProperty(hk,"type",{configurable:!0,enumerable:!0,value:"Z"});fp.prototype=Cv(Ah,pt.prototype,hk);var T6e=wt.segmentTypes={L:qi,C:ka,M:Xf,Z:fp,z:fp};wt.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(T6e).join("")+",.]*$");wt.isDataSupported=function(t){return typeof t!="string"?!1:this.regexSupportedData.test(t)};const C6e={curveThroughPoints:function(t){return console.warn("deprecated"),new wt(qn.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],r=t.length-1,i;if(r==1)return e[0]=new we((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new we(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];var s=[];for(i=1;i<r-1;i++)s[i]=4*t[i].x+2*t[i+1].x;s[0]=t[0].x+2*t[1].x,s[r-1]=(8*t[r-1].x+t[r].x)/2;var a=this.getFirstControlPoints(s);for(i=1;i<r-1;++i)s[i]=4*t[i].y+2*t[i+1].y;s[0]=t[0].y+2*t[1].y,s[r-1]=(8*t[r-1].y+t[r].y)/2;var o=this.getFirstControlPoints(s);for(i=0;i<r;i++)e.push(new we(a[i],o[i])),i<r-1?n.push(new we(2*t[i+1].x-a[i+1],2*t[i+1].y-o[i+1])):n.push(new we((t[r].x+a[r-1])/2,(t[r].y+o[r-1])/2));return[e,n]},getCurveDivider:function(t,e,n,r){console.warn("deprecated");var i=new qn(t,e,n,r);return function(a){var o=i.divide(a);return[{p0:o[0].start,p1:o[0].controlPoint1,p2:o[0].controlPoint2,p3:o[0].end},{p0:o[1].start,p1:o[1].controlPoint1,p2:o[1].controlPoint2,p3:o[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],r=[],i=2;n[0]=t[0]/i;for(var s=1;s<e;s++)r[s]=1/i,i=(s<e-1?4:3.5)-r[s],n[s]=(t[s]-n[s-1])/i;for(s=1;s<e;s++)n[e-s-1]-=r[e-s]*n[e-s];return n},getInversionSolver:function(t,e,n,r){console.warn("deprecated");var i=new qn(t,e,n,r);return function(a){return i.closestPointT(a)}}},fa=function(t){if(!(this instanceof fa))return new fa(t);if(typeof t=="string")return new fa.parse(t);this.points=Array.isArray(t)?t.map(we):[]};fa.parse=function(t){return new fa(tU(t))};fa.fromRect=function(t){return new fa([t.topLeft(),t.topRight(),t.bottomRight(),t.bottomLeft()])};fa.prototype=Cv(hr.prototype,{type:an.Polygon,clone:function(){return new fa(nU(this.points))},convexHull:function(){return new fa(rU(this.points))},lengthPoints:function(){const{start:t,end:e,points:n}=this;return n.length<=1||t.equals(e)?n:[...n,t.clone()]}});function aU(t,e,n,r){switch(t.type){case an.Line:{switch(e.type){case an.Line:return Qf(t,e)}break}case an.Ellipse:{switch(e.type){case an.Line:return dk(t,e);case an.Ellipse:return oU(t,e)}break}case an.Rect:{switch(e.type){case an.Line:return lU(t,e);case an.Ellipse:return uU(t,e);case an.Rect:return pk(t,e)}break}case an.Polyline:{switch(e.type){case an.Line:return Ew(t,e);case an.Ellipse:return mk(t,e);case an.Rect:return cU(t,e);case an.Polyline:return fU(t,e)}break}case an.Polygon:{switch(e.type){case an.Line:return gk(t,e);case an.Ellipse:return $w(t,e);case an.Rect:return hU(t,e);case an.Polyline:return dU(t,e);case an.Polygon:return pU(t,e)}break}case an.Path:{switch(e.type){case an.Line:return mU(t,e,n);case an.Ellipse:return gU(t,e,n);case an.Rect:return vU(t,e,n);case an.Polyline:return vk(t,e,n);case an.Polygon:return Aw(t,e,n);case an.Path:return yU(t,e,n,r)}break}}switch(e.type){case an.Ellipse:case an.Rect:case an.Polyline:case an.Polygon:case an.Path:return aU(e,t,r,n);default:throw Error(`The intersection for ${t} and ${e} could not be found.`)}}function Qf(t,e){const n=t.start.x,r=t.start.y,i=t.end.x,s=t.end.y,a=e.start.x,o=e.start.y,l=e.end.x,u=e.end.y,c=i-n,f=s-r,d=l-a,v=u-o,_=n-a,S=r-o,b=c*v-d*f,y=(c*S-f*_)/b,A=(d*S-v*_)/b;return y>=0&&y<=1&&A>=0&&A<=1}function dk(t,e){const n=t.a,r=t.b,i=t.x,s=t.y,a=e.start.x-i,o=e.end.x-i,l=e.start.y-s,u=e.end.y-s,c=n*n,f=r*r,d=o-a,v=u-l,_=d*d/c+v*v/f,S=2*a*d/c+2*l*v/f,b=a*a/c+l*l/f-1,y=S*S-4*_*b;if(y===0){const A=-S/2/_;return A>=0&&A<=1}else if(y>0){const A=Math.sqrt(y),R=(-S+A)/2/_,M=(-S-A)/2/_;return R>=0&&R<=1||M>=0&&M<=1}return!1}function oU(t,e){return k6e(t,0,e,0)}function lU(t,e){const{start:n,end:r}=e,{x:i,y:s,width:a,height:o}=t;return n.x>i+a&&r.x>i+a||n.x<i&&r.x<i||n.y>s+o&&r.y>s+o||n.y<s&&r.y<s?!1:t.containsPoint(e.start)||t.containsPoint(e.end)?!0:Qf(t.topLine(),e)||Qf(t.rightLine(),e)||Qf(t.bottomLine(),e)||Qf(t.leftLine(),e)}function uU(t,e){return pk(t,lt.fromEllipse(e))?$w(fa.fromRect(t),e):!1}function pk(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Ew(t,e){return _U(t,e,{interior:!1})}function mk(t,e){return bU(t,e,{interior:!1})}function cU(t,e){return wU(t,e,{interior:!1})}function fU(t,e){return Pw(t,e,{interior:!1})}function gk(t,e){return _U(t,e,{interior:!0})}function $w(t,e){return bU(t,e,{interior:!0})}function hU(t,e){return wU(t,e,{interior:!0})}function dU(t,e){return Pw(t,e,{interior:!0})}function pU(t,e){return yk(t,e,{interior:!0})}function mU(t,e,n){return t.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:s}=r.getSegment(-1);return s==="Z"?gk(i,e):Ew(i,e)})}function gU(t,e,n){return t.getSubpaths().some(r=>{const[i]=r.toPolylines(n),{type:s}=r.getSegment(-1);return s==="Z"?$w(i,e):mk(i,e)})}function vU(t,e,n){return Aw(t,fa.fromRect(e),n)}function vk(t,e,n){return SU(t,e,n,{interior:!1})}function Aw(t,e,n){return SU(t,e,n,{interior:!0})}function yU(t,e,n,r){return t.getSubpaths().some(i=>{const[s]=i.toPolylines(n),{type:a}=i.getSegment(-1);return a==="Z"?Aw(e,s,r):vk(e,s,r)})}function _U(t,e,n={}){const{interior:r=!1}=n;let i;if(r){if(t.containsPoint(e.start))return!0;const{start:o,end:l,points:u}=t;i=l.equals(o)?u:[...u,o]}else i=t.points;const{length:s}=i,a=new pt;for(let o=0;o<s-1;o++)if(a.start=i[o],a.end=i[o+1],Qf(e,a))return!0;return!1}function bU(t,e,n={}){const{start:r,end:i,points:s}=t;if(e.containsPoint(r))return!0;let a;const{interior:o=!1}=n;if(o){if(t.containsPoint(e.center()))return!0;a=i.equals(r)?s:[...s,r]}else a=s;const{length:l}=a,u=new pt;for(let c=0;c<l-1;c++)if(u.start=a[c],u.end=a[c+1],dk(e,u))return!0;return!1}function wU(t,e,n){const r=fa.fromRect(e);return yk(t,r,n)}function SU(t,e,n,r){return t.getSubpaths().some(i=>{const[s]=i.toPolylines(n),{type:a}=i.getSegment(-1);return a==="Z"?yk(e,s,r):Pw(e,s,r)})}function Pw(t,e,n={}){const{interior:r=!1}=n;let i;if(r){const{start:l}=e;if(t.containsPoint(l))return!0;i=t.clone().close()}else i=t;const s=e.points,{length:a}=s,o=new pt;for(let l=0;l<a-1;l++)if(o.start=s[l],o.end=s[l+1],Ew(i,o))return!0;return!1}function yk(t,e,n){return e.containsPoint(t.start)||Pw(t,e.clone().close(),n)}function k6e(t,e,n,r){const{cos:i,sin:s}=Math,a=s(e),o=i(e),l=s(r),u=i(r),c=a*a,f=o*o,d=a*o,v=l*l,_=u*u,S=l*u,b=t.a*t.a,y=t.b*t.b,A=n.a*n.a,R=n.b*n.b,M=b*c+y*f,$=A*v+R*_,p=b*f+y*c,x=A*_+R*v;let T=2*(y-b)*d,D=2*(R-A)*S,C=-2*M*t.x-T*t.y,U=-2*$*n.x-D*n.y,G=-T*t.x-2*p*t.y,se=-D*n.x-2*x*n.y;const re=M*t.x*t.x+p*t.y*t.y+T*t.x*t.y-b*y,ye=$*n.x*n.x+x*n.y*n.y+D*n.x*n.y-A*R;T=T/2,D=D/2,C=C/2,U=U/2,G=G/2,se=se/2;const Pe=uc([[M,T,C],[T,p,G],[C,G,re]]),Ae=uc([[$,D,U],[D,x,se],[U,se,ye]]),Ie=.33333333*(uc([[$,T,C],[D,p,G],[U,G,re]])+uc([[M,D,C],[T,x,G],[C,se,re]])+uc([[M,T,U],[T,p,se],[C,G,ye]])),Me=.33333333*(uc([[M,D,U],[T,x,se],[C,se,ye]])+uc([[$,T,U],[D,p,se],[U,G,ye]])+uc([[$,D,C],[D,x,G],[U,se,re]])),ae=ky([[Pe,Ie],[Ie,Me]]),H=ky([[Pe,Me],[Ie,Ae]]),X=ky([[Ie,Me],[Me,Ae]]);return!(ky([[2*ae,H],[H,2*X]])>0&&(Me>0||Ie>0))}function ky(t){return t[0][0]*t[1][1]-t[0][1]*t[1][0]}function uc(t){return t[0][0]*t[1][1]*t[2][2]-t[0][0]*t[1][2]*t[2][1]-t[0][1]*t[1][0]*t[2][2]+t[0][1]*t[1][2]*t[2][0]+t[0][2]*t[1][0]*t[2][1]-t[0][2]*t[1][1]*t[2][0]}const O6e=Object.freeze(Object.defineProperty({__proto__:null,ellipseWithEllipse:oU,ellipseWithLine:dk,exists:aU,lineWithLine:Qf,pathWithEllipse:gU,pathWithLine:mU,pathWithPath:yU,pathWithPolygon:Aw,pathWithPolyline:vk,pathWithRect:vU,polygonWithEllipse:$w,polygonWithLine:gk,polygonWithPolygon:pU,polygonWithPolyline:dU,polygonWithRect:hU,polylineWithEllipse:mk,polylineWithLine:Ew,polylineWithPolyline:fU,polylineWithRect:cU,rectWithEllipse:uU,rectWithLine:lU,rectWithRect:pk},Symbol.toStringTag,{value:"Module"})),R6e=O6e,M6e=Object.freeze(Object.defineProperty({__proto__:null,Curve:qn,Ellipse:Is,Line:pt,Path:wt,Point:we,Polygon:fa,Polyline:hr,Rect:lt,bezier:C6e,ellipse:S6e,intersection:R6e,line:sh,normalizeAngle:Gl,point:Yb,random:zA,rect:A6e,scale:v6e,snapToGrid:yh,toDeg:xw,toRad:ca,types:an},Symbol.toStringTag,{value:"Module"}));var xU={},yE={exports:{}},aF;function N6e(){return aF||(aF=1,function(t,e){(function(n,r){t.exports=r()})(gr,function(){var n="1.13.6",r=typeof self=="object"&&self.self===self&&self||typeof gr=="object"&&gr.global===gr&&gr||Function("return this")()||{},i=Array.prototype,s=Object.prototype,a=typeof Symbol<"u"?Symbol.prototype:null,o=i.push,l=i.slice,u=s.toString,c=s.hasOwnProperty,f=typeof ArrayBuffer<"u",d=typeof DataView<"u",v=Array.isArray,_=Object.keys,S=Object.create,b=f&&ArrayBuffer.isView,y=isNaN,A=isFinite,R=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function p(z,Z){return Z=Z==null?z.length-1:+Z,function(){for(var fe=Math.max(arguments.length-Z,0),he=Array(fe),g=0;g<fe;g++)he[g]=arguments[g+Z];switch(Z){case 0:return z.call(this,he);case 1:return z.call(this,arguments[0],he);case 2:return z.call(this,arguments[0],arguments[1],he)}var w=Array(Z+1);for(g=0;g<Z;g++)w[g]=arguments[g];return w[Z]=he,z.apply(this,w)}}function x(z){var Z=typeof z;return Z==="function"||Z==="object"&&!!z}function T(z){return z===void 0}function D(z){return z===!0||z===!1||u.call(z)==="[object Boolean]"}function C(z){var Z="[object "+z+"]";return function(fe){return u.call(fe)===Z}}var U=C("String"),G=C("Number"),se=C("Date"),re=C("RegExp"),ye=C("Error"),Pe=C("Symbol"),Ae=C("ArrayBuffer"),Ie=C("Function"),Me=r.document&&r.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof Me!="function"&&(Ie=function(z){return typeof z=="function"||!1});var ae=Ie,H=C("Object"),X=d&&H(new DataView(new ArrayBuffer(8))),V=typeof Map<"u"&&H(new Map),k=C("DataView"),I=X?function(z){return z!=null&&ae(z.getInt8)&&Ae(z.buffer)}:k,J=v||C("Array");function ue(z,Z){return z!=null&&c.call(z,Z)}var _e=C("Arguments");(function(){_e(arguments)||(_e=function(z){return ue(z,"callee")})})();var ke=_e;function Ve(z){return G(z)&&y(z)}function We(z){return function(){return z}}function Y(z){return function(Z){var fe=z(Z);return typeof fe=="number"&&fe>=0&&fe<=$}}function Q(z){return function(Z){return Z==null?void 0:Z[z]}}var N=Q("byteLength"),F=Y(N),q=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,ie=f?function(z){return b?b(z)&&!I(z):F(z)&&q.test(u.call(z))}:We(!1),ge=Q("length");function ve(z,Z){Z=function(P){for(var O={},j=P.length,B=0;B<j;++B)O[P[B]]=!0;return{contains:function(K){return O[K]===!0},push:function(K){return O[K]=!0,P.push(K)}}}(Z);var fe=M.length,he=z.constructor,g=ae(he)&&he.prototype||s,w="constructor";for(ue(z,w)&&!Z.contains(w)&&Z.push(w);fe--;)(w=M[fe])in z&&z[w]!==g[w]&&!Z.contains(w)&&Z.push(w)}function Te(z){if(!x(z))return[];if(_)return _(z);var Z=[];for(var fe in z)ue(z,fe)&&Z.push(fe);return R&&ve(z,Z),Z}function Ne(z,Z){var fe=Te(Z),he=fe.length;if(z==null)return!he;for(var g=Object(z),w=0;w<he;w++){var P=fe[w];if(Z[P]!==g[P]||!(P in g))return!1}return!0}function Be(z){return z instanceof Be?z:this instanceof Be?void(this._wrapped=z):new Be(z)}function Xe(z){return new Uint8Array(z.buffer||z,z.byteOffset||0,N(z))}Be.VERSION=n,Be.prototype.value=function(){return this._wrapped},Be.prototype.valueOf=Be.prototype.toJSON=Be.prototype.value,Be.prototype.toString=function(){return String(this._wrapped)};var Je="[object DataView]";function Ze(z,Z,fe,he){if(z===Z)return z!==0||1/z==1/Z;if(z==null||Z==null)return!1;if(z!=z)return Z!=Z;var g=typeof z;return(g==="function"||g==="object"||typeof Z=="object")&&function w(P,O,j,B){P instanceof Be&&(P=P._wrapped),O instanceof Be&&(O=O._wrapped);var K=u.call(P);if(K!==u.call(O))return!1;if(X&&K=="[object Object]"&&I(P)){if(!I(O))return!1;K=Je}switch(K){case"[object RegExp]":case"[object String]":return""+P==""+O;case"[object Number]":return+P!=+P?+O!=+O:+P==0?1/+P==1/O:+P==+O;case"[object Date]":case"[object Boolean]":return+P==+O;case"[object Symbol]":return a.valueOf.call(P)===a.valueOf.call(O);case"[object ArrayBuffer]":case Je:return w(Xe(P),Xe(O),j,B)}var pe=K==="[object Array]";if(!pe&&ie(P)){if(N(P)!==N(O))return!1;if(P.buffer===O.buffer&&P.byteOffset===O.byteOffset)return!0;pe=!0}if(!pe){if(typeof P!="object"||typeof O!="object")return!1;var ce=P.constructor,Ce=O.constructor;if(ce!==Ce&&!(ae(ce)&&ce instanceof ce&&ae(Ce)&&Ce instanceof Ce)&&"constructor"in P&&"constructor"in O)return!1}B=B||[];for(var Fe=(j=j||[]).length;Fe--;)if(j[Fe]===P)return B[Fe]===O;if(j.push(P),B.push(O),pe){if((Fe=P.length)!==O.length)return!1;for(;Fe--;)if(!Ze(P[Fe],O[Fe],j,B))return!1}else{var Qe,Le=Te(P);if(Fe=Le.length,Te(O).length!==Fe)return!1;for(;Fe--;)if(Qe=Le[Fe],!ue(O,Qe)||!Ze(P[Qe],O[Qe],j,B))return!1}return j.pop(),B.pop(),!0}(z,Z,fe,he)}function ut(z){if(!x(z))return[];var Z=[];for(var fe in z)Z.push(fe);return R&&ve(z,Z),Z}function xt(z){var Z=ge(z);return function(fe){if(fe==null)return!1;var he=ut(fe);if(ge(he))return!1;for(var g=0;g<Z;g++)if(!ae(fe[z[g]]))return!1;return z!==Zn||!ae(fe[Ot])}}var Ot="forEach",mt="has",zt=["clear","delete"],Hn=["get",mt,"set"],Cr=zt.concat(Ot,Hn),Zn=zt.concat(Hn),ci=["add"].concat(zt,Ot,mt),er=V?xt(Cr):C("Map"),yn=V?xt(Zn):C("WeakMap"),_n=V?xt(ci):C("Set"),Yi=C("WeakSet");function vs(z){for(var Z=Te(z),fe=Z.length,he=Array(fe),g=0;g<fe;g++)he[g]=z[Z[g]];return he}function Fa(z){for(var Z={},fe=Te(z),he=0,g=fe.length;he<g;he++)Z[z[fe[he]]]=fe[he];return Z}function Fs(z){var Z=[];for(var fe in z)ae(z[fe])&&Z.push(fe);return Z.sort()}function ki(z,Z){return function(fe){var he=arguments.length;if(Z&&(fe=Object(fe)),he<2||fe==null)return fe;for(var g=1;g<he;g++)for(var w=arguments[g],P=z(w),O=P.length,j=0;j<O;j++){var B=P[j];Z&&fe[B]!==void 0||(fe[B]=w[B])}return fe}}var Lr=ki(ut),ys=ki(Te),Uu=ki(ut,!0);function Ao(z){if(!x(z))return{};if(S)return S(z);var Z=function(){};Z.prototype=z;var fe=new Z;return Z.prototype=null,fe}function ja(z){return J(z)?z:[z]}function va(z){return Be.toPath(z)}function ol(z,Z){for(var fe=Z.length,he=0;he<fe;he++){if(z==null)return;z=z[Z[he]]}return fe?z:void 0}function qu(z,Z,fe){var he=ol(z,va(Z));return T(he)?fe:he}function ya(z){return z}function Po(z){return z=ys({},z),function(Z){return Ne(Z,z)}}function Ba(z){return z=va(z),function(Z){return ol(Z,z)}}function be(z,Z,fe){if(Z===void 0)return z;switch(fe??3){case 1:return function(he){return z.call(Z,he)};case 3:return function(he,g,w){return z.call(Z,he,g,w)};case 4:return function(he,g,w,P){return z.call(Z,he,g,w,P)}}return function(){return z.apply(Z,arguments)}}function oe(z,Z,fe){return z==null?ya:ae(z)?be(z,Z,fe):x(z)&&!J(z)?Po(z):Ba(z)}function Se(z,Z){return oe(z,Z,1/0)}function De(z,Z,fe){return Be.iteratee!==Se?Be.iteratee(z,Z):oe(z,Z,fe)}function je(){}function bt(z,Z){return Z==null&&(Z=z,z=0),z+Math.floor(Math.random()*(Z-z+1))}Be.toPath=ja,Be.iteratee=Se;var gt=Date.now||function(){return new Date().getTime()};function nn(z){var Z=function(w){return z[w]},fe="(?:"+Te(z).join("|")+")",he=RegExp(fe),g=RegExp(fe,"g");return function(w){return w=w==null?"":""+w,he.test(w)?w.replace(g,Z):w}}var Dn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},nr=nn(Dn),rn=nn(Fa(Dn)),En=Be.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Yn=/(.)^/,jt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Wn=/\\|'|\r|\n|\u2028|\u2029/g;function Jn(z){return"\\"+jt[z]}var Xn=/^\s*(\w|\$)+\s*$/,fi=0;function Oi(z,Z,fe,he,g){if(!(he instanceof Z))return z.apply(fe,g);var w=Ao(z.prototype),P=z.apply(w,g);return x(P)?P:w}var Hr=p(function(z,Z){var fe=Hr.placeholder,he=function(){for(var g=0,w=Z.length,P=Array(w),O=0;O<w;O++)P[O]=Z[O]===fe?arguments[g++]:Z[O];for(;g<arguments.length;)P.push(arguments[g++]);return Oi(z,he,this,this,P)};return he});Hr.placeholder=Be;var js=p(function(z,Z,fe){if(!ae(z))throw new TypeError("Bind must be called on a function");var he=p(function(g){return Oi(z,he,Z,this,fe.concat(g))});return he}),ar=Y(ge);function or(z,Z,fe,he){if(he=he||[],Z||Z===0){if(Z<=0)return he.concat(z)}else Z=1/0;for(var g=he.length,w=0,P=ge(z);w<P;w++){var O=z[w];if(ar(O)&&(J(O)||ke(O)))if(Z>1)or(O,Z-1,fe,he),g=he.length;else for(var j=0,B=O.length;j<B;)he[g++]=O[j++];else fe||(he[g++]=O)}return he}var wi=p(function(z,Z){var fe=(Z=or(Z,!1,!1)).length;if(fe<1)throw new Error("bindAll must be passed function names");for(;fe--;){var he=Z[fe];z[he]=js(z[he],z)}return z}),lr=p(function(z,Z,fe){return setTimeout(function(){return z.apply(null,fe)},Z)}),ri=Hr(lr,Be,1);function Ji(z){return function(){return!z.apply(this,arguments)}}function Zl(z,Z){var fe;return function(){return--z>0&&(fe=Z.apply(this,arguments)),z<=1&&(Z=null),fe}}var eu=Hr(Zl,2);function Bs(z,Z,fe){Z=De(Z,fe);for(var he,g=Te(z),w=0,P=g.length;w<P;w++)if(Z(z[he=g[w]],he,z))return he}function _a(z){return function(Z,fe,he){fe=De(fe,he);for(var g=ge(Z),w=z>0?0:g-1;w>=0&&w<g;w+=z)if(fe(Z[w],w,Z))return w;return-1}}var Ri=_a(1),ll=_a(-1);function ul(z,Z,fe,he){for(var g=(fe=De(fe,he,1))(Z),w=0,P=ge(z);w<P;){var O=Math.floor((w+P)/2);fe(z[O])<g?w=O+1:P=O}return w}function _s(z,Z,fe){return function(he,g,w){var P=0,O=ge(he);if(typeof w=="number")z>0?P=w>=0?w:Math.max(w+O,P):O=w>=0?Math.min(w+1,O):w+O+1;else if(fe&&w&&O)return he[w=fe(he,g)]===g?w:-1;if(g!=g)return(w=Z(l.call(he,P,O),Ve))>=0?w+P:-1;for(w=z>0?P:O-1;w>=0&&w<O;w+=z)if(he[w]===g)return w;return-1}}var Mi=_s(1,Ri,ul),kh=_s(-1,ll);function Va(z,Z,fe){var he=(ar(z)?Ri:Bs)(z,Z,fe);if(he!==void 0&&he!==-1)return z[he]}function Vs(z,Z,fe){var he,g;if(Z=be(Z,fe),ar(z))for(he=0,g=z.length;he<g;he++)Z(z[he],he,z);else{var w=Te(z);for(he=0,g=w.length;he<g;he++)Z(z[w[he]],w[he],z)}return z}function ba(z,Z,fe){Z=De(Z,fe);for(var he=!ar(z)&&Te(z),g=(he||z).length,w=Array(g),P=0;P<g;P++){var O=he?he[P]:P;w[P]=Z(z[O],O,z)}return w}function za(z){var Z=function(fe,he,g,w){var P=!ar(fe)&&Te(fe),O=(P||fe).length,j=z>0?0:O-1;for(w||(g=fe[P?P[j]:j],j+=z);j>=0&&j<O;j+=z){var B=P?P[j]:j;g=he(g,fe[B],B,fe)}return g};return function(fe,he,g,w){var P=arguments.length>=3;return Z(fe,be(he,w,4),g,P)}}var zs=za(1),cl=za(-1);function Ua(z,Z,fe){var he=[];return Z=De(Z,fe),Vs(z,function(g,w,P){Z(g,w,P)&&he.push(g)}),he}function qa(z,Z,fe){Z=De(Z,fe);for(var he=!ar(z)&&Te(z),g=(he||z).length,w=0;w<g;w++){var P=he?he[w]:w;if(!Z(z[P],P,z))return!1}return!0}function Hu(z,Z,fe){Z=De(Z,fe);for(var he=!ar(z)&&Te(z),g=(he||z).length,w=0;w<g;w++){var P=he?he[w]:w;if(Z(z[P],P,z))return!0}return!1}function Si(z,Z,fe,he){return ar(z)||(z=vs(z)),(typeof fe!="number"||he)&&(fe=0),Mi(z,Z,fe)>=0}var Oh=p(function(z,Z,fe){var he,g;return ae(Z)?g=Z:(Z=va(Z),he=Z.slice(0,-1),Z=Z[Z.length-1]),ba(z,function(w){var P=g;if(!P){if(he&&he.length&&(w=ol(w,he)),w==null)return;P=w[Z]}return P==null?P:P.apply(w,fe)})});function fl(z,Z){return ba(z,Ba(Z))}function nf(z,Z,fe){var he,g,w=-1/0,P=-1/0;if(Z==null||typeof Z=="number"&&typeof z[0]!="object"&&z!=null)for(var O=0,j=(z=ar(z)?z:vs(z)).length;O<j;O++)(he=z[O])!=null&&he>w&&(w=he);else Z=De(Z,fe),Vs(z,function(B,K,pe){((g=Z(B,K,pe))>P||g===-1/0&&w===-1/0)&&(w=B,P=g)});return w}var rf=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function sf(z){return z?J(z)?l.call(z):U(z)?z.match(rf):ar(z)?ba(z,ya):vs(z):[]}function Rh(z,Z,fe){if(Z==null||fe)return ar(z)||(z=vs(z)),z[bt(z.length-1)];var he=sf(z),g=ge(he);Z=Math.max(Math.min(Z,g),0);for(var w=g-1,P=0;P<Z;P++){var O=bt(P,w),j=he[P];he[P]=he[O],he[O]=j}return he.slice(0,Z)}function hl(z,Z){return function(fe,he,g){var w=Z?[[],[]]:{};return he=De(he,g),Vs(fe,function(P,O){var j=he(P,O,fe);z(w,P,j)}),w}}var Lp=hl(function(z,Z,fe){ue(z,fe)?z[fe].push(Z):z[fe]=[Z]}),Mh=hl(function(z,Z,fe){z[fe]=Z}),Fp=hl(function(z,Z,fe){ue(z,fe)?z[fe]++:z[fe]=1}),jp=hl(function(z,Z,fe){z[fe?0:1].push(Z)},!0);function Bp(z,Z,fe){return Z in fe}var Nh=p(function(z,Z){var fe={},he=Z[0];if(z==null)return fe;ae(he)?(Z.length>1&&(he=be(he,Z[1])),Z=ut(z)):(he=Bp,Z=or(Z,!1,!1),z=Object(z));for(var g=0,w=Z.length;g<w;g++){var P=Z[g],O=z[P];he(O,P,z)&&(fe[P]=O)}return fe}),af=p(function(z,Z){var fe,he=Z[0];return ae(he)?(he=Ji(he),Z.length>1&&(fe=Z[1])):(Z=ba(or(Z,!1,!1),String),he=function(g,w){return!Si(Z,w)}),Nh(z,he,fe)});function of(z,Z,fe){return l.call(z,0,Math.max(0,z.length-(Z==null||fe?1:Z)))}function tu(z,Z,fe){return z==null||z.length<1?Z==null||fe?void 0:[]:Z==null||fe?z[0]:of(z,z.length-Z)}function nu(z,Z,fe){return l.call(z,Z==null||fe?1:Z)}var Wu=p(function(z,Z){return Z=or(Z,!0,!0),Ua(z,function(fe){return!Si(Z,fe)})}),Ih=p(function(z,Z){return Wu(z,Z)});function Vn(z,Z,fe,he){D(Z)||(he=fe,fe=Z,Z=!1),fe!=null&&(fe=De(fe,he));for(var g=[],w=[],P=0,O=ge(z);P<O;P++){var j=z[P],B=fe?fe(j,P,z):j;Z&&!fe?(P&&w===B||g.push(j),w=B):fe?Si(w,B)||(w.push(B),g.push(j)):Si(g,j)||g.push(j)}return g}var zn=p(function(z){return Vn(or(z,!0,!0))});function lf(z){for(var Z=z&&nf(z,ge).length||0,fe=Array(Z),he=0;he<Z;he++)fe[he]=fl(z,he);return fe}var Vp=p(lf);function uf(z,Z){return z._chain?Be(Z).chain():Z}function dl(z){return Vs(Fs(z),function(Z){var fe=Be[Z]=z[Z];Be.prototype[Z]=function(){var he=[this._wrapped];return o.apply(he,arguments),uf(this,fe.apply(Be,he))}}),Be}Vs(["pop","push","reverse","shift","sort","splice","unshift"],function(z){var Z=i[z];Be.prototype[z]=function(){var fe=this._wrapped;return fe!=null&&(Z.apply(fe,arguments),z!=="shift"&&z!=="splice"||fe.length!==0||delete fe[0]),uf(this,fe)}}),Vs(["concat","join","slice"],function(z){var Z=i[z];Be.prototype[z]=function(){var fe=this._wrapped;return fe!=null&&(fe=Z.apply(fe,arguments)),uf(this,fe)}});var Gu=dl({__proto__:null,VERSION:n,restArguments:p,isObject:x,isNull:function(z){return z===null},isUndefined:T,isBoolean:D,isElement:function(z){return!(!z||z.nodeType!==1)},isString:U,isNumber:G,isDate:se,isRegExp:re,isError:ye,isSymbol:Pe,isArrayBuffer:Ae,isDataView:I,isArray:J,isFunction:ae,isArguments:ke,isFinite:function(z){return!Pe(z)&&A(z)&&!isNaN(parseFloat(z))},isNaN:Ve,isTypedArray:ie,isEmpty:function(z){if(z==null)return!0;var Z=ge(z);return typeof Z=="number"&&(J(z)||U(z)||ke(z))?Z===0:ge(Te(z))===0},isMatch:Ne,isEqual:function(z,Z){return Ze(z,Z)},isMap:er,isWeakMap:yn,isSet:_n,isWeakSet:Yi,keys:Te,allKeys:ut,values:vs,pairs:function(z){for(var Z=Te(z),fe=Z.length,he=Array(fe),g=0;g<fe;g++)he[g]=[Z[g],z[Z[g]]];return he},invert:Fa,functions:Fs,methods:Fs,extend:Lr,extendOwn:ys,assign:ys,defaults:Uu,create:function(z,Z){var fe=Ao(z);return Z&&ys(fe,Z),fe},clone:function(z){return x(z)?J(z)?z.slice():Lr({},z):z},tap:function(z,Z){return Z(z),z},get:qu,has:function(z,Z){for(var fe=(Z=va(Z)).length,he=0;he<fe;he++){var g=Z[he];if(!ue(z,g))return!1;z=z[g]}return!!fe},mapObject:function(z,Z,fe){Z=De(Z,fe);for(var he=Te(z),g=he.length,w={},P=0;P<g;P++){var O=he[P];w[O]=Z(z[O],O,z)}return w},identity:ya,constant:We,noop:je,toPath:ja,property:Ba,propertyOf:function(z){return z==null?je:function(Z){return qu(z,Z)}},matcher:Po,matches:Po,times:function(z,Z,fe){var he=Array(Math.max(0,z));Z=be(Z,fe,1);for(var g=0;g<z;g++)he[g]=Z(g);return he},random:bt,now:gt,escape:nr,unescape:rn,templateSettings:En,template:function(z,Z,fe){!Z&&fe&&(Z=fe),Z=Uu({},Z,Be.templateSettings);var he=RegExp([(Z.escape||Yn).source,(Z.interpolate||Yn).source,(Z.evaluate||Yn).source].join("|")+"|$","g"),g=0,w="__p+='";z.replace(he,function(B,K,pe,ce,Ce){return w+=z.slice(g,Ce).replace(Wn,Jn),g=Ce+B.length,K?w+=`'+
((__t=(`+K+`))==null?'':_.escape(__t))+
'`:pe?w+=`'+
((__t=(`+pe+`))==null?'':__t)+
'`:ce&&(w+=`';
`+ce+`
__p+='`),B}),w+=`';
`;var P,O=Z.variable;if(O){if(!Xn.test(O))throw new Error("variable is not a bare identifier: "+O)}else w=`with(obj||{}){
`+w+`}
`,O="obj";w=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+w+`return __p;
`;try{P=new Function(O,"_",w)}catch(B){throw B.source=w,B}var j=function(B){return P.call(this,B,Be)};return j.source="function("+O+`){
`+w+"}",j},result:function(z,Z,fe){var he=(Z=va(Z)).length;if(!he)return ae(fe)?fe.call(z):fe;for(var g=0;g<he;g++){var w=z==null?void 0:z[Z[g]];w===void 0&&(w=fe,g=he),z=ae(w)?w.call(z):w}return z},uniqueId:function(z){var Z=++fi+"";return z?z+Z:Z},chain:function(z){var Z=Be(z);return Z._chain=!0,Z},iteratee:Se,partial:Hr,bind:js,bindAll:wi,memoize:function(z,Z){var fe=function(he){var g=fe.cache,w=""+(Z?Z.apply(this,arguments):he);return ue(g,w)||(g[w]=z.apply(this,arguments)),g[w]};return fe.cache={},fe},delay:lr,defer:ri,throttle:function(z,Z,fe){var he,g,w,P,O=0;fe||(fe={});var j=function(){O=fe.leading===!1?0:gt(),he=null,P=z.apply(g,w),he||(g=w=null)},B=function(){var K=gt();O||fe.leading!==!1||(O=K);var pe=Z-(K-O);return g=this,w=arguments,pe<=0||pe>Z?(he&&(clearTimeout(he),he=null),O=K,P=z.apply(g,w),he||(g=w=null)):he||fe.trailing===!1||(he=setTimeout(j,pe)),P};return B.cancel=function(){clearTimeout(he),O=0,he=g=w=null},B},debounce:function(z,Z,fe){var he,g,w,P,O,j=function(){var K=gt()-g;Z>K?he=setTimeout(j,Z-K):(he=null,fe||(P=z.apply(O,w)),he||(w=O=null))},B=p(function(K){return O=this,w=K,g=gt(),he||(he=setTimeout(j,Z),fe&&(P=z.apply(O,w))),P});return B.cancel=function(){clearTimeout(he),he=w=O=null},B},wrap:function(z,Z){return Hr(Z,z)},negate:Ji,compose:function(){var z=arguments,Z=z.length-1;return function(){for(var fe=Z,he=z[Z].apply(this,arguments);fe--;)he=z[fe].call(this,he);return he}},after:function(z,Z){return function(){if(--z<1)return Z.apply(this,arguments)}},before:Zl,once:eu,findKey:Bs,findIndex:Ri,findLastIndex:ll,sortedIndex:ul,indexOf:Mi,lastIndexOf:kh,find:Va,detect:Va,findWhere:function(z,Z){return Va(z,Po(Z))},each:Vs,forEach:Vs,map:ba,collect:ba,reduce:zs,foldl:zs,inject:zs,reduceRight:cl,foldr:cl,filter:Ua,select:Ua,reject:function(z,Z,fe){return Ua(z,Ji(De(Z)),fe)},every:qa,all:qa,some:Hu,any:Hu,contains:Si,includes:Si,include:Si,invoke:Oh,pluck:fl,where:function(z,Z){return Ua(z,Po(Z))},max:nf,min:function(z,Z,fe){var he,g,w=1/0,P=1/0;if(Z==null||typeof Z=="number"&&typeof z[0]!="object"&&z!=null)for(var O=0,j=(z=ar(z)?z:vs(z)).length;O<j;O++)(he=z[O])!=null&&he<w&&(w=he);else Z=De(Z,fe),Vs(z,function(B,K,pe){((g=Z(B,K,pe))<P||g===1/0&&w===1/0)&&(w=B,P=g)});return w},shuffle:function(z){return Rh(z,1/0)},sample:Rh,sortBy:function(z,Z,fe){var he=0;return Z=De(Z,fe),fl(ba(z,function(g,w,P){return{value:g,index:he++,criteria:Z(g,w,P)}}).sort(function(g,w){var P=g.criteria,O=w.criteria;if(P!==O){if(P>O||P===void 0)return 1;if(P<O||O===void 0)return-1}return g.index-w.index}),"value")},groupBy:Lp,indexBy:Mh,countBy:Fp,partition:jp,toArray:sf,size:function(z){return z==null?0:ar(z)?z.length:Te(z).length},pick:Nh,omit:af,first:tu,head:tu,take:tu,initial:of,last:function(z,Z,fe){return z==null||z.length<1?Z==null||fe?void 0:[]:Z==null||fe?z[z.length-1]:nu(z,Math.max(0,z.length-Z))},rest:nu,tail:nu,drop:nu,compact:function(z){return Ua(z,Boolean)},flatten:function(z,Z){return or(z,Z,!1)},without:Ih,uniq:Vn,unique:Vn,union:zn,intersection:function(z){for(var Z=[],fe=arguments.length,he=0,g=ge(z);he<g;he++){var w=z[he];if(!Si(Z,w)){var P;for(P=1;P<fe&&Si(arguments[P],w);P++);P===fe&&Z.push(w)}}return Z},difference:Wu,unzip:lf,transpose:lf,zip:Vp,object:function(z,Z){for(var fe={},he=0,g=ge(z);he<g;he++)Z?fe[z[he]]=Z[he]:fe[z[he][0]]=z[he][1];return fe},range:function(z,Z,fe){Z==null&&(Z=z||0,z=0),fe||(fe=Z<z?-1:1);for(var he=Math.max(Math.ceil((Z-z)/fe),0),g=Array(he),w=0;w<he;w++,z+=fe)g[w]=z;return g},chunk:function(z,Z){if(Z==null||Z<1)return[];for(var fe=[],he=0,g=z.length;he<g;)fe.push(l.call(z,he,he+=Z));return fe},mixin:dl,default:Be});return Gu._=Gu,Gu})}(yE)),yE.exports}var EU={exports:{}};/*!
 * jQuery JavaScript Library v3.6.4
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-03-08T15:28Z
 */(function(t){(function(e,n){t.exports=e.document?n(e,!0):function(r){if(!r.document)throw new Error("jQuery requires a window with a document");return n(r)}})(typeof window<"u"?window:gr,function(e,n){var r=[],i=Object.getPrototypeOf,s=r.slice,a=r.flat?function(g){return r.flat.call(g)}:function(g){return r.concat.apply([],g)},o=r.push,l=r.indexOf,u={},c=u.toString,f=u.hasOwnProperty,d=f.toString,v=d.call(Object),_={},S=function(w){return typeof w=="function"&&typeof w.nodeType!="number"&&typeof w.item!="function"},b=function(w){return w!=null&&w===w.window},y=e.document,A={type:!0,src:!0,nonce:!0,noModule:!0};function R(g,w,P){P=P||y;var O,j,B=P.createElement("script");if(B.text=g,w)for(O in A)j=w[O]||w.getAttribute&&w.getAttribute(O),j&&B.setAttribute(O,j);P.head.appendChild(B).parentNode.removeChild(B)}function M(g){return g==null?g+"":typeof g=="object"||typeof g=="function"?u[c.call(g)]||"object":typeof g}var $="3.6.4",p=function(g,w){return new p.fn.init(g,w)};p.fn=p.prototype={jquery:$,constructor:p,length:0,toArray:function(){return s.call(this)},get:function(g){return g==null?s.call(this):g<0?this[g+this.length]:this[g]},pushStack:function(g){var w=p.merge(this.constructor(),g);return w.prevObject=this,w},each:function(g){return p.each(this,g)},map:function(g){return this.pushStack(p.map(this,function(w,P){return g.call(w,P,w)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(p.grep(this,function(g,w){return(w+1)%2}))},odd:function(){return this.pushStack(p.grep(this,function(g,w){return w%2}))},eq:function(g){var w=this.length,P=+g+(g<0?w:0);return this.pushStack(P>=0&&P<w?[this[P]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:r.sort,splice:r.splice},p.extend=p.fn.extend=function(){var g,w,P,O,j,B,K=arguments[0]||{},pe=1,ce=arguments.length,Ce=!1;for(typeof K=="boolean"&&(Ce=K,K=arguments[pe]||{},pe++),typeof K!="object"&&!S(K)&&(K={}),pe===ce&&(K=this,pe--);pe<ce;pe++)if((g=arguments[pe])!=null)for(w in g)O=g[w],!(w==="__proto__"||K===O)&&(Ce&&O&&(p.isPlainObject(O)||(j=Array.isArray(O)))?(P=K[w],j&&!Array.isArray(P)?B=[]:!j&&!p.isPlainObject(P)?B={}:B=P,j=!1,K[w]=p.extend(Ce,B,O)):O!==void 0&&(K[w]=O));return K},p.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(g){throw new Error(g)},noop:function(){},isPlainObject:function(g){var w,P;return!g||c.call(g)!=="[object Object]"?!1:(w=i(g),w?(P=f.call(w,"constructor")&&w.constructor,typeof P=="function"&&d.call(P)===v):!0)},isEmptyObject:function(g){var w;for(w in g)return!1;return!0},globalEval:function(g,w,P){R(g,{nonce:w&&w.nonce},P)},each:function(g,w){var P,O=0;if(x(g))for(P=g.length;O<P&&w.call(g[O],O,g[O])!==!1;O++);else for(O in g)if(w.call(g[O],O,g[O])===!1)break;return g},makeArray:function(g,w){var P=w||[];return g!=null&&(x(Object(g))?p.merge(P,typeof g=="string"?[g]:g):o.call(P,g)),P},inArray:function(g,w,P){return w==null?-1:l.call(w,g,P)},merge:function(g,w){for(var P=+w.length,O=0,j=g.length;O<P;O++)g[j++]=w[O];return g.length=j,g},grep:function(g,w,P){for(var O,j=[],B=0,K=g.length,pe=!P;B<K;B++)O=!w(g[B],B),O!==pe&&j.push(g[B]);return j},map:function(g,w,P){var O,j,B=0,K=[];if(x(g))for(O=g.length;B<O;B++)j=w(g[B],B,P),j!=null&&K.push(j);else for(B in g)j=w(g[B],B,P),j!=null&&K.push(j);return a(K)},guid:1,support:_}),typeof Symbol=="function"&&(p.fn[Symbol.iterator]=r[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(g,w){u["[object "+w+"]"]=w.toLowerCase()});function x(g){var w=!!g&&"length"in g&&g.length,P=M(g);return S(g)||b(g)?!1:P==="array"||w===0||typeof w=="number"&&w>0&&w-1 in g}var T=function(g){var w,P,O,j,B,K,pe,ce,Ce,Fe,Qe,Le,qe,Tt,Kt,vt,kr,Or,dn,bn="sizzle"+1*new Date,Wt=g.document,Xi=0,wn=0,_r=es(),cf=es(),Dh=es(),Qi=es(),Ha=function(te,me){return te===me&&(Qe=!0),0},Us={}.hasOwnProperty,Zi=[],To=Zi.pop,bs=Zi.push,Wa=Zi.push,Lh=Zi.slice,pl=function(te,me){for(var Ee=0,Ye=te.length;Ee<Ye;Ee++)if(te[Ee]===me)return Ee;return-1},zp="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mn="[\\x20\\t\\r\\n\\f]",Co="(?:\\\\[\\da-fA-F]{1,6}"+Mn+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",jv="\\["+Mn+"*("+Co+")(?:"+Mn+"*([*^$|!~]?=)"+Mn+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Co+"))|)"+Mn+"*\\]",Fh=":("+Co+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+jv+")*)|.*)\\)|)",ws=new RegExp(Mn+"+","g"),Ku=new RegExp("^"+Mn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mn+"+$","g"),ff=new RegExp("^"+Mn+"*,"+Mn+"*"),Up=new RegExp("^"+Mn+"*([>+~]|"+Mn+")"+Mn+"*"),Bv=new RegExp(Mn+"|>"),jw=new RegExp(Fh),Bw=new RegExp("^"+Co+"$"),jh={ID:new RegExp("^#("+Co+")"),CLASS:new RegExp("^\\.("+Co+")"),TAG:new RegExp("^("+Co+"|[*])"),ATTR:new RegExp("^"+jv),PSEUDO:new RegExp("^"+Fh),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mn+"*(even|odd|(([+-]|)(\\d*)n|)"+Mn+"*(?:([+-]|)"+Mn+"*(\\d+)|))"+Mn+"*\\)|)","i"),bool:new RegExp("^(?:"+zp+")$","i"),needsContext:new RegExp("^"+Mn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mn+"*((?:-\\d)?\\d*)"+Mn+"*\\)|)(?=[^-]|$)","i")},Vw=/HTML$/i,zw=/^(?:input|select|textarea|button)$/i,Yu=/^h\d$/i,hf=/^[^{]+\{\s*\[native \w/,Uw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,df=/[+~]/,Ga=new RegExp("\\\\[\\da-fA-F]{1,6}"+Mn+"?|\\\\([^\\r\\n\\f])","g"),xi=function(te,me){var Ee="0x"+te.slice(1)-65536;return me||(Ee<0?String.fromCharCode(Ee+65536):String.fromCharCode(Ee>>10|55296,Ee&1023|56320))},pf=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Vv=function(te,me){return me?te==="\0"?"":te.slice(0,-1)+"\\"+te.charCodeAt(te.length-1).toString(16)+" ":"\\"+te},zv=function(){Le()},qw=Gt(function(te){return te.disabled===!0&&te.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{Wa.apply(Zi=Lh.call(Wt.childNodes),Wt.childNodes),Zi[Wt.childNodes.length].nodeType}catch{Wa={apply:Zi.length?function(me,Ee){bs.apply(me,Lh.call(Ee))}:function(me,Ee){for(var Ye=me.length,Oe=0;me[Ye++]=Ee[Oe++];);me.length=Ye-1}}}function Nn(te,me,Ee,Ye){var Oe,ze,rt,at,ct,Lt,Nt,Ft=me&&me.ownerDocument,Zt=me?me.nodeType:9;if(Ee=Ee||[],typeof te!="string"||!te||Zt!==1&&Zt!==9&&Zt!==11)return Ee;if(!Ye&&(Le(me),me=me||qe,Kt)){if(Zt!==11&&(ct=Uw.exec(te)))if(Oe=ct[1]){if(Zt===9)if(rt=me.getElementById(Oe)){if(rt.id===Oe)return Ee.push(rt),Ee}else return Ee;else if(Ft&&(rt=Ft.getElementById(Oe))&&dn(me,rt)&&rt.id===Oe)return Ee.push(rt),Ee}else{if(ct[2])return Wa.apply(Ee,me.getElementsByTagName(te)),Ee;if((Oe=ct[3])&&P.getElementsByClassName&&me.getElementsByClassName)return Wa.apply(Ee,me.getElementsByClassName(Oe)),Ee}if(P.qsa&&!Qi[te+" "]&&(!vt||!vt.test(te))&&(Zt!==1||me.nodeName.toLowerCase()!=="object")){if(Nt=te,Ft=me,Zt===1&&(Bv.test(te)||Up.test(te))){for(Ft=df.test(te)&&Ge(me.parentNode)||me,(Ft!==me||!P.scope)&&((at=me.getAttribute("id"))?at=at.replace(pf,Vv):me.setAttribute("id",at=bn)),Lt=K(te),ze=Lt.length;ze--;)Lt[ze]=(at?"#"+at:":scope")+" "+dt(Lt[ze]);Nt=Lt.join(",")}try{return Wa.apply(Ee,Ft.querySelectorAll(Nt)),Ee}catch{Qi(te,!0)}finally{at===bn&&me.removeAttribute("id")}}}return ce(te.replace(Ku,"$1"),me,Ee,Ye)}function es(){var te=[];function me(Ee,Ye){return te.push(Ee+" ")>O.cacheLength&&delete me[te.shift()],me[Ee+" "]=Ye}return me}function qs(te){return te[bn]=!0,te}function Hs(te){var me=qe.createElement("fieldset");try{return!!te(me)}catch{return!1}finally{me.parentNode&&me.parentNode.removeChild(me),me=null}}function qp(te,me){for(var Ee=te.split("|"),Ye=Ee.length;Ye--;)O.attrHandle[Ee[Ye]]=me}function Uv(te,me){var Ee=me&&te,Ye=Ee&&te.nodeType===1&&me.nodeType===1&&te.sourceIndex-me.sourceIndex;if(Ye)return Ye;if(Ee){for(;Ee=Ee.nextSibling;)if(Ee===me)return-1}return te?1:-1}function Hw(te){return function(me){var Ee=me.nodeName.toLowerCase();return Ee==="input"&&me.type===te}}function Ww(te){return function(me){var Ee=me.nodeName.toLowerCase();return(Ee==="input"||Ee==="button")&&me.type===te}}function ru(te){return function(me){return"form"in me?me.parentNode&&me.disabled===!1?"label"in me?"label"in me.parentNode?me.parentNode.disabled===te:me.disabled===te:me.isDisabled===te||me.isDisabled!==!te&&qw(me)===te:me.disabled===te:"label"in me?me.disabled===te:!1}}function $e(te){return qs(function(me){return me=+me,qs(function(Ee,Ye){for(var Oe,ze=te([],Ee.length,me),rt=ze.length;rt--;)Ee[Oe=ze[rt]]&&(Ee[Oe]=!(Ye[Oe]=Ee[Oe]))})})}function Ge(te){return te&&typeof te.getElementsByTagName<"u"&&te}P=Nn.support={},B=Nn.isXML=function(te){var me=te&&te.namespaceURI,Ee=te&&(te.ownerDocument||te).documentElement;return!Vw.test(me||Ee&&Ee.nodeName||"HTML")},Le=Nn.setDocument=function(te){var me,Ee,Ye=te?te.ownerDocument||te:Wt;return Ye==qe||Ye.nodeType!==9||!Ye.documentElement||(qe=Ye,Tt=qe.documentElement,Kt=!B(qe),Wt!=qe&&(Ee=qe.defaultView)&&Ee.top!==Ee&&(Ee.addEventListener?Ee.addEventListener("unload",zv,!1):Ee.attachEvent&&Ee.attachEvent("onunload",zv)),P.scope=Hs(function(Oe){return Tt.appendChild(Oe).appendChild(qe.createElement("div")),typeof Oe.querySelectorAll<"u"&&!Oe.querySelectorAll(":scope fieldset div").length}),P.cssHas=Hs(function(){try{return qe.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),P.attributes=Hs(function(Oe){return Oe.className="i",!Oe.getAttribute("className")}),P.getElementsByTagName=Hs(function(Oe){return Oe.appendChild(qe.createComment("")),!Oe.getElementsByTagName("*").length}),P.getElementsByClassName=hf.test(qe.getElementsByClassName),P.getById=Hs(function(Oe){return Tt.appendChild(Oe).id=bn,!qe.getElementsByName||!qe.getElementsByName(bn).length}),P.getById?(O.filter.ID=function(Oe){var ze=Oe.replace(Ga,xi);return function(rt){return rt.getAttribute("id")===ze}},O.find.ID=function(Oe,ze){if(typeof ze.getElementById<"u"&&Kt){var rt=ze.getElementById(Oe);return rt?[rt]:[]}}):(O.filter.ID=function(Oe){var ze=Oe.replace(Ga,xi);return function(rt){var at=typeof rt.getAttributeNode<"u"&&rt.getAttributeNode("id");return at&&at.value===ze}},O.find.ID=function(Oe,ze){if(typeof ze.getElementById<"u"&&Kt){var rt,at,ct,Lt=ze.getElementById(Oe);if(Lt){if(rt=Lt.getAttributeNode("id"),rt&&rt.value===Oe)return[Lt];for(ct=ze.getElementsByName(Oe),at=0;Lt=ct[at++];)if(rt=Lt.getAttributeNode("id"),rt&&rt.value===Oe)return[Lt]}return[]}}),O.find.TAG=P.getElementsByTagName?function(Oe,ze){if(typeof ze.getElementsByTagName<"u")return ze.getElementsByTagName(Oe);if(P.qsa)return ze.querySelectorAll(Oe)}:function(Oe,ze){var rt,at=[],ct=0,Lt=ze.getElementsByTagName(Oe);if(Oe==="*"){for(;rt=Lt[ct++];)rt.nodeType===1&&at.push(rt);return at}return Lt},O.find.CLASS=P.getElementsByClassName&&function(Oe,ze){if(typeof ze.getElementsByClassName<"u"&&Kt)return ze.getElementsByClassName(Oe)},kr=[],vt=[],(P.qsa=hf.test(qe.querySelectorAll))&&(Hs(function(Oe){var ze;Tt.appendChild(Oe).innerHTML="<a id='"+bn+"'></a><select id='"+bn+"-\r\\' msallowcapture=''><option selected=''></option></select>",Oe.querySelectorAll("[msallowcapture^='']").length&&vt.push("[*^$]="+Mn+`*(?:''|"")`),Oe.querySelectorAll("[selected]").length||vt.push("\\["+Mn+"*(?:value|"+zp+")"),Oe.querySelectorAll("[id~="+bn+"-]").length||vt.push("~="),ze=qe.createElement("input"),ze.setAttribute("name",""),Oe.appendChild(ze),Oe.querySelectorAll("[name='']").length||vt.push("\\["+Mn+"*name"+Mn+"*="+Mn+`*(?:''|"")`),Oe.querySelectorAll(":checked").length||vt.push(":checked"),Oe.querySelectorAll("a#"+bn+"+*").length||vt.push(".#.+[+~]"),Oe.querySelectorAll("\\\f"),vt.push("[\\r\\n\\f]")}),Hs(function(Oe){Oe.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var ze=qe.createElement("input");ze.setAttribute("type","hidden"),Oe.appendChild(ze).setAttribute("name","D"),Oe.querySelectorAll("[name=d]").length&&vt.push("name"+Mn+"*[*^$|!~]?="),Oe.querySelectorAll(":enabled").length!==2&&vt.push(":enabled",":disabled"),Tt.appendChild(Oe).disabled=!0,Oe.querySelectorAll(":disabled").length!==2&&vt.push(":enabled",":disabled"),Oe.querySelectorAll("*,:x"),vt.push(",.*:")})),(P.matchesSelector=hf.test(Or=Tt.matches||Tt.webkitMatchesSelector||Tt.mozMatchesSelector||Tt.oMatchesSelector||Tt.msMatchesSelector))&&Hs(function(Oe){P.disconnectedMatch=Or.call(Oe,"*"),Or.call(Oe,"[s!='']:x"),kr.push("!=",Fh)}),P.cssHas||vt.push(":has"),vt=vt.length&&new RegExp(vt.join("|")),kr=kr.length&&new RegExp(kr.join("|")),me=hf.test(Tt.compareDocumentPosition),dn=me||hf.test(Tt.contains)?function(Oe,ze){var rt=Oe.nodeType===9&&Oe.documentElement||Oe,at=ze&&ze.parentNode;return Oe===at||!!(at&&at.nodeType===1&&(rt.contains?rt.contains(at):Oe.compareDocumentPosition&&Oe.compareDocumentPosition(at)&16))}:function(Oe,ze){if(ze){for(;ze=ze.parentNode;)if(ze===Oe)return!0}return!1},Ha=me?function(Oe,ze){if(Oe===ze)return Qe=!0,0;var rt=!Oe.compareDocumentPosition-!ze.compareDocumentPosition;return rt||(rt=(Oe.ownerDocument||Oe)==(ze.ownerDocument||ze)?Oe.compareDocumentPosition(ze):1,rt&1||!P.sortDetached&&ze.compareDocumentPosition(Oe)===rt?Oe==qe||Oe.ownerDocument==Wt&&dn(Wt,Oe)?-1:ze==qe||ze.ownerDocument==Wt&&dn(Wt,ze)?1:Fe?pl(Fe,Oe)-pl(Fe,ze):0:rt&4?-1:1)}:function(Oe,ze){if(Oe===ze)return Qe=!0,0;var rt,at=0,ct=Oe.parentNode,Lt=ze.parentNode,Nt=[Oe],Ft=[ze];if(!ct||!Lt)return Oe==qe?-1:ze==qe?1:ct?-1:Lt?1:Fe?pl(Fe,Oe)-pl(Fe,ze):0;if(ct===Lt)return Uv(Oe,ze);for(rt=Oe;rt=rt.parentNode;)Nt.unshift(rt);for(rt=ze;rt=rt.parentNode;)Ft.unshift(rt);for(;Nt[at]===Ft[at];)at++;return at?Uv(Nt[at],Ft[at]):Nt[at]==Wt?-1:Ft[at]==Wt?1:0}),qe},Nn.matches=function(te,me){return Nn(te,null,null,me)},Nn.matchesSelector=function(te,me){if(Le(te),P.matchesSelector&&Kt&&!Qi[me+" "]&&(!kr||!kr.test(me))&&(!vt||!vt.test(me)))try{var Ee=Or.call(te,me);if(Ee||P.disconnectedMatch||te.document&&te.document.nodeType!==11)return Ee}catch{Qi(me,!0)}return Nn(me,qe,null,[te]).length>0},Nn.contains=function(te,me){return(te.ownerDocument||te)!=qe&&Le(te),dn(te,me)},Nn.attr=function(te,me){(te.ownerDocument||te)!=qe&&Le(te);var Ee=O.attrHandle[me.toLowerCase()],Ye=Ee&&Us.call(O.attrHandle,me.toLowerCase())?Ee(te,me,!Kt):void 0;return Ye!==void 0?Ye:P.attributes||!Kt?te.getAttribute(me):(Ye=te.getAttributeNode(me))&&Ye.specified?Ye.value:null},Nn.escape=function(te){return(te+"").replace(pf,Vv)},Nn.error=function(te){throw new Error("Syntax error, unrecognized expression: "+te)},Nn.uniqueSort=function(te){var me,Ee=[],Ye=0,Oe=0;if(Qe=!P.detectDuplicates,Fe=!P.sortStable&&te.slice(0),te.sort(Ha),Qe){for(;me=te[Oe++];)me===te[Oe]&&(Ye=Ee.push(Oe));for(;Ye--;)te.splice(Ee[Ye],1)}return Fe=null,te},j=Nn.getText=function(te){var me,Ee="",Ye=0,Oe=te.nodeType;if(Oe){if(Oe===1||Oe===9||Oe===11){if(typeof te.textContent=="string")return te.textContent;for(te=te.firstChild;te;te=te.nextSibling)Ee+=j(te)}else if(Oe===3||Oe===4)return te.nodeValue}else for(;me=te[Ye++];)Ee+=j(me);return Ee},O=Nn.selectors={cacheLength:50,createPseudo:qs,match:jh,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(te){return te[1]=te[1].replace(Ga,xi),te[3]=(te[3]||te[4]||te[5]||"").replace(Ga,xi),te[2]==="~="&&(te[3]=" "+te[3]+" "),te.slice(0,4)},CHILD:function(te){return te[1]=te[1].toLowerCase(),te[1].slice(0,3)==="nth"?(te[3]||Nn.error(te[0]),te[4]=+(te[4]?te[5]+(te[6]||1):2*(te[3]==="even"||te[3]==="odd")),te[5]=+(te[7]+te[8]||te[3]==="odd")):te[3]&&Nn.error(te[0]),te},PSEUDO:function(te){var me,Ee=!te[6]&&te[2];return jh.CHILD.test(te[0])?null:(te[3]?te[2]=te[4]||te[5]||"":Ee&&jw.test(Ee)&&(me=K(Ee,!0))&&(me=Ee.indexOf(")",Ee.length-me)-Ee.length)&&(te[0]=te[0].slice(0,me),te[2]=Ee.slice(0,me)),te.slice(0,3))}},filter:{TAG:function(te){var me=te.replace(Ga,xi).toLowerCase();return te==="*"?function(){return!0}:function(Ee){return Ee.nodeName&&Ee.nodeName.toLowerCase()===me}},CLASS:function(te){var me=_r[te+" "];return me||(me=new RegExp("(^|"+Mn+")"+te+"("+Mn+"|$)"))&&_r(te,function(Ee){return me.test(typeof Ee.className=="string"&&Ee.className||typeof Ee.getAttribute<"u"&&Ee.getAttribute("class")||"")})},ATTR:function(te,me,Ee){return function(Ye){var Oe=Nn.attr(Ye,te);return Oe==null?me==="!=":me?(Oe+="",me==="="?Oe===Ee:me==="!="?Oe!==Ee:me==="^="?Ee&&Oe.indexOf(Ee)===0:me==="*="?Ee&&Oe.indexOf(Ee)>-1:me==="$="?Ee&&Oe.slice(-Ee.length)===Ee:me==="~="?(" "+Oe.replace(ws," ")+" ").indexOf(Ee)>-1:me==="|="?Oe===Ee||Oe.slice(0,Ee.length+1)===Ee+"-":!1):!0}},CHILD:function(te,me,Ee,Ye,Oe){var ze=te.slice(0,3)!=="nth",rt=te.slice(-4)!=="last",at=me==="of-type";return Ye===1&&Oe===0?function(ct){return!!ct.parentNode}:function(ct,Lt,Nt){var Ft,Zt,$n,Rt,Fr,Gr,ts=ze!==rt?"nextSibling":"previousSibling",ur=ct.parentNode,ml=at&&ct.nodeName.toLowerCase(),Ju=!Nt&&!at,hi=!1;if(ur){if(ze){for(;ts;){for(Rt=ct;Rt=Rt[ts];)if(at?Rt.nodeName.toLowerCase()===ml:Rt.nodeType===1)return!1;Gr=ts=te==="only"&&!Gr&&"nextSibling"}return!0}if(Gr=[rt?ur.firstChild:ur.lastChild],rt&&Ju){for(Rt=ur,$n=Rt[bn]||(Rt[bn]={}),Zt=$n[Rt.uniqueID]||($n[Rt.uniqueID]={}),Ft=Zt[te]||[],Fr=Ft[0]===Xi&&Ft[1],hi=Fr&&Ft[2],Rt=Fr&&ur.childNodes[Fr];Rt=++Fr&&Rt&&Rt[ts]||(hi=Fr=0)||Gr.pop();)if(Rt.nodeType===1&&++hi&&Rt===ct){Zt[te]=[Xi,Fr,hi];break}}else if(Ju&&(Rt=ct,$n=Rt[bn]||(Rt[bn]={}),Zt=$n[Rt.uniqueID]||($n[Rt.uniqueID]={}),Ft=Zt[te]||[],Fr=Ft[0]===Xi&&Ft[1],hi=Fr),hi===!1)for(;(Rt=++Fr&&Rt&&Rt[ts]||(hi=Fr=0)||Gr.pop())&&!((at?Rt.nodeName.toLowerCase()===ml:Rt.nodeType===1)&&++hi&&(Ju&&($n=Rt[bn]||(Rt[bn]={}),Zt=$n[Rt.uniqueID]||($n[Rt.uniqueID]={}),Zt[te]=[Xi,hi]),Rt===ct)););return hi-=Oe,hi===Ye||hi%Ye===0&&hi/Ye>=0}}},PSEUDO:function(te,me){var Ee,Ye=O.pseudos[te]||O.setFilters[te.toLowerCase()]||Nn.error("unsupported pseudo: "+te);return Ye[bn]?Ye(me):Ye.length>1?(Ee=[te,te,"",me],O.setFilters.hasOwnProperty(te.toLowerCase())?qs(function(Oe,ze){for(var rt,at=Ye(Oe,me),ct=at.length;ct--;)rt=pl(Oe,at[ct]),Oe[rt]=!(ze[rt]=at[ct])}):function(Oe){return Ye(Oe,0,Ee)}):Ye}},pseudos:{not:qs(function(te){var me=[],Ee=[],Ye=pe(te.replace(Ku,"$1"));return Ye[bn]?qs(function(Oe,ze,rt,at){for(var ct,Lt=Ye(Oe,null,at,[]),Nt=Oe.length;Nt--;)(ct=Lt[Nt])&&(Oe[Nt]=!(ze[Nt]=ct))}):function(Oe,ze,rt){return me[0]=Oe,Ye(me,null,rt,Ee),me[0]=null,!Ee.pop()}}),has:qs(function(te){return function(me){return Nn(te,me).length>0}}),contains:qs(function(te){return te=te.replace(Ga,xi),function(me){return(me.textContent||j(me)).indexOf(te)>-1}}),lang:qs(function(te){return Bw.test(te||"")||Nn.error("unsupported lang: "+te),te=te.replace(Ga,xi).toLowerCase(),function(me){var Ee;do if(Ee=Kt?me.lang:me.getAttribute("xml:lang")||me.getAttribute("lang"))return Ee=Ee.toLowerCase(),Ee===te||Ee.indexOf(te+"-")===0;while((me=me.parentNode)&&me.nodeType===1);return!1}}),target:function(te){var me=g.location&&g.location.hash;return me&&me.slice(1)===te.id},root:function(te){return te===Tt},focus:function(te){return te===qe.activeElement&&(!qe.hasFocus||qe.hasFocus())&&!!(te.type||te.href||~te.tabIndex)},enabled:ru(!1),disabled:ru(!0),checked:function(te){var me=te.nodeName.toLowerCase();return me==="input"&&!!te.checked||me==="option"&&!!te.selected},selected:function(te){return te.parentNode&&te.parentNode.selectedIndex,te.selected===!0},empty:function(te){for(te=te.firstChild;te;te=te.nextSibling)if(te.nodeType<6)return!1;return!0},parent:function(te){return!O.pseudos.empty(te)},header:function(te){return Yu.test(te.nodeName)},input:function(te){return zw.test(te.nodeName)},button:function(te){var me=te.nodeName.toLowerCase();return me==="input"&&te.type==="button"||me==="button"},text:function(te){var me;return te.nodeName.toLowerCase()==="input"&&te.type==="text"&&((me=te.getAttribute("type"))==null||me.toLowerCase()==="text")},first:$e(function(){return[0]}),last:$e(function(te,me){return[me-1]}),eq:$e(function(te,me,Ee){return[Ee<0?Ee+me:Ee]}),even:$e(function(te,me){for(var Ee=0;Ee<me;Ee+=2)te.push(Ee);return te}),odd:$e(function(te,me){for(var Ee=1;Ee<me;Ee+=2)te.push(Ee);return te}),lt:$e(function(te,me,Ee){for(var Ye=Ee<0?Ee+me:Ee>me?me:Ee;--Ye>=0;)te.push(Ye);return te}),gt:$e(function(te,me,Ee){for(var Ye=Ee<0?Ee+me:Ee;++Ye<me;)te.push(Ye);return te})}},O.pseudos.nth=O.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})O.pseudos[w]=Hw(w);for(w in{submit:!0,reset:!0})O.pseudos[w]=Ww(w);function Ue(){}Ue.prototype=O.filters=O.pseudos,O.setFilters=new Ue,K=Nn.tokenize=function(te,me){var Ee,Ye,Oe,ze,rt,at,ct,Lt=cf[te+" "];if(Lt)return me?0:Lt.slice(0);for(rt=te,at=[],ct=O.preFilter;rt;){(!Ee||(Ye=ff.exec(rt)))&&(Ye&&(rt=rt.slice(Ye[0].length)||rt),at.push(Oe=[])),Ee=!1,(Ye=Up.exec(rt))&&(Ee=Ye.shift(),Oe.push({value:Ee,type:Ye[0].replace(Ku," ")}),rt=rt.slice(Ee.length));for(ze in O.filter)(Ye=jh[ze].exec(rt))&&(!ct[ze]||(Ye=ct[ze](Ye)))&&(Ee=Ye.shift(),Oe.push({value:Ee,type:ze,matches:Ye}),rt=rt.slice(Ee.length));if(!Ee)break}return me?rt.length:rt?Nn.error(te):cf(te,at).slice(0)};function dt(te){for(var me=0,Ee=te.length,Ye="";me<Ee;me++)Ye+=te[me].value;return Ye}function Gt(te,me,Ee){var Ye=me.dir,Oe=me.next,ze=Oe||Ye,rt=Ee&&ze==="parentNode",at=wn++;return me.first?function(ct,Lt,Nt){for(;ct=ct[Ye];)if(ct.nodeType===1||rt)return te(ct,Lt,Nt);return!1}:function(ct,Lt,Nt){var Ft,Zt,$n,Rt=[Xi,at];if(Nt){for(;ct=ct[Ye];)if((ct.nodeType===1||rt)&&te(ct,Lt,Nt))return!0}else for(;ct=ct[Ye];)if(ct.nodeType===1||rt)if($n=ct[bn]||(ct[bn]={}),Zt=$n[ct.uniqueID]||($n[ct.uniqueID]={}),Oe&&Oe===ct.nodeName.toLowerCase())ct=ct[Ye]||ct;else{if((Ft=Zt[ze])&&Ft[0]===Xi&&Ft[1]===at)return Rt[2]=Ft[2];if(Zt[ze]=Rt,Rt[2]=te(ct,Lt,Nt))return!0}return!1}}function On(te){return te.length>1?function(me,Ee,Ye){for(var Oe=te.length;Oe--;)if(!te[Oe](me,Ee,Ye))return!1;return!0}:te[0]}function Wr(te,me,Ee){for(var Ye=0,Oe=me.length;Ye<Oe;Ye++)Nn(te,me[Ye],Ee);return Ee}function Un(te,me,Ee,Ye,Oe){for(var ze,rt=[],at=0,ct=te.length,Lt=me!=null;at<ct;at++)(ze=te[at])&&(!Ee||Ee(ze,Ye,Oe))&&(rt.push(ze),Lt&&me.push(at));return rt}function mf(te,me,Ee,Ye,Oe,ze){return Ye&&!Ye[bn]&&(Ye=mf(Ye)),Oe&&!Oe[bn]&&(Oe=mf(Oe,ze)),qs(function(rt,at,ct,Lt){var Nt,Ft,Zt,$n=[],Rt=[],Fr=at.length,Gr=rt||Wr(me||"*",ct.nodeType?[ct]:ct,[]),ts=te&&(rt||!me)?Un(Gr,$n,te,ct,Lt):Gr,ur=Ee?Oe||(rt?te:Fr||Ye)?[]:at:ts;if(Ee&&Ee(ts,ur,ct,Lt),Ye)for(Nt=Un(ur,Rt),Ye(Nt,[],ct,Lt),Ft=Nt.length;Ft--;)(Zt=Nt[Ft])&&(ur[Rt[Ft]]=!(ts[Rt[Ft]]=Zt));if(rt){if(Oe||te){if(Oe){for(Nt=[],Ft=ur.length;Ft--;)(Zt=ur[Ft])&&Nt.push(ts[Ft]=Zt);Oe(null,ur=[],Nt,Lt)}for(Ft=ur.length;Ft--;)(Zt=ur[Ft])&&(Nt=Oe?pl(rt,Zt):$n[Ft])>-1&&(rt[Nt]=!(at[Nt]=Zt))}}else ur=Un(ur===at?ur.splice(Fr,ur.length):ur),Oe?Oe(null,at,ur,Lt):Wa.apply(at,ur)})}function Hp(te){for(var me,Ee,Ye,Oe=te.length,ze=O.relative[te[0].type],rt=ze||O.relative[" "],at=ze?1:0,ct=Gt(function(Ft){return Ft===me},rt,!0),Lt=Gt(function(Ft){return pl(me,Ft)>-1},rt,!0),Nt=[function(Ft,Zt,$n){var Rt=!ze&&($n||Zt!==Ce)||((me=Zt).nodeType?ct(Ft,Zt,$n):Lt(Ft,Zt,$n));return me=null,Rt}];at<Oe;at++)if(Ee=O.relative[te[at].type])Nt=[Gt(On(Nt),Ee)];else{if(Ee=O.filter[te[at].type].apply(null,te[at].matches),Ee[bn]){for(Ye=++at;Ye<Oe&&!O.relative[te[Ye].type];Ye++);return mf(at>1&&On(Nt),at>1&&dt(te.slice(0,at-1).concat({value:te[at-2].type===" "?"*":""})).replace(Ku,"$1"),Ee,at<Ye&&Hp(te.slice(at,Ye)),Ye<Oe&&Hp(te=te.slice(Ye)),Ye<Oe&&dt(te))}Nt.push(Ee)}return On(Nt)}function Ws(te,me){var Ee=me.length>0,Ye=te.length>0,Oe=function(ze,rt,at,ct,Lt){var Nt,Ft,Zt,$n=0,Rt="0",Fr=ze&&[],Gr=[],ts=Ce,ur=ze||Ye&&O.find.TAG("*",Lt),ml=Xi+=ts==null?1:Math.random()||.1,Ju=ur.length;for(Lt&&(Ce=rt==qe||rt||Lt);Rt!==Ju&&(Nt=ur[Rt])!=null;Rt++){if(Ye&&Nt){for(Ft=0,!rt&&Nt.ownerDocument!=qe&&(Le(Nt),at=!Kt);Zt=te[Ft++];)if(Zt(Nt,rt||qe,at)){ct.push(Nt);break}Lt&&(Xi=ml)}Ee&&((Nt=!Zt&&Nt)&&$n--,ze&&Fr.push(Nt))}if($n+=Rt,Ee&&Rt!==$n){for(Ft=0;Zt=me[Ft++];)Zt(Fr,Gr,rt,at);if(ze){if($n>0)for(;Rt--;)Fr[Rt]||Gr[Rt]||(Gr[Rt]=To.call(ct));Gr=Un(Gr)}Wa.apply(ct,Gr),Lt&&!ze&&Gr.length>0&&$n+me.length>1&&Nn.uniqueSort(ct)}return Lt&&(Xi=ml,Ce=ts),Fr};return Ee?qs(Oe):Oe}return pe=Nn.compile=function(te,me){var Ee,Ye=[],Oe=[],ze=Dh[te+" "];if(!ze){for(me||(me=K(te)),Ee=me.length;Ee--;)ze=Hp(me[Ee]),ze[bn]?Ye.push(ze):Oe.push(ze);ze=Dh(te,Ws(Oe,Ye)),ze.selector=te}return ze},ce=Nn.select=function(te,me,Ee,Ye){var Oe,ze,rt,at,ct,Lt=typeof te=="function"&&te,Nt=!Ye&&K(te=Lt.selector||te);if(Ee=Ee||[],Nt.length===1){if(ze=Nt[0]=Nt[0].slice(0),ze.length>2&&(rt=ze[0]).type==="ID"&&me.nodeType===9&&Kt&&O.relative[ze[1].type]){if(me=(O.find.ID(rt.matches[0].replace(Ga,xi),me)||[])[0],me)Lt&&(me=me.parentNode);else return Ee;te=te.slice(ze.shift().value.length)}for(Oe=jh.needsContext.test(te)?0:ze.length;Oe--&&(rt=ze[Oe],!O.relative[at=rt.type]);)if((ct=O.find[at])&&(Ye=ct(rt.matches[0].replace(Ga,xi),df.test(ze[0].type)&&Ge(me.parentNode)||me))){if(ze.splice(Oe,1),te=Ye.length&&dt(ze),!te)return Wa.apply(Ee,Ye),Ee;break}}return(Lt||pe(te,Nt))(Ye,me,!Kt,Ee,!me||df.test(te)&&Ge(me.parentNode)||me),Ee},P.sortStable=bn.split("").sort(Ha).join("")===bn,P.detectDuplicates=!!Qe,Le(),P.sortDetached=Hs(function(te){return te.compareDocumentPosition(qe.createElement("fieldset"))&1}),Hs(function(te){return te.innerHTML="<a href='#'></a>",te.firstChild.getAttribute("href")==="#"})||qp("type|href|height|width",function(te,me,Ee){if(!Ee)return te.getAttribute(me,me.toLowerCase()==="type"?1:2)}),(!P.attributes||!Hs(function(te){return te.innerHTML="<input/>",te.firstChild.setAttribute("value",""),te.firstChild.getAttribute("value")===""}))&&qp("value",function(te,me,Ee){if(!Ee&&te.nodeName.toLowerCase()==="input")return te.defaultValue}),Hs(function(te){return te.getAttribute("disabled")==null})||qp(zp,function(te,me,Ee){var Ye;if(!Ee)return te[me]===!0?me.toLowerCase():(Ye=te.getAttributeNode(me))&&Ye.specified?Ye.value:null}),Nn}(e);p.find=T,p.expr=T.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=T.uniqueSort,p.text=T.getText,p.isXMLDoc=T.isXML,p.contains=T.contains,p.escapeSelector=T.escape;var D=function(g,w,P){for(var O=[],j=P!==void 0;(g=g[w])&&g.nodeType!==9;)if(g.nodeType===1){if(j&&p(g).is(P))break;O.push(g)}return O},C=function(g,w){for(var P=[];g;g=g.nextSibling)g.nodeType===1&&g!==w&&P.push(g);return P},U=p.expr.match.needsContext;function G(g,w){return g.nodeName&&g.nodeName.toLowerCase()===w.toLowerCase()}var se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function re(g,w,P){return S(w)?p.grep(g,function(O,j){return!!w.call(O,j,O)!==P}):w.nodeType?p.grep(g,function(O){return O===w!==P}):typeof w!="string"?p.grep(g,function(O){return l.call(w,O)>-1!==P}):p.filter(w,g,P)}p.filter=function(g,w,P){var O=w[0];return P&&(g=":not("+g+")"),w.length===1&&O.nodeType===1?p.find.matchesSelector(O,g)?[O]:[]:p.find.matches(g,p.grep(w,function(j){return j.nodeType===1}))},p.fn.extend({find:function(g){var w,P,O=this.length,j=this;if(typeof g!="string")return this.pushStack(p(g).filter(function(){for(w=0;w<O;w++)if(p.contains(j[w],this))return!0}));for(P=this.pushStack([]),w=0;w<O;w++)p.find(g,j[w],P);return O>1?p.uniqueSort(P):P},filter:function(g){return this.pushStack(re(this,g||[],!1))},not:function(g){return this.pushStack(re(this,g||[],!0))},is:function(g){return!!re(this,typeof g=="string"&&U.test(g)?p(g):g||[],!1).length}});var ye,Pe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ae=p.fn.init=function(g,w,P){var O,j;if(!g)return this;if(P=P||ye,typeof g=="string")if(g[0]==="<"&&g[g.length-1]===">"&&g.length>=3?O=[null,g,null]:O=Pe.exec(g),O&&(O[1]||!w))if(O[1]){if(w=w instanceof p?w[0]:w,p.merge(this,p.parseHTML(O[1],w&&w.nodeType?w.ownerDocument||w:y,!0)),se.test(O[1])&&p.isPlainObject(w))for(O in w)S(this[O])?this[O](w[O]):this.attr(O,w[O]);return this}else return j=y.getElementById(O[2]),j&&(this[0]=j,this.length=1),this;else return!w||w.jquery?(w||P).find(g):this.constructor(w).find(g);else{if(g.nodeType)return this[0]=g,this.length=1,this;if(S(g))return P.ready!==void 0?P.ready(g):g(p)}return p.makeArray(g,this)};Ae.prototype=p.fn,ye=p(y);var Ie=/^(?:parents|prev(?:Until|All))/,Me={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(g){var w=p(g,this),P=w.length;return this.filter(function(){for(var O=0;O<P;O++)if(p.contains(this,w[O]))return!0})},closest:function(g,w){var P,O=0,j=this.length,B=[],K=typeof g!="string"&&p(g);if(!U.test(g)){for(;O<j;O++)for(P=this[O];P&&P!==w;P=P.parentNode)if(P.nodeType<11&&(K?K.index(P)>-1:P.nodeType===1&&p.find.matchesSelector(P,g))){B.push(P);break}}return this.pushStack(B.length>1?p.uniqueSort(B):B)},index:function(g){return g?typeof g=="string"?l.call(p(g),this[0]):l.call(this,g.jquery?g[0]:g):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(g,w){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(g,w))))},addBack:function(g){return this.add(g==null?this.prevObject:this.prevObject.filter(g))}});function ae(g,w){for(;(g=g[w])&&g.nodeType!==1;);return g}p.each({parent:function(g){var w=g.parentNode;return w&&w.nodeType!==11?w:null},parents:function(g){return D(g,"parentNode")},parentsUntil:function(g,w,P){return D(g,"parentNode",P)},next:function(g){return ae(g,"nextSibling")},prev:function(g){return ae(g,"previousSibling")},nextAll:function(g){return D(g,"nextSibling")},prevAll:function(g){return D(g,"previousSibling")},nextUntil:function(g,w,P){return D(g,"nextSibling",P)},prevUntil:function(g,w,P){return D(g,"previousSibling",P)},siblings:function(g){return C((g.parentNode||{}).firstChild,g)},children:function(g){return C(g.firstChild)},contents:function(g){return g.contentDocument!=null&&i(g.contentDocument)?g.contentDocument:(G(g,"template")&&(g=g.content||g),p.merge([],g.childNodes))}},function(g,w){p.fn[g]=function(P,O){var j=p.map(this,w,P);return g.slice(-5)!=="Until"&&(O=P),O&&typeof O=="string"&&(j=p.filter(O,j)),this.length>1&&(Me[g]||p.uniqueSort(j),Ie.test(g)&&j.reverse()),this.pushStack(j)}});var H=/[^\x20\t\r\n\f]+/g;function X(g){var w={};return p.each(g.match(H)||[],function(P,O){w[O]=!0}),w}p.Callbacks=function(g){g=typeof g=="string"?X(g):p.extend({},g);var w,P,O,j,B=[],K=[],pe=-1,ce=function(){for(j=j||g.once,O=w=!0;K.length;pe=-1)for(P=K.shift();++pe<B.length;)B[pe].apply(P[0],P[1])===!1&&g.stopOnFalse&&(pe=B.length,P=!1);g.memory||(P=!1),w=!1,j&&(P?B=[]:B="")},Ce={add:function(){return B&&(P&&!w&&(pe=B.length-1,K.push(P)),function Fe(Qe){p.each(Qe,function(Le,qe){S(qe)?(!g.unique||!Ce.has(qe))&&B.push(qe):qe&&qe.length&&M(qe)!=="string"&&Fe(qe)})}(arguments),P&&!w&&ce()),this},remove:function(){return p.each(arguments,function(Fe,Qe){for(var Le;(Le=p.inArray(Qe,B,Le))>-1;)B.splice(Le,1),Le<=pe&&pe--}),this},has:function(Fe){return Fe?p.inArray(Fe,B)>-1:B.length>0},empty:function(){return B&&(B=[]),this},disable:function(){return j=K=[],B=P="",this},disabled:function(){return!B},lock:function(){return j=K=[],!P&&!w&&(B=P=""),this},locked:function(){return!!j},fireWith:function(Fe,Qe){return j||(Qe=Qe||[],Qe=[Fe,Qe.slice?Qe.slice():Qe],K.push(Qe),w||ce()),this},fire:function(){return Ce.fireWith(this,arguments),this},fired:function(){return!!O}};return Ce};function V(g){return g}function k(g){throw g}function I(g,w,P,O){var j;try{g&&S(j=g.promise)?j.call(g).done(w).fail(P):g&&S(j=g.then)?j.call(g,w,P):w.apply(void 0,[g].slice(O))}catch(B){P.apply(void 0,[B])}}p.extend({Deferred:function(g){var w=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],P="pending",O={state:function(){return P},always:function(){return j.done(arguments).fail(arguments),this},catch:function(B){return O.then(null,B)},pipe:function(){var B=arguments;return p.Deferred(function(K){p.each(w,function(pe,ce){var Ce=S(B[ce[4]])&&B[ce[4]];j[ce[1]](function(){var Fe=Ce&&Ce.apply(this,arguments);Fe&&S(Fe.promise)?Fe.promise().progress(K.notify).done(K.resolve).fail(K.reject):K[ce[0]+"With"](this,Ce?[Fe]:arguments)})}),B=null}).promise()},then:function(B,K,pe){var ce=0;function Ce(Fe,Qe,Le,qe){return function(){var Tt=this,Kt=arguments,vt=function(){var Or,dn;if(!(Fe<ce)){if(Or=Le.apply(Tt,Kt),Or===Qe.promise())throw new TypeError("Thenable self-resolution");dn=Or&&(typeof Or=="object"||typeof Or=="function")&&Or.then,S(dn)?qe?dn.call(Or,Ce(ce,Qe,V,qe),Ce(ce,Qe,k,qe)):(ce++,dn.call(Or,Ce(ce,Qe,V,qe),Ce(ce,Qe,k,qe),Ce(ce,Qe,V,Qe.notifyWith))):(Le!==V&&(Tt=void 0,Kt=[Or]),(qe||Qe.resolveWith)(Tt,Kt))}},kr=qe?vt:function(){try{vt()}catch(Or){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(Or,kr.stackTrace),Fe+1>=ce&&(Le!==k&&(Tt=void 0,Kt=[Or]),Qe.rejectWith(Tt,Kt))}};Fe?kr():(p.Deferred.getStackHook&&(kr.stackTrace=p.Deferred.getStackHook()),e.setTimeout(kr))}}return p.Deferred(function(Fe){w[0][3].add(Ce(0,Fe,S(pe)?pe:V,Fe.notifyWith)),w[1][3].add(Ce(0,Fe,S(B)?B:V)),w[2][3].add(Ce(0,Fe,S(K)?K:k))}).promise()},promise:function(B){return B!=null?p.extend(B,O):O}},j={};return p.each(w,function(B,K){var pe=K[2],ce=K[5];O[K[1]]=pe.add,ce&&pe.add(function(){P=ce},w[3-B][2].disable,w[3-B][3].disable,w[0][2].lock,w[0][3].lock),pe.add(K[3].fire),j[K[0]]=function(){return j[K[0]+"With"](this===j?void 0:this,arguments),this},j[K[0]+"With"]=pe.fireWith}),O.promise(j),g&&g.call(j,j),j},when:function(g){var w=arguments.length,P=w,O=Array(P),j=s.call(arguments),B=p.Deferred(),K=function(pe){return function(ce){O[pe]=this,j[pe]=arguments.length>1?s.call(arguments):ce,--w||B.resolveWith(O,j)}};if(w<=1&&(I(g,B.done(K(P)).resolve,B.reject,!w),B.state()==="pending"||S(j[P]&&j[P].then)))return B.then();for(;P--;)I(j[P],K(P),B.reject);return B.promise()}});var J=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(g,w){e.console&&e.console.warn&&g&&J.test(g.name)&&e.console.warn("jQuery.Deferred exception: "+g.message,g.stack,w)},p.readyException=function(g){e.setTimeout(function(){throw g})};var ue=p.Deferred();p.fn.ready=function(g){return ue.then(g).catch(function(w){p.readyException(w)}),this},p.extend({isReady:!1,readyWait:1,ready:function(g){(g===!0?--p.readyWait:p.isReady)||(p.isReady=!0,!(g!==!0&&--p.readyWait>0)&&ue.resolveWith(y,[p]))}}),p.ready.then=ue.then;function _e(){y.removeEventListener("DOMContentLoaded",_e),e.removeEventListener("load",_e),p.ready()}y.readyState==="complete"||y.readyState!=="loading"&&!y.documentElement.doScroll?e.setTimeout(p.ready):(y.addEventListener("DOMContentLoaded",_e),e.addEventListener("load",_e));var ke=function(g,w,P,O,j,B,K){var pe=0,ce=g.length,Ce=P==null;if(M(P)==="object"){j=!0;for(pe in P)ke(g,w,pe,P[pe],!0,B,K)}else if(O!==void 0&&(j=!0,S(O)||(K=!0),Ce&&(K?(w.call(g,O),w=null):(Ce=w,w=function(Fe,Qe,Le){return Ce.call(p(Fe),Le)})),w))for(;pe<ce;pe++)w(g[pe],P,K?O:O.call(g[pe],pe,w(g[pe],P)));return j?g:Ce?w.call(g):ce?w(g[0],P):B},Ve=/^-ms-/,We=/-([a-z])/g;function Y(g,w){return w.toUpperCase()}function Q(g){return g.replace(Ve,"ms-").replace(We,Y)}var N=function(g){return g.nodeType===1||g.nodeType===9||!+g.nodeType};function F(){this.expando=p.expando+F.uid++}F.uid=1,F.prototype={cache:function(g){var w=g[this.expando];return w||(w={},N(g)&&(g.nodeType?g[this.expando]=w:Object.defineProperty(g,this.expando,{value:w,configurable:!0}))),w},set:function(g,w,P){var O,j=this.cache(g);if(typeof w=="string")j[Q(w)]=P;else for(O in w)j[Q(O)]=w[O];return j},get:function(g,w){return w===void 0?this.cache(g):g[this.expando]&&g[this.expando][Q(w)]},access:function(g,w,P){return w===void 0||w&&typeof w=="string"&&P===void 0?this.get(g,w):(this.set(g,w,P),P!==void 0?P:w)},remove:function(g,w){var P,O=g[this.expando];if(O!==void 0){if(w!==void 0)for(Array.isArray(w)?w=w.map(Q):(w=Q(w),w=w in O?[w]:w.match(H)||[]),P=w.length;P--;)delete O[w[P]];(w===void 0||p.isEmptyObject(O))&&(g.nodeType?g[this.expando]=void 0:delete g[this.expando])}},hasData:function(g){var w=g[this.expando];return w!==void 0&&!p.isEmptyObject(w)}};var q=new F,ie=new F,ge=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ve=/[A-Z]/g;function Te(g){return g==="true"?!0:g==="false"?!1:g==="null"?null:g===+g+""?+g:ge.test(g)?JSON.parse(g):g}function Ne(g,w,P){var O;if(P===void 0&&g.nodeType===1)if(O="data-"+w.replace(ve,"-$&").toLowerCase(),P=g.getAttribute(O),typeof P=="string"){try{P=Te(P)}catch{}ie.set(g,w,P)}else P=void 0;return P}p.extend({hasData:function(g){return ie.hasData(g)||q.hasData(g)},data:function(g,w,P){return ie.access(g,w,P)},removeData:function(g,w){ie.remove(g,w)},_data:function(g,w,P){return q.access(g,w,P)},_removeData:function(g,w){q.remove(g,w)}}),p.fn.extend({data:function(g,w){var P,O,j,B=this[0],K=B&&B.attributes;if(g===void 0){if(this.length&&(j=ie.get(B),B.nodeType===1&&!q.get(B,"hasDataAttrs"))){for(P=K.length;P--;)K[P]&&(O=K[P].name,O.indexOf("data-")===0&&(O=Q(O.slice(5)),Ne(B,O,j[O])));q.set(B,"hasDataAttrs",!0)}return j}return typeof g=="object"?this.each(function(){ie.set(this,g)}):ke(this,function(pe){var ce;if(B&&pe===void 0)return ce=ie.get(B,g),ce!==void 0||(ce=Ne(B,g),ce!==void 0)?ce:void 0;this.each(function(){ie.set(this,g,pe)})},null,w,arguments.length>1,null,!0)},removeData:function(g){return this.each(function(){ie.remove(this,g)})}}),p.extend({queue:function(g,w,P){var O;if(g)return w=(w||"fx")+"queue",O=q.get(g,w),P&&(!O||Array.isArray(P)?O=q.access(g,w,p.makeArray(P)):O.push(P)),O||[]},dequeue:function(g,w){w=w||"fx";var P=p.queue(g,w),O=P.length,j=P.shift(),B=p._queueHooks(g,w),K=function(){p.dequeue(g,w)};j==="inprogress"&&(j=P.shift(),O--),j&&(w==="fx"&&P.unshift("inprogress"),delete B.stop,j.call(g,K,B)),!O&&B&&B.empty.fire()},_queueHooks:function(g,w){var P=w+"queueHooks";return q.get(g,P)||q.access(g,P,{empty:p.Callbacks("once memory").add(function(){q.remove(g,[w+"queue",P])})})}}),p.fn.extend({queue:function(g,w){var P=2;return typeof g!="string"&&(w=g,g="fx",P--),arguments.length<P?p.queue(this[0],g):w===void 0?this:this.each(function(){var O=p.queue(this,g,w);p._queueHooks(this,g),g==="fx"&&O[0]!=="inprogress"&&p.dequeue(this,g)})},dequeue:function(g){return this.each(function(){p.dequeue(this,g)})},clearQueue:function(g){return this.queue(g||"fx",[])},promise:function(g,w){var P,O=1,j=p.Deferred(),B=this,K=this.length,pe=function(){--O||j.resolveWith(B,[B])};for(typeof g!="string"&&(w=g,g=void 0),g=g||"fx";K--;)P=q.get(B[K],g+"queueHooks"),P&&P.empty&&(O++,P.empty.add(pe));return pe(),j.promise(w)}});var Be=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Xe=new RegExp("^(?:([+-])=|)("+Be+")([a-z%]*)$","i"),Je=["Top","Right","Bottom","Left"],Ze=y.documentElement,ut=function(g){return p.contains(g.ownerDocument,g)},xt={composed:!0};Ze.getRootNode&&(ut=function(g){return p.contains(g.ownerDocument,g)||g.getRootNode(xt)===g.ownerDocument});var Ot=function(g,w){return g=w||g,g.style.display==="none"||g.style.display===""&&ut(g)&&p.css(g,"display")==="none"};function mt(g,w,P,O){var j,B,K=20,pe=O?function(){return O.cur()}:function(){return p.css(g,w,"")},ce=pe(),Ce=P&&P[3]||(p.cssNumber[w]?"":"px"),Fe=g.nodeType&&(p.cssNumber[w]||Ce!=="px"&&+ce)&&Xe.exec(p.css(g,w));if(Fe&&Fe[3]!==Ce){for(ce=ce/2,Ce=Ce||Fe[3],Fe=+ce||1;K--;)p.style(g,w,Fe+Ce),(1-B)*(1-(B=pe()/ce||.5))<=0&&(K=0),Fe=Fe/B;Fe=Fe*2,p.style(g,w,Fe+Ce),P=P||[]}return P&&(Fe=+Fe||+ce||0,j=P[1]?Fe+(P[1]+1)*P[2]:+P[2],O&&(O.unit=Ce,O.start=Fe,O.end=j)),j}var zt={};function Hn(g){var w,P=g.ownerDocument,O=g.nodeName,j=zt[O];return j||(w=P.body.appendChild(P.createElement(O)),j=p.css(w,"display"),w.parentNode.removeChild(w),j==="none"&&(j="block"),zt[O]=j,j)}function Cr(g,w){for(var P,O,j=[],B=0,K=g.length;B<K;B++)O=g[B],O.style&&(P=O.style.display,w?(P==="none"&&(j[B]=q.get(O,"display")||null,j[B]||(O.style.display="")),O.style.display===""&&Ot(O)&&(j[B]=Hn(O))):P!=="none"&&(j[B]="none",q.set(O,"display",P)));for(B=0;B<K;B++)j[B]!=null&&(g[B].style.display=j[B]);return g}p.fn.extend({show:function(){return Cr(this,!0)},hide:function(){return Cr(this)},toggle:function(g){return typeof g=="boolean"?g?this.show():this.hide():this.each(function(){Ot(this)?p(this).show():p(this).hide()})}});var Zn=/^(?:checkbox|radio)$/i,ci=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,er=/^$|^module$|\/(?:java|ecma)script/i;(function(){var g=y.createDocumentFragment(),w=g.appendChild(y.createElement("div")),P=y.createElement("input");P.setAttribute("type","radio"),P.setAttribute("checked","checked"),P.setAttribute("name","t"),w.appendChild(P),_.checkClone=w.cloneNode(!0).cloneNode(!0).lastChild.checked,w.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!w.cloneNode(!0).lastChild.defaultValue,w.innerHTML="<option></option>",_.option=!!w.lastChild})();var yn={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};yn.tbody=yn.tfoot=yn.colgroup=yn.caption=yn.thead,yn.th=yn.td,_.option||(yn.optgroup=yn.option=[1,"<select multiple='multiple'>","</select>"]);function _n(g,w){var P;return typeof g.getElementsByTagName<"u"?P=g.getElementsByTagName(w||"*"):typeof g.querySelectorAll<"u"?P=g.querySelectorAll(w||"*"):P=[],w===void 0||w&&G(g,w)?p.merge([g],P):P}function Yi(g,w){for(var P=0,O=g.length;P<O;P++)q.set(g[P],"globalEval",!w||q.get(w[P],"globalEval"))}var vs=/<|&#?\w+;/;function Fa(g,w,P,O,j){for(var B,K,pe,ce,Ce,Fe,Qe=w.createDocumentFragment(),Le=[],qe=0,Tt=g.length;qe<Tt;qe++)if(B=g[qe],B||B===0)if(M(B)==="object")p.merge(Le,B.nodeType?[B]:B);else if(!vs.test(B))Le.push(w.createTextNode(B));else{for(K=K||Qe.appendChild(w.createElement("div")),pe=(ci.exec(B)||["",""])[1].toLowerCase(),ce=yn[pe]||yn._default,K.innerHTML=ce[1]+p.htmlPrefilter(B)+ce[2],Fe=ce[0];Fe--;)K=K.lastChild;p.merge(Le,K.childNodes),K=Qe.firstChild,K.textContent=""}for(Qe.textContent="",qe=0;B=Le[qe++];){if(O&&p.inArray(B,O)>-1){j&&j.push(B);continue}if(Ce=ut(B),K=_n(Qe.appendChild(B),"script"),Ce&&Yi(K),P)for(Fe=0;B=K[Fe++];)er.test(B.type||"")&&P.push(B)}return Qe}var Fs=/^([^.]*)(?:\.(.+)|)/;function ki(){return!0}function Lr(){return!1}function ys(g,w){return g===Uu()==(w==="focus")}function Uu(){try{return y.activeElement}catch{}}function Ao(g,w,P,O,j,B){var K,pe;if(typeof w=="object"){typeof P!="string"&&(O=O||P,P=void 0);for(pe in w)Ao(g,pe,P,O,w[pe],B);return g}if(O==null&&j==null?(j=P,O=P=void 0):j==null&&(typeof P=="string"?(j=O,O=void 0):(j=O,O=P,P=void 0)),j===!1)j=Lr;else if(!j)return g;return B===1&&(K=j,j=function(ce){return p().off(ce),K.apply(this,arguments)},j.guid=K.guid||(K.guid=p.guid++)),g.each(function(){p.event.add(this,w,j,O,P)})}p.event={global:{},add:function(g,w,P,O,j){var B,K,pe,ce,Ce,Fe,Qe,Le,qe,Tt,Kt,vt=q.get(g);if(N(g))for(P.handler&&(B=P,P=B.handler,j=B.selector),j&&p.find.matchesSelector(Ze,j),P.guid||(P.guid=p.guid++),(ce=vt.events)||(ce=vt.events=Object.create(null)),(K=vt.handle)||(K=vt.handle=function(kr){return typeof p<"u"&&p.event.triggered!==kr.type?p.event.dispatch.apply(g,arguments):void 0}),w=(w||"").match(H)||[""],Ce=w.length;Ce--;)pe=Fs.exec(w[Ce])||[],qe=Kt=pe[1],Tt=(pe[2]||"").split(".").sort(),qe&&(Qe=p.event.special[qe]||{},qe=(j?Qe.delegateType:Qe.bindType)||qe,Qe=p.event.special[qe]||{},Fe=p.extend({type:qe,origType:Kt,data:O,handler:P,guid:P.guid,selector:j,needsContext:j&&p.expr.match.needsContext.test(j),namespace:Tt.join(".")},B),(Le=ce[qe])||(Le=ce[qe]=[],Le.delegateCount=0,(!Qe.setup||Qe.setup.call(g,O,Tt,K)===!1)&&g.addEventListener&&g.addEventListener(qe,K)),Qe.add&&(Qe.add.call(g,Fe),Fe.handler.guid||(Fe.handler.guid=P.guid)),j?Le.splice(Le.delegateCount++,0,Fe):Le.push(Fe),p.event.global[qe]=!0)},remove:function(g,w,P,O,j){var B,K,pe,ce,Ce,Fe,Qe,Le,qe,Tt,Kt,vt=q.hasData(g)&&q.get(g);if(!(!vt||!(ce=vt.events))){for(w=(w||"").match(H)||[""],Ce=w.length;Ce--;){if(pe=Fs.exec(w[Ce])||[],qe=Kt=pe[1],Tt=(pe[2]||"").split(".").sort(),!qe){for(qe in ce)p.event.remove(g,qe+w[Ce],P,O,!0);continue}for(Qe=p.event.special[qe]||{},qe=(O?Qe.delegateType:Qe.bindType)||qe,Le=ce[qe]||[],pe=pe[2]&&new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"),K=B=Le.length;B--;)Fe=Le[B],(j||Kt===Fe.origType)&&(!P||P.guid===Fe.guid)&&(!pe||pe.test(Fe.namespace))&&(!O||O===Fe.selector||O==="**"&&Fe.selector)&&(Le.splice(B,1),Fe.selector&&Le.delegateCount--,Qe.remove&&Qe.remove.call(g,Fe));K&&!Le.length&&((!Qe.teardown||Qe.teardown.call(g,Tt,vt.handle)===!1)&&p.removeEvent(g,qe,vt.handle),delete ce[qe])}p.isEmptyObject(ce)&&q.remove(g,"handle events")}},dispatch:function(g){var w,P,O,j,B,K,pe=new Array(arguments.length),ce=p.event.fix(g),Ce=(q.get(this,"events")||Object.create(null))[ce.type]||[],Fe=p.event.special[ce.type]||{};for(pe[0]=ce,w=1;w<arguments.length;w++)pe[w]=arguments[w];if(ce.delegateTarget=this,!(Fe.preDispatch&&Fe.preDispatch.call(this,ce)===!1)){for(K=p.event.handlers.call(this,ce,Ce),w=0;(j=K[w++])&&!ce.isPropagationStopped();)for(ce.currentTarget=j.elem,P=0;(B=j.handlers[P++])&&!ce.isImmediatePropagationStopped();)(!ce.rnamespace||B.namespace===!1||ce.rnamespace.test(B.namespace))&&(ce.handleObj=B,ce.data=B.data,O=((p.event.special[B.origType]||{}).handle||B.handler).apply(j.elem,pe),O!==void 0&&(ce.result=O)===!1&&(ce.preventDefault(),ce.stopPropagation()));return Fe.postDispatch&&Fe.postDispatch.call(this,ce),ce.result}},handlers:function(g,w){var P,O,j,B,K,pe=[],ce=w.delegateCount,Ce=g.target;if(ce&&Ce.nodeType&&!(g.type==="click"&&g.button>=1)){for(;Ce!==this;Ce=Ce.parentNode||this)if(Ce.nodeType===1&&!(g.type==="click"&&Ce.disabled===!0)){for(B=[],K={},P=0;P<ce;P++)O=w[P],j=O.selector+" ",K[j]===void 0&&(K[j]=O.needsContext?p(j,this).index(Ce)>-1:p.find(j,this,null,[Ce]).length),K[j]&&B.push(O);B.length&&pe.push({elem:Ce,handlers:B})}}return Ce=this,ce<w.length&&pe.push({elem:Ce,handlers:w.slice(ce)}),pe},addProp:function(g,w){Object.defineProperty(p.Event.prototype,g,{enumerable:!0,configurable:!0,get:S(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[g]},set:function(P){Object.defineProperty(this,g,{enumerable:!0,configurable:!0,writable:!0,value:P})}})},fix:function(g){return g[p.expando]?g:new p.Event(g)},special:{load:{noBubble:!0},click:{setup:function(g){var w=this||g;return Zn.test(w.type)&&w.click&&G(w,"input")&&ja(w,"click",ki),!1},trigger:function(g){var w=this||g;return Zn.test(w.type)&&w.click&&G(w,"input")&&ja(w,"click"),!0},_default:function(g){var w=g.target;return Zn.test(w.type)&&w.click&&G(w,"input")&&q.get(w,"click")||G(w,"a")}},beforeunload:{postDispatch:function(g){g.result!==void 0&&g.originalEvent&&(g.originalEvent.returnValue=g.result)}}}};function ja(g,w,P){if(!P){q.get(g,w)===void 0&&p.event.add(g,w,ki);return}q.set(g,w,!1),p.event.add(g,w,{namespace:!1,handler:function(O){var j,B,K=q.get(this,w);if(O.isTrigger&1&&this[w]){if(K.length)(p.event.special[w]||{}).delegateType&&O.stopPropagation();else if(K=s.call(arguments),q.set(this,w,K),j=P(this,w),this[w](),B=q.get(this,w),K!==B||j?q.set(this,w,!1):B={},K!==B)return O.stopImmediatePropagation(),O.preventDefault(),B&&B.value}else K.length&&(q.set(this,w,{value:p.event.trigger(p.extend(K[0],p.Event.prototype),K.slice(1),this)}),O.stopImmediatePropagation())}})}p.removeEvent=function(g,w,P){g.removeEventListener&&g.removeEventListener(w,P)},p.Event=function(g,w){if(!(this instanceof p.Event))return new p.Event(g,w);g&&g.type?(this.originalEvent=g,this.type=g.type,this.isDefaultPrevented=g.defaultPrevented||g.defaultPrevented===void 0&&g.returnValue===!1?ki:Lr,this.target=g.target&&g.target.nodeType===3?g.target.parentNode:g.target,this.currentTarget=g.currentTarget,this.relatedTarget=g.relatedTarget):this.type=g,w&&p.extend(this,w),this.timeStamp=g&&g.timeStamp||Date.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:Lr,isPropagationStopped:Lr,isImmediatePropagationStopped:Lr,isSimulated:!1,preventDefault:function(){var g=this.originalEvent;this.isDefaultPrevented=ki,g&&!this.isSimulated&&g.preventDefault()},stopPropagation:function(){var g=this.originalEvent;this.isPropagationStopped=ki,g&&!this.isSimulated&&g.stopPropagation()},stopImmediatePropagation:function(){var g=this.originalEvent;this.isImmediatePropagationStopped=ki,g&&!this.isSimulated&&g.stopImmediatePropagation(),this.stopPropagation()}},p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},p.event.addProp),p.each({focus:"focusin",blur:"focusout"},function(g,w){p.event.special[g]={setup:function(){return ja(this,g,ys),!1},trigger:function(){return ja(this,g),!0},_default:function(P){return q.get(P.target,g)},delegateType:w}}),p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(g,w){p.event.special[g]={delegateType:w,bindType:w,handle:function(P){var O,j=this,B=P.relatedTarget,K=P.handleObj;return(!B||B!==j&&!p.contains(j,B))&&(P.type=K.origType,O=K.handler.apply(this,arguments),P.type=w),O}}}),p.fn.extend({on:function(g,w,P,O){return Ao(this,g,w,P,O)},one:function(g,w,P,O){return Ao(this,g,w,P,O,1)},off:function(g,w,P){var O,j;if(g&&g.preventDefault&&g.handleObj)return O=g.handleObj,p(g.delegateTarget).off(O.namespace?O.origType+"."+O.namespace:O.origType,O.selector,O.handler),this;if(typeof g=="object"){for(j in g)this.off(j,w,g[j]);return this}return(w===!1||typeof w=="function")&&(P=w,w=void 0),P===!1&&(P=Lr),this.each(function(){p.event.remove(this,g,P,w)})}});var va=/<script|<style|<link/i,ol=/checked\s*(?:[^=]|=\s*.checked.)/i,qu=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ya(g,w){return G(g,"table")&&G(w.nodeType!==11?w:w.firstChild,"tr")&&p(g).children("tbody")[0]||g}function Po(g){return g.type=(g.getAttribute("type")!==null)+"/"+g.type,g}function Ba(g){return(g.type||"").slice(0,5)==="true/"?g.type=g.type.slice(5):g.removeAttribute("type"),g}function be(g,w){var P,O,j,B,K,pe,ce;if(w.nodeType===1){if(q.hasData(g)&&(B=q.get(g),ce=B.events,ce)){q.remove(w,"handle events");for(j in ce)for(P=0,O=ce[j].length;P<O;P++)p.event.add(w,j,ce[j][P])}ie.hasData(g)&&(K=ie.access(g),pe=p.extend({},K),ie.set(w,pe))}}function oe(g,w){var P=w.nodeName.toLowerCase();P==="input"&&Zn.test(g.type)?w.checked=g.checked:(P==="input"||P==="textarea")&&(w.defaultValue=g.defaultValue)}function Se(g,w,P,O){w=a(w);var j,B,K,pe,ce,Ce,Fe=0,Qe=g.length,Le=Qe-1,qe=w[0],Tt=S(qe);if(Tt||Qe>1&&typeof qe=="string"&&!_.checkClone&&ol.test(qe))return g.each(function(Kt){var vt=g.eq(Kt);Tt&&(w[0]=qe.call(this,Kt,vt.html())),Se(vt,w,P,O)});if(Qe&&(j=Fa(w,g[0].ownerDocument,!1,g,O),B=j.firstChild,j.childNodes.length===1&&(j=B),B||O)){for(K=p.map(_n(j,"script"),Po),pe=K.length;Fe<Qe;Fe++)ce=j,Fe!==Le&&(ce=p.clone(ce,!0,!0),pe&&p.merge(K,_n(ce,"script"))),P.call(g[Fe],ce,Fe);if(pe)for(Ce=K[K.length-1].ownerDocument,p.map(K,Ba),Fe=0;Fe<pe;Fe++)ce=K[Fe],er.test(ce.type||"")&&!q.access(ce,"globalEval")&&p.contains(Ce,ce)&&(ce.src&&(ce.type||"").toLowerCase()!=="module"?p._evalUrl&&!ce.noModule&&p._evalUrl(ce.src,{nonce:ce.nonce||ce.getAttribute("nonce")},Ce):R(ce.textContent.replace(qu,""),ce,Ce))}return g}function De(g,w,P){for(var O,j=w?p.filter(w,g):g,B=0;(O=j[B])!=null;B++)!P&&O.nodeType===1&&p.cleanData(_n(O)),O.parentNode&&(P&&ut(O)&&Yi(_n(O,"script")),O.parentNode.removeChild(O));return g}p.extend({htmlPrefilter:function(g){return g},clone:function(g,w,P){var O,j,B,K,pe=g.cloneNode(!0),ce=ut(g);if(!_.noCloneChecked&&(g.nodeType===1||g.nodeType===11)&&!p.isXMLDoc(g))for(K=_n(pe),B=_n(g),O=0,j=B.length;O<j;O++)oe(B[O],K[O]);if(w)if(P)for(B=B||_n(g),K=K||_n(pe),O=0,j=B.length;O<j;O++)be(B[O],K[O]);else be(g,pe);return K=_n(pe,"script"),K.length>0&&Yi(K,!ce&&_n(g,"script")),pe},cleanData:function(g){for(var w,P,O,j=p.event.special,B=0;(P=g[B])!==void 0;B++)if(N(P)){if(w=P[q.expando]){if(w.events)for(O in w.events)j[O]?p.event.remove(P,O):p.removeEvent(P,O,w.handle);P[q.expando]=void 0}P[ie.expando]&&(P[ie.expando]=void 0)}}}),p.fn.extend({detach:function(g){return De(this,g,!0)},remove:function(g){return De(this,g)},text:function(g){return ke(this,function(w){return w===void 0?p.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=w)})},null,g,arguments.length)},append:function(){return Se(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=ya(this,g);w.appendChild(g)}})},prepend:function(){return Se(this,arguments,function(g){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=ya(this,g);w.insertBefore(g,w.firstChild)}})},before:function(){return Se(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this)})},after:function(){return Se(this,arguments,function(g){this.parentNode&&this.parentNode.insertBefore(g,this.nextSibling)})},empty:function(){for(var g,w=0;(g=this[w])!=null;w++)g.nodeType===1&&(p.cleanData(_n(g,!1)),g.textContent="");return this},clone:function(g,w){return g=g??!1,w=w??g,this.map(function(){return p.clone(this,g,w)})},html:function(g){return ke(this,function(w){var P=this[0]||{},O=0,j=this.length;if(w===void 0&&P.nodeType===1)return P.innerHTML;if(typeof w=="string"&&!va.test(w)&&!yn[(ci.exec(w)||["",""])[1].toLowerCase()]){w=p.htmlPrefilter(w);try{for(;O<j;O++)P=this[O]||{},P.nodeType===1&&(p.cleanData(_n(P,!1)),P.innerHTML=w);P=0}catch{}}P&&this.empty().append(w)},null,g,arguments.length)},replaceWith:function(){var g=[];return Se(this,arguments,function(w){var P=this.parentNode;p.inArray(this,g)<0&&(p.cleanData(_n(this)),P&&P.replaceChild(w,this))},g)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,w){p.fn[g]=function(P){for(var O,j=[],B=p(P),K=B.length-1,pe=0;pe<=K;pe++)O=pe===K?this:this.clone(!0),p(B[pe])[w](O),o.apply(j,O.get());return this.pushStack(j)}});var je=new RegExp("^("+Be+")(?!px)[a-z%]+$","i"),bt=/^--/,gt=function(g){var w=g.ownerDocument.defaultView;return(!w||!w.opener)&&(w=e),w.getComputedStyle(g)},nn=function(g,w,P){var O,j,B={};for(j in w)B[j]=g.style[j],g.style[j]=w[j];O=P.call(g);for(j in w)g.style[j]=B[j];return O},Dn=new RegExp(Je.join("|"),"i"),nr="[\\x20\\t\\r\\n\\f]",rn=new RegExp("^"+nr+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nr+"+$","g");(function(){function g(){if(Ce){ce.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ce.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ze.appendChild(ce).appendChild(Ce);var Fe=e.getComputedStyle(Ce);P=Fe.top!=="1%",pe=w(Fe.marginLeft)===12,Ce.style.right="60%",B=w(Fe.right)===36,O=w(Fe.width)===36,Ce.style.position="absolute",j=w(Ce.offsetWidth/3)===12,Ze.removeChild(ce),Ce=null}}function w(Fe){return Math.round(parseFloat(Fe))}var P,O,j,B,K,pe,ce=y.createElement("div"),Ce=y.createElement("div");Ce.style&&(Ce.style.backgroundClip="content-box",Ce.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle=Ce.style.backgroundClip==="content-box",p.extend(_,{boxSizingReliable:function(){return g(),O},pixelBoxStyles:function(){return g(),B},pixelPosition:function(){return g(),P},reliableMarginLeft:function(){return g(),pe},scrollboxSize:function(){return g(),j},reliableTrDimensions:function(){var Fe,Qe,Le,qe;return K==null&&(Fe=y.createElement("table"),Qe=y.createElement("tr"),Le=y.createElement("div"),Fe.style.cssText="position:absolute;left:-11111px;border-collapse:separate",Qe.style.cssText="border:1px solid",Qe.style.height="1px",Le.style.height="9px",Le.style.display="block",Ze.appendChild(Fe).appendChild(Qe).appendChild(Le),qe=e.getComputedStyle(Qe),K=parseInt(qe.height,10)+parseInt(qe.borderTopWidth,10)+parseInt(qe.borderBottomWidth,10)===Qe.offsetHeight,Ze.removeChild(Fe)),K}}))})();function En(g,w,P){var O,j,B,K,pe=bt.test(w),ce=g.style;return P=P||gt(g),P&&(K=P.getPropertyValue(w)||P[w],pe&&K&&(K=K.replace(rn,"$1")||void 0),K===""&&!ut(g)&&(K=p.style(g,w)),!_.pixelBoxStyles()&&je.test(K)&&Dn.test(w)&&(O=ce.width,j=ce.minWidth,B=ce.maxWidth,ce.minWidth=ce.maxWidth=ce.width=K,K=P.width,ce.width=O,ce.minWidth=j,ce.maxWidth=B)),K!==void 0?K+"":K}function Yn(g,w){return{get:function(){if(g()){delete this.get;return}return(this.get=w).apply(this,arguments)}}}var jt=["Webkit","Moz","ms"],Wn=y.createElement("div").style,Jn={};function Xn(g){for(var w=g[0].toUpperCase()+g.slice(1),P=jt.length;P--;)if(g=jt[P]+w,g in Wn)return g}function fi(g){var w=p.cssProps[g]||Jn[g];return w||(g in Wn?g:Jn[g]=Xn(g)||g)}var Oi=/^(none|table(?!-c[ea]).+)/,Hr={position:"absolute",visibility:"hidden",display:"block"},js={letterSpacing:"0",fontWeight:"400"};function ar(g,w,P){var O=Xe.exec(w);return O?Math.max(0,O[2]-(P||0))+(O[3]||"px"):w}function or(g,w,P,O,j,B){var K=w==="width"?1:0,pe=0,ce=0;if(P===(O?"border":"content"))return 0;for(;K<4;K+=2)P==="margin"&&(ce+=p.css(g,P+Je[K],!0,j)),O?(P==="content"&&(ce-=p.css(g,"padding"+Je[K],!0,j)),P!=="margin"&&(ce-=p.css(g,"border"+Je[K]+"Width",!0,j))):(ce+=p.css(g,"padding"+Je[K],!0,j),P!=="padding"?ce+=p.css(g,"border"+Je[K]+"Width",!0,j):pe+=p.css(g,"border"+Je[K]+"Width",!0,j));return!O&&B>=0&&(ce+=Math.max(0,Math.ceil(g["offset"+w[0].toUpperCase()+w.slice(1)]-B-ce-pe-.5))||0),ce}function wi(g,w,P){var O=gt(g),j=!_.boxSizingReliable()||P,B=j&&p.css(g,"boxSizing",!1,O)==="border-box",K=B,pe=En(g,w,O),ce="offset"+w[0].toUpperCase()+w.slice(1);if(je.test(pe)){if(!P)return pe;pe="auto"}return(!_.boxSizingReliable()&&B||!_.reliableTrDimensions()&&G(g,"tr")||pe==="auto"||!parseFloat(pe)&&p.css(g,"display",!1,O)==="inline")&&g.getClientRects().length&&(B=p.css(g,"boxSizing",!1,O)==="border-box",K=ce in g,K&&(pe=g[ce])),pe=parseFloat(pe)||0,pe+or(g,w,P||(B?"border":"content"),K,O,pe)+"px"}p.extend({cssHooks:{opacity:{get:function(g,w){if(w){var P=En(g,"opacity");return P===""?"1":P}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(g,w,P,O){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var j,B,K,pe=Q(w),ce=bt.test(w),Ce=g.style;if(ce||(w=fi(pe)),K=p.cssHooks[w]||p.cssHooks[pe],P!==void 0){if(B=typeof P,B==="string"&&(j=Xe.exec(P))&&j[1]&&(P=mt(g,w,j),B="number"),P==null||P!==P)return;B==="number"&&!ce&&(P+=j&&j[3]||(p.cssNumber[pe]?"":"px")),!_.clearCloneStyle&&P===""&&w.indexOf("background")===0&&(Ce[w]="inherit"),(!K||!("set"in K)||(P=K.set(g,P,O))!==void 0)&&(ce?Ce.setProperty(w,P):Ce[w]=P)}else return K&&"get"in K&&(j=K.get(g,!1,O))!==void 0?j:Ce[w]}},css:function(g,w,P,O){var j,B,K,pe=Q(w),ce=bt.test(w);return ce||(w=fi(pe)),K=p.cssHooks[w]||p.cssHooks[pe],K&&"get"in K&&(j=K.get(g,!0,P)),j===void 0&&(j=En(g,w,O)),j==="normal"&&w in js&&(j=js[w]),P===""||P?(B=parseFloat(j),P===!0||isFinite(B)?B||0:j):j}}),p.each(["height","width"],function(g,w){p.cssHooks[w]={get:function(P,O,j){if(O)return Oi.test(p.css(P,"display"))&&(!P.getClientRects().length||!P.getBoundingClientRect().width)?nn(P,Hr,function(){return wi(P,w,j)}):wi(P,w,j)},set:function(P,O,j){var B,K=gt(P),pe=!_.scrollboxSize()&&K.position==="absolute",ce=pe||j,Ce=ce&&p.css(P,"boxSizing",!1,K)==="border-box",Fe=j?or(P,w,j,Ce,K):0;return Ce&&pe&&(Fe-=Math.ceil(P["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(K[w])-or(P,w,"border",!1,K)-.5)),Fe&&(B=Xe.exec(O))&&(B[3]||"px")!=="px"&&(P.style[w]=O,O=p.css(P,w)),ar(P,O,Fe)}}}),p.cssHooks.marginLeft=Yn(_.reliableMarginLeft,function(g,w){if(w)return(parseFloat(En(g,"marginLeft"))||g.getBoundingClientRect().left-nn(g,{marginLeft:0},function(){return g.getBoundingClientRect().left}))+"px"}),p.each({margin:"",padding:"",border:"Width"},function(g,w){p.cssHooks[g+w]={expand:function(P){for(var O=0,j={},B=typeof P=="string"?P.split(" "):[P];O<4;O++)j[g+Je[O]+w]=B[O]||B[O-2]||B[0];return j}},g!=="margin"&&(p.cssHooks[g+w].set=ar)}),p.fn.extend({css:function(g,w){return ke(this,function(P,O,j){var B,K,pe={},ce=0;if(Array.isArray(O)){for(B=gt(P),K=O.length;ce<K;ce++)pe[O[ce]]=p.css(P,O[ce],!1,B);return pe}return j!==void 0?p.style(P,O,j):p.css(P,O)},g,w,arguments.length>1)}});function lr(g,w,P,O,j){return new lr.prototype.init(g,w,P,O,j)}p.Tween=lr,lr.prototype={constructor:lr,init:function(g,w,P,O,j,B){this.elem=g,this.prop=P,this.easing=j||p.easing._default,this.options=w,this.start=this.now=this.cur(),this.end=O,this.unit=B||(p.cssNumber[P]?"":"px")},cur:function(){var g=lr.propHooks[this.prop];return g&&g.get?g.get(this):lr.propHooks._default.get(this)},run:function(g){var w,P=lr.propHooks[this.prop];return this.options.duration?this.pos=w=p.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):this.pos=w=g,this.now=(this.end-this.start)*w+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),P&&P.set?P.set(this):lr.propHooks._default.set(this),this}},lr.prototype.init.prototype=lr.prototype,lr.propHooks={_default:{get:function(g){var w;return g.elem.nodeType!==1||g.elem[g.prop]!=null&&g.elem.style[g.prop]==null?g.elem[g.prop]:(w=p.css(g.elem,g.prop,""),!w||w==="auto"?0:w)},set:function(g){p.fx.step[g.prop]?p.fx.step[g.prop](g):g.elem.nodeType===1&&(p.cssHooks[g.prop]||g.elem.style[fi(g.prop)]!=null)?p.style(g.elem,g.prop,g.now+g.unit):g.elem[g.prop]=g.now}}},lr.propHooks.scrollTop=lr.propHooks.scrollLeft={set:function(g){g.elem.nodeType&&g.elem.parentNode&&(g.elem[g.prop]=g.now)}},p.easing={linear:function(g){return g},swing:function(g){return .5-Math.cos(g*Math.PI)/2},_default:"swing"},p.fx=lr.prototype.init,p.fx.step={};var ri,Ji,Zl=/^(?:toggle|show|hide)$/,eu=/queueHooks$/;function Bs(){Ji&&(y.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(Bs):e.setTimeout(Bs,p.fx.interval),p.fx.tick())}function _a(){return e.setTimeout(function(){ri=void 0}),ri=Date.now()}function Ri(g,w){var P,O=0,j={height:g};for(w=w?1:0;O<4;O+=2-w)P=Je[O],j["margin"+P]=j["padding"+P]=g;return w&&(j.opacity=j.width=g),j}function ll(g,w,P){for(var O,j=(Mi.tweeners[w]||[]).concat(Mi.tweeners["*"]),B=0,K=j.length;B<K;B++)if(O=j[B].call(P,w,g))return O}function ul(g,w,P){var O,j,B,K,pe,ce,Ce,Fe,Qe="width"in w||"height"in w,Le=this,qe={},Tt=g.style,Kt=g.nodeType&&Ot(g),vt=q.get(g,"fxshow");P.queue||(K=p._queueHooks(g,"fx"),K.unqueued==null&&(K.unqueued=0,pe=K.empty.fire,K.empty.fire=function(){K.unqueued||pe()}),K.unqueued++,Le.always(function(){Le.always(function(){K.unqueued--,p.queue(g,"fx").length||K.empty.fire()})}));for(O in w)if(j=w[O],Zl.test(j)){if(delete w[O],B=B||j==="toggle",j===(Kt?"hide":"show"))if(j==="show"&&vt&&vt[O]!==void 0)Kt=!0;else continue;qe[O]=vt&&vt[O]||p.style(g,O)}if(ce=!p.isEmptyObject(w),!(!ce&&p.isEmptyObject(qe))){Qe&&g.nodeType===1&&(P.overflow=[Tt.overflow,Tt.overflowX,Tt.overflowY],Ce=vt&&vt.display,Ce==null&&(Ce=q.get(g,"display")),Fe=p.css(g,"display"),Fe==="none"&&(Ce?Fe=Ce:(Cr([g],!0),Ce=g.style.display||Ce,Fe=p.css(g,"display"),Cr([g]))),(Fe==="inline"||Fe==="inline-block"&&Ce!=null)&&p.css(g,"float")==="none"&&(ce||(Le.done(function(){Tt.display=Ce}),Ce==null&&(Fe=Tt.display,Ce=Fe==="none"?"":Fe)),Tt.display="inline-block")),P.overflow&&(Tt.overflow="hidden",Le.always(function(){Tt.overflow=P.overflow[0],Tt.overflowX=P.overflow[1],Tt.overflowY=P.overflow[2]})),ce=!1;for(O in qe)ce||(vt?"hidden"in vt&&(Kt=vt.hidden):vt=q.access(g,"fxshow",{display:Ce}),B&&(vt.hidden=!Kt),Kt&&Cr([g],!0),Le.done(function(){Kt||Cr([g]),q.remove(g,"fxshow");for(O in qe)p.style(g,O,qe[O])})),ce=ll(Kt?vt[O]:0,O,Le),O in vt||(vt[O]=ce.start,Kt&&(ce.end=ce.start,ce.start=0))}}function _s(g,w){var P,O,j,B,K;for(P in g)if(O=Q(P),j=w[O],B=g[P],Array.isArray(B)&&(j=B[1],B=g[P]=B[0]),P!==O&&(g[O]=B,delete g[P]),K=p.cssHooks[O],K&&"expand"in K){B=K.expand(B),delete g[O];for(P in B)P in g||(g[P]=B[P],w[P]=j)}else w[O]=j}function Mi(g,w,P){var O,j,B=0,K=Mi.prefilters.length,pe=p.Deferred().always(function(){delete ce.elem}),ce=function(){if(j)return!1;for(var Qe=ri||_a(),Le=Math.max(0,Ce.startTime+Ce.duration-Qe),qe=Le/Ce.duration||0,Tt=1-qe,Kt=0,vt=Ce.tweens.length;Kt<vt;Kt++)Ce.tweens[Kt].run(Tt);return pe.notifyWith(g,[Ce,Tt,Le]),Tt<1&&vt?Le:(vt||pe.notifyWith(g,[Ce,1,0]),pe.resolveWith(g,[Ce]),!1)},Ce=pe.promise({elem:g,props:p.extend({},w),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},P),originalProperties:w,originalOptions:P,startTime:ri||_a(),duration:P.duration,tweens:[],createTween:function(Qe,Le){var qe=p.Tween(g,Ce.opts,Qe,Le,Ce.opts.specialEasing[Qe]||Ce.opts.easing);return Ce.tweens.push(qe),qe},stop:function(Qe){var Le=0,qe=Qe?Ce.tweens.length:0;if(j)return this;for(j=!0;Le<qe;Le++)Ce.tweens[Le].run(1);return Qe?(pe.notifyWith(g,[Ce,1,0]),pe.resolveWith(g,[Ce,Qe])):pe.rejectWith(g,[Ce,Qe]),this}}),Fe=Ce.props;for(_s(Fe,Ce.opts.specialEasing);B<K;B++)if(O=Mi.prefilters[B].call(Ce,g,Fe,Ce.opts),O)return S(O.stop)&&(p._queueHooks(Ce.elem,Ce.opts.queue).stop=O.stop.bind(O)),O;return p.map(Fe,ll,Ce),S(Ce.opts.start)&&Ce.opts.start.call(g,Ce),Ce.progress(Ce.opts.progress).done(Ce.opts.done,Ce.opts.complete).fail(Ce.opts.fail).always(Ce.opts.always),p.fx.timer(p.extend(ce,{elem:g,anim:Ce,queue:Ce.opts.queue})),Ce}p.Animation=p.extend(Mi,{tweeners:{"*":[function(g,w){var P=this.createTween(g,w);return mt(P.elem,g,Xe.exec(w),P),P}]},tweener:function(g,w){S(g)?(w=g,g=["*"]):g=g.match(H);for(var P,O=0,j=g.length;O<j;O++)P=g[O],Mi.tweeners[P]=Mi.tweeners[P]||[],Mi.tweeners[P].unshift(w)},prefilters:[ul],prefilter:function(g,w){w?Mi.prefilters.unshift(g):Mi.prefilters.push(g)}}),p.speed=function(g,w,P){var O=g&&typeof g=="object"?p.extend({},g):{complete:P||!P&&w||S(g)&&g,duration:g,easing:P&&w||w&&!S(w)&&w};return p.fx.off?O.duration=0:typeof O.duration!="number"&&(O.duration in p.fx.speeds?O.duration=p.fx.speeds[O.duration]:O.duration=p.fx.speeds._default),(O.queue==null||O.queue===!0)&&(O.queue="fx"),O.old=O.complete,O.complete=function(){S(O.old)&&O.old.call(this),O.queue&&p.dequeue(this,O.queue)},O},p.fn.extend({fadeTo:function(g,w,P,O){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:w},g,P,O)},animate:function(g,w,P,O){var j=p.isEmptyObject(g),B=p.speed(w,P,O),K=function(){var pe=Mi(this,p.extend({},g),B);(j||q.get(this,"finish"))&&pe.stop(!0)};return K.finish=K,j||B.queue===!1?this.each(K):this.queue(B.queue,K)},stop:function(g,w,P){var O=function(j){var B=j.stop;delete j.stop,B(P)};return typeof g!="string"&&(P=w,w=g,g=void 0),w&&this.queue(g||"fx",[]),this.each(function(){var j=!0,B=g!=null&&g+"queueHooks",K=p.timers,pe=q.get(this);if(B)pe[B]&&pe[B].stop&&O(pe[B]);else for(B in pe)pe[B]&&pe[B].stop&&eu.test(B)&&O(pe[B]);for(B=K.length;B--;)K[B].elem===this&&(g==null||K[B].queue===g)&&(K[B].anim.stop(P),j=!1,K.splice(B,1));(j||!P)&&p.dequeue(this,g)})},finish:function(g){return g!==!1&&(g=g||"fx"),this.each(function(){var w,P=q.get(this),O=P[g+"queue"],j=P[g+"queueHooks"],B=p.timers,K=O?O.length:0;for(P.finish=!0,p.queue(this,g,[]),j&&j.stop&&j.stop.call(this,!0),w=B.length;w--;)B[w].elem===this&&B[w].queue===g&&(B[w].anim.stop(!0),B.splice(w,1));for(w=0;w<K;w++)O[w]&&O[w].finish&&O[w].finish.call(this);delete P.finish})}}),p.each(["toggle","show","hide"],function(g,w){var P=p.fn[w];p.fn[w]=function(O,j,B){return O==null||typeof O=="boolean"?P.apply(this,arguments):this.animate(Ri(w,!0),O,j,B)}}),p.each({slideDown:Ri("show"),slideUp:Ri("hide"),slideToggle:Ri("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(g,w){p.fn[g]=function(P,O,j){return this.animate(w,P,O,j)}}),p.timers=[],p.fx.tick=function(){var g,w=0,P=p.timers;for(ri=Date.now();w<P.length;w++)g=P[w],!g()&&P[w]===g&&P.splice(w--,1);P.length||p.fx.stop(),ri=void 0},p.fx.timer=function(g){p.timers.push(g),p.fx.start()},p.fx.interval=13,p.fx.start=function(){Ji||(Ji=!0,Bs())},p.fx.stop=function(){Ji=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(g,w){return g=p.fx&&p.fx.speeds[g]||g,w=w||"fx",this.queue(w,function(P,O){var j=e.setTimeout(P,g);O.stop=function(){e.clearTimeout(j)}})},function(){var g=y.createElement("input"),w=y.createElement("select"),P=w.appendChild(y.createElement("option"));g.type="checkbox",_.checkOn=g.value!=="",_.optSelected=P.selected,g=y.createElement("input"),g.value="t",g.type="radio",_.radioValue=g.value==="t"}();var kh,Va=p.expr.attrHandle;p.fn.extend({attr:function(g,w){return ke(this,p.attr,g,w,arguments.length>1)},removeAttr:function(g){return this.each(function(){p.removeAttr(this,g)})}}),p.extend({attr:function(g,w,P){var O,j,B=g.nodeType;if(!(B===3||B===8||B===2)){if(typeof g.getAttribute>"u")return p.prop(g,w,P);if((B!==1||!p.isXMLDoc(g))&&(j=p.attrHooks[w.toLowerCase()]||(p.expr.match.bool.test(w)?kh:void 0)),P!==void 0){if(P===null){p.removeAttr(g,w);return}return j&&"set"in j&&(O=j.set(g,P,w))!==void 0?O:(g.setAttribute(w,P+""),P)}return j&&"get"in j&&(O=j.get(g,w))!==null?O:(O=p.find.attr(g,w),O??void 0)}},attrHooks:{type:{set:function(g,w){if(!_.radioValue&&w==="radio"&&G(g,"input")){var P=g.value;return g.setAttribute("type",w),P&&(g.value=P),w}}}},removeAttr:function(g,w){var P,O=0,j=w&&w.match(H);if(j&&g.nodeType===1)for(;P=j[O++];)g.removeAttribute(P)}}),kh={set:function(g,w,P){return w===!1?p.removeAttr(g,P):g.setAttribute(P,P),P}},p.each(p.expr.match.bool.source.match(/\w+/g),function(g,w){var P=Va[w]||p.find.attr;Va[w]=function(O,j,B){var K,pe,ce=j.toLowerCase();return B||(pe=Va[ce],Va[ce]=K,K=P(O,j,B)!=null?ce:null,Va[ce]=pe),K}});var Vs=/^(?:input|select|textarea|button)$/i,ba=/^(?:a|area)$/i;p.fn.extend({prop:function(g,w){return ke(this,p.prop,g,w,arguments.length>1)},removeProp:function(g){return this.each(function(){delete this[p.propFix[g]||g]})}}),p.extend({prop:function(g,w,P){var O,j,B=g.nodeType;if(!(B===3||B===8||B===2))return(B!==1||!p.isXMLDoc(g))&&(w=p.propFix[w]||w,j=p.propHooks[w]),P!==void 0?j&&"set"in j&&(O=j.set(g,P,w))!==void 0?O:g[w]=P:j&&"get"in j&&(O=j.get(g,w))!==null?O:g[w]},propHooks:{tabIndex:{get:function(g){var w=p.find.attr(g,"tabindex");return w?parseInt(w,10):Vs.test(g.nodeName)||ba.test(g.nodeName)&&g.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(p.propHooks.selected={get:function(g){var w=g.parentNode;return w&&w.parentNode&&w.parentNode.selectedIndex,null},set:function(g){var w=g.parentNode;w&&(w.selectedIndex,w.parentNode&&w.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});function za(g){var w=g.match(H)||[];return w.join(" ")}function zs(g){return g.getAttribute&&g.getAttribute("class")||""}function cl(g){return Array.isArray(g)?g:typeof g=="string"?g.match(H)||[]:[]}p.fn.extend({addClass:function(g){var w,P,O,j,B,K;return S(g)?this.each(function(pe){p(this).addClass(g.call(this,pe,zs(this)))}):(w=cl(g),w.length?this.each(function(){if(O=zs(this),P=this.nodeType===1&&" "+za(O)+" ",P){for(B=0;B<w.length;B++)j=w[B],P.indexOf(" "+j+" ")<0&&(P+=j+" ");K=za(P),O!==K&&this.setAttribute("class",K)}}):this)},removeClass:function(g){var w,P,O,j,B,K;return S(g)?this.each(function(pe){p(this).removeClass(g.call(this,pe,zs(this)))}):arguments.length?(w=cl(g),w.length?this.each(function(){if(O=zs(this),P=this.nodeType===1&&" "+za(O)+" ",P){for(B=0;B<w.length;B++)for(j=w[B];P.indexOf(" "+j+" ")>-1;)P=P.replace(" "+j+" "," ");K=za(P),O!==K&&this.setAttribute("class",K)}}):this):this.attr("class","")},toggleClass:function(g,w){var P,O,j,B,K=typeof g,pe=K==="string"||Array.isArray(g);return S(g)?this.each(function(ce){p(this).toggleClass(g.call(this,ce,zs(this),w),w)}):typeof w=="boolean"&&pe?w?this.addClass(g):this.removeClass(g):(P=cl(g),this.each(function(){if(pe)for(B=p(this),j=0;j<P.length;j++)O=P[j],B.hasClass(O)?B.removeClass(O):B.addClass(O);else(g===void 0||K==="boolean")&&(O=zs(this),O&&q.set(this,"__className__",O),this.setAttribute&&this.setAttribute("class",O||g===!1?"":q.get(this,"__className__")||""))}))},hasClass:function(g){var w,P,O=0;for(w=" "+g+" ";P=this[O++];)if(P.nodeType===1&&(" "+za(zs(P))+" ").indexOf(w)>-1)return!0;return!1}});var Ua=/\r/g;p.fn.extend({val:function(g){var w,P,O,j=this[0];return arguments.length?(O=S(g),this.each(function(B){var K;this.nodeType===1&&(O?K=g.call(this,B,p(this).val()):K=g,K==null?K="":typeof K=="number"?K+="":Array.isArray(K)&&(K=p.map(K,function(pe){return pe==null?"":pe+""})),w=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],(!w||!("set"in w)||w.set(this,K,"value")===void 0)&&(this.value=K))})):j?(w=p.valHooks[j.type]||p.valHooks[j.nodeName.toLowerCase()],w&&"get"in w&&(P=w.get(j,"value"))!==void 0?P:(P=j.value,typeof P=="string"?P.replace(Ua,""):P??"")):void 0}}),p.extend({valHooks:{option:{get:function(g){var w=p.find.attr(g,"value");return w??za(p.text(g))}},select:{get:function(g){var w,P,O,j=g.options,B=g.selectedIndex,K=g.type==="select-one",pe=K?null:[],ce=K?B+1:j.length;for(B<0?O=ce:O=K?B:0;O<ce;O++)if(P=j[O],(P.selected||O===B)&&!P.disabled&&(!P.parentNode.disabled||!G(P.parentNode,"optgroup"))){if(w=p(P).val(),K)return w;pe.push(w)}return pe},set:function(g,w){for(var P,O,j=g.options,B=p.makeArray(w),K=j.length;K--;)O=j[K],(O.selected=p.inArray(p.valHooks.option.get(O),B)>-1)&&(P=!0);return P||(g.selectedIndex=-1),B}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(g,w){if(Array.isArray(w))return g.checked=p.inArray(p(g).val(),w)>-1}},_.checkOn||(p.valHooks[this].get=function(g){return g.getAttribute("value")===null?"on":g.value})}),_.focusin="onfocusin"in e;var qa=/^(?:focusinfocus|focusoutblur)$/,Hu=function(g){g.stopPropagation()};p.extend(p.event,{trigger:function(g,w,P,O){var j,B,K,pe,ce,Ce,Fe,Qe,Le=[P||y],qe=f.call(g,"type")?g.type:g,Tt=f.call(g,"namespace")?g.namespace.split("."):[];if(B=Qe=K=P=P||y,!(P.nodeType===3||P.nodeType===8)&&!qa.test(qe+p.event.triggered)&&(qe.indexOf(".")>-1&&(Tt=qe.split("."),qe=Tt.shift(),Tt.sort()),ce=qe.indexOf(":")<0&&"on"+qe,g=g[p.expando]?g:new p.Event(qe,typeof g=="object"&&g),g.isTrigger=O?2:3,g.namespace=Tt.join("."),g.rnamespace=g.namespace?new RegExp("(^|\\.)"+Tt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,g.result=void 0,g.target||(g.target=P),w=w==null?[g]:p.makeArray(w,[g]),Fe=p.event.special[qe]||{},!(!O&&Fe.trigger&&Fe.trigger.apply(P,w)===!1))){if(!O&&!Fe.noBubble&&!b(P)){for(pe=Fe.delegateType||qe,qa.test(pe+qe)||(B=B.parentNode);B;B=B.parentNode)Le.push(B),K=B;K===(P.ownerDocument||y)&&Le.push(K.defaultView||K.parentWindow||e)}for(j=0;(B=Le[j++])&&!g.isPropagationStopped();)Qe=B,g.type=j>1?pe:Fe.bindType||qe,Ce=(q.get(B,"events")||Object.create(null))[g.type]&&q.get(B,"handle"),Ce&&Ce.apply(B,w),Ce=ce&&B[ce],Ce&&Ce.apply&&N(B)&&(g.result=Ce.apply(B,w),g.result===!1&&g.preventDefault());return g.type=qe,!O&&!g.isDefaultPrevented()&&(!Fe._default||Fe._default.apply(Le.pop(),w)===!1)&&N(P)&&ce&&S(P[qe])&&!b(P)&&(K=P[ce],K&&(P[ce]=null),p.event.triggered=qe,g.isPropagationStopped()&&Qe.addEventListener(qe,Hu),P[qe](),g.isPropagationStopped()&&Qe.removeEventListener(qe,Hu),p.event.triggered=void 0,K&&(P[ce]=K)),g.result}},simulate:function(g,w,P){var O=p.extend(new p.Event,P,{type:g,isSimulated:!0});p.event.trigger(O,null,w)}}),p.fn.extend({trigger:function(g,w){return this.each(function(){p.event.trigger(g,w,this)})},triggerHandler:function(g,w){var P=this[0];if(P)return p.event.trigger(g,w,P,!0)}}),_.focusin||p.each({focus:"focusin",blur:"focusout"},function(g,w){var P=function(O){p.event.simulate(w,O.target,p.event.fix(O))};p.event.special[w]={setup:function(){var O=this.ownerDocument||this.document||this,j=q.access(O,w);j||O.addEventListener(g,P,!0),q.access(O,w,(j||0)+1)},teardown:function(){var O=this.ownerDocument||this.document||this,j=q.access(O,w)-1;j?q.access(O,w,j):(O.removeEventListener(g,P,!0),q.remove(O,w))}}});var Si=e.location,Oh={guid:Date.now()},fl=/\?/;p.parseXML=function(g){var w,P;if(!g||typeof g!="string")return null;try{w=new e.DOMParser().parseFromString(g,"text/xml")}catch{}return P=w&&w.getElementsByTagName("parsererror")[0],(!w||P)&&p.error("Invalid XML: "+(P?p.map(P.childNodes,function(O){return O.textContent}).join(`
`):g)),w};var nf=/\[\]$/,rf=/\r?\n/g,sf=/^(?:submit|button|image|reset|file)$/i,Rh=/^(?:input|select|textarea|keygen)/i;function hl(g,w,P,O){var j;if(Array.isArray(w))p.each(w,function(B,K){P||nf.test(g)?O(g,K):hl(g+"["+(typeof K=="object"&&K!=null?B:"")+"]",K,P,O)});else if(!P&&M(w)==="object")for(j in w)hl(g+"["+j+"]",w[j],P,O);else O(g,w)}p.param=function(g,w){var P,O=[],j=function(B,K){var pe=S(K)?K():K;O[O.length]=encodeURIComponent(B)+"="+encodeURIComponent(pe??"")};if(g==null)return"";if(Array.isArray(g)||g.jquery&&!p.isPlainObject(g))p.each(g,function(){j(this.name,this.value)});else for(P in g)hl(P,g[P],w,j);return O.join("&")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var g=p.prop(this,"elements");return g?p.makeArray(g):this}).filter(function(){var g=this.type;return this.name&&!p(this).is(":disabled")&&Rh.test(this.nodeName)&&!sf.test(g)&&(this.checked||!Zn.test(g))}).map(function(g,w){var P=p(this).val();return P==null?null:Array.isArray(P)?p.map(P,function(O){return{name:w.name,value:O.replace(rf,`\r
`)}}):{name:w.name,value:P.replace(rf,`\r
`)}}).get()}});var Lp=/%20/g,Mh=/#.*$/,Fp=/([?&])_=[^&]*/,jp=/^(.*?):[ \t]*([^\r\n]*)$/mg,Bp=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Nh=/^(?:GET|HEAD)$/,af=/^\/\//,of={},tu={},nu="*/".concat("*"),Wu=y.createElement("a");Wu.href=Si.href;function Ih(g){return function(w,P){typeof w!="string"&&(P=w,w="*");var O,j=0,B=w.toLowerCase().match(H)||[];if(S(P))for(;O=B[j++];)O[0]==="+"?(O=O.slice(1)||"*",(g[O]=g[O]||[]).unshift(P)):(g[O]=g[O]||[]).push(P)}}function Vn(g,w,P,O){var j={},B=g===tu;function K(pe){var ce;return j[pe]=!0,p.each(g[pe]||[],function(Ce,Fe){var Qe=Fe(w,P,O);if(typeof Qe=="string"&&!B&&!j[Qe])return w.dataTypes.unshift(Qe),K(Qe),!1;if(B)return!(ce=Qe)}),ce}return K(w.dataTypes[0])||!j["*"]&&K("*")}function zn(g,w){var P,O,j=p.ajaxSettings.flatOptions||{};for(P in w)w[P]!==void 0&&((j[P]?g:O||(O={}))[P]=w[P]);return O&&p.extend(!0,g,O),g}function lf(g,w,P){for(var O,j,B,K,pe=g.contents,ce=g.dataTypes;ce[0]==="*";)ce.shift(),O===void 0&&(O=g.mimeType||w.getResponseHeader("Content-Type"));if(O){for(j in pe)if(pe[j]&&pe[j].test(O)){ce.unshift(j);break}}if(ce[0]in P)B=ce[0];else{for(j in P){if(!ce[0]||g.converters[j+" "+ce[0]]){B=j;break}K||(K=j)}B=B||K}if(B)return B!==ce[0]&&ce.unshift(B),P[B]}function Vp(g,w,P,O){var j,B,K,pe,ce,Ce={},Fe=g.dataTypes.slice();if(Fe[1])for(K in g.converters)Ce[K.toLowerCase()]=g.converters[K];for(B=Fe.shift();B;)if(g.responseFields[B]&&(P[g.responseFields[B]]=w),!ce&&O&&g.dataFilter&&(w=g.dataFilter(w,g.dataType)),ce=B,B=Fe.shift(),B){if(B==="*")B=ce;else if(ce!=="*"&&ce!==B){if(K=Ce[ce+" "+B]||Ce["* "+B],!K){for(j in Ce)if(pe=j.split(" "),pe[1]===B&&(K=Ce[ce+" "+pe[0]]||Ce["* "+pe[0]],K)){K===!0?K=Ce[j]:Ce[j]!==!0&&(B=pe[0],Fe.unshift(pe[1]));break}}if(K!==!0)if(K&&g.throws)w=K(w);else try{w=K(w)}catch(Qe){return{state:"parsererror",error:K?Qe:"No conversion from "+ce+" to "+B}}}}return{state:"success",data:w}}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Si.href,type:"GET",isLocal:Bp.test(Si.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nu,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(g,w){return w?zn(zn(g,p.ajaxSettings),w):zn(p.ajaxSettings,g)},ajaxPrefilter:Ih(of),ajaxTransport:Ih(tu),ajax:function(g,w){typeof g=="object"&&(w=g,g=void 0),w=w||{};var P,O,j,B,K,pe,ce,Ce,Fe,Qe,Le=p.ajaxSetup({},w),qe=Le.context||Le,Tt=Le.context&&(qe.nodeType||qe.jquery)?p(qe):p.event,Kt=p.Deferred(),vt=p.Callbacks("once memory"),kr=Le.statusCode||{},Or={},dn={},bn="canceled",Wt={readyState:0,getResponseHeader:function(wn){var _r;if(ce){if(!B)for(B={};_r=jp.exec(j);)B[_r[1].toLowerCase()+" "]=(B[_r[1].toLowerCase()+" "]||[]).concat(_r[2]);_r=B[wn.toLowerCase()+" "]}return _r==null?null:_r.join(", ")},getAllResponseHeaders:function(){return ce?j:null},setRequestHeader:function(wn,_r){return ce==null&&(wn=dn[wn.toLowerCase()]=dn[wn.toLowerCase()]||wn,Or[wn]=_r),this},overrideMimeType:function(wn){return ce==null&&(Le.mimeType=wn),this},statusCode:function(wn){var _r;if(wn)if(ce)Wt.always(wn[Wt.status]);else for(_r in wn)kr[_r]=[kr[_r],wn[_r]];return this},abort:function(wn){var _r=wn||bn;return P&&P.abort(_r),Xi(0,_r),this}};if(Kt.promise(Wt),Le.url=((g||Le.url||Si.href)+"").replace(af,Si.protocol+"//"),Le.type=w.method||w.type||Le.method||Le.type,Le.dataTypes=(Le.dataType||"*").toLowerCase().match(H)||[""],Le.crossDomain==null){pe=y.createElement("a");try{pe.href=Le.url,pe.href=pe.href,Le.crossDomain=Wu.protocol+"//"+Wu.host!=pe.protocol+"//"+pe.host}catch{Le.crossDomain=!0}}if(Le.data&&Le.processData&&typeof Le.data!="string"&&(Le.data=p.param(Le.data,Le.traditional)),Vn(of,Le,w,Wt),ce)return Wt;Ce=p.event&&Le.global,Ce&&p.active++===0&&p.event.trigger("ajaxStart"),Le.type=Le.type.toUpperCase(),Le.hasContent=!Nh.test(Le.type),O=Le.url.replace(Mh,""),Le.hasContent?Le.data&&Le.processData&&(Le.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Le.data=Le.data.replace(Lp,"+")):(Qe=Le.url.slice(O.length),Le.data&&(Le.processData||typeof Le.data=="string")&&(O+=(fl.test(O)?"&":"?")+Le.data,delete Le.data),Le.cache===!1&&(O=O.replace(Fp,"$1"),Qe=(fl.test(O)?"&":"?")+"_="+Oh.guid+++Qe),Le.url=O+Qe),Le.ifModified&&(p.lastModified[O]&&Wt.setRequestHeader("If-Modified-Since",p.lastModified[O]),p.etag[O]&&Wt.setRequestHeader("If-None-Match",p.etag[O])),(Le.data&&Le.hasContent&&Le.contentType!==!1||w.contentType)&&Wt.setRequestHeader("Content-Type",Le.contentType),Wt.setRequestHeader("Accept",Le.dataTypes[0]&&Le.accepts[Le.dataTypes[0]]?Le.accepts[Le.dataTypes[0]]+(Le.dataTypes[0]!=="*"?", "+nu+"; q=0.01":""):Le.accepts["*"]);for(Fe in Le.headers)Wt.setRequestHeader(Fe,Le.headers[Fe]);if(Le.beforeSend&&(Le.beforeSend.call(qe,Wt,Le)===!1||ce))return Wt.abort();if(bn="abort",vt.add(Le.complete),Wt.done(Le.success),Wt.fail(Le.error),P=Vn(tu,Le,w,Wt),!P)Xi(-1,"No Transport");else{if(Wt.readyState=1,Ce&&Tt.trigger("ajaxSend",[Wt,Le]),ce)return Wt;Le.async&&Le.timeout>0&&(K=e.setTimeout(function(){Wt.abort("timeout")},Le.timeout));try{ce=!1,P.send(Or,Xi)}catch(wn){if(ce)throw wn;Xi(-1,wn)}}function Xi(wn,_r,cf,Dh){var Qi,Ha,Us,Zi,To,bs=_r;ce||(ce=!0,K&&e.clearTimeout(K),P=void 0,j=Dh||"",Wt.readyState=wn>0?4:0,Qi=wn>=200&&wn<300||wn===304,cf&&(Zi=lf(Le,Wt,cf)),!Qi&&p.inArray("script",Le.dataTypes)>-1&&p.inArray("json",Le.dataTypes)<0&&(Le.converters["text script"]=function(){}),Zi=Vp(Le,Zi,Wt,Qi),Qi?(Le.ifModified&&(To=Wt.getResponseHeader("Last-Modified"),To&&(p.lastModified[O]=To),To=Wt.getResponseHeader("etag"),To&&(p.etag[O]=To)),wn===204||Le.type==="HEAD"?bs="nocontent":wn===304?bs="notmodified":(bs=Zi.state,Ha=Zi.data,Us=Zi.error,Qi=!Us)):(Us=bs,(wn||!bs)&&(bs="error",wn<0&&(wn=0))),Wt.status=wn,Wt.statusText=(_r||bs)+"",Qi?Kt.resolveWith(qe,[Ha,bs,Wt]):Kt.rejectWith(qe,[Wt,bs,Us]),Wt.statusCode(kr),kr=void 0,Ce&&Tt.trigger(Qi?"ajaxSuccess":"ajaxError",[Wt,Le,Qi?Ha:Us]),vt.fireWith(qe,[Wt,bs]),Ce&&(Tt.trigger("ajaxComplete",[Wt,Le]),--p.active||p.event.trigger("ajaxStop")))}return Wt},getJSON:function(g,w,P){return p.get(g,w,P,"json")},getScript:function(g,w){return p.get(g,void 0,w,"script")}}),p.each(["get","post"],function(g,w){p[w]=function(P,O,j,B){return S(O)&&(B=B||j,j=O,O=void 0),p.ajax(p.extend({url:P,type:w,dataType:B,data:O,success:j},p.isPlainObject(P)&&P))}}),p.ajaxPrefilter(function(g){var w;for(w in g.headers)w.toLowerCase()==="content-type"&&(g.contentType=g.headers[w]||"")}),p._evalUrl=function(g,w,P){return p.ajax({url:g,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(O){p.globalEval(O,w,P)}})},p.fn.extend({wrapAll:function(g){var w;return this[0]&&(S(g)&&(g=g.call(this[0])),w=p(g,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&w.insertBefore(this[0]),w.map(function(){for(var P=this;P.firstElementChild;)P=P.firstElementChild;return P}).append(this)),this},wrapInner:function(g){return S(g)?this.each(function(w){p(this).wrapInner(g.call(this,w))}):this.each(function(){var w=p(this),P=w.contents();P.length?P.wrapAll(g):w.append(g)})},wrap:function(g){var w=S(g);return this.each(function(P){p(this).wrapAll(w?g.call(this,P):g)})},unwrap:function(g){return this.parent(g).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}}),p.expr.pseudos.hidden=function(g){return!p.expr.pseudos.visible(g)},p.expr.pseudos.visible=function(g){return!!(g.offsetWidth||g.offsetHeight||g.getClientRects().length)},p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch{}};var uf={0:200,1223:204},dl=p.ajaxSettings.xhr();_.cors=!!dl&&"withCredentials"in dl,_.ajax=dl=!!dl,p.ajaxTransport(function(g){var w,P;if(_.cors||dl&&!g.crossDomain)return{send:function(O,j){var B,K=g.xhr();if(K.open(g.type,g.url,g.async,g.username,g.password),g.xhrFields)for(B in g.xhrFields)K[B]=g.xhrFields[B];g.mimeType&&K.overrideMimeType&&K.overrideMimeType(g.mimeType),!g.crossDomain&&!O["X-Requested-With"]&&(O["X-Requested-With"]="XMLHttpRequest");for(B in O)K.setRequestHeader(B,O[B]);w=function(pe){return function(){w&&(w=P=K.onload=K.onerror=K.onabort=K.ontimeout=K.onreadystatechange=null,pe==="abort"?K.abort():pe==="error"?typeof K.status!="number"?j(0,"error"):j(K.status,K.statusText):j(uf[K.status]||K.status,K.statusText,(K.responseType||"text")!=="text"||typeof K.responseText!="string"?{binary:K.response}:{text:K.responseText},K.getAllResponseHeaders()))}},K.onload=w(),P=K.onerror=K.ontimeout=w("error"),K.onabort!==void 0?K.onabort=P:K.onreadystatechange=function(){K.readyState===4&&e.setTimeout(function(){w&&P()})},w=w("abort");try{K.send(g.hasContent&&g.data||null)}catch(pe){if(w)throw pe}},abort:function(){w&&w()}}}),p.ajaxPrefilter(function(g){g.crossDomain&&(g.contents.script=!1)}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(g){return p.globalEval(g),g}}}),p.ajaxPrefilter("script",function(g){g.cache===void 0&&(g.cache=!1),g.crossDomain&&(g.type="GET")}),p.ajaxTransport("script",function(g){if(g.crossDomain||g.scriptAttrs){var w,P;return{send:function(O,j){w=p("<script>").attr(g.scriptAttrs||{}).prop({charset:g.scriptCharset,src:g.url}).on("load error",P=function(B){w.remove(),P=null,B&&j(B.type==="error"?404:200,B.type)}),y.head.appendChild(w[0])},abort:function(){P&&P()}}}});var Gu=[],z=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var g=Gu.pop()||p.expando+"_"+Oh.guid++;return this[g]=!0,g}}),p.ajaxPrefilter("json jsonp",function(g,w,P){var O,j,B,K=g.jsonp!==!1&&(z.test(g.url)?"url":typeof g.data=="string"&&(g.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&z.test(g.data)&&"data");if(K||g.dataTypes[0]==="jsonp")return O=g.jsonpCallback=S(g.jsonpCallback)?g.jsonpCallback():g.jsonpCallback,K?g[K]=g[K].replace(z,"$1"+O):g.jsonp!==!1&&(g.url+=(fl.test(g.url)?"&":"?")+g.jsonp+"="+O),g.converters["script json"]=function(){return B||p.error(O+" was not called"),B[0]},g.dataTypes[0]="json",j=e[O],e[O]=function(){B=arguments},P.always(function(){j===void 0?p(e).removeProp(O):e[O]=j,g[O]&&(g.jsonpCallback=w.jsonpCallback,Gu.push(O)),B&&S(j)&&j(B[0]),B=j=void 0}),"script"}),_.createHTMLDocument=function(){var g=y.implementation.createHTMLDocument("").body;return g.innerHTML="<form></form><form></form>",g.childNodes.length===2}(),p.parseHTML=function(g,w,P){if(typeof g!="string")return[];typeof w=="boolean"&&(P=w,w=!1);var O,j,B;return w||(_.createHTMLDocument?(w=y.implementation.createHTMLDocument(""),O=w.createElement("base"),O.href=y.location.href,w.head.appendChild(O)):w=y),j=se.exec(g),B=!P&&[],j?[w.createElement(j[1])]:(j=Fa([g],w,B),B&&B.length&&p(B).remove(),p.merge([],j.childNodes))},p.fn.load=function(g,w,P){var O,j,B,K=this,pe=g.indexOf(" ");return pe>-1&&(O=za(g.slice(pe)),g=g.slice(0,pe)),S(w)?(P=w,w=void 0):w&&typeof w=="object"&&(j="POST"),K.length>0&&p.ajax({url:g,type:j||"GET",dataType:"html",data:w}).done(function(ce){B=arguments,K.html(O?p("<div>").append(p.parseHTML(ce)).find(O):ce)}).always(P&&function(ce,Ce){K.each(function(){P.apply(this,B||[ce.responseText,Ce,ce])})}),this},p.expr.pseudos.animated=function(g){return p.grep(p.timers,function(w){return g===w.elem}).length},p.offset={setOffset:function(g,w,P){var O,j,B,K,pe,ce,Ce,Fe=p.css(g,"position"),Qe=p(g),Le={};Fe==="static"&&(g.style.position="relative"),pe=Qe.offset(),B=p.css(g,"top"),ce=p.css(g,"left"),Ce=(Fe==="absolute"||Fe==="fixed")&&(B+ce).indexOf("auto")>-1,Ce?(O=Qe.position(),K=O.top,j=O.left):(K=parseFloat(B)||0,j=parseFloat(ce)||0),S(w)&&(w=w.call(g,P,p.extend({},pe))),w.top!=null&&(Le.top=w.top-pe.top+K),w.left!=null&&(Le.left=w.left-pe.left+j),"using"in w?w.using.call(g,Le):Qe.css(Le)}},p.fn.extend({offset:function(g){if(arguments.length)return g===void 0?this:this.each(function(j){p.offset.setOffset(this,g,j)});var w,P,O=this[0];if(O)return O.getClientRects().length?(w=O.getBoundingClientRect(),P=O.ownerDocument.defaultView,{top:w.top+P.pageYOffset,left:w.left+P.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var g,w,P,O=this[0],j={top:0,left:0};if(p.css(O,"position")==="fixed")w=O.getBoundingClientRect();else{for(w=this.offset(),P=O.ownerDocument,g=O.offsetParent||P.documentElement;g&&(g===P.body||g===P.documentElement)&&p.css(g,"position")==="static";)g=g.parentNode;g&&g!==O&&g.nodeType===1&&(j=p(g).offset(),j.top+=p.css(g,"borderTopWidth",!0),j.left+=p.css(g,"borderLeftWidth",!0))}return{top:w.top-j.top-p.css(O,"marginTop",!0),left:w.left-j.left-p.css(O,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent;g&&p.css(g,"position")==="static";)g=g.offsetParent;return g||Ze})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(g,w){var P=w==="pageYOffset";p.fn[g]=function(O){return ke(this,function(j,B,K){var pe;if(b(j)?pe=j:j.nodeType===9&&(pe=j.defaultView),K===void 0)return pe?pe[w]:j[B];pe?pe.scrollTo(P?pe.pageXOffset:K,P?K:pe.pageYOffset):j[B]=K},g,O,arguments.length)}}),p.each(["top","left"],function(g,w){p.cssHooks[w]=Yn(_.pixelPosition,function(P,O){if(O)return O=En(P,w),je.test(O)?p(P).position()[w]+"px":O})}),p.each({Height:"height",Width:"width"},function(g,w){p.each({padding:"inner"+g,content:w,"":"outer"+g},function(P,O){p.fn[O]=function(j,B){var K=arguments.length&&(P||typeof j!="boolean"),pe=P||(j===!0||B===!0?"margin":"border");return ke(this,function(ce,Ce,Fe){var Qe;return b(ce)?O.indexOf("outer")===0?ce["inner"+g]:ce.document.documentElement["client"+g]:ce.nodeType===9?(Qe=ce.documentElement,Math.max(ce.body["scroll"+g],Qe["scroll"+g],ce.body["offset"+g],Qe["offset"+g],Qe["client"+g])):Fe===void 0?p.css(ce,Ce,pe):p.style(ce,Ce,Fe,pe)},w,K?j:void 0,K)}})}),p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(g,w){p.fn[w]=function(P){return this.on(w,P)}}),p.fn.extend({bind:function(g,w,P){return this.on(g,null,w,P)},unbind:function(g,w){return this.off(g,null,w)},delegate:function(g,w,P,O){return this.on(w,g,P,O)},undelegate:function(g,w,P){return arguments.length===1?this.off(g,"**"):this.off(w,g||"**",P)},hover:function(g,w){return this.mouseenter(g).mouseleave(w||g)}}),p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(g,w){p.fn[w]=function(P,O){return arguments.length>0?this.on(w,null,P,O):this.trigger(w)}});var Z=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;p.proxy=function(g,w){var P,O,j;if(typeof w=="string"&&(P=g[w],w=g,g=P),!!S(g))return O=s.call(arguments,2),j=function(){return g.apply(w||this,O.concat(s.call(arguments)))},j.guid=g.guid=g.guid||p.guid++,j},p.holdReady=function(g){g?p.readyWait++:p.ready(!0)},p.isArray=Array.isArray,p.parseJSON=JSON.parse,p.nodeName=G,p.isFunction=S,p.isWindow=b,p.camelCase=Q,p.type=M,p.now=Date.now,p.isNumeric=function(g){var w=p.type(g);return(w==="number"||w==="string")&&!isNaN(g-parseFloat(g))},p.trim=function(g){return g==null?"":(g+"").replace(Z,"$1")};var fe=e.jQuery,he=e.$;return p.noConflict=function(g){return e.$===p&&(e.$=he),g&&e.jQuery===p&&(e.jQuery=fe),p},typeof n>"u"&&(e.jQuery=e.$=p),p})})(EU);var $U=EU.exports;const Tn=Tr($U);(function(t){(function(e){var n=typeof self=="object"&&self.self===self&&self||typeof gr=="object"&&gr.global===gr&&gr;{var r=N6e(),i;try{i=$U}catch{}e(n,t,r,i)}})(function(e,n,r,i){var s=e.Backbone,a=Array.prototype.slice;n.VERSION="1.4.1",n.$=i,n.noConflict=function(){return e.Backbone=s,this},n.emulateHTTP=!1,n.emulateJSON=!1;var o=n.Events={},l=/\s+/,u,c=function(N,F,q,ie,ge){var ve=0,Te;if(q&&typeof q=="object")for(ie!==void 0&&("context"in ge)&&ge.context===void 0&&(ge.context=ie),Te=r.keys(q);ve<Te.length;ve++)F=c(N,F,Te[ve],q[Te[ve]],ge);else if(q&&l.test(q))for(Te=q.split(l);ve<Te.length;ve++)F=N(F,Te[ve],ie,ge);else F=N(F,q,ie,ge);return F};o.on=function(N,F,q){if(this._events=c(f,this._events||{},N,F,{context:q,ctx:this,listening:u}),u){var ie=this._listeners||(this._listeners={});ie[u.id]=u,u.interop=!1}return this},o.listenTo=function(N,F,q){if(!N)return this;var ie=N._listenId||(N._listenId=r.uniqueId("l")),ge=this._listeningTo||(this._listeningTo={}),ve=u=ge[ie];ve||(this._listenId||(this._listenId=r.uniqueId("l")),ve=u=ge[ie]=new y(this,N));var Te=d(N,F,q,this);if(u=void 0,Te)throw Te;return ve.interop&&ve.on(F,q),this};var f=function(N,F,q,ie){if(q){var ge=N[F]||(N[F]=[]),ve=ie.context,Te=ie.ctx,Ne=ie.listening;Ne&&Ne.count++,ge.push({callback:q,context:ve,ctx:ve||Te,listening:Ne})}return N},d=function(N,F,q,ie){try{N.on(F,q,ie)}catch(ge){return ge}};o.off=function(N,F,q){return this._events?(this._events=c(v,this._events,N,F,{context:q,listeners:this._listeners}),this):this},o.stopListening=function(N,F,q){var ie=this._listeningTo;if(!ie)return this;for(var ge=N?[N._listenId]:r.keys(ie),ve=0;ve<ge.length;ve++){var Te=ie[ge[ve]];if(!Te)break;Te.obj.off(F,q,this),Te.interop&&Te.off(F,q)}return r.isEmpty(ie)&&(this._listeningTo=void 0),this};var v=function(N,F,q,ie){if(N){var ge=ie.context,ve=ie.listeners,Te=0,Ne;if(!F&&!ge&&!q){for(Ne=r.keys(ve);Te<Ne.length;Te++)ve[Ne[Te]].cleanup();return}for(Ne=F?[F]:r.keys(N);Te<Ne.length;Te++){F=Ne[Te];var Be=N[F];if(!Be)break;for(var Xe=[],Je=0;Je<Be.length;Je++){var Ze=Be[Je];if(q&&q!==Ze.callback&&q!==Ze.callback._callback||ge&&ge!==Ze.context)Xe.push(Ze);else{var ut=Ze.listening;ut&&ut.off(F,q)}}Xe.length?N[F]=Xe:delete N[F]}return N}};o.once=function(N,F,q){var ie=c(_,{},N,F,this.off.bind(this));return typeof N=="string"&&q==null&&(F=void 0),this.on(ie,F,q)},o.listenToOnce=function(N,F,q){var ie=c(_,{},F,q,this.stopListening.bind(this,N));return this.listenTo(N,ie)};var _=function(N,F,q,ie){if(q){var ge=N[F]=r.once(function(){ie(F,ge),q.apply(this,arguments)});ge._callback=q}return N};o.trigger=function(N){if(!this._events)return this;for(var F=Math.max(0,arguments.length-1),q=Array(F),ie=0;ie<F;ie++)q[ie]=arguments[ie+1];return c(S,this._events,N,void 0,q),this};var S=function(N,F,q,ie){if(N){var ge=N[F],ve=N.all;ge&&ve&&(ve=ve.slice()),ge&&b(ge,ie),ve&&b(ve,[F].concat(ie))}return N},b=function(N,F){var q,ie=-1,ge=N.length,ve=F[0],Te=F[1],Ne=F[2];switch(F.length){case 0:for(;++ie<ge;)(q=N[ie]).callback.call(q.ctx);return;case 1:for(;++ie<ge;)(q=N[ie]).callback.call(q.ctx,ve);return;case 2:for(;++ie<ge;)(q=N[ie]).callback.call(q.ctx,ve,Te);return;case 3:for(;++ie<ge;)(q=N[ie]).callback.call(q.ctx,ve,Te,Ne);return;default:for(;++ie<ge;)(q=N[ie]).callback.apply(q.ctx,F);return}},y=function(N,F){this.id=N._listenId,this.listener=N,this.obj=F,this.interop=!0,this.count=0,this._events=void 0};y.prototype.on=o.on,y.prototype.off=function(N,F){var q;this.interop?(this._events=c(v,this._events,N,F,{context:void 0,listeners:void 0}),q=!this._events):(this.count--,q=this.count===0),q&&this.cleanup()},y.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},o.bind=o.on,o.unbind=o.off,r.extend(n,o);var A=n.Model=function(N,F){var q=N||{};F||(F={}),this.preinitialize.apply(this,arguments),this.cid=r.uniqueId(this.cidPrefix),this.attributes={},F.collection&&(this.collection=F.collection),F.parse&&(q=this.parse(q,F)||{});var ie=r.result(this,"defaults");q=r.defaults(r.extend({},ie,q),ie),this.set(q,F),this.changed={},this.initialize.apply(this,arguments)};r.extend(A.prototype,o,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(N){return r.clone(this.attributes)},sync:function(){return n.sync.apply(this,arguments)},get:function(N){return this.attributes[N]},escape:function(N){return r.escape(this.get(N))},has:function(N){return this.get(N)!=null},matches:function(N){return!!r.iteratee(N,this)(this.attributes)},set:function(N,F,q){if(N==null)return this;var ie;if(typeof N=="object"?(ie=N,q=F):(ie={})[N]=F,q||(q={}),!this._validate(ie,q))return!1;var ge=q.unset,ve=q.silent,Te=[],Ne=this._changing;this._changing=!0,Ne||(this._previousAttributes=r.clone(this.attributes),this.changed={});var Be=this.attributes,Xe=this.changed,Je=this._previousAttributes;for(var Ze in ie)F=ie[Ze],r.isEqual(Be[Ze],F)||Te.push(Ze),r.isEqual(Je[Ze],F)?delete Xe[Ze]:Xe[Ze]=F,ge?delete Be[Ze]:Be[Ze]=F;if(this.idAttribute in ie){var ut=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ut,q)}if(!ve){Te.length&&(this._pending=q);for(var xt=0;xt<Te.length;xt++)this.trigger("change:"+Te[xt],this,Be[Te[xt]],q)}if(Ne)return this;if(!ve)for(;this._pending;)q=this._pending,this._pending=!1,this.trigger("change",this,q);return this._pending=!1,this._changing=!1,this},unset:function(N,F){return this.set(N,void 0,r.extend({},F,{unset:!0}))},clear:function(N){var F={};for(var q in this.attributes)F[q]=void 0;return this.set(F,r.extend({},N,{unset:!0}))},hasChanged:function(N){return N==null?!r.isEmpty(this.changed):r.has(this.changed,N)},changedAttributes:function(N){if(!N)return this.hasChanged()?r.clone(this.changed):!1;var F=this._changing?this._previousAttributes:this.attributes,q={},ie;for(var ge in N){var ve=N[ge];r.isEqual(F[ge],ve)||(q[ge]=ve,ie=!0)}return ie?q:!1},previous:function(N){return N==null||!this._previousAttributes?null:this._previousAttributes[N]},previousAttributes:function(){return r.clone(this._previousAttributes)},fetch:function(N){N=r.extend({parse:!0},N);var F=this,q=N.success;return N.success=function(ie){var ge=N.parse?F.parse(ie,N):ie;if(!F.set(ge,N))return!1;q&&q.call(N.context,F,ie,N),F.trigger("sync",F,ie,N)},Q(this,N),this.sync("read",this,N)},save:function(N,F,q){var ie;N==null||typeof N=="object"?(ie=N,q=F):(ie={})[N]=F,q=r.extend({validate:!0,parse:!0},q);var ge=q.wait;if(ie&&!ge){if(!this.set(ie,q))return!1}else if(!this._validate(ie,q))return!1;var ve=this,Te=q.success,Ne=this.attributes;q.success=function(Je){ve.attributes=Ne;var Ze=q.parse?ve.parse(Je,q):Je;if(ge&&(Ze=r.extend({},ie,Ze)),Ze&&!ve.set(Ze,q))return!1;Te&&Te.call(q.context,ve,Je,q),ve.trigger("sync",ve,Je,q)},Q(this,q),ie&&ge&&(this.attributes=r.extend({},Ne,ie));var Be=this.isNew()?"create":q.patch?"patch":"update";Be==="patch"&&!q.attrs&&(q.attrs=ie);var Xe=this.sync(Be,this,q);return this.attributes=Ne,Xe},destroy:function(N){N=N?r.clone(N):{};var F=this,q=N.success,ie=N.wait,ge=function(){F.stopListening(),F.trigger("destroy",F,F.collection,N)};N.success=function(Te){ie&&ge(),q&&q.call(N.context,F,Te,N),F.isNew()||F.trigger("sync",F,Te,N)};var ve=!1;return this.isNew()?r.defer(N.success):(Q(this,N),ve=this.sync("delete",this,N)),ie||ge(),ve},url:function(){var N=r.result(this,"urlRoot")||r.result(this.collection,"url")||Y();if(this.isNew())return N;var F=this.get(this.idAttribute);return N.replace(/[^\/]$/,"$&/")+encodeURIComponent(F)},parse:function(N,F){return N},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(N){return this._validate({},r.extend({},N,{validate:!0}))},_validate:function(N,F){if(!F.validate||!this.validate)return!0;N=r.extend({},this.attributes,N);var q=this.validationError=this.validate(N,F)||null;return q?(this.trigger("invalid",this,q,r.extend(F,{validationError:q})),!1):!0}});var R=n.Collection=function(N,F){F||(F={}),this.preinitialize.apply(this,arguments),F.model&&(this.model=F.model),F.comparator!==void 0&&(this.comparator=F.comparator),this._reset(),this.initialize.apply(this,arguments),N&&this.reset(N,r.extend({silent:!0},F))},M={add:!0,remove:!0,merge:!0},$={add:!0,remove:!1},p=function(N,F,q){q=Math.min(Math.max(q,0),N.length);var ie=Array(N.length-q),ge=F.length,ve;for(ve=0;ve<ie.length;ve++)ie[ve]=N[ve+q];for(ve=0;ve<ge;ve++)N[ve+q]=F[ve];for(ve=0;ve<ie.length;ve++)N[ve+ge+q]=ie[ve]};r.extend(R.prototype,o,{model:A,preinitialize:function(){},initialize:function(){},toJSON:function(N){return this.map(function(F){return F.toJSON(N)})},sync:function(){return n.sync.apply(this,arguments)},add:function(N,F){return this.set(N,r.extend({merge:!1},F,$))},remove:function(N,F){F=r.extend({},F);var q=!r.isArray(N);N=q?[N]:N.slice();var ie=this._removeModels(N,F);return!F.silent&&ie.length&&(F.changes={added:[],merged:[],removed:ie},this.trigger("update",this,F)),q?ie[0]:ie},set:function(N,F){if(N!=null){F=r.extend({},M,F),F.parse&&!this._isModel(N)&&(N=this.parse(N,F)||[]);var q=!r.isArray(N);N=q?[N]:N.slice();var ie=F.at;ie!=null&&(ie=+ie),ie>this.length&&(ie=this.length),ie<0&&(ie+=this.length+1);var ge=[],ve=[],Te=[],Ne=[],Be={},Xe=F.add,Je=F.merge,Ze=F.remove,ut=!1,xt=this.comparator&&ie==null&&F.sort!==!1,Ot=r.isString(this.comparator)?this.comparator:null,mt,zt;for(zt=0;zt<N.length;zt++){mt=N[zt];var Hn=this.get(mt);if(Hn){if(Je&&mt!==Hn){var Cr=this._isModel(mt)?mt.attributes:mt;F.parse&&(Cr=Hn.parse(Cr,F)),Hn.set(Cr,F),Te.push(Hn),xt&&!ut&&(ut=Hn.hasChanged(Ot))}Be[Hn.cid]||(Be[Hn.cid]=!0,ge.push(Hn)),N[zt]=Hn}else Xe&&(mt=N[zt]=this._prepareModel(mt,F),mt&&(ve.push(mt),this._addReference(mt,F),Be[mt.cid]=!0,ge.push(mt)))}if(Ze){for(zt=0;zt<this.length;zt++)mt=this.models[zt],Be[mt.cid]||Ne.push(mt);Ne.length&&this._removeModels(Ne,F)}var Zn=!1,ci=!xt&&Xe&&Ze;if(ge.length&&ci?(Zn=this.length!==ge.length||r.some(this.models,function(er,yn){return er!==ge[yn]}),this.models.length=0,p(this.models,ge,0),this.length=this.models.length):ve.length&&(xt&&(ut=!0),p(this.models,ve,ie??this.length),this.length=this.models.length),ut&&this.sort({silent:!0}),!F.silent){for(zt=0;zt<ve.length;zt++)ie!=null&&(F.index=ie+zt),mt=ve[zt],mt.trigger("add",mt,this,F);(ut||Zn)&&this.trigger("sort",this,F),(ve.length||Ne.length||Te.length)&&(F.changes={added:ve,removed:Ne,merged:Te},this.trigger("update",this,F))}return q?N[0]:N}},reset:function(N,F){F=F?r.clone(F):{};for(var q=0;q<this.models.length;q++)this._removeReference(this.models[q],F);return F.previousModels=this.models,this._reset(),N=this.add(N,r.extend({silent:!0},F)),F.silent||this.trigger("reset",this,F),N},push:function(N,F){return this.add(N,r.extend({at:this.length},F))},pop:function(N){var F=this.at(this.length-1);return this.remove(F,N)},unshift:function(N,F){return this.add(N,r.extend({at:0},F))},shift:function(N){var F=this.at(0);return this.remove(F,N)},slice:function(){return a.apply(this.models,arguments)},get:function(N){if(N!=null)return this._byId[N]||this._byId[this.modelId(this._isModel(N)?N.attributes:N,N.idAttribute)]||N.cid&&this._byId[N.cid]},has:function(N){return this.get(N)!=null},at:function(N){return N<0&&(N+=this.length),this.models[N]},where:function(N,F){return this[F?"find":"filter"](N)},findWhere:function(N){return this.where(N,!0)},sort:function(N){var F=this.comparator;if(!F)throw new Error("Cannot sort a set without a comparator");N||(N={});var q=F.length;return r.isFunction(F)&&(F=F.bind(this)),q===1||r.isString(F)?this.models=this.sortBy(F):this.models.sort(F),N.silent||this.trigger("sort",this,N),this},pluck:function(N){return this.map(N+"")},fetch:function(N){N=r.extend({parse:!0},N);var F=N.success,q=this;return N.success=function(ie){var ge=N.reset?"reset":"set";q[ge](ie,N),F&&F.call(N.context,q,ie,N),q.trigger("sync",q,ie,N)},Q(this,N),this.sync("read",this,N)},create:function(N,F){F=F?r.clone(F):{};var q=F.wait;if(N=this._prepareModel(N,F),!N)return!1;q||this.add(N,F);var ie=this,ge=F.success;return F.success=function(ve,Te,Ne){q&&ie.add(ve,Ne),ge&&ge.call(Ne.context,ve,Te,Ne)},N.save(null,F),N},parse:function(N,F){return N},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(N,F){return N[F||this.model.prototype.idAttribute||"id"]},values:function(){return new T(this,D)},keys:function(){return new T(this,C)},entries:function(){return new T(this,U)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(N,F){if(this._isModel(N))return N.collection||(N.collection=this),N;F=F?r.clone(F):{},F.collection=this;var q;return this.model.prototype?q=new this.model(N,F):q=this.model(N,F),q.validationError?(this.trigger("invalid",this,q.validationError,F),!1):q},_removeModels:function(N,F){for(var q=[],ie=0;ie<N.length;ie++){var ge=this.get(N[ie]);if(ge){var ve=this.indexOf(ge);this.models.splice(ve,1),this.length--,delete this._byId[ge.cid];var Te=this.modelId(ge.attributes,ge.idAttribute);Te!=null&&delete this._byId[Te],F.silent||(F.index=ve,ge.trigger("remove",ge,this,F)),q.push(ge),this._removeReference(ge,F)}}return q},_isModel:function(N){return N instanceof A},_addReference:function(N,F){this._byId[N.cid]=N;var q=this.modelId(N.attributes,N.idAttribute);q!=null&&(this._byId[q]=N),N.on("all",this._onModelEvent,this)},_removeReference:function(N,F){delete this._byId[N.cid];var q=this.modelId(N.attributes,N.idAttribute);q!=null&&delete this._byId[q],this===N.collection&&delete N.collection,N.off("all",this._onModelEvent,this)},_onModelEvent:function(N,F,q,ie){if(F){if((N==="add"||N==="remove")&&q!==this)return;if(N==="destroy"&&this.remove(F,ie),N==="changeId"){var ge=this.modelId(F.previousAttributes(),F.idAttribute),ve=this.modelId(F.attributes,F.idAttribute);ge!=null&&delete this._byId[ge],ve!=null&&(this._byId[ve]=F)}}this.trigger.apply(this,arguments)}});var x=typeof Symbol=="function"&&Symbol.iterator;x&&(R.prototype[x]=R.prototype.values);var T=function(N,F){this._collection=N,this._kind=F,this._index=0},D=1,C=2,U=3;x&&(T.prototype[x]=function(){return this}),T.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var N=this._collection.at(this._index);this._index++;var F;if(this._kind===D)F=N;else{var q=this._collection.modelId(N.attributes,N.idAttribute);this._kind===C?F=q:F=[q,N]}return{value:F,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var G=n.View=function(N){this.cid=r.uniqueId("view"),this.preinitialize.apply(this,arguments),r.extend(this,r.pick(N,re)),this._ensureElement(),this.initialize.apply(this,arguments)},se=/^(\S+)\s*(.*)$/,re=["model","collection","el","id","attributes","className","tagName","events"];r.extend(G.prototype,o,{tagName:"div",$:function(N){return this.$el.find(N)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(N){return this.undelegateEvents(),this._setElement(N),this.delegateEvents(),this},_setElement:function(N){this.$el=N instanceof n.$?N:n.$(N),this.el=this.$el[0]},delegateEvents:function(N){if(N||(N=r.result(this,"events")),!N)return this;this.undelegateEvents();for(var F in N){var q=N[F];if(r.isFunction(q)||(q=this[q]),!!q){var ie=F.match(se);this.delegate(ie[1],ie[2],q.bind(this))}}return this},delegate:function(N,F,q){return this.$el.on(N+".delegateEvents"+this.cid,F,q),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(N,F,q){return this.$el.off(N+".delegateEvents"+this.cid,F,q),this},_createElement:function(N){return document.createElement(N)},_ensureElement:function(){if(this.el)this.setElement(r.result(this,"el"));else{var N=r.extend({},r.result(this,"attributes"));this.id&&(N.id=r.result(this,"id")),this.className&&(N.class=r.result(this,"className")),this.setElement(this._createElement(r.result(this,"tagName"))),this._setAttributes(N)}},_setAttributes:function(N){this.$el.attr(N)}});var ye=function(N,F,q,ie){switch(F){case 1:return function(){return N[q](this[ie])};case 2:return function(ge){return N[q](this[ie],ge)};case 3:return function(ge,ve){return N[q](this[ie],Ae(ge,this),ve)};case 4:return function(ge,ve,Te){return N[q](this[ie],Ae(ge,this),ve,Te)};default:return function(){var ge=a.call(arguments);return ge.unshift(this[ie]),N[q].apply(N,ge)}}},Pe=function(N,F,q,ie){r.each(q,function(ge,ve){F[ve]&&(N.prototype[ve]=ye(F,ge,ve,ie))})},Ae=function(N,F){return r.isFunction(N)?N:r.isObject(N)&&!F._isModel(N)?Ie(N):r.isString(N)?function(q){return q.get(N)}:N},Ie=function(N){var F=r.matches(N);return function(q){return F(q.attributes)}},Me={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},ae={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};r.each([[R,Me,"models"],[A,ae,"attributes"]],function(N){var F=N[0],q=N[1],ie=N[2];F.mixin=function(ge){var ve=r.reduce(r.functions(ge),function(Te,Ne){return Te[Ne]=0,Te},{});Pe(F,ge,ve,ie)},Pe(F,r,q,ie)}),n.sync=function(N,F,q){var ie=H[N];r.defaults(q||(q={}),{emulateHTTP:n.emulateHTTP,emulateJSON:n.emulateJSON});var ge={type:ie,dataType:"json"};if(q.url||(ge.url=r.result(F,"url")||Y()),q.data==null&&F&&(N==="create"||N==="update"||N==="patch")&&(ge.contentType="application/json",ge.data=JSON.stringify(q.attrs||F.toJSON(q))),q.emulateJSON&&(ge.contentType="application/x-www-form-urlencoded",ge.data=ge.data?{model:ge.data}:{}),q.emulateHTTP&&(ie==="PUT"||ie==="DELETE"||ie==="PATCH")){ge.type="POST",q.emulateJSON&&(ge.data._method=ie);var ve=q.beforeSend;q.beforeSend=function(Be){if(Be.setRequestHeader("X-HTTP-Method-Override",ie),ve)return ve.apply(this,arguments)}}ge.type!=="GET"&&!q.emulateJSON&&(ge.processData=!1);var Te=q.error;q.error=function(Be,Xe,Je){q.textStatus=Xe,q.errorThrown=Je,Te&&Te.call(q.context,Be,Xe,Je)};var Ne=q.xhr=n.ajax(r.extend(ge,q));return F.trigger("request",F,Ne,q),Ne};var H={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};n.ajax=function(){return n.$.ajax.apply(n.$,arguments)};var X=n.Router=function(N){N||(N={}),this.preinitialize.apply(this,arguments),N.routes&&(this.routes=N.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},V=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,I=/\*\w+/g,J=/[\-{}\[\]+?.,\\\^$|#\s]/g;r.extend(X.prototype,o,{preinitialize:function(){},initialize:function(){},route:function(N,F,q){r.isRegExp(N)||(N=this._routeToRegExp(N)),r.isFunction(F)&&(q=F,F=""),q||(q=this[F]);var ie=this;return n.history.route(N,function(ge){var ve=ie._extractParameters(N,ge);ie.execute(q,ve,F)!==!1&&(ie.trigger.apply(ie,["route:"+F].concat(ve)),ie.trigger("route",F,ve),n.history.trigger("route",ie,F,ve))}),this},execute:function(N,F,q){N&&N.apply(this,F)},navigate:function(N,F){return n.history.navigate(N,F),this},_bindRoutes:function(){if(this.routes){this.routes=r.result(this,"routes");for(var N,F=r.keys(this.routes);(N=F.pop())!=null;)this.route(N,this.routes[N])}},_routeToRegExp:function(N){return N=N.replace(J,"\\$&").replace(V,"(?:$1)?").replace(k,function(F,q){return q?F:"([^/?]+)"}).replace(I,"([^?]*?)"),new RegExp("^"+N+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(N,F){var q=N.exec(F).slice(1);return r.map(q,function(ie,ge){return ge===q.length-1?ie||null:ie?decodeURIComponent(ie):null})}});var ue=n.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},_e=/^[#\/]|\s+$/g,ke=/^\/+|\/+$/g,Ve=/#.*$/;ue.started=!1,r.extend(ue.prototype,o,{interval:50,atRoot:function(){var N=this.location.pathname.replace(/[^\/]$/,"$&/");return N===this.root&&!this.getSearch()},matchRoot:function(){var N=this.decodeFragment(this.location.pathname),F=N.slice(0,this.root.length-1)+"/";return F===this.root},decodeFragment:function(N){return decodeURI(N.replace(/%25/g,"%2525"))},getSearch:function(){var N=this.location.href.replace(/#.*/,"").match(/\?.+/);return N?N[0]:""},getHash:function(N){var F=(N||this).location.href.match(/#(.*)$/);return F?F[1]:""},getPath:function(){var N=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return N.charAt(0)==="/"?N.slice(1):N},getFragment:function(N){return N==null&&(this._usePushState||!this._wantsHashChange?N=this.getPath():N=this.getHash()),N.replace(_e,"")},start:function(N){if(ue.started)throw new Error("Backbone.history has already been started");if(ue.started=!0,this.options=r.extend({root:"/"},this.options,N),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ke,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var F=this.root.slice(0,-1)||"/";return this.location.replace(F+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var q=document.body,ie=q.insertBefore(this.iframe,q.firstChild).contentWindow;ie.document.open(),ie.document.close(),ie.location.hash="#"+this.fragment}var ge=window.addEventListener||function(ve,Te){return attachEvent("on"+ve,Te)};if(this._usePushState?ge("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?ge("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var N=window.removeEventListener||function(F,q){return detachEvent("on"+F,q)};this._usePushState?N("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&N("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),ue.started=!1},route:function(N,F){this.handlers.unshift({route:N,callback:F})},checkUrl:function(N){var F=this.getFragment();if(F===this.fragment&&this.iframe&&(F=this.getHash(this.iframe.contentWindow)),F===this.fragment)return!1;this.iframe&&this.navigate(F),this.loadUrl()},loadUrl:function(N){return this.matchRoot()?(N=this.fragment=this.getFragment(N),r.some(this.handlers,function(F){if(F.route.test(N))return F.callback(N),!0})):!1},navigate:function(N,F){if(!ue.started)return!1;(!F||F===!0)&&(F={trigger:!!F}),N=this.getFragment(N||"");var q=this.root;(N===""||N.charAt(0)==="?")&&(q=q.slice(0,-1)||"/");var ie=q+N;N=N.replace(Ve,"");var ge=this.decodeFragment(N);if(this.fragment!==ge){if(this.fragment=ge,this._usePushState)this.history[F.replace?"replaceState":"pushState"]({},document.title,ie);else if(this._wantsHashChange){if(this._updateHash(this.location,N,F.replace),this.iframe&&N!==this.getHash(this.iframe.contentWindow)){var ve=this.iframe.contentWindow;F.replace||(ve.document.open(),ve.document.close()),this._updateHash(ve.location,N,F.replace)}}else return this.location.assign(ie);if(F.trigger)return this.loadUrl(N)}},_updateHash:function(N,F,q){if(q){var ie=N.href.replace(/(javascript:|#).*$/,"");N.replace(ie+"#"+F)}else N.hash="#"+F}}),n.history=new ue;var We=function(N,F){var q=this,ie;return N&&r.has(N,"constructor")?ie=N.constructor:ie=function(){return q.apply(this,arguments)},r.extend(ie,q,F),ie.prototype=r.create(q.prototype,N),ie.prototype.constructor=ie,ie.__super__=q.prototype,ie};A.extend=R.extend=X.extend=G.extend=ue.extend=We;var Y=function(){throw new Error('A "url" property or function must be specified')},Q=function(N,F){var q=F.error;F.error=function(ie){q&&q.call(F.context,N,ie,F),N.trigger("error",N,ie,F)}};return n})})(xU);const ls=Tr(xU),I6e=function(){var t=typeof window=="object"&&!!window.SVGAngle;if(!t)return function(){throw new Error("SVG is required to use Vectorizer.")};var e={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},n="1.1",r=Math,i=r.PI,s=r.atan2,a=r.sqrt,o=r.min,l=r.max,u=r.cos,c=r.sin,f=function($,p,x){if(!(this instanceof f))return f.apply(Object.create(f.prototype),arguments);if($){if(f.isV($)&&($=$.node),p=p||{},f.isString($)){if($=$.trim(),$.toLowerCase()==="svg")$=f.createSvgDocument();else if($[0]==="<"){var T=f.createSvgDocument($);if(T.childNodes.length>1){var D=[],C,U;for(C=0,U=T.childNodes.length;C<U;C++){var G=T.childNodes[C];D.push(new f(document.importNode(G,!0)))}return D}$=document.importNode(T.firstChild,!0)}else $=document.createElementNS(e.svg,$);f.ensureId($)}return this.node=$,this.setAttributes(p),x&&this.append(x),this}},d=f.prototype;Object.defineProperty(d,"id",{enumerable:!0,get:function(){return this.node.id},set:function($){this.node.id=$}}),d.getTransformToElement=function($){var p=this.node;if(f.isSVGGraphicsElement($)&&f.isSVGGraphicsElement(p)){var x=f.toNode($).getScreenCTM(),T=p.getScreenCTM();if(x&&T)return x.inverse().multiply(T)}return f.createSVGMatrix()},d.transform=function($,p){var x=this.node;if(f.isUndefined($))return f.transformStringToMatrix(this.attr("transform"));if(p&&p.absolute)return this.attr("transform",f.matrixToTransformString($));var T=f.createSVGTransform($);return x.transform.baseVal.appendItem(T),this},d.translate=function($,p,x){x=x||{},p=p||0;var T=this.attr("transform")||"",D=f.parseTransformString(T);if(T=D.value,f.isUndefined($))return D.translate;T=T.replace(/translate\([^)]*\)/g,"").trim();var C=x.absolute?$:D.translate.tx+$,U=x.absolute?p:D.translate.ty+p,G="translate("+C+","+U+")";return this.attr("transform",(G+" "+T).trim()),this},d.rotate=function($,p,x,T){T=T||{};var D=this.attr("transform")||"",C=f.parseTransformString(D);if(D=C.value,f.isUndefined($))return C.rotate;D=D.replace(/rotate\([^)]*\)/g,"").trim(),$%=360;var U=T.absolute?$:C.rotate.angle+$,G=p!==void 0&&x!==void 0?","+p+","+x:"",se="rotate("+U+G+")";return this.attr("transform",(D+" "+se).trim()),this},d.scale=function($,p){p=f.isUndefined(p)?$:p;var x=this.attr("transform")||"",T=f.parseTransformString(x);if(x=T.value,f.isUndefined($))return T.scale;x=x.replace(/scale\([^)]*\)/g,"").trim();var D="scale("+$+","+p+")";return this.attr("transform",(x+" "+D).trim()),this},d.bbox=function($,p){var x,T=this.node,D=T.ownerSVGElement;if(!D)return new lt(0,0,0,0);try{x=T.getBBox()}catch{x={x:T.clientLeft,y:T.clientTop,width:T.clientWidth,height:T.clientHeight}}if($)return new lt(x);var C=this.getTransformToElement(p||D);return f.transformRect(x,C)},d.getBBox=function($){var p={},x,T=this.node,D=T.ownerSVGElement;if(!D||!f.isSVGGraphicsElement(T))return new lt(0,0,0,0);if($&&($.target&&(p.target=f.toNode($.target)),$.recursive&&(p.recursive=$.recursive)),p.recursive){var U=this.children(),G=U.length;if(G===0)return this.getBBox({target:p.target,recursive:!1});p.target||(p.target=this);for(var se=0;se<G;se++){var re=U[se],ye;re.children().length===0?ye=re.getBBox({target:p.target,recursive:!1}):ye=re.getBBox({target:p.target,recursive:!0}),x?x=x.union(ye):x=ye}return x}else{try{x=T.getBBox()}catch{x={x:T.clientLeft,y:T.clientTop,width:T.clientWidth,height:T.clientHeight}}if(p.target){var C=this.getTransformToElement(p.target);return f.transformRect(x,C)}else return new lt(x)}};function v($,p){$||($={});var x=f("textPath"),T=$.d;if(T&&$["xlink:href"]===void 0){var D=f("path").attr("d",T).appendTo(p.defs());x.attr("xlink:href","#"+D.id)}return f.isObject($)&&x.attr($),x.node}function _($,p,x){x||(x={});for(var T=x.includeAnnotationIndices,D=x.eol,C=x.lineHeight,U=x.baseSize,G=0,se={},re=p.length-1,ye=0;ye<=re;ye++){var Pe=p[ye],Ae=null;if(f.isObject(Pe)){var Ie=Pe.attrs,Me=f("tspan",Ie),ae=Me.node,H=Pe.t;D&&ye===re&&(H+=D),ae.textContent=H;var X=Ie.class;X&&Me.addClass(X),T&&Me.attr("annotations",Pe.annotations),Ae=parseFloat(Ie["font-size"]),isFinite(Ae)||(Ae=U),Ae&&Ae>G&&(G=Ae)}else D&&ye===re&&(Pe+=D),ae=document.createTextNode(Pe||" "),U&&U>G&&(G=U);$.appendChild(ae)}return G&&(se.maxFontSize=G),C?se.lineHeight=C:G&&(se.lineHeight=G*1.2),se}var S=/em$/;function b($,p){var x=parseFloat($);return S.test($)?x*p:x}function y($,p,x,T){if(!Array.isArray(p))return 0;var D=p.length;if(!D)return 0;for(var C=p[0],U=b(C.maxFontSize,x)||x,G=0,se=b(T,x),re=1;re<D;re++){C=p[re];var ye=b(C.lineHeight,x)||se;G+=ye}var Pe=b(C.maxFontSize,x)||x,Ae;switch($){case"middle":Ae=U/2-.15*Pe-G/2;break;case"bottom":Ae=-(.25*Pe)-G;break;default:case"top":Ae=.8*U;break}return Ae}d.text=function($,p){if($&&typeof $!="string")throw new Error("Vectorizer: text() expects the first argument to be a string.");$=f.sanitizeText($),p||(p={});var x=p.displayEmpty,T=p.eol,D=p.textPath,C=p.textVerticalAnchor,U=C==="middle"||C==="bottom"||C==="top",G=p.x;G===void 0&&(G=this.attr("x")||0);var se=p.includeAnnotationIndices,re=p.annotations;re&&!f.isArray(re)&&(re=[re]);var ye=p.lineHeight,Pe=ye==="auto",Ae=Pe?"1.5em":ye||"1em";this.empty(),this.attr({"xml:space":"preserve",display:$||x?null:"none"});var Ie=parseFloat(this.attr("font-size"));Ie||(Ie=16,(U||re)&&this.attr("font-size",Ie));var Me=document,ae;D?(typeof D=="string"&&(D={d:D}),ae=v(D,this)):ae=Me.createDocumentFragment();for(var H=0,X=$.split(`
`),V=[],k,I=0,J=X.length-1;I<=J;I++){var ue=Ae,_e="v-line",ke=Me.createElementNS(e.svg,"tspan"),Ve=X[I],We;if(Ve)if(re){var Y=f.annotateString(Ve,re,{offset:-H,includeAnnotationIndices:se});We=_(ke,Y,{includeAnnotationIndices:se,eol:I!==J&&T,lineHeight:Pe?null:Ae,baseSize:Ie});var Q=We.lineHeight;Q&&Pe&&I!==0&&(ue=Q),I===0&&(k=We.maxFontSize*.8)}else T&&I!==J&&(Ve+=T),ke.textContent=Ve;else{ke.textContent="-",_e+=" v-empty-line";var N=ke.style;if(N.fillOpacity=0,N.strokeOpacity=0,re){We={},Y=f.findAnnotationsAtIndex(re,H);let q=Ie;for(let ie=Y.length;ie>0;ie--){const ge=Y[ie-1].attrs;if(!ge||!("font-size"in ge))continue;const ve=parseFloat(ge["font-size"]);if(isFinite(ve)){q=ve;break}}Pe&&(I>0?ue=q*1.2:k=q*.8),ke.setAttribute("font-size",q),We.maxFontSize=q}}We&&V.push(We),I>0&&ke.setAttribute("dy",ue),(I>0||D)&&ke.setAttribute("x",G),ke.className.baseVal=_e,ae.appendChild(ke),H+=Ve.length+1}if(U)if(re)ue=y(C,V,Ie,Ae);else if(C==="top")ue="0.8em";else{var F;switch(J>0?(F=parseFloat(Ae)||1,F*=J,S.test(Ae)||(F/=Ie)):F=0,C){case"middle":ue=.3-F/2+"em";break;case"bottom":ue=-F-.3+"em";break}}else C===0?ue="0em":C?ue=C:(ue=0,this.attr("y")===null&&this.attr("y",k||"0.8em"));return ae.firstChild.setAttribute("dy",ue),this.append(ae),this},d.removeAttr=function($){var p=f.qualifyAttr($),x=this.node;return p.ns?x.hasAttributeNS(p.ns,p.local)&&x.removeAttributeNS(p.ns,p.local):x.hasAttribute($)&&x.removeAttribute($),this},d.attr=function($,p){if(f.isUndefined($)){for(var x=this.node.attributes,T={},D=0;D<x.length;D++)T[x[D].name]=x[D].value;return T}if(f.isString($)&&f.isUndefined(p))return this.node.getAttribute($);if(typeof $=="object")for(var C in $)$.hasOwnProperty(C)&&this.setAttribute(C,$[C]);else this.setAttribute($,p);return this},d.normalizePath=function(){var $=this.tagName();return $==="PATH"&&this.attr("d",f.normalizePathData(this.attr("d"))),this},d.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},d.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},d.setAttributes=function($){for(var p in $)$.hasOwnProperty(p)&&this.setAttribute(p,$[p]);return this},d.append=function($){f.isArray($)||($=[$]);for(var p=0,x=$.length;p<x;p++)this.node.appendChild(f.toNode($[p]));return this},d.prepend=function($){var p=this.node.firstChild;return p?f(p).before($):this.append($)},d.before=function($){var p=this.node,x=p.parentNode;if(x){f.isArray($)||($=[$]);for(var T=0,D=$.length;T<D;T++)x.insertBefore(f.toNode($[T]),p)}return this},d.appendTo=function($){return f.toNode($).appendChild(this.node),this},d.svg=function(){return this.node instanceof window.SVGSVGElement?this:f(this.node.ownerSVGElement)},d.tagName=function(){return this.node.tagName.toUpperCase()},d.defs=function(){var $=this.svg()||this,p=$.node.getElementsByTagName("defs")[0];return p?f(p):f("defs").appendTo($)},d.clone=function(){var $=f(this.node.cloneNode(!0));return $.node.id=f.uniqueId(),$},d.findOne=function($){var p=this.node.querySelector($);return p?f(p):void 0},d.find=function($){var p=[],x=this.node.querySelectorAll($);if(x)for(var T=0;T<x.length;T++)p.push(f(x[T]));return p},d.children=function(){for(var $=this.node.childNodes,p=[],x=0;x<$.length;x++){var T=$[x];T.nodeType===1&&p.push(f($[x]))}return p},d.parent=function(){return f(this.node.parentNode)||null},d.index=function(){for(var $=0,p=this.node.previousSibling;p;)p.nodeType===1&&$++,p=p.previousSibling;return $},d.findParentByClass=function($,p){for(var x=this.node.ownerSVGElement,T=this.node.parentNode;T&&T!==p&&T!==x;){var D=f(T);if(D.hasClass($))return D;T=T.parentNode}return null},d.contains=function($){var p=this.node,x=f.toNode($),T=x&&x.parentNode;return p===T||!!(T&&T.nodeType===1&&p.compareDocumentPosition(T)&16)},d.toLocalPoint=function($,p){var x=this.svg().node,T=x.createSVGPoint();T.x=$,T.y=p;try{var D=T.matrixTransform(x.getScreenCTM().inverse()),C=this.getTransformToElement(x).inverse()}catch{return T}return D.matrixTransform(C)},d.translateCenterToPoint=function($){var p=this.getBBox({target:this.svg()}),x=p.center();return this.translate($.x-x.x,$.y-x.y),this},d.translateAndAutoOrient=function($,p,x){$=new we($),p=new we(p),x||(x=this.svg());var T=this.scale();this.attr("transform","");var D=this.getBBox({target:x}).scale(T.sx,T.sy),C=f.createSVGTransform();C.setTranslate(-D.x-D.width/2,-D.y-D.height/2);var U=f.createSVGTransform(),G=$.angleBetween(p,$.clone().offset(1,0));G&&U.setRotate(G,0,0);var se=f.createSVGTransform(),re=$.clone().move(p,D.width/2);se.setTranslate(2*$.x-re.x,2*$.y-re.y);var ye=this.getTransformToElement(x),Pe=f.createSVGTransform();return Pe.setMatrix(se.matrix.multiply(U.matrix.multiply(C.matrix.multiply(ye.scale(T.sx,T.sy))))),this.attr("transform",f.matrixToTransformString(Pe.matrix)),this},d.animateAlongPath=function($,p){p=f.toNode(p);var x=f.ensureId(p),T=f("animateMotion",$),D=f("mpath",{"xlink:href":"#"+x});T.append(D),this.append(T);try{T.node.beginElement()}catch{if(document.documentElement.getAttribute("smiling")==="fake"){var C=T.node;C.animators=[];var U=C.getAttribute("id");U&&(id2anim[U]=C);for(var G=getTargets(C),se=0,re=G.length;se<re;se++){var ye=G[se],Pe=new Animator(C,ye,se);animators.push(Pe),C.animators[se]=Pe,Pe.register()}}}return this};const A=/[^\x20\t\r\n\f]+/g;function R($){return f.isString($)?$.trim().match(A)||[]:[]}d.hasClass=function($){return f.isString($)?this.node.classList.contains($.trim()):!1},d.addClass=function($){return this.node.classList.add(...R($)),this},d.removeClass=function($){return this.node.classList.remove(...R($)),this},d.toggleClass=function($,p){const x=R($);for(let T=0;T<x.length;T++)this.node.classList.toggle(x[T],p);return this},d.sample=function($){$=$||1;for(var p=this.node,x=p.getTotalLength(),T=[],D=0,C;D<x;)C=p.getPointAtLength(D),T.push({x:C.x,y:C.y,distance:D}),D+=$;return T},d.convertToPath=function(){var $=f("path");$.attr(this.attr());var p=this.convertToPathData();return p&&$.attr("d",p),$},d.convertToPathData=function(){var $=this.tagName();switch($){case"PATH":return this.attr("d");case"LINE":return f.convertLineToPathData(this.node);case"POLYGON":return f.convertPolygonToPathData(this.node);case"POLYLINE":return f.convertPolylineToPathData(this.node);case"ELLIPSE":return f.convertEllipseToPathData(this.node);case"CIRCLE":return f.convertCircleToPathData(this.node);case"RECT":return f.convertRectToPathData(this.node)}throw new Error($+" cannot be converted to PATH.")},f.prototype.toGeometryShape=function(){var $,p,x,T,D,C,U,G,se,re,ye,Pe,Ae,Ie,Me;switch(this.tagName()){case"RECT":return $=parseFloat(this.attr("x"))||0,p=parseFloat(this.attr("y"))||0,x=parseFloat(this.attr("width"))||0,T=parseFloat(this.attr("height"))||0,new lt($,p,x,T);case"CIRCLE":return D=parseFloat(this.attr("cx"))||0,C=parseFloat(this.attr("cy"))||0,U=parseFloat(this.attr("r"))||0,new Is({x:D,y:C},U,U);case"ELLIPSE":return D=parseFloat(this.attr("cx"))||0,C=parseFloat(this.attr("cy"))||0,G=parseFloat(this.attr("rx"))||0,se=parseFloat(this.attr("ry"))||0,new Is({x:D,y:C},G,se);case"POLYLINE":return re=f.getPointsFromSvgNode(this),new hr(re);case"POLYGON":return re=f.getPointsFromSvgNode(this),re.length>1&&re.push(re[0]),new hr(re);case"PATH":return ye=this.attr("d"),wt.isDataSupported(ye)||(ye=f.normalizePathData(ye)),new wt(ye);case"LINE":return Pe=parseFloat(this.attr("x1"))||0,Ie=parseFloat(this.attr("y1"))||0,Ae=parseFloat(this.attr("x2"))||0,Me=parseFloat(this.attr("y2"))||0,new pt({x:Pe,y:Ie},{x:Ae,y:Me})}return this.getBBox()},d.findIntersection=function($,p){var x=this.svg().node;p=p||x;var T=this.getBBox({target:p}),D=T.center();if(T.intersectionWithLineFromCenterToPoint($)){var C,U=this.tagName();if(U==="RECT"){var G=new lt(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),se=this.getTransformToElement(p),re=f.decomposeMatrix(se),ye=x.createSVGTransform();ye.setRotate(-re.rotation,D.x,D.y);var Pe=f.transformRect(G,ye.matrix.multiply(se));C=new lt(Pe).intersectionWithLineFromCenterToPoint($,re.rotation)}else if(U==="PATH"||U==="POLYGON"||U==="POLYLINE"||U==="CIRCLE"||U==="ELLIPSE"){var Ae=U==="PATH"?this:this.convertToPath(),Ie=Ae.sample(),Me=1/0,ae=[],H,X,V,k,I,J;for(H=0;H<Ie.length;H++)X=Ie[H],V=f.createSVGPoint(X.x,X.y),V=V.matrixTransform(this.getTransformToElement(p)),X=new we(V),k=X.distance(D),I=X.distance($)*1.1,J=k+I,J<Me?(Me=J,ae=[{sample:X,refDistance:I}]):J<Me+1&&ae.push({sample:X,refDistance:I});ae.sort(function(ue,_e){return ue.refDistance-_e.refDistance}),ae[0]&&(C=ae[0].sample)}return C}},d.setAttribute=function($,p){var x=this.node;if(p===null)return this.removeAttr($),this;var T=f.qualifyAttr($);return T.ns?x.setAttributeNS(T.ns,$,p):$==="id"?x.id=p:x.setAttribute($,p),this},f.createSvgDocument=function($){if($){const x=`<svg xmlns="${e.svg}" xmlns:xlink="${e.xlink}" version="${n}">${$}</svg>`,{documentElement:T}=f.parseXML(x,{async:!1});return T}const p=document.createElementNS(e.svg,"svg");return p.setAttributeNS(e.xmlns,"xmlns:xlink",e.xlink),p.setAttribute("version",n),p},f.createSVGStyle=function($){const{node:p}=f("style",{type:"text/css"},[f.createCDATASection($)]);return p},f.createCDATASection=function($=""){return document.implementation.createDocument(null,"xml",null).createCDATASection($)},f.idCounter=0,f.uniqueId=function(){return"v-"+ ++f.idCounter},f.toNode=function($){return f.isV($)?$.node:$.nodeName&&$||$[0]},f.ensureId=function($){return $=f.toNode($),$.id||($.id=f.uniqueId())},f.sanitizeText=function($){return($||"").replace(/ /g,"")},f.isUndefined=function($){return typeof $>"u"},f.isString=function($){return typeof $=="string"},f.isObject=function($){return $&&typeof $=="object"},f.isArray=Array.isArray,f.parseXML=function($,p){p=p||{};var x;try{var T=new DOMParser;f.isUndefined(p.async)||(T.async=p.async),x=T.parseFromString($,"text/xml")}catch{x=void 0}if(!x||x.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+$);return x},f.qualifyAttr=function($){if($.indexOf(":")!==-1){var p=$.split(":");return{ns:e[p[0]],local:p[1]}}return{ns:null,local:$}},f.transformSeparatorRegex=/[ ,]+/,f.transformRegex=/\b\w+\([^()]+\)/g,f.transformFunctionRegex=/\b(\w+)\(([^()]+)\)/,f.transformTranslateRegex=/\btranslate\(([^()]+)\)/,f.transformRotateRegex=/\brotate\(([^()]+)\)/,f.transformScaleRegex=/\bscale\(([^()]+)\)/,f.transformStringToMatrix=function($){let p=f.createSVGMatrix();const x=$&&$.match(f.transformRegex);if(!x)return p;const T=x.length;for(let D=0;D<T;D++){const U=x[D].match(f.transformFunctionRegex);if(U){let G,se,re,ye,Pe,Ae=f.createSVGMatrix();const Ie=U[1].toLowerCase(),Me=U[2].split(f.transformSeparatorRegex);switch(Ie){case"scale":G=parseFloat(Me[0]),se=Me[1]===void 0?G:parseFloat(Me[1]),Ae=Ae.scaleNonUniform(G,se);break;case"translate":re=parseFloat(Me[0]),ye=parseFloat(Me[1]),Ae=Ae.translate(re,ye);break;case"rotate":Pe=parseFloat(Me[0]),re=parseFloat(Me[1])||0,ye=parseFloat(Me[2])||0,re!==0||ye!==0?Ae=Ae.translate(re,ye).rotate(Pe).translate(-re,-ye):Ae=Ae.rotate(Pe);break;case"skewx":Pe=parseFloat(Me[0]),Ae=Ae.skewX(Pe);break;case"skewy":Pe=parseFloat(Me[0]),Ae=Ae.skewY(Pe);break;case"matrix":Ae.a=parseFloat(Me[0]),Ae.b=parseFloat(Me[1]),Ae.c=parseFloat(Me[2]),Ae.d=parseFloat(Me[3]),Ae.e=parseFloat(Me[4]),Ae.f=parseFloat(Me[5]);break;default:continue}p=p.multiply(Ae)}}return p},f.matrixToTransformString=function($){return $||($=!0),"matrix("+($.a!==void 0?$.a:1)+","+($.b!==void 0?$.b:0)+","+($.c!==void 0?$.c:0)+","+($.d!==void 0?$.d:1)+","+($.e!==void 0?$.e:0)+","+($.f!==void 0?$.f:0)+")"},f.parseTransformString=function($){var p,x,T;if($){var D=f.transformSeparatorRegex;if($.trim().indexOf("matrix")>=0){var C=f.transformStringToMatrix($),U=f.decomposeMatrix(C);p=[U.translateX,U.translateY],T=[U.scaleX,U.scaleY],x=[U.rotation];var G=[];(p[0]!==0||p[1]!==0)&&G.push("translate("+p+")"),(T[0]!==1||T[1]!==1)&&G.push("scale("+T+")"),x[0]!==0&&G.push("rotate("+x+")"),$=G.join(" ")}else{const re=$.match(f.transformTranslateRegex);re&&(p=re[1].split(D));const ye=$.match(f.transformRotateRegex);ye&&(x=ye[1].split(D));const Pe=$.match(f.transformScaleRegex);Pe&&(T=Pe[1].split(D))}}var se=T&&T[0]?parseFloat(T[0]):1;return{value:$,translate:{tx:p&&p[0]?parseInt(p[0],10):0,ty:p&&p[1]?parseInt(p[1],10):0},rotate:{angle:x&&x[0]?parseInt(x[0],10):0,cx:x&&x[1]?parseInt(x[1],10):void 0,cy:x&&x[2]?parseInt(x[2],10):void 0},scale:{sx:se,sy:T&&T[1]?parseFloat(T[1]):se}}},f.deltaTransformPoint=function($,p){var x=p.x*$.a+p.y*$.c+0,T=p.x*$.b+p.y*$.d+0;return{x,y:T}},f.decomposeMatrix=function($){var p=f.deltaTransformPoint($,{x:0,y:1}),x=f.deltaTransformPoint($,{x:1,y:0}),T=180/i*s(p.y,p.x)-90,D=180/i*s(x.y,x.x);return{translateX:$.e,translateY:$.f,scaleX:a($.a*$.a+$.b*$.b),scaleY:a($.c*$.c+$.d*$.d),skewX:T,skewY:D,rotation:T}},f.matrixToScale=function($){var p,x,T,D;return $?(p=f.isUndefined($.a)?1:$.a,D=f.isUndefined($.d)?1:$.d,x=$.b,T=$.c):p=D=1,{sx:x?a(p*p+x*x):p,sy:T?a(T*T+D*D):D}},f.matrixToRotate=function($){var p={x:0,y:1};return $&&(p=f.deltaTransformPoint($,p)),{angle:Gl(xw(s(p.y,p.x))-90)}},f.matrixToTranslate=function($){return{tx:$&&$.e||0,ty:$&&$.f||0}},f.isV=function($){return $ instanceof f},f.isVElement=f.isV,f.isSVGGraphicsElement=function($){return $?($=f.toNode($),$ instanceof SVGElement&&typeof $.getScreenCTM=="function"):!1};var M=f("svg").node;return f.createSVGMatrix=function($){var p=M.createSVGMatrix();for(var x in $)p[x]=$[x];return p},f.createSVGTransform=function($){return f.isUndefined($)?M.createSVGTransform():($ instanceof SVGMatrix||($=f.createSVGMatrix($)),M.createSVGTransformFromMatrix($))},f.createSVGPoint=function($,p){var x=M.createSVGPoint();return x.x=$,x.y=p,x},f.transformRect=function($,p){var x=M.createSVGPoint();x.x=$.x,x.y=$.y;var T=x.matrixTransform(p);x.x=$.x+$.width,x.y=$.y;var D=x.matrixTransform(p);x.x=$.x+$.width,x.y=$.y+$.height;var C=x.matrixTransform(p);x.x=$.x,x.y=$.y+$.height;var U=x.matrixTransform(p),G=o(T.x,D.x,C.x,U.x),se=l(T.x,D.x,C.x,U.x),re=o(T.y,D.y,C.y,U.y),ye=l(T.y,D.y,C.y,U.y);return new lt(G,re,se-G,ye-re)},f.transformPoint=function($,p){return new we(f.createSVGPoint($.x,$.y).matrixTransform(p))},f.transformLine=function($,p){return new pt(f.transformPoint($.start,p),f.transformPoint($.end,p))},f.transformPolyline=function($,p){var x=$ instanceof hr?$.points:$;f.isArray(x)||(x=[]);for(var T=[],D=0,C=x.length;D<C;D++)T[D]=f.transformPoint(x[D],p);return new hr(T)},f.styleToObject=function($){for(var p={},x=$.split(";"),T=0;T<x.length;T++){var D=x[T],C=D.split("=");p[C[0].trim()]=C[1].trim()}return p},f.createSlicePathData=function($,p,x,T){var D=2*i-1e-6,C=$,U=p,G=x,se=T,re=(se<G&&(re=G,G=se,se=re),se-G),ye=re<i?"0":"1",Pe=u(G),Ae=c(G),Ie=u(se),Me=c(se);return re>=D?C?"M0,"+U+"A"+U+","+U+" 0 1,1 0,"+-U+"A"+U+","+U+" 0 1,1 0,"+U+"M0,"+C+"A"+C+","+C+" 0 1,0 0,"+-C+"A"+C+","+C+" 0 1,0 0,"+C+"Z":"M0,"+U+"A"+U+","+U+" 0 1,1 0,"+-U+"A"+U+","+U+" 0 1,1 0,"+U+"Z":C?"M"+U*Pe+","+U*Ae+"A"+U+","+U+" 0 "+ye+",1 "+U*Ie+","+U*Me+"L"+C*Ie+","+C*Me+"A"+C+","+C+" 0 "+ye+",0 "+C*Pe+","+C*Ae+"Z":"M"+U*Pe+","+U*Ae+"A"+U+","+U+" 0 "+ye+",1 "+U*Ie+","+U*Me+"L0,0Z"},f.mergeAttrs=function($,p){for(var x in p)x==="class"?$[x]=$[x]?$[x]+" "+p[x]:p[x]:x==="style"?f.isObject($[x])&&f.isObject(p[x])?$[x]=f.mergeAttrs($[x],p[x]):f.isObject($[x])?$[x]=f.mergeAttrs($[x],f.styleToObject(p[x])):f.isObject(p[x])?$[x]=f.mergeAttrs(f.styleToObject($[x]),p[x]):$[x]=f.mergeAttrs(f.styleToObject($[x]),f.styleToObject(p[x])):$[x]=p[x];return $},f.annotateString=function($,p,x){p=p||[],x=x||{};for(var T=x.offset||0,D=[],C,U=[],G,se,re=0;re<$.length;re++){G=U[re]=$[re];for(var ye=0;ye<p.length;ye++){var Pe=p[ye],Ae=Pe.start+T,Ie=Pe.end+T;re>=Ae&&re<Ie&&(f.isObject(G)?G.attrs=f.mergeAttrs(f.mergeAttrs({},G.attrs),Pe.attrs):G=U[re]={t:$[re],attrs:Pe.attrs},x.includeAnnotationIndices&&(G.annotations||(G.annotations=[])).push(ye))}se=U[re-1],se?f.isObject(G)&&f.isObject(se)?JSON.stringify(G.attrs)===JSON.stringify(se.attrs)?C.t+=G.t:(D.push(C),C=G):f.isObject(G)||f.isObject(se)?(D.push(C),C=G):C=(C||"")+G:C=G}return C&&D.push(C),D},f.findAnnotationsAtIndex=function($,p){var x=[];return $&&$.forEach(function(T){T.start<p&&p<=T.end&&x.push(T)}),x},f.findAnnotationsBetweenIndexes=function($,p,x){var T=[];return $&&$.forEach(function(D){(p>=D.start&&p<D.end||x>D.start&&x<=D.end||D.start>=p&&D.end<x)&&T.push(D)}),T},f.shiftAnnotations=function($,p,x){return $&&$.forEach(function(T){T.start<p&&T.end>=p?T.end+=x:T.start>=p&&(T.start+=x,T.end+=x)}),$},f.convertLineToPathData=function($){$=f($);var p=["M",$.attr("x1"),$.attr("y1"),"L",$.attr("x2"),$.attr("y2")].join(" ");return p},f.convertPolygonToPathData=function($){var p=f.getPointsFromSvgNode($);return p.length===0?null:f.svgPointsToPath(p)+" Z"},f.convertPolylineToPathData=function($){var p=f.getPointsFromSvgNode($);return p.length===0?null:f.svgPointsToPath(p)},f.svgPointsToPath=function($){for(var p=0,x=$.length;p<x;p++)$[p]=$[p].x+" "+$[p].y;return"M "+$.join(" L")},f.getPointsFromSvgNode=function($){$=f.toNode($);var p=[],x=$.points;if(x)for(var T=0,D=x.numberOfItems;T<D;T++)p.push(x.getItem(T));return p},f.KAPPA=.551784,f.convertCircleToPathData=function($){$=f($);var p=parseFloat($.attr("cx"))||0,x=parseFloat($.attr("cy"))||0,T=parseFloat($.attr("r")),D=T*f.KAPPA,C=["M",p,x-T,"C",p+D,x-T,p+T,x-D,p+T,x,"C",p+T,x+D,p+D,x+T,p,x+T,"C",p-D,x+T,p-T,x+D,p-T,x,"C",p-T,x-D,p-D,x-T,p,x-T,"Z"].join(" ");return C},f.convertEllipseToPathData=function($){$=f($);var p=parseFloat($.attr("cx"))||0,x=parseFloat($.attr("cy"))||0,T=parseFloat($.attr("rx")),D=parseFloat($.attr("ry"))||T,C=T*f.KAPPA,U=D*f.KAPPA,G=["M",p,x-D,"C",p+C,x-D,p+T,x-U,p+T,x,"C",p+T,x+U,p+C,x+D,p,x+D,"C",p-C,x+D,p-T,x+U,p-T,x,"C",p-T,x-U,p-C,x-D,p,x-D,"Z"].join(" ");return G},f.convertRectToPathData=function($){return $=f($),f.rectToPath({x:parseFloat($.attr("x"))||0,y:parseFloat($.attr("y"))||0,width:parseFloat($.attr("width"))||0,height:parseFloat($.attr("height"))||0,rx:parseFloat($.attr("rx"))||0,ry:parseFloat($.attr("ry"))||0})},f.rectToPath=function($){var p,x=$.x,T=$.y,D=$.width,C=$.height,U=o($.rx||$["top-rx"]||0,D/2),G=o($.rx||$["bottom-rx"]||0,D/2),se=o($.ry||$["top-ry"]||0,C/2),re=o($.ry||$["bottom-ry"]||0,C/2);return U||G||se||re?p=["M",x,T+se,"v",C-se-re,"a",G,re,0,0,0,G,re,"h",D-2*G,"a",G,re,0,0,0,G,-re,"v",-(C-re-se),"a",U,se,0,0,0,-U,-se,"h",-(D-2*U),"a",U,se,0,0,0,-U,se,"Z"]:p=["M",x,T,"H",x+D,"V",T+C,"H",x,"V",T,"Z"],p.join(" ")},f.normalizePathData=function(){var $=`	
\v\f\r \u2028\u2029`,p=new RegExp("([a-z])["+$+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+$+"]*,?["+$+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+$+"]*,?["+$+"]*","ig"),T=Math,D=T.PI,C=T.sin,U=T.cos,G=T.tan,se=T.asin,re=T.sqrt,ye=T.abs;function Pe(X,V,k,I,J,ue){var _e=.3333333333333333,ke=2/3;return[_e*X+ke*k,_e*V+ke*I,_e*J+ke*k,_e*ue+ke*I,J,ue]}function Ae(X,V,k){var I=X*U(k)-V*C(k),J=X*C(k)+V*U(k);return{x:I,y:J}}function Ie(X,V,k,I,J,ue,_e,ke,Ve,We){var Y=D*120/180,Q=D/180*(+J||0),N=[],F;if(We)Je=We[0],Ze=We[1],Be=We[2],Xe=We[3];else{F=Ae(X,V,-Q),X=F.x,V=F.y,F=Ae(ke,Ve,-Q),ke=F.x,Ve=F.y;var q=(X-ke)/2,ie=(V-Ve)/2,ge=q*q/(k*k)+ie*ie/(I*I);ge>1&&(ge=re(ge),k=ge*k,I=ge*I);var ve=k*k,Te=I*I,Ne=(ue==_e?-1:1)*re(ye((ve*Te-ve*ie*ie-Te*q*q)/(ve*ie*ie+Te*q*q))),Be=Ne*k*ie/I+(X+ke)/2,Xe=Ne*-I*q/k+(V+Ve)/2,Je=se(((V-Xe)/I).toFixed(9)),Ze=se(((Ve-Xe)/I).toFixed(9));Je=X<Be?D-Je:Je,Ze=ke<Be?D-Ze:Ze,Je<0&&(Je=D*2+Je),Ze<0&&(Ze=D*2+Ze),_e&&Je>Ze&&(Je=Je-D*2),!_e&&Ze>Je&&(Ze=Ze-D*2)}var ut=Ze-Je;if(ye(ut)>Y){var xt=Ze,Ot=ke,mt=Ve;Ze=Je+Y*(_e&&Ze>Je?1:-1),ke=Be+k*U(Ze),Ve=Xe+I*C(Ze),N=Ie(ke,Ve,k,I,J,0,_e,Ot,mt,[Ze,xt,Be,Xe])}ut=Ze-Je;var zt=U(Je),Hn=C(Je),Cr=U(Ze),Zn=C(Ze),ci=G(ut/4),er=4/3*(k*ci),yn=4/3*(I*ci),_n=[X,V],Yi=[X+er*Hn,V-yn*zt],vs=[ke+er*Zn,Ve-yn*Cr],Fa=[ke,Ve];if(Yi[0]=2*_n[0]-Yi[0],Yi[1]=2*_n[1]-Yi[1],We)return[Yi,vs,Fa].concat(N);N=[Yi,vs,Fa].concat(N).join().split(",");for(var Fs=[],ki=N.length,Lr=0;Lr<ki;Lr++)Fs[Lr]=Lr%2?Ae(N[Lr-1],N[Lr],Q).y:Ae(N[Lr],N[Lr+1],Q).x;return Fs}function Me(X){if(!X)return null;var V={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},k=[];return String(X).replace(p,function(I,J,ue){var _e=[],ke=J.toLowerCase();for(ue.replace(x,function(Ve,We){We&&_e.push(+We)}),ke==="m"&&_e.length>2&&(k.push([J].concat(_e.splice(0,2))),ke="l",J=J==="m"?"l":"L");_e.length>=V[ke]&&(k.push([J].concat(_e.splice(0,V[ke]))),!!V[ke]););}),k}function ae(X){if((!Array.isArray(X)||!Array.isArray(X&&X[0]))&&(X=Me(X)),!X||!X.length)return[["M",0,0]];for(var V=[],k=0,I=0,J=0,ue=0,_e=0,ke,Ve=X.length,We=_e;We<Ve;We++){var Y=[];V.push(Y);var Q=X[We];if(ke=Q[0],ke!=ke.toUpperCase()){Y[0]=ke.toUpperCase();var N,F;switch(Y[0]){case"A":Y[1]=Q[1],Y[2]=Q[2],Y[3]=Q[3],Y[4]=Q[4],Y[5]=Q[5],Y[6]=+Q[6]+k,Y[7]=+Q[7]+I;break;case"V":Y[1]=+Q[1]+I;break;case"H":Y[1]=+Q[1]+k;break;case"M":for(J=+Q[1]+k,ue=+Q[2]+I,N=Q.length,F=1;F<N;F++)Y[F]=+Q[F]+(F%2?k:I);break;default:for(N=Q.length,F=1;F<N;F++)Y[F]=+Q[F]+(F%2?k:I);break}}else for(var q=Q.length,ie=0;ie<q;ie++)Y[ie]=Q[ie];switch(Y[0]){case"Z":k=+J,I=+ue;break;case"H":k=Y[1];break;case"V":I=Y[1];break;case"M":J=Y[Y.length-2],ue=Y[Y.length-1],k=Y[Y.length-2],I=Y[Y.length-1];break;default:k=Y[Y.length-2],I=Y[Y.length-1];break}}return V}function H(X){var V=ae(X),k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function I(N,F,q){var ie,ge;if(!N)return["C",F.x,F.y,F.x,F.y,F.x,F.y];switch(N[0]in{T:1,Q:1}||(F.qx=null,F.qy=null),N[0]){case"M":F.X=N[1],F.Y=N[2];break;case"A":parseFloat(N[1])===0||parseFloat(N[2])===0?N=["L",N[6],N[7]]:N=["C"].concat(Ie.apply(0,[F.x,F.y].concat(N.slice(1))));break;case"S":q==="C"||q==="S"?(ie=F.x*2-F.bx,ge=F.y*2-F.by):(ie=F.x,ge=F.y),N=["C",ie,ge].concat(N.slice(1));break;case"T":q==="Q"||q==="T"?(F.qx=F.x*2-F.qx,F.qy=F.y*2-F.qy):(F.qx=F.x,F.qy=F.y),N=["C"].concat(Pe(F.x,F.y,F.qx,F.qy,N[1],N[2]));break;case"Q":F.qx=N[1],F.qy=N[2],N=["C"].concat(Pe(F.x,F.y,N[1],N[2],N[3],N[4]));break;case"H":N=["L"].concat(N[1],F.y);break;case"V":N=["L"].concat(F.x,N[1]);break}return N}function J(N,F){if(N[F].length>7){N[F].shift();for(var q=N[F];q.length;)ue[F]="A",N.splice(F++,0,["C"].concat(q.splice(0,6)));N.splice(F,1),Ve=V.length}}for(var ue=[],_e="",ke="",Ve=V.length,We=0;We<Ve;We++){V[We]&&(_e=V[We][0]),_e!=="C"&&(ue[We]=_e,We>0&&(ke=ue[We-1])),V[We]=I(V[We],k,ke),ue[We]!=="A"&&_e==="C"&&(ue[We]="C"),J(V,We);var Y=V[We],Q=Y.length;k.x=Y[Q-2],k.y=Y[Q-1],k.bx=parseFloat(Y[Q-4])||k.x,k.by=parseFloat(Y[Q-3])||k.y}return(!V[0][0]||V[0][0]!=="M")&&V.unshift(["M",0,0]),V}return function(X){return H(X).join(",").split(",").join(" ")}}(),f.namespace=e,f.g=M6e,f}(),He=I6e,Ul={useCSSSelectors:!0,classNamePrefix:"joint-",defaultTheme:"default",doubleTapInterval:300},Dg="[object Arguments]",HA="[object Array]",Tw="[object Boolean]",_k="[object Date]",AU="[object Error]",D6e="[object Function]",kv="[object Map]",Cw="[object Number]",L6e="[object Null]",xd="[object Object]",bk="[object RegExp]",Ov="[object Set]",kw="[object String]",Ow="[object Symbol]",F6e="[object Undefined]",j6e="[object WeakMap]",wk="[object ArrayBuffer]",Sk="[object DataView]",PU="[object Float32Array]",TU="[object Float64Array]",CU="[object Int8Array]",kU="[object Int16Array]",OU="[object Int32Array]",RU="[object Uint8Array]",MU="[object Uint8ClampedArray]",NU="[object Uint16Array]",IU="[object Uint32Array]",B6e={[Dg]:!0,[HA]:!0,[wk]:!0,[Sk]:!0,[Tw]:!0,[_k]:!0,[PU]:!0,[TU]:!0,[CU]:!0,[kU]:!0,[OU]:!0,[kv]:!0,[Cw]:!0,[xd]:!0,[bk]:!0,[Ov]:!0,[kw]:!0,[Ow]:!0,[RU]:!0,[MU]:!0,[NU]:!0,[IU]:!0,[AU]:!1,[D6e]:!1,[j6e]:!1},xk="\\ud800-\\udfff",V6e="\\u0300-\\u036f",z6e="\\ufe20-\\ufe2f",U6e="\\u20d0-\\u20ff",q6e="\\u1ab0-\\u1aff",H6e="\\u1dc0-\\u1dff",W6e=V6e+z6e+U6e+q6e+H6e,DU="\\u2700-\\u27bf",LU="a-z\\xdf-\\xf6\\xf8-\\xff",G6e="\\xac\\xb1\\xd7\\xf7",K6e="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Y6e="\\u2000-\\u206f",J6e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",FU="A-Z\\xc0-\\xd6\\xd8-\\xde",X6e="\\ufe0e\\ufe0f",jU=G6e+K6e+Y6e+J6e,BU="[']",oF=`[${jU}]`,Ek=`[${W6e}]`,VU="\\d",Q6e=`[${DU}]`,zU=`[${LU}]`,UU=`[^${xk}${jU+VU+DU+LU+FU}]`,WA="\\ud83c[\\udffb-\\udfff]",Z6e=`(?:${Ek}|${WA})`,qU=`[^${xk}]`,$k="(?:\\ud83c[\\udde6-\\uddff]){2}",Ak="[\\ud800-\\udbff][\\udc00-\\udfff]",pd=`[${FU}]`,e8e="\\u200d",lF=`(?:${zU}|${UU})`,t8e=`(?:${pd}|${UU})`,uF=`(?:${BU}(?:d|ll|m|re|s|t|ve))?`,cF=`(?:${BU}(?:D|LL|M|RE|S|T|VE))?`,HU=`${Z6e}?`,WU=`[${X6e}]?`,n8e=`(?:${e8e}(?:${[qU,$k,Ak].join("|")})${WU+HU})*`,r8e="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i8e="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",GU=WU+HU+n8e,s8e=`(?:${[Q6e,$k,Ak].join("|")})${GU}`,a8e=RegExp([`${pd}?${zU}+${uF}(?=${[oF,pd,"$"].join("|")})`,`${t8e}+${cF}(?=${[oF,pd+lF,"$"].join("|")})`,`${pd}?${lF}+${uF}`,`${pd}+${cF}`,i8e,r8e,`${VU}+`,s8e].join("|"),"g"),Pk=200,GA="__hash_undefined__",o8e=/^\[object (?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)Array\]$/,l8e=`[${xk}]`,u8e=`${qU}${Ek}?`,c8e=`(?:${[u8e,Ek,$k,Ak,l8e].join("|")})`,KU=RegExp(`${WA}(?=${WA})|${c8e+GU}`,"g"),f8e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h8e=/^\w*$/,d8e=".".charCodeAt(0),p8e=/\\(\\)?/g,m8e=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g"),g8e=/^(?:0|[1-9]\d*)$/,v8e=RegExp.prototype.test.bind(/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/),y8e=4294967295-1,_8e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,YU=t=>KU.test(t),b8e=t=>t.match(KU)||[],w8e=t=>t.split(""),JU=t=>YU(t)?b8e(t):w8e(t),S8e=t=>t==null?[]:Rv(t).map(e=>t[e]),Rv=t=>$o(t)?XU(t):Object.keys(Object(t)),x8e=t=>{if(!Rw(t))return Object.keys(t);var e=[];for(var n in Object(t))hasOwnProperty.call(t,n)&&n!="constructor"&&e.push(n);return e},XU=(t,e)=>{const n=Array.isArray(t),r=!n&&nl(t)&&go(t)===Dg,i=!n&&!r&&Nv(t),s=n||r||i,a=t.length,o=new Array(s?a:0);let l=s?-1:a;for(;++l<a;)o[l]=`${l}`;for(const u in t)(e||hasOwnProperty.call(t,u))&&!(s&&(u==="length"||Rk(u,a)))&&o.push(u);return o},Oy=(t,e)=>{let{length:n}=t;for(;n--;)if(Ip(t[n][0],e))return n;return-1},Ip=(t,e)=>t===e||t!==t&&e!==e,nl=t=>t!=null&&typeof t=="object",Jb=(t,e,n)=>{if(!Fn(n))return!1;const r=typeof e;return(r=="number"?$o(n)&&e>-1&&e<n.length:r=="string"&&e in n)?Ip(n[e],t):!1},E8e=t=>nl(t)&&go(t)==Ov,$8e=t=>nl(t)&&go(t)==kv,Rw=t=>{const e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Object.prototype;return t===n},Dp=(t,e,n)=>{const r=t[e];(!(hasOwnProperty.call(t,e)&&Ip(r,n))||n===void 0&&!(e in t))&&(t[e]=n)},Mv=(t,e,n)=>{let r=-1;const i=e.length;for(;++r<i;){const s=e[r];Dp(n,s,t[s])}return n},$o=t=>t!=null&&typeof t!="function"&&typeof t.length=="number"&&t.length>-1&&t.length%1===0,hp=t=>typeof t=="symbol"||nl(t)&&go(t)===Ow,A8e=t=>{const e=t.length;let n=new t.constructor(e);return e&&typeof t[0]=="string"&&hasOwnProperty.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Tk=(t,e)=>{let n=-1;const r=t.length;for(e||(e=new Array(r));++n<r;)e[n]=t[n];return e},go=t=>t==null?t===void 0?F6e:L6e:Object.prototype.toString.call(t),Ck=t=>{const e=new t.constructor(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e},QU=(t,e)=>{const n=e?Ck(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},P8e=t=>{const e=new t.constructor(t.source,/\w*$/.exec(t));return e.lastIndex=t.lastIndex,e},ZU=t=>typeof t.constructor=="function"&&!Rw(t)?Object.create(Object.getPrototypeOf(t)):{},kk=t=>t==null?[]:(t=Object(t),Object.getOwnPropertySymbols(t).filter(n=>propertyIsEnumerable.call(t,n))),T8e=(t,e)=>Mv(t,kk(t),e);function C8e(t,e){const n=e?Ck(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}const k8e=(t,e,n)=>{const r=t.constructor;switch(e){case wk:return Ck(t);case Tw:case _k:return new r(+t);case Sk:return C8e(t,n);case PU:case TU:case CU:case kU:case OU:case RU:case MU:case NU:case IU:return QU(t,n);case kv:return new r(t);case Cw:case kw:return new r(t);case bk:return P8e(t);case Ov:return new r;case Ow:return Symbol.prototype.valueOf?Object(Symbol.prototype.valueOf.call(t)):{}}},Nv=t=>nl(t)&&o8e.test(go(t)),KA=t=>{const e=Object.keys(t);return!Array.isArray(t)&&t!=null&&e.push(...kk(Object(t))),e},eq=t=>{const e=[];for(;t;)e.push(...kk(t)),t=Object.getPrototypeOf(Object(t));return e},tq=t=>{const e=[];for(const n in t)e.push(n);return Array.isArray(t)||e.push(...eq(t)),e},Ry=({__data__:t},e)=>{const n=t;return z8e(e)?n[typeof e=="string"?"string":"hash"]:n.map},O8e=(t,e,n,r)=>{const i=KA(t),s=i.length,o=KA(e).length;if(s!=o)return!1;let l,u=s;for(;u--;)if(l=i[u],!hasOwnProperty.call(e,l))return!1;const c=r.get(t),f=r.get(e);if(c&&f)return c==e&&f==t;let d=!0;r.set(t,e),r.set(e,t);let v;for(;++u<s;){l=i[u];const _=t[l],S=e[l];if(!(_===S||n(_,S,r))){d=!1;break}v||(v=l=="constructor")}if(d&&!v){const _=t.constructor,S=e.constructor;_!=S&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(d=!1)}return r.delete(t),r.delete(e),d},Mw=(t,e,n)=>t===e?!0:t==null||e==null||!nl(t)&&!nl(e)?t!==t&&e!==e:R8e(t,e,Mw,n),R8e=(t,e,n,r)=>{let i=Array.isArray(t);const s=Array.isArray(e);let a=i?HA:go(t),o=s?HA:go(e);a=a==Dg?xd:a,o=o==Dg?xd:o;let l=a==xd;const u=o==xd,c=a==o;if(c&&!l)return r||(r=new Bd),i||Nv(t)?nq(t,e,!1,n,r):I8e(t,e,a,n,r);const f=l&&hasOwnProperty.call(t,"__wrapped__"),d=u&&hasOwnProperty.call(e,"__wrapped__");if(f||d){const v=f?t.value():t,_=d?e.value():e;return r||(r=new Bd),n(v,_,r)}return c?(r||(r=new Bd),O8e(t,e,n,r)):!1},nq=(t,e,n,r,i)=>{const a=t.length,o=e.length;if(a!=o)return!1;const l=i.get(t),u=i.get(e);if(l&&u)return l==e&&u==t;let c=-1,f=!0;const d=n?new Fg:void 0;for(i.set(t,e),i.set(e,t);++c<a;){const v=t[c],_=e[c];if(d){if(!M8e(e,(S,b)=>{if(!N8e(d,b)&&(v===S||r(v,S,i)))return d.push(b)})){f=!1;break}}else if(!(v===_||r(v,_,i))){f=!1;break}}return i.delete(t),i.delete(e),f},M8e=(t,e)=>{let n=-1;const r=t==null?0:t.length;for(;++n<r;)if(e(t[n],n,t))return!0;return!1},N8e=(t,e)=>t.has(e),fF=(t,e,n,r)=>!(t.byteLength!=e.byteLength||!n(new Uint8Array(t),new Uint8Array(e),r)),I8e=(t,e,n,r,i)=>{switch(n){case Sk:return t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset?!1:(t=t.buffer,e=e.buffer,fF(t,e,r,i));case wk:return fF(t,e,r,i);case Tw:case _k:case Cw:return Ip(+t,+e);case AU:return t.name==e.name&&t.message==e.message;case bk:case kw:return t==`${e}`;case kv:let s=rq;case Ov:if(s||(s=Nw),t.size!=e.size)return!1;const a=i.get(t);if(a)return a==e;i.set(t,e);const o=nq(s(t),s(e),!0,r,i);return i.delete(t),o;case Ow:return Symbol.prototype.valueOf.call(t)==Symbol.prototype.valueOf.call(e)}return!1},rq=t=>{let e=-1,n=Array(t.size);return t.forEach((r,i)=>{n[++e]=[i,r]}),n},Nw=t=>{let e=-1;const n=new Array(t.size);return t.forEach(r=>{n[++e]=r}),n},Ok=(t,e)=>{if(Array.isArray(t))return!1;const n=typeof t;return n==="number"||n==="boolean"||t==null||hp(t)?!0:h8e.test(t)||!f8e.test(t)||e!=null&&t in Object(e)},D8e=t=>{const e=[];return t.charCodeAt(0)===d8e&&e.push(""),t.replace(m8e,(n,r,i,s)=>{let a=n;i?a=s.replace(p8e,"$1"):r&&(a=r.trim()),e.push(a)}),e},Zc=(t,e)=>Array.isArray(t)?t:Ok(t,e)?[t]:D8e(`${t}`),Iv=(t,e)=>{e=Zc(e,t);let n=0;const r=e.length;for(;t!=null&&n<r;)t=t[ef(e[n])],n++;return n&&n==r?t:void 0};function L8e(t,e){if(t!==e){const n=t!==void 0,r=t===null,i=t===t,s=hp(t),a=e!==void 0,o=e===null,l=e===e,u=hp(e);if(!o&&!u&&!s&&t>e||s&&a&&l&&!o&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}function F8e(t,e,n){let r=-1;const i=t.criteria,s=e.criteria,a=i.length,o=n.length;for(;++r<a;){const l=r<o?n[r]:null,c=(l&&typeof l=="function"?l:L8e)(i[r],s[r]);if(c)return l&&typeof l!="function"?c*(l=="desc"?-1:1):c}return t.index-e.index}const iq=(t,e)=>{let n=(a,o)=>!!(a==null?0:a.length)&&a.indexOf(o)>-1,r=!0;const i=[],s=e.length;if(!t.length)return i;e.length>=Pk&&(n=(a,o)=>a.has(o),r=!1,e=new Fg(e));e:for(let a in t){let o=t[a];const l=o;if(o=o!==0?o:0,r&&l===l){let u=s;for(;u--;)if(e[u]===l)continue e;i.push(o)}else n(e,l)||i.push(o)}return i},ef=t=>{if(typeof t=="string"||hp(t))return t;const e=`${t}`;return e=="0"&&1/t==-1/0?"-0":e},jd=(t,e=!1,n=!1,r=!0,i,s,a,o)=>{let l;if(i&&(l=a?i(t,s,a,o):i(t)),l!==void 0)return l;if(!Fn(t))return t;const u=Array.isArray(t),c=go(t);if(u){if(l=A8e(t),!e)return Tk(t,l)}else{const _=typeof t=="function";if(c===xd||c===Dg||_&&!a){if(l=n||_?{}:ZU(t),!e)return n?j8e(t,Mv(t,Object.keys(t),l)):T8e(t,Object.assign(l,t))}else{if(_||!B6e[c])return a?t:{};l=k8e(t,c,e)}}o||(o=new Bd);const f=o.get(t);if(f)return f;if(o.set(t,l),$8e(t))return t.forEach((_,S)=>{l.set(S,jd(_,e,n,r,i,S,t,o))}),l;if(E8e(t))return t.forEach(_=>{l.add(jd(_,e,n,r,i,_,t,o))}),l;if(Nv(t))return l;const v=u?void 0:(r?n?tq:KA:n?aq:Rv)(t);return(v||t).forEach((_,S)=>{v&&(S=_,_=t[S]),Dp(l,S,jd(_,e,n,r,i,S,t,o))}),l},j8e=(t,e)=>Mv(t,eq(t),e),sq=(t,e)=>e.length<2?t:Iv(t,e.slice(0,-1)),B8e=(t,e,n)=>{if(!Fn(t))return t;e=Zc(e,t);const r=e.length,i=r-1;let s=-1,a=t;for(;a!=null&&++s<r;){const o=ef(e[s]);let l=n;if(s!=i){const u=a[o];l=void 0,l===void 0&&(l=Fn(u)?u:Rk(e[s+1])?[]:{})}Dp(a,o,l),a=a[o]}return t},Rk=(t,e)=>{const n=typeof t;return e=e??Number.MAX_SAFE_INTEGER,!!e&&(n==="number"||n!=="symbol"&&g8e.test(t))&&t>-1&&t%1==0&&t<e},V8e=(t,e)=>{e=Zc(e,t),t=sq(t,e);const n=e[e.length-1];return t==null||delete t[ef(n)]},z8e=t=>{const e=typeof t;return e==="string"||e==="number"||e==="symbol"||e==="boolean"?t!=="__proto__":t===null},aq=t=>{const e=[];for(const n in t)e.push(n);return e},U8e=t=>{t=Object(t);const e={};for(const n in t)e[n]=t[n];return e},hF=(t,e)=>{if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]};function oq(t,e=!1){return(n,...r)=>{let i=-1,s=r.length,a=s>1?r[s-1]:void 0;const o=s>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):e?(l,u)=>{if(Array.isArray(l)&&!Array.isArray(u))return u}:void 0,o&&Jb(r[0],r[1],o)&&(a=s<3?void 0:a,s=1),n=Object(n);++i<s;){const l=r[i];l&&t(n,l,i,a)}return n}}const Mk=(t,e,n,r,i)=>{t!==e&&io(e,(s,a)=>{if(Fn(s))i||(i=new Bd),q8e(t,e,a,n,Mk,r,i);else{let o=r?r(t[a],s,`${a}`,t,e,i):void 0;o===void 0&&(o=s),YA(t,a,o)}})},q8e=(t,e,n,r,i,s,a)=>{const o=hF(t,n),l=hF(e,n),u=a.get(l);if(u){YA(t,n,u);return}let c=s?s(o,l,`${n}`,t,e,a):void 0,f=c===void 0;if(f){const d=Array.isArray(l),v=!d&&Nv(l);c=l,d||v?Array.isArray(o)?c=o:nl(o)&&$o(o)?c=Tk(o):v?(f=!1,c=QU(l,!0)):c=[]:Zr(l)||Lg(l)?(c=o,Lg(o)?c=U8e(o):(typeof o=="function"||!Fn(o))&&(c=ZU(l))):f=!1}f&&(a.set(l,c),i(c,l,r,s,a),a.delete(l)),YA(t,n,c)},YA=(t,e,n)=>{(n!==void 0&&!Ip(t[e],n)||n===void 0&&!(e in t))&&Dp(t,e,n)};function H8e(t,e,n){const r=Object(t),i=n(t);let{length:s}=i,a=-1;for(;s--;){const o=i[++a];if(e(r[o],o,r)===!1)break}return t}const W8e=(t,e)=>t&&H8e(t,e,Rv),Nk=(t,e)=>{if(t==null)return t;if(!$o(t))return W8e(t,e);const n=t.length,r=Object(t);let i=-1;for(;++i<n&&e(r[i],i,r)!==!1;);return t};function G8e(t){const e=t==null?0:t.length;return e?t[e-1]:void 0}const K8e=Set&&1/Nw(new Set([void 0,-0]))[1]==1/0?t=>new Set(t):()=>{};function lq(t,e,n,r,i,s){return Fn(t)&&Fn(e)&&(s.set(e,t),Mk(t,e,void 0,lq,s),s.delete(e)),t}function Y8e(t,e,n){e.length?e=e.map(a=>Array.isArray(a)?o=>Iv(o,a.length===1?a[0]:a):a):e=[a=>a];let r=-1,i=-1;const s=$o(t)?new Array(t.length):[];return Nk(t,a=>{const o=e.map(l=>l(a));s[++i]={criteria:o,index:++r,value:a}}),J8e(s,(a,o)=>F8e(a,o,n))}function J8e(t,e){let{length:n}=t;for(t.sort(e);n--;)t[n]=t[n].value;return t}function uq(t){return t===t&&!Fn(t)}function cq(t,e){return n=>n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}function fq(t,e){return t!=null&&dze(t,e,hze)}function X8e(t,e){return Ok(t)&&uq(e)?cq(ef(t),e):n=>{const r=Iv(n,t);return r===void 0&&r===e?fq(n,t):Mw(e,r)}}function Q8e(t){const e=Z8e(t);return e.length===1&&e[0][2]?cq(e[0][0],e[0][1]):n=>n===t||eze(n,t,e)}function Z8e(t){const e=Rv(t);let n=e.length;for(;n--;){const r=e[n],i=t[r];e[n]=[r,i,uq(i)]}return e}function eze(t,e,n,r){let i=n.length;const s=i,a=!r;if(t==null)return!s;let o,l;for(t=Object(t);i--;)if(o=n[i],a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1;for(;++i<s;){o=n[i];const u=o[0],c=t[u],f=o[1];if(a&&o[2]){if(c===void 0&&!(u in t))return!1}else{const d=new Bd;if(r&&(l=r(c,f,u,t,e,d)),!(l===void 0?Mw(f,c,d):l))return!1}}return!0}function tze(t){return Ok(t)?nze(ef(t)):rze(t)}function nze(t){return e=>e==null?void 0:e[t]}function rze(t){return e=>Iv(e,t)}function ize(t){return typeof t=="function"?t:t==null?e=>e:typeof t=="object"?Array.isArray(t)?X8e(t[0],t[1]):Q8e(t):tze(t)}function Iw(){const t=ize;return arguments.length?t(arguments[0]):t}const sze=(t,e,n,r)=>{let i=-1;const s=t==null?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n},aze=(t,e,n,r,i)=>(i(t,(s,a,o)=>{n=r?(r=!1,s):e(n,s,a,o)}),n);function oze(t,e,n){const r=Array.isArray(t)?sze:aze,i=arguments.length<3;return r(t,e,n,i,Nk)}const lze=t=>Array.isArray(t)||Lg(t)||!!(t&&t[Symbol.isConcatSpreadable]);function hq(t,e,n,r,i){let s=-1;const a=t.length;for(n||(n=lze),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?hq(o,e-1,n,r,i):i.push(...o):r||(i[i.length]=o)}return i}const Lg=t=>nl(t)&&go(t)=="[object Arguments]",uze=(t,e)=>cze(t,e,(n,r)=>fq(t,r)),cze=(t,e,n)=>{let r=-1;const i=e.length,s={};for(;++r<i;){const a=e[r],o=Iv(t,a);n(o,a)&&B8e(s,Zc(a,t),o)}return s},fze=t=>typeof t=="number"&&t>-1&&t%1==0&&t<=Number.MAX_SAFE_INTEGER,hze=(t,e)=>t!=null&&e in Object(t),dze=(t,e,n)=>{e=Zc(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=ef(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&fze(i)&&Rk(a,i)&&(Array.isArray(t)||Lg(t)))},pze=t=>t.match(_8e),mze=t=>t.match(a8e),gze=(t,e)=>e===void 0?(v8e(t)?mze(t):pze(t))||[]:t.match(e)||[],vze=(t,e,n)=>{const{length:r}=t;return n=n===void 0?r:n,!e&&n>=r?t:t.slice(e,n)},yze=_ze("toUpperCase");function _ze(t){return e=>{if(!e)return"";const n=YU(e)?JU(e):void 0,r=n?n[0]:e[0],i=n?vze(n,1).join(""):e.slice(1);return r[t]()+i}}class Bd{constructor(e){const n=this.__data__=new _E(e);this.size=n.size}clear(){this.__data__=new _E,this.size=0}delete(e){const n=this.__data__,r=n.delete(e);return this.size=n.size,r}get(e){return this.__data__.get(e)}has(e){return this.__data__.has(e)}set(e,n){let r=this.__data__;if(r instanceof _E){const i=r.__data__;if(i.length<Pk-1)return i.push([e,n]),this.size=++r.size,this;r=this.__data__=new dq(i)}return r.set(e,n),this.size=r.size,this}}class _E{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.__data__=[],this.size=0}delete(e){const n=this.__data__,r=Oy(n,e);if(r<0)return!1;const i=n.length-1;return r==i?n.pop():n.splice(r,1),--this.size,!0}get(e){const n=this.__data__,r=Oy(n,e);return r<0?void 0:n[r][1]}has(e){return Oy(this.__data__,e)>-1}set(e,n){const r=this.__data__,i=Oy(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}}class dq{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.size=0,this.__data__={hash:new dF,map:new Map,string:new dF}}delete(e){const n=Ry(this,e).delete(e);return this.size-=n?1:0,n}get(e){return Ry(this,e).get(e)}has(e){return Ry(this,e).has(e)}set(e,n){const r=Ry(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}}class dF{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.clear();++n<r;){const i=e[n];this.set(i[0],i[1])}}clear(){this.__data__=Object.create(null),this.size=0}delete(e){const n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}get(e){const r=this.__data__[e];return r===GA?void 0:r}has(e){return this.__data__[e]!==void 0}set(e,n){const r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n===void 0?GA:n,this}}class Fg{constructor(e){let n=-1;const r=e==null?0:e.length;for(this.__data__=new dq;++n<r;)this.add(e[n])}add(e){return this.__data__.set(e,GA),this}has(e){return this.__data__.has(e)}}Fg.prototype.push=Fg.prototype.add;const bze=function(t){var e=Object.prototype.toString;return t===!0||t===!1||!!t&&typeof t=="object"&&e.call(t)===Tw},Fn=function(t){return!!t&&(typeof t=="object"||typeof t=="function")},ia=function(t){var e=Object.prototype.toString;return typeof t=="number"||!!t&&typeof t=="object"&&e.call(t)===Cw},cs=function(t){var e=Object.prototype.toString;return typeof t=="string"||!!t&&typeof t=="object"&&e.call(t)===kw},Dt=oq((t,e)=>{if(Rw(e)||$o(e)){Mv(e,Rv(e),t);return}for(var n in e)hasOwnProperty.call(e,n)&&Dp(t,n,e[n])}),wze=(t,...e)=>{let n=-1,r=e.length;const i=r>2?e[2]:void 0;for(i&&Jb(e[0],e[1],i)&&(r=1);++n<r;){const s=e[n];if(s==null)continue;const a=Object.keys(s),o=a.length;let l=-1;for(;++l<o;){const u=a[l],c=t[u];(c===void 0||Ip(c,Object.prototype[u])&&!hasOwnProperty.call(t,u))&&(t[u]=s[u])}}return t},jo=wze,Sze=function(...e){return e.push(void 0,lq),ai.apply(void 0,e)},Ik=Sze,Ko=(t,e,...n)=>{let r=-1;const i=typeof e=="function",s=$o(t)?new Array(t.length):[];return Nk(t,a=>{s[++r]=i?e.apply(a,n):xze(a,e,...n)}),s},xze=(t,e,...n)=>{e=Zc(e,t),t=sq(t,e);const r=t==null?t:t[ef(G8e(e))];return r==null?void 0:r.apply(t,n)},pq=(t,e,n)=>{let r=0,i=t==null?0:t.length;if(i==0)return 0;n=Iw(n,2),e=n(e);const s=e!==e,a=e===null,o=hp(e),l=e===void 0;for(;r<i;){let u;const c=Math.floor((r+i)/2),f=n(t[c]),d=f!==void 0,v=f===null,_=f===f,S=hp(f);s?u=_:l?u=_&&d:a?u=_&&d&&!v:o?u=_&&d&&!v&&!S:v||S?u=!1:u=f<e,u?r=c+1:i=c}return Math.min(i,y8e)},Dv=(t,e)=>{let n=-1,r=(l,u)=>!!(l==null?0:l.length)&&l.indexOf(u)>-1;e=Iw(e,2);let i=!0;const{length:s}=t,a=[];let o=a;if(s>=Pk){const l=e?null:K8e(t);if(l)return Nw(l);i=!1,r=(u,c)=>u.has(c),o=new Fg}else o=e?[]:a;e:for(;++n<s;){let l=t[n];const u=e?e(l):l;if(l=l!==0?l:0,i&&u===u){let c=o.length;for(;c--;)if(o[c]===u)continue e;e&&o.push(u),a.push(l)}else r(o,u)||(o!==a&&o.push(u),a.push(l))}return a},$l=t=>jd(t),ro=t=>jd(t,!0),$c=t=>{if(t==null)return!0;if($o(t)&&(Array.isArray(t)||typeof t=="string"||typeof t.splice=="function"||Nv(t)||Lg(t)))return!t.length;const e=go(t);if(e=="[object Map]"||e=="[object Set]")return!t.size;if(Rw(t))return!x8e(t).length;for(const n in t)if(hasOwnProperty.call(t,n))return!1;return!0},Ed=(t,e)=>Mw(t,e),rr=t=>typeof t=="function",Zr=t=>{if(!nl(t)||go(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},xn=t=>{if(!t)return[];if($o(t))return cs(t)?JU(t):Tk(t);if(Symbol.iterator&&Symbol.iterator in Object(t)){const r=t[Symbol.iterator]();let i;const s=[];for(;!(i=r.next()).done;)s.push(i.value);return s}const e=go(t);return(e==kv?rq:e==Ov?Nw:S8e)(t)};function Eze(t,e,n){if(typeof t!="function")throw new TypeError("Expected a function");let r,i,s,a,o,l,u=0,c=!1,f=!1,d=!0;const v=!e&&e!==0&&window&&typeof window.requestAnimationFrame=="function";e=+e||0,Fn(n)&&(c=!!n.leading,f="maxWait"in n,s=f?Math.max(+n.maxWait||0,e):s,d="trailing"in n?!!n.trailing:d);function _(x){const T=r,D=i;return r=i=void 0,u=x,a=t.apply(D,T),a}function S(x,T){return v?(window.cancelAnimationFrame(o),window.requestAnimationFrame(x)):setTimeout(x,T)}function b(x){if(v)return window.cancelAnimationFrame(x);clearTimeout(x)}function y(x){return u=x,o=S(M,e),c?_(x):a}function A(x){const T=x-l,D=x-u,C=e-T;return f?Math.min(C,s-D):C}function R(x){const T=x-l,D=x-u;return l===void 0||T>=e||T<0||f&&D>=s}function M(){const x=Date.now();if(R(x))return $(x);o=S(M,A(x))}function $(x){return o=void 0,d&&r?_(x):(r=i=void 0,a)}function p(...x){const T=Date.now(),D=R(T);if(r=x,i=this,l=T,D){if(o===void 0)return y(l);if(f)return o=S(M,e),_(l)}return o===void 0&&(o=S(M,e)),a}return p.cancel=()=>{o!==void 0&&b(o),u=0,r=l=i=o=void 0},p.flush=()=>o===void 0?a:$(Date.now()),p.pending=()=>o!==void 0,p}const $ze=(t,e)=>(e=Iw(e,2),oze(t,(n,r,i)=>(i=e(r),hasOwnProperty.call(n,i)?n[i].push(r):Dp(n,i,[r]),n),{})),pF=(t,e=[])=>{if(t==null)return[];const n=e.length;return n>1&&Jb(t,e[0],e[1])?e=[]:n>2&&Jb(e[0],e[1],e[2])&&(e=[e[0]]),Array.isArray(e)||(e=[Iw(e,2)]),Y8e(t,e.flat(1),[])},Aze=t=>(t==null?0:t.length)?hq(t,1/0):[],mF=(t,...e)=>$o(t)?iq(t,e):[],Pze=(t,...e)=>nl(t)&&$o(t)?iq(t,e.flat(1)):[],JA=(...t)=>{const e=t.flat(1);return Dv(e)},Eu=(t,e)=>{if(t==null)return!1;typeof e=="string"&&(e=e.split("."));let n=-1,r=t;for(;++n<e.length;){if(!r||!hasOwnProperty.call(r,e[n]))return!1;r=r[e[n]]}return!0},ei=(t,e,n)=>{e=Zc(e,t);let r=-1,i=e.length;for(i||(i=1,t=void 0);++r<i;){let s=t==null?void 0:t[ef(e[r])];s===void 0&&(r=i,s=n),t=typeof s=="function"?s.call(t):s}return t},_h=(t,...e)=>{let n={};if(t==null)return n;let r=!1;e=e.flat(1).map(s=>(s=Zc(s,t),r||(r=s.length>1),s)),Mv(t,tq(t),n),r&&(n=jd(n,!0,!0,!0,s=>Zr(s)?void 0:s));let i=e.length;for(;i--;)V8e(n,e[i]);return n},mq=(t,...e)=>t==null?{}:uze(t,e.flat(1/0)),io=(t,e=n=>n)=>{let n=-1;const r=Object(t),i=$o(t)?XU(t,!0):aq(t);let s=i.length;for(;s--;){const a=i[++n];if(e(r[a],a,r)===!1)break}},Tze=(t="")=>gze(`${t}`.replace(/['\u2019]/g,"")).reduce((e,n,r)=>(n=n.toLowerCase(),e+(r?yze(n):n)),"");let Cze=0;const kze=(t="")=>{const e=++Cze;return`${t}`+e},ai=oq((t,e,n,r)=>{Mk(t,e,n,r)},!0),Uo=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,Ul.classNamePrefix.length)!==Ul.classNamePrefix&&(e=Ul.classNamePrefix+e),e}).join(" ")},Oze=function(t){return t&&t.toString().split(" ").map(function(e){return e.substr(0,Ul.classNamePrefix.length)===Ul.classNamePrefix&&(e=e.substr(Ul.classNamePrefix.length)),e}).join(" ")},Xb=function(t,e){const n={},r={},i=He.namespace.svg,s=e||i,a=document.createDocumentFragment(),o=function(l,u,c){for(let f=0;f<l.length;f++){const d=l[f];if(typeof d=="string"){const M=document.createTextNode(d);u.appendChild(M);continue}if(!d.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");const v=d.tagName;let _;d.hasOwnProperty("namespaceURI")&&(c=d.namespaceURI),_=document.createElementNS(c,v);const S=c===i,b=S?He:Tn,y=d.attributes;y&&b(_).attr(y);const A=d.style;if(A&&Tn(_).css(A),d.hasOwnProperty("className")){const M=d.className;S?_.className.baseVal=M:_.className=M}if(d.hasOwnProperty("textContent")&&(_.textContent=d.textContent),d.hasOwnProperty("selector")){const M=d.selector;if(n[M])throw new Error("json-dom-parser: selector must be unique");n[M]=_,b(_).attr("joint-selector",M)}if(d.hasOwnProperty("groupSelector")){let M=d.groupSelector;Array.isArray(M)||(M=[M]);for(let $=0;$<M.length;$++){const p=M[$];let x=r[p];x||(x=r[p]=[]),x.push(_)}}u.appendChild(_);const R=d.children;Array.isArray(R)&&o(R,_,c)}};return o(t,a,s),{fragment:a,selectors:n,groupSelectors:r}},My=function(t){let e=0;if(t.length===0)return e;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);e=(e<<5)-e+r,e=e&e}return e},jg=function(t,e,n){for(var r=Array.isArray(e)?e:e.split(n||"/"),i,s=0,a=r.length;s<a;)if(i=r[s++],Object(t)===t&&i in t)t=t[i];else return;return t},gq=function(t,e){return typeof e!="string"&&typeof e!="number"&&(e=String(e)),!(e==="constructor"&&typeof t[e]=="function"||e==="__proto__")},XA=function(t,e,n,r){const i=Array.isArray(e)?e:e.split(r||"/"),s=i.length-1;let a=t,o=0;for(;o<s;o++){const l=i[o];if(!gq(a,l))return t;a=a[l]||(a[l]={})}return a[i[s]]=n,t},gF=function(t,e,n){const r=Array.isArray(e)?e:e.split(n||"/"),i=r.length-1;let s=t,a=0;for(;a<i;a++){const o=r[a];if(!gq(s,o))return t;const l=s[o];if(!l)return t;s=l}return delete s[r[i]],t},Rze=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,n=t==="x"?e:e&3|8;return n.toString(16)})},$d=function(t){return $d.id=$d.id||1,t===void 0?"j_"+$d.id++:(t.id=t.id===void 0?"j_"+$d.id++:t.id,t.id)},Mze=function(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()},si=function(t){if(t.normalized)return t;const{originalEvent:e,target:n}=t,r=e&&e.changedTouches&&e.changedTouches[0];if(r)for(let i in r)t[i]===void 0&&(t[i]=r[i]);if(n){const i=n.correspondingUseElement;i&&(t.target=i)}return t.normalized=!0,t},Nze=function(t){let i=0,s=0,a=0,o=0;return"detail"in t&&(s=t.detail),"wheelDelta"in t&&(s=-t.wheelDelta/120),"wheelDeltaY"in t&&(s=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(i=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=s,s=0),a="deltaX"in t?t.deltaX:i*10,o="deltaY"in t?t.deltaY:s*10,(a||o)&&t.deltaMode&&(t.deltaMode==1?(a*=40,o*=40):(a*=800,o*=800)),t.deltaX===0&&t.deltaY!==0&&t.shiftKey&&(a=o,o=0,i=s,s=0),a&&!i&&(i=a<1?-1:1),o&&!s&&(s=o<1?-1:1),{spinX:i,spinY:s,deltaX:a,deltaY:o}},Ize=function(t,e){return t>e?e:t<-e?-e:t},QA=function(){var t;if(typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame),!t){var e=0;t=function(n){var r=new Date().getTime(),i=Math.max(0,16-(r-e)),s=setTimeout(function(){n(r+i)},i);return e=r+i,s}}return function(n,r,...i){return t(r!==void 0?n.bind(r,...i):n)}}(),ZA=function(){var t,e=typeof window<"u";return e&&(t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame),t=t||clearTimeout,e?t.bind(window):t}(),Gi=function(t){return cs(t)&&t.slice(-1)==="%"},Dze=function(t,e){function n(o){var l=new RegExp("(?:\\d+(?:\\.\\d+)*)("+o+")$").exec(t);return l?l[1]:null}var r=parseFloat(t);if(Number.isNaN(r))return null;var i={};i.value=r;var s;if(e==null)s="[A-Za-z]*";else if(Array.isArray(e)){if(e.length===0)return null;s=e.join("|")}else cs(e)&&(s=e);var a=n(s);return a===null?null:(i.unit=a,i)},Qb=0;function Lze(t,e){const n=t.split(e);let r=1;for(let i=0,s=n.length-1;i<s;i++){const a=[];(i>0||n[0]!=="")&&a.push(Qb),a.push(e),(i<s-1||n[s]!=="")&&a.push(Qb),n.splice(r,0,...a),r+=a.length+1}return n.filter(i=>i!=="")}function vF(t,e){if(t===null)return e.getBBox().height;switch(t.unit){case"em":return e.getBBox().height*t.value;case"px":case"":return t.value}}const vq=function(t,e,n={},r={}){var i=e.width,s=e.height,a=r.svgDocument||He("svg").node,o=He("tspan").node,l=He("text").attr(n).append(o).node,u=document.createTextNode("");l.style.opacity=0,l.style.display="block",o.style.display="block",o.appendChild(u),a.appendChild(l),r.svgDocument||document.body.appendChild(a);const c=r.preserveSpaces,f=" ";var d=r.separator||f,v=r.eol||`
`,_=r.hyphen?new RegExp(r.hyphen):/[^\w\d]/,S=r.maxLineCount;ia(S)||(S=1/0);var b=t.split(d),y=[],A=[],R,M,$;c&&He(o).attr("xml:space","preserve");for(var p=0,x=0,T=b.length;p<T;p++){var D=b[p];if(!(!D&&!c)&&typeof D=="string"){var C=!1;if(v&&D.indexOf(v)>=0)if(D.length>1){const ae=Lze(b[p],v);b.splice(p,1,...ae),p--,T=b.length;continue}else{if(c&&typeof b[p-1]=="string"){b.splice(p,Qb,"",Qb),T+=2,p--;continue}A[++x]=!c||typeof b[p+1]=="string"?"":void 0,C=!0}if(!C){let ae;if(c?ae=A[x]!==void 0?A[x]+f+D:D:ae=A[x]?A[x]+f+D:D,u.data=ae,o.getComputedTextLength()<=i)A[x]=ae,(R||M)&&(y[x++]=!0,R=0,M=0);else{if(!A[x]||R){var U=!!R;if(R=D.length-1,U||!R){if(!R){if(!A[x]){A=[];break}b.splice(p,2,D+b[p+1]),T--,y[x++]=!0,p--;continue}b[p]=D.substring(0,R),b[p+1]=D.substring(R)+(b[p+1]===void 0?"":b[p+1])}else{if(M)b.splice(p,2,b[p]+b[p+1]),M=0;else{var G=D.search(_);G>-1&&G!==D.length-1&&G!==0&&(M=G+1,R=0),b.splice(p,1,D.substring(0,M||R),D.substring(M||R)),T++}x&&!y[x-1]&&x--}(!c||A[x]!=="")&&p--;continue}x++,p--}}var se=null;if(A.length>S)se=S-1;else if(s!==void 0){if($===void 0&&u.data!=="")if(n.lineHeight==="auto")$=vF({value:1.5,unit:"em"},l);else{const ae=Dze(n.lineHeight,["em","px",""]);$=vF(ae,l)}$*A.length>s&&(se=Math.floor(s/$)-1)}if(se!==null){A.splice(se+1);var re=r.ellipsis;if(!re||se<0)break;typeof re!="string"&&(re="");var ye=A[se];if(!ye&&!C)break;var Pe=ye.length,Ae,Ie,Me;do{if(Ie=ye[Pe],Ae=ye.substring(0,Pe),Ie?Ie.match(d)&&(Ae+=Ie):(Me=typeof d=="string"?d:" ",Ae+=Me),Ae+=re,u.data=Ae,o.getComputedTextLength()<=i){A[se]=Ae;break}Pe--}while(Pe>=0);break}}}return r.svgDocument?a.removeChild(l):document.body.removeChild(a),A.join(v)},Fze=function(t){var e=Tn(Tn.parseHTML("<div>"+t+"</div>",null,!1));return e.find("*").each(function(){var n=this;Tn.each(n.attributes,function(){var r=this,i=r.name,s=r.value;(i.startsWith("on")||s.startsWith("javascript:")||s.startsWith("data:")||s.startsWith("vbscript:"))&&Tn(n).removeAttr(i)})}),e.html()},jze=function(t,e){var n=Tn(t),r=n.map(function(){var i=this,s=i.parentNode,a=s.insertBefore(document.createTextNode(""),i.nextSibling);return function(){if(s===this)throw new Error("You can't sort elements if any one is a descendant of another.");s.insertBefore(this,a),s.removeChild(a)}});return Array.prototype.sort.call(n,e).each(function(i){r[i].call(this)})},bh=function(t){if(Object(t)!==t){var e=0;return isFinite(t)&&(e=+t),{top:e,right:e,bottom:e,left:e}}var n,r,i,s;return n=r=i=s=0,isFinite(t.vertical)&&(n=i=+t.vertical),isFinite(t.horizontal)&&(r=s=+t.horizontal),isFinite(t.top)&&(n=+t.top),isFinite(t.right)&&(r=+t.right),isFinite(t.bottom)&&(i=+t.bottom),isFinite(t.left)&&(s=+t.left),{top:n,right:r,bottom:i,left:s}},Bze={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2)if(t>=(7-4*e)/11){var r=(11-6*e-11*t)/4;return-r*r+n*n}},reverse:function(t){return function(e){return 1-t(1-e)}},reflect:function(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}},clamp:function(t,e,n){return e=e||0,n=n||1,function(r){var i=t(r);return i<e?e:i>n?n:i}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},elastic:function(t){return t||(t=1.5),function(e){return Math.pow(2,10*(e-1))*Math.cos(20*Math.PI*t/3*e)}}},yq={number:function(t,e){var n=e-t;return function(r){return t+n*r}},object:function(t,e){var n=Object.keys(t);return function(r){var i,s,a={};for(i=n.length-1;i!=-1;i--)s=n[i],a[s]=t[s]+(e[s]-t[s])*r;return a}},hexColor:function(t,e){var n=parseInt(t.slice(1),16),r=parseInt(e.slice(1),16),i=n&255,s=(r&255)-i,a=n&65280,o=(r&65280)-a,l=n&16711680,u=(r&16711680)-l;return function(c){var f=i+s*c&255,d=a+o*c&65280,v=l+u*c&16711680;return"#"+(1<<24|f|d|v).toString(16).slice(1)}},unit:function(t,e){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(t),i=n.exec(e),s=i[1].indexOf("."),a=s>0?i[1].length-s-1:0;t=+r[1];var o=+i[1]-t,l=r[2];return function(u){return(t+o*u).toFixed(a)+l}}},Vze={outline:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>',n=Number.isFinite(t.margin)?t.margin:2,r=Number.isFinite(t.width)?t.width:1;return Ps(e)({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:n+r,innerRadius:n})},highlight:function(t){var e='<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>';return Ps(e)({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return Ps('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return Ps(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Ps('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})},sepia:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Ps('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})},saturate:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Ps('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-e})},hueRotate:function(t){return Ps('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Ps('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:1-e})},brightness:function(t){return Ps('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){var e=Number.isFinite(t.amount)?t.amount:1;return Ps('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:e,amount2:.5-e/2})}},Ps=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(n){return n=n||{},t.replace(e,function(r){for(var i=Array.from(arguments),s=i.slice(1,4).find(function(l){return!!l}),a=s.split("."),o=n[a.shift()];o!==void 0&&a.length;)o=o[a.shift()];return o!==void 0?o:""})}},Sm=function(){};function _q(t){t=Dv(t);const e=xn(t).reduce(function(n,r){return n[r.id]=r.clone(),n},{});return xn(t).forEach(function(n){const r=e[n.id];if(r.isLink()){const a=r.source(),o=r.target();a.id&&e[a.id]&&r.prop("source/id",e[a.id].id),o.id&&e[o.id]&&r.prop("target/id",e[o.id].id)}const i=n.get("parent");i&&e[i]&&r.set("parent",e[i].id);const s=xn(n.get("embeds")).reduce(function(a,o){return e[o]&&a.push(e[o].id),a},[]);$c(s)||r.set("embeds",s)}),e}const zze=["checked","selected","disabled","readOnly","contentEditable","value","indeterminate"],Uze=zze.reduce((t,e)=>(t[e]=!0,t),{}),qze={qualify:function(t){return Zr(t)},set:function(t,e,n){Object.keys(t).forEach(function(r){if(Uze[r]&&r in n){const i=t[r];n.tagName==="SELECT"&&Array.isArray(i)?Array.from(n.options).forEach(function(s,a){s.selected=i.includes(s.value)}):n[r]=i}})}},Hze=qze;function cc(t,e){return function(n,r){var i=Gi(n);n=parseFloat(n),i&&(n/=100);var s={};if(isFinite(n)){var a=i||n>=0&&n<=1?n*r[e]:Math.max(n+r[e],0);s[t]=a}return s}}function Ny(t,e,n){return function(r,i){var s=Gi(r);r=parseFloat(r),s&&(r/=100);var a;if(isFinite(r)){var o=i[n]();s||r>0&&r<1?a=o[t]+i[e]*r:a=o[t]+r}var l=we();return l[t]=a||0,l}}function yF(t,e,n){return function(r,i){var s;r==="middle"?s=i[e]/2:r===n?s=i[e]:isFinite(r)?s=r>-1&&r<1?-i[e]*r:-r:Gi(r)?s=i[e]*parseFloat(r)/100:s=0;var a=we();return a[t]=-(i[t]+s),a}}function bq(t,e){var n="joint-shape",r=e&&e.resetOffset;return function(i,s,a){var o=Tn(a),l=o.data(n);if(!l||l.value!==i){var u=t(i);l={value:i,shape:u,shapeBBox:u.bbox()},o.data(n,l)}var c=l.shape.clone(),f=l.shapeBBox.clone(),d=f.origin(),v=s.origin();f.x=v.x,f.y=v.y;var _=s.maxRectScaleToFit(f,v),S=f.width===0||s.width===0?1:_.sx,b=f.height===0||s.height===0?1:_.sy;return c.scale(S,b,d),r&&c.translate(-d.x,-d.y),c}}function _F(t){function e(r){return new wt(He.normalizePathData(r))}var n=bq(e,t);return function(r,i,s){var a=n(r,i,s);return{d:a.serialize()}}}function bF(t){var e=bq(hr,t);return function(n,r,i){var s=e(n,r,i);return{points:s.serialize()}}}function Iy(t,e){var n=new we(1,0);return function(r){var i,s,a=this[t](r);return a?(s=e.rotate?a.vector().vectorAngle(n):0,i=a.start):(i=this.path.start,s=0),s===0?{transform:"translate("+i.x+","+i.y+")"}:{transform:"translate("+i.x+","+i.y+") rotate("+s+")"}}}function wF(t){return function(n,r,i){const s=He(i);s.attr(t)!==n&&s.attr(t,n)}}function rd(t,e,n){return n.text!==void 0}function xm(){return this.model.isLink()}function bE(t){var e={},n=t.stroke;typeof n=="string"&&(e.stroke=n,e.fill=n);var r=t.strokeOpacity;return r===void 0&&(r=t["stroke-opacity"]),r===void 0&&(r=t.opacity),r!==void 0&&(e["stroke-opacity"]=r,e["fill-opacity"]=r),e}function SF(t){const{paper:e}=this;return`url(#${t.type==="pattern"?e.definePattern(t):e.defineGradient(t)})`}const Qt={xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},href:{set:wF("href")},xlinkHref:{set:wF("xlink:href")},filter:{qualify:Zr,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Zr,set:SF},stroke:{qualify:Zr,set:SF},sourceMarker:{qualify:Zr,set:function(t,e,n,r){return t=Dt(bE(r),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Zr,set:function(t,e,n,r){return t=Dt(bE(r),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Zr,set:function(t,e,n,r){return t=Dt(bE(r),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!Zr(n.textWrap)},set:function(t,e,n,r){var i=Tn(n),s="joint-text",a=i.data(s),o=mq(r,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol","displayEmpty");const{x:l}=o;oo(l)&&(o.x=lo(l,e));let u=r["font-size"]||r.fontSize;oo(u)&&(u=lo(u,e));var c=o.fontSize=u,f=JSON.stringify([t,o]);if(a===void 0||a!==f){c&&n.setAttribute("font-size",c);var d=o.textPath;if(Fn(d)){var v=d.selector;if(typeof v=="string"){var _=this.findBySelector(v)[0];_ instanceof SVGPathElement&&(o.textPath=Dt({"xlink:href":"#"+_.id},d))}}He(n).text(""+t,o),i.data(s,f)}}},textWrap:{qualify:Zr,set:function(t,e,n,r){var i={},s=t.width||0;Gi(s)?i.width=e.width*parseFloat(s)/100:oo(s)?i.width=Number(lo(s,e)):t.width===null?i.width=1/0:s<=0?i.width=e.width+s:i.width=s;var a=t.height||0;Gi(a)?i.height=e.height*parseFloat(a)/100:oo(a)?i.height=Number(lo(a,e)):t.height===null||(a<=0?i.height=e.height+a:i.height=a);var o,l=t.text;if(l===void 0&&(l=r.text),l!==void 0){const u=t.breakText||vq,c=r["font-size"]||r.fontSize;o=u(""+l,i,{"font-weight":r["font-weight"]||r.fontWeight,"font-size":oo(c)?lo(c,e):c,"font-family":r["font-family"]||r.fontFamily,lineHeight:r.lineHeight,"letter-spacing":"letter-spacing"in r?r["letter-spacing"]:r.letterSpacing},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen,maxLineCount:t.maxLineCount,preserveSpaces:t.preserveSpaces})}else o="";Qt.text.set.call(this,o,e,n,r)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var r=Tn(n),i="joint-title",s=r.data(i);if(s===void 0||s!==t){if(r.data(i,t),n.tagName==="title"){n.textContent=t;return}var a=n.firstElementChild;if(a&&a.tagName==="title")a.textContent=t;else{var o=document.createElementNS(n.namespaceURI,"title");o.textContent=t,n.insertBefore(o,a)}}}},lineHeight:{qualify:rd},textVerticalAnchor:{qualify:rd},textPath:{qualify:rd},annotations:{qualify:rd},eol:{qualify:rd},displayEmpty:{qualify:rd},port:{set:function(t){return t===null||t.id===void 0?t:t.id}},style:{qualify:Zr,set:function(t,e,n){Tn(n).css(t)}},html:{set:function(t,e,n){Tn(n).html(t+"")}},props:Hze,ref:{},refX:{position:Ny("x","width","origin")},refY:{position:Ny("y","height","origin")},refDx:{position:Ny("x","width","corner")},refDy:{position:Ny("y","height","corner")},refWidth:{set:cc("width","width")},refHeight:{set:cc("height","height")},refRx:{set:cc("rx","width")},refRy:{set:cc("ry","height")},refRInscribed:{set:function(t){var e=cc(t,"width"),n=cc(t,"height");return function(r,i){var s=i.height>i.width?e:n;return s(r,i)}}("r")},refRCircumscribed:{set:function(t,e){var n=Gi(t);t=parseFloat(t),n&&(t/=100);var r=Math.sqrt(e.height*e.height+e.width*e.width),i;return isFinite(t)&&(n||t>=0&&t<=1?i=t*r:i=Math.max(t+r,0)),{r:i}}},refCx:{set:cc("cx","width")},refCy:{set:cc("cy","height")},xAlignment:{offset:yF("x","width","right")},yAlignment:{offset:yF("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:_F({resetOffset:!0})},refDKeepOffset:{set:_F({resetOffset:!1})},refPointsResetOffset:{set:bF({resetOffset:!0})},refPointsKeepOffset:{set:bF({resetOffset:!1})},connection:{qualify:xm,set:function({stubs:t=0}){let e;if(isFinite(t)&&t!==0){let n;t<0?n=(this.getConnectionLength()+t)/2:n=t;const r=this.getConnection(),i=this.getConnectionSubdivisions(),s=r.divideAtLength(n,{segmentSubdivisions:i}),a=r.divideAtLength(-n,{segmentSubdivisions:i});s&&a&&(e=`${s[0].serialize()} ${a[1].serialize()}`)}return{d:e||this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:xm,set:Iy("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:xm,set:Iy("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:xm,set:Iy("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:xm,set:Iy("getTangentAtRatio",{rotate:!1})}};Qt["xlink:href"]=Qt.xlinkHref;["transform","d","points","cx","cy","x1","x2","y1","y2","x","y","dx","dy"].forEach(t=>{Qt[t]={qualify:oo,set:function(n,r){return{[t]:lo(n,r)}}}});["width","height","r","rx","ry","font-size","stroke-width"].forEach(t=>{Qt[t]={qualify:oo,set:function(n,r){return{[t]:Math.max(0,lo(n,r))}}}});Qt.refR=Qt.refRInscribed;Qt.refD=Qt.refDResetOffset;Qt.refPoints=Qt.refPointsResetOffset;Qt.atConnectionLength=Qt.atConnectionLengthKeepGradient;Qt.atConnectionRatio=Qt.atConnectionRatioKeepGradient;Qt.fontSize=Qt["font-size"];Qt.strokeWidth=Qt["stroke-width"];Qt.refX2=Qt.refX;Qt.refY2=Qt.refY;Qt.refWidth2=Qt.refWidth;Qt.refHeight2=Qt.refHeight;Qt["ref-x"]=Qt.refX;Qt["ref-y"]=Qt.refY;Qt["ref-dy"]=Qt.refDy;Qt["ref-dx"]=Qt.refDx;Qt["ref-width"]=Qt.refWidth;Qt["ref-height"]=Qt.refHeight;Qt["x-alignment"]=Qt.xAlignment;Qt["y-alignment"]=Qt.yAlignment;const wq=Qt,ql=ls.Model.extend({constructor:function(t,e){var n,r=t||{};typeof this.preinitialize=="function"&&this.preinitialize.apply(this,arguments),this.cid=kze("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(r=this.parse(r,e)||{}),(n=ei(this,"defaults"))&&(r=ai({},n,r)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){const e=ei(this.constructor.prototype,"defaults").attrs||{},n=this.attributes.attrs,r={};io(n,function(s,a){const o=e[a];io(s,function(l,u){Fn(l)&&!Array.isArray(l)?io(l,function(c,f){(!o||!o[u]||!Ed(o[u][f],c))&&(r[a]=r[a]||{},(r[a][u]||(r[a][u]={}))[f]=c)}):(!o||!Ed(o[u],l))&&(r[a]=r[a]||{},r[a][u]=l)})});const i=ro(_h(this.attributes,"attrs"));return i.attrs=r,i},initialize:function(t){const e=this.getIdAttribute();(!t||t[e]===void 0)&&this.set(e,this.generateId(),{silent:!0}),this._transitionIds={},this._scheduledTransitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},getIdAttribute:function(){return this.idAttribute||"id"},generateId:function(){return Rze()},processPorts:function(){var t=this.ports,e={};io(this.get("attrs"),function(s,a){s&&s.port&&(s.port.id!==void 0?e[s.port.id]=s.port:e[s.port]={id:s.port})});var n={};if(io(t,function(s,a){e[a]||(n[a]=!0)}),this.graph&&!$c(n)){var r=this.graph.getConnectedLinks(this,{inbound:!0});r.forEach(function(s){n[s.get("target").port]&&s.remove()});var i=this.graph.getConnectedLinks(this,{outbound:!0});i.forEach(function(s){n[s.get("source").port]&&s.remove()})}this.ports=e},remove:function(t={}){const{graph:e,collection:n}=this;if(!e)return n&&n.remove(this,t),this;e.startBatch("remove");const r=this.getParentCell();r&&r.unembed(this,t);const i=this.getEmbeddedCells();for(let s=0,a=i.length;s<a;s++){const o=i[s];o&&o.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(t){var e=this.graph;if(e){t=t||{};let n;t.deep?(n=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1}),n.unshift(this)):n=[this];const r=pF(n,l=>l.z());let s=e.maxZIndex()-n.length+1;const a=e.get("cells");let o=a.indexOf(this)!==a.length-n.length;o||(o=r.some(function(l,u){return l.z()!==s+u})),o&&(this.startBatch("to-front"),s=s+n.length,r.forEach(function(l,u){l.set("z",s+u,t)}),this.stopBatch("to-front"))}return this},toBack:function(t){var e=this.graph;if(e){t=t||{};let r;t.deep?(r=this.getEmbeddedCells({deep:!0,breadthFirst:t.breadthFirst!==!1}),r.unshift(this)):r=[this];const i=pF(r,o=>o.z());let s=e.minZIndex();var n=e.get("cells");let a=n.indexOf(this)!==0;a||(a=i.some(function(o,l){return o.z()!==s+l})),a&&(this.startBatch("to-back"),s-=r.length,i.forEach(function(o,l){o.set("z",s+l,t)}),this.stopBatch("to-back"))}return this},parent:function(t,e){return t===void 0?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){const n=Array.isArray(t)?t:[t];if(!this.canEmbed(n))throw new Error("Recursive embedding not allowed.");if(n.some(r=>r.isEmbedded()&&this.id!==r.parent()))throw new Error("Embedding of already embedded cells is not allowed.");return this._embedCells(n,e),this},unembed:function(t,e){const n=Array.isArray(t)?t:[t];return this._unembedCells(n,e),this},canEmbed:function(t){return(Array.isArray(t)?t:[t]).every(n=>this!==n&&!this.isEmbeddedIn(n))},_embedCells:function(t,e){const n="embed";this.startBatch(n);const r=Dt([],this.get("embeds"));t.forEach(i=>{r[i.isLink()?"unshift":"push"](i.id),i.parent(this.id,e)}),this.set("embeds",Dv(r),e),this.stopBatch(n)},_unembedCells:function(t,e){const n="unembed";this.startBatch(n),t.forEach(r=>r.unset("parent",e)),this.set("embeds",mF(this.get("embeds"),...t.map(r=>r.id)),e),this.stopBatch(n)},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(t){if(t=t||{},this.graph){var e;if(t.deep)if(t.breadthFirst){e=[];for(var n=this.getEmbeddedCells();n.length>0;){var r=n.shift();e.push(r),n.push.apply(n,r.getEmbeddedCells())}}else e=this.getEmbeddedCells(),e.forEach(function(i){e.push.apply(e,i.getEmbeddedCells(t))});else e=xn(this.get("embeds")).map(this.graph.getCell,this.graph);return e}return[]},isEmbeddedIn:function(t,e){var n=cs(t)?t:t.id,r=this.parent();if(e=Dt({deep:!0},e),this.graph&&e.deep){for(;r;){if(r===n)return!0;r=this.graph.getCell(r).parent()}return!1}else return r===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if(t=t||{},t.deep)return xn(_q([this].concat(this.getEmbeddedCells({deep:!0}))));var e=ls.Model.prototype.clone.apply(this,arguments);return e.set(this.getIdAttribute(),this.generateId()),e.unset("embeds"),e.unset("parent"),e},prop:function(t,e,n){var r="/",i=cs(t);if(i||Array.isArray(t))if(arguments.length>1){var s,a;i?(s=t,a=s.split("/")):(s=t.join(r),a=t.slice());var o=a[0],l=a.length;const A=n||{};A.propertyPath=s,A.propertyValue=e,A.propertyPathArray=a,"rewrite"in A||(A.rewrite=!1);for(var u={},c=u,f=o,d=1;d<l;d++){var v=a[d],_=Number.isFinite(i?Number(v):v);c=c[f]=_?[]:{},f=v}u=XA(u,a,e,"/");var S=ai({},this.attributes);A.rewrite&&gF(S,s,"/");var b=ai(S,u);return this.set(o,b[o],A)}else return jg(this.attributes,t,r);const y=e||{};return y.propertyPath=null,y.propertyValue=t,y.propertyPathArray=[],"rewrite"in y||(y.rewrite=!1),this.set(ai({},this.attributes,t),y)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),r=n[0];if(r==="attrs"&&(e.dirty=!0),n.length===1)return this.unset(t,e);var i=n.slice(1),s=this.get(r);return s==null?this:(s=ro(s),gF(s,i,"/"),this.set(r,s,e))},attr:function(t,e,n){var r=Array.from(arguments);return r.length===0?this.get("attrs"):(Array.isArray(t)?r[0]=["attrs"].concat(t):cs(t)?r[0]="attrs/"+t:r[0]={attrs:t},this.prop.apply(this,r))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(t,e,n,r){r=r||"/";var i={duration:100,delay:10,timingFunction:Bze.linear,valueFunction:yq.number};n=Dt(i,n);var s=0,a,o=function(f){var d,v,_;s=s||f,f-=s,v=f/n.duration,v<1?this._transitionIds[t]=d=QA(o):(v=1,delete this._transitionIds[t]),_=a(n.timingFunction(v)),n.transitionId=d,this.prop(t,_,n),d||this.trigger("transition:end",this,t)}.bind(this);const{_scheduledTransitionIds:l}=this;let u;var c=f=>{l[t]&&(l[t]=mF(l[t],u),l[t].length===0&&delete l[t]),this.stopPendingTransitions(t,r),a=n.valueFunction(jg(this.attributes,t,r),e),this._transitionIds[t]=QA(f),this.trigger("transition:start",this,t)};return u=setTimeout(c,n.delay,o),l[t]||(l[t]=[]),l[t].push(u),u},getTransitions:function(){return JA(Object.keys(this._transitionIds),Object.keys(this._scheduledTransitionIds))},stopScheduledTransitions:function(t,e="/"){const{_scheduledTransitionIds:n={}}=this;let r=Object.keys(n);if(t){const i=t.split(e);r=r.filter(s=>Ed(i,s.split(e).slice(0,i.length)))}return r.forEach(i=>{n[i].forEach(a=>clearTimeout(a)),delete n[i]}),this},stopPendingTransitions(t,e="/"){const{_transitionIds:n={}}=this;let r=Object.keys(n);if(t){const i=t.split(e);r=r.filter(s=>Ed(i,s.split(e).slice(0,i.length)))}r.forEach(i=>{const s=n[i];ZA(s),delete n[i],this.trigger("transition:end",this,i)})},stopTransitions:function(t,e="/"){return this.stopScheduledTransitions(t,e),this.stopPendingTransitions(t,e),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,Dt({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,Dt({},e,{cell:this})),this},getChangeFlag:function(t){var e=0;if(!t)return e;for(var n in t)!t.hasOwnProperty(n)||!this.hasChanged(n)||(e|=t[n]);return e},angle:function(){return 0},position:function(){return new we(0,0)},z:function(){return this.get("z")||0},getPointFromConnectedLink:function(){return new we},getBBox:function(){return new lt(0,0,0,0)},getPointRotatedAroundCenter(t,e,n){const r=new we(e,n);return t&&r.rotate(this.getBBox().center(),t),r},getAbsolutePointFromRelative(t,e){return this.getPointRotatedAroundCenter(-this.angle(),this.position().offset(t,e))},getRelativePointFromAbsolute(t,e){return this.getPointRotatedAroundCenter(this.angle(),t,e).difference(this.position())}},{getAttributeDefinition:function(t){var e=this.attributes,n=wq;return e&&e[t]||n[t]},define:function(t,e,n,r){n=Dt({defaults:Ik({type:t},e,this.prototype.defaults)},n);var i=this.extend(n,r);return typeof joint<"u"&&Eu(joint,"shapes")&&XA(joint.shapes,t,i,"."),i}}),Wze=function(t,e,n){if(cs(n)){if(!eP[n])throw new Error('Unknown wrapper: "'+n+'"');n=eP[n]}if(!rr(n))throw new Error("Wrapper must be a function.");xn(e).forEach(function(r){t[r]=n(t[r])})},eP={cells:function(t){return function(){var e=Array.from(arguments),n=e.length,r=n>0&&e[0]||[],i=n>1&&e[n-1]||{};return Array.isArray(r)||(i instanceof ql?r=e:r instanceof ql&&(e.length>1&&e.pop(),r=e)),i instanceof ql&&(i={}),t.call(this,r,i)}}},Br={TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",CENTER:"center"};function Sq(t,e){const n=new lt(t);switch(e){case void 0:throw new Error("Position required");case Br.LEFT:case"leftMiddle":return n.leftMiddle();case Br.RIGHT:case"rightMiddle":return n.rightMiddle();case Br.TOP:case"topMiddle":return n.topMiddle();case Br.BOTTOM:case"bottomMiddle":return n.bottomMiddle();case Br.TOP_LEFT:case"topLeft":case"origin":return n.topLeft();case Br.TOP_RIGHT:case"topRight":return n.topRight();case Br.BOTTOM_LEFT:case"bottomLeft":return n.bottomLeft();case Br.BOTTOM_RIGHT:case"bottomRight":case"corner":return n.bottomRight();case Br.CENTER:return n.center();default:throw new Error(`Unknown position: ${e}`)}}function xq(t,e,n){var r=t.toJSON();return r.angle=e||0,jo({},n,r)}function Lv(t,e,n,r){return t.map(function(i,s,a){var o=this.pointAt((s+.5)/a.length);return(i.dx||i.dy)&&o.offset(i.dx||0,i.dy||0),xq(o.round(),0,Dk(r,i))},sh(e,n))}function Eq(t,e,n,r){var i=e.center(),s=e.width/e.height,a=e.topMiddle(),o=Is.fromRect(e);return t.map(function(l,u,c){var f=n+r(u,c.length),d=a.clone().rotate(i,-f).scale(s,1,i),v=l.compensateRotation?-o.tangentTheta(d):0;return(l.dx||l.dy)&&d.offset(l.dx||0,l.dy||0),l.dr&&d.move(i,l.dr),xq(d.round(),v,Dk(e,l))})}function Dk(t,e){let{x:n,y:r,angle:i}=e;return Gi(n)?n=parseFloat(n)/100*t.width:oo(n)&&(n=Number(lo(n,t))),Gi(r)?r=parseFloat(r)/100*t.height:oo(r)&&(r=Number(lo(r,t))),{x:n,y:r,angle:i}}function tP(t,e){const{x:n,y:r}=Dk(t,e);return new we(n||0,r||0)}const Gze=function(t,e){return t.map(n=>{const r=tP(e,n).round().toJSON();return r.angle=n.angle||0,r})},Kze=function(t,e,n){return n.fn(t,e,n)},Yze=function(t,e,n){var r=tP(e,n.start||e.origin()),i=tP(e,n.end||e.corner());return Lv(t,r,i,e)},Jze=function(t,e,n){return Lv(t,e.origin(),e.bottomLeft(),e)},Xze=function(t,e,n){return Lv(t,e.topRight(),e.corner(),e)},Qze=function(t,e,n){return Lv(t,e.origin(),e.topRight(),e)},Zze=function(t,e,n){return Lv(t,e.bottomLeft(),e.corner(),e)},e7e=function(t,e,n){var r=n.startAngle||0,i=n.step||360/t.length;return Eq(t,e,r,function(s){return s*i})},t7e=function(t,e,n){var r=n.startAngle||0,i=n.step||20;return Eq(t,e,r,function(s,a){return(s+.5-a/2)*i})},n7e=Object.freeze(Object.defineProperty({__proto__:null,absolute:Gze,bottom:Zze,ellipse:t7e,ellipseSpread:e7e,fn:Kze,left:Jze,line:Yze,right:Xze,top:Qze},Symbol.toStringTag,{value:"Module"}));function tf(t,e){return Ik({},t,e,{x:0,y:0,angle:0,attrs:{}})}function $q(t,e,n,r){r=jo({},r,{offset:15});var i=e.center().theta(t),s=Aq(e),a,o,l,u,c=r.offset,f=0;i<s[1]||i>s[2]?(l=".3em",a=c,o=0,u="start"):i<s[0]?(a=0,o=-c,n?(f=-90,u="start",l=".3em"):(u="middle",l="0")):i<s[3]?(l=".3em",a=-c,o=0,u="end"):(a=0,o=c,n?(f=90,u="start",l=".3em"):(u="middle",l=".6em"));var d=Math.round;return tf({x:d(a),y:d(o),angle:f,attrs:{labelText:{y:l,textAnchor:u}}})}function Aq(t){var e=t.center(),n=e.theta(t.origin()),r=e.theta(t.bottomLeft()),i=e.theta(t.corner()),s=e.theta(t.topRight());return[n,s,i,r]}function Pq(t,e,n,r){var i=e.center().theta(t);r=jo({},r,{offset:15});var s,a,o,l,u=r.offset,c=0,f=Aq(e);i<f[1]||i>f[2]?(o=".3em",s=-u,a=0,l="end"):i<f[0]?(s=0,a=u,n?(c=90,l="start",o=".3em"):(l="middle",o=".6em")):i<f[3]?(o=".3em",s=u,a=0,l="start"):(s=0,a=-u,n?(c=-90,l="start",o=".3em"):(l="middle",o="0"));var d=Math.round;return tf({x:d(s),y:d(a),angle:c,attrs:{labelText:{y:o,textAnchor:l}}})}function Tq(t,e,n){n=jo({},n,{offset:20});var r=Yb(0,0),i=-t.theta(r),s=i,a=t.clone().move(r,n.offset).difference(t).round(),o=".3em",l;(i+90)%180===0?(l=e?"end":"middle",!e&&i===-270&&(o="0em")):i>-270&&i<-90?(l="start",s=i-180):l="end";var u=Math.round;return tf({x:u(a.x),y:u(a.y),angle:e?s:0,attrs:{labelText:{y:o,textAnchor:l}}})}const r7e=function(t,e,n){return tf(n)},i7e=function(t,e,n){return tf(n,{x:-15,attrs:{labelText:{y:".3em",textAnchor:"end"}}})},s7e=function(t,e,n){return tf(n,{x:15,attrs:{labelText:{y:".3em",textAnchor:"start"}}})},a7e=function(t,e,n){return tf(n,{y:-15,attrs:{labelText:{y:"0",textAnchor:"middle"}}})},o7e=function(t,e,n){return tf(n,{y:15,attrs:{labelText:{y:".6em",textAnchor:"middle"}}})},l7e=function(t,e,n){return $q(t,e,!0,n)},u7e=function(t,e,n){return $q(t,e,!1,n)},c7e=function(t,e,n){return Pq(t,e,!0,n)},f7e=function(t,e,n){return Pq(t,e,!1,n)},h7e=function(t,e,n){return Tq(t.difference(e.center()),!1,n)},d7e=function(t,e,n){return Tq(t.difference(e.center()),!0,n)},p7e=Object.freeze(Object.defineProperty({__proto__:null,bottom:o7e,inside:f7e,insideOriented:c7e,left:i7e,manual:r7e,outside:u7e,outsideOriented:l7e,radial:h7e,radialOriented:d7e,right:s7e,top:a7e},Symbol.toStringTag,{value:"Module"})),Ph=ql.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){if(t===void 0)return $l(this.get("source"));var r,i,s=t instanceof ql;if(s)return r=$l(e)||{},r.id=t.id,i=n,this.set("source",r,i);var a=!Zr(t);return a?(r=$l(e)||{},r.x=t.x,r.y=t.y,i=n,this.set("source",r,i)):(r=t,i=e,this.set("source",r,i))},target:function(t,e,n){if(t===void 0)return $l(this.get("target"));var r,i,s=t instanceof ql;if(s)return r=$l(e)||{},r.id=t.id,i=n,this.set("target",r,i);var a=!Zr(t);return a?(r=$l(e)||{},r.x=t.x,r.y=t.y,i=n,this.set("target",r,i)):(r=t,i=e,this.set("target",r,i))},router:function(t,e,n){if(t===void 0){var r=this.get("router");return r?typeof r=="object"?$l(r):r:this.get("manhattan")?{name:"orthogonal"}:null}var i=typeof t=="object"||typeof t=="function",s=i?t:{name:t,args:e},a=i?e:n;return this.set("router",s,a)},connector:function(t,e,n){if(t===void 0){var r=this.get("connector");return r?typeof r=="object"?$l(r):r:this.get("smooth")?{name:"smooth"}:null}var i=typeof t=="object"||typeof t=="function",s=i?t:{name:t,args:e},a=i?e:n;return this.set("connector",s,a)},label:function(t,e,n){var r=this.labels();return t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return arguments.length===0?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},hasLabels:function(){const{labels:t}=this.attributes;return Array.isArray(t)&&t.length>0},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var r=this.labels(),i=r.length;return t=isFinite(t)&&t!==null?t|0:i,t<0&&(t=i+t+1),r.splice(t,0,e),this.labels(r,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var r=this.vertices();if(t=isFinite(t)&&t!==null?t|0:0,t<0&&(t=r.length+t),arguments.length<=1)return this.prop(["vertices",t]);var i=this._normalizeVertex(e);return this.prop(["vertices",t],i,n)},vertices:function(t,e){if(arguments.length===0)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],r=0;r<t.length;r++){var i=t[r],s=this._normalizeVertex(i);n.push(s)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var r=this.vertices(),i=r.length;t=isFinite(t)&&t!==null?t|0:i,t<0&&(t=i+t+1);var s=this._normalizeVertex(e);return r.splice(t,0,s),this.vertices(r,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&t!==null?t|0:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){var e=!Zr(t);return e?{x:t.x,y:t.y}:t},translate:function(t,e,n){return n=n||{},n.translateBy=n.translateBy||this.id,n.tx=t,n.ty=e,this.applyToPoints(function(r){return{x:(r.x||0)+t,y:(r.y||0)+e}},n)},scale:function(t,e,n,r){return this.applyToPoints(function(i){return we(i).scale(t,e,n).toJSON()},r)},applyToPoints:function(t,e){if(!rr(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},{source:r,target:i}=this.attributes;r.id||(n.source=t(r)),i.id||(n.target=t(i));var s=this.vertices();return s.length>0&&(n.vertices=s.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new we(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new we(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){const t=[this.getSourcePoint(),...this.vertices().map(we),this.getTargetPoint()];return new hr(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e;if(this.graph){var n=this.getSourceElement(),r=this.getTargetElement(),i=this.getParentCell();n&&r&&(n===r||n.isEmbeddedIn(r)?e=r:r.isEmbeddedIn(n)?e=n:e=this.graph.getCommonAncestor(n,r)),i&&(!e||e.id!==i.id)&&i.unembed(this,t),e&&e.embed(this,t)}return e},hasLoop:function(t){t=t||{};var{source:e,target:n}=this.attributes,r=e.id,i=n.id;if(!r||!i)return!1;var s=r===i;if(!s&&t.deep&&this.graph){var a=this.getSourceCell(),o=this.getTargetCell();s=a.isEmbeddedIn(o)||o.isEmbeddedIn(a)}return s},getSourceCell:function(){const{graph:t,attributes:e}=this;var n=e.source;return n&&n.id&&t&&t.getCell(n.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getSourceCell()}while(t&&t.isLink());return t},getTargetCell:function(){const{graph:t,attributes:e}=this;var n=e.target;return n&&n.id&&t&&t.getCell(n.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null;e[t.id]=!0,t=t.getTargetCell()}while(t&&t.isLink());return t},getRelationshipAncestor:function(){var t;if(this.graph){var e=[this,this.getSourceElement(),this.getTargetElement()].filter(function(n){return!!n});t=this.graph.getCommonAncestor.apply(this.graph,e)}return t||null},isRelationshipEmbeddedIn:function(t){var e=cs(t)||ia(t)?t:t.id,n=this.getRelationshipAncestor();return!!n&&(n.id===e||n.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}});var Cq=function(t){var e=ro(t)||{};this.ports=[],this.groups={},this.portLayoutNamespace=n7e,this.portLabelLayoutNamespace=p7e,this._init(e)};Cq.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(t){return this.ports.filter(function(e){return e.group===t})},getGroupPortsMetrics:function(t,e){var n=this.getGroup(t),r=this.getPortsByGroup(t),i=n.position||{},s=i.name,a=this.portLayoutNamespace;a[s]||(s="left");var o=i.args||{},l=r.map(function(f){return f&&f.position&&f.position.args}),u=a[s](l,e,o),c={ports:r,result:[]};return xn(u).reduce(function(f,d,v){var _=f.ports[v];return f.result.push({portId:_.id,portTransformation:d,labelTransformation:this._getPortLabelLayout(_,we(d),e),portAttrs:_.attrs,portSize:_.size,labelSize:_.label.size}),f}.bind(this),c),c.result},_getPortLabelLayout:function(t,e,n){var r=this.portLabelLayoutNamespace,i=t.label.position.name||"left";return r[i]?r[i](e,n,t.label.position.args):null},_init:function(t){if(Fn(t.groups))for(var e=Object.keys(t.groups),n=0,r=e.length;n<r;n++){var i=e[n];this.groups[i]=this._evaluateGroup(t.groups[i])}for(var s=xn(t.items),a=0,o=s.length;a<o;a++)this.ports.push(this._evaluatePort(s[a]))},_evaluateGroup:function(t){return ai(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=Dt({},t),n=this.getGroup(t.group);return e.markup=e.markup||n.markup,e.attrs=ai({},n.attrs,e.attrs),e.position=this._createPositionNode(n,e),e.label=ai({},n.label,this._getLabel(e)),e.z=this._getZIndex(n,e),e.size=Dt({},n.size,e.size),e},_getZIndex:function(t,e){return ia(e.z)?e.z:ia(t.z)||t.z==="auto"?t.z:"auto"},_createPositionNode:function(t,e){return ai({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n={},r;rr(t)?(r="fn",n.fn=t):cs(t)?r=t:t===void 0?r=e?"left":null:Array.isArray(t)?(r="absolute",n.x=t[0],n.y=t[1]):Fn(t)&&(r=t.name,Dt(n,t.args));var i={args:n};return r&&(i.name=r),i},_getLabel:function(t,e){var n=t.label||{},r=n;return r.position=this._getPosition(n.position,e),r}};const m7e={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};xn(t.items).forEach(function(o){e[o.id]=!0});var n=this.previous("ports")||{},r={};xn(n.items).forEach(function(o){e[o.id]||(r[o.id]=!0)});var i=this.graph;if(i&&!$c(r)){var s=i.getConnectedLinks(this,{inbound:!0});s.forEach(function(o){r[o.get("target").port]&&o.remove()});var a=i.getConnectedLinks(this,{outbound:!0});a.forEach(function(o){r[o.get("source").port]&&o.remove()})}},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&t.length>0},hasPort:function(t){return this.getPortIndex(t)!==-1},getPorts:function(){return ro(this.prop("ports/items"))||[]},getGroupPorts:function(t){const e=xn(this.prop(["ports","items"])).filter(n=>n.group===t);return ro(e)},getPort:function(t){return ro(xn(this.prop("ports/items")).find(function(e){return e.id&&e.id===t}))},getPortsPositions:function(t){var e=this._portSettingsData.getGroupPortsMetrics(t,lt(this.size()));return e.reduce(function(n,r){var i=r.portTransformation;return n[r.portId]={x:i.x,y:i.y,angle:i.angle},n},{})},getPortIndex:function(t){var e=Fn(t)?t.id:t;return this._isValidPortId(e)?xn(this.prop("ports/items")).findIndex(function(n){return n.id===e}):-1},addPort:function(t,e){if(!Fn(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=Dt([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},insertPort:function(t,e,n){const r=typeof t=="number"?t:this.getPortIndex(t);if(!Fn(e)||Array.isArray(e))throw new Error("dia.Element: insertPort requires an object.");const i=Dt([],this.prop("ports/items"));return i.splice(r,0,e),this.prop("ports/items",i,n),this},portProp:function(t,e,n,r){var i=this.getPortIndex(t);if(i===-1)throw new Error("Element: unable to find port with id "+t);var s=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?s[0]=["ports","items",i].concat(e):cs(e)?s[0]=["ports/items/",i,"/",e].join(""):(s=["ports/items/"+i],Zr(e)&&(s.push(e),s.push(n))),this.prop.apply(this,s)},_validatePorts:function(){var t=this.get("ports")||{},e=[];t=t||{};var n=xn(t.items);return n.forEach(function(r){typeof r!="object"&&e.push("Element: invalid port ",r),this._isValidPortId(r.id)||(r.id=this.generatePortId())},this),Dv(n,"id").length!==n.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return t!=null&&!Fn(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",Dt([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){const n=e||{},r=this.getPortIndex(t);if(r!==-1){const i=Dt([],this.prop(["ports","items"]));i.splice(r,1),n.rewrite=!0,this.startBatch("port-remove"),this.prop(["ports","items"],i,n),this.stopBatch("port-remove")}return this},removePorts:function(t,e){let n,r;if(Array.isArray(t)){if(n=e||{},t.length===0)return this.this;r=Dt([],this.prop(["ports","items"])).filter(function(s){return!t.some(function(a){const o=Fn(a)?a.id:a;return s.id===o})})}else n=t||{},r=[];return this.startBatch("port-remove"),n.rewrite=!0,this.prop(["ports","items"],r,n),this.stopBatch("port-remove"),this},_createPortData:function(){var t=this._validatePorts();if(t.length>0)throw this.set("ports",this.previous("ports")),new Error(t.join(" "));var e;this._portSettingsData&&(e=this._portSettingsData.getPorts()),this._portSettingsData=new Cq(this.get("ports"));var n=this._portSettingsData.getPorts();if(e){var r=n.filter(function(s){if(!e.find(function(a){return a.id===s.id}))return s}),i=e.filter(function(s){if(!n.find(function(a){return a.id===s.id}))return s});i.length>0&&this.trigger("ports:remove",this,i),r.length>0&&this.trigger("ports:add",this,r)}}},g7e={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._cleanPortsCache()},_refreshPorts:function(){this._removePorts(),this._cleanPortsCache(),this._renderPorts()},_cleanPortsCache:function(){this._portElementsCache={}},_renderPorts:function(){for(var t=[],e=this._getContainerElement(),n=0,r=e.node.childNodes.length;n<r;n++)t.push(e.node.childNodes[n]);var i=$ze(this.model._portSettingsData.getPorts(),"z"),s="auto";xn(i[s]).forEach(function(c){var f=this._getPortElement(c);e.append(f),t.push(f)},this);for(var a=Object.keys(i),o=0;o<a.length;o++){var l=a[o];if(l!==s){var u=parseInt(l,10);this._appendPorts(i[l],u,t)}}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var r=this._getContainerElement(),i=xn(t).map(this._getPortElement,this);n[e]||e<0?He(n[Math.max(e,0)]).before(i):r.append(i)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){const n=this._portElementsCache[t];if(!n)return null;if(!e)return n.portContentElement.node;const r=n.portElement.node,i=n.portSelectors,[s=null]=this.findBySelector(e,r,i);return s},_updatePorts:function(){this._updatePortGroup(void 0);var t=Object.keys(this.model._portSettingsData.groups);t.forEach(this._updatePortGroup,this)},_removePorts:function(){Ko(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){let e,n,r,i;var s=He(this.portContainerMarkup).addClass("joint-port"),a=this._getPortMarkup(t);if(Array.isArray(a)){var o=this.parseDOMJSON(a,s.node),l=o.fragment;l.childNodes.length>1?e=He("g").append(l):e=He(l.firstChild),i=o.selectors}else e=He(a),Array.isArray(e)&&(e=He("g").append(e));if(!e)throw new Error("ElementView: Invalid port markup.");e.attr({port:t.id,"port-group":t.group});const u=this._getPortLabelMarkup(t.label);if(Array.isArray(u)){const{fragment:S,selectors:b}=this.parseDOMJSON(u,s.node),y=S.childNodes.length;y>0&&(r=b,n=y===1?He(S.firstChild):He("g").append(S))}else n=He(u),Array.isArray(n)&&(n=He("g").append(n));var c;if(i&&r){for(var f in r)if(i[f]&&f!==this.selector)throw new Error("ElementView: selectors within port must be unique.");c=Dt({},i,r)}else c=i||r||{};const d="portRoot",v="labelRoot",_="labelText";if(d in c||(c[d]=e.node),n){const S=n.node;if(v in c||(c[v]=S),!(_ in c)){const b=n.tagName()==="TEXT"?S:Array.from(S.querySelectorAll("text"));c[_]=b,r||(r={}),r[_]=b}}return s.append(e.addClass("joint-port-body")),n&&s.append(n.addClass("joint-port-label")),this._portElementsCache[t.id]={portElement:s,portLabelElement:n,portSelectors:c,portLabelSelectors:r,portContentElement:e,portContentSelectors:i},s},_updatePortGroup:function(t){for(var e=lt(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),r=0,i=n.length;r<i;r++){var s=n[r],a=s.portId,o=this._portElementsCache[a]||{},l=s.portTransformation,u=s.labelTransformation;u&&o.portLabelElement&&(this.updateDOMSubtreeAttributes(o.portLabelElement.node,u.attrs,{rootBBox:new lt(s.labelSize),selectors:o.portLabelSelectors}),this.applyPortTransform(o.portLabelElement,u,-l.angle||0)),this.updateDOMSubtreeAttributes(o.portElement.node,s.portAttrs,{rootBBox:new lt(s.portSize),selectors:o.portSelectors}),this.applyPortTransform(o.portElement,l)}},applyPortTransform:function(t,e,n){var r=He.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(r,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},gs=ql.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),ql.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){const r=ia(e);n=(r?n:t)||{};const{parentRelative:i,deep:s,restrictedArea:a}=n;let o;if(i){if(!this.graph)throw new Error("Element must be part of a graph.");const l=this.getParentCell();l&&!l.isLink()&&(o=l.get("position"))}if(r){if(o&&(t+=o.x,e+=o.y),s||a){const{x:l,y:u}=this.get("position");this.translate(t-l,e-u,n)}else this.set("position",{x:t,y:e},n);return this}else{const l=we(this.get("position"));return i?l.difference(o):l}},translate:function(t,e,n){if(t=t||0,e=e||0,t===0&&e===0)return this;n=n||{},n.translateBy=n.translateBy||this.id;var r=this.get("position")||{x:0,y:0},i=n.restrictedArea;if(i&&n.translateBy===this.id)if(typeof i=="function"){var s=i.call(this,r.x+t,r.y+e,n);t=s.x-r.x,e=s.y-r.y}else{var a=this.getBBox({deep:!0}),o=r.x-a.x,l=r.y-a.y,u=Math.max(i.x+o,Math.min(i.x+i.width+o-a.width,r.x+t)),c=Math.max(i.y+l,Math.min(i.y+i.height+l-a.height,r.y+e));t=u-r.x,e=c-r.y}var f={x:r.x+t,y:r.y+e};return n.tx=t,n.ty=e,n.transition?(Fn(n.transition)||(n.transition={}),this.transition("position",f,Dt({},n.transition,{valueFunction:yq.object})),Ko(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",f,n),Ko(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var r=this.get("size");return t===void 0?{width:r.width,height:r.height}:(Fn(t)&&(n=e,e=ia(t.height)?t.height:r.height,t=ia(t.width)?t.width:r.width),this.resize(t,e,n))},resize:function(t,e,n){if(n=n||{},this.startBatch("resize",n),n.direction){var r=this.get("size");switch(n.direction){case"left":case"right":e=r.height;break;case"top":case"bottom":t=r.width;break}var i=Gl(this.get("angle")||0),s=this.getBBox(),a;if(i){var o={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(o+=Math.floor((i+45)/90),o%=4);var l=s[["bottomLeft","corner","topRight","origin"][o]](),u=we(l).rotate(s.center(),-i),c=Math.sqrt(t*t+e*e)/2,f=o*Math.PI/2;f+=Math.atan(o%2==0?e/t:t/e),f-=ca(i);var d=we.fromPolar(c,f,u);a=we(d).offset(t/-2,e/-2)}else switch(a=s.topLeft(),n.direction){case"top":case"top-right":a.offset(0,s.height-e);break;case"left":case"bottom-left":a.offset(s.width-t,0);break;case"top-left":a.offset(s.width-t,s.height-e);break}this.set("size",{width:t,height:e},n),this.position(a.x,a.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,r){var i=this.getBBox().scale(t,e,n);return this.startBatch("scale",r),this.position(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this},fitEmbeds:function(t){return this.fitToChildren(t)},fitToChildren:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");const n=this.getEmbeddedCells().filter(r=>r.isElement());return n.length===0?this:(this.startBatch("fit-embeds",t),t.deep&&Ko(n,"fitToChildren",t),this._fitToElements(Object.assign({elements:n},t)),this.stopBatch("fit-embeds"),this)},fitParent:function(t={}){const{graph:e}=this;if(!e)throw new Error("Element must be part of a graph.");if(t.deep&&t.terminator&&(t.terminator===this||t.terminator===this.id))return this;const n=this.getParentCell();if(!n||!n.isElement())return this;const r=n.getEmbeddedCells().filter(i=>i.isElement());return r.length===0?this:(this.startBatch("fit-parent",t),n._fitToElements(Object.assign({elements:r},t)),t.deep&&n.fitParent(t),this.stopBatch("fit-parent"),this)},_fitToElements:function(t={}){const e=this.graph.getCellsBBox(t.elements);if(!e)return;const{expandOnly:n,shrinkOnly:r}=t;if(n&&r)return;let{x:i,y:s,width:a,height:o}=e;const{left:l,right:u,top:c,bottom:f}=bh(t.padding);i-=l,s-=c,a+=l+u,o+=f+c;let d=new lt(i,s,a,o);if(n)d=this.getBBox().union(d);else if(r){const v=this.getBBox().intersect(d);if(!v)return;d=v}this.set({position:{x:d.x,y:d.y},size:{width:d.width,height:d.height}},t)},rotate:function(t,e,n,r){if(n){var i=this.getBBox().center(),s=this.get("size"),a=this.get("position");i.rotate(n,this.get("angle")-t);var o=i.x-s.width/2-a.x,l=i.y-s.height/2-a.y;this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(a.x+o,a.y+l,r),this.rotate(t,e,null,r),this.stopBatch("rotate")}else this.set("angle",e?t:(this.get("angle")+t)%360,r);return this},angle:function(){return Gl(this.get("angle")||0)},getBBox:function(t={}){const{graph:e,attributes:n}=this,{deep:r,rotate:i}=t;if(r&&e){const f=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return f.push(this),e.getCellsBBox(f,t)}const{angle:s=0,position:{x:a,y:o},size:{width:l,height:u}}=n,c=new lt(a,o,l,u);return i&&c.rotateAroundCenter(s),c},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),r=n.center(),i=t.get(e);if(!i)return r;var s=i.port;if(!s||!this.hasPort(s))return r;var a=this.portProp(s,["group"]),o=this.getPortsPositions(a),l=new we(o[s]).offset(n.origin()),u=this.angle();return u&&l.rotate(r,-u),l}});Dt(gs.prototype,m7e);const v7e=ls.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace=typeof joint<"u"&&Eu(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,r=n.cellNamespace,i=t.type==="link"?Ph:jg(r,t.type,".")||gs,s=new i(t,e);return e.dry||(s.graph=n.graph),s},comparator:function(t){return t.get("z")||0}}),$u=ls.Model.extend({initialize:function(t,e){e=e||{};var n=new v7e([],{model:e.cellModel,cellNamespace:e.cellNamespace,graph:this});ls.Model.prototype.set.call(this,"cells",n),n.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},this._batches={},n.on("add",this._restructureOnAdd,this),n.on("remove",this._restructureOnRemove,this),n.on("reset",this._restructureOnReset,this),n.on("change:source",this._restructureOnChangeSource,this),n.on("change:target",this._restructureOnChangeTarget,this),n.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){if(t.isLink()){this._edges[t.id]=!0;var{source:e,target:n}=t.attributes;e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)}else this._nodes[t.id]=!0},_restructureOnRemove:function(t){if(t.isLink()){delete this._edges[t.id];var{source:e,target:n}=t.attributes;e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]}else delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];var n=t.attributes.source;n.id&&((this._out[n.id]||(this._out[n.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];var n=t.get("target");n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=ls.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var r;return typeof t=="object"?(r=t,n=e):(r={})[t]=e,r.hasOwnProperty("cells")&&(this.resetCells(r.cells,n),r=_h(r,"cells")),ls.Model.prototype.set.call(this,r,n)},clear:function(t){t=Dt({},t,{clear:!0});var e=this.get("cells");if(e.length===0)return this;this.startBatch("clear",t);var n=e.sortBy(function(r){return r.isLink()?1:2});do n.shift().remove(t);while(n.length>0);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof ls.Model?(n=t.attributes,!t.graph&&(!e||!e.dry)&&(t.graph=this)):n=t,!cs(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof ls.Model?t.has("z")||t.set("z",this.maxZIndex()+1):t.z===void 0&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return t.length===0?this:(t=Aze(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(n){this.addCell(n,e),e.position--},this),this.stopBatch("add",e),this)},resetCells:function(t,e){var n=xn(t).map(function(r){return this._prepareCell(r,e)},this);return this.get("cells").reset(n,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),Ko(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){n=n||{},n.clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return this.get("cells").filter(t=>t.isElement())},getLinks:function(){return this.get("cells").filter(t=>t.isLink())},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,e){e=e||{};var n=e.indirect,r=e.inbound,i=e.outbound;r===void 0&&i===void 0&&(r=i=!0);var s=[],a={};i&&o(this,t),r&&l(this,t);function o(f,d){if(io(f.getOutboundEdges(d.id),function(_,S){if(!a[S]){var b=f.getCell(S);s.push(b),a[S]=!0,n&&(r&&l(f,b),i&&o(f,b))}}.bind(f)),n&&d.isLink()){var v=d.getTargetCell();v&&v.isLink()&&(a[v.id]||(s.push(v),o(f,v)))}}function l(f,d){if(io(f.getInboundEdges(d.id),function(_,S){if(!a[S]){var b=f.getCell(S);s.push(b),a[S]=!0,n&&(r&&l(f,b),i&&o(f,b))}}.bind(f)),n&&d.isLink()){var v=d.getSourceCell();v&&v.isLink()&&(a[v.id]||(s.push(v),l(f,v)))}}if(e.deep){var u=t.getEmbeddedCells({deep:!0}),c={};u.forEach(function(f){f.isElement()&&(c[f.id]=!0)}),u.forEach(function(f){f.isLink()||(i&&io(this.getOutboundEdges(f.id),function(d,v){if(!a[v]){var _=this.getCell(v),{source:S,target:b}=_.attributes,y=S.id,A=b.id;if(!e.includeEnclosed&&y&&c[y]&&A&&c[A])return;s.push(this.getCell(v)),a[v]=!0}}.bind(this)),r&&io(this.getInboundEdges(f.id),function(d,v){if(!a[v]){var _=this.getCell(v),{source:S,target:b}=_.attributes,y=S.id,A=b.id;if(!e.includeEnclosed&&y&&c[y]&&A&&c[A])return;s.push(this.getCell(v)),a[v]=!0}}.bind(this)))},this)}return s},getNeighbors:function(t,e){e||(e={});var n=e.inbound,r=e.outbound;n===void 0&&r===void 0&&(n=r=!0);var i=this.getConnectedLinks(t,e).reduce(function(o,l){var{source:u,target:c}=l.attributes,f=l.hasLoop(e);if(n&&Eu(u,"id")&&!o[u.id]){var d=this.getCell(u.id);d.isElement()&&(f||d&&d!==t&&(!e.deep||!d.isEmbeddedIn(t)))&&(o[u.id]=d)}if(r&&Eu(c,"id")&&!o[c.id]){var v=this.getCell(c.id);v.isElement()&&(f||v&&v!==t&&(!e.deep||!v.isEmbeddedIn(t)))&&(o[c.id]=v)}return o}.bind(this),{});if(t.isLink()){if(n){var s=t.getSourceCell();s&&s.isElement()&&!i[s.id]&&(i[s.id]=s)}if(r){var a=t.getTargetCell();a&&a.isElement()&&!i[a.id]&&(i[a.id]=a)}}return xn(i)},getCommonAncestor:function(){var t=Array.from(arguments).map(function(n){for(var r=[],i=n.get("parent");i;)r.push(i),i=this.getCell(i).get("parent");return r},this);t=t.sort(function(n,r){return n.length-r.length});var e=xn(t.shift()).find(function(n){return t.every(function(r){return r.includes(n)})});return this.getCell(e)},getSuccessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},Dt({},e,{outbound:!0})),n},cloneCells:_q,cloneSubgraph:function(t,e){var n=this.getSubgraph(t,e);return this.cloneCells(n)},getSubgraph:function(t,e){e=e||{};var n=[],r={},i=[],s=[];return xn(t).forEach(function(a){if(r[a.id]||(n.push(a),r[a.id]=a,a.isLink()?s.push(a):i.push(a)),e.deep){var o=a.getEmbeddedCells({deep:!0});o.forEach(function(l){r[l.id]||(n.push(l),r[l.id]=l,l.isLink()?s.push(l):i.push(l))})}}),s.forEach(function(a){var{source:o,target:l}=a.attributes;if(o.id&&!r[o.id]){var u=this.getCell(o.id);n.push(u),r[u.id]=u,i.push(u)}if(l.id&&!r[l.id]){var c=this.getCell(l.id);n.push(this.getCell(l.id)),r[c.id]=c,i.push(c)}},this),i.forEach(function(a){var o=this.getConnectedLinks(a,e);o.forEach(function(l){var{source:u,target:c}=l.attributes;!r[l.id]&&u.id&&r[u.id]&&c.id&&r[c.id]&&(n.push(l),r[l.id]=l)})},this),n},getPredecessors:function(t,e){e=e||{};var n=[];return this.search(t,function(r){r!==t&&n.push(r)},Dt({},e,{inbound:!0})),n},search:function(t,e,n){n=n||{},n.breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n={}){const r={},i={},s=[];for(s.push(t),i[t.id]=0;s.length>0;){var a=s.shift();if(r[a.id]||(r[a.id]=!0,e.call(this,a,i[a.id])===!1))continue;const o=this.getNeighbors(a,n);for(let l=0,u=o.length;l<u;l++){const c=o[l];i[c.id]=i[a.id]+1,s.push(c)}}},dfs:function(t,e,n={}){const r={},i={},s=[];for(s.push(t),i[t.id]=0;s.length>0;){const a=s.pop();if(r[a.id]||(r[a.id]=!0,e.call(this,a,i[a.id])===!1))continue;const o=this.getNeighbors(a,n),l=s.length;for(let u=0,c=o.length;u<c;u++){const f=o[u];i[f.id]=i[a.id]+1,s.splice(l,0,f)}}},getSources:function(){var t=[];return io(this._nodes,function(e,n){(!this._in[n]||$c(this._in[n]))&&t.push(this.getCell(n))}.bind(this)),t},getSinks:function(){var t=[];return io(this._nodes,function(e,n){(!this._out[n]||$c(this._out[n]))&&t.push(this.getCell(n))}.bind(this)),t},isSource:function(t){return!this._in[t.id]||$c(this._in[t.id])},isSink:function(t){return!this._out[t.id]||$c(this._out[t.id])},isSuccessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{outbound:!0}),n},isPredecessor:function(t,e){var n=!1;return this.search(t,function(r){if(r===e&&r!==t)return n=!0,!1},{inbound:!0}),n},isNeighbor:function(t,e,n){n=n||{};var r=n.inbound,i=n.outbound;r===void 0&&i===void 0&&(r=i=!0);var s=!1;return this.getConnectedLinks(t,n).forEach(function(a){var{source:o,target:l}=a.attributes;if(r&&Eu(o,"id")&&o.id===e.id||i&&Eu(l,"id")&&l.id===e.id)return s=!0,!1}),s},disconnectLinks:function(t,e){this.getConnectedLinks(t).forEach(function(n){n.set(n.attributes.source.id===t.id?"source":"target",{x:0,y:0},e)})},removeLinks:function(t,e){Ko(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(t){return this.getElements().filter(e=>e.getBBox({rotate:!0}).containsPoint(t))},findModelsInArea:function(t,e={}){const n=new lt(t),{strict:r=!1}=e,i=r?"containsRect":"intersect";return this.getElements().filter(s=>n[i](s.getBBox({rotate:!0})))},findModelsUnderElement:function(t,e={}){const{searchBy:n="bbox"}=e,r=t.getBBox().rotateAroundCenter(t.angle());return(n==="bbox"?this.findModelsInArea(r):this.findModelsFromPoint(Sq(r,n))).filter(s=>t.id!==s.id&&!s.isEmbeddedIn(t))},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,e={}){const{rotate:n=!0}=e;return xn(t).reduce(function(r,i){const s=i.getBBox({rotate:n});return s?r?r.union(s):s:r},null)},translate:function(t,e,n){var r=this.getCells().filter(function(i){return!i.isEmbedded()});return Ko(r,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,r){var i=this.getCellsBBox(n);if(i){var s=Math.max(t/i.width,0),a=Math.max(e/i.height,0);Ko(n,"scale",s,a,i.origin(),r)}return this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",Dt({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",Dt({},e,{batchName:t}))},hasActiveBatch:function(t){const e=this._batches;let n;return arguments.length===0?n=Object.keys(e):Array.isArray(t)?n=t:n=[t],n.some(r=>e[r]>0)}},{validations:{multiLinks:function(t,e){var{source:n,target:r}=e.attributes;if(n.id&&r.id){var i=e.getSourceCell();if(i){var s=t.getConnectedLinks(i,{outbound:!0}),a=s.filter(function(o){var{source:l,target:u}=o.attributes;return l&&l.id===n.id&&(!l.port||l.port===n.port)&&u&&u.id===r.id&&(!u.port||u.port===r.port)});if(a.length>1)return!1}}return!0},linkPinning:function(t,e){var{source:n,target:r}=e.attributes;return n.id&&r.id}}});Wze($u.prototype,["resetCells","addCells","removeCells"],eP.cells);const Hf={},Ic=ls.View.extend({options:{},theme:null,themeClassNamePrefix:Uo("theme-"),requireSetThemeOverride:!1,defaultTheme:Ul.defaultTheme,children:null,childNodes:null,DETACHABLE:!0,UPDATE_PRIORITY:2,FLAG_INSERT:1<<30,FLAG_REMOVE:1<<29,FLAG_INIT:1<<28,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=Dt({},this.options,t),ls.View.call(this,t)},initialize:function(){Hf[this.cid]=this,this.setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){this.svgElement?this.vel.remove():this.$el.remove()},isMounted:function(){return this.el.parentNode!==null},renderChildren:function(t){if(t||(t=ei(this,"children")),t){var e=this.svgElement,n=He.namespace[e?"svg":"xhtml"],r=Xb(t,n);(e?this.vel:this.$el).empty().append(r.fragment),this.childNodes=r.selectors}return this},findAttribute:function(t,e){for(var n=e;n&&n.nodeType===1;){var r=n.getAttribute(t);if(r)return r;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){if(this.el)this.setElement(ei(this,"el"));else{var t=ei(this,"tagName"),e=Dt({},ei(this,"attributes")),n=Dt({},ei(this,"style"));this.id&&(e.id=ei(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)}this._ensureElClassName()},_setAttributes:function(t){this.svgElement?this.vel.attr(t):this.$el.attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(He.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof ls.$?t:ls.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=He(this.el))},_ensureElClassName:function(){var t=ei(this,"className");if(t){var e=Uo(t);this.svgElement?this.vel.removeClass(t).addClass(e):this.$el.removeClass(t).addClass(e)}},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override?this:(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t,this)},addThemeClassName:function(t){if(t=t||this.theme,!t)return this;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.addClass(e):this.$el.addClass(e),this},removeThemeClassName:function(t){t=t||this.theme;var e=this.themeClassNamePrefix+t;return this.svgElement?this.vel.removeClass(e):this.$el.removeClass(e),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),Hf[this.cid]=null,ls.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n||(n={});var r=this.getEventNamespace();for(var i in e){var s=e[i];typeof s!="function"&&(s=this[s]),s&&Tn(t).on(i+r,n,s.bind(this))}return this},undelegateElementEvents:function(t){return Tn(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t||(t=ei(this,"documentEvents")),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,r="__"+this.cid+"__";return e===void 0?n?n[r]||{}:{}:(n||(n=t.data={}),n[r]||(n[r]={}),Dt(n[r],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&Dt({},t[0])||{},n=t[1]&&Dt({},t[1])||{},r=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return typeof r=="function"&&r.apply(this,arguments),this.render.__render__===r&&this.onRender(),this},e.render.__render__=r,ls.View.extend.call(this,e,n)}}),xF="dbltap";if(Tn.event&&!(xF in Tn.event.special)){const t=Ul.doubleTapInterval,e=30;Tn.event.special[xF]={bindType:"touchend",delegateType:"touchend",handle:function(n,...r){const{handleObj:i,target:s}=n,a=Tn.data(s),o=new Date().getTime(),l="lastTouch"in a?o-a.lastTouch:0;l<t&&l>e?(a.lastTouch=null,n.type=i.origType,i.handler.call(this,n,...r)):a.lastTouch=o}}}const so={CELLS:"cells",BACK:"back",FRONT:"front",TOOLS:"tools",LABELS:"labels"},y7e=Ic.extend({tagName:"g",svgElement:!0,pivotNodes:null,defaultTheme:null,options:{name:""},className:function(){return Uo(`${this.options.name}-layer`)},init:function(){this.pivotNodes={}},insertSortedNode:function(t,e){this.el.insertBefore(t,this.insertPivot(e))},insertNode:function(t){const{el:e}=this;t.parentNode!==e&&e.appendChild(t)},insertPivot:function(t){const{el:e,pivotNodes:n}=this;t=+t,t||(t=0);let r=n[t];if(r)return r;r=n[t]=document.createComment("z-index:"+(t+1));let i=-1/0;for(let s in n)s=+s,s<t&&s>i&&(i=s,t-1);if(i!==-1/0){const s=n[i];e.insertBefore(r,s.nextSibling)}else e.insertBefore(r,e.firstChild);return r},removePivots:function(){const{el:t,pivotNodes:e}=this;for(let n in e)t.removeChild(e[n]);this.pivotNodes={}}});function Em(t){return t?Array.isArray(t)?t:[t]:[]}const qo=Ic.extend({tagName:"g",svgElement:!0,className:"highlight",HIGHLIGHT_FLAG:1,UPDATE_PRIORITY:3,DETACHABLE:!1,UPDATABLE:!0,MOUNTABLE:!0,cellView:null,nodeSelector:null,node:null,updateRequested:!1,postponedUpdate:!1,transformGroup:null,detachedTransformGroup:null,requestUpdate(t,e){const{paper:n}=t;this.cellView=t,this.nodeSelector=e,n&&(this.updateRequested=!0,n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY))},confirmUpdate(){this.updateRequested=!1;const{cellView:t,nodeSelector:e}=this;return t.isMounted()?(this.update(t,e),this.mount(),this.transform(),0):(this.postponedUpdate=!0,0)},findNode(t,e=null){let n;if(typeof e=="string")[n]=t.findBySelector(e);else if(Zr(e)){const r=t.model.isLink(),{label:i=null,port:s,selector:a}=e;r&&i!==null?n=t.findLabelNode(i,a):!r&&s?n=t.findPortNode(s,a):[n]=t.findBySelector(a)}else e&&(n=He.toNode(e),n instanceof SVGElement||(n=null));return n||null},getNodeMatrix(t,e){const{options:n}=this,{layer:r}=n,{rotatableNode:i}=t,s=t.getNodeMatrix(e);return i?r?i.contains(e)?s:t.getRootRotateMatrix().inverse().multiply(s):t.getNodeRotateMatrix(e).multiply(s):s},mount(){const{MOUNTABLE:t,cellView:e,el:n,options:r,transformGroup:i,detachedTransformGroup:s,postponedUpdate:a,nodeSelector:o}=this;if(!t||i)return;if(a){this.update(e,o),this.transform();return}const{vel:l,paper:u}=e,{layer:c}=r;if(c){let f;s?(f=s,this.detachedTransformGroup=null):f=He("g").addClass("highlight-transform").append(n),this.transformGroup=f,u.getLayerView(c).insertSortedNode(f.node,r.z)}else(!n.parentNode||n.nextSibling)&&l.append(n)},unmount(){const{MOUNTABLE:t,transformGroup:e,vel:n}=this;t&&(e?(this.transformGroup=null,this.detachedTransformGroup=e,e.remove()):n.remove())},transform(){const{transformGroup:t,cellView:e,updateRequested:n}=this;if(!t||e.model.isLink()||n)return;const r=e.getRootTranslateMatrix(),i=e.getRootRotateMatrix(),s=r.multiply(i);t.attr("transform",He.matrixToTransformString(s))},update(){const{node:t,cellView:e,nodeSelector:n,updateRequested:r,id:i}=this;if(r)return;this.postponedUpdate=!1;const s=this.node=this.findNode(e,n);t&&this.unhighlight(e,t),s?(this.highlight(e,s),this.mount()):(this.unmount(),e.notify("cell:highlight:invalid",i,this))},onRemove(){const{node:t,cellView:e,id:n,constructor:r}=this;t&&this.unhighlight(e,t),this.unmount(),r._removeRef(e,n)},highlight(t,e){},unhighlight(t,e){},listenToUpdateAttributes(t){const e=ei(this,"UPDATE_ATTRIBUTES");!Array.isArray(e)||e.length===0||this.listenTo(t.model,"change",this.onCellAttributeChange)},onCellAttributeChange(){const{cellView:t}=this;if(!t)return;const{model:e,paper:n}=t;ei(this,"UPDATE_ATTRIBUTES").some(i=>e.hasChanged(i))&&n.requestViewUpdate(this,this.HIGHLIGHT_FLAG,this.UPDATE_PRIORITY)}},{_views:{},highlight:function(t,e,n){const r=this.uniqueId(e,n);this.add(t,e,r,n)},unhighlight:function(t,e,n){const r=this.uniqueId(e,n);this.remove(t,r)},get(t,e=null){const{cid:n}=t,{_views:r}=this,i=r[n];if(e===null){const s=[];if(!i)return s;for(let a in i){const o=i[a];o instanceof this&&s.push(o)}return s}else{if(!i)return null;if(e in i){const s=i[e];if(s instanceof this)return s}return null}},add(t,e,n,r={}){if(!n)throw new Error("dia.HighlighterView: An ID required.");const i=qo.get(t,n);i&&i.remove();const s=new this(r);return s.id=n,this._addRef(t,n,s),s.requestUpdate(t,e),s.listenToUpdateAttributes(t),s},_addRef(t,e,n){const{cid:r}=t,{_views:i}=this;let s=i[r];s||(s=i[r]={}),s[e]=n},_removeRef(t,e){const{cid:n}=t,{_views:r}=this,i=r[n];if(i){e&&delete i[e];for(let s in i)return;delete r[n]}},remove(t,e=null){Em(this.get(t,e)).forEach(n=>{n.remove()})},removeAll(t,e=null){const{_views:n}=this;for(let r in n)for(let i in n[r]){const s=n[r][i];s.cellView.paper===t&&s instanceof this&&(e===null||i===e)&&s.remove()}},update(t,e=null,n=!1){Em(this.get(t,e)).forEach(r=>{(n||r.UPDATABLE)&&r.update()})},transform(t,e=null){Em(this.get(t,e)).forEach(n=>{n.UPDATABLE&&n.transform()})},unmount(t,e=null){Em(this.get(t,e)).forEach(n=>n.unmount())},mount(t,e=null){Em(this.get(t,e)).forEach(n=>n.mount())},uniqueId(t,e=""){return He.ensureId(t)+JSON.stringify(e)}}),id={DEFAULT:"default",EMBEDDING:"embedding",CONNECTING:"connecting",MAGNET_AVAILABILITY:"magnetAvailability",ELEMENT_AVAILABILITY:"elementAvailability"},_7e={TOOLS:"TOOLS"},hn=Ic.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var t=["cell"],e=this.model.get("type");return e&&e.toLowerCase().split(".").forEach(function(n,r,i){t.push("type-"+i.slice(0,r+1).join("-"))}),t.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t={},e={},n=0,r,i,s,a=ei(this,"presentationAttributes");for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];for(Array.isArray(l)||(l=[l]),r=0,i=l.length;r<i;r++){s=l[r];var u=t[s];u||(u=t[s]=1<<n++),e[o]|=u}}var c=ei(this,"initFlag");for(Array.isArray(c)||(c=[c]),r=0,i=c.length;r<i;r++)s=c[r],t[s]||(t[s]=1<<n++);if(n>25)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=t,this._presentationAttributes=e},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)n|=e[t[r]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||$d(this),Ic.call(this,t)},initialize:function(){this.setFlags(),Ic.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);e.updateHandled||!n||(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),this.requestUpdate(n,e))},requestUpdate:function(t,e){const{paper:n}=this;n&&t>0&&n.requestViewUpdate(this,t,this.UPDATE_PRIORITY,e)},parseDOMJSON:function(t,e){var n=Xb(t),r=n.selectors,i=n.groupSelectors;for(var s in i){if(r[s])throw new Error("dia.CellView: ambiguous group selector");r[s]=i[s]}if(e){var a=this.selector;if(r[a])throw new Error("dia.CellView: ambiguous root selector.");r[a]=e}return{fragment:n.fragment,selectors:r}},can:function(t){var e=rr(this.options.interactive)?this.options.interactive(this):this.options.interactive;return Fn(e)&&e[t]!==!1||bze(e)&&e!==!1},findBySelector:function(t,e,n){if(e||(e=this.el),n||(n=this.selectors),!t||t===".")return[e];if(n){var r=n[t];if(r)return Array.isArray(r)?r:[r]}return Tn(e).find(t).toArray()},notify:function(t){if(this.paper){var e=Array.prototype.slice.call(arguments,1);this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e))}},getBBox:function(t){var e;if(t&&t.useModelGeometry){var n=this.model;e=n.getBBox().bbox(n.angle())}else e=this.getNodeBBox(this.el);return this.paper.localToPaperRect(e)},getNodeBBox:function(t){const e=this.getNodeBoundingRect(t),n=this.getRootTranslateMatrix().multiply(this.getNodeRotateMatrix(t)),r=this.getNodeMatrix(t);return He.transformRect(e,n.multiply(r))},getNodeRotateMatrix(t){return!this.rotatableNode||this.rotatableNode.contains(t)?this.getRootRotateMatrix():He.createSVGMatrix()},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),r=this.getRootTranslateMatrix();return He.transformRect(e,r.multiply(n))},getRootTranslateMatrix:function(){var t=this.model,e=t.position(),n=He.createSVGMatrix().translate(e.x,e.y);return n},getRootRotateMatrix:function(){var t=He.createSVGMatrix(),e=this.model,n=e.angle();if(n){var r=e.getBBox(),i=r.width/2,s=r.height/2;t=t.translate(i,s).rotate(n).translate(-i,-s)}return t},_notifyHighlight:function(t,e,n={}){const{el:r}=this;let i;if(typeof e=="string"?[i=r]=this.findBySelector(e):[i=r]=this.$(e),n.partial=i!==r,n.type===void 0){let s;switch(!0){case n.embedding:s=id.EMBEDDING;break;case n.connecting:s=id.CONNECTING;break;case n.magnetAvailability:s=id.MAGNET_AVAILABILITY;break;case n.elementAvailability:s=id.ELEMENT_AVAILABILITY;break;default:s=id.DEFAULT;break}n.type=s}return this.notify(t,i,n),this},highlight:function(t,e){return this._notifyHighlight("cell:highlight",t,e)},unhighlight:function(t,e={}){return this._notifyHighlight("cell:unhighlight",t,e)},findMagnet:function(t){const e=this.el;let n=this.$(t)[0];n||(n=e);do{const r=n.getAttribute("magnet"),i=n===e;if((r||i)&&r!=="false")return n;if(i)return;n=n.parentNode}while(n)},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const[r]=this.findBySelector(n);if(r)return r}return t},getSelector:function(t,e){var n;if(t===this.el)return typeof e=="string"&&(n="> "+e),n;if(t){var r=He(t).index()+1;n=t.tagName+":nth-child("+r+")",e&&(n+=" > "+e),n=this.getSelector(t.parentNode,n)}return n},addLinkFromMagnet:function(t,e,n){var r=this.paper,i=r.model,s=r.getDefaultLink(this,t);return s.set({source:this.getLinkEnd(t,e,n,s,"source"),target:{x:e,y:n}}).addTo(i,{async:!1,ui:!0}),s.findView(r)},getLinkEnd:function(t,...e){var n=this.model,r=n.id,i=this.findAttribute("port",t),s=t.getAttribute("joint-selector"),a={id:r};return s!=null&&(a.magnet=s),i!=null?(a.port=i,!n.hasPort(i)&&!s&&(a.selector=this.getSelector(t))):s==null&&this.el!==t&&(a.selector=this.getSelector(t)),this.customizeLinkEnd(a,t,...e)},customizeLinkEnd:function(t,e,n,r,i,s){const{paper:a}=this,{connectionStrategy:o}=a.options;if(typeof o=="function"){var l=o.call(a,t,this,e,new we(n,r),i,s,a);if(l)return l}return t},getMagnetFromLinkEnd:function(t){var e=this.el,n=t.port,r=t.magnet,i=this.model,s;return n!=null&&i.isElement()&&i.hasPort(n)?s=this.findPortNode(n,r)||e:(r||(r=t.selector),!r&&n!=null&&(r='[port="'+n+'"]'),s=this.findBySelector(r,e,this.selectors)[0]),this.findProxyNode(s,"magnet")},dragLinkStart:function(t,e,n,r){this.model.startBatch("add-link");const i=this.addLinkFromMagnet(e,n,r);i.notifyPointerdown(t,n,r),i.eventData(t,i.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:i})},dragLink:function(t,e,n){var r=this.eventData(t),i=r.linkView;if(i)i.pointermove(t,e,n);else{var s=this.paper,a=s.options.magnetThreshold,o=this.getEventTarget(t),l=r.targetMagnet;if(a==="onleave"){if(l===o||He(l).contains(o))return}else if(s.eventData(t).mousemoved<=a)return;this.dragLinkStart(t,l,e,n)}},dragLinkEnd:function(t,e,n){var r=this.eventData(t),i=r.linkView;i&&(i.pointerup(t,e,n),this.model.stopBatch("add-link"))},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){$c(e)||(t instanceof SVGElement?He(t).attr(e):Tn(t).attr(e))},processNodeAttributes:function(t,e){var n,r,i,s,a,o,l,u,c,f=[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],i=this.getAttributeDefinition(n),i&&(!rr(i.qualify)||i.qualify.call(this,r,t,e,this))?(cs(i.set)&&(o||(o={}),o[i.set]=r),r!==null&&f.push(n,i)):(o||(o={}),o[Mze(n)]=r));for(s=0,a=f.length;s<a;s+=2)n=f[s],i=f[s+1],r=e[n],rr(i.set)&&(l||(l={}),l[n]=r),rr(i.position)&&(u||(u={}),u[n]=r),rr(i.offset)&&(c||(c={}),c[n]=r);return{raw:e,normal:o,set:l,position:u,offset:c}},updateRelativeAttributes:function(t,e,n,r){r||(r={});var i,s,a,o=e.raw||{},l=e.normal||{},u=e.set,c=e.position,f=e.offset;for(i in u){s=u[i],a=this.getAttributeDefinition(i);var d=a.set.call(this,s,n.clone(),t,o,this);Fn(d)?Dt(l,d):d!==void 0&&(l[i]=d)}if(t instanceof HTMLElement){this.setNodeAttributes(t,l);return}var v=l.transform,_=He.transformStringToMatrix(v),S=we(_.e,_.f);v&&(l=_h(l,"transform"),_.e=_.f=0);var b,y,A;if(c||f){var R=this.getNodeScale(t,r.scalableNode);b=R.sx,y=R.sy}var M=!1;for(i in c)s=c[i],a=this.getAttributeDefinition(i),A=a.position.call(this,s,n.clone(),t,o,this),A&&(S.offset(we(A).scale(b,y)),M||(M=!0));this.setNodeAttributes(t,l);var $=!1;if(f){var p=this.getNodeBoundingRect(t);if(p.width>0&&p.height>0){var x=He.transformRect(p,_).scale(1/b,1/y);for(i in f)s=f[i],a=this.getAttributeDefinition(i),A=a.offset.call(this,s,x,t,o,this),A&&(S.offset(we(A).scale(b,y)),$||($=!0))}}(v!==void 0||M||$)&&(S.round(1),_.e=S.x,_.f=S.y,t.setAttribute("transform",He.matrixToTransformString(_)))},getNodeScale:function(t,e){var n,r;if(e&&e.contains(t)){var i=e.scale();n=1/i.sx,r=1/i.sy}else n=1,r=1;return{sx:n,sy:r}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};var n=He.ensureId(t),r=e[n];return r||(r=e[n]={}),r},getNodeData:function(t){var e=this.nodeCache(t);return e.data||(e.data={}),e.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return e.boundingRect===void 0&&(e.boundingRect=He(t).getBBox()),new lt(e.boundingRect)},getNodeMatrix:function(t){const e=this.nodeCache(t);if(e.magnetMatrix===void 0){const{rotatableNode:n,el:r}=this;let i;n&&n.contains(t)?i=n:i=r,e.magnetMatrix=He(t).getTransformToElement(i)}return He.createSVGMatrix(e.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return e.geometryShape===void 0&&(e.geometryShape=He(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,r){var i,s,a,o,l={},u=[];for(var c in t)if(t.hasOwnProperty(c)&&(a=t[c],!!Zr(a))){var f=n[c]=this.findBySelector(c,e,r);for(i=0,s=f.length;i<s;i++){var d=f[i];o=He.ensureId(d);var v=r&&r[c]===d,_=l[o];if(_){_.array||(u.push(o),_.array=!0,_.attributes=[_.attributes],_.selectedLength=[_.selectedLength]);var S=_.attributes,b=_.selectedLength;if(v)S.unshift(a),b.unshift(-1);else{var y=pq(b,s);S.splice(y,0,a),b.splice(y,0,s)}}else l[o]={attributes:a,selectedLength:v?-1:s,node:d,array:!1}}}for(i=0,s=u.length;i<s;i++)o=u[i],a=l[o],a.attributes=ai({},...a.attributes.reverse());return l},getEventTarget:function(t,e={}){const{target:n,type:r,clientX:i=0,clientY:s=0}=t;return e.fromPoint||r==="touchmove"||r==="touchend"||"pointerId"in t&&n.hasPointerCapture(t.pointerId)?document.elementFromPoint(i,s):n},updateDOMSubtreeAttributes:function(t,e,n){n||(n={}),n.rootBBox||(n.rootBBox=lt()),n.selectors||(n.selectors=this.selectors);var r={},i={},s=[],a=[],o,l,u,c,f,d=n.roAttributes,v=this.findNodesAttributes(d||e,t,r,n.selectors),_=d?this.findNodesAttributes(e,t,r,n.selectors):v;for(var S in v)if(c=v[S],u=c.attributes,l=c.node,f=this.processNodeAttributes(l,u),!f.set&&!f.position&&!f.offset)this.setNodeAttributes(l,f.normal);else{var b=_[S]&&_[S].attributes,y=b&&u.ref===void 0?b.ref:u.ref,A;if(y){if(A=(r[y]||this.findBySelector(y,t,n.selectors))[0],!A)throw new Error('dia.CellView: "'+y+'" reference does not exist.')}else A=null;if(o={node:l,refNode:A,processedAttributes:f,allAttributes:b},A){var R=a.findIndex(function(M){return M.refNode===l});R>-1?a.splice(R,0,o):a.push(o)}else s.push(o)}s.push(...a);for(let M=0,$=s.length;M<$;M++){o=s[M],l=o.node,A=o.refNode;const p=A?He.ensureId(A):"";let x=i[p];x||(x=i[p]=A?He(A).getBBox({target:b7e(l,A)}):n.rootBBox),d?(f=this.processNodeAttributes(l,o.allAttributes),this.mergeProcessedAttributes(f,o.processedAttributes)):f=o.processedAttributes,this.updateRelativeAttributes(l,f,x,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),Dt(t.set,e.set),Dt(t.position,e.position),Dt(t.offset,e.offset);var n=t.normal&&t.normal.transform;n!==void 0&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onMount(t){t||(this.mountTools(),qo.mount(this))},onDetach(){this.unmountTools(),qo.unmount(this)},onRemove:function(){this.removeTools(),this.removeHighlighters()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return e?t?e.getName()===t:!0:!1},addTools:function(t){return this.removeTools(),t&&(this._toolsView=t,t.configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this))),this},unmountTools(){const t=this._toolsView;return t&&t.unmount(),this},mountTools(){const t=this._toolsView;return t&&!t.isMounted()&&t.mount(),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools();break}},removeHighlighters:function(){qo.remove(this)},updateHighlighters:function(t=!1){qo.update(this,null,t)},transformHighlighters:function(){qo.transform(this)},preventDefaultInteraction(t){this.eventData(t,{defaultInteractionPrevented:!0})},isDefaultInteractionPrevented(t){const{defaultInteractionPrevented:e=!1}=this.eventData(t);return e},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){const{model:r}=this,{graph:i}=r;i&&(r.startBatch("pointer"),this.eventData(t,{graph:i})),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){const{graph:r}=this.eventData(t);this.notify("cell:pointerup",t,e,n),r&&r.stopBatch("pointer",{cell:this.model})},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,r){this.notify("cell:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){this.notify(e,t,n,r)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave(t){const{paper:e,model:n}=this;if(e.isAsync()){if(n.isLink()){const s=n.getSourceElement();if(s){const o=e.findViewByModel(s);o&&(e.dumpView(o),e.checkViewVisibility(o))}const a=n.getTargetElement();if(a){const o=e.findViewByModel(a);o&&(e.dumpView(o),e.checkViewVisibility(o))}}e.dumpView(this),e.checkViewVisibility(this)}const r=this.getEventTarget(t,{fromPoint:!0}),i=e.findView(r);i!==this&&(this.mouseleave(t),i&&i.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{Flags:_7e,Highlighting:id,addPresentationAttributes:function(t){return ai({},ei(this.prototype,"presentationAttributes"),t,function(e,n){if(!(!e||!n)&&(typeof e=="string"&&(e=[e]),typeof n=="string"&&(n=[n]),Array.isArray(e)&&Array.isArray(n)))return Dv(e.concat(n))})}});function b7e(t,e){let n=t;do{if(n.contains(e))return n;n=n.parentNode}while(n);return null}const Pn={TOOLS:hn.Flags.TOOLS,UPDATE:"UPDATE",TRANSLATE:"TRANSLATE",RESIZE:"RESIZE",PORTS:"PORTS",ROTATE:"ROTATE",RENDER:"RENDER"},sd={MOVE:"move",MAGNET:"magnet"},Ai=hn.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=hn.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){hn.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:[Pn.UPDATE],position:[Pn.TRANSLATE,Pn.TOOLS],size:[Pn.RESIZE,Pn.PORTS,Pn.TOOLS],angle:[Pn.ROTATE,Pn.TOOLS],markup:[Pn.RENDER],ports:[Pn.PORTS]},initFlag:[Pn.RENDER],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){const{useCSSSelectors:n}=Ul;this.hasFlag(t,Pn.PORTS)&&(this._removePorts(),this._cleanPortsCache());let r=!1;if(this.hasFlag(t,Pn.RENDER))this.render(),this.updateTools(e),this.updateHighlighters(!0),r=!0,t=this.removeFlag(t,[Pn.RENDER,Pn.UPDATE,Pn.RESIZE,Pn.TRANSLATE,Pn.ROTATE,Pn.PORTS,Pn.TOOLS]);else{let i=!1;this.hasFlag(t,Pn.RESIZE)&&(this.resize(e),i=!0,t=this.removeFlag(t,[Pn.RESIZE,Pn.UPDATE]),n&&(t=this.removeFlag(t,Pn.PORTS))),this.hasFlag(t,Pn.UPDATE)&&(this.update(this.model,null,e),t=this.removeFlag(t,Pn.UPDATE),i=!0,n&&(t=this.removeFlag(t,Pn.PORTS))),this.hasFlag(t,Pn.TRANSLATE)&&(this.translate(),t=this.removeFlag(t,Pn.TRANSLATE),r=!0),this.hasFlag(t,Pn.ROTATE)&&(this.rotate(),t=this.removeFlag(t,Pn.ROTATE),r=!0),this.hasFlag(t,Pn.PORTS)&&(this._renderPorts(),i=!0,t=this.removeFlag(t,Pn.PORTS)),i&&this.updateHighlighters(!1)}return r&&this.transformHighlighters(),this.hasFlag(t,Pn.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Pn.TOOLS)),t},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();const{useCSSSelectors:n}=Ul;n&&this._removePorts();var r=this.model,i=r.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new lt(r.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===i?null:e}),n&&this._renderPorts()},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.ElementView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),n=this.selectors=e.selectors;this.rotatableNode=He(n[this.rotatableSelector])||null,this.scalableNode=He(n[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(He(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable");var n=this.selectors={};n[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode){this.rgRotate(),this.update();return}this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;var n=t.size;return"rotate("+e+","+n.width/2+","+n.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),r=e.size(),i=this.scalableNode,s=!1;i.node.getElementsByTagName("path").length>0&&(s=!0);var a=i.getBBox({recursive:s}),o=r.width/(a.width||1),l=r.height/(a.height||1);i.attr("transform","scale("+o+","+l+")");var u=this.rotatableNode,c=u&&u.attr("transform");if(c){u.attr("transform",c+" rotate("+-n+","+r.width/2+","+r.height/2+")");var f=i.getBBox({target:this.paper.cells});e.set("position",{x:f.x,y:f.y},Dt({updateHandled:!0},t)),this.translate(),this.rotate()}this.update()},prepareEmbedding:function(t={}){const e=t.model||this.model,r=(t.paper||this.paper).model,i=t.initialZIndices={},s=e.getEmbeddedCells({deep:!0}),a=r.getConnectedLinks(e,{deep:!0,includeEnclosed:!0});[e,...s,...a].forEach(u=>i[u.id]=u.attributes.z),e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});const o=r.getElements().reduce((u,c)=>Math.max(u,c.attributes.z||0),0);a.forEach(u=>{u.attributes.z<=o&&u.set("z",o+1,{ui:!0})}),e.stopBatch("to-front");const l=e.parent();l?(r.getCell(l).unembed(e,{ui:!0}),t.initialParentId=l):t.initialParentId=null},processEmbedding:function(t={},e,n,r){const i=t.model||this.model,s=t.paper||this.paper,a=s.model,{findParentBy:o,frontParentOnly:l,validateEmbedding:u}=s.options;let c;rr(o)?c=xn(o.call(a,this,e,n,r)):o==="pointer"?c=xn(a.findModelsFromPoint({x:n,y:r})):c=a.findModelsUnderElement(i,{searchBy:o}),c=c.filter(v=>v instanceof ql&&i.id!==v.id&&!v.isEmbeddedIn(i)),l&&(c=c.slice(-1));let f=null;const d=t.candidateEmbedView;for(let v=c.length-1;v>=0;v--){const _=c[v];if(d&&d.model.id==_.id){f=d;break}else{const S=_.findView(s);if(!rr(u)||u.call(s,this,S)){f=S;break}}}f&&f!=d&&(this.clearEmbedding(t),t.candidateEmbedView=f.highlight(f.findProxyNode(null,"container"),{embedding:!0})),!f&&d&&this.clearEmbedding(t)},clearEmbedding:function(t){t||(t={});var e=t.candidateEmbedView;e&&(e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t={}){const e=t.candidateEmbedView,n=t.model||this.model,r=t.paper||this.paper;if(e)e.model.embed(n,{ui:!0}),e.unhighlight(e.findProxyNode(null,"container"),{embedding:!0}),t.candidateEmbedView=null;else{const{validateUnembedding:i}=r.options,{initialParentId:s}=t;if(s&&typeof i=="function"&&!i.call(r,this)){this._disallowUnembed(t);return}}r.model.getConnectedLinks(n,{deep:!0}).forEach(i=>{i.reparent({ui:!0})})},_disallowUnembed:function(t){const{model:e,whenNotAllowed:n="revert"}=t,r=e||this.model,s=(t.paper||this.paper).model;switch(n){case"remove":{r.remove({ui:!0});break}case"revert":{const{initialParentId:a,initialPosition:o,initialZIndices:l}=t;if(o){const{x:c,y:f}=o;r.position(c,f,{deep:!0,ui:!0})}l&&Object.keys(l).forEach(c=>{const f=s.getCell(c);f&&f.set("z",l[c],{ui:!0})});const u=s.getCell(a);u&&u.embed(r,{ui:!0});break}}},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},findProxyNode:function(t,e){t||(t=this.el);const n=t.getAttribute(`${e}-selector`);if(n){const r=this.findAttribute("port",t);if(r){const i=this.findPortNode(r,n);if(i)return i}else{const[i]=this.findBySelector(n);if(i)return i}}return t},notifyPointerdown(t,e,n){hn.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove(t,e,n){hn.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("element:pointerup",t,e,n),hn.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){hn.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){hn.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){hn.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragStart(t,e,n)},pointermove:function(t,e,n){const r=this.eventData(t),{targetMagnet:i,action:s,delegatedView:a}=r;switch(i&&this.magnetpointermove(t,i,e,n),s){case sd.MAGNET:this.dragMagnet(t,e,n);break;case sd.MOVE:(a||this).drag(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointermove(t,e,n);break}this.eventData(t,r)},pointerup:function(t,e,n){const r=this.eventData(t),{targetMagnet:i,action:s,delegatedView:a}=r;switch(i&&this.magnetpointerup(t,i,e,n),s){case sd.MAGNET:this.dragMagnetEnd(t,e,n);break;case sd.MOVE:(a||this).dragEnd(t,e,n);default:if(r.preventPointerEvents)break;this.notifyPointerup(t,e,n)}i&&this.magnetpointerclick(t,i,e,n),this.checkMouseleave(t)},mouseover:function(t){hn.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){hn.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){hn.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){hn.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,r){hn.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,r)},onmagnet:function(t,e,n){const{currentTarget:r}=t;this.magnetpointerdown(t,r,e,n),this.eventData(t,{targetMagnet:r}),this.dragMagnetStart(t,e,n)},magnetpointerdown:function(t,e,n,r){this.notify("element:magnet:pointerdown",t,e,n,r)},magnetpointermove:function(t,e,n,r){this.notify("element:magnet:pointermove",t,e,n,r)},magnetpointerup:function(t,e,n,r){this.notify("element:magnet:pointerup",t,e,n,r)},magnetpointerdblclick:function(t,e,n,r){this.notify("element:magnet:pointerdblclick",t,e,n,r)},magnetcontextmenu:function(t,e,n,r){this.notify("element:magnet:contextmenu",t,e,n,r)},dragStart:function(t,e,n){if(this.isDefaultInteractionPrevented(t))return;var r=this.getDelegatedView();if(!r||!r.can("elementMove"))return;this.eventData(t,{action:sd.MOVE,delegatedView:r});const i=r.model.position();r.eventData(t,{initialPosition:i,pointerOffset:i.difference(e,n),restrictedArea:this.paper.getRestrictedArea(r,e,n)})},dragMagnetStart:function(t,e,n){const{paper:r}=this,i=t.isPropagationStopped();if(i&&this.eventData(t,{preventPointerEvents:!0}),this.isDefaultInteractionPrevented(t)||!this.can("addLinkFromMagnet"))return;const{targetMagnet:s=t.currentTarget}=this.eventData(t);if(t.stopPropagation(),!r.options.validateMagnet.call(r,this,s,t)){i?this.dragStart(t,e,n):this.pointerdown(t,e,n);return}r.options.magnetThreshold<=0&&this.dragLinkStart(t,s,e,n),this.eventData(t,{action:sd.MAGNET})},drag:function(t,e,n){var r=this.paper,i=r.options.gridSize,s=this.model,a=this.eventData(t),{pointerOffset:o,restrictedArea:l,embedding:u}=a,c=yh(e+o.x,i),f=yh(n+o.y,i);s.position(c,f,{restrictedArea:l,deep:!0,ui:!0}),r.options.embeddingMode&&(u||(this.prepareEmbedding(a),u=!0),this.processEmbedding(a,t,e,n)),this.eventData(t,{embedding:u})},dragMagnet:function(t,e,n){this.dragLink(t,e,n)},dragEnd:function(t,e,n){var r=this.eventData(t);r.embedding&&this.finalizeEmbedding(r)},dragMagnetEnd:function(t,e,n){this.dragLinkEnd(t,e,n)},magnetpointerclick:function(t,e,n,r){var i=this.paper;i.eventData(t).mousemoved>i.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,r)}},{Flags:Pn});Dt(Ai.prototype,g7e);const w7e=function(t,e,n){return t},S7e=function(t,e,n){var r=e.side||"bottom",i=bh(e.padding||40),s=n.sourceBBox,a=n.targetBBox,o=s.center(),l=a.center(),u,c,f;switch(r){case"bottom":f=1,u="y",c="height";break;case"top":f=-1,u="y",c="height";break;case"left":f=-1,u="x",c="width";break;case"right":f=1,u="x",c="width";break;default:throw new Error("Router: invalid side")}return o[u]+=f*(s[c]/2+i[r]),l[u]+=f*(a[c]/2+i[r]),f*(o[u]-l[u])>0?l[u]=o[u]:o[u]=l[u],[o].concat(t,l)};var x7e={N:"S",S:"N",E:"W",W:"E"},E7e={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function Zb(t,e,n){var r=new we(t.x,e.y);return n.containsPoint(r)&&(r=new we(e.x,t.y)),r}function nP(t,e){return t[e==="W"||e==="E"?"width":"height"]}function Ds(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function Dy(t){return new lt(t.x,t.y,0,0)}function e1(t){var e=bh(t.padding||t.elementPadding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function kq(t,e){return t.sourceBBox.clone().moveAndExpand(e1(e))}function Oq(t,e){return t.targetBBox.clone().moveAndExpand(e1(e))}function $7e(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=kq(t,e);return n.center()}function A7e(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Oq(t,e);return n.center()}function Rq(t,e,n){var r=new we(t.x,e.y),i=new we(e.x,t.y),s=Ds(t,r),a=Ds(t,i),o=x7e[n],l=s===n||s!==o&&(a===o||a!==n)?r:i;return{points:[l],direction:Ds(l,e)}}function w_(t,e,n){var r=Zb(t,e,n);return{points:[r],direction:Ds(r,e)}}function P7e(t,e,n,r){var i={},s=[new we(t.x,e.y),new we(e.x,t.y)],a=s.filter(function(f){return!n.containsPoint(f)}),o=a.filter(function(f){return Ds(f,t)!==r}),l;if(o.length>0)l=o.filter(function(f){return Ds(t,f)===r}).pop(),l=l||o[0],i.points=[l],i.direction=Ds(l,e);else{l=Pze(s,a)[0];var u=new we(e).move(l,-nP(n,r)/2),c=Zb(u,t,n);i.points=[c,u],i.direction=Ds(u,e)}return i}function T7e(t,e,n,r){var i=w_(e,t,r),s=i.points[0];if(n.containsPoint(s)){i=w_(t,e,n);var a=i.points[0];if(r.containsPoint(a)){var o=new we(t).move(a,-nP(n,Ds(t,a))/2),l=new we(e).move(s,-nP(r,Ds(e,s))/2),u=new pt(o,l).midpoint(),c=w_(t,u,n),f=Rq(u,e,c.direction);i.points=[c.points[0],f.points[0]],i.direction=f.direction}}return i}function wE(t,e,n,r,i){var s={},a=n.union(r).inflate(1),o=a.center().distance(e)>a.center().distance(t),l=o?e:t,u=o?t:e,c,f,d;return i?(c=we.fromPolar(a.width+a.height,E7e[i],l),c=a.pointNearestToPoint(c).move(c,-1)):c=a.pointNearestToPoint(l).move(l,1),f=Zb(c,u,a),c.round().equals(f.round())?(f=we.fromPolar(a.width+a.height,ca(c.theta(l))+Math.PI/2,u),f=a.pointNearestToPoint(f).move(u,1).round(),d=Zb(c,f,a),s.points=o?[f,d,c]:[c,d,f]):s.points=o?[f,c]:[c,f],s.direction=Ds(o?c:f,e),s}function rP(t,e,n){var r=kq(n,e),i=Oq(n,e),s=$7e(n,e),a=A7e(n,e);r=r.union(Dy(s)),i=i.union(Dy(a)),t=xn(t).map(we),t.unshift(s),t.push(a);for(var o,l=[],u=0,c=t.length-1;u<c;u++){var f=null,d=t[u],v=t[u+1],_=!!Ds(d,v);if(u===0)u+1===c?r.intersect(i.clone().inflate(1))?f=wE(d,v,r,i):_||(f=T7e(d,v,r,i)):r.containsPoint(v)?f=wE(d,v,r,Dy(v).moveAndExpand(e1(e))):_||(f=w_(d,v,r));else if(u+1===c){var S=_&&Ds(v,d)===o;i.containsPoint(d)||S?f=wE(d,v,Dy(d).moveAndExpand(e1(e)),i,o):_||(f=P7e(d,v,i,o))}else _||(f=Rq(d,v,o));f?(Array.prototype.push.apply(l,f.points),o=f.direction):o=Ds(d,v),u+1<c&&l.push(v)}return l}var Mq={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},isPointObstacle:null,fallbackRouter:function(t,e,n){if(!rr(rP))throw new Error("Manhattan requires the orthogonal router as default fallback.");return rP(t,Dt({},Mq,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function Lk(t){this.map={},this.options=t,this.mapGridSize=100}Lk.prototype.build=function(t,e){var n=this.options,r=xn(n.excludeEnds).reduce(function(l,u){var c=e.get(u);if(c){var f=t.getCell(c.id);f&&l.push(f)}return l},[]),i=[],s=t.getCell(e.get("source").id);s&&(i=JA(i,s.getAncestors().map(function(l){return l.id})));var a=t.getCell(e.get("target").id);a&&(i=JA(i,a.getAncestors().map(function(l){return l.id})));var o=this.mapGridSize;return t.getElements().reduce(function(l,u){var c=xn(n.excludeTypes).includes(u.get("type")),f=r.find(function(M){return M.id===u.id}),d=i.includes(u.id),v=c||f||d;if(!v)for(var _=u.getBBox().moveAndExpand(n.paddingBox),S=_.origin().snapToGrid(o),b=_.corner().snapToGrid(o),y=S.x;y<=b.x;y+=o)for(var A=S.y;A<=b.y;A+=o){var R=y+"@"+A;l[R]=l[R]||[],l[R].push(_)}return l},this.map),this};Lk.prototype.isPointAccessible=function(t){var e=t.clone().snapToGrid(this.mapGridSize).toString();return xn(this.map[e]).every(function(n){return!n.containsPoint(t)})};function Th(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}Th.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;var n=pq(this.items,t,function(r){return this.values[r]}.bind(this));this.items.splice(n,0,t)};Th.prototype.remove=function(t){this.hash[t]=this.CLOSE};Th.prototype.isOpen=function(t){return this.hash[t]===this.OPEN};Th.prototype.isClose=function(t){return this.hash[t]===this.CLOSE};Th.prototype.isEmpty=function(){return this.items.length===0};Th.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t};function Nq(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Iq(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function Dq(t,e){if(t.sourceAnchor)return t.sourceAnchor;var n=Nq(t,e);return n.center()}function C7e(t,e){if(t.targetAnchor)return t.targetAnchor;var n=Iq(t,e);return n.center()}function SE(t,e,n,r,i){var s=360/n,a=t.theta(k7e(t,e,r,i)),o=Gl(a+s/2);return s*Math.floor(o/s)}function k7e(t,e,n,r){var i=r.step,s=e.x-t.x,a=e.y-t.y,o=s/n.x,l=a/n.y,u=o*i,c=l*i;return new we(t.x+u,t.y+c)}function EF(t,e){var n=Math.abs(t-e);return n>180?360-n:n}function O7e(t,e,n){var r=n.step;xn(n.directions).forEach(function(i){i.gridOffsetX=i.offsetX/r*e.x,i.gridOffsetY=i.offsetY/r*e.y})}function R7e(t,e,n){return{source:e.clone(),x:$F(n.x-e.x,t),y:$F(n.y-e.y,t)}}function $F(t,e){if(!t)return e;var n=Math.abs(t),r=Math.round(n/e);if(!r)return n;var i=r*e,s=n-i,a=s/r;return e+a}function M7e(t,e){var n=e.source,r=yh(t.x-n.x,e.x)+n.x,i=yh(t.y-n.y,e.y)+n.y;return new we(r,i)}function Nm(t,e){return t.round(e)}function S_(t,e,n){return Nm(M7e(t.clone(),e),n)}function rg(t){return t.clone().toString()}function xE(t){return new we(t.x===0?0:Math.abs(t.x)/t.x,t.y===0?0:Math.abs(t.y)/t.y)}function N7e(t,e,n,r,i,s,a){for(var o=[],l=xE(i.difference(n)),u=rg(n),c=t[u],f;c;){f=e[u];var d=xE(f.difference(c));d.equals(l)||(o.unshift(f),l=d),u=rg(c),c=t[u]}var v=e[u],_=xE(v.difference(r));return _.equals(l)||o.unshift(v),o}function AF(t,e){for(var n=1/0,r=0,i=e.length;r<i;r++){var s=t.manhattanDistance(e[r]);s<n&&(n=s)}return n}function PF(t,e,n,r,i){var s=i.precision,a=i.directionMap,o=t.difference(e.center()),l=Fn(a)?Object.keys(a):[],u=xn(n),c=l.reduce(function(f,d){if(u.includes(d)){for(var v=a[d],_=new we(t.x+v.x*(Math.abs(o.x)+e.width),t.y+v.y*(Math.abs(o.y)+e.height)),S=new pt(t,_),b=S.intersect(e)||[],y=b.length,A,R=null,M=0;M<y;M++){var $=b[M],p=t.squaredDistance($);(A===void 0||p>A)&&(A=p,R=$)}if(R){var x=S_(R,r,s);e.containsPoint(x)&&(x=S_(x.offset(v.x*r.x,v.y*r.y),r,s)),f.push(x)}}return f},[]);return e.containsPoint(t)||c.push(S_(t,r,s)),c}function I7e(t,e,n,r){var i=r.precision,s,a;t instanceof lt?s=Nm(Dq(this,r).clone(),i):s=Nm(t.clone(),i),e instanceof lt?a=Nm(C7e(this,r).clone(),i):a=Nm(e.clone(),i);var o=R7e(r.step,s,a),l,u,c,f;if(t instanceof lt?(l=s,c=PF(l,t,r.startDirections,o,r)):(l=s,c=[l]),e instanceof lt?(u=a,f=PF(a,e,r.endDirections,o,r)):(u=a,f=[u]),c=c.filter(We=>!n(We)),f=f.filter(We=>!n(We)),c.length>0&&f.length>0){for(var d=new Th,v={},_={},S={},b=0,y=c.length;b<y;b++){var A=c[b],R=rg(A);d.add(R,AF(A,f)),v[R]=A,S[R]=0}var M=r.previousDirectionAngle,$=M===void 0,p,x,T=r.directions;O7e(T,o,r);for(var D=T.length,C=xn(f).reduce(function(We,Y){var Q=rg(Y);return We.push(Q),We},[]),U=r.maximumLoops;!d.isEmpty()&&U>0;){var G=d.pop(),se=v[G],re=_[G],ye=S[G],Pe=re===void 0,Ae=se.equals(l),Ie;Pe?$?Ae?Ie=null:Ie=SE(l,se,D,o,r):Ie=M:Ie=SE(re,se,D,o,r);var Me=c.length===f.length;if(Me){for(var ae=0;ae<c.length;ae++)if(!c[ae].equals(f[ae])){Me=!1;break}}var H=Pe&&Me;if(!H&&C.indexOf(G)>=0)return r.previousDirectionAngle=Ie,N7e(_,v,se,l,u);for(b=0;b<D;b++){p=T[b];var X=p.angle;if(x=EF(Ie,X),!(!($&&Ae)&&x>r.maxAllowedDirectionChange)){var V=S_(se.clone().offset(p.gridOffsetX,p.gridOffsetY),o,i),k=rg(V);if(!(d.isClose(k)||n(V))){if(C.indexOf(k)>=0){var I=V.equals(u);if(!I){var J=SE(V,u,D,o,r),ue=EF(X,J);if(ue>r.maxAllowedDirectionChange)continue}}var _e=p.cost,ke=Ae?0:r.penalties[x],Ve=ye+_e+ke;(!d.isOpen(k)||Ve<S[k])&&(v[k]=V,_[k]=se,S[k]=Ve,d.add(k,Ve+AF(V,f)))}}}U--}}return r.fallbackRoute.call(this,l,u,r)}function D7e(t){if(t.directions=ei(t,"directions"),t.penalties=ei(t,"penalties"),t.paddingBox=ei(t,"paddingBox"),t.padding=ei(t,"padding"),t.padding){var e=bh(t.padding);t.paddingBox={x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}xn(t.directions).forEach(function(n){var r=new we(0,0),i=new we(n.offsetX,n.offsetY);n.angle=Gl(r.theta(i))})}function L7e(t,e,n){D7e(e),n.options.perpendicular=!!e.perpendicular;var r=Nq(n,e),i=Iq(n,e),s=Dq(n,e);let a;if(typeof e.isPointObstacle=="function")a=e.isPointObstacle;else{const R=new Lk(e);R.build(n.paper.model,n.model),a=M=>!R.isPointAccessible(M)}for(var o=xn(t).map(we),l=[],u=s,c,f,d=0,v=o.length;d<=v;d++){var _=null;if(f=c||r,c=o[d],!c){c=i;var S=!n.model.get("source").id||!n.model.get("target").id;if(S&&rr(e.draggingRoute)){var b=f===r?s:f,y=c.origin();_=e.draggingRoute.call(n,b,y,e)}}if(_=_||I7e.call(n,f,c,a,e),_===null)return e.fallbackRouter(t,e,n);var A=_[0];A&&A.equals(u)&&_.shift(),u=_[_.length-1]||u,Array.prototype.push.apply(l,_)}return l}const iP=function(t,e,n){return L7e(t,Dt({},Mq,e),n)};var F7e={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var r=t.theta(e),i=[],s={x:e.x,y:t.y},a={x:t.x,y:e.y};if(r%180>90){var o=s;s=a,a=o}var l=r%90<45?s:a,u=new pt(t,l),c=90*Math.ceil(r/90),f=we.fromPolar(u.squaredLength(),ca(c+135),l),d=new pt(e,f),v=u.intersection(d),_=v||e,S=v?_:t,b=360/n.directions.length,y=S.theta(e),A=Gl(y+b/2),R=b*Math.floor(A/b);return n.previousDirectionAngle=R,_&&i.push(_.round()),i.push(e),i}};const j7e=function(t,e,n){if(!rr(iP))throw new Error("Metro requires the manhattan router.");return iP(t,Dt({},F7e,e),n)},wr={AUTO:"auto",LEFT:"left",RIGHT:"right",TOP:"top",BOTTOM:"bottom",ANCHOR_SIDE:"anchor-side",MAGNET_SIDE:"magnet-side"},TF=[wr.LEFT,wr.RIGHT,wr.TOP,wr.BOTTOM];function CF(t,e,n){const r=n.getTangentAtLength(n.getClosestPointLength(e));switch(Math.round(r.angle()/90)*90){case 0:case 360:return t.y<e.y?wr.TOP:wr.BOTTOM;case 90:return t.x<e.x?wr.LEFT:wr.RIGHT;case 180:return t.y<e.y?wr.TOP:wr.BOTTOM;case 270:return t.x<e.x?wr.LEFT:wr.RIGHT}}function Lq(t,e,n){const r=e.margin||20;let{sourceDirection:i=wr.AUTO,targetDirection:s=wr.AUTO}=e;const a=n.sourceView,o=n.targetView,l=!!n.model.source().port,u=!!n.model.target().port;i===wr.AUTO&&(i=l?wr.MAGNET_SIDE:wr.ANCHOR_SIDE),s===wr.AUTO&&(s=u?wr.MAGNET_SIDE:wr.ANCHOR_SIDE);const c=n.sourceBBox,f=n.targetBBox,d=n.sourceAnchor,v=n.targetAnchor;let{x:_,y:S,width:b=0,height:y=0}=a&&a.model.isElement()?lt.fromRectUnion(c,a.model.getBBox()):n.sourceAnchor,{x:A,y:R,width:M=0,height:$=0}=o&&o.model.isElement()?lt.fromRectUnion(f,o.model.getBBox()):n.targetAnchor;const p=A+M,x=R+$,T=_+b,D=S+y,C=_-r,U=T+r,G=S-r,se=D+r,re=A-r,ye=p+r,Pe=R-r,Ae=x+r,Ie=d.clone();let Me;if(a)a.model.isLink()?Me=CF(v,d,a):i===wr.ANCHOR_SIDE?Me=c.sideNearestToPoint(d):i===wr.MAGNET_SIDE?Me=a.model.getBBox().sideNearestToPoint(d):Me=i;else{const Y=new lt(_,S,0,0);Me=TF.includes(i)?i:Y.sideNearestToPoint(v)}switch(Me){case"left":Ie.x=C;break;case"right":Ie.x=U;break;case"top":Ie.y=G;break;case"bottom":Ie.y=se;break}const ae=v.clone();let H;if(o)o.model.isLink()?H=CF(d,v,o):s===wr.ANCHOR_SIDE?H=f.sideNearestToPoint(v):s===wr.MAGNET_SIDE?H=o.model.getBBox().sideNearestToPoint(v):H=s;else{const Y=new lt(A,R,0,0);H=TF.includes(s)?s:Y.sideNearestToPoint(d)}switch(H){case"left":ae.x=re;break;case"right":ae.x=ye;break;case"top":ae.y=Pe;break;case"bottom":ae.y=Ae;break}const{x:X,y:V}=Ie,{x:k,y:I}=ae,J=(A+p)/2,ue=(R+x)/2,_e=(_+T)/2,ke=(S+D)/2,Ve=(_e<J?T+A:p+_)/2,We=(ke<ue?D+R:x+S)/2;if(Me==="left"&&H==="right"){if(C<=p){let Q=We;return T<=A&&(x>=G&&I<V?Q=Math.min(Pe,G):R<=se&&I>=V&&(Q=Math.max(Ae,se))),[{x:X,y:V},{x:X,y:Q},{x:k,y:Q},{x:k,y:I}]}const Y=(X+k)/2;return[{x:Y,y:V},{x:Y,y:I}]}else if(Me==="right"&&H==="left"){if(U>=A){let Q=We;return X>p&&(x>=G&&I<V?Q=Math.min(Pe,G):R<=se&&I>=V&&(Q=Math.max(Ae,se))),[{x:X,y:V},{x:X,y:Q},{x:k,y:Q},{x:k,y:I}]}const Y=(X+k)/2;return[{x:Y,y:V},{x:Y,y:I}]}else if(Me==="top"&&H==="bottom"){if(V<I){let Q=Ve,N=V;return V<R&&(p>=C&&k<X?Q=Math.min(re,C):A<=U&&k>=X&&(Q=Math.max(ye,U))),[{x:X,y:N},{x:Q,y:N},{x:Q,y:I},{x:k,y:I}]}const Y=(V+I)/2;return[{x:X,y:Y},{x:k,y:Y}]}else if(Me==="bottom"&&H==="top"){if(V-r>I){let Q=Ve,N=V;return V>x&&(p>=C&&k<X?Q=Math.min(re,C):A<=U&&k>=X&&(Q=Math.max(ye,U))),[{x:X,y:N},{x:Q,y:N},{x:Q,y:I},{x:k,y:I}]}const Y=(V+I)/2;return[{x:X,y:Y},{x:k,y:Y}]}else if(Me==="top"&&H==="top"){let Y,Q=Math.min((D+R)/2,I),N=Math.min((S+x)/2,V);if(I<V){if(X>=ye||X<=re)return[{x:X,y:Math.min(V,I)},{x:k,y:Math.min(V,I)}];k>X?Y=Math.min(X,re):Y=Math.max(X,ye)}else{if(k>=U||k<=C)return[{x:X,y:Math.min(V,I)},{x:k,y:Math.min(V,I)}];k>=X?Y=Math.max(k,U):Y=Math.min(k,C)}return[{x:X,y:N},{x:Y,y:N},{x:Y,y:Q},{x:k,y:Q}]}else if(Me==="bottom"&&H==="bottom"){if(A>=X+r||p<=X-r)return[{x:X,y:Math.max(V,I)},{x:k,y:Math.max(V,I)}];let Y,Q,N;return I>V?(Q=Math.max((D+R)/2,I),N=Math.max((D+R)/2,V),k>X?Y=Math.min(X,re):Y=Math.max(X,ye)):(Q=Math.max((S+x)/2,I),N=Math.max((S+x)/2,V),k>X?Y=Math.min(k,C):Y=Math.max(k,U)),[{x:X,y:N},{x:Y,y:N},{x:Y,y:Q},{x:k,y:Q}]}else if(Me==="left"&&H==="left"){let Y,Q=Math.min((T+A)/2,k),N=Math.min((_+p)/2,X);return k>X?I<=V?Y=Math.min(G,I):Y=Math.max(se,I):I>=V?Y=Math.min(Pe,V):Y=Math.max(Ae,V),[{x:N,y:V},{x:N,y:Y},{x:Q,y:Y},{x:Q,y:I}]}else if(Me==="right"&&H==="right"){let Y,Q=Math.max((_+p)/2,k),N=Math.max((T+A)/2,X);return k<X?I<=V?Y=Math.min(G,I):Y=Math.max(se,I):I>=V?Y=Math.min(Pe,V):Y=Math.max(Ae,V),[{x:N,y:V},{x:N,y:Y},{x:Q,y:Y},{x:Q,y:I}]}else if(Me==="top"&&H==="right"){if(V>I){if(X<k){let Q=(S+x)/2;return Q>ue&&Q<Ae&&X<re&&(Q=Pe),[{x:X,y:Q},{x:k,y:Q},{x:k,y:I}]}return[{x:X,y:I}]}const Y=(_+p)/2;if(X>k&&D>=I)return[{x:X,y:V},{x:Y,y:V},{x:Y,y:I}];if(Y>C&&V<x){const Q=Math.min(S,R)-r,N=Math.max(T,p)+r;return[{x:X,y:Q},{x:N,y:Q},{x:N,y:I}]}return[{x:X,y:V},{x:Y,y:V},{x:Y,y:I}]}else if(Me==="top"&&H==="left"){if(V>I){if(X>k){let Q=(S+x)/2;return Q>ue&&Q<Ae&&X>ye&&(Q=Pe),[{x:X,y:Q},{x:k,y:Q},{x:k,y:I}]}return[{x:X,y:I}]}const Y=(T+A)/2;if(X<k&&D>=I)return[{x:X,y:V},{x:Y,y:V},{x:Y,y:I}];if(Y<U&&V<x){const Q=Math.min(S,R)-r,N=Math.min(_,A)-r;return[{x:X,y:Q},{x:N,y:Q},{x:N,y:I}]}return[{x:X,y:V},{x:Y,y:V},{x:Y,y:I}]}else if(Me==="bottom"&&H==="right"){if(V<I){if(X<k){let Q=(D+R)/2;return Q<ue&&Q>Pe&&X<re&&(Q=Ae),[{x:X,y:Q},{x:k,y:Q},{x:k,y:I}]}return[{x:X,y:I}]}else if(_<k){const Q=Math.max(D,x)+r,N=Math.max(T,p)+r;return[{x:X,y:Q},{x:N,y:Q},{x:N,y:I}]}const Y=Ve;return[{x:X,y:V},{x:Y,y:V},{x:Y,y:I}]}else if(Me==="bottom"&&H==="left"){if(V<I){if(X>k){let Q=(D+R)/2;return Q<ue&&Q>Pe&&X>ye&&(Q=Ae),[{x:X,y:Q},{x:k,y:Q},{x:k,y:I}]}return[{x:X,y:I}]}else if(T>k){const Q=Math.max(D,x)+r,N=Math.min(_,A)-r;return[{x:X,y:Q},{x:N,y:Q},{x:N,y:I}]}const Y=Ve;return[{x:X,y:V},{x:Y,y:V},{x:Y,y:I}]}else if(Me==="left"&&H==="bottom"){if(X>k&&V>=Ae)return[{x:k,y:V}];if(X>=p&&V<I){const N=(T+A)/2;return[{x:N,y:V},{x:N,y:I},{x:k,y:I}]}if(k<T&&x<=S){const N=(S+x)/2;return[{x:X,y:V},{x:X,y:N},{x:k,y:N}]}const Y=Math.min(re,X),Q=Math.max(D,x)+r;return[{x:Y,y:V},{x:Y,y:Q},{x:k,y:Q}]}else if(Me==="left"&&H==="top"){if(X>k&&V<Pe)return[{x:k,y:V}];if(X>=p&&V>I){const N=(_+p)/2;return[{x:N,y:V},{x:N,y:I},{x:k,y:I}]}if(k<=T&&I>V){const N=(R+D)/2;return[{x:X,y:V},{x:X,y:N},{x:k,y:N}]}const Y=I<V?Math.min(_,A)-r:C,Q=Math.min(S,R)-r;return[{x:Y,y:V},{x:Y,y:Q},{x:k,y:Q}]}else if(Me==="right"&&H==="top"){if(X<k&&V<Pe)return[{x:k,y:V}];if(T<A&&V>I){let N=(T+A)/2;return[{x:N,y:V},{x:N,y:I},{x:k,y:I}]}if(k<X&&R>D){const N=(D+R)/2;return[{x:X,y:V},{x:X,y:N},{x:k,y:N}]}const Y=Math.max(T,p)+r,Q=Math.min(S,R)-r;return[{x:Y,y:V},{x:Y,y:Q},{x:k,y:Q}]}else if(Me==="right"&&H==="bottom"){if(X<k&&V>=Ae)return[{x:k,y:V}];if(X<=A&&V<I){const N=(T+A)/2;return[{x:N,y:V},{x:N,y:I},{x:k,y:I}]}if(k>_&&x<S){const N=(S+x)/2;return[{x:X,y:V},{x:X,y:N},{x:k,y:N}]}const Y=Math.max(ye,X),Q=Math.max(D,x)+r;return[{x:Y,y:V},{x:Y,y:Q},{x:k,y:Q}]}}Lq.Directions=wr;const B7e=Lq,V7e=Object.freeze(Object.defineProperty({__proto__:null,manhattan:iP,metro:j7e,normal:w7e,oneSide:S7e,orthogonal:rP,rightAngle:B7e},Symbol.toStringTag,{value:"Module"})),md={POINT:"point",CUBIC:"cubic",LINE:"line",GAP:"gap"},z7e=Object.values(md),U7e=10,q7e=1,Fk=function(t,e,n=[],r={}){const{cornerType:i=md.POINT,cornerRadius:s=U7e,cornerPreserveAspectRatio:a=!1,precision:o=q7e,raw:l=!1}=r;if(z7e.indexOf(i)===-1)throw new Error("Invalid `cornerType` provided to `straight` connector.");let u;if(i===md.POINT||!s){const c=[t].concat(n).concat([e]),f=new hr(c);u=new wt(f)}else{u=new wt,u.appendSegment(wt.createSegment("M",t));let c;const f=n.length;for(let d=0;d<f;d++){const v=new we(n[d]),_=n[d-1]||t,S=n[d+1]||e,b=c||v.distance(_)/2;c=v.distance(S)/2;let y,A;a?y=A=-Math.min(s,b,c):(y=-Math.min(s,b),A=-Math.min(s,c));const R=v.clone().move(_,y).round(o),M=v.clone().move(S,A).round(o);switch(u.appendSegment(wt.createSegment("L",R)),i){case md.CUBIC:{const $=.3333333333333333,p=2/3,x=new we($*R.x+p*v.x,p*v.y+$*R.y),T=new we($*M.x+p*v.x,p*v.y+$*M.y);u.appendSegment(wt.createSegment("C",x,T,M));break}case md.LINE:{u.appendSegment(wt.createSegment("L",M));break}case md.GAP:{u.appendSegment(wt.createSegment("M",M));break}}}u.appendSegment(wt.createSegment("L",e))}return l?u:u.serialize()};var H7e=5,kF=["arc","gap","cubic"],W7e=0,OF=1,G7e=["smooth"],Ly=1/3,Fy=2/3;function EE(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(i,s,a){var o=r[a+1];return o!=null&&(i[a]=sh(s,o)),i},[])}function K7e(t){var e=t.paper,n=e._jumpOverUpdateList;if(n==null){n=e._jumpOverUpdateList=[];var r=e.model;r.on("batch:stop",function(){this.hasActiveBatch()||Y7e(e)}),r.on("reset",function(){n=e._jumpOverUpdateList=[]})}n.indexOf(t)<0&&(n.push(t),t.listenToOnce(t.model,"change:connector remove",function(){n.splice(n.indexOf(t),1)}))}function Y7e(t){for(var e=t._jumpOverUpdateList,n=0;n<e.length;n++){const r=e[n],i=r.getFlag(r.constructor.Flags.CONNECTOR);r.requestUpdate(i)}}function J7e(t,e){return xn(e).reduce(function(n,r){var i=t.intersection(r);return i&&n.push(i),n},[])}function RF(t,e){return sh(t,e).squaredLength()}function X7e(t,e,n){return e.reduce(function(r,i,s){if(i.skip===!0)return r;var a=r.pop()||t,o=Yb(i).move(a.start,-n),l=Yb(i).move(a.start,+n),u=e[s+1];if(u!=null){var c=l.distance(u);c<=n&&(l=u.move(a.start,c),u.skip=!0)}else{var f=o.distance(a.end);if(f<n*2+OF)return r.push(a),r}var d=l.distance(a.start);if(d<n*2+OF)return r.push(a),r;var v=sh(o,l);return v.isJump=!0,r.push(sh(a.start,o),v,sh(l,a.end)),r},[])}function MF(t,e,n,r){var i=new wt,s;return s=wt.createSegment("M",t[0].start),i.appendSegment(s),xn(t).forEach(function(a,o){if(a.isJump){var l,u,c,f;if(n==="arc"){l=-90,u=a.start.difference(a.end);var d=+(u.x<0||u.x===0&&u.y<0);d&&(l+=180);var v=a.midpoint(),_=new pt(v,a.end).rotate(v,l),S;S=new pt(a.start,v),c=S.pointAt(2/3).rotate(a.start,l),f=_.pointAt(1/3).rotate(_.end,-l),s=wt.createSegment("C",c,f,_.end),i.appendSegment(s),S=new pt(v,a.end),c=_.pointAt(1/3).rotate(_.end,l),f=S.pointAt(1/3).rotate(a.end,-l),s=wt.createSegment("C",c,f,a.end),i.appendSegment(s)}else if(n==="gap")s=wt.createSegment("M",a.end),i.appendSegment(s);else if(n==="cubic"){l=a.start.theta(a.end);var b=e*.6,y=e*1.35;u=a.start.difference(a.end),d=+(u.x<0||u.x===0&&u.y<0),d&&(y*=-1),c=we(a.start.x+b,a.start.y+y).rotate(a.start,l),f=we(a.end.x-b,a.end.y+y).rotate(a.end,l),s=wt.createSegment("C",c,f,a.end),i.appendSegment(s)}}else{var A=t[o+1];r==0||!A||A.isJump?(s=wt.createSegment("L",a.end),i.appendSegment(s)):Q7e(r,i,a.end,a.start,A.end)}}),i}function Q7e(t,e,n,r,i){var s=n.distance(r)/2,a=n.distance(i)/2,o=-Math.min(t,s),l=-Math.min(t,a),u=n.clone().move(r,o).round(),c=n.clone().move(i,l).round(),f=new we(Ly*u.x+Fy*n.x,Fy*n.y+Ly*u.y),d=new we(Ly*c.x+Fy*n.x,Fy*n.y+Ly*c.y),v;v=wt.createSegment("L",u),e.appendSegment(v),v=wt.createSegment("C",f,d,c),e.appendSegment(v)}const Z7e=function(t,e,n,r){K7e(this);var i=r.raw,s=r.size||H7e,a=r.jump&&(""+r.jump).toLowerCase(),o=r.radius||W7e,l=r.ignoreConnectors||G7e;kF.indexOf(a)===-1&&(a=kF[0]);var u=this.paper,c=u.model,f=c.getLinks();if(f.length===1)return MF(EE(t,e,n),s,a,o);var d=this.model,v=f.indexOf(d),_=u.options.defaultConnector||{},S=f.filter(function($,p){var x=$.get("connector")||_;return xn(l).includes(x.name)?!1:p>v?x.name!=="jumpover":!0}),b=S.map(function($){return u.findViewByModel($)}),y=EE(t,e,n),A=b.map(function($){return $==null?[]:$===this?y:EE($.sourcePoint,$.targetPoint,$.route)},this),R=y.reduce(function($,p){var x=S.reduce(function(T,D,C){if(D!==d){var U=J7e(p,A[C]);T.push.apply(T,U)}return T},[]).sort(function(T,D){return RF(p.start,T)-RF(p.start,D)});return x.length>0?$.push.apply($,X7e(p,x,s)):$.push(p),$},[]),M=MF(R,s,a,o);return i?M:M.serialize()},eUe=function(t,e,n=[],r={}){const{raw:i}=r;return Fk(t,e,n,{cornerType:"point",raw:i})},tUe=10,nUe=0,rUe=function(t,e,n=[],r={}){const{radius:i=tUe,raw:s}=r;return Fk(t,e,n,{cornerType:"cubic",cornerRadius:i,precision:nUe,raw:s})},iUe=function(t,e,n,r){var i=r&&r.raw,s;if(n&&n.length!==0){var a=[t].concat(n).concat([e]),o=qn.throughPoints(a);s=new wt(o)}else{s=new wt;var l;if(l=wt.createSegment("M",t),s.appendSegment(l),Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)){var u=(t.x+e.x)/2;l=wt.createSegment("C",u,t.y,u,e.y,e.x,e.y),s.appendSegment(l)}else{var c=(t.y+e.y)/2;l=wt.createSegment("C",t.x,c,e.x,c,e.x,e.y),s.appendSegment(l)}}return i?s:s.serialize()},uo={AUTO:"auto",HORIZONTAL:"horizontal",VERTICAL:"vertical",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},ks={UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",AUTO:"auto",CLOSEST_POINT:"closest-point",OUTWARDS:"outwards"},jk=function(t,e,n=[],r={},i){const s=!!r.raw,{direction:a=uo.AUTO,precision:o=3}=r,l={coeff:r.distanceCoefficient||.6,angleTangentCoefficient:r.angleTangentCoefficient||80,tau:r.tension||.5,sourceTangent:r.sourceTangent?new we(r.sourceTangent):null,targetTangent:r.targetTangent?new we(r.targetTangent):null,rotate:!!r.rotate};typeof r.sourceDirection=="string"?l.sourceDirection=r.sourceDirection:typeof r.sourceDirection=="number"?l.sourceDirection=new we(1,0).rotate(null,r.sourceDirection):l.sourceDirection=r.sourceDirection?new we(r.sourceDirection).normalize():null,typeof r.targetDirection=="string"?l.targetDirection=r.targetDirection:typeof r.targetDirection=="number"?l.targetDirection=new we(1,0).rotate(null,r.targetDirection):l.targetDirection=r.targetDirection?new we(r.targetDirection).normalize():null;const u=[t,...n,e].map(S=>new we(S));let c;if(l.sourceTangent)c=l.sourceTangent;else{const S=uUe(i,u,a,l),b=u[0].distance(u[1])*l.coeff,y=u[1].difference(u[0]).normalize(),A=sP(S,y);if(A>Math.PI/4){const R=b+(A-Math.PI/4)*l.angleTangentCoefficient;c=S.clone().scale(R,R)}else c=S.clone().scale(b,b)}let f;if(l.targetTangent)f=l.targetTangent;else{const S=cUe(i,u,a,l),b=u.length-1,y=u[b-1].distance(u[b])*l.coeff,A=u[b-1].difference(u[b]).normalize(),R=sP(S,A);if(R>Math.PI/4){const M=y+(R-Math.PI/4)*l.angleTangentCoefficient;f=S.clone().scale(M,M)}else f=S.clone().scale(y,y)}const v=hUe(u,c,f,l).map(S=>dUe(S,l)),_=new wt(v).round(o);return s?_:_.serialize()};jk.Directions=uo;jk.TangentDirections=ks;function sUe(t,e,n){const{sourceBBox:r}=t;let i,s;if(!t.sourceView)r.x>e[1].x?i="right":i="left";else if(s=t.sourceView.model.angle(),n.rotate&&s){const o=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),s),i=o.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let a;switch(i){case"left":a=new we(-1,0);break;case"right":default:a=new we(1,0);break}return n.rotate&&s&&a.rotate(null,-s),a}function aUe(t,e,n){const{targetBBox:r}=t;let i,s;if(!t.targetView)r.x>e[e.length-2].x?i="left":i="right";else if(s=t.targetView.model.angle(),n.rotate&&s){const o=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),s),i=o.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let a;switch(i){case"left":a=new we(-1,0);break;case"right":default:a=new we(1,0);break}return n.rotate&&s&&a.rotate(null,-s),a}function oUe(t,e,n){const{sourceBBox:r}=t;let i,s;if(!t.sourceView)r.y>e[1].y?i="bottom":i="top";else if(s=t.sourceView.model.angle(),n.rotate&&s){const o=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),s),i=o.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":default:a=new we(0,1);break}return n.rotate&&s&&a.rotate(null,-s),a}function lUe(t,e,n){const{targetBBox:r}=t;let i,s;if(!t.targetView)r.y>e[e.length-2].y?i="top":i="bottom";else if(s=t.targetView.model.angle(),n.rotate&&s){const o=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),s),i=o.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":default:a=new we(0,1);break}return n.rotate&&s&&a.rotate(null,-s),a}function NF(t,e,n){const{sourceBBox:r}=t;let i,s;if(!t.sourceView)i=r.sideNearestToPoint(e[1]);else if(s=t.sourceView.model.angle(),n.rotate&&s){const o=t.sourceView.getNodeUnrotatedBBox(t.sourceView.el),l=e[0].clone();l.rotate(r.center(),s),i=o.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[0]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":a=new we(0,1);break;case"right":a=new we(1,0);break;case"left":a=new we(-1,0);break}return n.rotate&&s&&a.rotate(null,-s),a}function IF(t,e,n){const{targetBBox:r}=t;let i,s;if(!t.targetView)i=r.sideNearestToPoint(e[e.length-2]);else if(s=t.targetView.model.angle(),n.rotate&&s){const o=t.targetView.getNodeUnrotatedBBox(t.targetView.el),l=e[e.length-1].clone();l.rotate(r.center(),s),i=o.sideNearestToPoint(l)}else i=r.sideNearestToPoint(e[e.length-1]);let a;switch(i){case"top":a=new we(0,-1);break;case"bottom":a=new we(0,1);break;case"right":a=new we(1,0);break;case"left":a=new we(-1,0);break}return n.rotate&&s&&a.rotate(null,-s),a}function DF(t,e,n){return e[1].difference(e[0]).normalize()}function LF(t,e,n){const r=e.length-1;return e[r-1].difference(e[r]).normalize()}function FF(t,e,n){const{sourceBBox:r}=t,i=r.center();return e[0].difference(i).normalize()}function jF(t,e,n){const{targetBBox:r}=t,i=r.center();return e[e.length-1].difference(i).normalize()}function uUe(t,e,n,r){if(r.sourceDirection)switch(r.sourceDirection){case ks.UP:return new we(0,-1);case ks.DOWN:return new we(0,1);case ks.LEFT:return new we(-1,0);case ks.RIGHT:return new we(1,0);case ks.AUTO:return NF(t,e,r);case ks.CLOSEST_POINT:return DF(t,e);case ks.OUTWARDS:return FF(t,e);default:return r.sourceDirection}switch(n){case uo.HORIZONTAL:return sUe(t,e,r);case uo.VERTICAL:return oUe(t,e,r);case uo.CLOSEST_POINT:return DF(t,e);case uo.OUTWARDS:return FF(t,e);case uo.AUTO:default:return NF(t,e,r)}}function cUe(t,e,n,r){if(r.targetDirection)switch(r.targetDirection){case ks.UP:return new we(0,-1);case ks.DOWN:return new we(0,1);case ks.LEFT:return new we(-1,0);case ks.RIGHT:return new we(0,1);case ks.AUTO:return IF(t,e,r);case ks.CLOSEST_POINT:return LF(t,e);case ks.OUTWARDS:return jF(t,e);default:return r.targetDirection}switch(n){case uo.HORIZONTAL:return aUe(t,e,r);case uo.VERTICAL:return lUe(t,e,r);case uo.CLOSEST_POINT:return LF(t,e);case uo.OUTWARDS:return jF(t,e);case uo.AUTO:default:return IF(t,e,r)}}function fUe(t,e){const n=Math.cos(e),r=Math.sin(e),i=n*t.x-r*t.y,s=r*t.x+n*t.y;t.x=i,t.y=s}function sP(t,e){let n=t.dot(e)/(t.magnitude()*e.magnitude());return n<-1&&(n=-1),n>1&&(n=1),Math.acos(n)}function BF(t,e){return t.x*e.y-t.y*e.x}function hUe(t,e,n,r){const{tau:i,coeff:s}=r,a=[],o=[],l=[],u=t.length-1;for(let c=0;c<u;c++)a[c]=t[c].distance(t[c+1]);o[0]=e,o[u]=n;for(let c=1;c<u;c++){let f,d;c===1?f=t[c-1].clone().offset(o[c-1].x,o[c-1].y):f=t[c-1].clone(),c===u-1?d=t[c+1].clone().offset(o[c+1].x,o[c+1].y):d=t[c+1].clone();const v=f.difference(t[c]).normalize(),_=d.difference(t[c]).normalize(),S=sP(v,_);let b=(Math.PI-S)/2,y;const A=BF(v,_);let R;R=BF(t[c].difference(t[c+1]),t[c].difference(t[c-1])),A<0&&(b=-b),S<Math.PI/2&&(b<0&&R<0||b>0&&R>0)&&(b=b-Math.PI),y=_.clone(),fUe(y,b);const M=y.clone(),$=y.clone(),p=a[c-1]*s,x=a[c]*s;M.scale(p,p),$.scale(x,x),o[c]=[M,$]}for(let c=0;c<u;c++){let f,d;c===0?f=t[c+1].difference(o[c].x/i,o[c].y/i):f=t[c+1].difference(o[c][1].x/i,o[c][1].y/i),c===u-1?d=t[c].clone().offset(o[c+1].x/i,o[c+1].y/i):d=t[c].difference(o[c+1][0].x/i,o[c+1][0].y/i),l[c]=[f,t[c],t[c+1],d]}return l}function dUe(t,e){const{tau:n}=e,r=new we;r.x=t[1].x+(t[2].x-t[0].x)/(6*n),r.y=t[1].y+(t[2].y-t[0].y)/(6*n);const i=new we;return i.x=t[2].x+(t[3].x-t[1].x)/(6*n),i.y=t[2].y+(t[3].y-t[1].y)/(6*n),new qn(t[1],r,i,t[2])}const pUe=Object.freeze(Object.defineProperty({__proto__:null,curve:jk,jumpover:Z7e,normal:eUe,rounded:rUe,smooth:iUe,straight:Fk},Symbol.toStringTag,{value:"Module"})),Yt={TOOLS:hn.Flags.TOOLS,RENDER:"RENDER",UPDATE:"UPDATE",LEGACY_TOOLS:"LEGACY_TOOLS",LABELS:"LABELS",VERTICES:"VERTICES",SOURCE:"SOURCE",TARGET:"TARGET",CONNECTOR:"CONNECTOR"},ig=hn.extend({className:function(){var t=hn.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!1,longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){hn.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.cleanNodesCache()},presentationAttributes:{markup:[Yt.RENDER],attrs:[Yt.UPDATE],router:[Yt.UPDATE],connector:[Yt.CONNECTOR],smooth:[Yt.UPDATE],manhattan:[Yt.UPDATE],toolMarkup:[Yt.LEGACY_TOOLS],labels:[Yt.LABELS],labelMarkup:[Yt.LABELS],vertices:[Yt.VERTICES,Yt.UPDATE],vertexMarkup:[Yt.VERTICES],source:[Yt.SOURCE,Yt.UPDATE],target:[Yt.TARGET,Yt.UPDATE]},initFlag:[Yt.RENDER,Yt.SOURCE,Yt.TARGET,Yt.TOOLS],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){if(e||(e={}),this.hasFlag(t,Yt.SOURCE)){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,Yt.SOURCE)}if(this.hasFlag(t,Yt.TARGET)){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,Yt.TARGET)}const{paper:n,sourceView:r,targetView:i}=this;if(n&&(r&&!n.isViewMounted(r)||i&&!n.isViewMounted(i)))return t;if(this.hasFlag(t,Yt.RENDER))return this.render(),this.updateHighlighters(!0),this.updateTools(e),t=this.removeFlag(t,[Yt.RENDER,Yt.UPDATE,Yt.VERTICES,Yt.LABELS,Yt.TOOLS,Yt.LEGACY_TOOLS,Yt.CONNECTOR]),t;let s=!1;this.hasFlag(t,Yt.VERTICES)&&(this.renderVertexMarkers(),t=this.removeFlag(t,Yt.VERTICES));const{model:a}=this,{attributes:o}=a;let l=this.hasFlag(t,Yt.LABELS),u=this.hasFlag(t,Yt.LEGACY_TOOLS);l&&(this.onLabelsChange(a,o.labels,e),t=this.removeFlag(t,Yt.LABELS),s=!0),u&&(this.renderTools(),t=this.removeFlag(t,Yt.LEGACY_TOOLS));const c=this.hasFlag(t,Yt.UPDATE),f=this.hasFlag(t,Yt.CONNECTOR);return(c||f)&&(c?e.translateBy&&a.isRelationshipEmbeddedIn(e.translateBy)?this.translate(e.tx,e.ty):this.update():(this.updatePath(),this.updateDOM()),this.updateTools(e),t=this.removeFlag(t,[Yt.UPDATE,Yt.TOOLS,Yt.CONNECTOR]),l=!1,u=!1,s=!0),l&&this.updateLabelPositions(),u&&this.updateToolsPosition(),s&&this.updateHighlighters(),this.hasFlag(t,Yt.TOOLS)&&(this.updateTools(e),t=this.removeFlag(t,Yt.TOOLS)),t},requestConnectionUpdate:function(t){this.requestUpdate(this.getFlag(Yt.UPDATE),t)},isLabelsRenderRequired:function(t={}){const e=this.model.previous("labels");if(!e)return!0;if("propertyPathArray"in t&&"propertyValue"in t){var n=t.propertyPathArray||[],r=n.length;if(r>1){var i=!!e[n[1]];if(i){if(r===2)return"markup"in Object(t.propertyValue);if(n[2]!=="markup")return!1}}}return!0},onLabelsChange:function(t,e,n){this.isLabelsRenderRequired(n)?this.renderLabels():this.updateLabels()},render:function(){return this.vel.empty(),this.unmountLabels(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,e=t.get("markup")||t.markup;if(!e)throw new Error("dia.LinkView: markup required");if(Array.isArray(e))return this.renderJSONMarkup(e);if(typeof e=="string")return this.renderStringMarkup(e);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el);this.selectors=e.selectors,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=He(t);Array.isArray(e)||(e=[e]);for(var n=this._V,r=0,i=e.length;r<i;r++){var s=e[r],a=s.attr("class");a&&(a=Oze(a),n[Tn.camelCase(a)]=s)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if(typeof t=="string")return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=He(t),n=document.createDocumentFragment();if(!Array.isArray(e))n.appendChild(e.node);else for(var r=0,i=e.length;r<i;r++){var s=e[r].node;n.appendChild(s)}return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment)||!t.fragment.hasChildNodes())throw new Error("dia.LinkView: invalid label markup.");var n,r=e.childNodes;return r.length>1||r[0].nodeName.toUpperCase()!=="G"?n=He("g").append(e):n=He(r[0]),n.addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},r=this._labelSelectors={},i=this.model,s=i.attributes.labels||[],a=s.length;if(a===0)return e&&e.remove(),this;e?e.empty():(e=t.labels=He("g").addClass("labels"),this.options.labelsLayer&&(e.addClass(Uo(ei(this,"className"))),e.attr("model-id",i.id)));for(var o=0;o<a;o++){var l=s[o],u=this._normalizeLabelMarkup(this._getLabelMarkup(l.markup)),c,f;if(u)c=u.node,f=u.selectors;else{var d=i._builtins.defaultLabel,v=this._normalizeLabelMarkup(this._getLabelMarkup(d.markup)),_=i._getDefaultLabel(),S=this._normalizeLabelMarkup(this._getLabelMarkup(_.markup)),b=S||v;c=b.node,f=b.selectors}c.setAttribute("label-idx",o),e.append(c),n[o]=c;var y=this.selector;if(f[y])throw new Error("dia.LinkView: ambiguous label root selector.");f[y]=c,r[o]=f}return e.parent()||this.mountLabels(),this.updateLabels(),this},mountLabels:function(){const{el:t,paper:e,model:n,_V:r,options:i}=this,{labels:s}=r;if(!s||!n.hasLabels())return;const{node:a}=s;i.labelsLayer?e.getLayerView(i.labelsLayer).insertSortedNode(a,n.get("z")):a.parentNode!==t&&t.appendChild(a)},unmountLabels:function(){const{options:t,_V:e}=this;if(!e)return;const{labels:n}=e;n&&t.labelsLayer&&n.remove()},findLabelNode:function(t,e){const n=this._labelCache[t];if(!n)return null;const r=this._labelSelectors[t],[i=null]=this.findBySelector(e,n,r);return i},_mergeLabelAttrs:function(t,e,n,r){return e===null?null:e===void 0?n===null?null:n===void 0?t?void 0:r:t?n:ai({},r,n):t?ai({},n,e):ai({},r,n,e)},_mergeLabelSize:function(t,e){return t===null?null:t===void 0?e===null?null:e===void 0?void 0:e:ai({},e,t)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),r=t._builtins.defaultLabel,i=r.attrs,s=t._getDefaultLabel(),a=s.markup,o=s.attrs,l=s.size,u=0,c=e.length;u<c;u++){var f=this._labelCache[u];f.setAttribute("cursor",n?"move":"default");var d=this._labelSelectors[u],v=e[u],_=v.markup,S=v.attrs,b=v.size,y=this._mergeLabelAttrs(_||a,S,o,i),A=this._mergeLabelSize(b,l);this.updateDOMSubtreeAttributes(f,y,{rootBBox:new lt(A),selectors:d})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=Tn(this._V.linkTools.node).empty(),e=Ps(this.model.get("toolMarkup")||this.model.toolMarkup),n=He(e());if(t.append(n.node),this._toolCache=n,this.options.doubleLinkTools){var r;this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=Ps(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),r=He(e())):r=n.clone(),t.append(r.node),this._tool2Cache=r}return this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var t=Tn(this._V.markerVertices.node).empty(),e=Ps(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(n,r){t.append(He(e(Dt({idx:r},n))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=Tn(this._V.markerArrowheads.node);t.empty();var e=Ps(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=He(e({end:"source"})),this._V.targetArrowhead=He(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},removeRedundantLinearVertices:function(t){const n=this.model,r=n.vertices(),i=[this.sourceAnchor,...r,this.targetAnchor],s=i.length,a=new hr(i);a.simplify({threshold:.001});const o=a.points.map(u=>u.toJSON()),l=o.length;return s===l?0:(n.vertices(o.slice(1,l-1),t),s-l)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new we(this.sourceAnchor);case"target":return new we(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndConnectionPoint:function(t){switch(t){case"source":return new we(this.sourcePoint);case"target":return new we(this.targetPoint);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":var n=this.targetView;if(!n)break;return this.targetMagnet||n.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},update:function(){return this.updateRoute(),this.updatePath(),this.updateDOM(),this},translate:function(t=0,e=0){const{route:n,path:r}=this;if(!n||!r)return;const i=new hr(n);i.translate(t,e),this.route=i.points,this._translateConnectionPoints(t,e),r.translate(t,e),this.updateDOM()},updateDOM(){const{el:t,model:e,selectors:n}=this;this.cleanNodesCache(),this.updateDOMSubtreeAttributes(t,e.attr(),{selectors:n}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.options.perpendicular=null},updateRoute:function(){const{model:t}=this,e=t.vertices(),n=this.findAnchors(e),r=this.sourceAnchor=n.source,i=this.targetAnchor=n.target,s=this.findRoute(e);this.route=s;var a=this.findConnectionPoints(s,r,i);this.sourcePoint=a.source,this.targetPoint=a.target},updatePath:function(){const{route:t,sourcePoint:e,targetPoint:n}=this,r=this.findMarkerPoints(t,e,n),i=this.findPath(t,r.source||e,r.target||n);this.path=i},findMarkerPoints:function(t,e,n){var r=t[0],i=t[t.length-1],s=this._markerCache,a,o;return this._V.markerSource&&(s.sourceBBox=s.sourceBBox||this._V.markerSource.getBBox(),a=we(e).move(r||n,s.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(s.targetBBox=s.targetBBox||this._V.markerTarget.getBBox(),o=we(n).move(i||e,s.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),s.sourcePoint=a||e.clone(),s.targetPoint=o||n.clone(),{source:a,target:o}},findAnchorsOrdered:function(t,e,n,r){var i,s,a,o,l=this.model,u=l.get(t),c=l.get(n),f=this.getEndView(t),d=this.getEndView(n),v=this.getEndMagnet(t),_=this.getEndMagnet(n);f?(e?a=new we(e):d?a=_:a=new we(c),i=this.getAnchor(u.anchor,f,v,a,t)):i=new we(u),d?(o=new we(r||i),s=this.getAnchor(c.anchor,d,_,o,n)):s=new we(c);var S={};return S[t]=i,S[n]=s,S},findAnchors:function(t){var e=this.model,n=t[0],r=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",r,"source",n):this.findAnchorsOrdered("source",n,"target",r)},findConnectionPoints:function(t,e,n){var r=t[0],i=t[t.length-1],s=this.model,a=s.get("source"),o=s.get("target"),l=this.sourceView,u=this.targetView,c=this.paper.options,f,d,v;if(l&&!l.isNodeConnection(this.sourceMagnet)){f=this.sourceMagnet||l.el;var _=a.connectionPoint||c.defaultConnectionPoint,S=r||n,b=new pt(S,e);v=this.getConnectionPoint(_,l,f,b,"source")}else v=e;var y;if(u&&!u.isNodeConnection(this.targetMagnet)){d=this.targetMagnet||u.el;var A=o.connectionPoint||c.defaultConnectionPoint,R=i||e,M=new pt(R,n);y=this.getConnectionPoint(A,u,d,M,"target")}else y=n;return{source:v,target:y}},getAnchor:function(t,e,n,r,i){var s=e.isNodeConnection(n),a=this.paper.options;if(t||(s?t=a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?t={name:"perpendicular"}:t=a.defaultAnchor),!t)throw new Error("Anchor required.");var o;if(typeof t=="function")o=t;else{var l=t.name,u=s?"linkAnchorNamespace":"anchorNamespace";if(o=a[u][l],typeof o!="function")throw new Error("Unknown anchor: "+l)}var c=o.call(this,e,n,r,t.args||{},i,this);return c?c.round(this.decimalsRounding):new we},getConnectionPoint:function(t,e,n,r,i){var s,a=r.end,o=this.paper.options;if(typeof o.linkConnectionPoint=="function"){var l=n===e.el?void 0:n;if(s=o.linkConnectionPoint(this,e,l,r.start,i),s)return s}if(!t)return a;var u;if(typeof t=="function")u=t;else{var c=t.name;if(u=o.connectionPointNamespace[c],typeof u!="function")throw new Error("Unknown connection point: "+c)}return s=u.call(this,r,e,n,t.args||{},i,this),s?s.round(this.decimalsRounding):a},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_getDefaultLabelPositionProperty:function(){var t=this.model,e=t._builtins.defaultLabel,n=e.position,r=t._getDefaultLabel(),i=this._normalizeLabelPosition(r.position);return ai({},n,i)},_normalizeLabelPosition:function(t){return typeof t=="number"?{distance:t,offset:null,angle:0,args:null}:t},_mergeLabelPositionProperty:function(t,e){return t===null?null:t===void 0?e===null?null:e:ai({},e,t)},updateLabelPositions:function(){if(!this._V.labels)return this;var t=this.path;if(!t)return this;var e=this.model,n=e.get("labels")||[];if(!n.length)return this;for(var r=this._getDefaultLabelPositionProperty(),i=0,s=n.length;i<s;i++){var a=this._labelCache[i];if(a){var o=n[i],l=this._normalizeLabelPosition(o.position),u=this._mergeLabelPositionProperty(l,r),c=this._getLabelTransformationMatrix(u);a.setAttribute("transform",He.matrixToTransformString(c)),this._cleanLabelMatrices(i)}}return this},_cleanLabelMatrices:function(t){const{metrics:e,_labelSelectors:n}=this,r=n[t];if(r)for(let i in r){const{id:s}=r[i];s&&s in e&&delete e[s].magnetMatrix}},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t="",e=this.options.linkToolsOffset,n=this.getConnectionLength();if(!Number.isNaN(n)){n<this.options.shortLinkLength&&(t="scale(.5)",e/=2);var r=this.getPointAtLength(e);if(this._toolCache.attr("transform","translate("+r.x+", "+r.y+") "+t),this.options.doubleLinkTools&&n>=this.options.longLinkLength){var i=this.options.doubleLinkToolsOffset||e;r=this.getPointAtLength(n-i),this._tool2Cache.attr("transform","translate("+r.x+", "+r.y+") "+t),this._tool2Cache.attr("visibility","visible")}else this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")}return this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if(Tn.css(this._V.markerArrowheads.node,"display")==="none")return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){const{model:e,paper:n}=this,r=`${t}View`,i=e.get(t),s=i&&i.id;if(!s)return this[r]=null,this.updateEndMagnet(t),!0;const a=n.getModelById(s);if(!a)throw new Error("LinkView: invalid "+t+" cell.");const o=a.findView(n);return o?(this[r]=o,this.updateEndMagnet(t),!0):!1},updateEndMagnet:function(t){const e=`${t}Magnet`,n=this.getEndView(t);if(n){let r=n.getMagnetFromLinkEnd(this.model.get(t));r===n.el&&(r=null),this[e]=r}else this[e]=null},_translateAndAutoOrientArrows:function(t,e){var n=xn(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionProperty:function(t){return this.model.label(t).position||{}},_getLabelPositionAngle:function(t){var e=this._getLabelPositionProperty(t);return e.angle||0},_getLabelPositionArgs:function(t){var e=this._getLabelPositionProperty(t);return e.args},_getDefaultLabelPositionArgs:function(){var t=this.model._getDefaultLabel(),e=t.position||{};return e.args},_mergeLabelPositionArgs:function(t,e){return t===null?null:t===void 0?e===null?null:e:ai({},e,t)},addLabel:function(t,e,n,r){var i,s,a=0,o;typeof t!="number"?(i=t.x,s=t.y,typeof e=="number"?(a=e,o=n):o=e):(i=t,s=e,typeof n=="number"?(a=n,o=r):o=n);var l=this._getDefaultLabelPositionArgs(),u=o,c=this._mergeLabelPositionArgs(u,l),f={position:this.getLabelPosition(i,s,a,c)},d=-1;return this.model.insertLabel(d,f,o),d},addVertex:function(t,e,n){var r=typeof t!="number",i=r?t.x:t,s=r?t.y:e,a=r?e:n,o={x:i,y:s},l=this.getVertexIndex(i,s);return this.model.insertVertex(l,o,a),l},sendToken:function(t,e,n){function r(f,d){return function(){f.remove(),typeof d=="function"&&d()}}var i,s,a;Fn(e)?(i=e.duration,s=e.direction==="reverse",a=e.connection):(i=e,s=!1,a=null),i=i||1e3;var o={dur:i+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};s&&(o.keyPoints="1;0",o.keyTimes="0;1");var l=He(t),u;if(typeof a=="string")u=this.findBySelector(a,this.el,this.selectors)[0];else{var c=this._V;u=c.connection?c.connection.node:this.el.querySelector("path")}if(!(u instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");l.appendTo(this.paper.cells).animateAlongPath(o,u),setTimeout(r(l,n),i)},findRoute:function(t){t||(t=[]);var e=this.paper.options.routerNamespace||V7e,n=this.model.router(),r=this.paper.options.defaultRouter;if(!n)if(r)n=r;else return t.map(we);var i=rr(n)?n:e[n.name];if(!rr(i))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');var s=n.args||{},a=i.call(this,t,s,this);return a||t.map(we)},findPath:function(t,e,n){var r=this.paper.options.connectorNamespace||pUe,i=this.model.connector(),s=this.paper.options.defaultConnector;i||(i=s||{});var a=rr(i)?i:r[i.name];if(!rr(a))throw new Error('dia.LinkView: unknown connector: "'+i.name+'".');var o=$l(i.args||{});o.raw=!0;var l=a.call(this,e,n,t,o,this);return typeof l=="string"&&(l=new wt(He.normalizePathData(l))),l},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;var n=t.serialize();return e.data=n,n},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;var n=t.getSegmentSubdivisions();return e.segmentSubdivisions=n,n},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;var n=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=n,n},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(Gi(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,r){var i={},s=0,a;typeof n=="number"?(s=n,a=r):a=n,a&&(i.args=a);var o=!(a&&a.absoluteDistance),l=a&&a.absoluteDistance&&a.reverseDistance,u=a&&a.absoluteOffset,c=this.path,f={segmentSubdivisions:this.getConnectionSubdivisions()},d=new we(t,e),v=c.closestPointT(d,f),_=c.lengthAtT(v,f);o&&(_=_/this.getConnectionLength()||0),l&&(_=-1*(this.getConnectionLength()-_)||1),i.distance=_;var S;u||(S=c.tangentAtT(v));var b;if(S)b=S.pointOffset(d);else{var y=c.pointAtT(v),A=d.difference(y);b={x:A.x,y:A.y}}return i.offset=b,i.angle=s,i},_getLabelTransformationMatrix:function(t){var e,n=0,r={};if(typeof t=="number")e=t;else if(typeof t.distance=="number")r=t.args||{},e=t.distance,n=t.angle||0;else throw new Error("dia.LinkView: invalid label position distance.");var i=e>0&&e<=1,s=0,a={x:0,y:0};if(t.offset){var o=t.offset;typeof o=="number"&&(s=o),o.x&&(a.x=o.x),o.y&&(a.y=o.y)}var l=a.x!==0||a.y!==0||s===0,u=r.keepGradient,c=r.ensureLegibility,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},v=i?e*this.getConnectionLength():e,_=f.tangentAtLength(v,d),S,b=n;if(_){if(l)S=_.start.clone(),S.offset(a);else{var y=_.clone();y.rotate(_.start,-90),y.setLength(s),S=y.end}u&&(b=_.angle()+n,c&&(b=Gl((b+90)%180-90)))}else S=f.start.clone(),l&&S.offset(a);return He.createSVGMatrix().translate(S.x,S.y).rotate(b)},getLabelCoordinates:function(t){var e=this._getLabelTransformationMatrix(t);return new we(e.e,e.f)},getVertexIndex:function(t,e){for(var n=this.model,r=n.vertices(),i=this.getClosestPointLength(new we(t,e)),s=0,a=r.length;s<a;s++){var o=r[s],l=this.getClosestPointLength(o);if(i<l)break}return s},notifyPointerdown(t,e,n){hn.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove(t,e,n){hn.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup(t,e,n){this.notify("link:pointerup",t,e,n),hn.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){hn.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){hn.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){hn.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.notifyPointerdown(t,e,n);var r=t.target.getAttribute("class");switch(r){case"marker-vertex":this.dragVertexStart(t,e,n);return;case"marker-vertex-remove":case"marker-vertex-remove-area":this.dragVertexRemoveStart(t,e,n);return;case"marker-arrowhead":this.dragArrowheadStart(t,e,n);return;case"connection":case"connection-wrap":this.dragConnectionStart(t,e,n);return;case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var r=this._dragData;r&&this.eventData(t,r);var i=this.eventData(t);switch(i.action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n);break}r&&Dt(r,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var r=this._dragData;r&&(this.eventData(t,r),this._dragData=null);var i=this.eventData(t);switch(i.action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){hn.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){hn.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){hn.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){hn.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,r){hn.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,r)},onevent:function(t,e,n,r){var i=He(t.target).findParentByClass("link-tool",this.el);if(i){if(t.stopPropagation(),this.can("useLinkTools"))if(e==="remove"){this.model.remove({ui:!0});return}else this.notify(e,t,n,r);this.notifyPointerdown(t,n,r),this.paper.delegateDragEvents(this,t.data)}else hn.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n);var r=this.eventData(t).stopPropagation;r&&t.stopPropagation()},dragConnectionStart:function(t,e,n){if(this.can("vertexAdd")){var r=this.addVertex({x:e,y:n},{ui:!0});this.eventData(t,{action:"vertex-move",vertexIdx:r})}},dragLabelStart:function(t,e,n){if(this.can("labelMove")){if(this.isDefaultInteractionPrevented(t))return;var r=t.currentTarget,i=parseInt(r.getAttribute("label-idx"),10),s=this._getDefaultLabelPositionProperty(),a=this._normalizeLabelPosition(this._getLabelPositionProperty(i)),o=this._mergeLabelPositionProperty(a,s),l=this.getLabelCoordinates(o),u=l.x-e,c=l.y-n,f=this._getLabelPositionAngle(i),d=this._getLabelPositionArgs(i),v=this._getDefaultLabelPositionArgs(),_=this._mergeLabelPositionArgs(d,v);this.eventData(t,{action:"label-move",labelIdx:i,dx:u,dy:c,positionAngle:f,positionArgs:_,stopPropagation:!0})}else this.eventData(t,{stopPropagation:!0});this.paper.delegateDragEvents(this,t.data)},dragVertexStart:function(t,e,n){if(this.can("vertexMove")){var r=t.target,i=parseInt(r.getAttribute("idx"),10);this.eventData(t,{action:"vertex-move",vertexIdx:i})}},dragVertexRemoveStart:function(t,e,n){if(this.can("vertexRemove")){var r=t.target,i=parseInt(r.getAttribute("idx"),10);this.model.removeVertex(i)}},dragArrowheadStart:function(t,e,n){if(this.can("arrowheadMove")){var r=t.target,i=r.getAttribute("end"),s=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0});this.eventData(t,s)}},dragStart:function(t,e,n){this.isDefaultInteractionPrevented(t)||this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){var r=this.eventData(t),i={position:this.getLabelPosition(e+r.dx,n+r.dy,r.positionAngle,r.positionArgs)};this.paper.options.snapLabels&&delete i.position.offset;const s={ui:!0};this.paper.isAsync()&&t.type==="touchmove"&&(s.async=!1),this.model.label(r.labelIdx,i,s)},dragVertex:function(t,e,n){var r=this.eventData(t);this.model.vertex(r.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){this.paper.options.snapLinks?!this._snapArrowhead(t,e,n)&&this.paper.options.snapLinksSelf&&this._snapArrowheadSelf(t,e,n):this.paper.options.snapLinksSelf?this._snapArrowheadSelf(t,e,n):this._connectArrowhead(this.getEventTarget(t),e,n,this.eventData(t))},drag:function(t,e,n){var r=this.eventData(t);this.model.translate(e-r.dx,n-r.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var r=this.eventData(t),i=this.paper;i.options.snapLinks?this._snapArrowheadEnd(r):this._connectArrowheadEnd(r,e,n),i.linkAllowed(this)?(this._finishEmbedding(r),this._notifyConnectEvent(r,t)):this._disallow(r),this._afterArrowheadMove(r)},dragEnd:function(){},_disallow:function(t){switch(t.whenNotAllowed){case"remove":this.model.remove({ui:!0});break;case"revert":default:this.model.set(t.arrowhead,t.initialEnd,{ui:!0});break}},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n=t.arrowhead,r=t.initialEnd,i=this.model.prop(n),s=i&&!Ph.endsEqual(r,i);if(s){var a=this.paper;r.id&&this.notify("link:disconnect",e,a.findViewByModel(r.id),t.initialMagnet,n),i.id&&this.notify("link:connect",e,a.findViewByModel(i.id),t.magnetUnderPointer,n)}},_snapToPoints:function(t,e,n){let r=null,i=1/0,s=null,a=1/0,o=t.x,l=t.y;for(let u=0;u<e.length;u++){const c=Math.abs(e[u].x-t.x);c<i&&(i=c,r=e[u]);const f=Math.abs(e[u].y-t.y);f<a&&(a=f,s=e[u])}return i<n&&(o=r.x),a<n&&(l=s.y),{x:o,y:l}},_snapArrowheadSelf:function(t,e,n){const{paper:r,model:i}=this,{snapLinksSelf:s}=r.options,a=this.eventData(t),o=s.radius||20,l=this.getEndAnchor(a.arrowhead==="source"?"target":"source"),u=i.vertices(),c=[l,...u],f=this._snapToPoints({x:e,y:n},c,o);this._connectArrowhead(document.elementFromPoint(f.x,f.y),f.x,f.y,this.eventData(t))},_snapArrowhead:function(t,e,n){const{paper:r}=this,{snapLinks:i,connectionStrategy:s}=r.options,a=this.eventData(t);let o=!1;var l=i.radius||50,u=r.findViewsInArea({x:e-l,y:n-l,width:2*l,height:2*l}),c=a.closestView||null,f=a.closestMagnet||null,d=a.magnetProxy||null;a.closestView=a.closestMagnet=a.magnetProxy=null;var v=Number.MAX_VALUE,_=new we(e,n);u.forEach(function($){const p=[];$.el.getAttribute("magnet")!=="false"&&p.push({bbox:$.model.getBBox(),magnet:$.el}),$.$("[magnet]").toArray().forEach(x=>{p.push({bbox:$.getNodeBBox(x),magnet:x})}),p.forEach(x=>{const{magnet:T,bbox:D}=x,C=D.center().squaredDistance(_);C<v&&(f===T||r.options.validateConnection.apply(r,a.validateConnectionArgs($,$.el===T?null:T)))&&(v=C,a.closestView=$,a.closestMagnet=T)})},this);var S,b=null,y=a.closestView,A=a.closestMagnet;A&&(b=a.magnetProxy=y.findProxyNode(A,"highlighter"));var R=a.arrowhead,M=f!==A;if(c&&M&&c.unhighlight(d,{connecting:!0,snapping:!0}),y){const{prevEnd:$,prevX:p,prevY:x}=a;if(a.prevX=e,a.prevY=n,o=!0,!M&&(typeof s!="function"||p===e&&x===n)||(S=y.getLinkEnd(A,e,n,this.model,R),!M&&Ed($,S)))return o;a.prevEnd=S,M&&y.highlight(b,{connecting:!0,snapping:!0})}else S={x:e,y:n};return this.model.set(R,S||{x:e,y:n},{ui:!0}),c&&this.notify("link:snap:disconnect",t,c,f,R),y&&this.notify("link:snap:connect",t,y,A,R),o},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(t.magnetProxy,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,r){const{paper:i,model:s}=this;if(r.eventTarget!==t){r.magnetProxy&&r.viewUnderPointer.unhighlight(r.magnetProxy,{connecting:!0});const a=r.viewUnderPointer=i.findView(t);if(a){const o=r.magnetUnderPointer=a.findMagnet(t),l=r.magnetProxy=a.findProxyNode(o,"highlighter");o&&this.paper.options.validateConnection.apply(i,r.validateConnectionArgs(a,o))?l&&a.highlight(l,{connecting:!0}):(r.magnetUnderPointer=null,r.magnetProxy=null)}else r.magnetUnderPointer=null,r.magnetProxy=null}r.eventTarget=t,s.set(r.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t={},e,n){const{model:r}=this,{viewUnderPointer:i,magnetUnderPointer:s,magnetProxy:a,arrowhead:o}=t;if(!s||!a||!i)return;i.unhighlight(a,{connecting:!0});const l=i.getLinkEnd(s,e,n,r,o);r.set(o,l,{ui:!0})},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){t.z!==null&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var e=[];e[4]=t,e[5]=this;var n,r=0,i=0;t==="source"?(r=2,n="target"):(i=2,n="source");var s=this.model.get(n);if(s.id){var a=e[r]=this.paper.findViewByModel(s.id),o=a.getMagnetFromLinkEnd(s);o===a.el&&(o=void 0),e[r+1]=o}function l(u,c){return e[i]=u,e[i+1]=u.el===c?void 0:c,e}return l},_markAvailableMagnets:function(t){function e(f,d){var v=f.paper,_=v.options.validateConnection;return _.apply(v,this.validateConnectionArgs(f,d))}var n=this.paper,r=n.model.getCells();t.marked={};for(var i=0,s=r.length;i<s;i++){var a=r[i].findView(n);if(a){var o=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));a.el.getAttribute("magnet")!=="false"&&o.push(a.el);var l=o.filter(e.bind(t,a));if(l.length>0){for(var u=0,c=l.length;u<c;u++)a.highlight(l[u],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),t.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n,r,i=0,s=e.length;i<s;i++){n=e[i],r=t.marked[n];var a=this.paper.findViewByModel(n);if(a){for(var o=0,l=r.length;o<l;o++)a.unhighlight(r[o],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){e||(e={});var n={action:"arrowhead-move",arrowhead:t,whenNotAllowed:e.whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:$l(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(n),e.ignoreBackwardsCompatibility!==!0&&(this._dragData=n),n},onMount:function(){hn.prototype.onMount.apply(this,arguments),this.mountLabels()},onDetach:function(){hn.prototype.onDetach.apply(this,arguments),this.unmountLabels()},onRemove:function(){hn.prototype.onRemove.apply(this,arguments),this.unmountLabels()}},{Flags:Yt});Object.defineProperty(ig.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new lt(e.x,e.y)}var n=this.sourceMagnet;return t.isNodeConnection(n)?new lt(this.sourceAnchor):t.getNodeBBox(n||t.el)}});Object.defineProperty(ig.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new lt(e.x,e.y)}var n=this.targetMagnet;return t.isNodeConnection(n)?new lt(this.targetAnchor):t.getNodeBBox(n||t.el)}});const mUe=qo.extend({tagName:"path",className:"highlight-stroke",attributes:{"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},options:{padding:3,rx:0,ry:0,useFirstSubpath:!1,attrs:{"stroke-width":3,stroke:"#FEB663"}},getPathData(t,e){const{options:n}=this,{useFirstSubpath:r}=n;let i;try{const s=He(e);if(i=s.convertToPathData().trim(),s.tagName()==="PATH"&&r){const a=i.search(/.M/i)+1;a>0&&(i=i.substr(0,a))}}catch{const a=t.getNodeBoundingRect(e);i=He.rectToPath(Dt({},n,a.toJSON()))}return i},highlightConnection(t){this.vel.attr("d",t.getSerializedConnection())},highlightNode(t,e){const{vel:n,options:r}=this,{padding:i,layer:s}=r;let a=this.getNodeMatrix(t,e);if(i){!s&&e===t.el&&n.remove();let o=t.getNodeBoundingRect(e);const l=o.x+o.width/2,u=o.y+o.height/2;o=He.transformRect(o,a);const c=Math.max(o.width,1),f=Math.max(o.height,1),d=(c+i)/c,v=(f+i)/f,_=He.createSVGMatrix({a:d,b:0,c:0,d:v,e:l-d*l,f:u-v*u});a=a.multiply(_)}n.attr({d:this.getPathData(t,e),transform:He.matrixToTransformString(a)})},highlight(t,e){const{vel:n,options:r}=this;n.attr(r.attrs),t.isNodeConnection(e)?this.highlightConnection(t):this.highlightNode(t,e)}}),VF=20;function gUe(t,e){const n=t.children();for(;n.length>0;){const r=n.shift();e(r)&&n.push(...r.children())}}const vUe=qo.extend({tagName:"rect",className:"highlight-mask",attributes:{"pointer-events":"none"},options:{padding:3,maskClip:VF,deep:!1,attrs:{stroke:"#FEB663","stroke-width":3,"stroke-linecap":"butt","stroke-linejoin":"miter"}},VISIBLE:"white",INVISIBLE:"black",MASK_ROOT_ATTRIBUTE_BLACKLIST:["marker-start","marker-end","marker-mid","transform","stroke-dasharray","class"],MASK_CHILD_ATTRIBUTE_BLACKLIST:["stroke","fill","stroke-width","stroke-opacity","stroke-dasharray","fill-opacity","marker-start","marker-end","marker-mid","class"],MASK_REPLACE_TAGS:["FOREIGNOBJECT","IMAGE","USE","TEXT","TSPAN","TEXTPATH"],MASK_REMOVE_TAGS:["TEXT","TSPAN","TEXTPATH"],transformMaskChild(t,e){const{MASK_CHILD_ATTRIBUTE_BLACKLIST:n,MASK_REPLACE_TAGS:r,MASK_REMOVE_TAGS:i}=this,s=e.tagName();if(!He.isSVGGraphicsElement(e)||i.includes(s))return e.remove(),!1;if(r.includes(s)){const a=t.vel.findOne(`#${e.id}`);if(a){const{node:o}=a;let l=t.getNodeBoundingRect(o);t.model.isElement()&&(l=He.transformRect(l,t.getNodeMatrix(o)));const u=He("rect",l.toJSON()),{x:c,y:f}=l.center(),{angle:d,cx:v=c,cy:_=f}=a.rotate();d&&u.rotate(d,v,_),e.parent().append(u)}return e.remove(),!1}return n.forEach(a=>{a==="fill"&&e.attr("fill")==="none"||e.removeAttr(a)}),!0},transformMaskRoot(t,e){const{MASK_ROOT_ATTRIBUTE_BLACKLIST:n}=this;n.forEach(r=>{e.removeAttr(r)})},getMaskShape(t,e){const{options:n,MASK_REPLACE_TAGS:r}=this,{deep:i}=n,s=e.tagName();let a;if(s==="G"){if(!i)return null;a=e.clone(),gUe(a,o=>this.transformMaskChild(t,o))}else{if(r.includes(s))return null;a=e.clone()}return this.transformMaskRoot(t,a),a},getMaskId(){return`highlight-mask-${this.cid}`},getMask(t,e){const{VISIBLE:n,INVISIBLE:r,options:i}=this,{padding:s,attrs:a}=i,o="stroke-width"in a?a["stroke-width"]:1,l=e.attr("fill")!=="none";let u=parseFloat(e.attr("stroke-width"));isNaN(u)&&(u=1);const c=u+s*2,f=c+o*2;let d=this.getMaskShape(t,e);if(!d){const v=t.getNodeBoundingRect(e.node);v.inflate(v.width?0:.5,v.height?0:.5),d=He("rect",v.toJSON())}return d.attr(a),He("mask",{id:this.getMaskId()}).append([d.clone().attr({fill:l?n:"none",stroke:n,"stroke-width":f}),d.clone().attr({fill:l?r:"none",stroke:r,"stroke-width":c})])},removeMask(t){const e=t.svg.getElementById(this.getMaskId());e&&t.defs.removeChild(e)},addMask(t,e){t.defs.appendChild(e.node)},highlight(t,e){const{options:n,vel:r}=this,{padding:i,attrs:s,maskClip:a=VF,layer:o}=n,l="stroke"in s?s.stroke:"#000000";!o&&e===t.el&&r.remove();const u=t.getNodeBoundingRect(e).inflate(i+a),c=this.getNodeMatrix(t,e),f=this.getMask(t,He(e));this.addMask(t.paper,f),r.attr(u.toJSON()),r.attr({transform:He.matrixToTransformString(c),mask:`url(#${f.id})`,fill:l})},unhighlight(t){this.removeMask(t.paper)}}),yUe=qo.extend({UPDATABLE:!1,MOUNTABLE:!1,opacityClassName:Uo("highlight-opacity"),highlight:function(t,e){He(e).addClass(this.opacityClassName)},unhighlight:function(t,e){He(e).removeClass(this.opacityClassName)}}),zF=Uo("highlighted"),_Ue=qo.extend({UPDATABLE:!1,MOUNTABLE:!1,options:{className:zF},highlight:function(t,e){He(e).addClass(this.options.className)},unhighlight:function(t,e){He(e).removeClass(this.options.className)}},{className:zF}),$E={ROW:"row",COLUMN:"column"},bUe=qo.extend({tagName:"g",MOUNTABLE:!0,UPDATE_ATTRIBUTES:function(){return[this.options.attribute]},_prevItems:null,highlight(t,e){const n=t.model,{attribute:r,size:i=20,gap:s=5,direction:a=$E.ROW}=this.options;if(!r)throw new Error("List: attribute is required");const o=typeof i=="number"?{width:i,height:i}:i,l=a===$E.ROW,u=l?o.width:o.height;let c=n.get(r);Array.isArray(c)||(c=[]);const f=this._prevItems||[],d=c.map((b,y)=>Ed(f[y],c[y]));if(f.length!==c.length||d.some(b=>!b)){const b=this.vel.children(),y=c.map((A,R)=>{const M=R in b?b[R].node:null;if(d[R])return M;const $=this.createListItem(A,o,M);if(!$)return null;if(!($ instanceof SVGElement))throw new Error("List: item must be an SVGElement");$.dataset.index=R,$.dataset.attribute=r;const p=R*(u+s);return $.setAttribute("transform",l?`translate(${p}, 0)`:`translate(0, ${p})`),$});this.vel.empty().append(y),this._prevItems=c}const v=c.length,_=v===0?0:v*u+(v-1)*s,S=l?{width:_,height:o.height}:{width:o.width,height:_};this.position(n,S)},position(t,e){const{vel:n,options:r}=this,{margin:i=5,position:s="top-left"}=r,{width:a,height:o}=t.size(),{left:l,right:u,top:c,bottom:f}=bh(i),d=new lt(l,c,a-(l+u),o-(c+f));let{x:v,y:_}=Sq(d,s);switch(s){case Br.CENTER:case Br.TOP:case Br.BOTTOM:{v-=e.width/2;break}case Br.RIGHT:case Br.BOTTOM_RIGHT:case Br.TOP_RIGHT:{v-=e.width;break}}switch(s){case Br.CENTER:case Br.RIGHT:case Br.LEFT:{_-=e.height/2;break}case Br.BOTTOM:case Br.BOTTOM_RIGHT:case Br.BOTTOM_LEFT:{_-=e.height;break}}n.attr("transform",`translate(${v}, ${_})`)}},{Directions:$E,Positions:Br}),wUe=Object.freeze(Object.defineProperty({__proto__:null,addClass:_Ue,list:bUe,mask:vUe,opacity:yUe,stroke:mUe},Symbol.toStringTag,{value:"Module"}));function SUe(t,e,n,r){var i="ratio"in r?r.ratio:.5;return t.getPointAtRatio(i)}function xUe(t,e,n,r){var i="length"in r?r.length:20;return t.getPointAtLength(i)}function EUe(t,e,n,r){var i=1e6,s=t.getConnection(),a=t.getConnectionSubdivisions(),o=new pt(n.clone().offset(0,i),n.clone().offset(0,-i)),l=new pt(n.clone().offset(i,0),n.clone().offset(-i,0)),u=o.intersect(s,{segmentSubdivisions:a}),c=l.intersect(s,{segmentSubdivisions:a}),f=[];return u&&Array.prototype.push.apply(f,u),c&&Array.prototype.push.apply(f,c),f.length>0?n.chooseClosest(f):"fallbackAt"in r?Fq(t,r.fallbackAt):jq(t,e,n,r)}function $Ue(t,e,n,r){var i=t.getClosestPoint(n);return i||new we}function Fv(t){return function(e,n,r,i){if(r instanceof Element){var s=this.paper.findView(r),a;if(s)if(s.isNodeConnection(r)){var o="fixedAt"in i?i.fixedAt:"50%";a=Fq(s,o)}else a=s.getNodeBBox(r).center();else a=new we;return t.call(this,e,n,a,i)}return t.apply(this,arguments)}}function Fq(t,e){var n=parseFloat(e);return Gi(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}const AUe=Fv(EUe),jq=Fv($Ue),PUe=Object.freeze(Object.defineProperty({__proto__:null,connectionClosest:jq,connectionLength:xUe,connectionPerpendicular:AUe,connectionRatio:SUe,resolveRef:Fv},Symbol.toStringTag,{value:"Module"}));function Dw(t,e,n){if(Zr(n)){const{x:i,y:s}=n;if(isFinite(s)){const a=new pt(e,t),{start:o,end:l}=a.parallel(s);e=o,t=l}n=i}if(!isFinite(n))return t;var r=t.distance(e);return n===0&&r>0?t:t.move(e,-Math.min(n,r-1))}function Bk(t){var e=t.getAttribute("stroke-width");return e===null?0:parseFloat(e)||0}function TUe(t,e,n=0){let r,i,s,a;const{start:o,end:l}=t;switch(e){case"left":r="x",i=l,s=o,a=-1;break;case"right":r="x",i=o,s=l,a=1;break;case"top":r="y",i=l,s=o,a=-1;break;case"bottom":r="y",i=o,s=l,a=1;break;default:return}o[r]<l[r]?i[r]=s[r]:s[r]=i[r],isFinite(n)&&(i[r]+=a*n,s[r]+=a*n)}function CUe(t,e,n,r){let{offset:i,alignOffset:s,align:a}=r;return a&&TUe(t,a,s),Dw(t.end,t.start,i)}function Bq(t,e,n,r){var i=e.getNodeBBox(n);r.stroke&&i.inflate(Bk(n)/2);var s=t.intersect(i),a=s?t.start.chooseClosest(s):t.end;return Dw(a,t.start,r.offset)}function kUe(t,e,n,r){var i=e.model.angle();if(i===0)return Bq(t,e,n,r);var s=e.getNodeUnrotatedBBox(n);r.stroke&&s.inflate(Bk(n)/2);var a=s.center(),o=t.clone().rotate(a,i),l=o.setLength(1e6).intersect(s),u=l?o.start.chooseClosest(l).rotate(a,-i):t.end;return Dw(u,t.start,r.offset)}function OUe(t){if(!t)return null;var e=t;do{var n=e.tagName;if(typeof n!="string")return null;if(n=n.toUpperCase(),n==="G")e=e.firstElementChild;else if(n==="TITLE")e=e.nextElementSibling;else break}while(e);return e}var AE="segmentSubdivisons",PE="shapeBBox";function RUe(t,e,n,r){var i,s,a=r.selector,o=t.end;if(typeof a=="string"?i=e.findBySelector(a)[0]:a===!1?i=n:Array.isArray(a)?i=jg(n,a):i=OUe(n),!He.isSVGGraphicsElement(i)){if(i===n||!He.isSVGGraphicsElement(n))return o;i=n}var l=e.getNodeShape(i),u=e.getNodeMatrix(i),c=e.getRootTranslateMatrix(),f=e.getRootRotateMatrix(),d=c.multiply(f).multiply(u),v=d.inverse(),_=He.transformLine(t,v),S=_.start.clone(),b=e.getNodeData(i);if(r.insideout===!1){b[PE]||(b[PE]=l.bbox());var y=b[PE];if(y.containsPoint(S))return o}var A;if(l instanceof wt){var R=r.precision||2;b[AE]||(b[AE]=l.getSegmentSubdivisions({precision:R})),A={precision:R,segmentSubdivisions:b[AE]}}r.extrapolate===!0&&_.setLength(1e6),s=_.intersect(l,A),s?He.isArray(s)&&(s=S.chooseClosest(s)):r.sticky===!0&&(l instanceof lt?s=l.pointNearestToPoint(S):l instanceof Is?s=l.intersectionWithLineFromCenterToPoint(S):s=l.closestPoint(S,A));var M=s?He.transformPoint(s,d):o,$=r.offset||0;return r.stroke&&($+=Bk(i)/2),Dw(M,t.start,$)}const MUe=CUe,NUe=Bq,IUe=kUe,DUe=RUe,LUe=Object.freeze(Object.defineProperty({__proto__:null,anchor:MUe,bbox:NUe,boundary:DUe,rectangle:IUe},Symbol.toStringTag,{value:"Module"}));function zu(t){return function(e,n,r,i){var s=!!i.rotate,a=s?e.getNodeUnrotatedBBox(n):e.getNodeBBox(n),o=a[t](),l=i.dx;if(l){var u=Gi(l);l=parseFloat(l),isFinite(l)&&(u&&(l/=100,l*=a.width),o.x+=l)}var c=i.dy;if(c){var f=Gi(c);c=parseFloat(c),isFinite(c)&&(f&&(c/=100,c*=a.height),o.y+=c)}return s?o.rotate(e.model.getBBox().center(),-e.model.angle()):o}}function FUe(t,e,n,r){var i=t.model.angle(),s=t.getNodeBBox(e),a=s.center(),o=s.origin(),l=s.corner(),u=r.padding;if(isFinite(u)||(u=0),o.y+u<=n.y&&n.y<=l.y-u){var c=n.y-a.y;a.x+=i===0||i===180?0:c*1/Math.tan(ca(i)),a.y+=c}else if(o.x+u<=n.x&&n.x<=l.x-u){var f=n.x-a.x;a.y+=i===90||i===270?0:f*Math.tan(ca(i)),a.x+=f}return a}function jUe(t,e,n,r){var i=!!r.rotate,s,a,o;i?(s=t.getNodeUnrotatedBBox(e),o=t.model.getBBox().center(),a=t.model.angle()):s=t.getNodeBBox(e);var l=r.padding;isFinite(l)&&s.inflate(l),i&&n.rotate(o,a);var u=s.sideNearestToPoint(n),c;switch(u){case"left":c=s.leftMiddle();break;case"right":c=s.rightMiddle();break;case"top":c=s.topMiddle();break;case"bottom":c=s.bottomMiddle();break}return i?c.rotate(o,-a):c}function BUe(t,e,n,r,i){return t.model.getPointFromConnectedLink(this.model,i).offset(r.dx,r.dy)}const VUe=zu("center"),zUe=zu("topMiddle"),UUe=zu("bottomMiddle"),qUe=zu("leftMiddle"),HUe=zu("rightMiddle"),WUe=zu("origin"),GUe=zu("topRight"),KUe=zu("bottomLeft"),YUe=zu("corner"),JUe=Fv(FUe),XUe=Fv(jUe),QUe=BUe,ZUe=Object.freeze(Object.defineProperty({__proto__:null,bottom:UUe,bottomLeft:KUe,bottomRight:YUe,center:VUe,left:qUe,midSide:XUe,modelCenter:QUe,perpendicular:JUe,right:HUe,top:zUe,topLeft:WUe,topRight:GUe},Symbol.toStringTag,{value:"Module"})),ad={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},eqe=50,UF=20,qF=1e3,tqe=1/0,jy=9007199254740991,TE=hn.Highlighting,HF={[TE.DEFAULT]:{name:"stroke",options:{padding:3}},[TE.MAGNET_AVAILABILITY]:{name:"addClass",options:{className:"available-magnet"}},[TE.ELEMENT_AVAILABILITY]:{name:"addClass",options:{className:"available-cell"}}},nqe=[{name:so.BACK},{name:so.CELLS},{name:so.LABELS},{name:so.FRONT},{name:so.TOOLS}],rqe=Ic.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,drawGridSize:null,background:!1,perpendicularLinks:!1,elementView:Ai,linkView:ig,snapLabels:!1,snapLinks:!1,snapLinksSelf:!1,labelsLayer:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:HF,preventContextMenu:!0,preventDefaultBlankAction:!0,preventDefaultViewAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new Ph,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e,n){return e.getAttribute("magnet")!=="passive"},validateConnection:function(t,e,n,r,i,s){return(i==="target"?n:t)instanceof Ai},embeddingMode:!1,validateEmbedding:function(t,e){return!0},validateUnembedding:function(t){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ad.EXACT,frozen:!1,autoFreeze:!1,onViewUpdate:function(t,e,n,r,i){e&(t.FLAG_INSERT|t.FLAG_REMOVE)||r.mounting||r.isolate||i.requestConnectedLinksUpdate(t,n,r)},onViewPostponed:function(t,e,n){return n.forcePostponedViewUpdate(t,e)},beforeRender:null,afterRender:null,viewport:null,cellViewNamespace:null,routerNamespace:null,connectorNamespace:null,highlighterNamespace:wUe,anchorNamespace:ZUe,linkAnchorNamespace:PUe,connectionPointNamespace:LUe,overflow:!1},events:{dblclick:"pointerdblclick",dbltap:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",wheel:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,_layers:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],FORM_CONTROL_TAG_NAMES:["TEXTAREA","INPUT","BUTTON","SELECT","OPTION"],GUARDED_TAG_NAMES:["SELECT"],MIN_SCALE:1e-6,init:function(){const{options:t,el:e}=this;t.cellViewNamespace||(t.cellViewNamespace=typeof joint<"u"&&Eu(joint,"shapes")?joint.shapes:null);const n=this.model=t.model||new $u;this._layers={},this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this._setDimensions(),this.startListening(),this._views={},this._mw_evt_buffer={event:null,deltas:[]},this.$document=Tn(e.ownerDocument),this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1,disabled:!1,idle:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var r=n.position;this.isAsync()||!ia(r)?this.renderView(t,n):(n.maxPosition===r&&this.freeze({key:"addCells"}),this.renderView(t,n),r===0&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t,e,n){const r=this.findViewByModel(t);r&&this.requestViewUpdate(r,r.FLAG_REMOVE,r.UPDATE_PRIORITY,n)},onCellChange:function(t,e){if(t!==this.model.attributes.cells&&t.hasChanged("z")&&this.options.sorting===ad.APPROX){const n=this.findViewByModel(t);n&&this.requestViewUpdate(n,n.FLAG_INSERT,n.UPDATE_PRIORITY,e)}},onGraphReset:function(t,e){this.resetLayers(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){if(!this.isFrozen()){var e=t&&t.batchName,n=this.model;if(!this.isAsync()){var r=this.UPDATE_DELAYING_BATCHES;r.includes(e)&&!n.hasActiveBatch(r)&&this.updateViews(t)}var i=this.SORT_DELAYING_BATCHES;i.includes(e)&&!n.hasActiveBatch(i)&&this.sortViews()}},cloneOptions:function(){const{options:t}=this,{defaultConnector:e,defaultRouter:n,defaultConnectionPoint:r,defaultAnchor:i,defaultLinkAnchor:s,origin:a,highlighting:o,cellViewNamespace:l,interactive:u}=t;!l&&typeof joint<"u"&&Eu(joint,"shapes")&&(t.cellViewNamespace=joint.shapes),rr(e)||(t.defaultConnector=ro(e)),rr(n)||(t.defaultRouter=ro(n)),rr(r)||(t.defaultConnectionPoint=ro(r)),rr(i)||(t.defaultAnchor=ro(i)),rr(s)||(t.defaultLinkAnchor=ro(s)),Zr(u)&&(t.interactive=Dt({},u)),Zr(o)&&(t.highlighting=Ik({},o,HF)),t.origin=Dt({},a)},children:function(){var t=He.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:Uo("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:Uo("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:Uo("layers"),selector:"layers"}]}]},hasLayerView(t){return t in this._layers},getLayerView(t){const{_layers:e}=this;if(t in e)return e[t];throw new Error(`dia.Paper: Unknown layer "${t}"`)},getLayerNode(t){return this.getLayerView(t).el},render:function(){this.renderChildren();const{childNodes:t,options:e}=this,{svg:n,defs:r,layers:i,background:s,grid:a}=t;return n.style.overflow=e.overflow?"visible":"hidden",this.svg=n,this.defs=r,this.layers=i,this.$background=Tn(s),this.$grid=Tn(a),this.renderLayers(),He.ensureId(n),e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},renderLayers:function(t=nqe){this.removeLayers(),t.forEach(({name:i,sorted:s})=>{const a=new y7e({name:i});this.layers.appendChild(a.el),this._layers[i]=a});const e=this.getLayerView(so.CELLS),n=this.getLayerView(so.TOOLS),r=this.getLayerView(so.LABELS);this.tools=n.el,this.cells=this.viewport=e.el,e.vel.addClass(Uo("viewport")),r.vel.addClass(Uo("viewport"))},removeLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].remove(),delete t[e]})},resetLayers:function(){const{_layers:t}=this;Object.keys(t).forEach(e=>{t[e].removePivots()})},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(t===void 0){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),He.createSVGMatrix(t)}t=He.createSVGMatrix(t);var r=He.matrixToTransformString(t);return e.setAttribute("transform",r),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return He.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e,n){if(t instanceof hn)for(var r=t.model,i=this.model.getConnectedLinks(r),s=0,a=i.length;s<a;s++){var o=i[s],l=this.findViewByModel(o);if(l){var u=["UPDATE"];o.getTargetCell()===r&&u.push("TARGET"),o.getSourceCell()===r&&u.push("SOURCE");var c=Math.max(e+1,l.UPDATE_PRIORITY);this.scheduleViewUpdate(l,l.getFlag(u),c,n)}}},forcePostponedViewUpdate:function(t,e){if(!t||!(t instanceof hn))return!1;var n=t.model;if(n.isElement())return!1;if(!(e&t.getFlag(["SOURCE","TARGET"]))){var r={silent:!0},i=0,s=this.findViewByModel(n.getSourceCell());s&&!this.isViewMounted(s)&&(i=this.dumpView(s,r),t.updateEndMagnet("source"));var a=0,o=this.findViewByModel(n.getTargetCell());if(o&&!this.isViewMounted(o)&&(a=this.dumpView(o,r),t.updateEndMagnet("target")),i===0&&a===0)return!this.dumpView(t,r)}return!1},requestViewUpdate:function(t,e,n,r){r||(r={}),this.scheduleViewUpdate(t,e,n,r);var i=this.isAsync();if(!(this.isFrozen()||i&&r.async!==!1)&&!this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)){var s=this.updateViews(r);i&&this.notifyAfterRender(s,r)}},scheduleViewUpdate:function(t,e,n,r){const{_updates:i,options:s}=this;i.idle&&s.autoFreeze&&(i.idle=!1,this.unfreeze());const{FLAG_REMOVE:a,FLAG_INSERT:o,UPDATE_PRIORITY:l,cid:u}=t;let c=i.priorities[n];if(c||(c=i.priorities[n]={}),n>l)for(let v=n-1;v>=l;v--){const _=i.priorities[v];!_||!(u in _)||(c[u]|=_[u],delete _[u])}let f=c[u]||0;if((f&e)===e)return;f||i.count++,e&a&&f&o?c[u]^=o:e&o&&f&a&&(c[u]^=a),c[u]|=e;const d=s.onViewUpdate;typeof d=="function"&&d.call(this,t,e,n,r||{},this)},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,r=e.priorities[t.UPDATE_PRIORITY],i=this.registerMountedView(t)|r[n];return delete r[n],i},dumpView:function(t,e={}){const n=this.dumpViewUpdate(t);if(!n)return 0;const r=!e.silent;r&&this.notifyBeforeRender(e);const i=this.updateView(t,n,e);if(r){const s={updated:1,priority:t.UPDATE_PRIORITY};this.notifyAfterRender(s,e)}return i},updateView:function(t,e,n){if(!t)return 0;const{FLAG_REMOVE:r,FLAG_INSERT:i,FLAG_INIT:s,model:a}=t;if(t instanceof hn){if(e&r)return this.removeView(a),0;if(e&i){const o=!!(e&s);o&&(e^=s),this.insertView(t,o),e^=i}}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){var n=this.findViewByModel(t);return n?(this.dumpView(n,e),n):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;var r=n.unmounted[e]|=t.FLAG_INSERT;return n.unmountedCids.push(e),delete n.mounted[e],r},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);var r=n.unmounted[e]||0;return delete n.unmounted[e],r},isViewMounted:function(t){if(!t)return!1;var e=t.cid,n=this._updates;return e in n.mounted},dumpViews:function(t){var e=jo({},t,{viewport:null});this.checkViewport(e),this.updateViews(e)},updateViews:function(t){this.notifyBeforeRender(t);let e,n=0,r=0,i=jy;do r++,e=this.updateViewsBatch(t),n+=e.updated,i=Math.min(e.priority,i);while(!e.empty);const s={updated:n,batches:r,priority:i};return this.notifyAfterRender(s,t),s},hasScheduledUpdates:function(){const t=this._updates.priorities,e=Object.keys(t);let n=e.length;for(;n>0&&n--;)for(let r in t[e[n]])return!0;return!1},updateViewsAsync:function(t,e){t||(t={}),e||(e={processed:0,priority:jy});const{_updates:n,options:r}=this,i=n.id;if(i){ZA(i),e.processed===0&&this.hasScheduledUpdates()&&this.notifyBeforeRender(t);const s=this.updateViewsBatch(t),a=jo({},t,{mountBatchSize:qF-s.mounted,unmountBatchSize:qF-s.unmounted}),o=this.checkViewport(a),l=o.unmounted,u=o.mounted;let c=e.processed;const f=n.count;s.updated>0?(c+=s.updated+s.unmounted,s.processed=c,e.priority=Math.min(s.priority,e.priority),s.empty&&u===0?(s.unmounted+=l,s.mounted+=u,s.priority=e.priority,this.notifyAfterRender(s,t),e.processed=0,e.priority=jy,n.count=0):e.processed=c):n.idle||r.autoFreeze&&(this.freeze(),n.idle=!0,this.trigger("render:idle",t));const d=t.progress;if(f&&typeof d=="function"&&d.call(this,s.empty,c,f,s,this),n.id!==i)return}if(n.disabled)throw new Error("dia.Paper: can not unfreeze the paper after it was removed");n.id=QA(this.updateViewsAsync,this,t,e)},notifyBeforeRender:function(t={}){let e=t.beforeRender;typeof e!="function"&&(e=this.options.beforeRender,typeof e!="function")||e.call(this,t,this)},notifyAfterRender:function(t,e={}){let n=e.afterRender;typeof n!="function"&&(n=this.options.afterRender),typeof n=="function"&&n.call(this,t,e,this),this.trigger("render:done",t,e)},updateViewsBatch:function(t){t||(t={});var e=t.batchSize||tqe,n=this._updates,r=0,i=0,s=0,a=0,o=jy,l=!0,u=this.options,c=n.priorities,f="viewport"in t?t.viewport:u.viewport;typeof f!="function"&&(f=null);var d=u.onViewPostponed;typeof d!="function"&&(d=null);var v=Object.keys(c);e:for(var _=0,S=v.length;_<S;_++){var b=+v[_],y=c[b];for(var A in y){if(r>=e){l=!1;break e}var R=Hf[A];if(!R){delete y[A];continue}var M=y[A];if(!(M&R.FLAG_REMOVE)){var $=A in n.unmounted;if(R.DETACHABLE&&f&&!f.call(this,R,!$,this)){$||(this.registerUnmountedView(R),this.detachView(R)),n.unmounted[A]|=M,delete y[A],s++;continue}$&&(M|=R.FLAG_INSERT,a++),M|=this.registerMountedView(R)}var p=this.updateView(R,M,t);if(p>0&&(y[A]=p,!d||!d.call(this,R,p,this)||y[A])){i++,l=!1;continue}o>b&&(o=b),r++,delete y[A]}}return{priority:o,updated:r,postponed:i,unmounted:s,mounted:a,empty:l}},getUnmountedViews:function(){const t=this._updates,e=Object.keys(t.unmounted),n=e.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Hf[e[i]];return r},getMountedViews:function(){const t=this._updates,e=Object.keys(t.mounted),n=e.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=Hf[e[i]];return r},checkUnmountedViews:function(t,e){e||(e={});var n=0;typeof t!="function"&&(t=null);for(var r=("mountBatchSize"in e)?e.mountBatchSize:1/0,i=this._updates,s=i.unmountedCids,a=i.unmounted,o=0,l=Math.min(s.length,r);o<l;o++){var u=s[o];if(u in a){var c=Hf[u];if(c){if(c.DETACHABLE&&t&&!t.call(this,c,!1,this)){s.push(u);continue}n++;var f=this.registerMountedView(c);f&&this.scheduleViewUpdate(c,f,c.UPDATE_PRIORITY,{mounting:!0})}}}return s.splice(0,o),n},checkMountedViews:function(t,e){e||(e={});var n=0;if(typeof t!="function")return n;for(var r=("unmountBatchSize"in e)?e.unmountBatchSize:1/0,i=this._updates,s=i.mountedCids,a=i.mounted,o=0,l=Math.min(s.length,r);o<l;o++){var u=s[o];if(u in a){var c=Hf[u];if(c){if(!c.DETACHABLE||t.call(this,c,!0,this)){s.push(u);continue}n++;var f=this.registerUnmountedView(c);f&&this.detachView(c)}}}return s.splice(0,o),n},checkViewVisibility:function(t,e={}){let n="viewport"in e?e.viewport:this.options.viewport;typeof n!="function"&&(n=null);const r=this._updates,{mounted:i,unmounted:s}=r,a=!t.DETACHABLE||!n||n.call(this,t,!1,this);let o=!1,l=!1;if(t.cid in i&&!a){this.registerUnmountedView(t)&&this.detachView(t);const f=r.mountedCids.indexOf(t.cid);r.mountedCids.splice(f,1),o=!0}if(!o&&t.cid in s&&a){const c=r.unmountedCids.indexOf(t.cid);r.unmountedCids.splice(c,1);var u=this.registerMountedView(t);u&&this.scheduleViewUpdate(t,u,t.UPDATE_PRIORITY,{mounting:!0}),l=!0}return{mounted:l?1:0,unmounted:o?1:0}},checkViewport:function(t){var e=jo({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n="viewport"in e?e.viewport:this.options.viewport,r=this.checkMountedViews(n,e);if(r>0){var i=this._updates.unmountedCids;e.mountBatchSize=Math.min(i.length-r,e.mountBatchSize)}var s=this.checkUnmountedViews(n,e);return{mounted:s,unmounted:r}},freeze:function(t){t||(t={});var e=this._updates,n=t.key,r=this.options.frozen,i=e.freezeKey;if(n&&n!==i){if(r&&i)return;e.freezeKey=n,e.keyFrozen=r}this.options.frozen=!0;var s=e.id;e.id=null,this.isAsync()&&s&&ZA(s)},unfreeze:function(t){t||(t={});var e=this._updates,n=t.key,r=e.freezeKey;n&&r&&n!==r||(e.freezeKey=null,!(n&&n===r&&e.keyFrozen)&&(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ad.EXACT},onRemove:function(){this.freeze(),this._updates.disabled=!0,this.removeLayers(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,n=t.height;return ia(e)||(e=this.el.clientWidth),ia(n)||(n=this.el.clientHeight),{width:e,height:n}},setDimensions:function(t,e){const{options:n}=this,{width:r,height:i}=n;let s=t===void 0?r:t,a=e===void 0?i:e;if(r===s&&i===a)return;n.width=s,n.height=a,this._setDimensions();const o=this.getComputedSize();this.trigger("resize",o.width,o.height)},_setDimensions:function(){const{options:t}=this;let e=t.width,n=t.height;ia(e)&&(e=Math.round(e)),ia(n)&&(n=Math.round(n)),this.$el.css({width:e===null?"":e,height:n===null?"":n})},setOrigin:function(t,e){return this.translate(t||0,e||0)},fitToContent:function(t,e,n,r){Fn(t)?r=t:r=Dt({gridWidth:t,gridHeight:e,padding:n},r);const{x:i,y:s,width:a,height:o}=this.getFitToContentArea(r),{sx:l,sy:u}=this.scale();return this.setOrigin(-i*l,-s*u),this.setDimensions(a*l,o*u),new lt(i,s,a,o)},getFitToContentArea:function(t={}){const e=t.gridWidth||1,n=t.gridHeight||1,r=bh(t.padding||0),i=Math.max(t.minWidth||0,e),s=Math.max(t.minHeight||0,n),a=t.maxWidth||Number.MAX_VALUE,o=t.maxHeight||Number.MAX_VALUE,l=t.allowNewOrigin,u="contentArea"in t?new lt(t.contentArea):this.getContentArea(t),{sx:c,sy:f}=this.scale();u.x*=c,u.y*=f,u.width*=c,u.height*=f;let d=Math.ceil((u.width+u.x)/e),v=Math.ceil((u.height+u.y)/n);t.allowNegativeBottomRight||(d=Math.max(d,1),v=Math.max(v,1)),d*=e,v*=n;let _=0;(l==="negative"&&u.x<0||l==="positive"&&u.x>=0||l==="any")&&(_=Math.ceil(-u.x/e)*e,_+=r.left,d+=_);let S=0;return(l==="negative"&&u.y<0||l==="positive"&&u.y>=0||l==="any")&&(S=Math.ceil(-u.y/n)*n,S+=r.top,v+=S),d+=r.right,v+=r.bottom,d=Math.max(d,i),v=Math.max(v,s),d=Math.min(d,a),v=Math.min(v,o),new lt(-_/c,-S/f,d/c,v/f)},transformToFitContent:function(t){t||(t={});let e,n;if("contentArea"in t){const b=t.contentArea;e=this.localToPaperRect(b),n=new we(b)}else e=this.getContentBBox(t),n=this.paperToLocalPoint(e);if(!e.width||!e.height)return;jo(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE,verticalAlign:"top",horizontalAlign:"left"});const r=bh(t.padding),i=t.minScaleX||t.minScale,s=t.maxScaleX||t.maxScale,a=t.minScaleY||t.minScale,o=t.maxScaleY||t.maxScale;let l;if(t.fittingBBox)l=t.fittingBBox;else{const b=this.translate(),y=this.getComputedSize();l={x:b.tx,y:b.ty,width:y.width,height:y.height}}l=new lt(l).moveAndExpand({x:r.left,y:r.top,width:-r.left-r.right,height:-r.top-r.bottom});const u=this.scale();let c=l.width/e.width*u.sx,f=l.height/e.height*u.sy;if(t.preserveAspectRatio&&(c=f=Math.min(c,f)),t.scaleGrid){const b=t.scaleGrid;c=b*Math.floor(c/b),f=b*Math.floor(f/b)}c=Math.min(s,Math.max(i,c)),f=Math.min(o,Math.max(a,f));const d={x:c/u.sx,y:f/u.sy},v=this.options.origin;let _=l.x-n.x*c-v.x,S=l.y-n.y*f-v.y;switch(t.verticalAlign){case"middle":S=S+(l.height-e.height*d.y)/2;break;case"bottom":S=S+(l.height-e.height*d.y);break}switch(t.horizontalAlign){case"middle":_=_+(l.width-e.width*d.x)/2;break;case"right":_=_+(l.width-e.width*d.x);break}this.scale(c,f),this.translate(_,S)},scaleContentToFit:function(t){this.transformToFitContent(t)},getContentArea:function(t){return t&&t.useModelGeometry?this.model.getBBox()||new lt:He(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(...t){const{restrictTranslate:e}=this.options;let n;return rr(e)?n=e.apply(this,t):e===!0?n=this.getArea():e?n=new lt(e):n=null,n},createViewForModel:function(t){const{options:e}=this;var n,r,i=e.cellViewNamespace,s=t.get("type")+"View",a=jg(i,s,".");t.isLink()?(n=e.linkView,r=ig):(n=e.elementView,r=Ai);var o=n.prototype instanceof ls.View?a||n:n.call(this,t)||a||r;return new o({model:t,interactive:e.interactive,labelsLayer:e.labelsLayer===!0?so.LABELS:e.labelsLayer})},removeView:function(t){const{id:e}=t,{_views:n,_updates:r}=this,i=n[e];if(i){var{cid:s}=i;const{mounted:a,unmounted:o}=r;i.remove(),delete n[e],delete a[s],delete o[s]}return i},renderView:function(t,e){const{id:n}=t,r=this._views;let i,s,a=!0;return n in r&&(i=r[n],i.model===t?(s=i.FLAG_INSERT,a=!1):this.removeView(t)),a&&(i=r[n]=this.createViewForModel(t),i.paper=this,s=this.registerUnmountedView(i)|this.FLAG_INIT|i.getFlag(ei(i,"initFlag"))),this.requestViewUpdate(i,s,i.UPDATE_PRIORITY,e),i},onImageDragStart:function(){return!1},resetViews:function(t,e){e||(e={}),t||(t=[]),this._resetUpdates(),this.removeViews();const n=this.options.autoFreeze?null:"reset";this.freeze({key:n});for(var r=0,i=t.length;r<i;r++)this.renderView(t[r],e);this.unfreeze({key:n}),this.sortViews()},removeViews:function(){Ko(this._views,"remove"),this._views={}},sortViews:function(){if(this.isExactSorting()){if(this.isFrozen()){this._updates.sort=!0;return}this.sortViewsExact()}},sortViewsExact:function(){var t=Tn(this.cells).children("[model-id]"),e=this.model.get("cells");jze(t,function(n,r){var i=e.get(n.getAttribute("model-id")),s=e.get(r.getAttribute("model-id")),a=i.attributes.z||0,o=s.attributes.z||0;return a===o?0:a<o?-1:1})},insertView:function(t,e){const n=this.getLayerView(so.CELLS),{el:r,model:i}=t;switch(this.options.sorting){case ad.APPROX:n.insertSortedNode(r,i.get("z"));break;case ad.EXACT:default:n.insertNode(r);break}t.onMount(e)},detachView(t){t.unmount(),t.onDetach()},scale:function(t,e,n,r){if(t===void 0)return He.matrixToScale(this.matrix());e===void 0&&(e=t),n===void 0&&(n=0,r=0);var i=this.translate();if(n||r||i.tx||i.ty){var s=i.tx-n*(t-1),a=i.ty-r*(e-1);this.translate(s,a)}t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var o=this.matrix();return o.a=t,o.d=e,this.matrix(o),this.trigger("scale",t,e,n,r),this},rotate:function(t,e,n){if(t===void 0)return He.matrixToRotate(this.matrix());if(e===void 0){var r=this.cells.getBBox();e=r.width/2,n=r.height/2}var i=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(i),this},translate:function(t,e){if(t===void 0)return He.matrixToTranslate(this.matrix());const{options:n}=this,{origin:r,drawGrid:i}=n;t||(t=0),e||(e=0);const s=this.matrix();if(s.e===t&&s.f===e)return this;s.e=t,s.f=e,this.matrix(s);const{tx:a,ty:o}=this.translate();return r.x=a,r.y=o,this.trigger("translate",a,o),i&&this.drawGrid(),this},findView:function(t){var e=cs(t)?this.cells.querySelector(t):t instanceof Tn?t[0]:t,n=this.findAttribute("model-id",e);if(n)return this._views[n]},findViewByModel:function(t){var e=cs(t)||ia(t)?t:t&&t.id;return this._views[e]},findViewsFromPoint:function(t){t=new we(t);var e=this.model.getElements().map(this.findViewByModel,this);return e.filter(function(n){return n&&n.vel.getBBox({target:this.cells}).containsPoint(t)},this)},findViewsInArea:function(t,e){e=jo(e||{},{strict:!1}),t=new lt(t);var n=this.model.getElements().map(this.findViewByModel,this),r=e.strict?"containsRect":"intersect";return n.filter(function(i){return i&&t[r](i.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t,...e){typeof t=="string"&&this.trigger("tools:event",t,...e)},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){var n=new we(t,e),r=He.transformPoint(n,this.matrix());return r},localToPaperRect:function(t,e,n,r){var i=new lt(t,e,n,r),s=He.transformRect(i,this.matrix());return s},paperToLocalPoint:function(t,e){var n=new we(t,e),r=He.transformPoint(n,this.matrix().inverse());return r},paperToLocalRect:function(t,e,n,r){var i=new lt(t,e,n,r),s=He.transformRect(i,this.matrix().inverse());return s},localToClientPoint:function(t,e){var n=new we(t,e),r=He.transformPoint(n,this.clientMatrix());return r},localToClientRect:function(t,e,n,r){var i=new lt(t,e,n,r),s=He.transformRect(i,this.clientMatrix());return s},clientToLocalPoint:function(t,e){var n=new we(t,e),r=He.transformPoint(n,this.clientMatrix().inverse());return r},clientToLocalRect:function(t,e,n,r){var i=new lt(t,e,n,r),s=He.transformRect(i,this.clientMatrix().inverse());return s},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,r){return this.localToPaperRect(t,e,n,r).offset(this.pageOffset())},pageToLocalPoint:function(t,e){var n=new we(t,e),r=n.difference(this.pageOffset());return this.paperToLocalPoint(r)},pageToLocalRect:function(t,e,n,r){var i=this.pageOffset(),s=new lt(t,e,n,r);return s.x-=i.x,s.y-=i.y,this.paperToLocalRect(s)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new we(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof ig))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,r=this.model,i=r.constructor.validations;return!(!n.multiLinks&&!i.multiLinks.call(this,r,e)||!n.linkPinning&&!i.linkPinning.call(this,r,e)||typeof n.allowLink=="function"&&!n.allowLink.call(this,t,this))},getDefaultLink:function(t,e){return rr(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(t={}){let{highlighter:e,type:n}=t;const{highlighting:r,highlighterNamespace:i}=this.options;if(e===void 0){if(!r||n&&(e=r[n],e===!1))return!1;e||(e=r.default)}if(!e)return!1;cs(e)&&(e={name:e});const s=e.name,a=i[s];if(!a)throw new Error('Unknown highlighter ("'+s+'")');if(typeof a.highlight!="function")throw new Error('Highlighter ("'+s+'") is missing required highlight() method');if(typeof a.unhighlight!="function")throw new Error('Highlighter ("'+s+'") is missing required unhighlight() method');return{highlighter:a,options:e.options||{},name:s}},onCellHighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.highlight(t,e,s)},onCellUnhighlight:function(t,e,n){const r=this.resolveHighlighter(n);if(!r)return;const{highlighter:i,options:s}=r;i.unhighlight(t,e,s)},pointerdblclick:function(t){t.preventDefault(),t=si(t);var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.pointerdblclick(t,n.x,n.y):this.trigger("blank:pointerdblclick",t,n.x,n.y)}},pointerclick:function(t){var e=this.eventData(t);if(e.mousemoved<=this.options.clickThreshold){t=si(t);var n=this.findView(t.target);if(this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n?n.pointerclick(t,r.x,r.y):this.trigger("blank:pointerclick",t,r.x,r.y)}},contextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.contextMenuFired){this.contextMenuFired=!1;return}t=si(t),this.contextMenuTrigger(t)},contextMenuTrigger:function(t){var e=this.findView(t.target);if(!this.guard(t,e)){var n=this.snapToGrid(t.clientX,t.clientY);e?e.contextmenu(t,n.x,n.y):this.trigger("blank:contextmenu",t,n.x,n.y)}},pointerdown:function(t){t=si(t);const{target:e,button:n}=t,r=this.findView(e),i=n===2;if(r){if(!i&&this.guard(t,r))return;const s=this.FORM_CONTROL_TAG_NAMES.includes(e.tagName);this.options.preventDefaultViewAction&&!s&&t.preventDefault(),s&&r.preventDefaultInteraction(t);const a=r.el,o=e.closest("[event]");if(o&&a!==o&&r.el.contains(o)){const u=si(Tn.Event(t.originalEvent,{data:t.data,currentTarget:o}));if(this.onevent(u),u.isDefaultPrevented()&&t.preventDefault(),u.isPropagationStopped())return;t.data=u.data}const l=e.closest("[magnet]");if(l&&r.el!==l&&r.el.contains(l)){const u=si(Tn.Event(t.originalEvent,{data:t.data,currentTarget:l}));if(this.onmagnet(u),u.isDefaultPrevented()&&t.preventDefault(),u.isPropagationStopped()){if(i)return;this.delegateDragEvents(r,u.data);return}t.data=u.data}}if(i){this.contextMenuFired=!0;const s=Tn.Event(t.originalEvent,{type:"contextmenu",data:t.data});this.contextMenuTrigger(s)}else{const s=this.snapToGrid(t.clientX,t.clientY);r?r.pointerdown(t,s.x,s.y):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,s.x,s.y)),this.delegateDragEvents(r,t.data)}},pointermove:function(t){var e=this.eventData(t);e.mousemoved||(e.mousemoved=0,this.undelegateEvents());var n=++e.mousemoved;if(!(n<=this.options.moveThreshold)){t=si(t);var r=this.snapToGrid(t.clientX,t.clientY),i=e.sourceView;i?i.pointermove(t,r.x,r.y):this.trigger("blank:pointermove",t,r.x,r.y),this.eventData(t,e)}},pointerup:function(t){this.undelegateDocumentEvents();var e=si(t),n=this.snapToGrid(e.clientX,e.clientY),r=this.eventData(t).sourceView;r?r.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(Tn.Event(t.originalEvent,{type:"click",data:t.data})),this.delegateEvents()},mouseover:function(t){t=si(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseover(t);else{if(this.el===t.target)return;this.trigger("blank:mouseover",t)}},mouseout:function(t){t=si(t);var e=this.findView(t.target);if(!this.guard(t,e))if(e)e.mouseout(t);else{if(this.el===t.target)return;this.trigger("blank:mouseout",t)}},mouseenter:function(t){t=si(t);const{target:e,relatedTarget:n,currentTarget:r}=t,i=this.findView(e);if(this.guard(t,i))return;const s=this.findView(n);i&&(s===i||(i.mouseenter(t),this.el.contains(n)))||s||r===this.el&&this.trigger("paper:mouseenter",t)},mouseleave:function(t){t=si(t);const{target:e,relatedTarget:n,currentTarget:r}=t,i=this.findView(e);if(this.guard(t,i))return;const s=this.findView(n);i&&(s===i||(i.mouseleave(t),this.el.contains(n)))||s||r===this.el&&this.trigger("paper:mouseleave",t)},_processMouseWheelEvtBuf:Eze(function(){const{event:t,deltas:e}=this._mw_evt_buffer,n=e.reduce((a,o)=>a+Ize(o,eqe),0),r=Math.pow(.995,n),{x:i,y:s}=this.clientToLocalPoint(t.clientX,t.clientY);this.trigger("paper:pinch",t,i,s,r),this._mw_evt_buffer={event:null,deltas:[]}},UF,{maxWait:UF}),mousewheel:function(t){t=si(t);const e=this.findView(t.target);if(this.guard(t,e))return;const n=t.originalEvent,r=this.snapToGrid(n.clientX,n.clientY),{deltaX:i,deltaY:s}=Nze(n),a=this._events["paper:pinch"];if(t.ctrlKey&&a&&a.length>0)n.preventDefault(),this._mw_evt_buffer.event=n,this._mw_evt_buffer.deltas.push(s),this._processMouseWheelEvtBuf();else{const o=Math.max(-1,Math.min(1,n.wheelDelta));e?e.mousewheel(t,r.x,r.y,o):this.trigger("blank:mousewheel",t,r.x,r.y,o),this.trigger("paper:pan",t,i,s)}},onevent:function(t){var e=t.currentTarget,n=e.getAttribute("event");if(n){var r=this.findView(e);if(r){if(t=si(t),this.guard(t,r))return;var i=this.snapToGrid(t.clientX,t.clientY);r.onevent(t,n,i.x,i.y)}}},magnetEvent:function(t,e){var n=t.currentTarget,r=n.getAttribute("magnet");if(r){var i=this.findView(n);if(i){if(t=si(t),this.guard(t,i))return;var s=this.snapToGrid(t.clientX,t.clientY);e.call(this,i,t,n,s.x,s.y)}}},onmagnet:function(t){if(t.button===2){this.contextMenuFired=!0,this.magnetContextMenuFired=!0;const e=Tn.Event(t.originalEvent,{type:"contextmenu",data:t.data,currentTarget:t.currentTarget});this.magnetContextMenuTrigger(e),e.isPropagationStopped()&&t.stopPropagation()}else this.magnetEvent(t,function(e,n,r,i,s){e.onmagnet(n,i,s)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(e,n,r,i,s){e.magnetpointerdblclick(n,r,i,s)})},magnetcontextmenu:function(t){if(this.options.preventContextMenu&&t.preventDefault(),this.magnetContextMenuFired){this.magnetContextMenuFired=!1;return}this.magnetContextMenuTrigger(t)},magnetContextMenuTrigger:function(t){this.magnetEvent(t,function(e,n,r,i,s){e.magnetcontextmenu(n,r,i,s)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);if(n){if(t=si(t),this.guard(t,n))return;var r=this.snapToGrid(t.clientX,t.clientY);n.onlabel(t,r.x,r.y)}},getPointerArgs(t){const e=si(t),{x:n,y:r}=this.snapToGrid(e.clientX,e.clientY);return[e,n,r]},delegateDragEvents:function(t,e){e||(e={}),this.eventData({data:e},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e)},guard:function(t,e){if(t.type==="mousedown"&&t.button===2||this.options.guard&&this.options.guard(t,e))return!0;if(t.data&&t.data.guarded!==void 0)return t.data.guarded;const{target:n}=t;return this.GUARDED_TAG_NAMES.includes(n.tagName)?!0:!(e&&e.model&&e.model instanceof ql||this.svg===n||this.el===n||Tn.contains(this.svg,n))},setGridSize:function(t){const{options:e}=this;return e.gridSize=t,e.drawGrid&&!e.drawGridSize&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:He("svg",{width:"100%",height:"100%"},He("defs")),patterns:{},add:function(t,e){He(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(He("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return this.patterns[t]!==void 0}}),this._gridCache},setGrid:function(t){this.clearGrid(),this._gridCache=null,this._gridSettings=[];var e=Array.isArray(t)?t:[t||{}];return e.forEach(function(n){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(n))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(cs(t)&&Array.isArray(e[t]))return e[t].map(function(l){return Dt({},l)});var n=t||{args:[{}]},r=Array.isArray(n),i=n.name;if(!r&&!i&&!n.markup&&(i="dot"),i&&Array.isArray(e[i])){var s=e[i].map(function(l){return Dt({},l)}),a=Array.isArray(n.args)?n.args:[n.args||{}];jo(a[0],_h(t,"args"));for(var o=0;o<a.length;o++)s[o]&&Dt(s[o],a[o]);return s}return r?n:[n]},drawGrid:function(t){const e=this.options.drawGridSize||this.options.gridSize;if(e<=1)return this.clearGrid();var n=Array.isArray(t)?t:[t],r=this.matrix(),i=this._getGridRefs();this._gridSettings.forEach(function(a,o){var l="pattern_"+o,u=ai(a,n[o],{sx:r.a||1,sy:r.d||1,ox:r.e||0,oy:r.f||0});u.width=e*(r.a||1)*(u.scaleFactor||1),u.height=e*(r.d||1)*(u.scaleFactor||1),i.exist(l)||i.add(l,He("pattern",{id:l,patternUnits:"userSpaceOnUse"},He(u.markup)));var c=i.get(l);rr(u.update)&&u.update(c.node.childNodes[0],u);var f=u.ox%u.width;f<0&&(f+=u.width);var d=u.oy%u.height;d<0&&(d+=u.height),c.attr({x:f,y:d,width:u.width,height:u.height})});var s=new XMLSerializer().serializeToString(i.root.node);return s="url(data:image/svg+xml;base64,"+btoa(s)+")",this.$grid.css("backgroundImage",s),this},updateBackgroundImage:function(t){t=t||{};var e=t.position||"center",n=t.size||"auto auto",r=this.scale(),i=this.translate();if(Fn(e)){var s=i.tx+r.sx*(e.x||0),a=i.ty+r.sy*(e.y||0);e=s+"px "+a+"px"}Fn(n)&&(n=new lt(n).scale(r.sx,r.sy),n=n.width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(!(t instanceof HTMLImageElement)){this.$background.css("backgroundImage","");return}if(!(!this._background||this._background.id!==e.id)){e=e||{};var n,r=e.size,i=e.repeat||"no-repeat",s=e.opacity||1,a=Math.abs(e.quality)||1,o=this.constructor.backgroundPatterns[Tze(i)];if(rr(o)){t.width*=a,t.height*=a;var l=o(t,e);if(!(l instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=l.toDataURL("image/png"),i="repeat",Fn(r)?(r.width*=l.width/t.width,r.height*=l.height/t.height):r===void 0&&(e.size={width:l.width/a,height:l.height/a})}else n=t.src,r===void 0&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:s,backgroundRepeat:i,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){if(t=t||{},this.updateBackgroundColor(t.color),t.image){t=this._background=ro(t),$d(t);var e=document.createElement("img");e.onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image}else this.drawBackgroundImage(null),this._background=null;return this},setInteractivity:function(t){this.options.interactive=t,Ko(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!Fn(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name;if(e||(e=n+this.svg.id+My(JSON.stringify(t))),!this.isDefined(e)){var r=Vze,i=r[n]&&r[n](t.args||{});if(!i)throw new Error("Non-existing filter "+n);var s=Dt({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});He(i,s).appendTo(this.defs)}return e},defineGradient:function(t){if(!Fn(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{type:r,id:i=r+e.id+My(JSON.stringify(t)),stops:s,attrs:a={}}=t;if(this.isDefined(i))return i;const o=xn(s).map(({offset:u,color:c,opacity:f})=>He("stop").attr({offset:u,"stop-color":c,"stop-opacity":Number.isFinite(f)?f:1})),l=He(r,a,o);return l.id=i,l.appendTo(n),i},definePattern:function(t){if(!Fn(t))throw new TypeError("dia.Paper: definePattern() requires 1. argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+My(JSON.stringify(t)),markup:i,attrs:s={}}=t;if(!i)throw new TypeError("dia.Paper: definePattern() requires markup.");if(this.isDefined(r))return r;const a=He("pattern",{patternUnits:"userSpaceOnUse"});if(a.id=r,a.attr(s),typeof i=="string")a.append(He(i));else{const{fragment:o}=Xb(i);a.append(o)}return a.appendTo(n),r},defineMarker:function(t){if(!Fn(t))throw new TypeError("dia.Paper: defineMarker() requires the first argument to be an object.");const{svg:e,defs:n}=this,{id:r=e.id+My(JSON.stringify(t)),markup:i,attrs:s={},markerUnits:a="userSpaceOnUse"}=t;if(this.isDefined(r))return r;const o=He("marker",{orient:"auto",overflow:"visible",markerUnits:a});o.id=r,o.attr(s);let l;if(i){let f;if(typeof i=="string")f=He(i),f=Array.isArray(f)?f:[f];else{const{fragment:d}=Xb(i);f=He(d).children()}f.length>1?l=He("g").append(f):l=f[0]}else{const{type:f="path"}=t;l=He(f)}const u=_h(t,"type","id","markup","attrs","markerUnits");return Object.keys(u).forEach(f=>{const d=u[f],v=l.attr(f);if(v==null)l.attr(f,d);else switch(f){case"transform":l.attr(f,d+" "+v);break}}),l.appendTo(o),o.appendTo(n),r}},{sorting:ad,Layers:so,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=2*n,e.height=2*r;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,-1,e.width,e.height),i.drawImage(t,0,0,n,r),i.setTransform(-1,0,0,1,e.width,0),i.drawImage(t,0,0,n,r),i.setTransform(1,0,0,-1,0,e.height),i.drawImage(t,0,0,n,r),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n*2,e.height=r;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(t,0,0,n,r),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,r=t.height;e.width=n,e.height=r*2;var i=e.getContext("2d");return i.drawImage(t,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(t,0,0,n,r),e},watermark:function(t,e){e=e||{};var n=t.width,r=t.height,i=document.createElement("canvas");i.width=n*3,i.height=r*3;for(var s=i.getContext("2d"),a=ia(e.watermarkAngle)?-e.watermarkAngle:-20,o=ca(a),l=i.width/4,u=i.height/4,c=0;c<4;c++)for(var f=0;f<4;f++)(c+f)%2>0&&(s.setTransform(1,0,0,1,(2*c-1)*l,(2*f-1)*u),s.rotate(o),s.drawImage(t,-n/2,-r/2,n,r));return i}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){He(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;He(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,s=e.thickness;r-s>=0&&i-s>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",He(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,s=e.thickness;r-s>=0&&i-s>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",He(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n,r=e.width,i=e.height,s=e.thickness;r-s>=0&&i-s>=0?n=["M",r,0,"H0 M0 0 V0",i].join(" "):n="M 0 0 0 0",He(t).attr({d:n,stroke:e.color,"stroke-width":e.thickness})}}]}}),Vq=Ic.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this.delegateEvents(),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){},guard:function(t){const{paper:e,relatedView:n}=this;return!e||!n?!0:e.guard(t,n)}}),Bg=Ic.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,isRendered:!1,options:{tools:null,relatedView:null,name:null},configure:function(t){t=Dt(this.options,t);var e=t.tools;if(!Array.isArray(e))return this;var n=t.relatedView;if(!(n instanceof hn))return this;for(var r=this.tools=[],i=0,s=e.length;i<s;i++){var a=e[i];a instanceof Vq&&(a.configure(n,this),this.vel.append(a.el),r.push(a))}return this.isRendered=!1,n.requestUpdate(n.getFlag("TOOLS")),this},getName:function(){return this.options.name},update:function(t){t||(t={});var e=this.tools;if(!e)return this;for(var n=this.isRendered,r=0,i=e.length;r<i;r++){var s=e[r];n?t.tool!==s.cid&&s.isVisible()&&s.update():s.render()}return this.isMounted()||this.mount(),n||(this.blurTool(),this.isRendered=!0),this},focusTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var i=e[n];t===i?i.show():i.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,r=e.length;n<r;n++){var i=e[n];i!==t&&!i.isVisible()&&(i.show(),i.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,n=t.length;e<n;e++)t[e].remove();this.tools=null},mount:function(){const{options:t,el:e}=this,{relatedView:n,layer:r=so.TOOLS,z:i}=t;return n&&(r?n.paper.getLayerView(r).insertSortedNode(e,i):n.el.appendChild(e)),this}}),Vg={exportElement:function(t){return t.size()},exportLink:function(t){var e=t.get("labelSize")||{},n={minLen:t.get("minLen")||1,weight:t.get("weight")||1,labelpos:t.get("labelPosition")||"c",labeloffset:t.get("labelOffset")||0,width:e.width||0,height:e.height||0};return n},importElement:function(t,e,n){var r=this.getCell(e),i=n.node(e);t.setPosition?t.setPosition(r,i):r.set("position",{x:i.x-i.width/2,y:i.y-i.height/2})},importLink:function(t,e,n){const i=this.getCell(e.name),s=n.edge(e),a=s.points||[],o=new hr(a);if(t.setVertices||t.setLinkVertices)if(rr(t.setVertices))t.setVertices(i,a);else{o.simplify({threshold:.001});const l=o.points.map(c=>c.toJSON()),u=l.length;i.set("vertices",l.slice(1,u-1))}if(t.setLabels&&"x"in s&&"y"in s){const l={x:s.x,y:s.y};if(rr(t.setLabels))t.setLabels(i,l,a);else{const u=o.closestPointLength(l),c=o.pointAtLength(u),f=u/o.length(),d=new we(l).difference(c).toJSON();i.label(0,{position:{distance:f,offset:d}})}}},layout:function(t,e){var n;t instanceof $u?n=t:n=new $u().resetCells(t,{dry:!0,sort:!1}),t=null,e=jo(e||{},{resizeClusters:!0,clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});const r=e.dagre||(typeof dagre<"u"?dagre:void 0);if(r===void 0)throw new Error('The the "dagre" utility is a mandatory dependency.');var i=Vg.toGraphLib(n,{graphlib:e.graphlib,directed:!0,multigraph:!0,compound:!0,setNodeLabel:e.exportElement,setEdgeLabel:e.exportLink,setEdgeName:function(c){return c.id}}),s={},a=e.marginX||0,o=e.marginY||0;if(e.rankDir&&(s.rankdir=e.rankDir),e.align&&(s.align=e.align),e.nodeSep&&(s.nodesep=e.nodeSep),e.edgeSep&&(s.edgesep=e.edgeSep),e.rankSep&&(s.ranksep=e.rankSep),e.ranker&&(s.ranker=e.ranker),a&&(s.marginx=a),o&&(s.marginy=o),i.setGraph(s),r.layout(i,{debugTiming:!!e.debugTiming}),n.startBatch("layout"),Vg.fromGraphLib(i,{importNode:this.importElement.bind(n,e),importEdge:this.importLink.bind(n,e)}),e.resizeClusters){var l=i.nodes().filter(function(c){return i.children(c).length>0}).map(n.getCell.bind(n)).sort(function(c,f){return f.getAncestors().length-c.getAncestors().length});Ko(l,"fitToChildren",{padding:e.clusterPadding})}n.stopBatch("layout");var u=i.graph();return new lt(a,o,Math.abs(u.width-2*a),Math.abs(u.height-2*o))},fromGraphLib:function(t,e){e=e||{};var n=e.importNode||Sm,r=e.importEdge||Sm,i=this instanceof $u?this:new $u;return t.nodes().forEach(function(s){n.call(i,s,t,i,e)}),t.edges().forEach(function(s){r.call(i,s,t,i,e)}),i},toGraphLib:function(t,e){e=e||{};const n=e.graphlib||(typeof graphlib<"u"?graphlib:void 0);if(n===void 0)throw new Error('The the "graphlib" utility is a mandatory dependency.');for(var r=mq(e,"directed","compound","multigraph"),i=new n.Graph(r),s=e.setNodeLabel||Sm,a=e.setEdgeLabel||Sm,o=e.setEdgeName||Sm,l=t.get("cells"),u=0,c=l.length;u<c;u++){var f=l.at(u);if(f.isLink()){var d=f.get("source"),v=f.get("target");if(!d.id||!v.id)break;i.setEdge(d.id,v.id,a(f),o(f))}else if(i.setNode(f.id,s(f)),i.isCompound()&&f.has("parent")){var _=f.get("parent");l.has(_)&&i.setParent(f.id,_)}}return i}};$u.prototype.toGraphLib=function(t){return Vg.toGraphLib(this,t)};$u.prototype.fromGraphLib=function(t,e){return Vg.fromGraphLib.call(this,t,e)};const zq={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(typeof n<"u")return n;try{n=e()}catch{n=!1}return this._results[t]=n,n}},vo=gs.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}});vo.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'});Ai.extend({presentationAttributes:Ai.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=Ai.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}});vo.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'});vo.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'});vo.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'});vo.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'});vo.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'});vo.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'});const iqe=vo.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'});iqe.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}});const t1=zq.test("svgforeignobject");vo.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',t1?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),vo.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":Dt({},e),div:{style:Dt({},e)}})},updateContent:function(t,e){t1?this.attr({".content":{html:Fze(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}});Ai.extend({presentationAttributes:t1?Ai.prototype.presentationAttributes:Ai.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=Ai.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n=this.model;if(t1)Ai.prototype.update.call(this,n,e);else{var r=_h(e||n.get("attrs"),".content");Ai.prototype.update.call(this,n,r),(!e||Eu(e,".content"))&&this.updateContent(n,e)}},updateContent:function(t,e){var n=ai({},(e||t.get("attrs"))[".content"]);n=_h(n,"text");var r=vq(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),i=XA({},".content",n,"/");i[".content"].text=r,Ai.prototype.update.call(this,t,i)}});const sqe=gs.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),aqe=gs.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),oqe=gs.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),lqe=gs.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),uqe=gs.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),cqe=gs.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),fqe=gs.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),hqe=gs.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),dqe=gs.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),pqe=gs.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),mqe=gs.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]});var CE=10;const gqe=gs.define("standard.Cylinder",{attrs:{body:{lateralArea:CE,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:CE,refRx:"50%",ry:CE,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(t===void 0)return this.attr("body/lateralArea");var n=Gi(t),r={lateralArea:t},i=n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t};return this.attr({body:r,top:i},e)}},{attributes:{lateralArea:{set:function(t,e){var n=Gi(t);n&&(t=parseFloat(t)/100);var r=e.x,i=e.y,s=e.width,a=e.height,o=s/2,l=n?a*t:t,u=He.KAPPA,c=u*o,f=u*(n?a*t:t),d=r,v=r+s/2,_=r+s,S=i+l,b=S-l,y=i+a-l,A=i+a,R=["M",d,S,"L",d,y,"C",r,y+f,v-c,A,v,A,"C",v+c,A,_,y+f,_,y,"L",_,S,"C",_,S-f,v+c,b,v,b,"C",v-c,b,d,S-f,d,S,"Z"];return{d:R.join(" ")}}}}});var vqe={tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]},yqe={tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},_qe=zq.test("svgforeignobject")?vqe:yqe;const bqe=gs.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},_qe]},{attributes:{text:{set:function(t,e,n,r){if(n instanceof HTMLElement)n.textContent=t;else{var i=r.style||{},s={text:t,width:-5,height:"100%"},a=Dt({textVerticalAnchor:"middle"},i);return wq.textWrap.set.call(this,s,e,n,a),{fill:i.color||null}}},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),Uq=Ph.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),wqe=Ph.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),Sqe=Ph.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),xqe=Object.freeze(Object.defineProperty({__proto__:null,BorderedImage:hqe,Circle:aqe,Cylinder:gqe,DoubleLink:wqe,Ellipse:oqe,EmbeddedImage:dqe,HeaderedRectangle:mqe,Image:fqe,InscribedImage:pqe,Link:Uq,Path:lqe,Polygon:uqe,Polyline:cqe,Rectangle:sqe,ShadowLink:Sqe,TextBlock:bqe},Symbol.toStringTag,{value:"Module"})),qq=vo.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),Eqe=Ai.extend({presentationAttributes:Ai.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:Ai.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(...t){let e=Ai.prototype.confirmUpdate.call(this,...t);return this.hasFlag(e,"TOKENS")&&(this.renderTokens(),this.update(),e=this.removeFlag(e,"TOKENS")),e},renderTokens:function(){const t=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(n){t.removeClass(n)});var e=this.model.get("tokens");if(e)switch(e){case 1:t.addClass("one"),t.append(He("circle"));break;case 2:t.addClass("two"),t.append([He("circle"),He("circle")]);break;case 3:t.addClass("three"),t.append([He("circle"),He("circle"),He("circle")]);break;default:t.addClass("alot"),t.append(He("text").text(e+""));break}}}),Hq=vo.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),$qe=Ph.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}}),Aqe=Object.freeze(Object.defineProperty({__proto__:null,Link:$qe,Place:qq,PlaceView:Eqe,Transition:Hq},Symbol.toStringTag,{value:"Module"}));function Pqe(t,e){const{model:n}=t;return e?n.getBBox():n.isLink()?t.getConnection().bbox():t.getNodeUnrotatedBBox(t.el)}const wh=Vq.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,scale:null,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){return this.position(),this},position:function(){const{vel:t}=this;t.transform(this.getCellMatrix(),{absolute:!0})},getCellMatrix(){return this.relatedView.model.isLink()?this.getLinkMatrix():this.getElementMatrix()},getElementMatrix(){const{relatedView:t,options:e}=this;let{x:n=0,y:r=0,offset:i={},useModelGeometry:s,rotate:a,scale:o}=e,l=Pqe(t,s);const u=t.model.angle();a||(l=l.bbox(u));const{x:c=0,y:f=0}=i;Gi(n)?n=parseFloat(n)/100*l.width:oo(n)&&(n=Number(lo(n,l))),Gi(r)?r=parseFloat(r)/100*l.height:oo(r)&&(r=Number(lo(r,l)));let d=He.createSVGMatrix().translate(l.x+l.width/2,l.y+l.height/2);return a&&(d=d.rotate(u)),d=d.translate(n+c-l.width/2,r+f-l.height/2),o&&(d=d.scale(o)),d},getLinkMatrix(){const{relatedView:t,options:e}=this,{offset:n=0,distance:r=0,rotate:i,scale:s}=e;let a,o,l;Gi(r)?a=t.getTangentAtRatio(parseFloat(r)/100):a=t.getTangentAtLength(r),a?(o=a.start,l=a.vector().vectorAngle(new we(1,0))||0):(o=t.getConnection().start,l=0);let u=He.createSVGMatrix().translate(o.x,o.y).rotate(l).translate(0,n);return i||(u=u.rotate(-l)),s&&(u=u.scale(s)),u},onPointerDown:function(t){if(!this.guard(t)){t.stopPropagation(),t.preventDefault();var e=this.options.action;typeof e=="function"&&e.call(this.relatedView,t,this.relatedView,this)}}});wh.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(t,e,n){e.model.remove({ui:!0,tool:n.cid})}}});const Tqe=wh.extend({name:"connect",documentEvents:{mousemove:"drag",touchmove:"drag",mouseup:"dragend",touchend:"dragend",touchcancel:"dragend"},children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#333333",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}],options:{distance:80,offset:0,magnet:t=>t.el,action:(t,e,n)=>n.dragstart(t)},getMagnetNode:function(){const{options:t,relatedView:e}=this,{magnet:n}=t;let r;switch(typeof n){case"function":{r=n.call(this,e,this);break}case"string":{[r]=e.findBySelector(n);break}default:{r=n;break}}if(r||(r=e.el),r instanceof SVGElement)return r;throw new Error("Connect: magnet must be an SVGElement")},dragstart:function(t){const{paper:e,relatedView:n}=this,r=si(t),{x:i,y:s}=e.clientToLocalPoint(r.clientX,r.clientY);n.dragLinkStart(r,this.getMagnetNode(),i,s),e.undelegateEvents(),this.delegateDocumentEvents(null,r.data),this.focus()},drag:function(t){const{paper:e,relatedView:n}=this,r=si(t),{x:i,y:s}=e.snapToGrid(r.clientX,r.clientY);n.dragLink(r,i,s)},dragend:function(t){const{paper:e,relatedView:n}=this,r=si(t),{x:i,y:s}=e.snapToGrid(r.clientX,r.clientY);n.dragLinkEnd(r,i,s),this.undelegateDocumentEvents(),e.delegateEvents(),this.blur(),n.checkMouseleave(r)}});class Cqe extends Uq{constructor(e,n,r,i){super({source:{id:e,selector:".root"},target:{id:n,selector:".root"},attrs:{".connection":{fill:"none","stroke-linejoin":"round","stroke-width":"2",stroke:"#4b4a67"}}}),this.set("id",r),this.prop("jsonnetsType",i)}addInteractionTools(e){const n=new wh({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:30,action:()=>{Sb(String(this.id))}}),r=new wh({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"green",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:70,action:()=>{const a=sl();this.get("jsonnetsType")==="preset"?a.updateInspector(RH,this.id):this.get("jsonnetsType")==="postset"&&a.updateInspector(MH,this.id)}}),i=new Bg({tools:[n,r]});let s=this.findView(e);s.addTools(i),s.hideTools()}}class Wq extends wh{constructor(e,n){super({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],useModelGeometry:!0,x:e,y:"100%",offset:{x:0,y:0},rotate:!0,action:function(){n.get("jsonnetsType")==="place"?XV(String(n.id)):n.get("jsonnetsType")==="transition"&&t6(String(n.id))}})}}class Gq extends wh{constructor(e,n){super({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"green",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -2 4 2 4 M 0 3 0 0 M -2 -1 1 -1 M -1 -4 1 -4",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],useModelGeometry:!0,x:e,y:"100%",offset:{x:0,y:0},rotate:!0,action:()=>{const r=sl();n.get("jsonnetsType")==="place"?r.updateInspector(OH,n.id):n.get("jsonnetsType")==="transition"&&r.updateInspector(kH,n.id)}})}}class Kq extends Tqe{constructor(){super({x:"100%",y:"50%",useModelGeometry:!0,markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#7a7e9b",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -4 -1 L 0 -1 L 0 -4 L 4 0 L 0 4 0 1 -4 1 z",fill:"#FFFFFF",stroke:"none","stroke-width":2,"pointer-events":"none"}}]})}}class kqe extends qq{constructor(e,n,r,i){super({position:{x:e-25,y:n-25},attrs:{".label":{text:r,fill:"#7a7e9b"},".root":{stroke:"hsl(204, 71%, 39%)","stroke-width":3},".tokens > circle":{fill:"#7a7e9b"},".alot > text":{fill:"#7a7e9b","font-family":"Courier New","font-size":20,"font-weight":"bold","ref-x":.5,"ref-y":.5,"y-alignment":-.5}},tokens:0}),this.set("id",i),this.prop("jsonnetsType","place")}addInteractionTools(e){const n="25%",r="75%",i=new Wq(n,this),s=new Gq(r,this),a=new Bg({tools:[i,s]}),o=this.findView(e);o.addTools(a),o.hideTools()}addConnectTools(e){const n=new Kq,r=new Bg({tools:[n]}),i=this.findView(e);i.addTools(r),i.hideTools()}}class Oqe extends Hq{constructor(e,n,r,i){super({position:{x:e-25,y:n-25},attrs:{".label":{text:r,fill:"#7a7e9b"},".root":{fill:"hsl(204, 71%, 39%)",stroke:"hsl(0, 0%, 21%)"}}}),this.set("id",i),this.prop("jsonnetsType","transition"),this.resize(100,50)}addInteractionTools(e){const n="0%",r="100%",i=new Wq(n,this),s=new Gq(r,this),a=new wh({markup:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"blue",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M75,5 l-60,0 0,90 M15,45 l50,0",transform:"translate(-3,-3) scale(0.09)",fill:"none",stroke:"white","stroke-width":20,cursor:"pointer"}}],useModelGeometry:!0,x:"50%",y:"100%",offset:{x:0,y:0},rotate:!0,action:()=>{r6(String(this.id))}}),o=new Bg({tools:[i,s,a]}),l=this.findView(e);l.addTools(o),l.hideTools()}addConnectTools(e){const n=new Kq,r=new Bg({tools:[n]}),i=this.findView(e);i.addTools(r),i.hideTools()}}var Rqe="\0",kf="\0",WF="",ea,Zf,Aa,Ug,Vd,zd,eo,Al,vc,Pl,yc,vu,yu,Ud,qd,_u,Fo,qg,aP,c4;let Mqe=(c4=class{constructor(e){Rr(this,qg);Rr(this,ea,!0);Rr(this,Zf,!1);Rr(this,Aa,!1);Rr(this,Ug,void 0);Rr(this,Vd,()=>{});Rr(this,zd,()=>{});Rr(this,eo,{});Rr(this,Al,{});Rr(this,vc,{});Rr(this,Pl,{});Rr(this,yc,{});Rr(this,vu,{});Rr(this,yu,{});Rr(this,Ud,0);Rr(this,qd,0);Rr(this,_u,void 0);Rr(this,Fo,void 0);e&&(Za(this,ea,e.hasOwnProperty("directed")?e.directed:!0),Za(this,Zf,e.hasOwnProperty("multigraph")?e.multigraph:!1),Za(this,Aa,e.hasOwnProperty("compound")?e.compound:!1)),it(this,Aa)&&(Za(this,_u,{}),Za(this,Fo,{}),it(this,Fo)[kf]={})}isDirected(){return it(this,ea)}isMultigraph(){return it(this,Zf)}isCompound(){return it(this,Aa)}setGraph(e){return Za(this,Ug,e),this}graph(){return it(this,Ug)}setDefaultNodeLabel(e){return Za(this,Vd,e),typeof e!="function"&&Za(this,Vd,()=>e),this}nodeCount(){return it(this,Ud)}nodes(){return Object.keys(it(this,eo))}sources(){var e=this;return this.nodes().filter(n=>Object.keys(it(e,Al)[n]).length===0)}sinks(){var e=this;return this.nodes().filter(n=>Object.keys(it(e,Pl)[n]).length===0)}setNodes(e,n){var r=arguments,i=this;return e.forEach(function(s){r.length>1?i.setNode(s,n):i.setNode(s)}),this}setNode(e,n){return it(this,eo).hasOwnProperty(e)?(arguments.length>1&&(it(this,eo)[e]=n),this):(it(this,eo)[e]=arguments.length>1?n:it(this,Vd).call(this,e),it(this,Aa)&&(it(this,_u)[e]=kf,it(this,Fo)[e]={},it(this,Fo)[kf][e]=!0),it(this,Al)[e]={},it(this,vc)[e]={},it(this,Pl)[e]={},it(this,yc)[e]={},++sm(this,Ud)._,this)}node(e){return it(this,eo)[e]}hasNode(e){return it(this,eo).hasOwnProperty(e)}removeNode(e){var n=this;if(it(this,eo).hasOwnProperty(e)){var r=i=>n.removeEdge(it(n,vu)[i]);delete it(this,eo)[e],it(this,Aa)&&(_l(this,qg,aP).call(this,e),delete it(this,_u)[e],this.children(e).forEach(function(i){n.setParent(i)}),delete it(this,Fo)[e]),Object.keys(it(this,Al)[e]).forEach(r),delete it(this,Al)[e],delete it(this,vc)[e],Object.keys(it(this,Pl)[e]).forEach(r),delete it(this,Pl)[e],delete it(this,yc)[e],--sm(this,Ud)._}return this}setParent(e,n){if(!it(this,Aa))throw new Error("Cannot set parent in a non-compound graph");if(n===void 0)n=kf;else{n+="";for(var r=n;r!==void 0;r=this.parent(r))if(r===e)throw new Error("Setting "+n+" as parent of "+e+" would create a cycle");this.setNode(n)}return this.setNode(e),_l(this,qg,aP).call(this,e),it(this,_u)[e]=n,it(this,Fo)[n][e]=!0,this}parent(e){if(it(this,Aa)){var n=it(this,_u)[e];if(n!==kf)return n}}children(e=kf){if(it(this,Aa)){var n=it(this,Fo)[e];if(n)return Object.keys(n)}else{if(e===kf)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var n=it(this,vc)[e];if(n)return Object.keys(n)}successors(e){var n=it(this,yc)[e];if(n)return Object.keys(n)}neighbors(e){var n=this.predecessors(e);if(n){const i=new Set(n);for(var r of this.successors(e))i.add(r);return Array.from(i.values())}}isLeaf(e){var n;return this.isDirected()?n=this.successors(e):n=this.neighbors(e),n.length===0}filterNodes(e){var n=new this.constructor({directed:it(this,ea),multigraph:it(this,Zf),compound:it(this,Aa)});n.setGraph(this.graph());var r=this;Object.entries(it(this,eo)).forEach(function([a,o]){e(a)&&n.setNode(a,o)}),Object.values(it(this,vu)).forEach(function(a){n.hasNode(a.v)&&n.hasNode(a.w)&&n.setEdge(a,r.edge(a))});var i={};function s(a){var o=r.parent(a);return o===void 0||n.hasNode(o)?(i[a]=o,o):o in i?i[o]:s(o)}return it(this,Aa)&&n.nodes().forEach(a=>n.setParent(a,s(a))),n}setDefaultEdgeLabel(e){return Za(this,zd,e),typeof e!="function"&&Za(this,zd,()=>e),this}edgeCount(){return it(this,qd)}edges(){return Object.values(it(this,vu))}setPath(e,n){var r=this,i=arguments;return e.reduce(function(s,a){return i.length>1?r.setEdge(s,a,n):r.setEdge(s,a),a}),this}setEdge(){var e,n,r,i,s=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,n=a.w,r=a.name,arguments.length===2&&(i=arguments[1],s=!0)):(e=a,n=arguments[1],r=arguments[3],arguments.length>2&&(i=arguments[2],s=!0)),e=""+e,n=""+n,r!==void 0&&(r=""+r);var o=Im(it(this,ea),e,n,r);if(it(this,yu).hasOwnProperty(o))return s&&(it(this,yu)[o]=i),this;if(r!==void 0&&!it(this,Zf))throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(n),it(this,yu)[o]=s?i:it(this,zd).call(this,e,n,r);var l=Nqe(it(this,ea),e,n,r);return e=l.v,n=l.w,Object.freeze(l),it(this,vu)[o]=l,GF(it(this,vc)[n],e),GF(it(this,yc)[e],n),it(this,Al)[n][o]=l,it(this,Pl)[e][o]=l,sm(this,qd)._++,this}edge(e,n,r){var i=arguments.length===1?kE(it(this,ea),arguments[0]):Im(it(this,ea),e,n,r);return it(this,yu)[i]}edgeAsObj(){const e=this.edge(...arguments);return typeof e!="object"?{label:e}:e}hasEdge(e,n,r){var i=arguments.length===1?kE(it(this,ea),arguments[0]):Im(it(this,ea),e,n,r);return it(this,yu).hasOwnProperty(i)}removeEdge(e,n,r){var i=arguments.length===1?kE(it(this,ea),arguments[0]):Im(it(this,ea),e,n,r),s=it(this,vu)[i];return s&&(e=s.v,n=s.w,delete it(this,yu)[i],delete it(this,vu)[i],KF(it(this,vc)[n],e),KF(it(this,yc)[e],n),delete it(this,Al)[n][i],delete it(this,Pl)[e][i],sm(this,qd)._--),this}inEdges(e,n){var r=it(this,Al)[e];if(r){var i=Object.values(r);return n?i.filter(s=>s.v===n):i}}outEdges(e,n){var r=it(this,Pl)[e];if(r){var i=Object.values(r);return n?i.filter(s=>s.w===n):i}}nodeEdges(e,n){var r=this.inEdges(e,n);if(r)return r.concat(this.outEdges(e,n))}},ea=new WeakMap,Zf=new WeakMap,Aa=new WeakMap,Ug=new WeakMap,Vd=new WeakMap,zd=new WeakMap,eo=new WeakMap,Al=new WeakMap,vc=new WeakMap,Pl=new WeakMap,yc=new WeakMap,vu=new WeakMap,yu=new WeakMap,Ud=new WeakMap,qd=new WeakMap,_u=new WeakMap,Fo=new WeakMap,qg=new WeakSet,aP=function(e){delete it(this,Fo)[it(this,_u)[e]][e]},c4);function GF(t,e){t[e]?t[e]++:t[e]=1}function KF(t,e){--t[e]||delete t[e]}function Im(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}return i+WF+s+WF+(r===void 0?Rqe:r)}function Nqe(t,e,n,r){var i=""+e,s=""+n;if(!t&&i>s){var a=i;i=s,s=a}var o={v:i,w:s};return r&&(o.name=r),o}function kE(t,e){return Im(t,e.v,e.w,e.name)}var Vk=Mqe,Iqe="2.1.13",Dqe={Graph:Vk,version:Iqe},Lqe=Vk,Fqe={write:jqe,read:zqe};function jqe(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:Bqe(t),edges:Vqe(t)};return t.graph()!==void 0&&(e.value=structuredClone(t.graph())),e}function Bqe(t){return t.nodes().map(function(e){var n=t.node(e),r=t.parent(e),i={v:e};return n!==void 0&&(i.value=n),r!==void 0&&(i.parent=r),i})}function Vqe(t){return t.edges().map(function(e){var n=t.edge(e),r={v:e.v,w:e.w};return e.name!==void 0&&(r.name=e.name),n!==void 0&&(r.value=n),r})}function zqe(t){var e=new Lqe(t.options).setGraph(t.value);return t.nodes.forEach(function(n){e.setNode(n.v,n.value),n.parent&&e.setParent(n.v,n.parent)}),t.edges.forEach(function(n){e.setEdge({v:n.v,w:n.w,name:n.name},n.value)}),e}var Uqe=qqe;function qqe(t){var e={},n=[],r;function i(s){e.hasOwnProperty(s)||(e[s]=!0,r.push(s),t.successors(s).forEach(i),t.predecessors(s).forEach(i))}return t.nodes().forEach(function(s){r=[],i(s),r.length&&n.push(r)}),n}var as,bu,Hg,oP,Wg,lP,Hd,x_,f4;let Hqe=(f4=class{constructor(){Rr(this,Hg);Rr(this,Wg);Rr(this,Hd);Rr(this,as,[]);Rr(this,bu,{})}size(){return it(this,as).length}keys(){return it(this,as).map(function(e){return e.key})}has(e){return it(this,bu).hasOwnProperty(e)}priority(e){var n=it(this,bu)[e];if(n!==void 0)return it(this,as)[n].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return it(this,as)[0].key}add(e,n){var r=it(this,bu);if(e=String(e),!r.hasOwnProperty(e)){var i=it(this,as),s=i.length;return r[e]=s,i.push({key:e,priority:n}),_l(this,Wg,lP).call(this,s),!0}return!1}removeMin(){_l(this,Hd,x_).call(this,0,it(this,as).length-1);var e=it(this,as).pop();return delete it(this,bu)[e.key],_l(this,Hg,oP).call(this,0),e.key}decrease(e,n){var r=it(this,bu)[e];if(n>it(this,as)[r].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+it(this,as)[r].priority+" New: "+n);it(this,as)[r].priority=n,_l(this,Wg,lP).call(this,r)}},as=new WeakMap,bu=new WeakMap,Hg=new WeakSet,oP=function(e){var n=it(this,as),r=2*e,i=r+1,s=e;r<n.length&&(s=n[r].priority<n[s].priority?r:s,i<n.length&&(s=n[i].priority<n[s].priority?i:s),s!==e&&(_l(this,Hd,x_).call(this,e,s),_l(this,Hg,oP).call(this,s)))},Wg=new WeakSet,lP=function(e){for(var n=it(this,as),r=n[e].priority,i;e!==0&&(i=e>>1,!(n[i].priority<r));)_l(this,Hd,x_).call(this,e,i),e=i},Hd=new WeakSet,x_=function(e,n){var r=it(this,as),i=it(this,bu),s=r[e],a=r[n];r[e]=a,r[n]=s,i[a.key]=e,i[s.key]=n},f4);var Yq=Hqe,Wqe=Yq,Jq=Kqe,Gqe=()=>1;function Kqe(t,e,n,r){return Yqe(t,String(e),n||Gqe,r||function(i){return t.outEdges(i)})}function Yqe(t,e,n,r){var i={},s=new Wqe,a,o,l=function(u){var c=u.v!==a?u.v:u.w,f=i[c],d=n(u),v=o.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+u+" Weight: "+d);v<f.distance&&(f.distance=v,f.predecessor=a,s.decrease(c,v))};for(t.nodes().forEach(function(u){var c=u===e?0:Number.POSITIVE_INFINITY;i[u]={distance:c},s.add(u,c)});s.size()>0&&(a=s.removeMin(),o=i[a],o.distance!==Number.POSITIVE_INFINITY);)r(a).forEach(l);return i}var Jqe=Jq,Xqe=Qqe;function Qqe(t,e,n){return t.nodes().reduce(function(r,i){return r[i]=Jqe(t,i,e,n),r},{})}var Xq=Zqe;function Zqe(t){var e=0,n=[],r={},i=[];function s(a){var o=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(c){r.hasOwnProperty(c)?r[c].onStack&&(o.lowlink=Math.min(o.lowlink,r[c].index)):(s(c),o.lowlink=Math.min(o.lowlink,r[c].lowlink))}),o.lowlink===o.index){var l=[],u;do u=n.pop(),r[u].onStack=!1,l.push(u);while(a!==u);i.push(l)}}return t.nodes().forEach(function(a){r.hasOwnProperty(a)||s(a)}),i}var eHe=Xq,tHe=nHe;function nHe(t){return eHe(t).filter(function(e){return e.length>1||e.length===1&&t.hasEdge(e[0],e[0])})}var rHe=sHe,iHe=()=>1;function sHe(t,e,n){return aHe(t,e||iHe,n||function(r){return t.outEdges(r)})}function aHe(t,e,n){var r={},i=t.nodes();return i.forEach(function(s){r[s]={},r[s][s]={distance:0},i.forEach(function(a){s!==a&&(r[s][a]={distance:Number.POSITIVE_INFINITY})}),n(s).forEach(function(a){var o=a.v===s?a.w:a.v,l=e(a);r[s][o]={distance:l,predecessor:s}})}),i.forEach(function(s){var a=r[s];i.forEach(function(o){var l=r[o];i.forEach(function(u){var c=l[s],f=a[u],d=l[u],v=c.distance+f.distance;v<d.distance&&(d.distance=v,d.predecessor=f.predecessor)})})}),r}function Qq(t){var e={},n={},r=[];function i(s){if(n.hasOwnProperty(s))throw new uP;e.hasOwnProperty(s)||(n[s]=!0,e[s]=!0,t.predecessors(s).forEach(i),delete n[s],r.push(s))}if(t.sinks().forEach(i),Object.keys(e).length!==t.nodeCount())throw new uP;return r}class uP extends Error{constructor(){super(...arguments)}}var Zq=Qq;Qq.CycleException=uP;var YF=Zq,oHe=lHe;function lHe(t){try{YF(t)}catch(e){if(e instanceof YF.CycleException)return!1;throw e}return!0}var eH=uHe;function uHe(t,e,n){Array.isArray(e)||(e=[e]);var r=t.isDirected()?o=>t.successors(o):o=>t.neighbors(o),i=n==="post"?cHe:fHe,s=[],a={};return e.forEach(o=>{if(!t.hasNode(o))throw new Error("Graph does not have node: "+o);i(o,r,a,s)}),s}function cHe(t,e,n,r){for(var i=[[t,!1]];i.length>0;){var s=i.pop();s[1]?r.push(s[0]):n.hasOwnProperty(s[0])||(n[s[0]]=!0,i.push([s[0],!0]),tH(e(s[0]),a=>i.push([a,!1])))}}function fHe(t,e,n,r){for(var i=[t];i.length>0;){var s=i.pop();n.hasOwnProperty(s)||(n[s]=!0,r.push(s),tH(e(s),a=>i.push(a)))}}function tH(t,e){for(var n=t.length;n--;)e(t[n],n,t);return t}var hHe=eH,dHe=pHe;function pHe(t,e){return hHe(t,e,"post")}var mHe=eH,gHe=vHe;function vHe(t,e){return mHe(t,e,"pre")}var yHe=Vk,_He=Yq,bHe=wHe;function wHe(t,e){var n=new yHe,r={},i=new _He,s;function a(l){var u=l.v===s?l.w:l.v,c=i.priority(u);if(c!==void 0){var f=e(l);f<c&&(r[u]=s,i.decrease(u,f))}}if(t.nodeCount()===0)return n;t.nodes().forEach(function(l){i.add(l,Number.POSITIVE_INFINITY),n.setNode(l)}),i.decrease(t.nodes()[0],0);for(var o=!1;i.size()>0;){if(s=i.removeMin(),r.hasOwnProperty(s))n.setEdge(s,r[s]);else{if(o)throw new Error("Input graph is not connected: "+t);o=!0}t.nodeEdges(s).forEach(a)}return n}var SHe={components:Uqe,dijkstra:Jq,dijkstraAll:Xqe,findCycles:tHe,floydWarshall:rHe,isAcyclic:oHe,postorder:dHe,preorder:gHe,prim:bHe,tarjan:Xq,topsort:Zq},JF=Dqe,La={Graph:JF.Graph,json:Fqe,alg:SHe,version:JF.version};const xHe=Tr(La),EHe=h4({__proto__:null,default:xHe},[La]);var $He=Lw;function Lw(){var t={};t._next=t._prev=t,this._sentinel=t}Lw.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return nH(e),e};Lw.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&nH(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e};Lw.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,AHe)),n=n._prev;return"["+t.join(", ")+"]"};function nH(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function AHe(t,e){if(t!=="_next"&&t!=="_prev")return e}var PHe=La.Graph,THe=$He,CHe=OHe,kHe=()=>1;function OHe(t,e){if(t.nodeCount()<=1)return[];var n=MHe(t,e||kHe),r=RHe(n.graph,n.buckets,n.zeroIdx);return r.flatMap(i=>t.outEdges(i.v,i.w))}function RHe(t,e,n){for(var r=[],i=e[e.length-1],s=e[0],a;t.nodeCount();){for(;a=s.dequeue();)OE(t,e,n,a);for(;a=i.dequeue();)OE(t,e,n,a);if(t.nodeCount()){for(var o=e.length-2;o>0;--o)if(a=e[o].dequeue(),a){r=r.concat(OE(t,e,n,a,!0));break}}}return r}function OE(t,e,n,r,i){var s=i?[]:void 0;return t.inEdges(r.v).forEach(function(a){var o=t.edge(a),l=t.node(a.v);i&&s.push({v:a.v,w:a.w}),l.out-=o,cP(e,n,l)}),t.outEdges(r.v).forEach(function(a){var o=t.edge(a),l=a.w,u=t.node(l);u.in-=o,cP(e,n,u)}),t.removeNode(r.v),s}function MHe(t,e){var n=new PHe,r=0,i=0;t.nodes().forEach(function(o){n.setNode(o,{v:o,in:0,out:0})}),t.edges().forEach(function(o){var l=n.edge(o.v,o.w)||0,u=e(o),c=l+u;n.setEdge(o.v,o.w,c),i=Math.max(i,n.node(o.v).out+=u),r=Math.max(r,n.node(o.w).in+=u)});var s=NHe(i+r+3).map(()=>new THe),a=r+1;return n.nodes().forEach(function(o){cP(s,a,n.node(o))}),{graph:n,buckets:s,zeroIdx:a}}function cP(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}function NHe(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}var rH=La.Graph,bi={addBorderNode:UHe,addDummyNode:iH,asNonCompoundGraph:DHe,buildLayerMatrix:BHe,intersectRect:jHe,mapValues:YHe,maxRank:sH,normalizeRanks:VHe,notime:WHe,partition:qHe,pick:KHe,predecessorWeights:FHe,range:oH,removeEmptyRanks:zHe,simplify:IHe,successorWeights:LHe,time:HHe,uniqueId:aH,zipObject:zk};function iH(t,e,n,r){var i;do i=aH(r);while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function IHe(t){var e=new rH().setGraph(t.graph());return t.nodes().forEach(n=>e.setNode(n,t.node(n))),t.edges().forEach(n=>{var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function DHe(t){var e=new rH({multigraph:t.isMultigraph()}).setGraph(t.graph());return t.nodes().forEach(n=>{t.children(n).length||e.setNode(n,t.node(n))}),t.edges().forEach(n=>{e.setEdge(n,t.edge(n))}),e}function LHe(t){var e=t.nodes().map(n=>{var r={};return t.outEdges(n).forEach(i=>{r[i.w]=(r[i.w]||0)+t.edge(i).weight}),r});return zk(t.nodes(),e)}function FHe(t){var e=t.nodes().map(n=>{var r={};return t.inEdges(n).forEach(i=>{r[i.v]=(r[i.v]||0)+t.edge(i).weight}),r});return zk(t.nodes(),e)}function jHe(t,e){var n=t.x,r=t.y,i=e.x-n,s=e.y-r,a=t.width/2,o=t.height/2;if(!i&&!s)throw new Error("Not possible to find intersection inside of the rectangle");var l,u;return Math.abs(s)*a>Math.abs(i)*o?(s<0&&(o=-o),l=o*i/s,u=o):(i<0&&(a=-a),l=a,u=a*s/i),{x:n+l,y:r+u}}function BHe(t){var e=oH(sH(t)+1).map(()=>[]);return t.nodes().forEach(n=>{var r=t.node(n),i=r.rank;i!==void 0&&(e[i][r.order]=n)}),e}function VHe(t){var e=Math.min(...t.nodes().map(n=>{var r=t.node(n).rank;return r===void 0?Number.MAX_VALUE:r}));t.nodes().forEach(n=>{var r=t.node(n);r.hasOwnProperty("rank")&&(r.rank-=e)})}function zHe(t){var e=Math.min(...t.nodes().map(s=>t.node(s).rank)),n=[];t.nodes().forEach(s=>{var a=t.node(s).rank-e;n[a]||(n[a]=[]),n[a].push(s)});var r=0,i=t.graph().nodeRankFactor;Array.from(n).forEach((s,a)=>{s===void 0&&a%i!==0?--r:s!==void 0&&r&&s.forEach(o=>t.node(o).rank+=r)})}function UHe(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),iH(t,"border",i,e)}function sH(t){return Math.max(...t.nodes().map(e=>{var n=t.node(e).rank;return n===void 0?Number.MIN_VALUE:n}))}function qHe(t,e){var n={lhs:[],rhs:[]};return t.forEach(r=>{e(r)?n.lhs.push(r):n.rhs.push(r)}),n}function HHe(t,e){var n=Date.now();try{return e()}finally{console.log(t+" time: "+(Date.now()-n)+"ms")}}function WHe(t,e){return e()}let GHe=0;function aH(t){var e=++GHe;return toString(t)+e}function oH(t,e,n=1){e==null&&(e=t,t=0);let r=s=>s<e;n<0&&(r=s=>e<s);const i=[];for(let s=t;r(s);s+=n)i.push(s);return i}function KHe(t,e){const n={};for(const r of e)t[r]!==void 0&&(n[r]=t[r]);return n}function YHe(t,e){let n=e;return typeof e=="string"&&(n=r=>r[e]),Object.entries(t).reduce((r,[i,s])=>(r[i]=n(s,i),r),{})}function zk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}var JHe=CHe,XHe=bi.uniqueId,QHe={run:ZHe,undo:tWe};function ZHe(t){var e=t.graph().acyclicer==="greedy"?JHe(t,n(t)):eWe(t);e.forEach(function(r){var i=t.edge(r);t.removeEdge(r),i.forwardName=r.name,i.reversed=!0,t.setEdge(r.w,r.v,i,XHe("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function eWe(t){var e=[],n={},r={};function i(s){r.hasOwnProperty(s)||(r[s]=!0,n[s]=!0,t.outEdges(s).forEach(function(a){n.hasOwnProperty(a.w)?e.push(a):i(a.w)}),delete n[s])}return t.nodes().forEach(i),e}function tWe(t){t.edges().forEach(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}var nWe=bi,rWe={run:iWe,undo:aWe};function iWe(t){t.graph().dummyChains=[],t.edges().forEach(e=>sWe(t,e))}function sWe(t,e){var n=e.v,r=t.node(n).rank,i=e.w,s=t.node(i).rank,a=e.name,o=t.edge(e),l=o.labelRank;if(s!==r+1){t.removeEdge(e);var u,c,f;for(f=0,++r;r<s;++f,++r)o.points=[],c={width:0,height:0,edgeLabel:o,edgeObj:e,rank:r},u=nWe.addDummyNode(t,"edge",c,"_d"),r===l&&(c.width=o.width,c.height=o.height,c.dummy="edge-label",c.labelpos=o.labelpos),t.setEdge(n,u,{weight:o.weight},a),f===0&&t.graph().dummyChains.push(u),n=u;t.setEdge(n,i,{weight:o.weight},a)}}function aWe(t){t.graph().dummyChains.forEach(function(e){var n=t.node(e),r=n.edgeLabel,i;for(t.setEdge(n.edgeObj,r);n.dummy;)i=t.successors(e)[0],t.removeNode(e),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),e=i,n=t.node(e)})}var Fw={longestPath:oWe,slack:lWe};function oWe(t){var e={};function n(r){var i=t.node(r);if(e.hasOwnProperty(r))return i.rank;e[r]=!0;var s=Math.min(...t.outEdges(r).map(a=>a==null?Number.POSITIVE_INFINITY:n(a.w)-t.edge(a).minlen));return s===Number.POSITIVE_INFINITY&&(s=0),i.rank=s}t.sources().forEach(n)}function lWe(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var uWe=La.Graph,n1=Fw.slack,lH=cWe;function cWe(t){var e=new uWe({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var i,s;fWe(e,t)<r;)i=hWe(e,t),s=e.hasNode(i.v)?n1(t,i):-n1(t,i),dWe(e,t,s);return e}function fWe(t,e){function n(r){e.nodeEdges(r).forEach(function(i){var s=i.v,a=r===s?i.w:s;!t.hasNode(a)&&!n1(e,i)&&(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}return t.nodes().forEach(n),t.nodeCount()}function hWe(t,e){return e.edges().reduce((r,i)=>{let s=Number.POSITIVE_INFINITY;return t.hasNode(i.v)!==t.hasNode(i.w)&&(s=n1(e,i)),s<r[0]?[s,i]:r},[Number.POSITIVE_INFINITY,null])[1]}function dWe(t,e,n){t.nodes().forEach(r=>e.node(r).rank+=n)}var pWe=lH,XF=Fw.slack,mWe=Fw.longestPath,gWe=La.alg.preorder,vWe=La.alg.postorder,yWe=bi.simplify,_We=Ch;Ch.initLowLimValues=qk;Ch.initCutValues=Uk;Ch.calcCutValue=uH;Ch.leaveEdge=fH;Ch.enterEdge=hH;Ch.exchangeEdges=dH;function Ch(t){t=yWe(t),mWe(t);var e=pWe(t);qk(e),Uk(e,t);for(var n,r;n=fH(e);)r=hH(e,t,n),dH(e,t,n,r)}function Uk(t,e){var n=vWe(t,t.nodes());n=n.slice(0,n.length-1),n.forEach(r=>bWe(t,e,r))}function bWe(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=uH(t,e,n)}function uH(t,e,n){var r=t.node(n),i=r.parent,s=!0,a=e.edge(n,i),o=0;return a||(s=!1,a=e.edge(i,n)),o=a.weight,e.nodeEdges(n).forEach(function(l){var u=l.v===n,c=u?l.w:l.v;if(c!==i){var f=u===s,d=e.edge(l).weight;if(o+=f?d:-d,SWe(t,n,c)){var v=t.edge(n,c).cutvalue;o+=f?-v:v}}}),o}function qk(t,e){arguments.length<2&&(e=t.nodes()[0]),cH(t,{},1,e)}function cH(t,e,n,r,i){var s=n,a=t.node(r);return e[r]=!0,t.neighbors(r).forEach(function(o){e.hasOwnProperty(o)||(n=cH(t,e,n,o,r))}),a.low=s,a.lim=n++,i?a.parent=i:delete a.parent,n}function fH(t){return t.edges().find(e=>t.edge(e).cutvalue<0)}function hH(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var s=t.node(r),a=t.node(i),o=s,l=!1;s.lim>a.lim&&(o=a,l=!0);var u=e.edges().filter(function(c){return l===QF(t,t.node(c.v),o)&&l!==QF(t,t.node(c.w),o)});return u.reduce((c,f)=>XF(e,f)<XF(e,c)?f:c)}function dH(t,e,n,r){var i=n.v,s=n.w;t.removeEdge(i,s),t.setEdge(r.v,r.w,{}),qk(t),Uk(t,e),wWe(t,e)}function wWe(t,e){var n=t.nodes().find(i=>!e.node(i).parent),r=gWe(t,n);r=r.slice(1),r.forEach(function(i){var s=t.node(i).parent,a=e.edge(i,s),o=!1;a||(a=e.edge(s,i),o=!0),e.node(i).rank=e.node(s).rank+(o?a.minlen:-a.minlen)})}function SWe(t,e,n){return t.hasEdge(e,n)}function QF(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var xWe=Fw,pH=xWe.longestPath,EWe=lH,$We=_We,AWe=PWe;function PWe(t){switch(t.graph().ranker){case"network-simplex":ZF(t);break;case"tight-tree":CWe(t);break;case"longest-path":TWe(t);break;default:ZF(t)}}var TWe=pH;function CWe(t){pH(t),EWe(t)}function ZF(t){$We(t)}var kWe=OWe;function OWe(t){var e=MWe(t);t.graph().dummyChains.forEach(function(n){for(var r=t.node(n),i=r.edgeObj,s=RWe(t,e,i.v,i.w),a=s.path,o=s.lca,l=0,u=a[l],c=!0;n!==i.w;){if(r=t.node(n),c){for(;(u=a[l])!==o&&t.node(u).maxRank<r.rank;)l++;u===o&&(c=!1)}if(!c){for(;l<a.length-1&&t.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}t.setParent(n,u),n=t.successors(n)[0]}})}function RWe(t,e,n,r){var i=[],s=[],a=Math.min(e[n].low,e[r].low),o=Math.max(e[n].lim,e[r].lim),l,u;l=n;do l=t.parent(l),i.push(l);while(l&&(e[l].low>a||o>e[l].lim));for(u=l,l=r;(l=t.parent(l))!==u;)s.push(l);return{path:i.concat(s.reverse()),lca:u}}function MWe(t){var e={},n=0;function r(i){var s=n;t.children(i).forEach(r),e[i]={low:s,lim:n++}}return t.children().forEach(r),e}var fP=bi,NWe={run:IWe,cleanup:FWe};function IWe(t){var e=fP.addDummyNode(t,"root",{},"_root"),n=DWe(t),r=Math.max(...Object.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,t.edges().forEach(a=>t.edge(a).minlen*=i);var s=LWe(t)+1;t.children().forEach(function(a){mH(t,e,i,s,r,n,a)}),t.graph().nodeRankFactor=i}function mH(t,e,n,r,i,s,a){var o=t.children(a);if(!o.length){a!==e&&t.setEdge(e,a,{weight:0,minlen:n});return}var l=fP.addBorderNode(t,"_bt"),u=fP.addBorderNode(t,"_bb"),c=t.node(a);t.setParent(l,a),c.borderTop=l,t.setParent(u,a),c.borderBottom=u,o.forEach(function(f){mH(t,e,n,r,i,s,f);var d=t.node(f),v=d.borderTop?d.borderTop:f,_=d.borderBottom?d.borderBottom:f,S=d.borderTop?r:2*r,b=v!==_?1:i-s[a]+1;t.setEdge(l,v,{weight:S,minlen:b,nestingEdge:!0}),t.setEdge(_,u,{weight:S,minlen:b,nestingEdge:!0})}),t.parent(a)||t.setEdge(e,l,{weight:0,minlen:i+s[a]})}function DWe(t){var e={};function n(r,i){var s=t.children(r);s&&s.length&&s.forEach(a=>n(a,i+1)),e[r]=i}return t.children().forEach(r=>n(r,1)),e}function LWe(t){return t.edges().reduce((e,n)=>e+t.edge(n).weight,0)}function FWe(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,t.edges().forEach(n=>{var r=t.edge(n);r.nestingEdge&&t.removeEdge(n)})}var jWe=bi,BWe=VWe;function VWe(t){function e(n){var r=t.children(n),i=t.node(n);if(r.length&&r.forEach(e),i.hasOwnProperty("minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,a=i.maxRank+1;s<a;++s)e4(t,"borderLeft","_bl",n,i,s),e4(t,"borderRight","_br",n,i,s)}}t.children().forEach(e)}function e4(t,e,n,r,i,s){var a={width:0,height:0,rank:s,borderType:e},o=i[e][s-1],l=jWe.addDummyNode(t,"border",a,n);i[e][s]=l,t.setParent(l,r),o&&t.setEdge(o,l,{weight:1})}var zWe={adjust:UWe,undo:qWe};function UWe(t){var e=t.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&gH(t)}function qWe(t){var e=t.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&HWe(t),(e==="lr"||e==="rl")&&(WWe(t),gH(t))}function gH(t){t.nodes().forEach(e=>t4(t.node(e))),t.edges().forEach(e=>t4(t.edge(e)))}function t4(t){var e=t.width;t.width=t.height,t.height=e}function HWe(t){t.nodes().forEach(e=>RE(t.node(e))),t.edges().forEach(function(e){var n=t.edge(e);n.points.forEach(RE),n.hasOwnProperty("y")&&RE(n)})}function RE(t){t.y=-t.y}function WWe(t){t.nodes().forEach(e=>ME(t.node(e))),t.edges().forEach(function(e){var n=t.edge(e);n.points.forEach(ME),n.hasOwnProperty("x")&&ME(n)})}function ME(t){var e=t.x;t.x=t.y,t.y=e}var GWe=bi,KWe=YWe;function YWe(t){var e={},n=t.nodes().filter(o=>!t.children(o).length),r=Math.max(...n.map(o=>t.node(o).rank)),i=GWe.range(r+1).map(()=>[]);function s(o){if(!e[o]){e[o]=!0;var l=t.node(o);i[l.rank].push(o),t.successors(o).forEach(s)}}var a=n.sort((o,l)=>t.node(o).rank-t.node(l).rank);return a.forEach(s),i}var JWe=bi.zipObject,XWe=QWe;function QWe(t,e){for(var n=0,r=1;r<e.length;++r)n+=ZWe(t,e[r-1],e[r]);return n}function ZWe(t,e,n){for(var r=JWe(n,n.map((u,c)=>c)),i=e.flatMap(u=>t.outEdges(u).map(c=>({pos:r[c.w],weight:t.edge(c).weight})).sort((c,f)=>c.pos-f.pos)),s=1;s<n.length;)s<<=1;var a=2*s-1;s-=1;var o=new Array(a).fill(0),l=0;return i.forEach(u=>{var c=u.pos+s;o[c]+=u.weight;for(var f=0;c>0;)c%2&&(f+=o[c+1]),c=c-1>>1,o[c]+=u.weight;l+=u.weight*f}),l}var eGe=tGe;function tGe(t,e=[]){return e.map(n=>{var r=t.inEdges(n);if(r.length){var i=r.reduce((s,a)=>{var o=t.edge(a),l=t.node(a.v);return{sum:s.sum+o.weight*l.order,weight:s.weight+o.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var nGe=bi,rGe=iGe;function iGe(t,e){var n={};t.forEach((i,s)=>{var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:s};i.barycenter!==void 0&&(a.barycenter=i.barycenter,a.weight=i.weight)}),e.edges().forEach(i=>{var s=n[i.v],a=n[i.w];s!==void 0&&a!==void 0&&(a.indegree++,s.out.push(n[i.w]))});var r=Object.values(n).filter(i=>!i.indegree);return sGe(r)}function sGe(t){var e=[];function n(s){return function(a){a.merged||(a.barycenter===void 0||s.barycenter===void 0||a.barycenter>=s.barycenter)&&aGe(s,a)}}function r(s){return function(a){a.in.push(s),--a.indegree===0&&t.push(a)}}for(;t.length;){var i=t.pop();e.push(i),i.in.reverse().forEach(n(i)),i.out.forEach(r(i))}return e.filter(s=>!s.merged).map(s=>nGe.pick(s,["vs","i","barycenter","weight"]))}function aGe(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}var oGe=bi,lGe=uGe;function uGe(t,e){var n=oGe.partition(t,function(c){return c.hasOwnProperty("barycenter")}),r=n.lhs,i=n.rhs.sort((c,f)=>f.i-c.i),s=[],a=0,o=0,l=0;r.sort(cGe(!!e)),l=n4(s,i,l),r.forEach(function(c){l+=c.vs.length,s.push(c.vs),a+=c.barycenter*c.weight,o+=c.weight,l=n4(s,i,l)});var u={vs:s.flat(!0)};return o&&(u.barycenter=a/o,u.weight=o),u}function n4(t,e,n){for(var r;e.length&&(r=e[e.length-1]).i<=n;)e.pop(),t.push(r.vs),n++;return n}function cGe(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var fGe=eGe,hGe=rGe,dGe=lGe,pGe=vH;function vH(t,e,n,r){var i=t.children(e),s=t.node(e),a=s?s.borderLeft:void 0,o=s?s.borderRight:void 0,l={};a&&(i=i.filter(_=>_!==a&&_!==o));var u=fGe(t,i);u.forEach(function(_){if(t.children(_.v).length){var S=vH(t,_.v,n,r);l[_.v]=S,S.hasOwnProperty("barycenter")&&gGe(_,S)}});var c=hGe(u,n);mGe(c,l);var f=dGe(c,r);if(a&&(f.vs=[a,f.vs,o].flat(!0),t.predecessors(a).length)){var d=t.node(t.predecessors(a)[0]),v=t.node(t.predecessors(o)[0]);f.hasOwnProperty("barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+d.order+v.order)/(f.weight+2),f.weight+=2}return f}function mGe(t,e){t.forEach(function(n){n.vs=n.vs.flatMap(function(r){return e[r]?e[r].vs:r})})}function gGe(t,e){t.barycenter!==void 0?(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight):(t.barycenter=e.barycenter,t.weight=e.weight)}var vGe=La.Graph,yGe=bi,_Ge=bGe;function bGe(t,e,n){var r=wGe(t),i=new vGe({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(s){return t.node(s)});return t.nodes().forEach(function(s){var a=t.node(s),o=t.parent(s);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(s),i.setParent(s,o||r),t[n](s).forEach(function(l){var u=l.v===s?l.w:l.v,c=i.edge(u,s),f=c!==void 0?c.weight:0;i.setEdge(u,s,{weight:t.edge(l).weight+f})}),a.hasOwnProperty("minRank")&&i.setNode(s,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i}function wGe(t){for(var e;t.hasNode(e=yGe.uniqueId("_root")););return e}var SGe=xGe;function xGe(t,e,n){var r={},i;n.forEach(function(s){for(var a=t.parent(s),o,l;a;){if(o=t.parent(a),o?(l=r[o],r[o]=a):(l=i,i=a),l&&l!==a){e.setEdge(l,a);return}a=o}})}var EGe=KWe,$Ge=XWe,AGe=pGe,PGe=_Ge,TGe=SGe,CGe=La.Graph,By=bi,kGe=OGe;function OGe(t){var e=By.maxRank(t),n=r4(t,By.range(1,e+1),"inEdges"),r=r4(t,By.range(e-1,-1,-1),"outEdges"),i=EGe(t);i4(t,i);for(var s=Number.POSITIVE_INFINITY,a,o=0,l=0;l<4;++o,++l){RGe(o%2?n:r,o%4>=2),i=By.buildLayerMatrix(t);var u=$Ge(t,i);u<s&&(l=0,a=Object.assign({},i),s=u)}i4(t,a)}function r4(t,e,n){return e.map(function(r){return PGe(t,r,n)})}function RGe(t,e){var n=new CGe;t.forEach(function(r){var i=r.graph().root,s=AGe(r,i,n,e);s.vs.forEach((a,o)=>r.node(a).order=o),TGe(r,n,s.vs)})}function i4(t,e){Object.values(e).forEach(n=>n.forEach((r,i)=>t.node(r).order=i))}var MGe=La.Graph,zg=bi,NGe={positionX:LGe,findType1Conflicts:yH,findType2Conflicts:_H,addConflict:Hk,hasConflict:bH,verticalAlignment:wH,horizontalCompaction:SH,alignCoordinates:EH,findSmallestWidthAlignment:xH,balance:$H};function yH(t,e){var n={};function r(i,s){var a=0,o=0,l=i.length,u=s[s.length-1];return s.forEach(function(c,f){var d=IGe(t,c),v=d?t.node(d).order:l;(d||c===u)&&(s.slice(o,f+1).forEach(function(_){t.predecessors(_).forEach(function(S){var b=t.node(S),y=b.order;(y<a||v<y)&&!(b.dummy&&t.node(_).dummy)&&Hk(n,S,_)})}),o=f+1,a=v)}),s}return e.reduce(r),n}function _H(t,e){var n={};function r(s,a,o,l,u){var c;zg.range(a,o).forEach(function(f){c=s[f],t.node(c).dummy&&t.predecessors(c).forEach(function(d){var v=t.node(d);v.dummy&&(v.order<l||v.order>u)&&Hk(n,d,c)})})}function i(s,a){var o=-1,l,u=0;return a.forEach(function(c,f){if(t.node(c).dummy==="border"){var d=t.predecessors(c);d.length&&(l=t.node(d[0]).order,r(a,u,f,o,l),u=f,o=l)}r(a,u,a.length,l,s.length)}),a}return e.reduce(i),n}function IGe(t,e){if(t.node(e).dummy)return t.predecessors(e).find(n=>t.node(n).dummy)}function Hk(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function bH(t,e,n){if(e>n){var r=e;e=n,n=r}return!!t[e]&&t[e].hasOwnProperty(n)}function wH(t,e,n,r){var i={},s={},a={};return e.forEach(function(o){o.forEach(function(l,u){i[l]=l,s[l]=l,a[l]=u})}),e.forEach(function(o){var l=-1;o.forEach(function(u){var c=r(u);if(c.length){c=c.sort((S,b)=>a[S]-a[b]);for(var f=(c.length-1)/2,d=Math.floor(f),v=Math.ceil(f);d<=v;++d){var _=c[d];s[u]===u&&l<a[_]&&!bH(n,u,_)&&(s[_]=u,s[u]=i[u]=i[_],l=a[_])}}})}),{root:i,align:s}}function SH(t,e,n,r,i){var s={},a=DGe(t,e,n,i),o=i?"borderLeft":"borderRight";function l(f,d){for(var v=a.nodes(),_=v.pop(),S={};_;)S[_]?f(_):(S[_]=!0,v.push(_),v=v.concat(d(_))),_=v.pop()}function u(f){s[f]=a.inEdges(f).reduce(function(d,v){return Math.max(d,s[v.v]+a.edge(v))},0)}function c(f){var d=a.outEdges(f).reduce(function(_,S){return Math.min(_,s[S.w]-a.edge(S))},Number.POSITIVE_INFINITY),v=t.node(f);d!==Number.POSITIVE_INFINITY&&v.borderType!==o&&(s[f]=Math.max(s[f],d))}return l(u,a.predecessors.bind(a)),l(c,a.successors.bind(a)),Object.keys(r).forEach(f=>s[f]=s[n[f]]),s}function DGe(t,e,n,r){var i=new MGe,s=t.graph(),a=FGe(s.nodesep,s.edgesep,r);return e.forEach(function(o){var l;o.forEach(function(u){var c=n[u];if(i.setNode(c),l){var f=n[l],d=i.edge(f,c);i.setEdge(f,c,Math.max(a(t,u,l),d||0))}l=u})}),i}function xH(t,e){return Object.values(e).reduce((n,r)=>{var i=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;Object.entries(r).forEach(([o,l])=>{var u=jGe(t,o)/2;i=Math.max(l+u,i),s=Math.min(l-u,s)});const a=i-s;return a<n[0]&&(n=[a,r]),n},[Number.POSITIVE_INFINITY,null])[1]}function EH(t,e){var n=Object.values(e),r=Math.min(...n),i=Math.max(...n);["u","d"].forEach(function(s){["l","r"].forEach(function(a){var o=s+a,l=t[o];if(l===e)return;var u=Object.values(l);let c=r-Math.min(...u);a!=="l"&&(c=i-Math.max(...u)),c&&(t[o]=zg.mapValues(l,f=>f+c))})})}function $H(t,e){return zg.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=Object.values(t).map(s=>s[r]).sort((s,a)=>s-a);return(i[1]+i[2])/2})}function LGe(t){var e=zg.buildLayerMatrix(t),n=Object.assign(yH(t,e),_H(t,e)),r={},i;["u","d"].forEach(function(a){i=a==="u"?e:Object.values(e).reverse(),["l","r"].forEach(function(o){o==="r"&&(i=i.map(f=>Object.values(f).reverse()));var l=(a==="u"?t.predecessors:t.successors).bind(t),u=wH(t,i,n,l),c=SH(t,i,u.root,u.align,o==="r");o==="r"&&(c=zg.mapValues(c,f=>-f)),r[a+o]=c})});var s=xH(t,r);return EH(r,s),$H(r,t.graph().align)}function FGe(t,e,n){return function(r,i,s){var a=r.node(i),o=r.node(s),l=0,u;if(l+=a.width/2,a.hasOwnProperty("labelpos"))switch(a.labelpos.toLowerCase()){case"l":u=-a.width/2;break;case"r":u=a.width/2;break}if(u&&(l+=n?u:-u),u=0,l+=(a.dummy?e:t)/2,l+=(o.dummy?e:t)/2,l+=o.width/2,o.hasOwnProperty("labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=o.width/2;break;case"r":u=-o.width/2;break}return u&&(l+=n?u:-u),u=0,l}}function jGe(t,e){return t.node(e).width}var AH=bi,BGe=NGe.positionX,VGe=zGe;function zGe(t){t=AH.asNonCompoundGraph(t),UGe(t),Object.entries(BGe(t)).forEach(([e,n])=>t.node(e).x=n)}function UGe(t){var e=AH.buildLayerMatrix(t),n=t.graph().ranksep,r=0;e.forEach(function(i){const s=i.reduce((a,o)=>{const l=t.node(o).height;return a>l?a:l},0);i.forEach(a=>t.node(a).y=r+s/2),r+=s+n})}var s4=QHe,a4=rWe,qGe=AWe,HGe=bi.normalizeRanks,WGe=kWe,GGe=bi.removeEmptyRanks,o4=NWe,KGe=BWe,l4=zWe,YGe=kGe,JGe=VGe,yo=bi,XGe=La.Graph,QGe=ZGe;function ZGe(t,e){var n=e&&e.debugTiming?yo.time:yo.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return uKe(t)});n("  runLayout",function(){eKe(r,n)}),n("  updateInputGraph",function(){tKe(t,r)})})}function eKe(t,e){e("    makeSpaceForEdgeLabels",function(){cKe(t)}),e("    removeSelfEdges",function(){_Ke(t)}),e("    acyclic",function(){s4.run(t)}),e("    nestingGraph.run",function(){o4.run(t)}),e("    rank",function(){qGe(yo.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){fKe(t)}),e("    removeEmptyRanks",function(){GGe(t)}),e("    nestingGraph.cleanup",function(){o4.cleanup(t)}),e("    normalizeRanks",function(){HGe(t)}),e("    assignRankMinMax",function(){hKe(t)}),e("    removeEdgeLabelProxies",function(){dKe(t)}),e("    normalize.run",function(){a4.run(t)}),e("    parentDummyChains",function(){WGe(t)}),e("    addBorderSegments",function(){KGe(t)}),e("    order",function(){YGe(t)}),e("    insertSelfEdges",function(){bKe(t)}),e("    adjustCoordinateSystem",function(){l4.adjust(t)}),e("    position",function(){JGe(t)}),e("    positionSelfEdges",function(){wKe(t)}),e("    removeBorderNodes",function(){yKe(t)}),e("    normalize.undo",function(){a4.undo(t)}),e("    fixupEdgeLabelCoords",function(){gKe(t)}),e("    undoCoordinateSystem",function(){l4.undo(t)}),e("    translateGraph",function(){pKe(t)}),e("    assignNodeIntersects",function(){mKe(t)}),e("    reversePoints",function(){vKe(t)}),e("    acyclic.undo",function(){s4.undo(t)})}function tKe(t,e){t.nodes().forEach(n=>{var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,r.rank=i.rank,e.children(n).length&&(r.width=i.width,r.height=i.height))}),t.edges().forEach(n=>{var r=t.edge(n),i=e.edge(n);r.points=i.points,i.hasOwnProperty("x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}var nKe=["nodesep","edgesep","ranksep","marginx","marginy"],rKe={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},iKe=["acyclicer","ranker","rankdir","align"],sKe=["width","height"],u4={width:0,height:0},aKe=["minlen","weight","width","height","labeloffset"],oKe={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},lKe=["labelpos"];function uKe(t){var e=new XGe({multigraph:!0,compound:!0}),n=IE(t.graph());return e.setGraph(Object.assign({},rKe,NE(n,nKe),yo.pick(n,iKe))),t.nodes().forEach(r=>{var i=IE(t.node(r));const s=NE(i,sKe);Object.keys(u4).forEach(a=>{s[a]===void 0&&(s[a]=u4[a])}),e.setNode(r,s),e.setParent(r,t.parent(r))}),t.edges().forEach(r=>{var i=IE(t.edge(r));e.setEdge(r,Object.assign({},oKe,NE(i,aKe),yo.pick(i,lKe)))}),e}function cKe(t){var e=t.graph();e.ranksep/=2,t.edges().forEach(n=>{var r=t.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function fKe(t){t.edges().forEach(e=>{var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),s={rank:(i.rank-r.rank)/2+r.rank,e};yo.addDummyNode(t,"edge-proxy",s,"_ep")}})}function hKe(t){var e=0;t.nodes().forEach(n=>{var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Math.max(e,r.maxRank))}),t.graph().maxRank=e}function dKe(t){t.nodes().forEach(e=>{var n=t.node(e);n.dummy==="edge-proxy"&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function pKe(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,s=t.graph(),a=s.marginx||0,o=s.marginy||0;function l(u){var c=u.x,f=u.y,d=u.width,v=u.height;e=Math.min(e,c-d/2),n=Math.max(n,c+d/2),r=Math.min(r,f-v/2),i=Math.max(i,f+v/2)}t.nodes().forEach(u=>l(t.node(u))),t.edges().forEach(u=>{var c=t.edge(u);c.hasOwnProperty("x")&&l(c)}),e-=a,r-=o,t.nodes().forEach(u=>{var c=t.node(u);c.x-=e,c.y-=r}),t.edges().forEach(u=>{var c=t.edge(u);c.points.forEach(f=>{f.x-=e,f.y-=r}),c.hasOwnProperty("x")&&(c.x-=e),c.hasOwnProperty("y")&&(c.y-=r)}),s.width=n-e+a,s.height=i-r+o}function mKe(t){t.edges().forEach(e=>{var n=t.edge(e),r=t.node(e.v),i=t.node(e.w),s,a;n.points?(s=n.points[0],a=n.points[n.points.length-1]):(n.points=[],s=i,a=r),n.points.unshift(yo.intersectRect(r,s)),n.points.push(yo.intersectRect(i,a))})}function gKe(t){t.edges().forEach(e=>{var n=t.edge(e);if(n.hasOwnProperty("x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function vKe(t){t.edges().forEach(e=>{var n=t.edge(e);n.reversed&&n.points.reverse()})}function yKe(t){t.nodes().forEach(e=>{if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),s=t.node(n.borderLeft[n.borderLeft.length-1]),a=t.node(n.borderRight[n.borderRight.length-1]);n.width=Math.abs(a.x-s.x),n.height=Math.abs(i.y-r.y),n.x=s.x+n.width/2,n.y=r.y+n.height/2}}),t.nodes().forEach(e=>{t.node(e).dummy==="border"&&t.removeNode(e)})}function _Ke(t){t.edges().forEach(e=>{if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}})}function bKe(t){var e=yo.buildLayerMatrix(t);e.forEach(n=>{var r=0;n.forEach((i,s)=>{var a=t.node(i);a.order=s+r,(a.selfEdges||[]).forEach(o=>{yo.addDummyNode(t,"selfedge",{width:o.label.width,height:o.label.height,rank:a.rank,order:s+ ++r,e:o.e,label:o.label},"_se")}),delete a.selfEdges})})}function wKe(t){t.nodes().forEach(e=>{var n=t.node(e);if(n.dummy==="selfedge"){var r=t.node(n.e.v),i=r.x+r.width/2,s=r.y,a=n.x-i,o=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:s-o},{x:i+5*a/6,y:s-o},{x:i+a,y:s},{x:i+5*a/6,y:s+o},{x:i+2*a/3,y:s+o}],n.label.x=n.x,n.label.y=n.y}})}function NE(t,e){return yo.mapValues(yo.pick(t,e),Number)}function IE(t){var e={};return t&&Object.entries(t).forEach(([n,r])=>{typeof n=="string"&&(n=n.toLowerCase()),e[n]=r}),e}var SKe=bi,xKe=La.Graph,EKe={debugOrdering:$Ke};function $Ke(t){var e=SKe.buildLayerMatrix(t),n=new xKe({compound:!0,multigraph:!0}).setGraph({});return t.nodes().forEach(function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+t.node(r).rank)}),t.edges().forEach(function(r){n.setEdge(r.v,r.w,{},r.name)}),e.forEach(function(r,i){var s="layer"+i;n.setNode(s,{rank:"same"}),r.reduce(function(a,o){return n.setEdge(a,o,{style:"invis"}),o})}),n}var AKe="1.0.2",PH={graphlib:La,layout:QGe,debug:EKe,util:{time:bi.time,notime:bi.notime},version:AKe};const PKe=Tr(PH),TKe=h4({__proto__:null,default:PKe},[PH]);let $i,cr;const CKe=In({data(){return{panX:0,panY:0,clickX:0,clickY:0,isPanning:!1}},computed:{isAddingElements(){return this.uiStateStore.mode===hP||this.uiStateStore.mode===dP},isPannableMode(){return this.uiStateStore.mode===hc&&!this.isPanning},isPanningMode(){return this.uiStateStore.mode===hc&&this.isPanning},...Gc(sl)},watch:{"uiStateStore.mode"(t){this.onModeChange(t)}},mounted(){const t=Aqe,e=xqe;cr=new $u,$i=new rqe({el:document.getElementById("jointCanvas"),cellViewNamespace:{pn:t},model:cr,width:window.innerWidth,height:window.innerHeight,gridSize:12,drawGrid:!0,background:{color:"#f6f6f6"},linkPinning:!1,defaultLink:()=>new e.Link,defaultAnchor:{name:"modelCenter"},defaultConnectionPoint:{name:"boundary"},markAvailable:!0,validateConnection:(r,i,s,a,o,l)=>!(s.model.isLink()||r.model.isLink()||s.model.get("jsonnetsType")===r.model.get("jsonnetsType"))}),$i.on("blank:pointerclick",(r,i,s)=>{this.onPaperClick(i,s)}),$i.on("element:mouseenter",r=>{(this.uiStateStore.mode===E_||this.uiStateStore.mode===hc)&&r.showTools()}),$i.on("element:mouseleave",r=>{r.hideTools()}),$i.on("link:mouseenter",r=>{(this.uiStateStore.mode===E_||this.uiStateStore.mode===hc)&&r.showTools()}),$i.on("link:mouseleave",r=>{r.hideTools()}),$i.on("blank:pointerdown",(r,i,s)=>{this.onDragStart(i,s)});const n=document.getElementById("jointCanvas");n&&(n.onmousemove=r=>{this.onMouseMove(r)}),$i.on("cell:pointerup blank:pointerup",()=>{this.onDragEnd()}),$i.on("link:connect",r=>{let i=r.model.target().id,s=r.model.source().id;cr.removeCells([r.model]),n6(String(s),String(i))}),ahe(this.onJsonnetsEvent)},methods:{onModeChange(t){if($i.removeTools(),t===E_){const e=cr.getElements();for(let n=0;n<e.length;n++)e[n].addConnectTools($i)}else if(t===hc){const e=cr.getElements();for(let r=0;r<e.length;r++)e[r].addInteractionTools($i);const n=cr.getLinks();for(let r=0;r<n.length;r++)n[r].addInteractionTools($i)}else if(t===CH)this.updateGraphLayout(),this.uiStateStore.mode=TH;else if(t===pP){let e=setInterval(()=>{this.uiStateStore.mode!==pP?clearInterval(e):she()},1500)}},onJsonnetsEvent(t,e){if(t===jV){var n=new kqe(this.clickX,this.clickY,e.name,e.id);n.addTo(cr)}else if(t===BV)new Oqe(this.clickX,this.clickY,e.name,e.id).addTo(cr);else if(t===UV)new Cqe(e.from,e.to,e.arcID,e.jsonnetsType).addTo(cr);else if(t===GV||t===KV)cr.removeCells([cr.getCell(e)]);else if(t===WV)cr.removeCells([cr.getCell(e)]);else if(t===VV){const i=cr.getCell(e.placeID);i.set("tokens",e.num),i.attr(".label/text",e.name)}else if(t===zV)cr.getCell(e.transitionID).attr(".label/text",e.name);else if(t===HV||t===qV){const i=cr.getCell(e.arcID);cr.getCell(e.placeID).set("tokens",e.num);var r=He("circle",{r:5,fill:"#feb662"});let a=1;i.findView($i).sendToken(r,a*1e3)}else t===YV&&(this.updateGraphLayout(),e.isExample&&(cr.getCell("167d54d6-3a73-40f7-b317-0aa3580a44ac").set("position",{x:0,y:144}),cr.getCell("48b440c6-43fc-4df6-b874-f758137e90e5").set("position",{x:48,y:-12}),cr.getCell("1952db8b-764c-45da-b2d4-8b1537400377").set("position",{x:144,y:144}),cr.getCell("9a172fc4-04cd-49d1-94f3-b8b62d2aed42").set("position",{x:348,y:144}),cr.getCell("846b0b51-9981-40ad-a36a-5ee873f4de5a").set("position",{x:288,y:-12}),cr.getCell("0e1c227f-c03b-4969-be2b-9b151898a35c").set("position",{x:504,y:48}),cr.getCell("82ca126e-1b63-40ad-9f92-d156da6823b8").set("position",{x:504,y:240}),cr.getCell("daa76eb3-c88c-4f29-9903-43f2892d70da").set("position",{x:708,y:144}),cr.getCell("e6caf7c5-fe05-47fa-8179-cf3b7b3cad2a").set("position",{x:528,y:-96})))},onPaperClick(t,e){this.clickX=t,this.clickY=e,this.uiStateStore.mode===hP?JV():this.uiStateStore.mode===dP&&e6()},updateGraphLayout(){$i.freeze(),Vg.layout(cr,{nodeSep:100,edgeSep:100,rankSep:100,rankDir:"LR",dagre:TKe,graphlib:EHe}),$i.translate(100,200),$i.unfreeze()},onDragStart(t,e){var n;this.uiStateStore.mode===hc&&(this.isPanning=!0,(n=document.getElementById("canvasContainer"))==null||n.classList.add("panning-mode"),this.panX=t,this.panY=e)},onDragEnd(){var t;this.uiStateStore.mode===hc&&((t=document.getElementById("canvasContainer"))==null||t.classList.remove("panning-mode"),this.isPanning=!1)},onMouseMove(t){this.isPanning&&$i.translate(t.offsetX-this.panX,t.offsetY-this.panY)}}});const kKe=t=>(_1("data-v-7d33d202"),t=t(),b1(),t),OKe=kKe(()=>le("div",{id:"jointCanvas"},null,-1)),RKe=[OKe];function MKe(t,e,n,r,i,s){return ot(),Mt("div",{id:"canvasContainer",class:Ht({"scoped-canvas-add":t.isAddingElements,"scoped-canvas-panning":t.isPanningMode,"scoped-canvas-pannable":t.isPannableMode})},RKe,2)}const NKe=Ia(CKe,[["render",MKe],["__scopeId","data-v-7d33d202"]]),IKe={id:"menu"},TH="MODE_NONE",hP="MODE_ADD_PLACE",dP="MODE_ADD_TRANSITION",hc="MODE_MOVE",E_="MODE_CONNECT_START",CH="MODE_LAYOUT",DKe="MODE_UPLOAD",LKe="MODE_EXAMPLE",pP="MODE_PLAY",FKe="MODE_HELP",kH="INSPECTOR_MODE_TRANSITION",OH="INSPECTOR_MODE_PLACE",RH="INSPECTOR_MODE_PRESET_ARC",MH="INSPECTOR_MODE_POSTSET_ARC",jKe=In({__name:"App",setup(t){const e=sl();return(n,r)=>(ot(),Mt(fr,null,[_t(NKe),le("div",IKe,[_t(lc,{icon:"fas fa-circle",mode:hP}),_t(lc,{icon:"fas fa-square",mode:dP}),_t(lc,{icon:"fas fa-arrow-right",mode:E_}),_t(lc,{icon:"fas fa-wand-magic-sparkles",mode:CH}),_t(lc,{icon:"fas fa-mouse-pointer",mode:hc}),_t(lc,{icon:"fas fa-play-circle",mode:pP}),_t(lc,{icon:"fas fa-file-arrow-down",mode:DKe,callback:()=>{Xs(c6e)(Xs(rhe)(),"export.json","application/json")}},null,8,["callback"]),le("input",{class:"button is-primary is-outlined",style:{"margin-left":"15px"},type:"file",name:"resume",onChange:r[0]||(r[0]=i=>{Xs(u6e)(i,Xs(lD))})},null,32),le("button",{style:{"margin-left":"15px"},onClick:r[1]||(r[1]=YP(()=>{Xs(e).setMode(LKe),Xs(lD)("example",Xs(eue))},["stop"])),class:"button is-primary is-outlined"}," Load Example "),_t(lc,{icon:"fas fa-question",mode:FKe,callback:()=>{Xs(e).showHelpModal=!0}},null,8,["callback"])]),Xs(e).showPresetModal?(ot(),sr(zde,{key:0})):mr("",!0),Xs(e).showPostsetModal?(ot(),sr(dme,{key:1})):mr("",!0),Xs(e).showTransitionModal?(ot(),sr(Zme,{key:2})):mr("",!0),Xs(e).showPlaceModal?(ot(),sr(s6e,{key:3})):mr("",!0),Xs(e).showHelpModal?(ot(),sr(ope,{key:4})):mr("",!0)],64))}});mZ.add(jle,Dle,Fle,Ble,Ole,Mle,Tle,Ile,Ule,zle,Hle,Ale,Cle,Lle);const Wk=jte(jKe).component("font-awesome-icon",Jte);Wk.use(Gle());Wk.use(Ele,{extensions:[]});Wk.mount("#app");
